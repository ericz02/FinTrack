var YE=Object.defineProperty;var XE=(y,k,j)=>k in y?YE(y,k,{enumerable:!0,configurable:!0,writable:!0,value:j}):y[k]=j;var pd=(y,k,j)=>(XE(y,typeof k!="symbol"?k+"":k,j),j);function ZE(y,k){for(var j=0;j<k.length;j++){const se=k[j];if(typeof se!="string"&&!Array.isArray(se)){for(const me in se)if(me!=="default"&&!(me in y)){const Pe=Object.getOwnPropertyDescriptor(se,me);Pe&&Object.defineProperty(y,me,Pe.get?Pe:{enumerable:!0,get:()=>se[me]})}}}return Object.freeze(Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}))}(function(){const k=document.createElement("link").relList;if(k&&k.supports&&k.supports("modulepreload"))return;for(const me of document.querySelectorAll('link[rel="modulepreload"]'))se(me);new MutationObserver(me=>{for(const Pe of me)if(Pe.type==="childList")for(const H of Pe.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&se(H)}).observe(document,{childList:!0,subtree:!0});function j(me){const Pe={};return me.integrity&&(Pe.integrity=me.integrity),me.referrerPolicy&&(Pe.referrerPolicy=me.referrerPolicy),me.crossOrigin==="use-credentials"?Pe.credentials="include":me.crossOrigin==="anonymous"?Pe.credentials="omit":Pe.credentials="same-origin",Pe}function se(me){if(me.ep)return;me.ep=!0;const Pe=j(me);fetch(me.href,Pe)}})();function RT(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}function Fc(y){if(y.__esModule)return y;var k=y.default;if(typeof k=="function"){var j=function se(){return this instanceof se?Reflect.construct(k,arguments,this.constructor):k.apply(this,arguments)};j.prototype=k.prototype}else j={};return Object.defineProperty(j,"__esModule",{value:!0}),Object.keys(y).forEach(function(se){var me=Object.getOwnPropertyDescriptor(y,se);Object.defineProperty(j,se,me.get?me:{enumerable:!0,get:function(){return y[se]}})}),j}var DT={exports:{}},Hy={},IT={exports:{}},xi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=Symbol.for("react.element"),KE=Symbol.for("react.portal"),JE=Symbol.for("react.fragment"),$E=Symbol.for("react.strict_mode"),QE=Symbol.for("react.profiler"),qE=Symbol.for("react.provider"),eC=Symbol.for("react.context"),tC=Symbol.for("react.forward_ref"),rC=Symbol.for("react.suspense"),nC=Symbol.for("react.memo"),aC=Symbol.for("react.lazy"),d2=Symbol.iterator;function iC(y){return y===null||typeof y!="object"?null:(y=d2&&y[d2]||y["@@iterator"],typeof y=="function"?y:null)}var kT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_T=Object.assign,OT={};function qd(y,k,j){this.props=y,this.context=k,this.refs=OT,this.updater=j||kT}qd.prototype.isReactComponent={};qd.prototype.setState=function(y,k){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,k,"setState")};qd.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function zT(){}zT.prototype=qd.prototype;function Cb(y,k,j){this.props=y,this.context=k,this.refs=OT,this.updater=j||kT}var Lb=Cb.prototype=new zT;Lb.constructor=Cb;_T(Lb,qd.prototype);Lb.isPureReactComponent=!0;var p2=Array.isArray,FT=Object.prototype.hasOwnProperty,Pb={current:null},NT={key:!0,ref:!0,__self:!0,__source:!0};function BT(y,k,j){var se,me={},Pe=null,H=null;if(k!=null)for(se in k.ref!==void 0&&(H=k.ref),k.key!==void 0&&(Pe=""+k.key),k)FT.call(k,se)&&!NT.hasOwnProperty(se)&&(me[se]=k[se]);var G=arguments.length-2;if(G===1)me.children=j;else if(1<G){for(var e=Array(G),g=0;g<G;g++)e[g]=arguments[g+2];me.children=e}if(y&&y.defaultProps)for(se in G=y.defaultProps,G)me[se]===void 0&&(me[se]=G[se]);return{$$typeof:D0,type:y,key:Pe,ref:H,props:me,_owner:Pb.current}}function oC(y,k){return{$$typeof:D0,type:y.type,key:k,ref:y.ref,props:y.props,_owner:y._owner}}function Rb(y){return typeof y=="object"&&y!==null&&y.$$typeof===D0}function sC(y){var k={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(j){return k[j]})}var g2=/\/+/g;function S1(y,k){return typeof y=="object"&&y!==null&&y.key!=null?sC(""+y.key):k.toString(36)}function Ug(y,k,j,se,me){var Pe=typeof y;(Pe==="undefined"||Pe==="boolean")&&(y=null);var H=!1;if(y===null)H=!0;else switch(Pe){case"string":case"number":H=!0;break;case"object":switch(y.$$typeof){case D0:case KE:H=!0}}if(H)return H=y,me=me(H),y=se===""?"."+S1(H,0):se,p2(me)?(j="",y!=null&&(j=y.replace(g2,"$&/")+"/"),Ug(me,k,j,"",function(g){return g})):me!=null&&(Rb(me)&&(me=oC(me,j+(!me.key||H&&H.key===me.key?"":(""+me.key).replace(g2,"$&/")+"/")+y)),k.push(me)),1;if(H=0,se=se===""?".":se+":",p2(y))for(var G=0;G<y.length;G++){Pe=y[G];var e=se+S1(Pe,G);H+=Ug(Pe,k,j,e,me)}else if(e=iC(y),typeof e=="function")for(y=e.call(y),G=0;!(Pe=y.next()).done;)Pe=Pe.value,e=se+S1(Pe,G++),H+=Ug(Pe,k,j,e,me);else if(Pe==="object")throw k=String(y),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return H}function mg(y,k,j){if(y==null)return y;var se=[],me=0;return Ug(y,se,"","",function(Pe){return k.call(j,Pe,me++)}),se}function lC(y){if(y._status===-1){var k=y._result;k=k(),k.then(function(j){(y._status===0||y._status===-1)&&(y._status=1,y._result=j)},function(j){(y._status===0||y._status===-1)&&(y._status=2,y._result=j)}),y._status===-1&&(y._status=0,y._result=k)}if(y._status===1)return y._result.default;throw y._result}var sl={current:null},Vg={transition:null},uC={ReactCurrentDispatcher:sl,ReactCurrentBatchConfig:Vg,ReactCurrentOwner:Pb};xi.Children={map:mg,forEach:function(y,k,j){mg(y,function(){k.apply(this,arguments)},j)},count:function(y){var k=0;return mg(y,function(){k++}),k},toArray:function(y){return mg(y,function(k){return k})||[]},only:function(y){if(!Rb(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};xi.Component=qd;xi.Fragment=JE;xi.Profiler=QE;xi.PureComponent=Cb;xi.StrictMode=$E;xi.Suspense=rC;xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uC;xi.cloneElement=function(y,k,j){if(y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+y+".");var se=_T({},y.props),me=y.key,Pe=y.ref,H=y._owner;if(k!=null){if(k.ref!==void 0&&(Pe=k.ref,H=Pb.current),k.key!==void 0&&(me=""+k.key),y.type&&y.type.defaultProps)var G=y.type.defaultProps;for(e in k)FT.call(k,e)&&!NT.hasOwnProperty(e)&&(se[e]=k[e]===void 0&&G!==void 0?G[e]:k[e])}var e=arguments.length-2;if(e===1)se.children=j;else if(1<e){G=Array(e);for(var g=0;g<e;g++)G[g]=arguments[g+2];se.children=G}return{$$typeof:D0,type:y.type,key:me,ref:Pe,props:se,_owner:H}};xi.createContext=function(y){return y={$$typeof:eC,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},y.Provider={$$typeof:qE,_context:y},y.Consumer=y};xi.createElement=BT;xi.createFactory=function(y){var k=BT.bind(null,y);return k.type=y,k};xi.createRef=function(){return{current:null}};xi.forwardRef=function(y){return{$$typeof:tC,render:y}};xi.isValidElement=Rb;xi.lazy=function(y){return{$$typeof:aC,_payload:{_status:-1,_result:y},_init:lC}};xi.memo=function(y,k){return{$$typeof:nC,type:y,compare:k===void 0?null:k}};xi.startTransition=function(y){var k=Vg.transition;Vg.transition={};try{y()}finally{Vg.transition=k}};xi.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xi.useCallback=function(y,k){return sl.current.useCallback(y,k)};xi.useContext=function(y){return sl.current.useContext(y)};xi.useDebugValue=function(){};xi.useDeferredValue=function(y){return sl.current.useDeferredValue(y)};xi.useEffect=function(y,k){return sl.current.useEffect(y,k)};xi.useId=function(){return sl.current.useId()};xi.useImperativeHandle=function(y,k,j){return sl.current.useImperativeHandle(y,k,j)};xi.useInsertionEffect=function(y,k){return sl.current.useInsertionEffect(y,k)};xi.useLayoutEffect=function(y,k){return sl.current.useLayoutEffect(y,k)};xi.useMemo=function(y,k){return sl.current.useMemo(y,k)};xi.useReducer=function(y,k,j){return sl.current.useReducer(y,k,j)};xi.useRef=function(y){return sl.current.useRef(y)};xi.useState=function(y){return sl.current.useState(y)};xi.useSyncExternalStore=function(y,k,j){return sl.current.useSyncExternalStore(y,k,j)};xi.useTransition=function(){return sl.current.useTransition()};xi.version="18.3.0";IT.exports=xi;var Vn=IT.exports;const Bi=RT(Vn),fy=ZE({__proto__:null,default:Bi},[Vn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC=Vn,cC=Symbol.for("react.element"),hC=Symbol.for("react.fragment"),vC=Object.prototype.hasOwnProperty,dC=fC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pC={key:!0,ref:!0,__self:!0,__source:!0};function UT(y,k,j){var se,me={},Pe=null,H=null;j!==void 0&&(Pe=""+j),k.key!==void 0&&(Pe=""+k.key),k.ref!==void 0&&(H=k.ref);for(se in k)vC.call(k,se)&&!pC.hasOwnProperty(se)&&(me[se]=k[se]);if(y&&y.defaultProps)for(se in k=y.defaultProps,k)me[se]===void 0&&(me[se]=k[se]);return{$$typeof:cC,type:y,key:Pe,ref:H,props:me,_owner:dC.current}}Hy.Fragment=hC;Hy.jsx=UT;Hy.jsxs=UT;DT.exports=Hy;var er=DT.exports,hx={},VT={exports:{}},Jl={},HT={exports:{}},GT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(y){function k(M,s){var E=M.length;M.push(s);e:for(;0<E;){var w=E-1>>>1,O=M[w];if(0<me(O,s))M[w]=s,M[E]=O,E=w;else break e}}function j(M){return M.length===0?null:M[0]}function se(M){if(M.length===0)return null;var s=M[0],E=M.pop();if(E!==s){M[0]=E;e:for(var w=0,O=M.length,_=O>>>1;w<_;){var U=2*(w+1)-1,z=M[U],F=U+1,B=M[F];if(0>me(z,E))F<O&&0>me(B,z)?(M[w]=B,M[F]=E,w=F):(M[w]=z,M[U]=E,w=U);else if(F<O&&0>me(B,E))M[w]=B,M[F]=E,w=F;else break e}}return s}function me(M,s){var E=M.sortIndex-s.sortIndex;return E!==0?E:M.id-s.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Pe=performance;y.unstable_now=function(){return Pe.now()}}else{var H=Date,G=H.now();y.unstable_now=function(){return H.now()-G}}var e=[],g=[],R=1,a=null,C=3,S=!1,v=!1,d=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,i=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(M){for(var s=j(g);s!==null;){if(s.callback===null)se(g);else if(s.startTime<=M)se(g),s.sortIndex=s.expirationTime,k(e,s);else break;s=j(g)}}function f(M){if(d=!1,n(M),!v)if(j(e)!==null)v=!0,x(u);else{var s=j(g);s!==null&&L(f,s.startTime-M)}}function u(M,s){v=!1,d&&(d=!1,t(c),c=-1),S=!0;var E=C;try{for(n(s),a=j(e);a!==null&&(!(a.expirationTime>s)||M&&!o());){var w=a.callback;if(typeof w=="function"){a.callback=null,C=a.priorityLevel;var O=w(a.expirationTime<=s);s=y.unstable_now(),typeof O=="function"?a.callback=O:a===j(e)&&se(e),n(s)}else se(e);a=j(e)}if(a!==null)var _=!0;else{var U=j(g);U!==null&&L(f,U.startTime-s),_=!1}return _}finally{a=null,C=E,S=!1}}var l=!1,m=null,c=-1,A=5,h=-1;function o(){return!(y.unstable_now()-h<A)}function p(){if(m!==null){var M=y.unstable_now();h=M;var s=!0;try{s=m(!0,M)}finally{s?b():(l=!1,m=null)}}else l=!1}var b;if(typeof i=="function")b=function(){i(p)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,P=T.port2;T.port1.onmessage=p,b=function(){P.postMessage(null)}}else b=function(){r(p,0)};function x(M){m=M,l||(l=!0,b())}function L(M,s){c=r(function(){M(y.unstable_now())},s)}y.unstable_IdlePriority=5,y.unstable_ImmediatePriority=1,y.unstable_LowPriority=4,y.unstable_NormalPriority=3,y.unstable_Profiling=null,y.unstable_UserBlockingPriority=2,y.unstable_cancelCallback=function(M){M.callback=null},y.unstable_continueExecution=function(){v||S||(v=!0,x(u))},y.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},y.unstable_getCurrentPriorityLevel=function(){return C},y.unstable_getFirstCallbackNode=function(){return j(e)},y.unstable_next=function(M){switch(C){case 1:case 2:case 3:var s=3;break;default:s=C}var E=C;C=s;try{return M()}finally{C=E}},y.unstable_pauseExecution=function(){},y.unstable_requestPaint=function(){},y.unstable_runWithPriority=function(M,s){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var E=C;C=M;try{return s()}finally{C=E}},y.unstable_scheduleCallback=function(M,s,E){var w=y.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?w+E:w):E=w,M){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=E+O,M={id:R++,callback:s,priorityLevel:M,startTime:E,expirationTime:O,sortIndex:-1},E>w?(M.sortIndex=E,k(g,M),j(e)===null&&M===j(g)&&(d?(t(c),c=-1):d=!0,L(f,E-w))):(M.sortIndex=O,k(e,M),v||S||(v=!0,x(u))),M},y.unstable_shouldYield=o,y.unstable_wrapCallback=function(M){var s=C;return function(){var E=C;C=s;try{return M.apply(this,arguments)}finally{C=E}}}})(GT);HT.exports=GT;var gC=HT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC=Vn,Kl=gC;function ba(y){for(var k="https://reactjs.org/docs/error-decoder.html?invariant="+y,j=1;j<arguments.length;j++)k+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+y+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WT=new Set,n0={};function Bv(y,k){Wd(y,k),Wd(y+"Capture",k)}function Wd(y,k){for(n0[y]=k,y=0;y<k.length;y++)WT.add(k[y])}var Ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vx=Object.prototype.hasOwnProperty,mC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y2={},m2={};function xC(y){return vx.call(m2,y)?!0:vx.call(y2,y)?!1:mC.test(y)?m2[y]=!0:(y2[y]=!0,!1)}function bC(y,k,j,se){if(j!==null&&j.type===0)return!1;switch(typeof k){case"function":case"symbol":return!0;case"boolean":return se?!1:j!==null?!j.acceptsBooleans:(y=y.toLowerCase().slice(0,5),y!=="data-"&&y!=="aria-");default:return!1}}function wC(y,k,j,se){if(k===null||typeof k>"u"||bC(y,k,j,se))return!0;if(se)return!1;if(j!==null)switch(j.type){case 3:return!k;case 4:return k===!1;case 5:return isNaN(k);case 6:return isNaN(k)||1>k}return!1}function ll(y,k,j,se,me,Pe,H){this.acceptsBooleans=k===2||k===3||k===4,this.attributeName=se,this.attributeNamespace=me,this.mustUseProperty=j,this.propertyName=y,this.type=k,this.sanitizeURL=Pe,this.removeEmptyString=H}var Is={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(y){Is[y]=new ll(y,0,!1,y,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(y){var k=y[0];Is[k]=new ll(k,1,!1,y[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(y){Is[y]=new ll(y,2,!1,y.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(y){Is[y]=new ll(y,2,!1,y,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(y){Is[y]=new ll(y,3,!1,y.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(y){Is[y]=new ll(y,3,!0,y,null,!1,!1)});["capture","download"].forEach(function(y){Is[y]=new ll(y,4,!1,y,null,!1,!1)});["cols","rows","size","span"].forEach(function(y){Is[y]=new ll(y,6,!1,y,null,!1,!1)});["rowSpan","start"].forEach(function(y){Is[y]=new ll(y,5,!1,y.toLowerCase(),null,!1,!1)});var Db=/[\-:]([a-z])/g;function Ib(y){return y[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(y){var k=y.replace(Db,Ib);Is[k]=new ll(k,1,!1,y,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(y){var k=y.replace(Db,Ib);Is[k]=new ll(k,1,!1,y,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(y){var k=y.replace(Db,Ib);Is[k]=new ll(k,1,!1,y,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(y){Is[y]=new ll(y,1,!1,y.toLowerCase(),null,!1,!1)});Is.xlinkHref=new ll("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(y){Is[y]=new ll(y,1,!1,y.toLowerCase(),null,!0,!0)});function kb(y,k,j,se){var me=Is.hasOwnProperty(k)?Is[k]:null;(me!==null?me.type!==0:se||!(2<k.length)||k[0]!=="o"&&k[0]!=="O"||k[1]!=="n"&&k[1]!=="N")&&(wC(k,j,me,se)&&(j=null),se||me===null?xC(k)&&(j===null?y.removeAttribute(k):y.setAttribute(k,""+j)):me.mustUseProperty?y[me.propertyName]=j===null?me.type===3?!1:"":j:(k=me.attributeName,se=me.attributeNamespace,j===null?y.removeAttribute(k):(me=me.type,j=me===3||me===4&&j===!0?"":""+j,se?y.setAttributeNS(se,k,j):y.setAttribute(k,j))))}var Nc=yC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xg=Symbol.for("react.element"),Ad=Symbol.for("react.portal"),Sd=Symbol.for("react.fragment"),_b=Symbol.for("react.strict_mode"),dx=Symbol.for("react.profiler"),jT=Symbol.for("react.provider"),YT=Symbol.for("react.context"),Ob=Symbol.for("react.forward_ref"),px=Symbol.for("react.suspense"),gx=Symbol.for("react.suspense_list"),zb=Symbol.for("react.memo"),Ch=Symbol.for("react.lazy"),XT=Symbol.for("react.offscreen"),x2=Symbol.iterator;function Rp(y){return y===null||typeof y!="object"?null:(y=x2&&y[x2]||y["@@iterator"],typeof y=="function"?y:null)}var Co=Object.assign,M1;function Vp(y){if(M1===void 0)try{throw Error()}catch(j){var k=j.stack.trim().match(/\n( *(at )?)/);M1=k&&k[1]||""}return`
`+M1+y}var E1=!1;function C1(y,k){if(!y||E1)return"";E1=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(k)if(k=function(){throw Error()},Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(g){var se=g}Reflect.construct(y,[],k)}else{try{k.call()}catch(g){se=g}y.call(k.prototype)}else{try{throw Error()}catch(g){se=g}y()}}catch(g){if(g&&se&&typeof g.stack=="string"){for(var me=g.stack.split(`
`),Pe=se.stack.split(`
`),H=me.length-1,G=Pe.length-1;1<=H&&0<=G&&me[H]!==Pe[G];)G--;for(;1<=H&&0<=G;H--,G--)if(me[H]!==Pe[G]){if(H!==1||G!==1)do if(H--,G--,0>G||me[H]!==Pe[G]){var e=`
`+me[H].replace(" at new "," at ");return y.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",y.displayName)),e}while(1<=H&&0<=G);break}}}finally{E1=!1,Error.prepareStackTrace=j}return(y=y?y.displayName||y.name:"")?Vp(y):""}function TC(y){switch(y.tag){case 5:return Vp(y.type);case 16:return Vp("Lazy");case 13:return Vp("Suspense");case 19:return Vp("SuspenseList");case 0:case 2:case 15:return y=C1(y.type,!1),y;case 11:return y=C1(y.type.render,!1),y;case 1:return y=C1(y.type,!0),y;default:return""}}function yx(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case Sd:return"Fragment";case Ad:return"Portal";case dx:return"Profiler";case _b:return"StrictMode";case px:return"Suspense";case gx:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case YT:return(y.displayName||"Context")+".Consumer";case jT:return(y._context.displayName||"Context")+".Provider";case Ob:var k=y.render;return y=y.displayName,y||(y=k.displayName||k.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case zb:return k=y.displayName||null,k!==null?k:yx(y.type)||"Memo";case Ch:k=y._payload,y=y._init;try{return yx(y(k))}catch{}}return null}function AC(y){var k=y.type;switch(y.tag){case 24:return"Cache";case 9:return(k.displayName||"Context")+".Consumer";case 10:return(k._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return y=k.render,y=y.displayName||y.name||"",k.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case 7:return"Fragment";case 5:return k;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yx(k);case 8:return k===_b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k}return null}function Wh(y){switch(typeof y){case"boolean":case"number":case"string":case"undefined":return y;case"object":return y;default:return""}}function ZT(y){var k=y.type;return(y=y.nodeName)&&y.toLowerCase()==="input"&&(k==="checkbox"||k==="radio")}function SC(y){var k=ZT(y)?"checked":"value",j=Object.getOwnPropertyDescriptor(y.constructor.prototype,k),se=""+y[k];if(!y.hasOwnProperty(k)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var me=j.get,Pe=j.set;return Object.defineProperty(y,k,{configurable:!0,get:function(){return me.call(this)},set:function(H){se=""+H,Pe.call(this,H)}}),Object.defineProperty(y,k,{enumerable:j.enumerable}),{getValue:function(){return se},setValue:function(H){se=""+H},stopTracking:function(){y._valueTracker=null,delete y[k]}}}}function bg(y){y._valueTracker||(y._valueTracker=SC(y))}function KT(y){if(!y)return!1;var k=y._valueTracker;if(!k)return!0;var j=k.getValue(),se="";return y&&(se=ZT(y)?y.checked?"true":"false":y.value),y=se,y!==j?(k.setValue(y),!0):!1}function cy(y){if(y=y||(typeof document<"u"?document:void 0),typeof y>"u")return null;try{return y.activeElement||y.body}catch{return y.body}}function mx(y,k){var j=k.checked;return Co({},k,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??y._wrapperState.initialChecked})}function b2(y,k){var j=k.defaultValue==null?"":k.defaultValue,se=k.checked!=null?k.checked:k.defaultChecked;j=Wh(k.value!=null?k.value:j),y._wrapperState={initialChecked:se,initialValue:j,controlled:k.type==="checkbox"||k.type==="radio"?k.checked!=null:k.value!=null}}function JT(y,k){k=k.checked,k!=null&&kb(y,"checked",k,!1)}function xx(y,k){JT(y,k);var j=Wh(k.value),se=k.type;if(j!=null)se==="number"?(j===0&&y.value===""||y.value!=j)&&(y.value=""+j):y.value!==""+j&&(y.value=""+j);else if(se==="submit"||se==="reset"){y.removeAttribute("value");return}k.hasOwnProperty("value")?bx(y,k.type,j):k.hasOwnProperty("defaultValue")&&bx(y,k.type,Wh(k.defaultValue)),k.checked==null&&k.defaultChecked!=null&&(y.defaultChecked=!!k.defaultChecked)}function w2(y,k,j){if(k.hasOwnProperty("value")||k.hasOwnProperty("defaultValue")){var se=k.type;if(!(se!=="submit"&&se!=="reset"||k.value!==void 0&&k.value!==null))return;k=""+y._wrapperState.initialValue,j||k===y.value||(y.value=k),y.defaultValue=k}j=y.name,j!==""&&(y.name=""),y.defaultChecked=!!y._wrapperState.initialChecked,j!==""&&(y.name=j)}function bx(y,k,j){(k!=="number"||cy(y.ownerDocument)!==y)&&(j==null?y.defaultValue=""+y._wrapperState.initialValue:y.defaultValue!==""+j&&(y.defaultValue=""+j))}var Hp=Array.isArray;function Od(y,k,j,se){if(y=y.options,k){k={};for(var me=0;me<j.length;me++)k["$"+j[me]]=!0;for(j=0;j<y.length;j++)me=k.hasOwnProperty("$"+y[j].value),y[j].selected!==me&&(y[j].selected=me),me&&se&&(y[j].defaultSelected=!0)}else{for(j=""+Wh(j),k=null,me=0;me<y.length;me++){if(y[me].value===j){y[me].selected=!0,se&&(y[me].defaultSelected=!0);return}k!==null||y[me].disabled||(k=y[me])}k!==null&&(k.selected=!0)}}function wx(y,k){if(k.dangerouslySetInnerHTML!=null)throw Error(ba(91));return Co({},k,{value:void 0,defaultValue:void 0,children:""+y._wrapperState.initialValue})}function T2(y,k){var j=k.value;if(j==null){if(j=k.children,k=k.defaultValue,j!=null){if(k!=null)throw Error(ba(92));if(Hp(j)){if(1<j.length)throw Error(ba(93));j=j[0]}k=j}k==null&&(k=""),j=k}y._wrapperState={initialValue:Wh(j)}}function $T(y,k){var j=Wh(k.value),se=Wh(k.defaultValue);j!=null&&(j=""+j,j!==y.value&&(y.value=j),k.defaultValue==null&&y.defaultValue!==j&&(y.defaultValue=j)),se!=null&&(y.defaultValue=""+se)}function A2(y){var k=y.textContent;k===y._wrapperState.initialValue&&k!==""&&k!==null&&(y.value=k)}function QT(y){switch(y){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tx(y,k){return y==null||y==="http://www.w3.org/1999/xhtml"?QT(k):y==="http://www.w3.org/2000/svg"&&k==="foreignObject"?"http://www.w3.org/1999/xhtml":y}var wg,qT=function(y){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(k,j,se,me){MSApp.execUnsafeLocalFunction(function(){return y(k,j,se,me)})}:y}(function(y,k){if(y.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in y)y.innerHTML=k;else{for(wg=wg||document.createElement("div"),wg.innerHTML="<svg>"+k.valueOf().toString()+"</svg>",k=wg.firstChild;y.firstChild;)y.removeChild(y.firstChild);for(;k.firstChild;)y.appendChild(k.firstChild)}});function a0(y,k){if(k){var j=y.firstChild;if(j&&j===y.lastChild&&j.nodeType===3){j.nodeValue=k;return}}y.textContent=k}var Yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MC=["Webkit","ms","Moz","O"];Object.keys(Yp).forEach(function(y){MC.forEach(function(k){k=k+y.charAt(0).toUpperCase()+y.substring(1),Yp[k]=Yp[y]})});function e5(y,k,j){return k==null||typeof k=="boolean"||k===""?"":j||typeof k!="number"||k===0||Yp.hasOwnProperty(y)&&Yp[y]?(""+k).trim():k+"px"}function t5(y,k){y=y.style;for(var j in k)if(k.hasOwnProperty(j)){var se=j.indexOf("--")===0,me=e5(j,k[j],se);j==="float"&&(j="cssFloat"),se?y.setProperty(j,me):y[j]=me}}var EC=Co({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ax(y,k){if(k){if(EC[y]&&(k.children!=null||k.dangerouslySetInnerHTML!=null))throw Error(ba(137,y));if(k.dangerouslySetInnerHTML!=null){if(k.children!=null)throw Error(ba(60));if(typeof k.dangerouslySetInnerHTML!="object"||!("__html"in k.dangerouslySetInnerHTML))throw Error(ba(61))}if(k.style!=null&&typeof k.style!="object")throw Error(ba(62))}}function Sx(y,k){if(y.indexOf("-")===-1)return typeof k.is=="string";switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mx=null;function Fb(y){return y=y.target||y.srcElement||window,y.correspondingUseElement&&(y=y.correspondingUseElement),y.nodeType===3?y.parentNode:y}var Ex=null,zd=null,Fd=null;function S2(y){if(y=_0(y)){if(typeof Ex!="function")throw Error(ba(280));var k=y.stateNode;k&&(k=Xy(k),Ex(y.stateNode,y.type,k))}}function r5(y){zd?Fd?Fd.push(y):Fd=[y]:zd=y}function n5(){if(zd){var y=zd,k=Fd;if(Fd=zd=null,S2(y),k)for(y=0;y<k.length;y++)S2(k[y])}}function a5(y,k){return y(k)}function i5(){}var L1=!1;function o5(y,k,j){if(L1)return y(k,j);L1=!0;try{return a5(y,k,j)}finally{L1=!1,(zd!==null||Fd!==null)&&(i5(),n5())}}function i0(y,k){var j=y.stateNode;if(j===null)return null;var se=Xy(j);if(se===null)return null;j=se[k];e:switch(k){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(se=!se.disabled)||(y=y.type,se=!(y==="button"||y==="input"||y==="select"||y==="textarea")),y=!se;break e;default:y=!1}if(y)return null;if(j&&typeof j!="function")throw Error(ba(231,k,typeof j));return j}var Cx=!1;if(Ic)try{var Dp={};Object.defineProperty(Dp,"passive",{get:function(){Cx=!0}}),window.addEventListener("test",Dp,Dp),window.removeEventListener("test",Dp,Dp)}catch{Cx=!1}function CC(y,k,j,se,me,Pe,H,G,e){var g=Array.prototype.slice.call(arguments,3);try{k.apply(j,g)}catch(R){this.onError(R)}}var Xp=!1,hy=null,vy=!1,Lx=null,LC={onError:function(y){Xp=!0,hy=y}};function PC(y,k,j,se,me,Pe,H,G,e){Xp=!1,hy=null,CC.apply(LC,arguments)}function RC(y,k,j,se,me,Pe,H,G,e){if(PC.apply(this,arguments),Xp){if(Xp){var g=hy;Xp=!1,hy=null}else throw Error(ba(198));vy||(vy=!0,Lx=g)}}function Uv(y){var k=y,j=y;if(y.alternate)for(;k.return;)k=k.return;else{y=k;do k=y,k.flags&4098&&(j=k.return),y=k.return;while(y)}return k.tag===3?j:null}function s5(y){if(y.tag===13){var k=y.memoizedState;if(k===null&&(y=y.alternate,y!==null&&(k=y.memoizedState)),k!==null)return k.dehydrated}return null}function M2(y){if(Uv(y)!==y)throw Error(ba(188))}function DC(y){var k=y.alternate;if(!k){if(k=Uv(y),k===null)throw Error(ba(188));return k!==y?null:y}for(var j=y,se=k;;){var me=j.return;if(me===null)break;var Pe=me.alternate;if(Pe===null){if(se=me.return,se!==null){j=se;continue}break}if(me.child===Pe.child){for(Pe=me.child;Pe;){if(Pe===j)return M2(me),y;if(Pe===se)return M2(me),k;Pe=Pe.sibling}throw Error(ba(188))}if(j.return!==se.return)j=me,se=Pe;else{for(var H=!1,G=me.child;G;){if(G===j){H=!0,j=me,se=Pe;break}if(G===se){H=!0,se=me,j=Pe;break}G=G.sibling}if(!H){for(G=Pe.child;G;){if(G===j){H=!0,j=Pe,se=me;break}if(G===se){H=!0,se=Pe,j=me;break}G=G.sibling}if(!H)throw Error(ba(189))}}if(j.alternate!==se)throw Error(ba(190))}if(j.tag!==3)throw Error(ba(188));return j.stateNode.current===j?y:k}function l5(y){return y=DC(y),y!==null?u5(y):null}function u5(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){var k=u5(y);if(k!==null)return k;y=y.sibling}return null}var f5=Kl.unstable_scheduleCallback,E2=Kl.unstable_cancelCallback,IC=Kl.unstable_shouldYield,kC=Kl.unstable_requestPaint,Vo=Kl.unstable_now,_C=Kl.unstable_getCurrentPriorityLevel,Nb=Kl.unstable_ImmediatePriority,c5=Kl.unstable_UserBlockingPriority,dy=Kl.unstable_NormalPriority,OC=Kl.unstable_LowPriority,h5=Kl.unstable_IdlePriority,Gy=null,Zf=null;function zC(y){if(Zf&&typeof Zf.onCommitFiberRoot=="function")try{Zf.onCommitFiberRoot(Gy,y,void 0,(y.current.flags&128)===128)}catch{}}var yf=Math.clz32?Math.clz32:BC,FC=Math.log,NC=Math.LN2;function BC(y){return y>>>=0,y===0?32:31-(FC(y)/NC|0)|0}var Tg=64,Ag=4194304;function Gp(y){switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return y&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return y}}function py(y,k){var j=y.pendingLanes;if(j===0)return 0;var se=0,me=y.suspendedLanes,Pe=y.pingedLanes,H=j&268435455;if(H!==0){var G=H&~me;G!==0?se=Gp(G):(Pe&=H,Pe!==0&&(se=Gp(Pe)))}else H=j&~me,H!==0?se=Gp(H):Pe!==0&&(se=Gp(Pe));if(se===0)return 0;if(k!==0&&k!==se&&!(k&me)&&(me=se&-se,Pe=k&-k,me>=Pe||me===16&&(Pe&4194240)!==0))return k;if(se&4&&(se|=j&16),k=y.entangledLanes,k!==0)for(y=y.entanglements,k&=se;0<k;)j=31-yf(k),me=1<<j,se|=y[j],k&=~me;return se}function UC(y,k){switch(y){case 1:case 2:case 4:return k+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return k+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VC(y,k){for(var j=y.suspendedLanes,se=y.pingedLanes,me=y.expirationTimes,Pe=y.pendingLanes;0<Pe;){var H=31-yf(Pe),G=1<<H,e=me[H];e===-1?(!(G&j)||G&se)&&(me[H]=UC(G,k)):e<=k&&(y.expiredLanes|=G),Pe&=~G}}function Px(y){return y=y.pendingLanes&-1073741825,y!==0?y:y&1073741824?1073741824:0}function v5(){var y=Tg;return Tg<<=1,!(Tg&4194240)&&(Tg=64),y}function P1(y){for(var k=[],j=0;31>j;j++)k.push(y);return k}function I0(y,k,j){y.pendingLanes|=k,k!==536870912&&(y.suspendedLanes=0,y.pingedLanes=0),y=y.eventTimes,k=31-yf(k),y[k]=j}function HC(y,k){var j=y.pendingLanes&~k;y.pendingLanes=k,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=k,y.mutableReadLanes&=k,y.entangledLanes&=k,k=y.entanglements;var se=y.eventTimes;for(y=y.expirationTimes;0<j;){var me=31-yf(j),Pe=1<<me;k[me]=0,se[me]=-1,y[me]=-1,j&=~Pe}}function Bb(y,k){var j=y.entangledLanes|=k;for(y=y.entanglements;j;){var se=31-yf(j),me=1<<se;me&k|y[se]&k&&(y[se]|=k),j&=~me}}var Ui=0;function d5(y){return y&=-y,1<y?4<y?y&268435455?16:536870912:4:1}var p5,Ub,g5,y5,m5,Rx=!1,Sg=[],Oh=null,zh=null,Fh=null,o0=new Map,s0=new Map,Ph=[],GC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C2(y,k){switch(y){case"focusin":case"focusout":Oh=null;break;case"dragenter":case"dragleave":zh=null;break;case"mouseover":case"mouseout":Fh=null;break;case"pointerover":case"pointerout":o0.delete(k.pointerId);break;case"gotpointercapture":case"lostpointercapture":s0.delete(k.pointerId)}}function Ip(y,k,j,se,me,Pe){return y===null||y.nativeEvent!==Pe?(y={blockedOn:k,domEventName:j,eventSystemFlags:se,nativeEvent:Pe,targetContainers:[me]},k!==null&&(k=_0(k),k!==null&&Ub(k)),y):(y.eventSystemFlags|=se,k=y.targetContainers,me!==null&&k.indexOf(me)===-1&&k.push(me),y)}function WC(y,k,j,se,me){switch(k){case"focusin":return Oh=Ip(Oh,y,k,j,se,me),!0;case"dragenter":return zh=Ip(zh,y,k,j,se,me),!0;case"mouseover":return Fh=Ip(Fh,y,k,j,se,me),!0;case"pointerover":var Pe=me.pointerId;return o0.set(Pe,Ip(o0.get(Pe)||null,y,k,j,se,me)),!0;case"gotpointercapture":return Pe=me.pointerId,s0.set(Pe,Ip(s0.get(Pe)||null,y,k,j,se,me)),!0}return!1}function x5(y){var k=Ev(y.target);if(k!==null){var j=Uv(k);if(j!==null){if(k=j.tag,k===13){if(k=s5(j),k!==null){y.blockedOn=k,m5(y.priority,function(){g5(j)});return}}else if(k===3&&j.stateNode.current.memoizedState.isDehydrated){y.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}y.blockedOn=null}function Hg(y){if(y.blockedOn!==null)return!1;for(var k=y.targetContainers;0<k.length;){var j=Dx(y.domEventName,y.eventSystemFlags,k[0],y.nativeEvent);if(j===null){j=y.nativeEvent;var se=new j.constructor(j.type,j);Mx=se,j.target.dispatchEvent(se),Mx=null}else return k=_0(j),k!==null&&Ub(k),y.blockedOn=j,!1;k.shift()}return!0}function L2(y,k,j){Hg(y)&&j.delete(k)}function jC(){Rx=!1,Oh!==null&&Hg(Oh)&&(Oh=null),zh!==null&&Hg(zh)&&(zh=null),Fh!==null&&Hg(Fh)&&(Fh=null),o0.forEach(L2),s0.forEach(L2)}function kp(y,k){y.blockedOn===k&&(y.blockedOn=null,Rx||(Rx=!0,Kl.unstable_scheduleCallback(Kl.unstable_NormalPriority,jC)))}function l0(y){function k(me){return kp(me,y)}if(0<Sg.length){kp(Sg[0],y);for(var j=1;j<Sg.length;j++){var se=Sg[j];se.blockedOn===y&&(se.blockedOn=null)}}for(Oh!==null&&kp(Oh,y),zh!==null&&kp(zh,y),Fh!==null&&kp(Fh,y),o0.forEach(k),s0.forEach(k),j=0;j<Ph.length;j++)se=Ph[j],se.blockedOn===y&&(se.blockedOn=null);for(;0<Ph.length&&(j=Ph[0],j.blockedOn===null);)x5(j),j.blockedOn===null&&Ph.shift()}var Nd=Nc.ReactCurrentBatchConfig,gy=!0;function YC(y,k,j,se){var me=Ui,Pe=Nd.transition;Nd.transition=null;try{Ui=1,Vb(y,k,j,se)}finally{Ui=me,Nd.transition=Pe}}function XC(y,k,j,se){var me=Ui,Pe=Nd.transition;Nd.transition=null;try{Ui=4,Vb(y,k,j,se)}finally{Ui=me,Nd.transition=Pe}}function Vb(y,k,j,se){if(gy){var me=Dx(y,k,j,se);if(me===null)B1(y,k,se,yy,j),C2(y,se);else if(WC(me,y,k,j,se))se.stopPropagation();else if(C2(y,se),k&4&&-1<GC.indexOf(y)){for(;me!==null;){var Pe=_0(me);if(Pe!==null&&p5(Pe),Pe=Dx(y,k,j,se),Pe===null&&B1(y,k,se,yy,j),Pe===me)break;me=Pe}me!==null&&se.stopPropagation()}else B1(y,k,se,null,j)}}var yy=null;function Dx(y,k,j,se){if(yy=null,y=Fb(se),y=Ev(y),y!==null)if(k=Uv(y),k===null)y=null;else if(j=k.tag,j===13){if(y=s5(k),y!==null)return y;y=null}else if(j===3){if(k.stateNode.current.memoizedState.isDehydrated)return k.tag===3?k.stateNode.containerInfo:null;y=null}else k!==y&&(y=null);return yy=y,null}function b5(y){switch(y){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_C()){case Nb:return 1;case c5:return 4;case dy:case OC:return 16;case h5:return 536870912;default:return 16}default:return 16}}var Ih=null,Hb=null,Gg=null;function w5(){if(Gg)return Gg;var y,k=Hb,j=k.length,se,me="value"in Ih?Ih.value:Ih.textContent,Pe=me.length;for(y=0;y<j&&k[y]===me[y];y++);var H=j-y;for(se=1;se<=H&&k[j-se]===me[Pe-se];se++);return Gg=me.slice(y,1<se?1-se:void 0)}function Wg(y){var k=y.keyCode;return"charCode"in y?(y=y.charCode,y===0&&k===13&&(y=13)):y=k,y===10&&(y=13),32<=y||y===13?y:0}function Mg(){return!0}function P2(){return!1}function $l(y){function k(j,se,me,Pe,H){this._reactName=j,this._targetInst=me,this.type=se,this.nativeEvent=Pe,this.target=H,this.currentTarget=null;for(var G in y)y.hasOwnProperty(G)&&(j=y[G],this[G]=j?j(Pe):Pe[G]);return this.isDefaultPrevented=(Pe.defaultPrevented!=null?Pe.defaultPrevented:Pe.returnValue===!1)?Mg:P2,this.isPropagationStopped=P2,this}return Co(k.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=Mg)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=Mg)},persist:function(){},isPersistent:Mg}),k}var ep={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(y){return y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gb=$l(ep),k0=Co({},ep,{view:0,detail:0}),ZC=$l(k0),R1,D1,_p,Wy=Co({},k0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wb,button:0,buttons:0,relatedTarget:function(y){return y.relatedTarget===void 0?y.fromElement===y.srcElement?y.toElement:y.fromElement:y.relatedTarget},movementX:function(y){return"movementX"in y?y.movementX:(y!==_p&&(_p&&y.type==="mousemove"?(R1=y.screenX-_p.screenX,D1=y.screenY-_p.screenY):D1=R1=0,_p=y),R1)},movementY:function(y){return"movementY"in y?y.movementY:D1}}),R2=$l(Wy),KC=Co({},Wy,{dataTransfer:0}),JC=$l(KC),$C=Co({},k0,{relatedTarget:0}),I1=$l($C),QC=Co({},ep,{animationName:0,elapsedTime:0,pseudoElement:0}),qC=$l(QC),eL=Co({},ep,{clipboardData:function(y){return"clipboardData"in y?y.clipboardData:window.clipboardData}}),tL=$l(eL),rL=Co({},ep,{data:0}),D2=$l(rL),nL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oL(y){var k=this.nativeEvent;return k.getModifierState?k.getModifierState(y):(y=iL[y])?!!k[y]:!1}function Wb(){return oL}var sL=Co({},k0,{key:function(y){if(y.key){var k=nL[y.key]||y.key;if(k!=="Unidentified")return k}return y.type==="keypress"?(y=Wg(y),y===13?"Enter":String.fromCharCode(y)):y.type==="keydown"||y.type==="keyup"?aL[y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wb,charCode:function(y){return y.type==="keypress"?Wg(y):0},keyCode:function(y){return y.type==="keydown"||y.type==="keyup"?y.keyCode:0},which:function(y){return y.type==="keypress"?Wg(y):y.type==="keydown"||y.type==="keyup"?y.keyCode:0}}),lL=$l(sL),uL=Co({},Wy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I2=$l(uL),fL=Co({},k0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wb}),cL=$l(fL),hL=Co({},ep,{propertyName:0,elapsedTime:0,pseudoElement:0}),vL=$l(hL),dL=Co({},Wy,{deltaX:function(y){return"deltaX"in y?y.deltaX:"wheelDeltaX"in y?-y.wheelDeltaX:0},deltaY:function(y){return"deltaY"in y?y.deltaY:"wheelDeltaY"in y?-y.wheelDeltaY:"wheelDelta"in y?-y.wheelDelta:0},deltaZ:0,deltaMode:0}),pL=$l(dL),gL=[9,13,27,32],jb=Ic&&"CompositionEvent"in window,Zp=null;Ic&&"documentMode"in document&&(Zp=document.documentMode);var yL=Ic&&"TextEvent"in window&&!Zp,T5=Ic&&(!jb||Zp&&8<Zp&&11>=Zp),k2=" ",_2=!1;function A5(y,k){switch(y){case"keyup":return gL.indexOf(k.keyCode)!==-1;case"keydown":return k.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S5(y){return y=y.detail,typeof y=="object"&&"data"in y?y.data:null}var Md=!1;function mL(y,k){switch(y){case"compositionend":return S5(k);case"keypress":return k.which!==32?null:(_2=!0,k2);case"textInput":return y=k.data,y===k2&&_2?null:y;default:return null}}function xL(y,k){if(Md)return y==="compositionend"||!jb&&A5(y,k)?(y=w5(),Gg=Hb=Ih=null,Md=!1,y):null;switch(y){case"paste":return null;case"keypress":if(!(k.ctrlKey||k.altKey||k.metaKey)||k.ctrlKey&&k.altKey){if(k.char&&1<k.char.length)return k.char;if(k.which)return String.fromCharCode(k.which)}return null;case"compositionend":return T5&&k.locale!=="ko"?null:k.data;default:return null}}var bL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O2(y){var k=y&&y.nodeName&&y.nodeName.toLowerCase();return k==="input"?!!bL[y.type]:k==="textarea"}function M5(y,k,j,se){r5(se),k=my(k,"onChange"),0<k.length&&(j=new Gb("onChange","change",null,j,se),y.push({event:j,listeners:k}))}var Kp=null,u0=null;function wL(y){z5(y,0)}function jy(y){var k=Ld(y);if(KT(k))return y}function TL(y,k){if(y==="change")return k}var E5=!1;if(Ic){var k1;if(Ic){var _1="oninput"in document;if(!_1){var z2=document.createElement("div");z2.setAttribute("oninput","return;"),_1=typeof z2.oninput=="function"}k1=_1}else k1=!1;E5=k1&&(!document.documentMode||9<document.documentMode)}function F2(){Kp&&(Kp.detachEvent("onpropertychange",C5),u0=Kp=null)}function C5(y){if(y.propertyName==="value"&&jy(u0)){var k=[];M5(k,u0,y,Fb(y)),o5(wL,k)}}function AL(y,k,j){y==="focusin"?(F2(),Kp=k,u0=j,Kp.attachEvent("onpropertychange",C5)):y==="focusout"&&F2()}function SL(y){if(y==="selectionchange"||y==="keyup"||y==="keydown")return jy(u0)}function ML(y,k){if(y==="click")return jy(k)}function EL(y,k){if(y==="input"||y==="change")return jy(k)}function CL(y,k){return y===k&&(y!==0||1/y===1/k)||y!==y&&k!==k}var xf=typeof Object.is=="function"?Object.is:CL;function f0(y,k){if(xf(y,k))return!0;if(typeof y!="object"||y===null||typeof k!="object"||k===null)return!1;var j=Object.keys(y),se=Object.keys(k);if(j.length!==se.length)return!1;for(se=0;se<j.length;se++){var me=j[se];if(!vx.call(k,me)||!xf(y[me],k[me]))return!1}return!0}function N2(y){for(;y&&y.firstChild;)y=y.firstChild;return y}function B2(y,k){var j=N2(y);y=0;for(var se;j;){if(j.nodeType===3){if(se=y+j.textContent.length,y<=k&&se>=k)return{node:j,offset:k-y};y=se}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=N2(j)}}function L5(y,k){return y&&k?y===k?!0:y&&y.nodeType===3?!1:k&&k.nodeType===3?L5(y,k.parentNode):"contains"in y?y.contains(k):y.compareDocumentPosition?!!(y.compareDocumentPosition(k)&16):!1:!1}function P5(){for(var y=window,k=cy();k instanceof y.HTMLIFrameElement;){try{var j=typeof k.contentWindow.location.href=="string"}catch{j=!1}if(j)y=k.contentWindow;else break;k=cy(y.document)}return k}function Yb(y){var k=y&&y.nodeName&&y.nodeName.toLowerCase();return k&&(k==="input"&&(y.type==="text"||y.type==="search"||y.type==="tel"||y.type==="url"||y.type==="password")||k==="textarea"||y.contentEditable==="true")}function LL(y){var k=P5(),j=y.focusedElem,se=y.selectionRange;if(k!==j&&j&&j.ownerDocument&&L5(j.ownerDocument.documentElement,j)){if(se!==null&&Yb(j)){if(k=se.start,y=se.end,y===void 0&&(y=k),"selectionStart"in j)j.selectionStart=k,j.selectionEnd=Math.min(y,j.value.length);else if(y=(k=j.ownerDocument||document)&&k.defaultView||window,y.getSelection){y=y.getSelection();var me=j.textContent.length,Pe=Math.min(se.start,me);se=se.end===void 0?Pe:Math.min(se.end,me),!y.extend&&Pe>se&&(me=se,se=Pe,Pe=me),me=B2(j,Pe);var H=B2(j,se);me&&H&&(y.rangeCount!==1||y.anchorNode!==me.node||y.anchorOffset!==me.offset||y.focusNode!==H.node||y.focusOffset!==H.offset)&&(k=k.createRange(),k.setStart(me.node,me.offset),y.removeAllRanges(),Pe>se?(y.addRange(k),y.extend(H.node,H.offset)):(k.setEnd(H.node,H.offset),y.addRange(k)))}}for(k=[],y=j;y=y.parentNode;)y.nodeType===1&&k.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<k.length;j++)y=k[j],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}var PL=Ic&&"documentMode"in document&&11>=document.documentMode,Ed=null,Ix=null,Jp=null,kx=!1;function U2(y,k,j){var se=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;kx||Ed==null||Ed!==cy(se)||(se=Ed,"selectionStart"in se&&Yb(se)?se={start:se.selectionStart,end:se.selectionEnd}:(se=(se.ownerDocument&&se.ownerDocument.defaultView||window).getSelection(),se={anchorNode:se.anchorNode,anchorOffset:se.anchorOffset,focusNode:se.focusNode,focusOffset:se.focusOffset}),Jp&&f0(Jp,se)||(Jp=se,se=my(Ix,"onSelect"),0<se.length&&(k=new Gb("onSelect","select",null,k,j),y.push({event:k,listeners:se}),k.target=Ed)))}function Eg(y,k){var j={};return j[y.toLowerCase()]=k.toLowerCase(),j["Webkit"+y]="webkit"+k,j["Moz"+y]="moz"+k,j}var Cd={animationend:Eg("Animation","AnimationEnd"),animationiteration:Eg("Animation","AnimationIteration"),animationstart:Eg("Animation","AnimationStart"),transitionend:Eg("Transition","TransitionEnd")},O1={},R5={};Ic&&(R5=document.createElement("div").style,"AnimationEvent"in window||(delete Cd.animationend.animation,delete Cd.animationiteration.animation,delete Cd.animationstart.animation),"TransitionEvent"in window||delete Cd.transitionend.transition);function Yy(y){if(O1[y])return O1[y];if(!Cd[y])return y;var k=Cd[y],j;for(j in k)if(k.hasOwnProperty(j)&&j in R5)return O1[y]=k[j];return y}var D5=Yy("animationend"),I5=Yy("animationiteration"),k5=Yy("animationstart"),_5=Yy("transitionend"),O5=new Map,V2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xh(y,k){O5.set(y,k),Bv(k,[y])}for(var z1=0;z1<V2.length;z1++){var F1=V2[z1],RL=F1.toLowerCase(),DL=F1[0].toUpperCase()+F1.slice(1);Xh(RL,"on"+DL)}Xh(D5,"onAnimationEnd");Xh(I5,"onAnimationIteration");Xh(k5,"onAnimationStart");Xh("dblclick","onDoubleClick");Xh("focusin","onFocus");Xh("focusout","onBlur");Xh(_5,"onTransitionEnd");Wd("onMouseEnter",["mouseout","mouseover"]);Wd("onMouseLeave",["mouseout","mouseover"]);Wd("onPointerEnter",["pointerout","pointerover"]);Wd("onPointerLeave",["pointerout","pointerover"]);Bv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wp));function H2(y,k,j){var se=y.type||"unknown-event";y.currentTarget=j,RC(se,k,void 0,y),y.currentTarget=null}function z5(y,k){k=(k&4)!==0;for(var j=0;j<y.length;j++){var se=y[j],me=se.event;se=se.listeners;e:{var Pe=void 0;if(k)for(var H=se.length-1;0<=H;H--){var G=se[H],e=G.instance,g=G.currentTarget;if(G=G.listener,e!==Pe&&me.isPropagationStopped())break e;H2(me,G,g),Pe=e}else for(H=0;H<se.length;H++){if(G=se[H],e=G.instance,g=G.currentTarget,G=G.listener,e!==Pe&&me.isPropagationStopped())break e;H2(me,G,g),Pe=e}}}if(vy)throw y=Lx,vy=!1,Lx=null,y}function io(y,k){var j=k[Nx];j===void 0&&(j=k[Nx]=new Set);var se=y+"__bubble";j.has(se)||(F5(k,y,2,!1),j.add(se))}function N1(y,k,j){var se=0;k&&(se|=4),F5(j,y,se,k)}var Cg="_reactListening"+Math.random().toString(36).slice(2);function c0(y){if(!y[Cg]){y[Cg]=!0,WT.forEach(function(j){j!=="selectionchange"&&(IL.has(j)||N1(j,!1,y),N1(j,!0,y))});var k=y.nodeType===9?y:y.ownerDocument;k===null||k[Cg]||(k[Cg]=!0,N1("selectionchange",!1,k))}}function F5(y,k,j,se){switch(b5(k)){case 1:var me=YC;break;case 4:me=XC;break;default:me=Vb}j=me.bind(null,k,j,y),me=void 0,!Cx||k!=="touchstart"&&k!=="touchmove"&&k!=="wheel"||(me=!0),se?me!==void 0?y.addEventListener(k,j,{capture:!0,passive:me}):y.addEventListener(k,j,!0):me!==void 0?y.addEventListener(k,j,{passive:me}):y.addEventListener(k,j,!1)}function B1(y,k,j,se,me){var Pe=se;if(!(k&1)&&!(k&2)&&se!==null)e:for(;;){if(se===null)return;var H=se.tag;if(H===3||H===4){var G=se.stateNode.containerInfo;if(G===me||G.nodeType===8&&G.parentNode===me)break;if(H===4)for(H=se.return;H!==null;){var e=H.tag;if((e===3||e===4)&&(e=H.stateNode.containerInfo,e===me||e.nodeType===8&&e.parentNode===me))return;H=H.return}for(;G!==null;){if(H=Ev(G),H===null)return;if(e=H.tag,e===5||e===6){se=Pe=H;continue e}G=G.parentNode}}se=se.return}o5(function(){var g=Pe,R=Fb(j),a=[];e:{var C=O5.get(y);if(C!==void 0){var S=Gb,v=y;switch(y){case"keypress":if(Wg(j)===0)break e;case"keydown":case"keyup":S=lL;break;case"focusin":v="focus",S=I1;break;case"focusout":v="blur",S=I1;break;case"beforeblur":case"afterblur":S=I1;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=R2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=JC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=cL;break;case D5:case I5:case k5:S=qC;break;case _5:S=vL;break;case"scroll":S=ZC;break;case"wheel":S=pL;break;case"copy":case"cut":case"paste":S=tL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=I2}var d=(k&4)!==0,r=!d&&y==="scroll",t=d?C!==null?C+"Capture":null:C;d=[];for(var i=g,n;i!==null;){n=i;var f=n.stateNode;if(n.tag===5&&f!==null&&(n=f,t!==null&&(f=i0(i,t),f!=null&&d.push(h0(i,f,n)))),r)break;i=i.return}0<d.length&&(C=new S(C,v,null,j,R),a.push({event:C,listeners:d}))}}if(!(k&7)){e:{if(C=y==="mouseover"||y==="pointerover",S=y==="mouseout"||y==="pointerout",C&&j!==Mx&&(v=j.relatedTarget||j.fromElement)&&(Ev(v)||v[kc]))break e;if((S||C)&&(C=R.window===R?R:(C=R.ownerDocument)?C.defaultView||C.parentWindow:window,S?(v=j.relatedTarget||j.toElement,S=g,v=v?Ev(v):null,v!==null&&(r=Uv(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=g),S!==v)){if(d=R2,f="onMouseLeave",t="onMouseEnter",i="mouse",(y==="pointerout"||y==="pointerover")&&(d=I2,f="onPointerLeave",t="onPointerEnter",i="pointer"),r=S==null?C:Ld(S),n=v==null?C:Ld(v),C=new d(f,i+"leave",S,j,R),C.target=r,C.relatedTarget=n,f=null,Ev(R)===g&&(d=new d(t,i+"enter",v,j,R),d.target=n,d.relatedTarget=r,f=d),r=f,S&&v)t:{for(d=S,t=v,i=0,n=d;n;n=gd(n))i++;for(n=0,f=t;f;f=gd(f))n++;for(;0<i-n;)d=gd(d),i--;for(;0<n-i;)t=gd(t),n--;for(;i--;){if(d===t||t!==null&&d===t.alternate)break t;d=gd(d),t=gd(t)}d=null}else d=null;S!==null&&G2(a,C,S,d,!1),v!==null&&r!==null&&G2(a,r,v,d,!0)}}e:{if(C=g?Ld(g):window,S=C.nodeName&&C.nodeName.toLowerCase(),S==="select"||S==="input"&&C.type==="file")var u=TL;else if(O2(C))if(E5)u=EL;else{u=SL;var l=AL}else(S=C.nodeName)&&S.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(u=ML);if(u&&(u=u(y,g))){M5(a,u,j,R);break e}l&&l(y,C,g),y==="focusout"&&(l=C._wrapperState)&&l.controlled&&C.type==="number"&&bx(C,"number",C.value)}switch(l=g?Ld(g):window,y){case"focusin":(O2(l)||l.contentEditable==="true")&&(Ed=l,Ix=g,Jp=null);break;case"focusout":Jp=Ix=Ed=null;break;case"mousedown":kx=!0;break;case"contextmenu":case"mouseup":case"dragend":kx=!1,U2(a,j,R);break;case"selectionchange":if(PL)break;case"keydown":case"keyup":U2(a,j,R)}var m;if(jb)e:{switch(y){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else Md?A5(y,j)&&(c="onCompositionEnd"):y==="keydown"&&j.keyCode===229&&(c="onCompositionStart");c&&(T5&&j.locale!=="ko"&&(Md||c!=="onCompositionStart"?c==="onCompositionEnd"&&Md&&(m=w5()):(Ih=R,Hb="value"in Ih?Ih.value:Ih.textContent,Md=!0)),l=my(g,c),0<l.length&&(c=new D2(c,y,null,j,R),a.push({event:c,listeners:l}),m?c.data=m:(m=S5(j),m!==null&&(c.data=m)))),(m=yL?mL(y,j):xL(y,j))&&(g=my(g,"onBeforeInput"),0<g.length&&(R=new D2("onBeforeInput","beforeinput",null,j,R),a.push({event:R,listeners:g}),R.data=m))}z5(a,k)})}function h0(y,k,j){return{instance:y,listener:k,currentTarget:j}}function my(y,k){for(var j=k+"Capture",se=[];y!==null;){var me=y,Pe=me.stateNode;me.tag===5&&Pe!==null&&(me=Pe,Pe=i0(y,j),Pe!=null&&se.unshift(h0(y,Pe,me)),Pe=i0(y,k),Pe!=null&&se.push(h0(y,Pe,me))),y=y.return}return se}function gd(y){if(y===null)return null;do y=y.return;while(y&&y.tag!==5);return y||null}function G2(y,k,j,se,me){for(var Pe=k._reactName,H=[];j!==null&&j!==se;){var G=j,e=G.alternate,g=G.stateNode;if(e!==null&&e===se)break;G.tag===5&&g!==null&&(G=g,me?(e=i0(j,Pe),e!=null&&H.unshift(h0(j,e,G))):me||(e=i0(j,Pe),e!=null&&H.push(h0(j,e,G)))),j=j.return}H.length!==0&&y.push({event:k,listeners:H})}var kL=/\r\n?/g,_L=/\u0000|\uFFFD/g;function W2(y){return(typeof y=="string"?y:""+y).replace(kL,`
`).replace(_L,"")}function Lg(y,k,j){if(k=W2(k),W2(y)!==k&&j)throw Error(ba(425))}function xy(){}var _x=null,Ox=null;function zx(y,k){return y==="textarea"||y==="noscript"||typeof k.children=="string"||typeof k.children=="number"||typeof k.dangerouslySetInnerHTML=="object"&&k.dangerouslySetInnerHTML!==null&&k.dangerouslySetInnerHTML.__html!=null}var Fx=typeof setTimeout=="function"?setTimeout:void 0,OL=typeof clearTimeout=="function"?clearTimeout:void 0,j2=typeof Promise=="function"?Promise:void 0,zL=typeof queueMicrotask=="function"?queueMicrotask:typeof j2<"u"?function(y){return j2.resolve(null).then(y).catch(FL)}:Fx;function FL(y){setTimeout(function(){throw y})}function U1(y,k){var j=k,se=0;do{var me=j.nextSibling;if(y.removeChild(j),me&&me.nodeType===8)if(j=me.data,j==="/$"){if(se===0){y.removeChild(me),l0(k);return}se--}else j!=="$"&&j!=="$?"&&j!=="$!"||se++;j=me}while(j);l0(k)}function Nh(y){for(;y!=null;y=y.nextSibling){var k=y.nodeType;if(k===1||k===3)break;if(k===8){if(k=y.data,k==="$"||k==="$!"||k==="$?")break;if(k==="/$")return null}}return y}function Y2(y){y=y.previousSibling;for(var k=0;y;){if(y.nodeType===8){var j=y.data;if(j==="$"||j==="$!"||j==="$?"){if(k===0)return y;k--}else j==="/$"&&k++}y=y.previousSibling}return null}var tp=Math.random().toString(36).slice(2),Yf="__reactFiber$"+tp,v0="__reactProps$"+tp,kc="__reactContainer$"+tp,Nx="__reactEvents$"+tp,NL="__reactListeners$"+tp,BL="__reactHandles$"+tp;function Ev(y){var k=y[Yf];if(k)return k;for(var j=y.parentNode;j;){if(k=j[kc]||j[Yf]){if(j=k.alternate,k.child!==null||j!==null&&j.child!==null)for(y=Y2(y);y!==null;){if(j=y[Yf])return j;y=Y2(y)}return k}y=j,j=y.parentNode}return null}function _0(y){return y=y[Yf]||y[kc],!y||y.tag!==5&&y.tag!==6&&y.tag!==13&&y.tag!==3?null:y}function Ld(y){if(y.tag===5||y.tag===6)return y.stateNode;throw Error(ba(33))}function Xy(y){return y[v0]||null}var Bx=[],Pd=-1;function Zh(y){return{current:y}}function oo(y){0>Pd||(y.current=Bx[Pd],Bx[Pd]=null,Pd--)}function qi(y,k){Pd++,Bx[Pd]=y.current,y.current=k}var jh={},Xs=Zh(jh),El=Zh(!1),kv=jh;function jd(y,k){var j=y.type.contextTypes;if(!j)return jh;var se=y.stateNode;if(se&&se.__reactInternalMemoizedUnmaskedChildContext===k)return se.__reactInternalMemoizedMaskedChildContext;var me={},Pe;for(Pe in j)me[Pe]=k[Pe];return se&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=k,y.__reactInternalMemoizedMaskedChildContext=me),me}function Cl(y){return y=y.childContextTypes,y!=null}function by(){oo(El),oo(Xs)}function X2(y,k,j){if(Xs.current!==jh)throw Error(ba(168));qi(Xs,k),qi(El,j)}function N5(y,k,j){var se=y.stateNode;if(k=k.childContextTypes,typeof se.getChildContext!="function")return j;se=se.getChildContext();for(var me in se)if(!(me in k))throw Error(ba(108,AC(y)||"Unknown",me));return Co({},j,se)}function wy(y){return y=(y=y.stateNode)&&y.__reactInternalMemoizedMergedChildContext||jh,kv=Xs.current,qi(Xs,y),qi(El,El.current),!0}function Z2(y,k,j){var se=y.stateNode;if(!se)throw Error(ba(169));j?(y=N5(y,k,kv),se.__reactInternalMemoizedMergedChildContext=y,oo(El),oo(Xs),qi(Xs,y)):oo(El),qi(El,j)}var Ec=null,Zy=!1,V1=!1;function B5(y){Ec===null?Ec=[y]:Ec.push(y)}function UL(y){Zy=!0,B5(y)}function Kh(){if(!V1&&Ec!==null){V1=!0;var y=0,k=Ui;try{var j=Ec;for(Ui=1;y<j.length;y++){var se=j[y];do se=se(!0);while(se!==null)}Ec=null,Zy=!1}catch(me){throw Ec!==null&&(Ec=Ec.slice(y+1)),f5(Nb,Kh),me}finally{Ui=k,V1=!1}}return null}var Rd=[],Dd=0,Ty=null,Ay=0,Eu=[],Cu=0,_v=null,Cc=1,Lc="";function Sv(y,k){Rd[Dd++]=Ay,Rd[Dd++]=Ty,Ty=y,Ay=k}function U5(y,k,j){Eu[Cu++]=Cc,Eu[Cu++]=Lc,Eu[Cu++]=_v,_v=y;var se=Cc;y=Lc;var me=32-yf(se)-1;se&=~(1<<me),j+=1;var Pe=32-yf(k)+me;if(30<Pe){var H=me-me%5;Pe=(se&(1<<H)-1).toString(32),se>>=H,me-=H,Cc=1<<32-yf(k)+me|j<<me|se,Lc=Pe+y}else Cc=1<<Pe|j<<me|se,Lc=y}function Xb(y){y.return!==null&&(Sv(y,1),U5(y,1,0))}function Zb(y){for(;y===Ty;)Ty=Rd[--Dd],Rd[Dd]=null,Ay=Rd[--Dd],Rd[Dd]=null;for(;y===_v;)_v=Eu[--Cu],Eu[Cu]=null,Lc=Eu[--Cu],Eu[Cu]=null,Cc=Eu[--Cu],Eu[Cu]=null}var Xl=null,jl=null,vo=!1,gf=null;function V5(y,k){var j=Pu(5,null,null,0);j.elementType="DELETED",j.stateNode=k,j.return=y,k=y.deletions,k===null?(y.deletions=[j],y.flags|=16):k.push(j)}function K2(y,k){switch(y.tag){case 5:var j=y.type;return k=k.nodeType!==1||j.toLowerCase()!==k.nodeName.toLowerCase()?null:k,k!==null?(y.stateNode=k,Xl=y,jl=Nh(k.firstChild),!0):!1;case 6:return k=y.pendingProps===""||k.nodeType!==3?null:k,k!==null?(y.stateNode=k,Xl=y,jl=null,!0):!1;case 13:return k=k.nodeType!==8?null:k,k!==null?(j=_v!==null?{id:Cc,overflow:Lc}:null,y.memoizedState={dehydrated:k,treeContext:j,retryLane:1073741824},j=Pu(18,null,null,0),j.stateNode=k,j.return=y,y.child=j,Xl=y,jl=null,!0):!1;default:return!1}}function Ux(y){return(y.mode&1)!==0&&(y.flags&128)===0}function Vx(y){if(vo){var k=jl;if(k){var j=k;if(!K2(y,k)){if(Ux(y))throw Error(ba(418));k=Nh(j.nextSibling);var se=Xl;k&&K2(y,k)?V5(se,j):(y.flags=y.flags&-4097|2,vo=!1,Xl=y)}}else{if(Ux(y))throw Error(ba(418));y.flags=y.flags&-4097|2,vo=!1,Xl=y}}}function J2(y){for(y=y.return;y!==null&&y.tag!==5&&y.tag!==3&&y.tag!==13;)y=y.return;Xl=y}function Pg(y){if(y!==Xl)return!1;if(!vo)return J2(y),vo=!0,!1;var k;if((k=y.tag!==3)&&!(k=y.tag!==5)&&(k=y.type,k=k!=="head"&&k!=="body"&&!zx(y.type,y.memoizedProps)),k&&(k=jl)){if(Ux(y))throw H5(),Error(ba(418));for(;k;)V5(y,k),k=Nh(k.nextSibling)}if(J2(y),y.tag===13){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(ba(317));e:{for(y=y.nextSibling,k=0;y;){if(y.nodeType===8){var j=y.data;if(j==="/$"){if(k===0){jl=Nh(y.nextSibling);break e}k--}else j!=="$"&&j!=="$!"&&j!=="$?"||k++}y=y.nextSibling}jl=null}}else jl=Xl?Nh(y.stateNode.nextSibling):null;return!0}function H5(){for(var y=jl;y;)y=Nh(y.nextSibling)}function Yd(){jl=Xl=null,vo=!1}function Kb(y){gf===null?gf=[y]:gf.push(y)}var VL=Nc.ReactCurrentBatchConfig;function Op(y,k,j){if(y=j.ref,y!==null&&typeof y!="function"&&typeof y!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(ba(309));var se=j.stateNode}if(!se)throw Error(ba(147,y));var me=se,Pe=""+y;return k!==null&&k.ref!==null&&typeof k.ref=="function"&&k.ref._stringRef===Pe?k.ref:(k=function(H){var G=me.refs;H===null?delete G[Pe]:G[Pe]=H},k._stringRef=Pe,k)}if(typeof y!="string")throw Error(ba(284));if(!j._owner)throw Error(ba(290,y))}return y}function Rg(y,k){throw y=Object.prototype.toString.call(k),Error(ba(31,y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":y))}function $2(y){var k=y._init;return k(y._payload)}function G5(y){function k(t,i){if(y){var n=t.deletions;n===null?(t.deletions=[i],t.flags|=16):n.push(i)}}function j(t,i){if(!y)return null;for(;i!==null;)k(t,i),i=i.sibling;return null}function se(t,i){for(t=new Map;i!==null;)i.key!==null?t.set(i.key,i):t.set(i.index,i),i=i.sibling;return t}function me(t,i){return t=Hh(t,i),t.index=0,t.sibling=null,t}function Pe(t,i,n){return t.index=n,y?(n=t.alternate,n!==null?(n=n.index,n<i?(t.flags|=2,i):n):(t.flags|=2,i)):(t.flags|=1048576,i)}function H(t){return y&&t.alternate===null&&(t.flags|=2),t}function G(t,i,n,f){return i===null||i.tag!==6?(i=Z1(n,t.mode,f),i.return=t,i):(i=me(i,n),i.return=t,i)}function e(t,i,n,f){var u=n.type;return u===Sd?R(t,i,n.props.children,f,n.key):i!==null&&(i.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Ch&&$2(u)===i.type)?(f=me(i,n.props),f.ref=Op(t,i,n),f.return=t,f):(f=$g(n.type,n.key,n.props,null,t.mode,f),f.ref=Op(t,i,n),f.return=t,f)}function g(t,i,n,f){return i===null||i.tag!==4||i.stateNode.containerInfo!==n.containerInfo||i.stateNode.implementation!==n.implementation?(i=K1(n,t.mode,f),i.return=t,i):(i=me(i,n.children||[]),i.return=t,i)}function R(t,i,n,f,u){return i===null||i.tag!==7?(i=Dv(n,t.mode,f,u),i.return=t,i):(i=me(i,n),i.return=t,i)}function a(t,i,n){if(typeof i=="string"&&i!==""||typeof i=="number")return i=Z1(""+i,t.mode,n),i.return=t,i;if(typeof i=="object"&&i!==null){switch(i.$$typeof){case xg:return n=$g(i.type,i.key,i.props,null,t.mode,n),n.ref=Op(t,null,i),n.return=t,n;case Ad:return i=K1(i,t.mode,n),i.return=t,i;case Ch:var f=i._init;return a(t,f(i._payload),n)}if(Hp(i)||Rp(i))return i=Dv(i,t.mode,n,null),i.return=t,i;Rg(t,i)}return null}function C(t,i,n,f){var u=i!==null?i.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:G(t,i,""+n,f);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case xg:return n.key===u?e(t,i,n,f):null;case Ad:return n.key===u?g(t,i,n,f):null;case Ch:return u=n._init,C(t,i,u(n._payload),f)}if(Hp(n)||Rp(n))return u!==null?null:R(t,i,n,f,null);Rg(t,n)}return null}function S(t,i,n,f,u){if(typeof f=="string"&&f!==""||typeof f=="number")return t=t.get(n)||null,G(i,t,""+f,u);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xg:return t=t.get(f.key===null?n:f.key)||null,e(i,t,f,u);case Ad:return t=t.get(f.key===null?n:f.key)||null,g(i,t,f,u);case Ch:var l=f._init;return S(t,i,n,l(f._payload),u)}if(Hp(f)||Rp(f))return t=t.get(n)||null,R(i,t,f,u,null);Rg(i,f)}return null}function v(t,i,n,f){for(var u=null,l=null,m=i,c=i=0,A=null;m!==null&&c<n.length;c++){m.index>c?(A=m,m=null):A=m.sibling;var h=C(t,m,n[c],f);if(h===null){m===null&&(m=A);break}y&&m&&h.alternate===null&&k(t,m),i=Pe(h,i,c),l===null?u=h:l.sibling=h,l=h,m=A}if(c===n.length)return j(t,m),vo&&Sv(t,c),u;if(m===null){for(;c<n.length;c++)m=a(t,n[c],f),m!==null&&(i=Pe(m,i,c),l===null?u=m:l.sibling=m,l=m);return vo&&Sv(t,c),u}for(m=se(t,m);c<n.length;c++)A=S(m,t,c,n[c],f),A!==null&&(y&&A.alternate!==null&&m.delete(A.key===null?c:A.key),i=Pe(A,i,c),l===null?u=A:l.sibling=A,l=A);return y&&m.forEach(function(o){return k(t,o)}),vo&&Sv(t,c),u}function d(t,i,n,f){var u=Rp(n);if(typeof u!="function")throw Error(ba(150));if(n=u.call(n),n==null)throw Error(ba(151));for(var l=u=null,m=i,c=i=0,A=null,h=n.next();m!==null&&!h.done;c++,h=n.next()){m.index>c?(A=m,m=null):A=m.sibling;var o=C(t,m,h.value,f);if(o===null){m===null&&(m=A);break}y&&m&&o.alternate===null&&k(t,m),i=Pe(o,i,c),l===null?u=o:l.sibling=o,l=o,m=A}if(h.done)return j(t,m),vo&&Sv(t,c),u;if(m===null){for(;!h.done;c++,h=n.next())h=a(t,h.value,f),h!==null&&(i=Pe(h,i,c),l===null?u=h:l.sibling=h,l=h);return vo&&Sv(t,c),u}for(m=se(t,m);!h.done;c++,h=n.next())h=S(m,t,c,h.value,f),h!==null&&(y&&h.alternate!==null&&m.delete(h.key===null?c:h.key),i=Pe(h,i,c),l===null?u=h:l.sibling=h,l=h);return y&&m.forEach(function(p){return k(t,p)}),vo&&Sv(t,c),u}function r(t,i,n,f){if(typeof n=="object"&&n!==null&&n.type===Sd&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case xg:e:{for(var u=n.key,l=i;l!==null;){if(l.key===u){if(u=n.type,u===Sd){if(l.tag===7){j(t,l.sibling),i=me(l,n.props.children),i.return=t,t=i;break e}}else if(l.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Ch&&$2(u)===l.type){j(t,l.sibling),i=me(l,n.props),i.ref=Op(t,l,n),i.return=t,t=i;break e}j(t,l);break}else k(t,l);l=l.sibling}n.type===Sd?(i=Dv(n.props.children,t.mode,f,n.key),i.return=t,t=i):(f=$g(n.type,n.key,n.props,null,t.mode,f),f.ref=Op(t,i,n),f.return=t,t=f)}return H(t);case Ad:e:{for(l=n.key;i!==null;){if(i.key===l)if(i.tag===4&&i.stateNode.containerInfo===n.containerInfo&&i.stateNode.implementation===n.implementation){j(t,i.sibling),i=me(i,n.children||[]),i.return=t,t=i;break e}else{j(t,i);break}else k(t,i);i=i.sibling}i=K1(n,t.mode,f),i.return=t,t=i}return H(t);case Ch:return l=n._init,r(t,i,l(n._payload),f)}if(Hp(n))return v(t,i,n,f);if(Rp(n))return d(t,i,n,f);Rg(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,i!==null&&i.tag===6?(j(t,i.sibling),i=me(i,n),i.return=t,t=i):(j(t,i),i=Z1(n,t.mode,f),i.return=t,t=i),H(t)):j(t,i)}return r}var Xd=G5(!0),W5=G5(!1),Sy=Zh(null),My=null,Id=null,Jb=null;function $b(){Jb=Id=My=null}function Qb(y){var k=Sy.current;oo(Sy),y._currentValue=k}function Hx(y,k,j){for(;y!==null;){var se=y.alternate;if((y.childLanes&k)!==k?(y.childLanes|=k,se!==null&&(se.childLanes|=k)):se!==null&&(se.childLanes&k)!==k&&(se.childLanes|=k),y===j)break;y=y.return}}function Bd(y,k){My=y,Jb=Id=null,y=y.dependencies,y!==null&&y.firstContext!==null&&(y.lanes&k&&(Ml=!0),y.firstContext=null)}function ku(y){var k=y._currentValue;if(Jb!==y)if(y={context:y,memoizedValue:k,next:null},Id===null){if(My===null)throw Error(ba(308));Id=y,My.dependencies={lanes:0,firstContext:y}}else Id=Id.next=y;return k}var Cv=null;function qb(y){Cv===null?Cv=[y]:Cv.push(y)}function j5(y,k,j,se){var me=k.interleaved;return me===null?(j.next=j,qb(k)):(j.next=me.next,me.next=j),k.interleaved=j,_c(y,se)}function _c(y,k){y.lanes|=k;var j=y.alternate;for(j!==null&&(j.lanes|=k),j=y,y=y.return;y!==null;)y.childLanes|=k,j=y.alternate,j!==null&&(j.childLanes|=k),j=y,y=y.return;return j.tag===3?j.stateNode:null}var Lh=!1;function e3(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y5(y,k){y=y.updateQueue,k.updateQueue===y&&(k.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,effects:y.effects})}function Rc(y,k){return{eventTime:y,lane:k,tag:0,payload:null,callback:null,next:null}}function Bh(y,k,j){var se=y.updateQueue;if(se===null)return null;if(se=se.shared,Li&2){var me=se.pending;return me===null?k.next=k:(k.next=me.next,me.next=k),se.pending=k,_c(y,j)}return me=se.interleaved,me===null?(k.next=k,qb(se)):(k.next=me.next,me.next=k),se.interleaved=k,_c(y,j)}function jg(y,k,j){if(k=k.updateQueue,k!==null&&(k=k.shared,(j&4194240)!==0)){var se=k.lanes;se&=y.pendingLanes,j|=se,k.lanes=j,Bb(y,j)}}function Q2(y,k){var j=y.updateQueue,se=y.alternate;if(se!==null&&(se=se.updateQueue,j===se)){var me=null,Pe=null;if(j=j.firstBaseUpdate,j!==null){do{var H={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};Pe===null?me=Pe=H:Pe=Pe.next=H,j=j.next}while(j!==null);Pe===null?me=Pe=k:Pe=Pe.next=k}else me=Pe=k;j={baseState:se.baseState,firstBaseUpdate:me,lastBaseUpdate:Pe,shared:se.shared,effects:se.effects},y.updateQueue=j;return}y=j.lastBaseUpdate,y===null?j.firstBaseUpdate=k:y.next=k,j.lastBaseUpdate=k}function Ey(y,k,j,se){var me=y.updateQueue;Lh=!1;var Pe=me.firstBaseUpdate,H=me.lastBaseUpdate,G=me.shared.pending;if(G!==null){me.shared.pending=null;var e=G,g=e.next;e.next=null,H===null?Pe=g:H.next=g,H=e;var R=y.alternate;R!==null&&(R=R.updateQueue,G=R.lastBaseUpdate,G!==H&&(G===null?R.firstBaseUpdate=g:G.next=g,R.lastBaseUpdate=e))}if(Pe!==null){var a=me.baseState;H=0,R=g=e=null,G=Pe;do{var C=G.lane,S=G.eventTime;if((se&C)===C){R!==null&&(R=R.next={eventTime:S,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var v=y,d=G;switch(C=k,S=j,d.tag){case 1:if(v=d.payload,typeof v=="function"){a=v.call(S,a,C);break e}a=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=d.payload,C=typeof v=="function"?v.call(S,a,C):v,C==null)break e;a=Co({},a,C);break e;case 2:Lh=!0}}G.callback!==null&&G.lane!==0&&(y.flags|=64,C=me.effects,C===null?me.effects=[G]:C.push(G))}else S={eventTime:S,lane:C,tag:G.tag,payload:G.payload,callback:G.callback,next:null},R===null?(g=R=S,e=a):R=R.next=S,H|=C;if(G=G.next,G===null){if(G=me.shared.pending,G===null)break;C=G,G=C.next,C.next=null,me.lastBaseUpdate=C,me.shared.pending=null}}while(!0);if(R===null&&(e=a),me.baseState=e,me.firstBaseUpdate=g,me.lastBaseUpdate=R,k=me.shared.interleaved,k!==null){me=k;do H|=me.lane,me=me.next;while(me!==k)}else Pe===null&&(me.shared.lanes=0);zv|=H,y.lanes=H,y.memoizedState=a}}function q2(y,k,j){if(y=k.effects,k.effects=null,y!==null)for(k=0;k<y.length;k++){var se=y[k],me=se.callback;if(me!==null){if(se.callback=null,se=j,typeof me!="function")throw Error(ba(191,me));me.call(se)}}}var O0={},Kf=Zh(O0),d0=Zh(O0),p0=Zh(O0);function Lv(y){if(y===O0)throw Error(ba(174));return y}function t3(y,k){switch(qi(p0,k),qi(d0,y),qi(Kf,O0),y=k.nodeType,y){case 9:case 11:k=(k=k.documentElement)?k.namespaceURI:Tx(null,"");break;default:y=y===8?k.parentNode:k,k=y.namespaceURI||null,y=y.tagName,k=Tx(k,y)}oo(Kf),qi(Kf,k)}function Zd(){oo(Kf),oo(d0),oo(p0)}function X5(y){Lv(p0.current);var k=Lv(Kf.current),j=Tx(k,y.type);k!==j&&(qi(d0,y),qi(Kf,j))}function r3(y){d0.current===y&&(oo(Kf),oo(d0))}var Mo=Zh(0);function Cy(y){for(var k=y;k!==null;){if(k.tag===13){var j=k.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return k}else if(k.tag===19&&k.memoizedProps.revealOrder!==void 0){if(k.flags&128)return k}else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===y)break;for(;k.sibling===null;){if(k.return===null||k.return===y)return null;k=k.return}k.sibling.return=k.return,k=k.sibling}return null}var H1=[];function n3(){for(var y=0;y<H1.length;y++)H1[y]._workInProgressVersionPrimary=null;H1.length=0}var Yg=Nc.ReactCurrentDispatcher,G1=Nc.ReactCurrentBatchConfig,Ov=0,Eo=null,as=null,cs=null,Ly=!1,$p=!1,g0=0,HL=0;function Gs(){throw Error(ba(321))}function a3(y,k){if(k===null)return!1;for(var j=0;j<k.length&&j<y.length;j++)if(!xf(y[j],k[j]))return!1;return!0}function i3(y,k,j,se,me,Pe){if(Ov=Pe,Eo=k,k.memoizedState=null,k.updateQueue=null,k.lanes=0,Yg.current=y===null||y.memoizedState===null?YL:XL,y=j(se,me),$p){Pe=0;do{if($p=!1,g0=0,25<=Pe)throw Error(ba(301));Pe+=1,cs=as=null,k.updateQueue=null,Yg.current=ZL,y=j(se,me)}while($p)}if(Yg.current=Py,k=as!==null&&as.next!==null,Ov=0,cs=as=Eo=null,Ly=!1,k)throw Error(ba(300));return y}function o3(){var y=g0!==0;return g0=0,y}function Gf(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cs===null?Eo.memoizedState=cs=y:cs=cs.next=y,cs}function _u(){if(as===null){var y=Eo.alternate;y=y!==null?y.memoizedState:null}else y=as.next;var k=cs===null?Eo.memoizedState:cs.next;if(k!==null)cs=k,as=y;else{if(y===null)throw Error(ba(310));as=y,y={memoizedState:as.memoizedState,baseState:as.baseState,baseQueue:as.baseQueue,queue:as.queue,next:null},cs===null?Eo.memoizedState=cs=y:cs=cs.next=y}return cs}function y0(y,k){return typeof k=="function"?k(y):k}function W1(y){var k=_u(),j=k.queue;if(j===null)throw Error(ba(311));j.lastRenderedReducer=y;var se=as,me=se.baseQueue,Pe=j.pending;if(Pe!==null){if(me!==null){var H=me.next;me.next=Pe.next,Pe.next=H}se.baseQueue=me=Pe,j.pending=null}if(me!==null){Pe=me.next,se=se.baseState;var G=H=null,e=null,g=Pe;do{var R=g.lane;if((Ov&R)===R)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),se=g.hasEagerState?g.eagerState:y(se,g.action);else{var a={lane:R,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(G=e=a,H=se):e=e.next=a,Eo.lanes|=R,zv|=R}g=g.next}while(g!==null&&g!==Pe);e===null?H=se:e.next=G,xf(se,k.memoizedState)||(Ml=!0),k.memoizedState=se,k.baseState=H,k.baseQueue=e,j.lastRenderedState=se}if(y=j.interleaved,y!==null){me=y;do Pe=me.lane,Eo.lanes|=Pe,zv|=Pe,me=me.next;while(me!==y)}else me===null&&(j.lanes=0);return[k.memoizedState,j.dispatch]}function j1(y){var k=_u(),j=k.queue;if(j===null)throw Error(ba(311));j.lastRenderedReducer=y;var se=j.dispatch,me=j.pending,Pe=k.memoizedState;if(me!==null){j.pending=null;var H=me=me.next;do Pe=y(Pe,H.action),H=H.next;while(H!==me);xf(Pe,k.memoizedState)||(Ml=!0),k.memoizedState=Pe,k.baseQueue===null&&(k.baseState=Pe),j.lastRenderedState=Pe}return[Pe,se]}function Z5(){}function K5(y,k){var j=Eo,se=_u(),me=k(),Pe=!xf(se.memoizedState,me);if(Pe&&(se.memoizedState=me,Ml=!0),se=se.queue,s3(Q5.bind(null,j,se,y),[y]),se.getSnapshot!==k||Pe||cs!==null&&cs.memoizedState.tag&1){if(j.flags|=2048,m0(9,$5.bind(null,j,se,me,k),void 0,null),vs===null)throw Error(ba(349));Ov&30||J5(j,k,me)}return me}function J5(y,k,j){y.flags|=16384,y={getSnapshot:k,value:j},k=Eo.updateQueue,k===null?(k={lastEffect:null,stores:null},Eo.updateQueue=k,k.stores=[y]):(j=k.stores,j===null?k.stores=[y]:j.push(y))}function $5(y,k,j,se){k.value=j,k.getSnapshot=se,q5(k)&&eA(y)}function Q5(y,k,j){return j(function(){q5(k)&&eA(y)})}function q5(y){var k=y.getSnapshot;y=y.value;try{var j=k();return!xf(y,j)}catch{return!0}}function eA(y){var k=_c(y,1);k!==null&&mf(k,y,1,-1)}function e4(y){var k=Gf();return typeof y=="function"&&(y=y()),k.memoizedState=k.baseState=y,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y0,lastRenderedState:y},k.queue=y,y=y.dispatch=jL.bind(null,Eo,y),[k.memoizedState,y]}function m0(y,k,j,se){return y={tag:y,create:k,destroy:j,deps:se,next:null},k=Eo.updateQueue,k===null?(k={lastEffect:null,stores:null},Eo.updateQueue=k,k.lastEffect=y.next=y):(j=k.lastEffect,j===null?k.lastEffect=y.next=y:(se=j.next,j.next=y,y.next=se,k.lastEffect=y)),y}function tA(){return _u().memoizedState}function Xg(y,k,j,se){var me=Gf();Eo.flags|=y,me.memoizedState=m0(1|k,j,void 0,se===void 0?null:se)}function Ky(y,k,j,se){var me=_u();se=se===void 0?null:se;var Pe=void 0;if(as!==null){var H=as.memoizedState;if(Pe=H.destroy,se!==null&&a3(se,H.deps)){me.memoizedState=m0(k,j,Pe,se);return}}Eo.flags|=y,me.memoizedState=m0(1|k,j,Pe,se)}function t4(y,k){return Xg(8390656,8,y,k)}function s3(y,k){return Ky(2048,8,y,k)}function rA(y,k){return Ky(4,2,y,k)}function nA(y,k){return Ky(4,4,y,k)}function aA(y,k){if(typeof k=="function")return y=y(),k(y),function(){k(null)};if(k!=null)return y=y(),k.current=y,function(){k.current=null}}function iA(y,k,j){return j=j!=null?j.concat([y]):null,Ky(4,4,aA.bind(null,k,y),j)}function l3(){}function oA(y,k){var j=_u();k=k===void 0?null:k;var se=j.memoizedState;return se!==null&&k!==null&&a3(k,se[1])?se[0]:(j.memoizedState=[y,k],y)}function sA(y,k){var j=_u();k=k===void 0?null:k;var se=j.memoizedState;return se!==null&&k!==null&&a3(k,se[1])?se[0]:(y=y(),j.memoizedState=[y,k],y)}function lA(y,k,j){return Ov&21?(xf(j,k)||(j=v5(),Eo.lanes|=j,zv|=j,y.baseState=!0),k):(y.baseState&&(y.baseState=!1,Ml=!0),y.memoizedState=j)}function GL(y,k){var j=Ui;Ui=j!==0&&4>j?j:4,y(!0);var se=G1.transition;G1.transition={};try{y(!1),k()}finally{Ui=j,G1.transition=se}}function uA(){return _u().memoizedState}function WL(y,k,j){var se=Vh(y);if(j={lane:se,action:j,hasEagerState:!1,eagerState:null,next:null},fA(y))cA(k,j);else if(j=j5(y,k,j,se),j!==null){var me=ol();mf(j,y,se,me),hA(j,k,se)}}function jL(y,k,j){var se=Vh(y),me={lane:se,action:j,hasEagerState:!1,eagerState:null,next:null};if(fA(y))cA(k,me);else{var Pe=y.alternate;if(y.lanes===0&&(Pe===null||Pe.lanes===0)&&(Pe=k.lastRenderedReducer,Pe!==null))try{var H=k.lastRenderedState,G=Pe(H,j);if(me.hasEagerState=!0,me.eagerState=G,xf(G,H)){var e=k.interleaved;e===null?(me.next=me,qb(k)):(me.next=e.next,e.next=me),k.interleaved=me;return}}catch{}finally{}j=j5(y,k,me,se),j!==null&&(me=ol(),mf(j,y,se,me),hA(j,k,se))}}function fA(y){var k=y.alternate;return y===Eo||k!==null&&k===Eo}function cA(y,k){$p=Ly=!0;var j=y.pending;j===null?k.next=k:(k.next=j.next,j.next=k),y.pending=k}function hA(y,k,j){if(j&4194240){var se=k.lanes;se&=y.pendingLanes,j|=se,k.lanes=j,Bb(y,j)}}var Py={readContext:ku,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useInsertionEffect:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useDeferredValue:Gs,useTransition:Gs,useMutableSource:Gs,useSyncExternalStore:Gs,useId:Gs,unstable_isNewReconciler:!1},YL={readContext:ku,useCallback:function(y,k){return Gf().memoizedState=[y,k===void 0?null:k],y},useContext:ku,useEffect:t4,useImperativeHandle:function(y,k,j){return j=j!=null?j.concat([y]):null,Xg(4194308,4,aA.bind(null,k,y),j)},useLayoutEffect:function(y,k){return Xg(4194308,4,y,k)},useInsertionEffect:function(y,k){return Xg(4,2,y,k)},useMemo:function(y,k){var j=Gf();return k=k===void 0?null:k,y=y(),j.memoizedState=[y,k],y},useReducer:function(y,k,j){var se=Gf();return k=j!==void 0?j(k):k,se.memoizedState=se.baseState=k,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:k},se.queue=y,y=y.dispatch=WL.bind(null,Eo,y),[se.memoizedState,y]},useRef:function(y){var k=Gf();return y={current:y},k.memoizedState=y},useState:e4,useDebugValue:l3,useDeferredValue:function(y){return Gf().memoizedState=y},useTransition:function(){var y=e4(!1),k=y[0];return y=GL.bind(null,y[1]),Gf().memoizedState=y,[k,y]},useMutableSource:function(){},useSyncExternalStore:function(y,k,j){var se=Eo,me=Gf();if(vo){if(j===void 0)throw Error(ba(407));j=j()}else{if(j=k(),vs===null)throw Error(ba(349));Ov&30||J5(se,k,j)}me.memoizedState=j;var Pe={value:j,getSnapshot:k};return me.queue=Pe,t4(Q5.bind(null,se,Pe,y),[y]),se.flags|=2048,m0(9,$5.bind(null,se,Pe,j,k),void 0,null),j},useId:function(){var y=Gf(),k=vs.identifierPrefix;if(vo){var j=Lc,se=Cc;j=(se&~(1<<32-yf(se)-1)).toString(32)+j,k=":"+k+"R"+j,j=g0++,0<j&&(k+="H"+j.toString(32)),k+=":"}else j=HL++,k=":"+k+"r"+j.toString(32)+":";return y.memoizedState=k},unstable_isNewReconciler:!1},XL={readContext:ku,useCallback:oA,useContext:ku,useEffect:s3,useImperativeHandle:iA,useInsertionEffect:rA,useLayoutEffect:nA,useMemo:sA,useReducer:W1,useRef:tA,useState:function(){return W1(y0)},useDebugValue:l3,useDeferredValue:function(y){var k=_u();return lA(k,as.memoizedState,y)},useTransition:function(){var y=W1(y0)[0],k=_u().memoizedState;return[y,k]},useMutableSource:Z5,useSyncExternalStore:K5,useId:uA,unstable_isNewReconciler:!1},ZL={readContext:ku,useCallback:oA,useContext:ku,useEffect:s3,useImperativeHandle:iA,useInsertionEffect:rA,useLayoutEffect:nA,useMemo:sA,useReducer:j1,useRef:tA,useState:function(){return j1(y0)},useDebugValue:l3,useDeferredValue:function(y){var k=_u();return as===null?k.memoizedState=y:lA(k,as.memoizedState,y)},useTransition:function(){var y=j1(y0)[0],k=_u().memoizedState;return[y,k]},useMutableSource:Z5,useSyncExternalStore:K5,useId:uA,unstable_isNewReconciler:!1};function df(y,k){if(y&&y.defaultProps){k=Co({},k),y=y.defaultProps;for(var j in y)k[j]===void 0&&(k[j]=y[j]);return k}return k}function Gx(y,k,j,se){k=y.memoizedState,j=j(se,k),j=j==null?k:Co({},k,j),y.memoizedState=j,y.lanes===0&&(y.updateQueue.baseState=j)}var Jy={isMounted:function(y){return(y=y._reactInternals)?Uv(y)===y:!1},enqueueSetState:function(y,k,j){y=y._reactInternals;var se=ol(),me=Vh(y),Pe=Rc(se,me);Pe.payload=k,j!=null&&(Pe.callback=j),k=Bh(y,Pe,me),k!==null&&(mf(k,y,me,se),jg(k,y,me))},enqueueReplaceState:function(y,k,j){y=y._reactInternals;var se=ol(),me=Vh(y),Pe=Rc(se,me);Pe.tag=1,Pe.payload=k,j!=null&&(Pe.callback=j),k=Bh(y,Pe,me),k!==null&&(mf(k,y,me,se),jg(k,y,me))},enqueueForceUpdate:function(y,k){y=y._reactInternals;var j=ol(),se=Vh(y),me=Rc(j,se);me.tag=2,k!=null&&(me.callback=k),k=Bh(y,me,se),k!==null&&(mf(k,y,se,j),jg(k,y,se))}};function r4(y,k,j,se,me,Pe,H){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(se,Pe,H):k.prototype&&k.prototype.isPureReactComponent?!f0(j,se)||!f0(me,Pe):!0}function vA(y,k,j){var se=!1,me=jh,Pe=k.contextType;return typeof Pe=="object"&&Pe!==null?Pe=ku(Pe):(me=Cl(k)?kv:Xs.current,se=k.contextTypes,Pe=(se=se!=null)?jd(y,me):jh),k=new k(j,Pe),y.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Jy,y.stateNode=k,k._reactInternals=y,se&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=me,y.__reactInternalMemoizedMaskedChildContext=Pe),k}function n4(y,k,j,se){y=k.state,typeof k.componentWillReceiveProps=="function"&&k.componentWillReceiveProps(j,se),typeof k.UNSAFE_componentWillReceiveProps=="function"&&k.UNSAFE_componentWillReceiveProps(j,se),k.state!==y&&Jy.enqueueReplaceState(k,k.state,null)}function Wx(y,k,j,se){var me=y.stateNode;me.props=j,me.state=y.memoizedState,me.refs={},e3(y);var Pe=k.contextType;typeof Pe=="object"&&Pe!==null?me.context=ku(Pe):(Pe=Cl(k)?kv:Xs.current,me.context=jd(y,Pe)),me.state=y.memoizedState,Pe=k.getDerivedStateFromProps,typeof Pe=="function"&&(Gx(y,k,Pe,j),me.state=y.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof me.getSnapshotBeforeUpdate=="function"||typeof me.UNSAFE_componentWillMount!="function"&&typeof me.componentWillMount!="function"||(k=me.state,typeof me.componentWillMount=="function"&&me.componentWillMount(),typeof me.UNSAFE_componentWillMount=="function"&&me.UNSAFE_componentWillMount(),k!==me.state&&Jy.enqueueReplaceState(me,me.state,null),Ey(y,j,me,se),me.state=y.memoizedState),typeof me.componentDidMount=="function"&&(y.flags|=4194308)}function Kd(y,k){try{var j="",se=k;do j+=TC(se),se=se.return;while(se);var me=j}catch(Pe){me=`
Error generating stack: `+Pe.message+`
`+Pe.stack}return{value:y,source:k,stack:me,digest:null}}function Y1(y,k,j){return{value:y,source:null,stack:j??null,digest:k??null}}function jx(y,k){try{console.error(k.value)}catch(j){setTimeout(function(){throw j})}}var KL=typeof WeakMap=="function"?WeakMap:Map;function dA(y,k,j){j=Rc(-1,j),j.tag=3,j.payload={element:null};var se=k.value;return j.callback=function(){Dy||(Dy=!0,tb=se),jx(y,k)},j}function pA(y,k,j){j=Rc(-1,j),j.tag=3;var se=y.type.getDerivedStateFromError;if(typeof se=="function"){var me=k.value;j.payload=function(){return se(me)},j.callback=function(){jx(y,k)}}var Pe=y.stateNode;return Pe!==null&&typeof Pe.componentDidCatch=="function"&&(j.callback=function(){jx(y,k),typeof se!="function"&&(Uh===null?Uh=new Set([this]):Uh.add(this));var H=k.stack;this.componentDidCatch(k.value,{componentStack:H!==null?H:""})}),j}function a4(y,k,j){var se=y.pingCache;if(se===null){se=y.pingCache=new KL;var me=new Set;se.set(k,me)}else me=se.get(k),me===void 0&&(me=new Set,se.set(k,me));me.has(j)||(me.add(j),y=u7.bind(null,y,k,j),k.then(y,y))}function i4(y){do{var k;if((k=y.tag===13)&&(k=y.memoizedState,k=k!==null?k.dehydrated!==null:!0),k)return y;y=y.return}while(y!==null);return null}function o4(y,k,j,se,me){return y.mode&1?(y.flags|=65536,y.lanes=me,y):(y===k?y.flags|=65536:(y.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(k=Rc(-1,1),k.tag=2,Bh(j,k,1))),j.lanes|=1),y)}var JL=Nc.ReactCurrentOwner,Ml=!1;function al(y,k,j,se){k.child=y===null?W5(k,null,j,se):Xd(k,y.child,j,se)}function s4(y,k,j,se,me){j=j.render;var Pe=k.ref;return Bd(k,me),se=i3(y,k,j,se,Pe,me),j=o3(),y!==null&&!Ml?(k.updateQueue=y.updateQueue,k.flags&=-2053,y.lanes&=~me,Oc(y,k,me)):(vo&&j&&Xb(k),k.flags|=1,al(y,k,se,me),k.child)}function l4(y,k,j,se,me){if(y===null){var Pe=j.type;return typeof Pe=="function"&&!g3(Pe)&&Pe.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(k.tag=15,k.type=Pe,gA(y,k,Pe,se,me)):(y=$g(j.type,null,se,k,k.mode,me),y.ref=k.ref,y.return=k,k.child=y)}if(Pe=y.child,!(y.lanes&me)){var H=Pe.memoizedProps;if(j=j.compare,j=j!==null?j:f0,j(H,se)&&y.ref===k.ref)return Oc(y,k,me)}return k.flags|=1,y=Hh(Pe,se),y.ref=k.ref,y.return=k,k.child=y}function gA(y,k,j,se,me){if(y!==null){var Pe=y.memoizedProps;if(f0(Pe,se)&&y.ref===k.ref)if(Ml=!1,k.pendingProps=se=Pe,(y.lanes&me)!==0)y.flags&131072&&(Ml=!0);else return k.lanes=y.lanes,Oc(y,k,me)}return Yx(y,k,j,se,me)}function yA(y,k,j){var se=k.pendingProps,me=se.children,Pe=y!==null?y.memoizedState:null;if(se.mode==="hidden")if(!(k.mode&1))k.memoizedState={baseLanes:0,cachePool:null,transitions:null},qi(_d,Gl),Gl|=j;else{if(!(j&1073741824))return y=Pe!==null?Pe.baseLanes|j:j,k.lanes=k.childLanes=1073741824,k.memoizedState={baseLanes:y,cachePool:null,transitions:null},k.updateQueue=null,qi(_d,Gl),Gl|=y,null;k.memoizedState={baseLanes:0,cachePool:null,transitions:null},se=Pe!==null?Pe.baseLanes:j,qi(_d,Gl),Gl|=se}else Pe!==null?(se=Pe.baseLanes|j,k.memoizedState=null):se=j,qi(_d,Gl),Gl|=se;return al(y,k,me,j),k.child}function mA(y,k){var j=k.ref;(y===null&&j!==null||y!==null&&y.ref!==j)&&(k.flags|=512,k.flags|=2097152)}function Yx(y,k,j,se,me){var Pe=Cl(j)?kv:Xs.current;return Pe=jd(k,Pe),Bd(k,me),j=i3(y,k,j,se,Pe,me),se=o3(),y!==null&&!Ml?(k.updateQueue=y.updateQueue,k.flags&=-2053,y.lanes&=~me,Oc(y,k,me)):(vo&&se&&Xb(k),k.flags|=1,al(y,k,j,me),k.child)}function u4(y,k,j,se,me){if(Cl(j)){var Pe=!0;wy(k)}else Pe=!1;if(Bd(k,me),k.stateNode===null)Zg(y,k),vA(k,j,se),Wx(k,j,se,me),se=!0;else if(y===null){var H=k.stateNode,G=k.memoizedProps;H.props=G;var e=H.context,g=j.contextType;typeof g=="object"&&g!==null?g=ku(g):(g=Cl(j)?kv:Xs.current,g=jd(k,g));var R=j.getDerivedStateFromProps,a=typeof R=="function"||typeof H.getSnapshotBeforeUpdate=="function";a||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(G!==se||e!==g)&&n4(k,H,se,g),Lh=!1;var C=k.memoizedState;H.state=C,Ey(k,se,H,me),e=k.memoizedState,G!==se||C!==e||El.current||Lh?(typeof R=="function"&&(Gx(k,j,R,se),e=k.memoizedState),(G=Lh||r4(k,j,G,se,C,e,g))?(a||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(k.flags|=4194308)):(typeof H.componentDidMount=="function"&&(k.flags|=4194308),k.memoizedProps=se,k.memoizedState=e),H.props=se,H.state=e,H.context=g,se=G):(typeof H.componentDidMount=="function"&&(k.flags|=4194308),se=!1)}else{H=k.stateNode,Y5(y,k),G=k.memoizedProps,g=k.type===k.elementType?G:df(k.type,G),H.props=g,a=k.pendingProps,C=H.context,e=j.contextType,typeof e=="object"&&e!==null?e=ku(e):(e=Cl(j)?kv:Xs.current,e=jd(k,e));var S=j.getDerivedStateFromProps;(R=typeof S=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(G!==a||C!==e)&&n4(k,H,se,e),Lh=!1,C=k.memoizedState,H.state=C,Ey(k,se,H,me);var v=k.memoizedState;G!==a||C!==v||El.current||Lh?(typeof S=="function"&&(Gx(k,j,S,se),v=k.memoizedState),(g=Lh||r4(k,j,g,se,C,v,e)||!1)?(R||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(se,v,e),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(se,v,e)),typeof H.componentDidUpdate=="function"&&(k.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(k.flags|=1024)):(typeof H.componentDidUpdate!="function"||G===y.memoizedProps&&C===y.memoizedState||(k.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||G===y.memoizedProps&&C===y.memoizedState||(k.flags|=1024),k.memoizedProps=se,k.memoizedState=v),H.props=se,H.state=v,H.context=e,se=g):(typeof H.componentDidUpdate!="function"||G===y.memoizedProps&&C===y.memoizedState||(k.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||G===y.memoizedProps&&C===y.memoizedState||(k.flags|=1024),se=!1)}return Xx(y,k,j,se,Pe,me)}function Xx(y,k,j,se,me,Pe){mA(y,k);var H=(k.flags&128)!==0;if(!se&&!H)return me&&Z2(k,j,!1),Oc(y,k,Pe);se=k.stateNode,JL.current=k;var G=H&&typeof j.getDerivedStateFromError!="function"?null:se.render();return k.flags|=1,y!==null&&H?(k.child=Xd(k,y.child,null,Pe),k.child=Xd(k,null,G,Pe)):al(y,k,G,Pe),k.memoizedState=se.state,me&&Z2(k,j,!0),k.child}function xA(y){var k=y.stateNode;k.pendingContext?X2(y,k.pendingContext,k.pendingContext!==k.context):k.context&&X2(y,k.context,!1),t3(y,k.containerInfo)}function f4(y,k,j,se,me){return Yd(),Kb(me),k.flags|=256,al(y,k,j,se),k.child}var Zx={dehydrated:null,treeContext:null,retryLane:0};function Kx(y){return{baseLanes:y,cachePool:null,transitions:null}}function bA(y,k,j){var se=k.pendingProps,me=Mo.current,Pe=!1,H=(k.flags&128)!==0,G;if((G=H)||(G=y!==null&&y.memoizedState===null?!1:(me&2)!==0),G?(Pe=!0,k.flags&=-129):(y===null||y.memoizedState!==null)&&(me|=1),qi(Mo,me&1),y===null)return Vx(k),y=k.memoizedState,y!==null&&(y=y.dehydrated,y!==null)?(k.mode&1?y.data==="$!"?k.lanes=8:k.lanes=1073741824:k.lanes=1,null):(H=se.children,y=se.fallback,Pe?(se=k.mode,Pe=k.child,H={mode:"hidden",children:H},!(se&1)&&Pe!==null?(Pe.childLanes=0,Pe.pendingProps=H):Pe=qy(H,se,0,null),y=Dv(y,se,j,null),Pe.return=k,y.return=k,Pe.sibling=y,k.child=Pe,k.child.memoizedState=Kx(j),k.memoizedState=Zx,y):u3(k,H));if(me=y.memoizedState,me!==null&&(G=me.dehydrated,G!==null))return $L(y,k,H,se,G,me,j);if(Pe){Pe=se.fallback,H=k.mode,me=y.child,G=me.sibling;var e={mode:"hidden",children:se.children};return!(H&1)&&k.child!==me?(se=k.child,se.childLanes=0,se.pendingProps=e,k.deletions=null):(se=Hh(me,e),se.subtreeFlags=me.subtreeFlags&14680064),G!==null?Pe=Hh(G,Pe):(Pe=Dv(Pe,H,j,null),Pe.flags|=2),Pe.return=k,se.return=k,se.sibling=Pe,k.child=se,se=Pe,Pe=k.child,H=y.child.memoizedState,H=H===null?Kx(j):{baseLanes:H.baseLanes|j,cachePool:null,transitions:H.transitions},Pe.memoizedState=H,Pe.childLanes=y.childLanes&~j,k.memoizedState=Zx,se}return Pe=y.child,y=Pe.sibling,se=Hh(Pe,{mode:"visible",children:se.children}),!(k.mode&1)&&(se.lanes=j),se.return=k,se.sibling=null,y!==null&&(j=k.deletions,j===null?(k.deletions=[y],k.flags|=16):j.push(y)),k.child=se,k.memoizedState=null,se}function u3(y,k){return k=qy({mode:"visible",children:k},y.mode,0,null),k.return=y,y.child=k}function Dg(y,k,j,se){return se!==null&&Kb(se),Xd(k,y.child,null,j),y=u3(k,k.pendingProps.children),y.flags|=2,k.memoizedState=null,y}function $L(y,k,j,se,me,Pe,H){if(j)return k.flags&256?(k.flags&=-257,se=Y1(Error(ba(422))),Dg(y,k,H,se)):k.memoizedState!==null?(k.child=y.child,k.flags|=128,null):(Pe=se.fallback,me=k.mode,se=qy({mode:"visible",children:se.children},me,0,null),Pe=Dv(Pe,me,H,null),Pe.flags|=2,se.return=k,Pe.return=k,se.sibling=Pe,k.child=se,k.mode&1&&Xd(k,y.child,null,H),k.child.memoizedState=Kx(H),k.memoizedState=Zx,Pe);if(!(k.mode&1))return Dg(y,k,H,null);if(me.data==="$!"){if(se=me.nextSibling&&me.nextSibling.dataset,se)var G=se.dgst;return se=G,Pe=Error(ba(419)),se=Y1(Pe,se,void 0),Dg(y,k,H,se)}if(G=(H&y.childLanes)!==0,Ml||G){if(se=vs,se!==null){switch(H&-H){case 4:me=2;break;case 16:me=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:me=32;break;case 536870912:me=268435456;break;default:me=0}me=me&(se.suspendedLanes|H)?0:me,me!==0&&me!==Pe.retryLane&&(Pe.retryLane=me,_c(y,me),mf(se,y,me,-1))}return p3(),se=Y1(Error(ba(421))),Dg(y,k,H,se)}return me.data==="$?"?(k.flags|=128,k.child=y.child,k=f7.bind(null,y),me._reactRetry=k,null):(y=Pe.treeContext,jl=Nh(me.nextSibling),Xl=k,vo=!0,gf=null,y!==null&&(Eu[Cu++]=Cc,Eu[Cu++]=Lc,Eu[Cu++]=_v,Cc=y.id,Lc=y.overflow,_v=k),k=u3(k,se.children),k.flags|=4096,k)}function c4(y,k,j){y.lanes|=k;var se=y.alternate;se!==null&&(se.lanes|=k),Hx(y.return,k,j)}function X1(y,k,j,se,me){var Pe=y.memoizedState;Pe===null?y.memoizedState={isBackwards:k,rendering:null,renderingStartTime:0,last:se,tail:j,tailMode:me}:(Pe.isBackwards=k,Pe.rendering=null,Pe.renderingStartTime=0,Pe.last=se,Pe.tail=j,Pe.tailMode=me)}function wA(y,k,j){var se=k.pendingProps,me=se.revealOrder,Pe=se.tail;if(al(y,k,se.children,j),se=Mo.current,se&2)se=se&1|2,k.flags|=128;else{if(y!==null&&y.flags&128)e:for(y=k.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&c4(y,j,k);else if(y.tag===19)c4(y,j,k);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===k)break e;for(;y.sibling===null;){if(y.return===null||y.return===k)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}se&=1}if(qi(Mo,se),!(k.mode&1))k.memoizedState=null;else switch(me){case"forwards":for(j=k.child,me=null;j!==null;)y=j.alternate,y!==null&&Cy(y)===null&&(me=j),j=j.sibling;j=me,j===null?(me=k.child,k.child=null):(me=j.sibling,j.sibling=null),X1(k,!1,me,j,Pe);break;case"backwards":for(j=null,me=k.child,k.child=null;me!==null;){if(y=me.alternate,y!==null&&Cy(y)===null){k.child=me;break}y=me.sibling,me.sibling=j,j=me,me=y}X1(k,!0,j,null,Pe);break;case"together":X1(k,!1,null,null,void 0);break;default:k.memoizedState=null}return k.child}function Zg(y,k){!(k.mode&1)&&y!==null&&(y.alternate=null,k.alternate=null,k.flags|=2)}function Oc(y,k,j){if(y!==null&&(k.dependencies=y.dependencies),zv|=k.lanes,!(j&k.childLanes))return null;if(y!==null&&k.child!==y.child)throw Error(ba(153));if(k.child!==null){for(y=k.child,j=Hh(y,y.pendingProps),k.child=j,j.return=k;y.sibling!==null;)y=y.sibling,j=j.sibling=Hh(y,y.pendingProps),j.return=k;j.sibling=null}return k.child}function QL(y,k,j){switch(k.tag){case 3:xA(k),Yd();break;case 5:X5(k);break;case 1:Cl(k.type)&&wy(k);break;case 4:t3(k,k.stateNode.containerInfo);break;case 10:var se=k.type._context,me=k.memoizedProps.value;qi(Sy,se._currentValue),se._currentValue=me;break;case 13:if(se=k.memoizedState,se!==null)return se.dehydrated!==null?(qi(Mo,Mo.current&1),k.flags|=128,null):j&k.child.childLanes?bA(y,k,j):(qi(Mo,Mo.current&1),y=Oc(y,k,j),y!==null?y.sibling:null);qi(Mo,Mo.current&1);break;case 19:if(se=(j&k.childLanes)!==0,y.flags&128){if(se)return wA(y,k,j);k.flags|=128}if(me=k.memoizedState,me!==null&&(me.rendering=null,me.tail=null,me.lastEffect=null),qi(Mo,Mo.current),se)break;return null;case 22:case 23:return k.lanes=0,yA(y,k,j)}return Oc(y,k,j)}var TA,Jx,AA,SA;TA=function(y,k){for(var j=k.child;j!==null;){if(j.tag===5||j.tag===6)y.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===k)break;for(;j.sibling===null;){if(j.return===null||j.return===k)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};Jx=function(){};AA=function(y,k,j,se){var me=y.memoizedProps;if(me!==se){y=k.stateNode,Lv(Kf.current);var Pe=null;switch(j){case"input":me=mx(y,me),se=mx(y,se),Pe=[];break;case"select":me=Co({},me,{value:void 0}),se=Co({},se,{value:void 0}),Pe=[];break;case"textarea":me=wx(y,me),se=wx(y,se),Pe=[];break;default:typeof me.onClick!="function"&&typeof se.onClick=="function"&&(y.onclick=xy)}Ax(j,se);var H;j=null;for(g in me)if(!se.hasOwnProperty(g)&&me.hasOwnProperty(g)&&me[g]!=null)if(g==="style"){var G=me[g];for(H in G)G.hasOwnProperty(H)&&(j||(j={}),j[H]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(n0.hasOwnProperty(g)?Pe||(Pe=[]):(Pe=Pe||[]).push(g,null));for(g in se){var e=se[g];if(G=me!=null?me[g]:void 0,se.hasOwnProperty(g)&&e!==G&&(e!=null||G!=null))if(g==="style")if(G){for(H in G)!G.hasOwnProperty(H)||e&&e.hasOwnProperty(H)||(j||(j={}),j[H]="");for(H in e)e.hasOwnProperty(H)&&G[H]!==e[H]&&(j||(j={}),j[H]=e[H])}else j||(Pe||(Pe=[]),Pe.push(g,j)),j=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,G=G?G.__html:void 0,e!=null&&G!==e&&(Pe=Pe||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(Pe=Pe||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(n0.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&io("scroll",y),Pe||G===e||(Pe=[])):(Pe=Pe||[]).push(g,e))}j&&(Pe=Pe||[]).push("style",j);var g=Pe;(k.updateQueue=g)&&(k.flags|=4)}};SA=function(y,k,j,se){j!==se&&(k.flags|=4)};function zp(y,k){if(!vo)switch(y.tailMode){case"hidden":k=y.tail;for(var j=null;k!==null;)k.alternate!==null&&(j=k),k=k.sibling;j===null?y.tail=null:j.sibling=null;break;case"collapsed":j=y.tail;for(var se=null;j!==null;)j.alternate!==null&&(se=j),j=j.sibling;se===null?k||y.tail===null?y.tail=null:y.tail.sibling=null:se.sibling=null}}function Ws(y){var k=y.alternate!==null&&y.alternate.child===y.child,j=0,se=0;if(k)for(var me=y.child;me!==null;)j|=me.lanes|me.childLanes,se|=me.subtreeFlags&14680064,se|=me.flags&14680064,me.return=y,me=me.sibling;else for(me=y.child;me!==null;)j|=me.lanes|me.childLanes,se|=me.subtreeFlags,se|=me.flags,me.return=y,me=me.sibling;return y.subtreeFlags|=se,y.childLanes=j,k}function qL(y,k,j){var se=k.pendingProps;switch(Zb(k),k.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(k),null;case 1:return Cl(k.type)&&by(),Ws(k),null;case 3:return se=k.stateNode,Zd(),oo(El),oo(Xs),n3(),se.pendingContext&&(se.context=se.pendingContext,se.pendingContext=null),(y===null||y.child===null)&&(Pg(k)?k.flags|=4:y===null||y.memoizedState.isDehydrated&&!(k.flags&256)||(k.flags|=1024,gf!==null&&(ab(gf),gf=null))),Jx(y,k),Ws(k),null;case 5:r3(k);var me=Lv(p0.current);if(j=k.type,y!==null&&k.stateNode!=null)AA(y,k,j,se,me),y.ref!==k.ref&&(k.flags|=512,k.flags|=2097152);else{if(!se){if(k.stateNode===null)throw Error(ba(166));return Ws(k),null}if(y=Lv(Kf.current),Pg(k)){se=k.stateNode,j=k.type;var Pe=k.memoizedProps;switch(se[Yf]=k,se[v0]=Pe,y=(k.mode&1)!==0,j){case"dialog":io("cancel",se),io("close",se);break;case"iframe":case"object":case"embed":io("load",se);break;case"video":case"audio":for(me=0;me<Wp.length;me++)io(Wp[me],se);break;case"source":io("error",se);break;case"img":case"image":case"link":io("error",se),io("load",se);break;case"details":io("toggle",se);break;case"input":b2(se,Pe),io("invalid",se);break;case"select":se._wrapperState={wasMultiple:!!Pe.multiple},io("invalid",se);break;case"textarea":T2(se,Pe),io("invalid",se)}Ax(j,Pe),me=null;for(var H in Pe)if(Pe.hasOwnProperty(H)){var G=Pe[H];H==="children"?typeof G=="string"?se.textContent!==G&&(Pe.suppressHydrationWarning!==!0&&Lg(se.textContent,G,y),me=["children",G]):typeof G=="number"&&se.textContent!==""+G&&(Pe.suppressHydrationWarning!==!0&&Lg(se.textContent,G,y),me=["children",""+G]):n0.hasOwnProperty(H)&&G!=null&&H==="onScroll"&&io("scroll",se)}switch(j){case"input":bg(se),w2(se,Pe,!0);break;case"textarea":bg(se),A2(se);break;case"select":case"option":break;default:typeof Pe.onClick=="function"&&(se.onclick=xy)}se=me,k.updateQueue=se,se!==null&&(k.flags|=4)}else{H=me.nodeType===9?me:me.ownerDocument,y==="http://www.w3.org/1999/xhtml"&&(y=QT(j)),y==="http://www.w3.org/1999/xhtml"?j==="script"?(y=H.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild)):typeof se.is=="string"?y=H.createElement(j,{is:se.is}):(y=H.createElement(j),j==="select"&&(H=y,se.multiple?H.multiple=!0:se.size&&(H.size=se.size))):y=H.createElementNS(y,j),y[Yf]=k,y[v0]=se,TA(y,k,!1,!1),k.stateNode=y;e:{switch(H=Sx(j,se),j){case"dialog":io("cancel",y),io("close",y),me=se;break;case"iframe":case"object":case"embed":io("load",y),me=se;break;case"video":case"audio":for(me=0;me<Wp.length;me++)io(Wp[me],y);me=se;break;case"source":io("error",y),me=se;break;case"img":case"image":case"link":io("error",y),io("load",y),me=se;break;case"details":io("toggle",y),me=se;break;case"input":b2(y,se),me=mx(y,se),io("invalid",y);break;case"option":me=se;break;case"select":y._wrapperState={wasMultiple:!!se.multiple},me=Co({},se,{value:void 0}),io("invalid",y);break;case"textarea":T2(y,se),me=wx(y,se),io("invalid",y);break;default:me=se}Ax(j,me),G=me;for(Pe in G)if(G.hasOwnProperty(Pe)){var e=G[Pe];Pe==="style"?t5(y,e):Pe==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&qT(y,e)):Pe==="children"?typeof e=="string"?(j!=="textarea"||e!=="")&&a0(y,e):typeof e=="number"&&a0(y,""+e):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(n0.hasOwnProperty(Pe)?e!=null&&Pe==="onScroll"&&io("scroll",y):e!=null&&kb(y,Pe,e,H))}switch(j){case"input":bg(y),w2(y,se,!1);break;case"textarea":bg(y),A2(y);break;case"option":se.value!=null&&y.setAttribute("value",""+Wh(se.value));break;case"select":y.multiple=!!se.multiple,Pe=se.value,Pe!=null?Od(y,!!se.multiple,Pe,!1):se.defaultValue!=null&&Od(y,!!se.multiple,se.defaultValue,!0);break;default:typeof me.onClick=="function"&&(y.onclick=xy)}switch(j){case"button":case"input":case"select":case"textarea":se=!!se.autoFocus;break e;case"img":se=!0;break e;default:se=!1}}se&&(k.flags|=4)}k.ref!==null&&(k.flags|=512,k.flags|=2097152)}return Ws(k),null;case 6:if(y&&k.stateNode!=null)SA(y,k,y.memoizedProps,se);else{if(typeof se!="string"&&k.stateNode===null)throw Error(ba(166));if(j=Lv(p0.current),Lv(Kf.current),Pg(k)){if(se=k.stateNode,j=k.memoizedProps,se[Yf]=k,(Pe=se.nodeValue!==j)&&(y=Xl,y!==null))switch(y.tag){case 3:Lg(se.nodeValue,j,(y.mode&1)!==0);break;case 5:y.memoizedProps.suppressHydrationWarning!==!0&&Lg(se.nodeValue,j,(y.mode&1)!==0)}Pe&&(k.flags|=4)}else se=(j.nodeType===9?j:j.ownerDocument).createTextNode(se),se[Yf]=k,k.stateNode=se}return Ws(k),null;case 13:if(oo(Mo),se=k.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(vo&&jl!==null&&k.mode&1&&!(k.flags&128))H5(),Yd(),k.flags|=98560,Pe=!1;else if(Pe=Pg(k),se!==null&&se.dehydrated!==null){if(y===null){if(!Pe)throw Error(ba(318));if(Pe=k.memoizedState,Pe=Pe!==null?Pe.dehydrated:null,!Pe)throw Error(ba(317));Pe[Yf]=k}else Yd(),!(k.flags&128)&&(k.memoizedState=null),k.flags|=4;Ws(k),Pe=!1}else gf!==null&&(ab(gf),gf=null),Pe=!0;if(!Pe)return k.flags&65536?k:null}return k.flags&128?(k.lanes=j,k):(se=se!==null,se!==(y!==null&&y.memoizedState!==null)&&se&&(k.child.flags|=8192,k.mode&1&&(y===null||Mo.current&1?is===0&&(is=3):p3())),k.updateQueue!==null&&(k.flags|=4),Ws(k),null);case 4:return Zd(),Jx(y,k),y===null&&c0(k.stateNode.containerInfo),Ws(k),null;case 10:return Qb(k.type._context),Ws(k),null;case 17:return Cl(k.type)&&by(),Ws(k),null;case 19:if(oo(Mo),Pe=k.memoizedState,Pe===null)return Ws(k),null;if(se=(k.flags&128)!==0,H=Pe.rendering,H===null)if(se)zp(Pe,!1);else{if(is!==0||y!==null&&y.flags&128)for(y=k.child;y!==null;){if(H=Cy(y),H!==null){for(k.flags|=128,zp(Pe,!1),se=H.updateQueue,se!==null&&(k.updateQueue=se,k.flags|=4),k.subtreeFlags=0,se=j,j=k.child;j!==null;)Pe=j,y=se,Pe.flags&=14680066,H=Pe.alternate,H===null?(Pe.childLanes=0,Pe.lanes=y,Pe.child=null,Pe.subtreeFlags=0,Pe.memoizedProps=null,Pe.memoizedState=null,Pe.updateQueue=null,Pe.dependencies=null,Pe.stateNode=null):(Pe.childLanes=H.childLanes,Pe.lanes=H.lanes,Pe.child=H.child,Pe.subtreeFlags=0,Pe.deletions=null,Pe.memoizedProps=H.memoizedProps,Pe.memoizedState=H.memoizedState,Pe.updateQueue=H.updateQueue,Pe.type=H.type,y=H.dependencies,Pe.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),j=j.sibling;return qi(Mo,Mo.current&1|2),k.child}y=y.sibling}Pe.tail!==null&&Vo()>Jd&&(k.flags|=128,se=!0,zp(Pe,!1),k.lanes=4194304)}else{if(!se)if(y=Cy(H),y!==null){if(k.flags|=128,se=!0,j=y.updateQueue,j!==null&&(k.updateQueue=j,k.flags|=4),zp(Pe,!0),Pe.tail===null&&Pe.tailMode==="hidden"&&!H.alternate&&!vo)return Ws(k),null}else 2*Vo()-Pe.renderingStartTime>Jd&&j!==1073741824&&(k.flags|=128,se=!0,zp(Pe,!1),k.lanes=4194304);Pe.isBackwards?(H.sibling=k.child,k.child=H):(j=Pe.last,j!==null?j.sibling=H:k.child=H,Pe.last=H)}return Pe.tail!==null?(k=Pe.tail,Pe.rendering=k,Pe.tail=k.sibling,Pe.renderingStartTime=Vo(),k.sibling=null,j=Mo.current,qi(Mo,se?j&1|2:j&1),k):(Ws(k),null);case 22:case 23:return d3(),se=k.memoizedState!==null,y!==null&&y.memoizedState!==null!==se&&(k.flags|=8192),se&&k.mode&1?Gl&1073741824&&(Ws(k),k.subtreeFlags&6&&(k.flags|=8192)):Ws(k),null;case 24:return null;case 25:return null}throw Error(ba(156,k.tag))}function e7(y,k){switch(Zb(k),k.tag){case 1:return Cl(k.type)&&by(),y=k.flags,y&65536?(k.flags=y&-65537|128,k):null;case 3:return Zd(),oo(El),oo(Xs),n3(),y=k.flags,y&65536&&!(y&128)?(k.flags=y&-65537|128,k):null;case 5:return r3(k),null;case 13:if(oo(Mo),y=k.memoizedState,y!==null&&y.dehydrated!==null){if(k.alternate===null)throw Error(ba(340));Yd()}return y=k.flags,y&65536?(k.flags=y&-65537|128,k):null;case 19:return oo(Mo),null;case 4:return Zd(),null;case 10:return Qb(k.type._context),null;case 22:case 23:return d3(),null;case 24:return null;default:return null}}var Ig=!1,Ys=!1,t7=typeof WeakSet=="function"?WeakSet:Set,za=null;function kd(y,k){var j=y.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(se){_o(y,k,se)}else j.current=null}function $x(y,k,j){try{j()}catch(se){_o(y,k,se)}}var h4=!1;function r7(y,k){if(_x=gy,y=P5(),Yb(y)){if("selectionStart"in y)var j={start:y.selectionStart,end:y.selectionEnd};else e:{j=(j=y.ownerDocument)&&j.defaultView||window;var se=j.getSelection&&j.getSelection();if(se&&se.rangeCount!==0){j=se.anchorNode;var me=se.anchorOffset,Pe=se.focusNode;se=se.focusOffset;try{j.nodeType,Pe.nodeType}catch{j=null;break e}var H=0,G=-1,e=-1,g=0,R=0,a=y,C=null;t:for(;;){for(var S;a!==j||me!==0&&a.nodeType!==3||(G=H+me),a!==Pe||se!==0&&a.nodeType!==3||(e=H+se),a.nodeType===3&&(H+=a.nodeValue.length),(S=a.firstChild)!==null;)C=a,a=S;for(;;){if(a===y)break t;if(C===j&&++g===me&&(G=H),C===Pe&&++R===se&&(e=H),(S=a.nextSibling)!==null)break;a=C,C=a.parentNode}a=S}j=G===-1||e===-1?null:{start:G,end:e}}else j=null}j=j||{start:0,end:0}}else j=null;for(Ox={focusedElem:y,selectionRange:j},gy=!1,za=k;za!==null;)if(k=za,y=k.child,(k.subtreeFlags&1028)!==0&&y!==null)y.return=k,za=y;else for(;za!==null;){k=za;try{var v=k.alternate;if(k.flags&1024)switch(k.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var d=v.memoizedProps,r=v.memoizedState,t=k.stateNode,i=t.getSnapshotBeforeUpdate(k.elementType===k.type?d:df(k.type,d),r);t.__reactInternalSnapshotBeforeUpdate=i}break;case 3:var n=k.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ba(163))}}catch(f){_o(k,k.return,f)}if(y=k.sibling,y!==null){y.return=k.return,za=y;break}za=k.return}return v=h4,h4=!1,v}function Qp(y,k,j){var se=k.updateQueue;if(se=se!==null?se.lastEffect:null,se!==null){var me=se=se.next;do{if((me.tag&y)===y){var Pe=me.destroy;me.destroy=void 0,Pe!==void 0&&$x(k,j,Pe)}me=me.next}while(me!==se)}}function $y(y,k){if(k=k.updateQueue,k=k!==null?k.lastEffect:null,k!==null){var j=k=k.next;do{if((j.tag&y)===y){var se=j.create;j.destroy=se()}j=j.next}while(j!==k)}}function Qx(y){var k=y.ref;if(k!==null){var j=y.stateNode;switch(y.tag){case 5:y=j;break;default:y=j}typeof k=="function"?k(y):k.current=y}}function MA(y){var k=y.alternate;k!==null&&(y.alternate=null,MA(k)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(k=y.stateNode,k!==null&&(delete k[Yf],delete k[v0],delete k[Nx],delete k[NL],delete k[BL])),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function EA(y){return y.tag===5||y.tag===3||y.tag===4}function v4(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||EA(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function qx(y,k,j){var se=y.tag;if(se===5||se===6)y=y.stateNode,k?j.nodeType===8?j.parentNode.insertBefore(y,k):j.insertBefore(y,k):(j.nodeType===8?(k=j.parentNode,k.insertBefore(y,j)):(k=j,k.appendChild(y)),j=j._reactRootContainer,j!=null||k.onclick!==null||(k.onclick=xy));else if(se!==4&&(y=y.child,y!==null))for(qx(y,k,j),y=y.sibling;y!==null;)qx(y,k,j),y=y.sibling}function eb(y,k,j){var se=y.tag;if(se===5||se===6)y=y.stateNode,k?j.insertBefore(y,k):j.appendChild(y);else if(se!==4&&(y=y.child,y!==null))for(eb(y,k,j),y=y.sibling;y!==null;)eb(y,k,j),y=y.sibling}var Ps=null,pf=!1;function Mh(y,k,j){for(j=j.child;j!==null;)CA(y,k,j),j=j.sibling}function CA(y,k,j){if(Zf&&typeof Zf.onCommitFiberUnmount=="function")try{Zf.onCommitFiberUnmount(Gy,j)}catch{}switch(j.tag){case 5:Ys||kd(j,k);case 6:var se=Ps,me=pf;Ps=null,Mh(y,k,j),Ps=se,pf=me,Ps!==null&&(pf?(y=Ps,j=j.stateNode,y.nodeType===8?y.parentNode.removeChild(j):y.removeChild(j)):Ps.removeChild(j.stateNode));break;case 18:Ps!==null&&(pf?(y=Ps,j=j.stateNode,y.nodeType===8?U1(y.parentNode,j):y.nodeType===1&&U1(y,j),l0(y)):U1(Ps,j.stateNode));break;case 4:se=Ps,me=pf,Ps=j.stateNode.containerInfo,pf=!0,Mh(y,k,j),Ps=se,pf=me;break;case 0:case 11:case 14:case 15:if(!Ys&&(se=j.updateQueue,se!==null&&(se=se.lastEffect,se!==null))){me=se=se.next;do{var Pe=me,H=Pe.destroy;Pe=Pe.tag,H!==void 0&&(Pe&2||Pe&4)&&$x(j,k,H),me=me.next}while(me!==se)}Mh(y,k,j);break;case 1:if(!Ys&&(kd(j,k),se=j.stateNode,typeof se.componentWillUnmount=="function"))try{se.props=j.memoizedProps,se.state=j.memoizedState,se.componentWillUnmount()}catch(G){_o(j,k,G)}Mh(y,k,j);break;case 21:Mh(y,k,j);break;case 22:j.mode&1?(Ys=(se=Ys)||j.memoizedState!==null,Mh(y,k,j),Ys=se):Mh(y,k,j);break;default:Mh(y,k,j)}}function d4(y){var k=y.updateQueue;if(k!==null){y.updateQueue=null;var j=y.stateNode;j===null&&(j=y.stateNode=new t7),k.forEach(function(se){var me=c7.bind(null,y,se);j.has(se)||(j.add(se),se.then(me,me))})}}function cf(y,k){var j=k.deletions;if(j!==null)for(var se=0;se<j.length;se++){var me=j[se];try{var Pe=y,H=k,G=H;e:for(;G!==null;){switch(G.tag){case 5:Ps=G.stateNode,pf=!1;break e;case 3:Ps=G.stateNode.containerInfo,pf=!0;break e;case 4:Ps=G.stateNode.containerInfo,pf=!0;break e}G=G.return}if(Ps===null)throw Error(ba(160));CA(Pe,H,me),Ps=null,pf=!1;var e=me.alternate;e!==null&&(e.return=null),me.return=null}catch(g){_o(me,k,g)}}if(k.subtreeFlags&12854)for(k=k.child;k!==null;)LA(k,y),k=k.sibling}function LA(y,k){var j=y.alternate,se=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:if(cf(k,y),Vf(y),se&4){try{Qp(3,y,y.return),$y(3,y)}catch(d){_o(y,y.return,d)}try{Qp(5,y,y.return)}catch(d){_o(y,y.return,d)}}break;case 1:cf(k,y),Vf(y),se&512&&j!==null&&kd(j,j.return);break;case 5:if(cf(k,y),Vf(y),se&512&&j!==null&&kd(j,j.return),y.flags&32){var me=y.stateNode;try{a0(me,"")}catch(d){_o(y,y.return,d)}}if(se&4&&(me=y.stateNode,me!=null)){var Pe=y.memoizedProps,H=j!==null?j.memoizedProps:Pe,G=y.type,e=y.updateQueue;if(y.updateQueue=null,e!==null)try{G==="input"&&Pe.type==="radio"&&Pe.name!=null&&JT(me,Pe),Sx(G,H);var g=Sx(G,Pe);for(H=0;H<e.length;H+=2){var R=e[H],a=e[H+1];R==="style"?t5(me,a):R==="dangerouslySetInnerHTML"?qT(me,a):R==="children"?a0(me,a):kb(me,R,a,g)}switch(G){case"input":xx(me,Pe);break;case"textarea":$T(me,Pe);break;case"select":var C=me._wrapperState.wasMultiple;me._wrapperState.wasMultiple=!!Pe.multiple;var S=Pe.value;S!=null?Od(me,!!Pe.multiple,S,!1):C!==!!Pe.multiple&&(Pe.defaultValue!=null?Od(me,!!Pe.multiple,Pe.defaultValue,!0):Od(me,!!Pe.multiple,Pe.multiple?[]:"",!1))}me[v0]=Pe}catch(d){_o(y,y.return,d)}}break;case 6:if(cf(k,y),Vf(y),se&4){if(y.stateNode===null)throw Error(ba(162));me=y.stateNode,Pe=y.memoizedProps;try{me.nodeValue=Pe}catch(d){_o(y,y.return,d)}}break;case 3:if(cf(k,y),Vf(y),se&4&&j!==null&&j.memoizedState.isDehydrated)try{l0(k.containerInfo)}catch(d){_o(y,y.return,d)}break;case 4:cf(k,y),Vf(y);break;case 13:cf(k,y),Vf(y),me=y.child,me.flags&8192&&(Pe=me.memoizedState!==null,me.stateNode.isHidden=Pe,!Pe||me.alternate!==null&&me.alternate.memoizedState!==null||(h3=Vo())),se&4&&d4(y);break;case 22:if(R=j!==null&&j.memoizedState!==null,y.mode&1?(Ys=(g=Ys)||R,cf(k,y),Ys=g):cf(k,y),Vf(y),se&8192){if(g=y.memoizedState!==null,(y.stateNode.isHidden=g)&&!R&&y.mode&1)for(za=y,R=y.child;R!==null;){for(a=za=R;za!==null;){switch(C=za,S=C.child,C.tag){case 0:case 11:case 14:case 15:Qp(4,C,C.return);break;case 1:kd(C,C.return);var v=C.stateNode;if(typeof v.componentWillUnmount=="function"){se=C,j=C.return;try{k=se,v.props=k.memoizedProps,v.state=k.memoizedState,v.componentWillUnmount()}catch(d){_o(se,j,d)}}break;case 5:kd(C,C.return);break;case 22:if(C.memoizedState!==null){g4(a);continue}}S!==null?(S.return=C,za=S):g4(a)}R=R.sibling}e:for(R=null,a=y;;){if(a.tag===5){if(R===null){R=a;try{me=a.stateNode,g?(Pe=me.style,typeof Pe.setProperty=="function"?Pe.setProperty("display","none","important"):Pe.display="none"):(G=a.stateNode,e=a.memoizedProps.style,H=e!=null&&e.hasOwnProperty("display")?e.display:null,G.style.display=e5("display",H))}catch(d){_o(y,y.return,d)}}}else if(a.tag===6){if(R===null)try{a.stateNode.nodeValue=g?"":a.memoizedProps}catch(d){_o(y,y.return,d)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===y)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===y)break e;for(;a.sibling===null;){if(a.return===null||a.return===y)break e;R===a&&(R=null),a=a.return}R===a&&(R=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:cf(k,y),Vf(y),se&4&&d4(y);break;case 21:break;default:cf(k,y),Vf(y)}}function Vf(y){var k=y.flags;if(k&2){try{e:{for(var j=y.return;j!==null;){if(EA(j)){var se=j;break e}j=j.return}throw Error(ba(160))}switch(se.tag){case 5:var me=se.stateNode;se.flags&32&&(a0(me,""),se.flags&=-33);var Pe=v4(y);eb(y,Pe,me);break;case 3:case 4:var H=se.stateNode.containerInfo,G=v4(y);qx(y,G,H);break;default:throw Error(ba(161))}}catch(e){_o(y,y.return,e)}y.flags&=-3}k&4096&&(y.flags&=-4097)}function n7(y,k,j){za=y,PA(y)}function PA(y,k,j){for(var se=(y.mode&1)!==0;za!==null;){var me=za,Pe=me.child;if(me.tag===22&&se){var H=me.memoizedState!==null||Ig;if(!H){var G=me.alternate,e=G!==null&&G.memoizedState!==null||Ys;G=Ig;var g=Ys;if(Ig=H,(Ys=e)&&!g)for(za=me;za!==null;)H=za,e=H.child,H.tag===22&&H.memoizedState!==null?y4(me):e!==null?(e.return=H,za=e):y4(me);for(;Pe!==null;)za=Pe,PA(Pe),Pe=Pe.sibling;za=me,Ig=G,Ys=g}p4(y)}else me.subtreeFlags&8772&&Pe!==null?(Pe.return=me,za=Pe):p4(y)}}function p4(y){for(;za!==null;){var k=za;if(k.flags&8772){var j=k.alternate;try{if(k.flags&8772)switch(k.tag){case 0:case 11:case 15:Ys||$y(5,k);break;case 1:var se=k.stateNode;if(k.flags&4&&!Ys)if(j===null)se.componentDidMount();else{var me=k.elementType===k.type?j.memoizedProps:df(k.type,j.memoizedProps);se.componentDidUpdate(me,j.memoizedState,se.__reactInternalSnapshotBeforeUpdate)}var Pe=k.updateQueue;Pe!==null&&q2(k,Pe,se);break;case 3:var H=k.updateQueue;if(H!==null){if(j=null,k.child!==null)switch(k.child.tag){case 5:j=k.child.stateNode;break;case 1:j=k.child.stateNode}q2(k,H,j)}break;case 5:var G=k.stateNode;if(j===null&&k.flags&4){j=G;var e=k.memoizedProps;switch(k.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&j.focus();break;case"img":e.src&&(j.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(k.memoizedState===null){var g=k.alternate;if(g!==null){var R=g.memoizedState;if(R!==null){var a=R.dehydrated;a!==null&&l0(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ba(163))}Ys||k.flags&512&&Qx(k)}catch(C){_o(k,k.return,C)}}if(k===y){za=null;break}if(j=k.sibling,j!==null){j.return=k.return,za=j;break}za=k.return}}function g4(y){for(;za!==null;){var k=za;if(k===y){za=null;break}var j=k.sibling;if(j!==null){j.return=k.return,za=j;break}za=k.return}}function y4(y){for(;za!==null;){var k=za;try{switch(k.tag){case 0:case 11:case 15:var j=k.return;try{$y(4,k)}catch(e){_o(k,j,e)}break;case 1:var se=k.stateNode;if(typeof se.componentDidMount=="function"){var me=k.return;try{se.componentDidMount()}catch(e){_o(k,me,e)}}var Pe=k.return;try{Qx(k)}catch(e){_o(k,Pe,e)}break;case 5:var H=k.return;try{Qx(k)}catch(e){_o(k,H,e)}}}catch(e){_o(k,k.return,e)}if(k===y){za=null;break}var G=k.sibling;if(G!==null){G.return=k.return,za=G;break}za=k.return}}var a7=Math.ceil,Ry=Nc.ReactCurrentDispatcher,f3=Nc.ReactCurrentOwner,Ru=Nc.ReactCurrentBatchConfig,Li=0,vs=null,Qo=null,Ds=0,Gl=0,_d=Zh(0),is=0,x0=null,zv=0,Qy=0,c3=0,qp=null,Sl=null,h3=0,Jd=1/0,Mc=null,Dy=!1,tb=null,Uh=null,kg=!1,kh=null,Iy=0,e0=0,rb=null,Kg=-1,Jg=0;function ol(){return Li&6?Vo():Kg!==-1?Kg:Kg=Vo()}function Vh(y){return y.mode&1?Li&2&&Ds!==0?Ds&-Ds:VL.transition!==null?(Jg===0&&(Jg=v5()),Jg):(y=Ui,y!==0||(y=window.event,y=y===void 0?16:b5(y.type)),y):1}function mf(y,k,j,se){if(50<e0)throw e0=0,rb=null,Error(ba(185));I0(y,j,se),(!(Li&2)||y!==vs)&&(y===vs&&(!(Li&2)&&(Qy|=j),is===4&&Rh(y,Ds)),Ll(y,se),j===1&&Li===0&&!(k.mode&1)&&(Jd=Vo()+500,Zy&&Kh()))}function Ll(y,k){var j=y.callbackNode;VC(y,k);var se=py(y,y===vs?Ds:0);if(se===0)j!==null&&E2(j),y.callbackNode=null,y.callbackPriority=0;else if(k=se&-se,y.callbackPriority!==k){if(j!=null&&E2(j),k===1)y.tag===0?UL(m4.bind(null,y)):B5(m4.bind(null,y)),zL(function(){!(Li&6)&&Kh()}),j=null;else{switch(d5(se)){case 1:j=Nb;break;case 4:j=c5;break;case 16:j=dy;break;case 536870912:j=h5;break;default:j=dy}j=FA(j,RA.bind(null,y))}y.callbackPriority=k,y.callbackNode=j}}function RA(y,k){if(Kg=-1,Jg=0,Li&6)throw Error(ba(327));var j=y.callbackNode;if(Ud()&&y.callbackNode!==j)return null;var se=py(y,y===vs?Ds:0);if(se===0)return null;if(se&30||se&y.expiredLanes||k)k=ky(y,se);else{k=se;var me=Li;Li|=2;var Pe=IA();(vs!==y||Ds!==k)&&(Mc=null,Jd=Vo()+500,Rv(y,k));do try{s7();break}catch(G){DA(y,G)}while(!0);$b(),Ry.current=Pe,Li=me,Qo!==null?k=0:(vs=null,Ds=0,k=is)}if(k!==0){if(k===2&&(me=Px(y),me!==0&&(se=me,k=nb(y,me))),k===1)throw j=x0,Rv(y,0),Rh(y,se),Ll(y,Vo()),j;if(k===6)Rh(y,se);else{if(me=y.current.alternate,!(se&30)&&!i7(me)&&(k=ky(y,se),k===2&&(Pe=Px(y),Pe!==0&&(se=Pe,k=nb(y,Pe))),k===1))throw j=x0,Rv(y,0),Rh(y,se),Ll(y,Vo()),j;switch(y.finishedWork=me,y.finishedLanes=se,k){case 0:case 1:throw Error(ba(345));case 2:Mv(y,Sl,Mc);break;case 3:if(Rh(y,se),(se&130023424)===se&&(k=h3+500-Vo(),10<k)){if(py(y,0)!==0)break;if(me=y.suspendedLanes,(me&se)!==se){ol(),y.pingedLanes|=y.suspendedLanes&me;break}y.timeoutHandle=Fx(Mv.bind(null,y,Sl,Mc),k);break}Mv(y,Sl,Mc);break;case 4:if(Rh(y,se),(se&4194240)===se)break;for(k=y.eventTimes,me=-1;0<se;){var H=31-yf(se);Pe=1<<H,H=k[H],H>me&&(me=H),se&=~Pe}if(se=me,se=Vo()-se,se=(120>se?120:480>se?480:1080>se?1080:1920>se?1920:3e3>se?3e3:4320>se?4320:1960*a7(se/1960))-se,10<se){y.timeoutHandle=Fx(Mv.bind(null,y,Sl,Mc),se);break}Mv(y,Sl,Mc);break;case 5:Mv(y,Sl,Mc);break;default:throw Error(ba(329))}}}return Ll(y,Vo()),y.callbackNode===j?RA.bind(null,y):null}function nb(y,k){var j=qp;return y.current.memoizedState.isDehydrated&&(Rv(y,k).flags|=256),y=ky(y,k),y!==2&&(k=Sl,Sl=j,k!==null&&ab(k)),y}function ab(y){Sl===null?Sl=y:Sl.push.apply(Sl,y)}function i7(y){for(var k=y;;){if(k.flags&16384){var j=k.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var se=0;se<j.length;se++){var me=j[se],Pe=me.getSnapshot;me=me.value;try{if(!xf(Pe(),me))return!1}catch{return!1}}}if(j=k.child,k.subtreeFlags&16384&&j!==null)j.return=k,k=j;else{if(k===y)break;for(;k.sibling===null;){if(k.return===null||k.return===y)return!0;k=k.return}k.sibling.return=k.return,k=k.sibling}}return!0}function Rh(y,k){for(k&=~c3,k&=~Qy,y.suspendedLanes|=k,y.pingedLanes&=~k,y=y.expirationTimes;0<k;){var j=31-yf(k),se=1<<j;y[j]=-1,k&=~se}}function m4(y){if(Li&6)throw Error(ba(327));Ud();var k=py(y,0);if(!(k&1))return Ll(y,Vo()),null;var j=ky(y,k);if(y.tag!==0&&j===2){var se=Px(y);se!==0&&(k=se,j=nb(y,se))}if(j===1)throw j=x0,Rv(y,0),Rh(y,k),Ll(y,Vo()),j;if(j===6)throw Error(ba(345));return y.finishedWork=y.current.alternate,y.finishedLanes=k,Mv(y,Sl,Mc),Ll(y,Vo()),null}function v3(y,k){var j=Li;Li|=1;try{return y(k)}finally{Li=j,Li===0&&(Jd=Vo()+500,Zy&&Kh())}}function Fv(y){kh!==null&&kh.tag===0&&!(Li&6)&&Ud();var k=Li;Li|=1;var j=Ru.transition,se=Ui;try{if(Ru.transition=null,Ui=1,y)return y()}finally{Ui=se,Ru.transition=j,Li=k,!(Li&6)&&Kh()}}function d3(){Gl=_d.current,oo(_d)}function Rv(y,k){y.finishedWork=null,y.finishedLanes=0;var j=y.timeoutHandle;if(j!==-1&&(y.timeoutHandle=-1,OL(j)),Qo!==null)for(j=Qo.return;j!==null;){var se=j;switch(Zb(se),se.tag){case 1:se=se.type.childContextTypes,se!=null&&by();break;case 3:Zd(),oo(El),oo(Xs),n3();break;case 5:r3(se);break;case 4:Zd();break;case 13:oo(Mo);break;case 19:oo(Mo);break;case 10:Qb(se.type._context);break;case 22:case 23:d3()}j=j.return}if(vs=y,Qo=y=Hh(y.current,null),Ds=Gl=k,is=0,x0=null,c3=Qy=zv=0,Sl=qp=null,Cv!==null){for(k=0;k<Cv.length;k++)if(j=Cv[k],se=j.interleaved,se!==null){j.interleaved=null;var me=se.next,Pe=j.pending;if(Pe!==null){var H=Pe.next;Pe.next=me,se.next=H}j.pending=se}Cv=null}return y}function DA(y,k){do{var j=Qo;try{if($b(),Yg.current=Py,Ly){for(var se=Eo.memoizedState;se!==null;){var me=se.queue;me!==null&&(me.pending=null),se=se.next}Ly=!1}if(Ov=0,cs=as=Eo=null,$p=!1,g0=0,f3.current=null,j===null||j.return===null){is=1,x0=k,Qo=null;break}e:{var Pe=y,H=j.return,G=j,e=k;if(k=Ds,G.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,R=G,a=R.tag;if(!(R.mode&1)&&(a===0||a===11||a===15)){var C=R.alternate;C?(R.updateQueue=C.updateQueue,R.memoizedState=C.memoizedState,R.lanes=C.lanes):(R.updateQueue=null,R.memoizedState=null)}var S=i4(H);if(S!==null){S.flags&=-257,o4(S,H,G,Pe,k),S.mode&1&&a4(Pe,g,k),k=S,e=g;var v=k.updateQueue;if(v===null){var d=new Set;d.add(e),k.updateQueue=d}else v.add(e);break e}else{if(!(k&1)){a4(Pe,g,k),p3();break e}e=Error(ba(426))}}else if(vo&&G.mode&1){var r=i4(H);if(r!==null){!(r.flags&65536)&&(r.flags|=256),o4(r,H,G,Pe,k),Kb(Kd(e,G));break e}}Pe=e=Kd(e,G),is!==4&&(is=2),qp===null?qp=[Pe]:qp.push(Pe),Pe=H;do{switch(Pe.tag){case 3:Pe.flags|=65536,k&=-k,Pe.lanes|=k;var t=dA(Pe,e,k);Q2(Pe,t);break e;case 1:G=e;var i=Pe.type,n=Pe.stateNode;if(!(Pe.flags&128)&&(typeof i.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Uh===null||!Uh.has(n)))){Pe.flags|=65536,k&=-k,Pe.lanes|=k;var f=pA(Pe,G,k);Q2(Pe,f);break e}}Pe=Pe.return}while(Pe!==null)}_A(j)}catch(u){k=u,Qo===j&&j!==null&&(Qo=j=j.return);continue}break}while(!0)}function IA(){var y=Ry.current;return Ry.current=Py,y===null?Py:y}function p3(){(is===0||is===3||is===2)&&(is=4),vs===null||!(zv&268435455)&&!(Qy&268435455)||Rh(vs,Ds)}function ky(y,k){var j=Li;Li|=2;var se=IA();(vs!==y||Ds!==k)&&(Mc=null,Rv(y,k));do try{o7();break}catch(me){DA(y,me)}while(!0);if($b(),Li=j,Ry.current=se,Qo!==null)throw Error(ba(261));return vs=null,Ds=0,is}function o7(){for(;Qo!==null;)kA(Qo)}function s7(){for(;Qo!==null&&!IC();)kA(Qo)}function kA(y){var k=zA(y.alternate,y,Gl);y.memoizedProps=y.pendingProps,k===null?_A(y):Qo=k,f3.current=null}function _A(y){var k=y;do{var j=k.alternate;if(y=k.return,k.flags&32768){if(j=e7(j,k),j!==null){j.flags&=32767,Qo=j;return}if(y!==null)y.flags|=32768,y.subtreeFlags=0,y.deletions=null;else{is=6,Qo=null;return}}else if(j=qL(j,k,Gl),j!==null){Qo=j;return}if(k=k.sibling,k!==null){Qo=k;return}Qo=k=y}while(k!==null);is===0&&(is=5)}function Mv(y,k,j){var se=Ui,me=Ru.transition;try{Ru.transition=null,Ui=1,l7(y,k,j,se)}finally{Ru.transition=me,Ui=se}return null}function l7(y,k,j,se){do Ud();while(kh!==null);if(Li&6)throw Error(ba(327));j=y.finishedWork;var me=y.finishedLanes;if(j===null)return null;if(y.finishedWork=null,y.finishedLanes=0,j===y.current)throw Error(ba(177));y.callbackNode=null,y.callbackPriority=0;var Pe=j.lanes|j.childLanes;if(HC(y,Pe),y===vs&&(Qo=vs=null,Ds=0),!(j.subtreeFlags&2064)&&!(j.flags&2064)||kg||(kg=!0,FA(dy,function(){return Ud(),null})),Pe=(j.flags&15990)!==0,j.subtreeFlags&15990||Pe){Pe=Ru.transition,Ru.transition=null;var H=Ui;Ui=1;var G=Li;Li|=4,f3.current=null,r7(y,j),LA(j,y),LL(Ox),gy=!!_x,Ox=_x=null,y.current=j,n7(j),kC(),Li=G,Ui=H,Ru.transition=Pe}else y.current=j;if(kg&&(kg=!1,kh=y,Iy=me),Pe=y.pendingLanes,Pe===0&&(Uh=null),zC(j.stateNode),Ll(y,Vo()),k!==null)for(se=y.onRecoverableError,j=0;j<k.length;j++)me=k[j],se(me.value,{componentStack:me.stack,digest:me.digest});if(Dy)throw Dy=!1,y=tb,tb=null,y;return Iy&1&&y.tag!==0&&Ud(),Pe=y.pendingLanes,Pe&1?y===rb?e0++:(e0=0,rb=y):e0=0,Kh(),null}function Ud(){if(kh!==null){var y=d5(Iy),k=Ru.transition,j=Ui;try{if(Ru.transition=null,Ui=16>y?16:y,kh===null)var se=!1;else{if(y=kh,kh=null,Iy=0,Li&6)throw Error(ba(331));var me=Li;for(Li|=4,za=y.current;za!==null;){var Pe=za,H=Pe.child;if(za.flags&16){var G=Pe.deletions;if(G!==null){for(var e=0;e<G.length;e++){var g=G[e];for(za=g;za!==null;){var R=za;switch(R.tag){case 0:case 11:case 15:Qp(8,R,Pe)}var a=R.child;if(a!==null)a.return=R,za=a;else for(;za!==null;){R=za;var C=R.sibling,S=R.return;if(MA(R),R===g){za=null;break}if(C!==null){C.return=S,za=C;break}za=S}}}var v=Pe.alternate;if(v!==null){var d=v.child;if(d!==null){v.child=null;do{var r=d.sibling;d.sibling=null,d=r}while(d!==null)}}za=Pe}}if(Pe.subtreeFlags&2064&&H!==null)H.return=Pe,za=H;else e:for(;za!==null;){if(Pe=za,Pe.flags&2048)switch(Pe.tag){case 0:case 11:case 15:Qp(9,Pe,Pe.return)}var t=Pe.sibling;if(t!==null){t.return=Pe.return,za=t;break e}za=Pe.return}}var i=y.current;for(za=i;za!==null;){H=za;var n=H.child;if(H.subtreeFlags&2064&&n!==null)n.return=H,za=n;else e:for(H=i;za!==null;){if(G=za,G.flags&2048)try{switch(G.tag){case 0:case 11:case 15:$y(9,G)}}catch(u){_o(G,G.return,u)}if(G===H){za=null;break e}var f=G.sibling;if(f!==null){f.return=G.return,za=f;break e}za=G.return}}if(Li=me,Kh(),Zf&&typeof Zf.onPostCommitFiberRoot=="function")try{Zf.onPostCommitFiberRoot(Gy,y)}catch{}se=!0}return se}finally{Ui=j,Ru.transition=k}}return!1}function x4(y,k,j){k=Kd(j,k),k=dA(y,k,1),y=Bh(y,k,1),k=ol(),y!==null&&(I0(y,1,k),Ll(y,k))}function _o(y,k,j){if(y.tag===3)x4(y,y,j);else for(;k!==null;){if(k.tag===3){x4(k,y,j);break}else if(k.tag===1){var se=k.stateNode;if(typeof k.type.getDerivedStateFromError=="function"||typeof se.componentDidCatch=="function"&&(Uh===null||!Uh.has(se))){y=Kd(j,y),y=pA(k,y,1),k=Bh(k,y,1),y=ol(),k!==null&&(I0(k,1,y),Ll(k,y));break}}k=k.return}}function u7(y,k,j){var se=y.pingCache;se!==null&&se.delete(k),k=ol(),y.pingedLanes|=y.suspendedLanes&j,vs===y&&(Ds&j)===j&&(is===4||is===3&&(Ds&130023424)===Ds&&500>Vo()-h3?Rv(y,0):c3|=j),Ll(y,k)}function OA(y,k){k===0&&(y.mode&1?(k=Ag,Ag<<=1,!(Ag&130023424)&&(Ag=4194304)):k=1);var j=ol();y=_c(y,k),y!==null&&(I0(y,k,j),Ll(y,j))}function f7(y){var k=y.memoizedState,j=0;k!==null&&(j=k.retryLane),OA(y,j)}function c7(y,k){var j=0;switch(y.tag){case 13:var se=y.stateNode,me=y.memoizedState;me!==null&&(j=me.retryLane);break;case 19:se=y.stateNode;break;default:throw Error(ba(314))}se!==null&&se.delete(k),OA(y,j)}var zA;zA=function(y,k,j){if(y!==null)if(y.memoizedProps!==k.pendingProps||El.current)Ml=!0;else{if(!(y.lanes&j)&&!(k.flags&128))return Ml=!1,QL(y,k,j);Ml=!!(y.flags&131072)}else Ml=!1,vo&&k.flags&1048576&&U5(k,Ay,k.index);switch(k.lanes=0,k.tag){case 2:var se=k.type;Zg(y,k),y=k.pendingProps;var me=jd(k,Xs.current);Bd(k,j),me=i3(null,k,se,y,me,j);var Pe=o3();return k.flags|=1,typeof me=="object"&&me!==null&&typeof me.render=="function"&&me.$$typeof===void 0?(k.tag=1,k.memoizedState=null,k.updateQueue=null,Cl(se)?(Pe=!0,wy(k)):Pe=!1,k.memoizedState=me.state!==null&&me.state!==void 0?me.state:null,e3(k),me.updater=Jy,k.stateNode=me,me._reactInternals=k,Wx(k,se,y,j),k=Xx(null,k,se,!0,Pe,j)):(k.tag=0,vo&&Pe&&Xb(k),al(null,k,me,j),k=k.child),k;case 16:se=k.elementType;e:{switch(Zg(y,k),y=k.pendingProps,me=se._init,se=me(se._payload),k.type=se,me=k.tag=v7(se),y=df(se,y),me){case 0:k=Yx(null,k,se,y,j);break e;case 1:k=u4(null,k,se,y,j);break e;case 11:k=s4(null,k,se,y,j);break e;case 14:k=l4(null,k,se,df(se.type,y),j);break e}throw Error(ba(306,se,""))}return k;case 0:return se=k.type,me=k.pendingProps,me=k.elementType===se?me:df(se,me),Yx(y,k,se,me,j);case 1:return se=k.type,me=k.pendingProps,me=k.elementType===se?me:df(se,me),u4(y,k,se,me,j);case 3:e:{if(xA(k),y===null)throw Error(ba(387));se=k.pendingProps,Pe=k.memoizedState,me=Pe.element,Y5(y,k),Ey(k,se,null,j);var H=k.memoizedState;if(se=H.element,Pe.isDehydrated)if(Pe={element:se,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},k.updateQueue.baseState=Pe,k.memoizedState=Pe,k.flags&256){me=Kd(Error(ba(423)),k),k=f4(y,k,se,j,me);break e}else if(se!==me){me=Kd(Error(ba(424)),k),k=f4(y,k,se,j,me);break e}else for(jl=Nh(k.stateNode.containerInfo.firstChild),Xl=k,vo=!0,gf=null,j=W5(k,null,se,j),k.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Yd(),se===me){k=Oc(y,k,j);break e}al(y,k,se,j)}k=k.child}return k;case 5:return X5(k),y===null&&Vx(k),se=k.type,me=k.pendingProps,Pe=y!==null?y.memoizedProps:null,H=me.children,zx(se,me)?H=null:Pe!==null&&zx(se,Pe)&&(k.flags|=32),mA(y,k),al(y,k,H,j),k.child;case 6:return y===null&&Vx(k),null;case 13:return bA(y,k,j);case 4:return t3(k,k.stateNode.containerInfo),se=k.pendingProps,y===null?k.child=Xd(k,null,se,j):al(y,k,se,j),k.child;case 11:return se=k.type,me=k.pendingProps,me=k.elementType===se?me:df(se,me),s4(y,k,se,me,j);case 7:return al(y,k,k.pendingProps,j),k.child;case 8:return al(y,k,k.pendingProps.children,j),k.child;case 12:return al(y,k,k.pendingProps.children,j),k.child;case 10:e:{if(se=k.type._context,me=k.pendingProps,Pe=k.memoizedProps,H=me.value,qi(Sy,se._currentValue),se._currentValue=H,Pe!==null)if(xf(Pe.value,H)){if(Pe.children===me.children&&!El.current){k=Oc(y,k,j);break e}}else for(Pe=k.child,Pe!==null&&(Pe.return=k);Pe!==null;){var G=Pe.dependencies;if(G!==null){H=Pe.child;for(var e=G.firstContext;e!==null;){if(e.context===se){if(Pe.tag===1){e=Rc(-1,j&-j),e.tag=2;var g=Pe.updateQueue;if(g!==null){g=g.shared;var R=g.pending;R===null?e.next=e:(e.next=R.next,R.next=e),g.pending=e}}Pe.lanes|=j,e=Pe.alternate,e!==null&&(e.lanes|=j),Hx(Pe.return,j,k),G.lanes|=j;break}e=e.next}}else if(Pe.tag===10)H=Pe.type===k.type?null:Pe.child;else if(Pe.tag===18){if(H=Pe.return,H===null)throw Error(ba(341));H.lanes|=j,G=H.alternate,G!==null&&(G.lanes|=j),Hx(H,j,k),H=Pe.sibling}else H=Pe.child;if(H!==null)H.return=Pe;else for(H=Pe;H!==null;){if(H===k){H=null;break}if(Pe=H.sibling,Pe!==null){Pe.return=H.return,H=Pe;break}H=H.return}Pe=H}al(y,k,me.children,j),k=k.child}return k;case 9:return me=k.type,se=k.pendingProps.children,Bd(k,j),me=ku(me),se=se(me),k.flags|=1,al(y,k,se,j),k.child;case 14:return se=k.type,me=df(se,k.pendingProps),me=df(se.type,me),l4(y,k,se,me,j);case 15:return gA(y,k,k.type,k.pendingProps,j);case 17:return se=k.type,me=k.pendingProps,me=k.elementType===se?me:df(se,me),Zg(y,k),k.tag=1,Cl(se)?(y=!0,wy(k)):y=!1,Bd(k,j),vA(k,se,me),Wx(k,se,me,j),Xx(null,k,se,!0,y,j);case 19:return wA(y,k,j);case 22:return yA(y,k,j)}throw Error(ba(156,k.tag))};function FA(y,k){return f5(y,k)}function h7(y,k,j,se){this.tag=y,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=k,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=se,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(y,k,j,se){return new h7(y,k,j,se)}function g3(y){return y=y.prototype,!(!y||!y.isReactComponent)}function v7(y){if(typeof y=="function")return g3(y)?1:0;if(y!=null){if(y=y.$$typeof,y===Ob)return 11;if(y===zb)return 14}return 2}function Hh(y,k){var j=y.alternate;return j===null?(j=Pu(y.tag,k,y.key,y.mode),j.elementType=y.elementType,j.type=y.type,j.stateNode=y.stateNode,j.alternate=y,y.alternate=j):(j.pendingProps=k,j.type=y.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=y.flags&14680064,j.childLanes=y.childLanes,j.lanes=y.lanes,j.child=y.child,j.memoizedProps=y.memoizedProps,j.memoizedState=y.memoizedState,j.updateQueue=y.updateQueue,k=y.dependencies,j.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext},j.sibling=y.sibling,j.index=y.index,j.ref=y.ref,j}function $g(y,k,j,se,me,Pe){var H=2;if(se=y,typeof y=="function")g3(y)&&(H=1);else if(typeof y=="string")H=5;else e:switch(y){case Sd:return Dv(j.children,me,Pe,k);case _b:H=8,me|=8;break;case dx:return y=Pu(12,j,k,me|2),y.elementType=dx,y.lanes=Pe,y;case px:return y=Pu(13,j,k,me),y.elementType=px,y.lanes=Pe,y;case gx:return y=Pu(19,j,k,me),y.elementType=gx,y.lanes=Pe,y;case XT:return qy(j,me,Pe,k);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case jT:H=10;break e;case YT:H=9;break e;case Ob:H=11;break e;case zb:H=14;break e;case Ch:H=16,se=null;break e}throw Error(ba(130,y==null?y:typeof y,""))}return k=Pu(H,j,k,me),k.elementType=y,k.type=se,k.lanes=Pe,k}function Dv(y,k,j,se){return y=Pu(7,y,se,k),y.lanes=j,y}function qy(y,k,j,se){return y=Pu(22,y,se,k),y.elementType=XT,y.lanes=j,y.stateNode={isHidden:!1},y}function Z1(y,k,j){return y=Pu(6,y,null,k),y.lanes=j,y}function K1(y,k,j){return k=Pu(4,y.children!==null?y.children:[],y.key,k),k.lanes=j,k.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},k}function d7(y,k,j,se,me){this.tag=k,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P1(0),this.expirationTimes=P1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P1(0),this.identifierPrefix=se,this.onRecoverableError=me,this.mutableSourceEagerHydrationData=null}function y3(y,k,j,se,me,Pe,H,G,e){return y=new d7(y,k,j,G,e),k===1?(k=1,Pe===!0&&(k|=8)):k=0,Pe=Pu(3,null,null,k),y.current=Pe,Pe.stateNode=y,Pe.memoizedState={element:se,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},e3(Pe),y}function p7(y,k,j){var se=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ad,key:se==null?null:""+se,children:y,containerInfo:k,implementation:j}}function NA(y){if(!y)return jh;y=y._reactInternals;e:{if(Uv(y)!==y||y.tag!==1)throw Error(ba(170));var k=y;do{switch(k.tag){case 3:k=k.stateNode.context;break e;case 1:if(Cl(k.type)){k=k.stateNode.__reactInternalMemoizedMergedChildContext;break e}}k=k.return}while(k!==null);throw Error(ba(171))}if(y.tag===1){var j=y.type;if(Cl(j))return N5(y,j,k)}return k}function BA(y,k,j,se,me,Pe,H,G,e){return y=y3(j,se,!0,y,me,Pe,H,G,e),y.context=NA(null),j=y.current,se=ol(),me=Vh(j),Pe=Rc(se,me),Pe.callback=k??null,Bh(j,Pe,me),y.current.lanes=me,I0(y,me,se),Ll(y,se),y}function em(y,k,j,se){var me=k.current,Pe=ol(),H=Vh(me);return j=NA(j),k.context===null?k.context=j:k.pendingContext=j,k=Rc(Pe,H),k.payload={element:y},se=se===void 0?null:se,se!==null&&(k.callback=se),y=Bh(me,k,H),y!==null&&(mf(y,me,H,Pe),jg(y,me,H)),H}function _y(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 5:return y.child.stateNode;default:return y.child.stateNode}}function b4(y,k){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var j=y.retryLane;y.retryLane=j!==0&&j<k?j:k}}function m3(y,k){b4(y,k),(y=y.alternate)&&b4(y,k)}function g7(){return null}var UA=typeof reportError=="function"?reportError:function(y){console.error(y)};function x3(y){this._internalRoot=y}tm.prototype.render=x3.prototype.render=function(y){var k=this._internalRoot;if(k===null)throw Error(ba(409));em(y,k,null,null)};tm.prototype.unmount=x3.prototype.unmount=function(){var y=this._internalRoot;if(y!==null){this._internalRoot=null;var k=y.containerInfo;Fv(function(){em(null,y,null,null)}),k[kc]=null}};function tm(y){this._internalRoot=y}tm.prototype.unstable_scheduleHydration=function(y){if(y){var k=y5();y={blockedOn:null,target:y,priority:k};for(var j=0;j<Ph.length&&k!==0&&k<Ph[j].priority;j++);Ph.splice(j,0,y),j===0&&x5(y)}};function b3(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)}function rm(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11&&(y.nodeType!==8||y.nodeValue!==" react-mount-point-unstable "))}function w4(){}function y7(y,k,j,se,me){if(me){if(typeof se=="function"){var Pe=se;se=function(){var g=_y(H);Pe.call(g)}}var H=BA(k,se,y,0,null,!1,!1,"",w4);return y._reactRootContainer=H,y[kc]=H.current,c0(y.nodeType===8?y.parentNode:y),Fv(),H}for(;me=y.lastChild;)y.removeChild(me);if(typeof se=="function"){var G=se;se=function(){var g=_y(e);G.call(g)}}var e=y3(y,0,!1,null,null,!1,!1,"",w4);return y._reactRootContainer=e,y[kc]=e.current,c0(y.nodeType===8?y.parentNode:y),Fv(function(){em(k,e,j,se)}),e}function nm(y,k,j,se,me){var Pe=j._reactRootContainer;if(Pe){var H=Pe;if(typeof me=="function"){var G=me;me=function(){var e=_y(H);G.call(e)}}em(k,H,y,me)}else H=y7(j,k,y,me,se);return _y(H)}p5=function(y){switch(y.tag){case 3:var k=y.stateNode;if(k.current.memoizedState.isDehydrated){var j=Gp(k.pendingLanes);j!==0&&(Bb(k,j|1),Ll(k,Vo()),!(Li&6)&&(Jd=Vo()+500,Kh()))}break;case 13:Fv(function(){var se=_c(y,1);if(se!==null){var me=ol();mf(se,y,1,me)}}),m3(y,1)}};Ub=function(y){if(y.tag===13){var k=_c(y,134217728);if(k!==null){var j=ol();mf(k,y,134217728,j)}m3(y,134217728)}};g5=function(y){if(y.tag===13){var k=Vh(y),j=_c(y,k);if(j!==null){var se=ol();mf(j,y,k,se)}m3(y,k)}};y5=function(){return Ui};m5=function(y,k){var j=Ui;try{return Ui=y,k()}finally{Ui=j}};Ex=function(y,k,j){switch(k){case"input":if(xx(y,j),k=j.name,j.type==="radio"&&k!=null){for(j=y;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+k)+'][type="radio"]'),k=0;k<j.length;k++){var se=j[k];if(se!==y&&se.form===y.form){var me=Xy(se);if(!me)throw Error(ba(90));KT(se),xx(se,me)}}}break;case"textarea":$T(y,j);break;case"select":k=j.value,k!=null&&Od(y,!!j.multiple,k,!1)}};a5=v3;i5=Fv;var m7={usingClientEntryPoint:!1,Events:[_0,Ld,Xy,r5,n5,v3]},Fp={findFiberByHostInstance:Ev,bundleType:0,version:"18.3.0",rendererPackageName:"react-dom"},x7={bundleType:Fp.bundleType,version:Fp.version,rendererPackageName:Fp.rendererPackageName,rendererConfig:Fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nc.ReactCurrentDispatcher,findHostInstanceByFiber:function(y){return y=l5(y),y===null?null:y.stateNode},findFiberByHostInstance:Fp.findFiberByHostInstance||g7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.0-next-8a015b68cc-20240425"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_g.isDisabled&&_g.supportsFiber)try{Gy=_g.inject(x7),Zf=_g}catch{}}Jl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m7;Jl.createPortal=function(y,k){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b3(k))throw Error(ba(200));return p7(y,k,null,j)};Jl.createRoot=function(y,k){if(!b3(y))throw Error(ba(299));var j=!1,se="",me=UA;return k!=null&&(k.unstable_strictMode===!0&&(j=!0),k.identifierPrefix!==void 0&&(se=k.identifierPrefix),k.onRecoverableError!==void 0&&(me=k.onRecoverableError)),k=y3(y,1,!1,null,null,j,!1,se,me),y[kc]=k.current,c0(y.nodeType===8?y.parentNode:y),new x3(k)};Jl.findDOMNode=function(y){if(y==null)return null;if(y.nodeType===1)return y;var k=y._reactInternals;if(k===void 0)throw typeof y.render=="function"?Error(ba(188)):(y=Object.keys(y).join(","),Error(ba(268,y)));return y=l5(k),y=y===null?null:y.stateNode,y};Jl.flushSync=function(y){return Fv(y)};Jl.hydrate=function(y,k,j){if(!rm(k))throw Error(ba(200));return nm(null,y,k,!0,j)};Jl.hydrateRoot=function(y,k,j){if(!b3(y))throw Error(ba(405));var se=j!=null&&j.hydratedSources||null,me=!1,Pe="",H=UA;if(j!=null&&(j.unstable_strictMode===!0&&(me=!0),j.identifierPrefix!==void 0&&(Pe=j.identifierPrefix),j.onRecoverableError!==void 0&&(H=j.onRecoverableError)),k=BA(k,null,y,1,j??null,me,!1,Pe,H),y[kc]=k.current,c0(y),se)for(y=0;y<se.length;y++)j=se[y],me=j._getVersion,me=me(j._source),k.mutableSourceEagerHydrationData==null?k.mutableSourceEagerHydrationData=[j,me]:k.mutableSourceEagerHydrationData.push(j,me);return new tm(k)};Jl.render=function(y,k,j){if(!rm(k))throw Error(ba(200));return nm(null,y,k,!1,j)};Jl.unmountComponentAtNode=function(y){if(!rm(y))throw Error(ba(40));return y._reactRootContainer?(Fv(function(){nm(null,null,y,!1,function(){y._reactRootContainer=null,y[kc]=null})}),!0):!1};Jl.unstable_batchedUpdates=v3;Jl.unstable_renderSubtreeIntoContainer=function(y,k,j,se){if(!rm(j))throw Error(ba(200));if(y==null||y._reactInternals===void 0)throw Error(ba(38));return nm(y,k,j,!1,se)};Jl.version="18.3.0-next-8a015b68cc-20240425";function VA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VA)}catch(y){console.error(y)}}VA(),VT.exports=Jl;var b7=VT.exports,T4=b7;hx.createRoot=T4.createRoot,hx.hydrateRoot=T4.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(){return b0=Object.assign?Object.assign.bind():function(y){for(var k=1;k<arguments.length;k++){var j=arguments[k];for(var se in j)Object.prototype.hasOwnProperty.call(j,se)&&(y[se]=j[se])}return y},b0.apply(this,arguments)}var _h;(function(y){y.Pop="POP",y.Push="PUSH",y.Replace="REPLACE"})(_h||(_h={}));const A4="popstate";function w7(y){y===void 0&&(y={});function k(se,me){let{pathname:Pe,search:H,hash:G}=se.location;return ib("",{pathname:Pe,search:H,hash:G},me.state&&me.state.usr||null,me.state&&me.state.key||"default")}function j(se,me){return typeof me=="string"?me:Oy(me)}return A7(k,j,null,y)}function qo(y,k){if(y===!1||y===null||typeof y>"u")throw new Error(k)}function HA(y,k){if(!y){typeof console<"u"&&console.warn(k);try{throw new Error(k)}catch{}}}function T7(){return Math.random().toString(36).substr(2,8)}function S4(y,k){return{usr:y.state,key:y.key,idx:k}}function ib(y,k,j,se){return j===void 0&&(j=null),b0({pathname:typeof y=="string"?y:y.pathname,search:"",hash:""},typeof k=="string"?rp(k):k,{state:j,key:k&&k.key||se||T7()})}function Oy(y){let{pathname:k="/",search:j="",hash:se=""}=y;return j&&j!=="?"&&(k+=j.charAt(0)==="?"?j:"?"+j),se&&se!=="#"&&(k+=se.charAt(0)==="#"?se:"#"+se),k}function rp(y){let k={};if(y){let j=y.indexOf("#");j>=0&&(k.hash=y.substr(j),y=y.substr(0,j));let se=y.indexOf("?");se>=0&&(k.search=y.substr(se),y=y.substr(0,se)),y&&(k.pathname=y)}return k}function A7(y,k,j,se){se===void 0&&(se={});let{window:me=document.defaultView,v5Compat:Pe=!1}=se,H=me.history,G=_h.Pop,e=null,g=R();g==null&&(g=0,H.replaceState(b0({},H.state,{idx:g}),""));function R(){return(H.state||{idx:null}).idx}function a(){G=_h.Pop;let r=R(),t=r==null?null:r-g;g=r,e&&e({action:G,location:d.location,delta:t})}function C(r,t){G=_h.Push;let i=ib(d.location,r,t);j&&j(i,r),g=R()+1;let n=S4(i,g),f=d.createHref(i);try{H.pushState(n,"",f)}catch(u){if(u instanceof DOMException&&u.name==="DataCloneError")throw u;me.location.assign(f)}Pe&&e&&e({action:G,location:d.location,delta:1})}function S(r,t){G=_h.Replace;let i=ib(d.location,r,t);j&&j(i,r),g=R();let n=S4(i,g),f=d.createHref(i);H.replaceState(n,"",f),Pe&&e&&e({action:G,location:d.location,delta:0})}function v(r){let t=me.location.origin!=="null"?me.location.origin:me.location.href,i=typeof r=="string"?r:Oy(r);return i=i.replace(/ $/,"%20"),qo(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}let d={get action(){return G},get location(){return y(me,H)},listen(r){if(e)throw new Error("A history only accepts one active listener");return me.addEventListener(A4,a),e=r,()=>{me.removeEventListener(A4,a),e=null}},createHref(r){return k(me,r)},createURL:v,encodeLocation(r){let t=v(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:C,replace:S,go(r){return H.go(r)}};return d}var M4;(function(y){y.data="data",y.deferred="deferred",y.redirect="redirect",y.error="error"})(M4||(M4={}));function S7(y,k,j){j===void 0&&(j="/");let se=typeof k=="string"?rp(k):k,me=w3(se.pathname||"/",j);if(me==null)return null;let Pe=GA(y);M7(Pe);let H=null;for(let G=0;H==null&&G<Pe.length;++G){let e=F7(me);H=_7(Pe[G],e)}return H}function GA(y,k,j,se){k===void 0&&(k=[]),j===void 0&&(j=[]),se===void 0&&(se="");let me=(Pe,H,G)=>{let e={relativePath:G===void 0?Pe.path||"":G,caseSensitive:Pe.caseSensitive===!0,childrenIndex:H,route:Pe};e.relativePath.startsWith("/")&&(qo(e.relativePath.startsWith(se),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+se+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(se.length));let g=Gh([se,e.relativePath]),R=j.concat(e);Pe.children&&Pe.children.length>0&&(qo(Pe.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),GA(Pe.children,k,R,g)),!(Pe.path==null&&!Pe.index)&&k.push({path:g,score:I7(g,Pe.index),routesMeta:R})};return y.forEach((Pe,H)=>{var G;if(Pe.path===""||!((G=Pe.path)!=null&&G.includes("?")))me(Pe,H);else for(let e of WA(Pe.path))me(Pe,H,e)}),k}function WA(y){let k=y.split("/");if(k.length===0)return[];let[j,...se]=k,me=j.endsWith("?"),Pe=j.replace(/\?$/,"");if(se.length===0)return me?[Pe,""]:[Pe];let H=WA(se.join("/")),G=[];return G.push(...H.map(e=>e===""?Pe:[Pe,e].join("/"))),me&&G.push(...H),G.map(e=>y.startsWith("/")&&e===""?"/":e)}function M7(y){y.sort((k,j)=>k.score!==j.score?j.score-k.score:k7(k.routesMeta.map(se=>se.childrenIndex),j.routesMeta.map(se=>se.childrenIndex)))}const E7=/^:[\w-]+$/,C7=3,L7=2,P7=1,R7=10,D7=-2,E4=y=>y==="*";function I7(y,k){let j=y.split("/"),se=j.length;return j.some(E4)&&(se+=D7),k&&(se+=L7),j.filter(me=>!E4(me)).reduce((me,Pe)=>me+(E7.test(Pe)?C7:Pe===""?P7:R7),se)}function k7(y,k){return y.length===k.length&&y.slice(0,-1).every((se,me)=>se===k[me])?y[y.length-1]-k[k.length-1]:0}function _7(y,k){let{routesMeta:j}=y,se={},me="/",Pe=[];for(let H=0;H<j.length;++H){let G=j[H],e=H===j.length-1,g=me==="/"?k:k.slice(me.length)||"/",R=O7({path:G.relativePath,caseSensitive:G.caseSensitive,end:e},g);if(!R)return null;Object.assign(se,R.params);let a=G.route;Pe.push({params:se,pathname:Gh([me,R.pathname]),pathnameBase:V7(Gh([me,R.pathnameBase])),route:a}),R.pathnameBase!=="/"&&(me=Gh([me,R.pathnameBase]))}return Pe}function O7(y,k){typeof y=="string"&&(y={path:y,caseSensitive:!1,end:!0});let[j,se]=z7(y.path,y.caseSensitive,y.end),me=k.match(j);if(!me)return null;let Pe=me[0],H=Pe.replace(/(.)\/+$/,"$1"),G=me.slice(1);return{params:se.reduce((g,R,a)=>{let{paramName:C,isOptional:S}=R;if(C==="*"){let d=G[a]||"";H=Pe.slice(0,Pe.length-d.length).replace(/(.)\/+$/,"$1")}const v=G[a];return S&&!v?g[C]=void 0:g[C]=(v||"").replace(/%2F/g,"/"),g},{}),pathname:Pe,pathnameBase:H,pattern:y}}function z7(y,k,j){k===void 0&&(k=!1),j===void 0&&(j=!0),HA(y==="*"||!y.endsWith("*")||y.endsWith("/*"),'Route path "'+y+'" will be treated as if it were '+('"'+y.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+y.replace(/\*$/,"/*")+'".'));let se=[],me="^"+y.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(H,G,e)=>(se.push({paramName:G,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return y.endsWith("*")?(se.push({paramName:"*"}),me+=y==="*"||y==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):j?me+="\\/*$":y!==""&&y!=="/"&&(me+="(?:(?=\\/|$))"),[new RegExp(me,k?void 0:"i"),se]}function F7(y){try{return y.split("/").map(k=>decodeURIComponent(k).replace(/\//g,"%2F")).join("/")}catch(k){return HA(!1,'The URL path "'+y+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+k+").")),y}}function w3(y,k){if(k==="/")return y;if(!y.toLowerCase().startsWith(k.toLowerCase()))return null;let j=k.endsWith("/")?k.length-1:k.length,se=y.charAt(j);return se&&se!=="/"?null:y.slice(j)||"/"}function N7(y,k){k===void 0&&(k="/");let{pathname:j,search:se="",hash:me=""}=typeof y=="string"?rp(y):y;return{pathname:j?j.startsWith("/")?j:B7(j,k):k,search:H7(se),hash:G7(me)}}function B7(y,k){let j=k.replace(/\/+$/,"").split("/");return y.split("/").forEach(me=>{me===".."?j.length>1&&j.pop():me!=="."&&j.push(me)}),j.length>1?j.join("/"):"/"}function J1(y,k,j,se){return"Cannot include a '"+y+"' character in a manually specified "+("`to."+k+"` field ["+JSON.stringify(se)+"].  Please separate it out to the ")+("`to."+j+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U7(y){return y.filter((k,j)=>j===0||k.route.path&&k.route.path.length>0)}function jA(y,k){let j=U7(y);return k?j.map((se,me)=>me===y.length-1?se.pathname:se.pathnameBase):j.map(se=>se.pathnameBase)}function YA(y,k,j,se){se===void 0&&(se=!1);let me;typeof y=="string"?me=rp(y):(me=b0({},y),qo(!me.pathname||!me.pathname.includes("?"),J1("?","pathname","search",me)),qo(!me.pathname||!me.pathname.includes("#"),J1("#","pathname","hash",me)),qo(!me.search||!me.search.includes("#"),J1("#","search","hash",me)));let Pe=y===""||me.pathname==="",H=Pe?"/":me.pathname,G;if(H==null)G=j;else{let a=k.length-1;if(!se&&H.startsWith("..")){let C=H.split("/");for(;C[0]==="..";)C.shift(),a-=1;me.pathname=C.join("/")}G=a>=0?k[a]:"/"}let e=N7(me,G),g=H&&H!=="/"&&H.endsWith("/"),R=(Pe||H===".")&&j.endsWith("/");return!e.pathname.endsWith("/")&&(g||R)&&(e.pathname+="/"),e}const Gh=y=>y.join("/").replace(/\/\/+/g,"/"),V7=y=>y.replace(/\/+$/,"").replace(/^\/*/,"/"),H7=y=>!y||y==="?"?"":y.startsWith("?")?y:"?"+y,G7=y=>!y||y==="#"?"":y.startsWith("#")?y:"#"+y;function W7(y){return y!=null&&typeof y.status=="number"&&typeof y.statusText=="string"&&typeof y.internal=="boolean"&&"data"in y}const XA=["post","put","patch","delete"];new Set(XA);const j7=["get",...XA];new Set(j7);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w0(){return w0=Object.assign?Object.assign.bind():function(y){for(var k=1;k<arguments.length;k++){var j=arguments[k];for(var se in j)Object.prototype.hasOwnProperty.call(j,se)&&(y[se]=j[se])}return y},w0.apply(this,arguments)}const T3=Vn.createContext(null),Y7=Vn.createContext(null),Vv=Vn.createContext(null),am=Vn.createContext(null),Hv=Vn.createContext({outlet:null,matches:[],isDataRoute:!1}),ZA=Vn.createContext(null);function X7(y,k){let{relative:j}=k===void 0?{}:k;z0()||qo(!1);let{basename:se,navigator:me}=Vn.useContext(Vv),{hash:Pe,pathname:H,search:G}=JA(y,{relative:j}),e=H;return se!=="/"&&(e=H==="/"?se:Gh([se,H])),me.createHref({pathname:e,search:G,hash:Pe})}function z0(){return Vn.useContext(am)!=null}function im(){return z0()||qo(!1),Vn.useContext(am).location}function KA(y){Vn.useContext(Vv).static||Vn.useLayoutEffect(y)}function om(){let{isDataRoute:y}=Vn.useContext(Hv);return y?oP():Z7()}function Z7(){z0()||qo(!1);let y=Vn.useContext(T3),{basename:k,future:j,navigator:se}=Vn.useContext(Vv),{matches:me}=Vn.useContext(Hv),{pathname:Pe}=im(),H=JSON.stringify(jA(me,j.v7_relativeSplatPath)),G=Vn.useRef(!1);return KA(()=>{G.current=!0}),Vn.useCallback(function(g,R){if(R===void 0&&(R={}),!G.current)return;if(typeof g=="number"){se.go(g);return}let a=YA(g,JSON.parse(H),Pe,R.relative==="path");y==null&&k!=="/"&&(a.pathname=a.pathname==="/"?k:Gh([k,a.pathname])),(R.replace?se.replace:se.push)(a,R.state,R)},[k,se,H,Pe,y])}function JA(y,k){let{relative:j}=k===void 0?{}:k,{future:se}=Vn.useContext(Vv),{matches:me}=Vn.useContext(Hv),{pathname:Pe}=im(),H=JSON.stringify(jA(me,se.v7_relativeSplatPath));return Vn.useMemo(()=>YA(y,JSON.parse(H),Pe,j==="path"),[y,H,Pe,j])}function K7(y,k){return J7(y,k)}function J7(y,k,j,se){z0()||qo(!1);let{navigator:me}=Vn.useContext(Vv),{matches:Pe}=Vn.useContext(Hv),H=Pe[Pe.length-1],G=H?H.params:{};H&&H.pathname;let e=H?H.pathnameBase:"/";H&&H.route;let g=im(),R;if(k){var a;let r=typeof k=="string"?rp(k):k;e==="/"||(a=r.pathname)!=null&&a.startsWith(e)||qo(!1),R=r}else R=g;let C=R.pathname||"/",S=C;if(e!=="/"){let r=e.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(r.length).join("/")}let v=S7(y,{pathname:S}),d=tP(v&&v.map(r=>Object.assign({},r,{params:Object.assign({},G,r.params),pathname:Gh([e,me.encodeLocation?me.encodeLocation(r.pathname).pathname:r.pathname]),pathnameBase:r.pathnameBase==="/"?e:Gh([e,me.encodeLocation?me.encodeLocation(r.pathnameBase).pathname:r.pathnameBase])})),Pe,j,se);return k&&d?Vn.createElement(am.Provider,{value:{location:w0({pathname:"/",search:"",hash:"",state:null,key:"default"},R),navigationType:_h.Pop}},d):d}function $7(){let y=iP(),k=W7(y)?y.status+" "+y.statusText:y instanceof Error?y.message:JSON.stringify(y),j=y instanceof Error?y.stack:null,me={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Vn.createElement(Vn.Fragment,null,Vn.createElement("h2",null,"Unexpected Application Error!"),Vn.createElement("h3",{style:{fontStyle:"italic"}},k),j?Vn.createElement("pre",{style:me},j):null,null)}const Q7=Vn.createElement($7,null);class q7 extends Vn.Component{constructor(k){super(k),this.state={location:k.location,revalidation:k.revalidation,error:k.error}}static getDerivedStateFromError(k){return{error:k}}static getDerivedStateFromProps(k,j){return j.location!==k.location||j.revalidation!=="idle"&&k.revalidation==="idle"?{error:k.error,location:k.location,revalidation:k.revalidation}:{error:k.error!==void 0?k.error:j.error,location:j.location,revalidation:k.revalidation||j.revalidation}}componentDidCatch(k,j){console.error("React Router caught the following error during render",k,j)}render(){return this.state.error!==void 0?Vn.createElement(Hv.Provider,{value:this.props.routeContext},Vn.createElement(ZA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eP(y){let{routeContext:k,match:j,children:se}=y,me=Vn.useContext(T3);return me&&me.static&&me.staticContext&&(j.route.errorElement||j.route.ErrorBoundary)&&(me.staticContext._deepestRenderedBoundaryId=j.route.id),Vn.createElement(Hv.Provider,{value:k},se)}function tP(y,k,j,se){var me;if(k===void 0&&(k=[]),j===void 0&&(j=null),se===void 0&&(se=null),y==null){var Pe;if((Pe=j)!=null&&Pe.errors)y=j.matches;else return null}let H=y,G=(me=j)==null?void 0:me.errors;if(G!=null){let R=H.findIndex(a=>a.route.id&&(G==null?void 0:G[a.route.id])!==void 0);R>=0||qo(!1),H=H.slice(0,Math.min(H.length,R+1))}let e=!1,g=-1;if(j&&se&&se.v7_partialHydration)for(let R=0;R<H.length;R++){let a=H[R];if((a.route.HydrateFallback||a.route.hydrateFallbackElement)&&(g=R),a.route.id){let{loaderData:C,errors:S}=j,v=a.route.loader&&C[a.route.id]===void 0&&(!S||S[a.route.id]===void 0);if(a.route.lazy||v){e=!0,g>=0?H=H.slice(0,g+1):H=[H[0]];break}}}return H.reduceRight((R,a,C)=>{let S,v=!1,d=null,r=null;j&&(S=G&&a.route.id?G[a.route.id]:void 0,d=a.route.errorElement||Q7,e&&(g<0&&C===0?(sP("route-fallback",!1),v=!0,r=null):g===C&&(v=!0,r=a.route.hydrateFallbackElement||null)));let t=k.concat(H.slice(0,C+1)),i=()=>{let n;return S?n=d:v?n=r:a.route.Component?n=Vn.createElement(a.route.Component,null):a.route.element?n=a.route.element:n=R,Vn.createElement(eP,{match:a,routeContext:{outlet:R,matches:t,isDataRoute:j!=null},children:n})};return j&&(a.route.ErrorBoundary||a.route.errorElement||C===0)?Vn.createElement(q7,{location:j.location,revalidation:j.revalidation,component:d,error:S,children:i(),routeContext:{outlet:null,matches:t,isDataRoute:!0}}):i()},null)}var $A=function(y){return y.UseBlocker="useBlocker",y.UseRevalidator="useRevalidator",y.UseNavigateStable="useNavigate",y}($A||{}),zy=function(y){return y.UseBlocker="useBlocker",y.UseLoaderData="useLoaderData",y.UseActionData="useActionData",y.UseRouteError="useRouteError",y.UseNavigation="useNavigation",y.UseRouteLoaderData="useRouteLoaderData",y.UseMatches="useMatches",y.UseRevalidator="useRevalidator",y.UseNavigateStable="useNavigate",y.UseRouteId="useRouteId",y}(zy||{});function rP(y){let k=Vn.useContext(T3);return k||qo(!1),k}function nP(y){let k=Vn.useContext(Y7);return k||qo(!1),k}function aP(y){let k=Vn.useContext(Hv);return k||qo(!1),k}function QA(y){let k=aP(),j=k.matches[k.matches.length-1];return j.route.id||qo(!1),j.route.id}function iP(){var y;let k=Vn.useContext(ZA),j=nP(zy.UseRouteError),se=QA(zy.UseRouteError);return k!==void 0?k:(y=j.errors)==null?void 0:y[se]}function oP(){let{router:y}=rP($A.UseNavigateStable),k=QA(zy.UseNavigateStable),j=Vn.useRef(!1);return KA(()=>{j.current=!0}),Vn.useCallback(function(me,Pe){Pe===void 0&&(Pe={}),j.current&&(typeof me=="number"?y.navigate(me):y.navigate(me,w0({fromRouteId:k},Pe)))},[y,k])}const C4={};function sP(y,k,j){!k&&!C4[y]&&(C4[y]=!0)}function Au(y){qo(!1)}function lP(y){let{basename:k="/",children:j=null,location:se,navigationType:me=_h.Pop,navigator:Pe,static:H=!1,future:G}=y;z0()&&qo(!1);let e=k.replace(/^\/*/,"/"),g=Vn.useMemo(()=>({basename:e,navigator:Pe,static:H,future:w0({v7_relativeSplatPath:!1},G)}),[e,G,Pe,H]);typeof se=="string"&&(se=rp(se));let{pathname:R="/",search:a="",hash:C="",state:S=null,key:v="default"}=se,d=Vn.useMemo(()=>{let r=w3(R,e);return r==null?null:{location:{pathname:r,search:a,hash:C,state:S,key:v},navigationType:me}},[e,R,a,C,S,v,me]);return d==null?null:Vn.createElement(Vv.Provider,{value:g},Vn.createElement(am.Provider,{children:j,value:d}))}function uP(y){let{children:k,location:j}=y;return K7(ob(k),j)}new Promise(()=>{});function ob(y,k){k===void 0&&(k=[]);let j=[];return Vn.Children.forEach(y,(se,me)=>{if(!Vn.isValidElement(se))return;let Pe=[...k,me];if(se.type===Vn.Fragment){j.push.apply(j,ob(se.props.children,Pe));return}se.type!==Au&&qo(!1),!se.props.index||!se.props.children||qo(!1);let H={id:se.props.id||Pe.join("-"),caseSensitive:se.props.caseSensitive,element:se.props.element,Component:se.props.Component,index:se.props.index,path:se.props.path,loader:se.props.loader,action:se.props.action,errorElement:se.props.errorElement,ErrorBoundary:se.props.ErrorBoundary,hasErrorBoundary:se.props.ErrorBoundary!=null||se.props.errorElement!=null,shouldRevalidate:se.props.shouldRevalidate,handle:se.props.handle,lazy:se.props.lazy};se.props.children&&(H.children=ob(se.props.children,Pe)),j.push(H)}),j}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sb(){return sb=Object.assign?Object.assign.bind():function(y){for(var k=1;k<arguments.length;k++){var j=arguments[k];for(var se in j)Object.prototype.hasOwnProperty.call(j,se)&&(y[se]=j[se])}return y},sb.apply(this,arguments)}function fP(y,k){if(y==null)return{};var j={},se=Object.keys(y),me,Pe;for(Pe=0;Pe<se.length;Pe++)me=se[Pe],!(k.indexOf(me)>=0)&&(j[me]=y[me]);return j}function cP(y){return!!(y.metaKey||y.altKey||y.ctrlKey||y.shiftKey)}function hP(y,k){return y.button===0&&(!k||k==="_self")&&!cP(y)}const vP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],dP="6";try{window.__reactRouterVersion=dP}catch{}const pP="startTransition",L4=fy[pP];function gP(y){let{basename:k,children:j,future:se,window:me}=y,Pe=Vn.useRef();Pe.current==null&&(Pe.current=w7({window:me,v5Compat:!0}));let H=Pe.current,[G,e]=Vn.useState({action:H.action,location:H.location}),{v7_startTransition:g}=se||{},R=Vn.useCallback(a=>{g&&L4?L4(()=>e(a)):e(a)},[e,g]);return Vn.useLayoutEffect(()=>H.listen(R),[H,R]),Vn.createElement(lP,{basename:k,children:j,location:G.location,navigationType:G.action,navigator:H,future:se})}const yP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Su=Vn.forwardRef(function(k,j){let{onClick:se,relative:me,reloadDocument:Pe,replace:H,state:G,target:e,to:g,preventScrollReset:R,unstable_viewTransition:a}=k,C=fP(k,vP),{basename:S}=Vn.useContext(Vv),v,d=!1;if(typeof g=="string"&&mP.test(g)&&(v=g,yP))try{let n=new URL(window.location.href),f=g.startsWith("//")?new URL(n.protocol+g):new URL(g),u=w3(f.pathname,S);f.origin===n.origin&&u!=null?g=u+f.search+f.hash:d=!0}catch{}let r=X7(g,{relative:me}),t=xP(g,{replace:H,state:G,target:e,preventScrollReset:R,relative:me,unstable_viewTransition:a});function i(n){se&&se(n),n.defaultPrevented||t(n)}return Vn.createElement("a",sb({},C,{href:v||r,onClick:d||Pe?se:i,ref:j,target:e}))});var P4;(function(y){y.UseScrollRestoration="useScrollRestoration",y.UseSubmit="useSubmit",y.UseSubmitFetcher="useSubmitFetcher",y.UseFetcher="useFetcher",y.useViewTransitionState="useViewTransitionState"})(P4||(P4={}));var R4;(function(y){y.UseFetcher="useFetcher",y.UseFetchers="useFetchers",y.UseScrollRestoration="useScrollRestoration"})(R4||(R4={}));function xP(y,k){let{target:j,replace:se,state:me,preventScrollReset:Pe,relative:H,unstable_viewTransition:G}=k===void 0?{}:k,e=om(),g=im(),R=JA(y,{relative:H});return Vn.useCallback(a=>{if(hP(a,j)){a.preventDefault();let C=se!==void 0?se:Oy(g)===Oy(R);e(y,{replace:C,state:me,preventScrollReset:Pe,relative:H,unstable_viewTransition:G})}},[g,e,R,se,me,j,y,Pe,H,G])}const qA=Vn.createContext(null),bP=({children:y})=>{const[k,j]=Vn.useState(null),se=Pe=>{j(Pe),console.log("Context",Pe)},me=()=>{j(null)};return er.jsx(qA.Provider,{value:{user:k,login:se,logout:me},children:y})},Bc=()=>{const y=Vn.useContext(qA);if(!y)throw new Error("useAuth must be used within an AuthProvider");return y};var A3={},e6={exports:{}};(function(y){function k(j){return j&&j.__esModule?j:{default:j}}y.exports=k,y.exports.__esModule=!0,y.exports.default=y.exports})(e6);var bf=e6.exports,$1={};function Vi(){return Vi=Object.assign?Object.assign.bind():function(y){for(var k=1;k<arguments.length;k++){var j=arguments[k];for(var se in j)Object.prototype.hasOwnProperty.call(j,se)&&(y[se]=j[se])}return y},Vi.apply(this,arguments)}function Dh(y){if(typeof y!="object"||y===null)return!1;const k=Object.getPrototypeOf(y);return(k===null||k===Object.prototype||Object.getPrototypeOf(k)===null)&&!(Symbol.toStringTag in y)&&!(Symbol.iterator in y)}function t6(y){if(!Dh(y))return y;const k={};return Object.keys(y).forEach(j=>{k[j]=t6(y[j])}),k}function Jf(y,k,j={clone:!0}){const se=j.clone?Vi({},y):y;return Dh(y)&&Dh(k)&&Object.keys(k).forEach(me=>{me!=="__proto__"&&(Dh(k[me])&&me in y&&Dh(y[me])?se[me]=Jf(y[me],k[me],j):j.clone?se[me]=Dh(k[me])?t6(k[me]):k[me]:se[me]=k[me])}),se}const wP=Object.freeze(Object.defineProperty({__proto__:null,default:Jf,isPlainObject:Dh},Symbol.toStringTag,{value:"Module"}));var r6={exports:{}},TP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AP=TP,SP=AP;function n6(){}function a6(){}a6.resetWarningCache=n6;var MP=function(){function y(se,me,Pe,H,G,e){if(e!==SP){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}y.isRequired=y;function k(){return y}var j={array:y,bigint:y,bool:y,func:y,number:y,object:y,string:y,symbol:y,any:y,arrayOf:k,element:y,elementType:y,instanceOf:k,node:y,objectOf:k,oneOf:k,oneOfType:k,shape:k,exact:k,checkPropTypes:a6,resetWarningCache:n6};return j.PropTypes=j,j};r6.exports=MP();var EP=r6.exports;function T0(y){let k="https://mui.com/production-error/?code="+y;for(let j=1;j<arguments.length;j+=1)k+="&args[]="+encodeURIComponent(arguments[j]);return"Minified MUI error #"+y+"; visit "+k+" for the full message."}const CP=Object.freeze(Object.defineProperty({__proto__:null,default:T0},Symbol.toStringTag,{value:"Module"}));var i6={exports:{}},Hi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3=Symbol.for("react.element"),M3=Symbol.for("react.portal"),sm=Symbol.for("react.fragment"),lm=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),fm=Symbol.for("react.provider"),cm=Symbol.for("react.context"),LP=Symbol.for("react.server_context"),hm=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),pm=Symbol.for("react.memo"),gm=Symbol.for("react.lazy"),PP=Symbol.for("react.offscreen"),o6;o6=Symbol.for("react.module.reference");function zu(y){if(typeof y=="object"&&y!==null){var k=y.$$typeof;switch(k){case S3:switch(y=y.type,y){case sm:case um:case lm:case vm:case dm:return y;default:switch(y=y&&y.$$typeof,y){case LP:case cm:case hm:case gm:case pm:case fm:return y;default:return k}}case M3:return k}}}Hi.ContextConsumer=cm;Hi.ContextProvider=fm;Hi.Element=S3;Hi.ForwardRef=hm;Hi.Fragment=sm;Hi.Lazy=gm;Hi.Memo=pm;Hi.Portal=M3;Hi.Profiler=um;Hi.StrictMode=lm;Hi.Suspense=vm;Hi.SuspenseList=dm;Hi.isAsyncMode=function(){return!1};Hi.isConcurrentMode=function(){return!1};Hi.isContextConsumer=function(y){return zu(y)===cm};Hi.isContextProvider=function(y){return zu(y)===fm};Hi.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===S3};Hi.isForwardRef=function(y){return zu(y)===hm};Hi.isFragment=function(y){return zu(y)===sm};Hi.isLazy=function(y){return zu(y)===gm};Hi.isMemo=function(y){return zu(y)===pm};Hi.isPortal=function(y){return zu(y)===M3};Hi.isProfiler=function(y){return zu(y)===um};Hi.isStrictMode=function(y){return zu(y)===lm};Hi.isSuspense=function(y){return zu(y)===vm};Hi.isSuspenseList=function(y){return zu(y)===dm};Hi.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===sm||y===um||y===lm||y===vm||y===dm||y===PP||typeof y=="object"&&y!==null&&(y.$$typeof===gm||y.$$typeof===pm||y.$$typeof===fm||y.$$typeof===cm||y.$$typeof===hm||y.$$typeof===o6||y.getModuleId!==void 0)};Hi.typeOf=zu;i6.exports=Hi;var D4=i6.exports;const RP=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function s6(y){const k=`${y}`.match(RP);return k&&k[1]||""}function l6(y,k=""){return y.displayName||y.name||s6(y)||k}function I4(y,k,j){const se=l6(k);return y.displayName||(se!==""?`${j}(${se})`:j)}function DP(y){if(y!=null){if(typeof y=="string")return y;if(typeof y=="function")return l6(y,"Component");if(typeof y=="object")switch(y.$$typeof){case D4.ForwardRef:return I4(y,y.render,"ForwardRef");case D4.Memo:return I4(y,y.type,"memo");default:return}}}const IP=Object.freeze(Object.defineProperty({__proto__:null,default:DP,getFunctionName:s6},Symbol.toStringTag,{value:"Module"}));function Yh(y){if(typeof y!="string")throw new Error(T0(7));return y.charAt(0).toUpperCase()+y.slice(1)}const kP=Object.freeze(Object.defineProperty({__proto__:null,default:Yh},Symbol.toStringTag,{value:"Module"}));function _P(...y){return y.reduce((k,j)=>j==null?k:function(...me){k.apply(this,me),j.apply(this,me)},()=>{})}function OP(y,k=166){let j;function se(...me){const Pe=()=>{y.apply(this,me)};clearTimeout(j),j=setTimeout(Pe,k)}return se.clear=()=>{clearTimeout(j)},se}function zP(y,k){return()=>null}function FP(y,k){var j,se;return Vn.isValidElement(y)&&k.indexOf((j=y.type.muiName)!=null?j:(se=y.type)==null||(se=se._payload)==null||(se=se.value)==null?void 0:se.muiName)!==-1}function u6(y){return y&&y.ownerDocument||document}function NP(y){return u6(y).defaultView||window}function BP(y,k){return()=>null}function f6(y,k){typeof y=="function"?y(k):y&&(y.current=k)}const UP=typeof window<"u"?Vn.useLayoutEffect:Vn.useEffect,c6=UP;let k4=0;function VP(y){const[k,j]=Vn.useState(y),se=y||k;return Vn.useEffect(()=>{k==null&&(k4+=1,j(`mui-${k4}`))},[k]),se}const _4=fy.useId;function HP(y){if(_4!==void 0){const k=_4();return y??k}return VP(y)}function GP(y,k,j,se,me){return null}function WP({controlled:y,default:k,name:j,state:se="value"}){const{current:me}=Vn.useRef(y!==void 0),[Pe,H]=Vn.useState(k),G=me?y:Pe,e=Vn.useCallback(g=>{me||H(g)},[]);return[G,e]}function jP(y){const k=Vn.useRef(y);return c6(()=>{k.current=y}),Vn.useRef((...j)=>(0,k.current)(...j)).current}function YP(...y){return Vn.useMemo(()=>y.every(k=>k==null)?null:k=>{y.forEach(j=>{f6(j,k)})},y)}class E3{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new E3}start(k,j){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,j()},k)}}let ym=!0,lb=!1;const XP=new E3,ZP={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function KP(y){const{type:k,tagName:j}=y;return!!(j==="INPUT"&&ZP[k]&&!y.readOnly||j==="TEXTAREA"&&!y.readOnly||y.isContentEditable)}function JP(y){y.metaKey||y.altKey||y.ctrlKey||(ym=!0)}function Q1(){ym=!1}function $P(){this.visibilityState==="hidden"&&lb&&(ym=!0)}function QP(y){y.addEventListener("keydown",JP,!0),y.addEventListener("mousedown",Q1,!0),y.addEventListener("pointerdown",Q1,!0),y.addEventListener("touchstart",Q1,!0),y.addEventListener("visibilitychange",$P,!0)}function qP(y){const{target:k}=y;try{return k.matches(":focus-visible")}catch{}return ym||KP(k)}function e9(){const y=Vn.useCallback(me=>{me!=null&&QP(me.ownerDocument)},[]),k=Vn.useRef(!1);function j(){return k.current?(lb=!0,XP.start(100,()=>{lb=!1}),k.current=!1,!0):!1}function se(me){return qP(me)?(k.current=!0,!0):!1}return{isFocusVisibleRef:k,onFocus:se,onBlur:j,ref:y}}function h6(y,k){const j=Vi({},k);return Object.keys(y).forEach(se=>{if(se.toString().match(/^(components|slots)$/))j[se]=Vi({},y[se],j[se]);else if(se.toString().match(/^(componentsProps|slotProps)$/)){const me=y[se]||{},Pe=k[se];j[se]={},!Pe||!Object.keys(Pe)?j[se]=me:!me||!Object.keys(me)?j[se]=Pe:(j[se]=Vi({},Pe),Object.keys(me).forEach(H=>{j[se][H]=h6(me[H],Pe[H])}))}else j[se]===void 0&&(j[se]=y[se])}),j}function t9(y,k,j=void 0){const se={};return Object.keys(y).forEach(me=>{se[me]=y[me].reduce((Pe,H)=>{if(H){const G=k(H);G!==""&&Pe.push(G),j&&j[H]&&Pe.push(j[H])}return Pe},[]).join(" ")}),se}const O4=y=>y,r9=()=>{let y=O4;return{configure(k){y=k},generate(k){return y(k)},reset(){y=O4}}},v6=r9(),n9={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function d6(y,k,j="Mui"){const se=n9[k];return se?`${j}-${se}`:`${v6.generate(y)}-${k}`}function a9(y,k,j="Mui"){const se={};return k.forEach(me=>{se[me]=d6(y,me,j)}),se}function i9(y,k=Number.MIN_SAFE_INTEGER,j=Number.MAX_SAFE_INTEGER){return Math.max(k,Math.min(y,j))}const o9=Object.freeze(Object.defineProperty({__proto__:null,default:i9},Symbol.toStringTag,{value:"Module"}));function Jh(y,k){if(y==null)return{};var j={},se=Object.keys(y),me,Pe;for(Pe=0;Pe<se.length;Pe++)me=se[Pe],!(k.indexOf(me)>=0)&&(j[me]=y[me]);return j}function p6(y){var k,j,se="";if(typeof y=="string"||typeof y=="number")se+=y;else if(typeof y=="object")if(Array.isArray(y)){var me=y.length;for(k=0;k<me;k++)y[k]&&(j=p6(y[k]))&&(se&&(se+=" "),se+=j)}else for(j in y)y[j]&&(se&&(se+=" "),se+=j);return se}function Pc(){for(var y,k,j=0,se="",me=arguments.length;j<me;j++)(y=arguments[j])&&(k=p6(y))&&(se&&(se+=" "),se+=k);return se}function s9(y){const{theme:k,name:j,props:se}=y;return!k||!k.components||!k.components[j]||!k.components[j].defaultProps?se:h6(k.components[j].defaultProps,se)}const l9=["values","unit","step"],u9=y=>{const k=Object.keys(y).map(j=>({key:j,val:y[j]}))||[];return k.sort((j,se)=>j.val-se.val),k.reduce((j,se)=>Vi({},j,{[se.key]:se.val}),{})};function g6(y){const{values:k={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:j="px",step:se=5}=y,me=Jh(y,l9),Pe=u9(k),H=Object.keys(Pe);function G(C){return`@media (min-width:${typeof k[C]=="number"?k[C]:C}${j})`}function e(C){return`@media (max-width:${(typeof k[C]=="number"?k[C]:C)-se/100}${j})`}function g(C,S){const v=H.indexOf(S);return`@media (min-width:${typeof k[C]=="number"?k[C]:C}${j}) and (max-width:${(v!==-1&&typeof k[H[v]]=="number"?k[H[v]]:S)-se/100}${j})`}function R(C){return H.indexOf(C)+1<H.length?g(C,H[H.indexOf(C)+1]):G(C)}function a(C){const S=H.indexOf(C);return S===0?G(H[1]):S===H.length-1?e(H[S]):g(C,H[H.indexOf(C)+1]).replace("@media","@media not all and")}return Vi({keys:H,values:Pe,up:G,down:e,between:g,only:R,not:a,unit:j},me)}const f9={borderRadius:4},c9=f9;function t0(y,k){return k?Jf(y,k,{clone:!1}):y}const C3={xs:0,sm:600,md:900,lg:1200,xl:1536},z4={keys:["xs","sm","md","lg","xl"],up:y=>`@media (min-width:${C3[y]}px)`};function zc(y,k,j){const se=y.theme||{};if(Array.isArray(k)){const Pe=se.breakpoints||z4;return k.reduce((H,G,e)=>(H[Pe.up(Pe.keys[e])]=j(k[e]),H),{})}if(typeof k=="object"){const Pe=se.breakpoints||z4;return Object.keys(k).reduce((H,G)=>{if(Object.keys(Pe.values||C3).indexOf(G)!==-1){const e=Pe.up(G);H[e]=j(k[G],G)}else{const e=G;H[e]=k[e]}return H},{})}return j(k)}function h9(y={}){var k;return((k=y.keys)==null?void 0:k.reduce((se,me)=>{const Pe=y.up(me);return se[Pe]={},se},{}))||{}}function v9(y,k){return y.reduce((j,se)=>{const me=j[se];return(!me||Object.keys(me).length===0)&&delete j[se],j},k)}function mm(y,k,j=!0){if(!k||typeof k!="string")return null;if(y&&y.vars&&j){const se=`vars.${k}`.split(".").reduce((me,Pe)=>me&&me[Pe]?me[Pe]:null,y);if(se!=null)return se}return k.split(".").reduce((se,me)=>se&&se[me]!=null?se[me]:null,y)}function Fy(y,k,j,se=j){let me;return typeof y=="function"?me=y(j):Array.isArray(y)?me=y[j]||se:me=mm(y,j)||se,k&&(me=k(me,se,y)),me}function Ho(y){const{prop:k,cssProperty:j=y.prop,themeKey:se,transform:me}=y,Pe=H=>{if(H[k]==null)return null;const G=H[k],e=H.theme,g=mm(e,se)||{};return zc(H,G,a=>{let C=Fy(g,me,a);return a===C&&typeof a=="string"&&(C=Fy(g,me,`${k}${a==="default"?"":Yh(a)}`,a)),j===!1?C:{[j]:C}})};return Pe.propTypes={},Pe.filterProps=[k],Pe}function d9(y){const k={};return j=>(k[j]===void 0&&(k[j]=y(j)),k[j])}const p9={m:"margin",p:"padding"},g9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F4={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},y9=d9(y=>{if(y.length>2)if(F4[y])y=F4[y];else return[y];const[k,j]=y.split(""),se=p9[k],me=g9[j]||"";return Array.isArray(me)?me.map(Pe=>se+Pe):[se+me]}),L3=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],P3=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...L3,...P3];function F0(y,k,j,se){var me;const Pe=(me=mm(y,k,!1))!=null?me:j;return typeof Pe=="number"?H=>typeof H=="string"?H:Pe*H:Array.isArray(Pe)?H=>typeof H=="string"?H:Pe[H]:typeof Pe=="function"?Pe:()=>{}}function y6(y){return F0(y,"spacing",8)}function N0(y,k){if(typeof k=="string"||k==null)return k;const j=Math.abs(k),se=y(j);return k>=0?se:typeof se=="number"?-se:`-${se}`}function m9(y,k){return j=>y.reduce((se,me)=>(se[me]=N0(k,j),se),{})}function x9(y,k,j,se){if(k.indexOf(j)===-1)return null;const me=y9(j),Pe=m9(me,se),H=y[j];return zc(y,H,Pe)}function m6(y,k){const j=y6(y.theme);return Object.keys(y).map(se=>x9(y,k,se,j)).reduce(t0,{})}function Io(y){return m6(y,L3)}Io.propTypes={};Io.filterProps=L3;function ko(y){return m6(y,P3)}ko.propTypes={};ko.filterProps=P3;function b9(y=8){if(y.mui)return y;const k=y6({spacing:y}),j=(...se)=>(se.length===0?[1]:se).map(Pe=>{const H=k(Pe);return typeof H=="number"?`${H}px`:H}).join(" ");return j.mui=!0,j}function xm(...y){const k=y.reduce((se,me)=>(me.filterProps.forEach(Pe=>{se[Pe]=me}),se),{}),j=se=>Object.keys(se).reduce((me,Pe)=>k[Pe]?t0(me,k[Pe](se)):me,{});return j.propTypes={},j.filterProps=y.reduce((se,me)=>se.concat(me.filterProps),[]),j}function Lu(y){return typeof y!="number"?y:`${y}px solid`}function Fu(y,k){return Ho({prop:y,themeKey:"borders",transform:k})}const w9=Fu("border",Lu),T9=Fu("borderTop",Lu),A9=Fu("borderRight",Lu),S9=Fu("borderBottom",Lu),M9=Fu("borderLeft",Lu),E9=Fu("borderColor"),C9=Fu("borderTopColor"),L9=Fu("borderRightColor"),P9=Fu("borderBottomColor"),R9=Fu("borderLeftColor"),D9=Fu("outline",Lu),I9=Fu("outlineColor"),bm=y=>{if(y.borderRadius!==void 0&&y.borderRadius!==null){const k=F0(y.theme,"shape.borderRadius",4),j=se=>({borderRadius:N0(k,se)});return zc(y,y.borderRadius,j)}return null};bm.propTypes={};bm.filterProps=["borderRadius"];xm(w9,T9,A9,S9,M9,E9,C9,L9,P9,R9,bm,D9,I9);const wm=y=>{if(y.gap!==void 0&&y.gap!==null){const k=F0(y.theme,"spacing",8),j=se=>({gap:N0(k,se)});return zc(y,y.gap,j)}return null};wm.propTypes={};wm.filterProps=["gap"];const Tm=y=>{if(y.columnGap!==void 0&&y.columnGap!==null){const k=F0(y.theme,"spacing",8),j=se=>({columnGap:N0(k,se)});return zc(y,y.columnGap,j)}return null};Tm.propTypes={};Tm.filterProps=["columnGap"];const Am=y=>{if(y.rowGap!==void 0&&y.rowGap!==null){const k=F0(y.theme,"spacing",8),j=se=>({rowGap:N0(k,se)});return zc(y,y.rowGap,j)}return null};Am.propTypes={};Am.filterProps=["rowGap"];const k9=Ho({prop:"gridColumn"}),_9=Ho({prop:"gridRow"}),O9=Ho({prop:"gridAutoFlow"}),z9=Ho({prop:"gridAutoColumns"}),F9=Ho({prop:"gridAutoRows"}),N9=Ho({prop:"gridTemplateColumns"}),B9=Ho({prop:"gridTemplateRows"}),U9=Ho({prop:"gridTemplateAreas"}),V9=Ho({prop:"gridArea"});xm(wm,Tm,Am,k9,_9,O9,z9,F9,N9,B9,U9,V9);function Vd(y,k){return k==="grey"?k:y}const H9=Ho({prop:"color",themeKey:"palette",transform:Vd}),G9=Ho({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Vd}),W9=Ho({prop:"backgroundColor",themeKey:"palette",transform:Vd});xm(H9,G9,W9);function Wl(y){return y<=1&&y!==0?`${y*100}%`:y}const j9=Ho({prop:"width",transform:Wl}),R3=y=>{if(y.maxWidth!==void 0&&y.maxWidth!==null){const k=j=>{var se,me;const Pe=((se=y.theme)==null||(se=se.breakpoints)==null||(se=se.values)==null?void 0:se[j])||C3[j];return Pe?((me=y.theme)==null||(me=me.breakpoints)==null?void 0:me.unit)!=="px"?{maxWidth:`${Pe}${y.theme.breakpoints.unit}`}:{maxWidth:Pe}:{maxWidth:Wl(j)}};return zc(y,y.maxWidth,k)}return null};R3.filterProps=["maxWidth"];const Y9=Ho({prop:"minWidth",transform:Wl}),X9=Ho({prop:"height",transform:Wl}),Z9=Ho({prop:"maxHeight",transform:Wl}),K9=Ho({prop:"minHeight",transform:Wl});Ho({prop:"size",cssProperty:"width",transform:Wl});Ho({prop:"size",cssProperty:"height",transform:Wl});const J9=Ho({prop:"boxSizing"});xm(j9,R3,Y9,X9,Z9,K9,J9);const $9={border:{themeKey:"borders",transform:Lu},borderTop:{themeKey:"borders",transform:Lu},borderRight:{themeKey:"borders",transform:Lu},borderBottom:{themeKey:"borders",transform:Lu},borderLeft:{themeKey:"borders",transform:Lu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Lu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:bm},color:{themeKey:"palette",transform:Vd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Vd},backgroundColor:{themeKey:"palette",transform:Vd},p:{style:ko},pt:{style:ko},pr:{style:ko},pb:{style:ko},pl:{style:ko},px:{style:ko},py:{style:ko},padding:{style:ko},paddingTop:{style:ko},paddingRight:{style:ko},paddingBottom:{style:ko},paddingLeft:{style:ko},paddingX:{style:ko},paddingY:{style:ko},paddingInline:{style:ko},paddingInlineStart:{style:ko},paddingInlineEnd:{style:ko},paddingBlock:{style:ko},paddingBlockStart:{style:ko},paddingBlockEnd:{style:ko},m:{style:Io},mt:{style:Io},mr:{style:Io},mb:{style:Io},ml:{style:Io},mx:{style:Io},my:{style:Io},margin:{style:Io},marginTop:{style:Io},marginRight:{style:Io},marginBottom:{style:Io},marginLeft:{style:Io},marginX:{style:Io},marginY:{style:Io},marginInline:{style:Io},marginInlineStart:{style:Io},marginInlineEnd:{style:Io},marginBlock:{style:Io},marginBlockStart:{style:Io},marginBlockEnd:{style:Io},displayPrint:{cssProperty:!1,transform:y=>({"@media print":{display:y}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wm},rowGap:{style:Am},columnGap:{style:Tm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wl},maxWidth:{style:R3},minWidth:{transform:Wl},height:{transform:Wl},maxHeight:{transform:Wl},minHeight:{transform:Wl},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},B0=$9;function Q9(...y){const k=y.reduce((se,me)=>se.concat(Object.keys(me)),[]),j=new Set(k);return y.every(se=>j.size===Object.keys(se).length)}function q9(y,k){return typeof y=="function"?y(k):y}function x6(){function y(j,se,me,Pe){const H={[j]:se,theme:me},G=Pe[j];if(!G)return{[j]:se};const{cssProperty:e=j,themeKey:g,transform:R,style:a}=G;if(se==null)return null;if(g==="typography"&&se==="inherit")return{[j]:se};const C=mm(me,g)||{};return a?a(H):zc(H,se,v=>{let d=Fy(C,R,v);return v===d&&typeof v=="string"&&(d=Fy(C,R,`${j}${v==="default"?"":Yh(v)}`,v)),e===!1?d:{[e]:d}})}function k(j){var se;const{sx:me,theme:Pe={}}=j||{};if(!me)return null;const H=(se=Pe.unstable_sxConfig)!=null?se:B0;function G(e){let g=e;if(typeof e=="function")g=e(Pe);else if(typeof e!="object")return e;if(!g)return null;const R=h9(Pe.breakpoints),a=Object.keys(R);let C=R;return Object.keys(g).forEach(S=>{const v=q9(g[S],Pe);if(v!=null)if(typeof v=="object")if(H[S])C=t0(C,y(S,v,Pe,H));else{const d=zc({theme:Pe},v,r=>({[S]:r}));Q9(d,v)?C[S]=k({sx:v,theme:Pe}):C=t0(C,d)}else C=t0(C,y(S,v,Pe,H))}),v9(a,C)}return Array.isArray(me)?me.map(G):G(me)}return k}const Sm=x6();Sm.filterProps=["sx"];function b6(y,k){const j=this;return j.vars&&typeof j.getColorSchemeSelector=="function"?{[j.getColorSchemeSelector(y).replace(/(\[[^\]]+\])/,"*:where($1)")]:k}:j.palette.mode===y?k:{}}const eR=["breakpoints","palette","spacing","shape"];function D3(y={},...k){const{breakpoints:j={},palette:se={},spacing:me,shape:Pe={}}=y,H=Jh(y,eR),G=g6(j),e=b9(me);let g=Jf({breakpoints:G,direction:"ltr",components:{},palette:Vi({mode:"light"},se),spacing:e,shape:Vi({},c9,Pe)},H);return g.applyStyles=b6,g=k.reduce((R,a)=>Jf(R,a),g),g.unstable_sxConfig=Vi({},B0,H==null?void 0:H.unstable_sxConfig),g.unstable_sx=function(a){return Sm({sx:a,theme:this})},g}const tR=Object.freeze(Object.defineProperty({__proto__:null,default:D3,private_createBreakpoints:g6,unstable_applyStyles:b6},Symbol.toStringTag,{value:"Module"}));function w6(y){var k=Object.create(null);return function(j){return k[j]===void 0&&(k[j]=y(j)),k[j]}}var rR=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nR=w6(function(y){return rR.test(y)||y.charCodeAt(0)===111&&y.charCodeAt(1)===110&&y.charCodeAt(2)<91});function aR(y){if(y.sheet)return y.sheet;for(var k=0;k<document.styleSheets.length;k++)if(document.styleSheets[k].ownerNode===y)return document.styleSheets[k]}function iR(y){var k=document.createElement("style");return k.setAttribute("data-emotion",y.key),y.nonce!==void 0&&k.setAttribute("nonce",y.nonce),k.appendChild(document.createTextNode("")),k.setAttribute("data-s",""),k}var oR=function(){function y(j){var se=this;this._insertTag=function(me){var Pe;se.tags.length===0?se.insertionPoint?Pe=se.insertionPoint.nextSibling:se.prepend?Pe=se.container.firstChild:Pe=se.before:Pe=se.tags[se.tags.length-1].nextSibling,se.container.insertBefore(me,Pe),se.tags.push(me)},this.isSpeedy=j.speedy===void 0?!0:j.speedy,this.tags=[],this.ctr=0,this.nonce=j.nonce,this.key=j.key,this.container=j.container,this.prepend=j.prepend,this.insertionPoint=j.insertionPoint,this.before=null}var k=y.prototype;return k.hydrate=function(se){se.forEach(this._insertTag)},k.insert=function(se){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(iR(this));var me=this.tags[this.tags.length-1];if(this.isSpeedy){var Pe=aR(me);try{Pe.insertRule(se,Pe.cssRules.length)}catch{}}else me.appendChild(document.createTextNode(se));this.ctr++},k.flush=function(){this.tags.forEach(function(se){return se.parentNode&&se.parentNode.removeChild(se)}),this.tags=[],this.ctr=0},y}(),js="-ms-",Ny="-moz-",ki="-webkit-",T6="comm",I3="rule",k3="decl",sR="@import",A6="@keyframes",lR="@layer",uR=Math.abs,Mm=String.fromCharCode,fR=Object.assign;function cR(y,k){return Rs(y,0)^45?(((k<<2^Rs(y,0))<<2^Rs(y,1))<<2^Rs(y,2))<<2^Rs(y,3):0}function S6(y){return y.trim()}function hR(y,k){return(y=k.exec(y))?y[0]:y}function _i(y,k,j){return y.replace(k,j)}function ub(y,k){return y.indexOf(k)}function Rs(y,k){return y.charCodeAt(k)|0}function A0(y,k,j){return y.slice(k,j)}function Wf(y){return y.length}function _3(y){return y.length}function Og(y,k){return k.push(y),y}function vR(y,k){return y.map(k).join("")}var Em=1,$d=1,M6=0,Pl=0,$o=0,np="";function Cm(y,k,j,se,me,Pe,H){return{value:y,root:k,parent:j,type:se,props:me,children:Pe,line:Em,column:$d,length:H,return:""}}function Np(y,k){return fR(Cm("",null,null,"",null,null,0),y,{length:-y.length},k)}function dR(){return $o}function pR(){return $o=Pl>0?Rs(np,--Pl):0,$d--,$o===10&&($d=1,Em--),$o}function Zl(){return $o=Pl<M6?Rs(np,Pl++):0,$d++,$o===10&&($d=1,Em++),$o}function $f(){return Rs(np,Pl)}function Qg(){return Pl}function U0(y,k){return A0(np,y,k)}function S0(y){switch(y){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function E6(y){return Em=$d=1,M6=Wf(np=y),Pl=0,[]}function C6(y){return np="",y}function qg(y){return S6(U0(Pl-1,fb(y===91?y+2:y===40?y+1:y)))}function gR(y){for(;($o=$f())&&$o<33;)Zl();return S0(y)>2||S0($o)>3?"":" "}function yR(y,k){for(;--k&&Zl()&&!($o<48||$o>102||$o>57&&$o<65||$o>70&&$o<97););return U0(y,Qg()+(k<6&&$f()==32&&Zl()==32))}function fb(y){for(;Zl();)switch($o){case y:return Pl;case 34:case 39:y!==34&&y!==39&&fb($o);break;case 40:y===41&&fb(y);break;case 92:Zl();break}return Pl}function mR(y,k){for(;Zl()&&y+$o!==57;)if(y+$o===84&&$f()===47)break;return"/*"+U0(k,Pl-1)+"*"+Mm(y===47?y:Zl())}function xR(y){for(;!S0($f());)Zl();return U0(y,Pl)}function bR(y){return C6(ey("",null,null,null,[""],y=E6(y),0,[0],y))}function ey(y,k,j,se,me,Pe,H,G,e){for(var g=0,R=0,a=H,C=0,S=0,v=0,d=1,r=1,t=1,i=0,n="",f=me,u=Pe,l=se,m=n;r;)switch(v=i,i=Zl()){case 40:if(v!=108&&Rs(m,a-1)==58){ub(m+=_i(qg(i),"&","&\f"),"&\f")!=-1&&(t=-1);break}case 34:case 39:case 91:m+=qg(i);break;case 9:case 10:case 13:case 32:m+=gR(v);break;case 92:m+=yR(Qg()-1,7);continue;case 47:switch($f()){case 42:case 47:Og(wR(mR(Zl(),Qg()),k,j),e);break;default:m+="/"}break;case 123*d:G[g++]=Wf(m)*t;case 125*d:case 59:case 0:switch(i){case 0:case 125:r=0;case 59+R:t==-1&&(m=_i(m,/\f/g,"")),S>0&&Wf(m)-a&&Og(S>32?B4(m+";",se,j,a-1):B4(_i(m," ","")+";",se,j,a-2),e);break;case 59:m+=";";default:if(Og(l=N4(m,k,j,g,R,me,G,n,f=[],u=[],a),Pe),i===123)if(R===0)ey(m,k,l,l,f,Pe,a,G,u);else switch(C===99&&Rs(m,3)===110?100:C){case 100:case 108:case 109:case 115:ey(y,l,l,se&&Og(N4(y,l,l,0,0,me,G,n,me,f=[],a),u),me,u,a,G,se?f:u);break;default:ey(m,l,l,l,[""],u,0,G,u)}}g=R=S=0,d=t=1,n=m="",a=H;break;case 58:a=1+Wf(m),S=v;default:if(d<1){if(i==123)--d;else if(i==125&&d++==0&&pR()==125)continue}switch(m+=Mm(i),i*d){case 38:t=R>0?1:(m+="\f",-1);break;case 44:G[g++]=(Wf(m)-1)*t,t=1;break;case 64:$f()===45&&(m+=qg(Zl())),C=$f(),R=a=Wf(n=m+=xR(Qg())),i++;break;case 45:v===45&&Wf(m)==2&&(d=0)}}return Pe}function N4(y,k,j,se,me,Pe,H,G,e,g,R){for(var a=me-1,C=me===0?Pe:[""],S=_3(C),v=0,d=0,r=0;v<se;++v)for(var t=0,i=A0(y,a+1,a=uR(d=H[v])),n=y;t<S;++t)(n=S6(d>0?C[t]+" "+i:_i(i,/&\f/g,C[t])))&&(e[r++]=n);return Cm(y,k,j,me===0?I3:G,e,g,R)}function wR(y,k,j){return Cm(y,k,j,T6,Mm(dR()),A0(y,2,-2),0)}function B4(y,k,j,se){return Cm(y,k,j,k3,A0(y,0,se),A0(y,se+1,-1),se)}function Hd(y,k){for(var j="",se=_3(y),me=0;me<se;me++)j+=k(y[me],me,y,k)||"";return j}function TR(y,k,j,se){switch(y.type){case lR:if(y.children.length)break;case sR:case k3:return y.return=y.return||y.value;case T6:return"";case A6:return y.return=y.value+"{"+Hd(y.children,se)+"}";case I3:y.value=y.props.join(",")}return Wf(j=Hd(y.children,se))?y.return=y.value+"{"+j+"}":""}function AR(y){var k=_3(y);return function(j,se,me,Pe){for(var H="",G=0;G<k;G++)H+=y[G](j,se,me,Pe)||"";return H}}function SR(y){return function(k){k.root||(k=k.return)&&y(k)}}var MR=function(k,j,se){for(var me=0,Pe=0;me=Pe,Pe=$f(),me===38&&Pe===12&&(j[se]=1),!S0(Pe);)Zl();return U0(k,Pl)},ER=function(k,j){var se=-1,me=44;do switch(S0(me)){case 0:me===38&&$f()===12&&(j[se]=1),k[se]+=MR(Pl-1,j,se);break;case 2:k[se]+=qg(me);break;case 4:if(me===44){k[++se]=$f()===58?"&\f":"",j[se]=k[se].length;break}default:k[se]+=Mm(me)}while(me=Zl());return k},CR=function(k,j){return C6(ER(E6(k),j))},U4=new WeakMap,LR=function(k){if(!(k.type!=="rule"||!k.parent||k.length<1)){for(var j=k.value,se=k.parent,me=k.column===se.column&&k.line===se.line;se.type!=="rule";)if(se=se.parent,!se)return;if(!(k.props.length===1&&j.charCodeAt(0)!==58&&!U4.get(se))&&!me){U4.set(k,!0);for(var Pe=[],H=CR(j,Pe),G=se.props,e=0,g=0;e<H.length;e++)for(var R=0;R<G.length;R++,g++)k.props[g]=Pe[e]?H[e].replace(/&\f/g,G[R]):G[R]+" "+H[e]}}},PR=function(k){if(k.type==="decl"){var j=k.value;j.charCodeAt(0)===108&&j.charCodeAt(2)===98&&(k.return="",k.value="")}};function L6(y,k){switch(cR(y,k)){case 5103:return ki+"print-"+y+y;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ki+y+y;case 5349:case 4246:case 4810:case 6968:case 2756:return ki+y+Ny+y+js+y+y;case 6828:case 4268:return ki+y+js+y+y;case 6165:return ki+y+js+"flex-"+y+y;case 5187:return ki+y+_i(y,/(\w+).+(:[^]+)/,ki+"box-$1$2"+js+"flex-$1$2")+y;case 5443:return ki+y+js+"flex-item-"+_i(y,/flex-|-self/,"")+y;case 4675:return ki+y+js+"flex-line-pack"+_i(y,/align-content|flex-|-self/,"")+y;case 5548:return ki+y+js+_i(y,"shrink","negative")+y;case 5292:return ki+y+js+_i(y,"basis","preferred-size")+y;case 6060:return ki+"box-"+_i(y,"-grow","")+ki+y+js+_i(y,"grow","positive")+y;case 4554:return ki+_i(y,/([^-])(transform)/g,"$1"+ki+"$2")+y;case 6187:return _i(_i(_i(y,/(zoom-|grab)/,ki+"$1"),/(image-set)/,ki+"$1"),y,"")+y;case 5495:case 3959:return _i(y,/(image-set\([^]*)/,ki+"$1$`$1");case 4968:return _i(_i(y,/(.+:)(flex-)?(.*)/,ki+"box-pack:$3"+js+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ki+y+y;case 4095:case 3583:case 4068:case 2532:return _i(y,/(.+)-inline(.+)/,ki+"$1$2")+y;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Wf(y)-1-k>6)switch(Rs(y,k+1)){case 109:if(Rs(y,k+4)!==45)break;case 102:return _i(y,/(.+:)(.+)-([^]+)/,"$1"+ki+"$2-$3$1"+Ny+(Rs(y,k+3)==108?"$3":"$2-$3"))+y;case 115:return~ub(y,"stretch")?L6(_i(y,"stretch","fill-available"),k)+y:y}break;case 4949:if(Rs(y,k+1)!==115)break;case 6444:switch(Rs(y,Wf(y)-3-(~ub(y,"!important")&&10))){case 107:return _i(y,":",":"+ki)+y;case 101:return _i(y,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ki+(Rs(y,14)===45?"inline-":"")+"box$3$1"+ki+"$2$3$1"+js+"$2box$3")+y}break;case 5936:switch(Rs(y,k+11)){case 114:return ki+y+js+_i(y,/[svh]\w+-[tblr]{2}/,"tb")+y;case 108:return ki+y+js+_i(y,/[svh]\w+-[tblr]{2}/,"tb-rl")+y;case 45:return ki+y+js+_i(y,/[svh]\w+-[tblr]{2}/,"lr")+y}return ki+y+js+y+y}return y}var RR=function(k,j,se,me){if(k.length>-1&&!k.return)switch(k.type){case k3:k.return=L6(k.value,k.length);break;case A6:return Hd([Np(k,{value:_i(k.value,"@","@"+ki)})],me);case I3:if(k.length)return vR(k.props,function(Pe){switch(hR(Pe,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hd([Np(k,{props:[_i(Pe,/:(read-\w+)/,":"+Ny+"$1")]})],me);case"::placeholder":return Hd([Np(k,{props:[_i(Pe,/:(plac\w+)/,":"+ki+"input-$1")]}),Np(k,{props:[_i(Pe,/:(plac\w+)/,":"+Ny+"$1")]}),Np(k,{props:[_i(Pe,/:(plac\w+)/,js+"input-$1")]})],me)}return""})}},DR=[RR],P6=function(k){var j=k.key;if(j==="css"){var se=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(se,function(d){var r=d.getAttribute("data-emotion");r.indexOf(" ")!==-1&&(document.head.appendChild(d),d.setAttribute("data-s",""))})}var me=k.stylisPlugins||DR,Pe={},H,G=[];H=k.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+j+' "]'),function(d){for(var r=d.getAttribute("data-emotion").split(" "),t=1;t<r.length;t++)Pe[r[t]]=!0;G.push(d)});var e,g=[LR,PR];{var R,a=[TR,SR(function(d){R.insert(d)})],C=AR(g.concat(me,a)),S=function(r){return Hd(bR(r),C)};e=function(r,t,i,n){R=i,S(r?r+"{"+t.styles+"}":t.styles),n&&(v.inserted[t.name]=!0)}}var v={key:j,sheet:new oR({key:j,container:H,nonce:k.nonce,speedy:k.speedy,prepend:k.prepend,insertionPoint:k.insertionPoint}),nonce:k.nonce,inserted:Pe,registered:{},insert:e};return v.sheet.hydrate(G),v},R6={exports:{}},Gi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=typeof Symbol=="function"&&Symbol.for,O3=ds?Symbol.for("react.element"):60103,z3=ds?Symbol.for("react.portal"):60106,Lm=ds?Symbol.for("react.fragment"):60107,Pm=ds?Symbol.for("react.strict_mode"):60108,Rm=ds?Symbol.for("react.profiler"):60114,Dm=ds?Symbol.for("react.provider"):60109,Im=ds?Symbol.for("react.context"):60110,F3=ds?Symbol.for("react.async_mode"):60111,km=ds?Symbol.for("react.concurrent_mode"):60111,_m=ds?Symbol.for("react.forward_ref"):60112,Om=ds?Symbol.for("react.suspense"):60113,IR=ds?Symbol.for("react.suspense_list"):60120,zm=ds?Symbol.for("react.memo"):60115,Fm=ds?Symbol.for("react.lazy"):60116,kR=ds?Symbol.for("react.block"):60121,_R=ds?Symbol.for("react.fundamental"):60117,OR=ds?Symbol.for("react.responder"):60118,zR=ds?Symbol.for("react.scope"):60119;function Ql(y){if(typeof y=="object"&&y!==null){var k=y.$$typeof;switch(k){case O3:switch(y=y.type,y){case F3:case km:case Lm:case Rm:case Pm:case Om:return y;default:switch(y=y&&y.$$typeof,y){case Im:case _m:case Fm:case zm:case Dm:return y;default:return k}}case z3:return k}}}function D6(y){return Ql(y)===km}Gi.AsyncMode=F3;Gi.ConcurrentMode=km;Gi.ContextConsumer=Im;Gi.ContextProvider=Dm;Gi.Element=O3;Gi.ForwardRef=_m;Gi.Fragment=Lm;Gi.Lazy=Fm;Gi.Memo=zm;Gi.Portal=z3;Gi.Profiler=Rm;Gi.StrictMode=Pm;Gi.Suspense=Om;Gi.isAsyncMode=function(y){return D6(y)||Ql(y)===F3};Gi.isConcurrentMode=D6;Gi.isContextConsumer=function(y){return Ql(y)===Im};Gi.isContextProvider=function(y){return Ql(y)===Dm};Gi.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===O3};Gi.isForwardRef=function(y){return Ql(y)===_m};Gi.isFragment=function(y){return Ql(y)===Lm};Gi.isLazy=function(y){return Ql(y)===Fm};Gi.isMemo=function(y){return Ql(y)===zm};Gi.isPortal=function(y){return Ql(y)===z3};Gi.isProfiler=function(y){return Ql(y)===Rm};Gi.isStrictMode=function(y){return Ql(y)===Pm};Gi.isSuspense=function(y){return Ql(y)===Om};Gi.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===Lm||y===km||y===Rm||y===Pm||y===Om||y===IR||typeof y=="object"&&y!==null&&(y.$$typeof===Fm||y.$$typeof===zm||y.$$typeof===Dm||y.$$typeof===Im||y.$$typeof===_m||y.$$typeof===_R||y.$$typeof===OR||y.$$typeof===zR||y.$$typeof===kR)};Gi.typeOf=Ql;R6.exports=Gi;var FR=R6.exports,I6=FR,NR={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},BR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},k6={};k6[I6.ForwardRef]=NR;k6[I6.Memo]=BR;var UR=!0;function VR(y,k,j){var se="";return j.split(" ").forEach(function(me){y[me]!==void 0?k.push(y[me]+";"):se+=me+" "}),se}var _6=function(k,j,se){var me=k.key+"-"+j.name;(se===!1||UR===!1)&&k.registered[me]===void 0&&(k.registered[me]=j.styles)},O6=function(k,j,se){_6(k,j,se);var me=k.key+"-"+j.name;if(k.inserted[j.name]===void 0){var Pe=j;do k.insert(j===Pe?"."+me:"",Pe,k.sheet,!0),Pe=Pe.next;while(Pe!==void 0)}};function HR(y){for(var k=0,j,se=0,me=y.length;me>=4;++se,me-=4)j=y.charCodeAt(se)&255|(y.charCodeAt(++se)&255)<<8|(y.charCodeAt(++se)&255)<<16|(y.charCodeAt(++se)&255)<<24,j=(j&65535)*1540483477+((j>>>16)*59797<<16),j^=j>>>24,k=(j&65535)*1540483477+((j>>>16)*59797<<16)^(k&65535)*1540483477+((k>>>16)*59797<<16);switch(me){case 3:k^=(y.charCodeAt(se+2)&255)<<16;case 2:k^=(y.charCodeAt(se+1)&255)<<8;case 1:k^=y.charCodeAt(se)&255,k=(k&65535)*1540483477+((k>>>16)*59797<<16)}return k^=k>>>13,k=(k&65535)*1540483477+((k>>>16)*59797<<16),((k^k>>>15)>>>0).toString(36)}var GR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WR=/[A-Z]|^ms/g,jR=/_EMO_([^_]+?)_([^]*?)_EMO_/g,z6=function(k){return k.charCodeAt(1)===45},V4=function(k){return k!=null&&typeof k!="boolean"},q1=w6(function(y){return z6(y)?y:y.replace(WR,"-$&").toLowerCase()}),H4=function(k,j){switch(k){case"animation":case"animationName":if(typeof j=="string")return j.replace(jR,function(se,me,Pe){return jf={name:me,styles:Pe,next:jf},me})}return GR[k]!==1&&!z6(k)&&typeof j=="number"&&j!==0?j+"px":j};function M0(y,k,j){if(j==null)return"";if(j.__emotion_styles!==void 0)return j;switch(typeof j){case"boolean":return"";case"object":{if(j.anim===1)return jf={name:j.name,styles:j.styles,next:jf},j.name;if(j.styles!==void 0){var se=j.next;if(se!==void 0)for(;se!==void 0;)jf={name:se.name,styles:se.styles,next:jf},se=se.next;var me=j.styles+";";return me}return YR(y,k,j)}case"function":{if(y!==void 0){var Pe=jf,H=j(y);return jf=Pe,M0(y,k,H)}break}}if(k==null)return j;var G=k[j];return G!==void 0?G:j}function YR(y,k,j){var se="";if(Array.isArray(j))for(var me=0;me<j.length;me++)se+=M0(y,k,j[me])+";";else for(var Pe in j){var H=j[Pe];if(typeof H!="object")k!=null&&k[H]!==void 0?se+=Pe+"{"+k[H]+"}":V4(H)&&(se+=q1(Pe)+":"+H4(Pe,H)+";");else if(Array.isArray(H)&&typeof H[0]=="string"&&(k==null||k[H[0]]===void 0))for(var G=0;G<H.length;G++)V4(H[G])&&(se+=q1(Pe)+":"+H4(Pe,H[G])+";");else{var e=M0(y,k,H);switch(Pe){case"animation":case"animationName":{se+=q1(Pe)+":"+e+";";break}default:se+=Pe+"{"+e+"}"}}}return se}var G4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,jf,N3=function(k,j,se){if(k.length===1&&typeof k[0]=="object"&&k[0]!==null&&k[0].styles!==void 0)return k[0];var me=!0,Pe="";jf=void 0;var H=k[0];H==null||H.raw===void 0?(me=!1,Pe+=M0(se,j,H)):Pe+=H[0];for(var G=1;G<k.length;G++)Pe+=M0(se,j,k[G]),me&&(Pe+=H[G]);G4.lastIndex=0;for(var e="",g;(g=G4.exec(Pe))!==null;)e+="-"+g[1];var R=HR(Pe)+e;return{name:R,styles:Pe,next:jf}},XR=function(k){return k()},F6=fy.useInsertionEffect?fy.useInsertionEffect:!1,ZR=F6||XR,W4=F6||Vn.useLayoutEffect,N6=Vn.createContext(typeof HTMLElement<"u"?P6({key:"css"}):null),KR=N6.Provider,B6=function(k){return Vn.forwardRef(function(j,se){var me=Vn.useContext(N6);return k(j,me,se)})},Nm=Vn.createContext({}),ex={exports:{}},j4;function U6(){return j4||(j4=1,function(y){function k(){return y.exports=k=Object.assign?Object.assign.bind():function(j){for(var se=1;se<arguments.length;se++){var me=arguments[se];for(var Pe in me)Object.prototype.hasOwnProperty.call(me,Pe)&&(j[Pe]=me[Pe])}return j},y.exports.__esModule=!0,y.exports.default=y.exports,k.apply(this,arguments)}y.exports=k,y.exports.__esModule=!0,y.exports.default=y.exports}(ex)),ex.exports}U6();var JR=B6(function(y,k){var j=y.styles,se=N3([j],void 0,Vn.useContext(Nm)),me=Vn.useRef();return W4(function(){var Pe=k.key+"-global",H=new k.sheet.constructor({key:Pe,nonce:k.sheet.nonce,container:k.sheet.container,speedy:k.sheet.isSpeedy}),G=!1,e=document.querySelector('style[data-emotion="'+Pe+" "+se.name+'"]');return k.sheet.tags.length&&(H.before=k.sheet.tags[0]),e!==null&&(G=!0,e.setAttribute("data-emotion",Pe),H.hydrate([e])),me.current=[H,G],function(){H.flush()}},[k]),W4(function(){var Pe=me.current,H=Pe[0],G=Pe[1];if(G){Pe[1]=!1;return}if(se.next!==void 0&&O6(k,se.next,!0),H.tags.length){var e=H.tags[H.tags.length-1].nextElementSibling;H.before=e,H.flush()}k.insert("",se,H,!1)},[k,se.name]),null});function V6(){for(var y=arguments.length,k=new Array(y),j=0;j<y;j++)k[j]=arguments[j];return N3(k)}var $R=function(){var k=V6.apply(void 0,arguments),j="animation-"+k.name;return{name:j,styles:"@keyframes "+j+"{"+k.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},QR=nR,qR=function(k){return k!=="theme"},Y4=function(k){return typeof k=="string"&&k.charCodeAt(0)>96?QR:qR},X4=function(k,j,se){var me;if(j){var Pe=j.shouldForwardProp;me=k.__emotion_forwardProp&&Pe?function(H){return k.__emotion_forwardProp(H)&&Pe(H)}:Pe}return typeof me!="function"&&se&&(me=k.__emotion_forwardProp),me},eD=function(k){var j=k.cache,se=k.serialized,me=k.isStringTag;return _6(j,se,me),ZR(function(){return O6(j,se,me)}),null},tD=function y(k,j){var se=k.__emotion_real===k,me=se&&k.__emotion_base||k,Pe,H;j!==void 0&&(Pe=j.label,H=j.target);var G=X4(k,j,se),e=G||Y4(me),g=!e("as");return function(){var R=arguments,a=se&&k.__emotion_styles!==void 0?k.__emotion_styles.slice(0):[];if(Pe!==void 0&&a.push("label:"+Pe+";"),R[0]==null||R[0].raw===void 0)a.push.apply(a,R);else{a.push(R[0][0]);for(var C=R.length,S=1;S<C;S++)a.push(R[S],R[0][S])}var v=B6(function(d,r,t){var i=g&&d.as||me,n="",f=[],u=d;if(d.theme==null){u={};for(var l in d)u[l]=d[l];u.theme=Vn.useContext(Nm)}typeof d.className=="string"?n=VR(r.registered,f,d.className):d.className!=null&&(n=d.className+" ");var m=N3(a.concat(f),r.registered,u);n+=r.key+"-"+m.name,H!==void 0&&(n+=" "+H);var c=g&&G===void 0?Y4(i):e,A={};for(var h in d)g&&h==="as"||c(h)&&(A[h]=d[h]);return A.className=n,A.ref=t,Vn.createElement(Vn.Fragment,null,Vn.createElement(eD,{cache:r,serialized:m,isStringTag:typeof i=="string"}),Vn.createElement(i,A))});return v.displayName=Pe!==void 0?Pe:"Styled("+(typeof me=="string"?me:me.displayName||me.name||"Component")+")",v.defaultProps=k.defaultProps,v.__emotion_real=v,v.__emotion_base=me,v.__emotion_styles=a,v.__emotion_forwardProp=G,Object.defineProperty(v,"toString",{value:function(){return"."+H}}),v.withComponent=function(d,r){return y(d,Vi({},j,r,{shouldForwardProp:X4(v,r,!0)})).apply(void 0,a)},v}},rD=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],cb=tD.bind();rD.forEach(function(y){cb[y]=cb(y)});let hb;typeof document=="object"&&(hb=P6({key:"css",prepend:!0}));function nD(y){const{injectFirst:k,children:j}=y;return k&&hb?er.jsx(KR,{value:hb,children:j}):j}function aD(y){return y==null||Object.keys(y).length===0}function iD(y){const{styles:k,defaultTheme:j={}}=y,se=typeof k=="function"?me=>k(aD(me)?j:me):k;return er.jsx(JR,{styles:se})}function oD(y,k){return cb(y,k)}const sD=(y,k)=>{Array.isArray(y.__emotion_styles)&&(y.__emotion_styles=k(y.__emotion_styles))},lD=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:iD,StyledEngineProvider:nD,ThemeContext:Nm,css:V6,default:oD,internal_processStyles:sD,keyframes:$R},Symbol.toStringTag,{value:"Module"}));function uD(y){return Object.keys(y).length===0}function fD(y=null){const k=Vn.useContext(Nm);return!k||uD(k)?y:k}const cD=D3();function hD(y=cD){return fD(y)}function vD({props:y,name:k,defaultTheme:j,themeId:se}){let me=hD(j);return se&&(me=me[se]||me),s9({theme:me,name:k,props:y})}const dD=["sx"],pD=y=>{var k,j;const se={systemProps:{},otherProps:{}},me=(k=y==null||(j=y.theme)==null?void 0:j.unstable_sxConfig)!=null?k:B0;return Object.keys(y).forEach(Pe=>{me[Pe]?se.systemProps[Pe]=y[Pe]:se.otherProps[Pe]=y[Pe]}),se};function gD(y){const{sx:k}=y,j=Jh(y,dD),{systemProps:se,otherProps:me}=pD(j);let Pe;return Array.isArray(k)?Pe=[se,...k]:typeof k=="function"?Pe=(...H)=>{const G=k(...H);return Dh(G)?Vi({},se,G):se}:Pe=Vi({},se,k),Vi({},me,{sx:Pe})}const yD=Object.freeze(Object.defineProperty({__proto__:null,default:Sm,extendSxProp:gD,unstable_createStyleFunctionSx:x6,unstable_defaultSxConfig:B0},Symbol.toStringTag,{value:"Module"}));function mD(y,k){return Vi({toolbar:{minHeight:56,[y.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[y.up("sm")]:{minHeight:64}}},k)}var Go={};const xD=Fc(CP),bD=Fc(o9);var H6=bf;Object.defineProperty(Go,"__esModule",{value:!0});Go.alpha=Y6;Go.blend=kD;Go.colorChannel=void 0;var wD=Go.darken=U3;Go.decomposeColor=Ou;Go.emphasize=X6;var TD=Go.getContrastRatio=LD;Go.getLuminance=By;Go.hexToRgb=G6;Go.hslToRgb=j6;var AD=Go.lighten=V3;Go.private_safeAlpha=PD;Go.private_safeColorChannel=void 0;Go.private_safeDarken=RD;Go.private_safeEmphasize=ID;Go.private_safeLighten=DD;Go.recomposeColor=ap;Go.rgbToHex=CD;var Z4=H6(xD),SD=H6(bD);function B3(y,k=0,j=1){return(0,SD.default)(y,k,j)}function G6(y){y=y.slice(1);const k=new RegExp(`.{1,${y.length>=6?2:1}}`,"g");let j=y.match(k);return j&&j[0].length===1&&(j=j.map(se=>se+se)),j?`rgb${j.length===4?"a":""}(${j.map((se,me)=>me<3?parseInt(se,16):Math.round(parseInt(se,16)/255*1e3)/1e3).join(", ")})`:""}function MD(y){const k=y.toString(16);return k.length===1?`0${k}`:k}function Ou(y){if(y.type)return y;if(y.charAt(0)==="#")return Ou(G6(y));const k=y.indexOf("("),j=y.substring(0,k);if(["rgb","rgba","hsl","hsla","color"].indexOf(j)===-1)throw new Error((0,Z4.default)(9,y));let se=y.substring(k+1,y.length-1),me;if(j==="color"){if(se=se.split(" "),me=se.shift(),se.length===4&&se[3].charAt(0)==="/"&&(se[3]=se[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(me)===-1)throw new Error((0,Z4.default)(10,me))}else se=se.split(",");return se=se.map(Pe=>parseFloat(Pe)),{type:j,values:se,colorSpace:me}}const W6=y=>{const k=Ou(y);return k.values.slice(0,3).map((j,se)=>k.type.indexOf("hsl")!==-1&&se!==0?`${j}%`:j).join(" ")};Go.colorChannel=W6;const ED=(y,k)=>{try{return W6(y)}catch{return y}};Go.private_safeColorChannel=ED;function ap(y){const{type:k,colorSpace:j}=y;let{values:se}=y;return k.indexOf("rgb")!==-1?se=se.map((me,Pe)=>Pe<3?parseInt(me,10):me):k.indexOf("hsl")!==-1&&(se[1]=`${se[1]}%`,se[2]=`${se[2]}%`),k.indexOf("color")!==-1?se=`${j} ${se.join(" ")}`:se=`${se.join(", ")}`,`${k}(${se})`}function CD(y){if(y.indexOf("#")===0)return y;const{values:k}=Ou(y);return`#${k.map((j,se)=>MD(se===3?Math.round(255*j):j)).join("")}`}function j6(y){y=Ou(y);const{values:k}=y,j=k[0],se=k[1]/100,me=k[2]/100,Pe=se*Math.min(me,1-me),H=(g,R=(g+j/30)%12)=>me-Pe*Math.max(Math.min(R-3,9-R,1),-1);let G="rgb";const e=[Math.round(H(0)*255),Math.round(H(8)*255),Math.round(H(4)*255)];return y.type==="hsla"&&(G+="a",e.push(k[3])),ap({type:G,values:e})}function By(y){y=Ou(y);let k=y.type==="hsl"||y.type==="hsla"?Ou(j6(y)).values:y.values;return k=k.map(j=>(y.type!=="color"&&(j/=255),j<=.03928?j/12.92:((j+.055)/1.055)**2.4)),Number((.2126*k[0]+.7152*k[1]+.0722*k[2]).toFixed(3))}function LD(y,k){const j=By(y),se=By(k);return(Math.max(j,se)+.05)/(Math.min(j,se)+.05)}function Y6(y,k){return y=Ou(y),k=B3(k),(y.type==="rgb"||y.type==="hsl")&&(y.type+="a"),y.type==="color"?y.values[3]=`/${k}`:y.values[3]=k,ap(y)}function PD(y,k,j){try{return Y6(y,k)}catch{return y}}function U3(y,k){if(y=Ou(y),k=B3(k),y.type.indexOf("hsl")!==-1)y.values[2]*=1-k;else if(y.type.indexOf("rgb")!==-1||y.type.indexOf("color")!==-1)for(let j=0;j<3;j+=1)y.values[j]*=1-k;return ap(y)}function RD(y,k,j){try{return U3(y,k)}catch{return y}}function V3(y,k){if(y=Ou(y),k=B3(k),y.type.indexOf("hsl")!==-1)y.values[2]+=(100-y.values[2])*k;else if(y.type.indexOf("rgb")!==-1)for(let j=0;j<3;j+=1)y.values[j]+=(255-y.values[j])*k;else if(y.type.indexOf("color")!==-1)for(let j=0;j<3;j+=1)y.values[j]+=(1-y.values[j])*k;return ap(y)}function DD(y,k,j){try{return V3(y,k)}catch{return y}}function X6(y,k=.15){return By(y)>.5?U3(y,k):V3(y,k)}function ID(y,k,j){try{return X6(y,k)}catch{return y}}function kD(y,k,j,se=1){const me=(e,g)=>Math.round((e**(1/se)*(1-j)+g**(1/se)*j)**se),Pe=Ou(y),H=Ou(k),G=[me(Pe.values[0],H.values[0]),me(Pe.values[1],H.values[1]),me(Pe.values[2],H.values[2])];return ap({type:"rgb",values:G})}const _D={black:"#000",white:"#fff"},E0=_D,OD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},zD=OD,FD={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},yd=FD,ND={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},md=ND,BD={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Bp=BD,UD={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},xd=UD,VD={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},bd=VD,HD={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},wd=HD,GD=["mode","contrastThreshold","tonalOffset"],K4={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:E0.white,default:E0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},tx={text:{primary:E0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:E0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function J4(y,k,j,se){const me=se.light||se,Pe=se.dark||se*1.5;y[k]||(y.hasOwnProperty(j)?y[k]=y[j]:k==="light"?y.light=AD(y.main,me):k==="dark"&&(y.dark=wD(y.main,Pe)))}function WD(y="light"){return y==="dark"?{main:xd[200],light:xd[50],dark:xd[400]}:{main:xd[700],light:xd[400],dark:xd[800]}}function jD(y="light"){return y==="dark"?{main:yd[200],light:yd[50],dark:yd[400]}:{main:yd[500],light:yd[300],dark:yd[700]}}function YD(y="light"){return y==="dark"?{main:md[500],light:md[300],dark:md[700]}:{main:md[700],light:md[400],dark:md[800]}}function XD(y="light"){return y==="dark"?{main:bd[400],light:bd[300],dark:bd[700]}:{main:bd[700],light:bd[500],dark:bd[900]}}function ZD(y="light"){return y==="dark"?{main:wd[400],light:wd[300],dark:wd[700]}:{main:wd[800],light:wd[500],dark:wd[900]}}function KD(y="light"){return y==="dark"?{main:Bp[400],light:Bp[300],dark:Bp[700]}:{main:"#ed6c02",light:Bp[500],dark:Bp[900]}}function JD(y){const{mode:k="light",contrastThreshold:j=3,tonalOffset:se=.2}=y,me=Jh(y,GD),Pe=y.primary||WD(k),H=y.secondary||jD(k),G=y.error||YD(k),e=y.info||XD(k),g=y.success||ZD(k),R=y.warning||KD(k);function a(d){return TD(d,tx.text.primary)>=j?tx.text.primary:K4.text.primary}const C=({color:d,name:r,mainShade:t=500,lightShade:i=300,darkShade:n=700})=>{if(d=Vi({},d),!d.main&&d[t]&&(d.main=d[t]),!d.hasOwnProperty("main"))throw new Error(T0(11,r?` (${r})`:"",t));if(typeof d.main!="string")throw new Error(T0(12,r?` (${r})`:"",JSON.stringify(d.main)));return J4(d,"light",i,se),J4(d,"dark",n,se),d.contrastText||(d.contrastText=a(d.main)),d},S={dark:tx,light:K4};return Jf(Vi({common:Vi({},E0),mode:k,primary:C({color:Pe,name:"primary"}),secondary:C({color:H,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:G,name:"error"}),warning:C({color:R,name:"warning"}),info:C({color:e,name:"info"}),success:C({color:g,name:"success"}),grey:zD,contrastThreshold:j,getContrastText:a,augmentColor:C,tonalOffset:se},S[k]),me)}const $D=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function QD(y){return Math.round(y*1e5)/1e5}const $4={textTransform:"uppercase"},Q4='"Roboto", "Helvetica", "Arial", sans-serif';function qD(y,k){const j=typeof k=="function"?k(y):k,{fontFamily:se=Q4,fontSize:me=14,fontWeightLight:Pe=300,fontWeightRegular:H=400,fontWeightMedium:G=500,fontWeightBold:e=700,htmlFontSize:g=16,allVariants:R,pxToRem:a}=j,C=Jh(j,$D),S=me/14,v=a||(t=>`${t/g*S}rem`),d=(t,i,n,f,u)=>Vi({fontFamily:se,fontWeight:t,fontSize:v(i),lineHeight:n},se===Q4?{letterSpacing:`${QD(f/i)}em`}:{},u,R),r={h1:d(Pe,96,1.167,-1.5),h2:d(Pe,60,1.2,-.5),h3:d(H,48,1.167,0),h4:d(H,34,1.235,.25),h5:d(H,24,1.334,0),h6:d(G,20,1.6,.15),subtitle1:d(H,16,1.75,.15),subtitle2:d(G,14,1.57,.1),body1:d(H,16,1.5,.15),body2:d(H,14,1.43,.15),button:d(G,14,1.75,.4,$4),caption:d(H,12,1.66,.4),overline:d(H,12,2.66,1,$4),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Jf(Vi({htmlFontSize:g,pxToRem:v,fontFamily:se,fontSize:me,fontWeightLight:Pe,fontWeightRegular:H,fontWeightMedium:G,fontWeightBold:e},r),C,{clone:!1})}const eI=.2,tI=.14,rI=.12;function ho(...y){return[`${y[0]}px ${y[1]}px ${y[2]}px ${y[3]}px rgba(0,0,0,${eI})`,`${y[4]}px ${y[5]}px ${y[6]}px ${y[7]}px rgba(0,0,0,${tI})`,`${y[8]}px ${y[9]}px ${y[10]}px ${y[11]}px rgba(0,0,0,${rI})`].join(",")}const nI=["none",ho(0,2,1,-1,0,1,1,0,0,1,3,0),ho(0,3,1,-2,0,2,2,0,0,1,5,0),ho(0,3,3,-2,0,3,4,0,0,1,8,0),ho(0,2,4,-1,0,4,5,0,0,1,10,0),ho(0,3,5,-1,0,5,8,0,0,1,14,0),ho(0,3,5,-1,0,6,10,0,0,1,18,0),ho(0,4,5,-2,0,7,10,1,0,2,16,1),ho(0,5,5,-3,0,8,10,1,0,3,14,2),ho(0,5,6,-3,0,9,12,1,0,3,16,2),ho(0,6,6,-3,0,10,14,1,0,4,18,3),ho(0,6,7,-4,0,11,15,1,0,4,20,3),ho(0,7,8,-4,0,12,17,2,0,5,22,4),ho(0,7,8,-4,0,13,19,2,0,5,24,4),ho(0,7,9,-4,0,14,21,2,0,5,26,4),ho(0,8,9,-5,0,15,22,2,0,6,28,5),ho(0,8,10,-5,0,16,24,2,0,6,30,5),ho(0,8,11,-5,0,17,26,2,0,6,32,5),ho(0,9,11,-5,0,18,28,2,0,7,34,6),ho(0,9,12,-6,0,19,29,2,0,7,36,6),ho(0,10,13,-6,0,20,31,3,0,8,38,7),ho(0,10,13,-6,0,21,33,3,0,8,40,7),ho(0,10,14,-6,0,22,35,3,0,8,42,7),ho(0,11,14,-7,0,23,36,3,0,9,44,8),ho(0,11,15,-7,0,24,38,3,0,9,46,8)],aI=["duration","easing","delay"],iI={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},oI={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function q4(y){return`${Math.round(y)}ms`}function sI(y){if(!y)return 0;const k=y/36;return Math.round((4+15*k**.25+k/5)*10)}function lI(y){const k=Vi({},iI,y.easing),j=Vi({},oI,y.duration);return Vi({getAutoHeightDuration:sI,create:(me=["all"],Pe={})=>{const{duration:H=j.standard,easing:G=k.easeInOut,delay:e=0}=Pe;return Jh(Pe,aI),(Array.isArray(me)?me:[me]).map(g=>`${g} ${typeof H=="string"?H:q4(H)} ${G} ${typeof e=="string"?e:q4(e)}`).join(",")}},y,{easing:k,duration:j})}const uI={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fI=uI,cI=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function hI(y={},...k){const{mixins:j={},palette:se={},transitions:me={},typography:Pe={}}=y,H=Jh(y,cI);if(y.vars)throw new Error(T0(18));const G=JD(se),e=D3(y);let g=Jf(e,{mixins:mD(e.breakpoints,j),palette:G,shadows:nI.slice(),typography:qD(G,Pe),transitions:lI(me),zIndex:Vi({},fI)});return g=Jf(g,H),g=k.reduce((R,a)=>Jf(R,a),g),g.unstable_sxConfig=Vi({},B0,H==null?void 0:H.unstable_sxConfig),g.unstable_sx=function(a){return Sm({sx:a,theme:this})},g}const vI=hI(),Z6=vI,K6="$$material";function dI({props:y,name:k}){return vD({props:y,name:k,defaultTheme:Z6,themeId:K6})}var V0={},rx={exports:{}},eT;function pI(){return eT||(eT=1,function(y){function k(j,se){if(j==null)return{};var me={},Pe=Object.keys(j),H,G;for(G=0;G<Pe.length;G++)H=Pe[G],!(se.indexOf(H)>=0)&&(me[H]=j[H]);return me}y.exports=k,y.exports.__esModule=!0,y.exports.default=y.exports}(rx)),rx.exports}const gI=Fc(lD),yI=Fc(wP),mI=Fc(kP),xI=Fc(IP),bI=Fc(tR),wI=Fc(yD);var ip=bf;Object.defineProperty(V0,"__esModule",{value:!0});var TI=V0.default=OI;V0.shouldForwardProp=ty;V0.systemDefaultTheme=void 0;var Mu=ip(U6()),vb=ip(pI()),tT=PI(gI),AI=yI;ip(mI);ip(xI);var SI=ip(bI),MI=ip(wI);const EI=["ownerState"],CI=["variants"],LI=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function J6(y){if(typeof WeakMap!="function")return null;var k=new WeakMap,j=new WeakMap;return(J6=function(se){return se?j:k})(y)}function PI(y,k){if(!k&&y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var j=J6(k);if(j&&j.has(y))return j.get(y);var se={__proto__:null},me=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Pe in y)if(Pe!=="default"&&Object.prototype.hasOwnProperty.call(y,Pe)){var H=me?Object.getOwnPropertyDescriptor(y,Pe):null;H&&(H.get||H.set)?Object.defineProperty(se,Pe,H):se[Pe]=y[Pe]}return se.default=y,j&&j.set(y,se),se}function RI(y){return Object.keys(y).length===0}function DI(y){return typeof y=="string"&&y.charCodeAt(0)>96}function ty(y){return y!=="ownerState"&&y!=="theme"&&y!=="sx"&&y!=="as"}const II=V0.systemDefaultTheme=(0,SI.default)(),kI=y=>y&&y.charAt(0).toLowerCase()+y.slice(1);function zg({defaultTheme:y,theme:k,themeId:j}){return RI(k)?y:k[j]||k}function _I(y){return y?(k,j)=>j[y]:null}function ry(y,k){let{ownerState:j}=k,se=(0,vb.default)(k,EI);const me=typeof y=="function"?y((0,Mu.default)({ownerState:j},se)):y;if(Array.isArray(me))return me.flatMap(Pe=>ry(Pe,(0,Mu.default)({ownerState:j},se)));if(me&&typeof me=="object"&&Array.isArray(me.variants)){const{variants:Pe=[]}=me;let G=(0,vb.default)(me,CI);return Pe.forEach(e=>{let g=!0;typeof e.props=="function"?g=e.props((0,Mu.default)({ownerState:j},se,j)):Object.keys(e.props).forEach(R=>{(j==null?void 0:j[R])!==e.props[R]&&se[R]!==e.props[R]&&(g=!1)}),g&&(Array.isArray(G)||(G=[G]),G.push(typeof e.style=="function"?e.style((0,Mu.default)({ownerState:j},se,j)):e.style))}),G}return me}function OI(y={}){const{themeId:k,defaultTheme:j=II,rootShouldForwardProp:se=ty,slotShouldForwardProp:me=ty}=y,Pe=H=>(0,MI.default)((0,Mu.default)({},H,{theme:zg((0,Mu.default)({},H,{defaultTheme:j,themeId:k}))}));return Pe.__mui_systemSx=!0,(H,G={})=>{(0,tT.internal_processStyles)(H,u=>u.filter(l=>!(l!=null&&l.__mui_systemSx)));const{name:e,slot:g,skipVariantsResolver:R,skipSx:a,overridesResolver:C=_I(kI(g))}=G,S=(0,vb.default)(G,LI),v=R!==void 0?R:g&&g!=="Root"&&g!=="root"||!1,d=a||!1;let r,t=ty;g==="Root"||g==="root"?t=se:g?t=me:DI(H)&&(t=void 0);const i=(0,tT.default)(H,(0,Mu.default)({shouldForwardProp:t,label:r},S)),n=u=>typeof u=="function"&&u.__emotion_real!==u||(0,AI.isPlainObject)(u)?l=>ry(u,(0,Mu.default)({},l,{theme:zg({theme:l.theme,defaultTheme:j,themeId:k})})):u,f=(u,...l)=>{let m=n(u);const c=l?l.map(n):[];e&&C&&c.push(o=>{const p=zg((0,Mu.default)({},o,{defaultTheme:j,themeId:k}));if(!p.components||!p.components[e]||!p.components[e].styleOverrides)return null;const b=p.components[e].styleOverrides,T={};return Object.entries(b).forEach(([P,x])=>{T[P]=ry(x,(0,Mu.default)({},o,{theme:p}))}),C(o,T)}),e&&!v&&c.push(o=>{var p;const b=zg((0,Mu.default)({},o,{defaultTheme:j,themeId:k})),T=b==null||(p=b.components)==null||(p=p[e])==null?void 0:p.variants;return ry({variants:T},(0,Mu.default)({},o,{theme:b}))}),d||c.push(Pe);const A=c.length-l.length;if(Array.isArray(u)&&A>0){const o=new Array(A).fill("");m=[...u,...o],m.raw=[...u.raw,...o]}const h=i(m,...c);return H.muiName&&(h.muiName=H.muiName),h};return i.withConfig&&(f.withConfig=i.withConfig),f}}function zI(y){return y!=="ownerState"&&y!=="theme"&&y!=="sx"&&y!=="as"}const FI=y=>zI(y)&&y!=="classes",NI=FI,BI=TI({themeId:K6,defaultTheme:Z6,rootShouldForwardProp:NI});function UI(y){return d6("MuiSvgIcon",y)}a9("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const VI=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],HI=y=>{const{color:k,fontSize:j,classes:se}=y,me={root:["root",k!=="inherit"&&`color${Yh(k)}`,`fontSize${Yh(j)}`]};return t9(me,UI,se)},GI=BI("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(y,k)=>{const{ownerState:j}=y;return[k.root,j.color!=="inherit"&&k[`color${Yh(j.color)}`],k[`fontSize${Yh(j.fontSize)}`]]}})(({theme:y,ownerState:k})=>{var j,se,me,Pe,H,G,e,g,R,a,C,S,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:k.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(j=y.transitions)==null||(se=j.create)==null?void 0:se.call(j,"fill",{duration:(me=y.transitions)==null||(me=me.duration)==null?void 0:me.shorter}),fontSize:{inherit:"inherit",small:((Pe=y.typography)==null||(H=Pe.pxToRem)==null?void 0:H.call(Pe,20))||"1.25rem",medium:((G=y.typography)==null||(e=G.pxToRem)==null?void 0:e.call(G,24))||"1.5rem",large:((g=y.typography)==null||(R=g.pxToRem)==null?void 0:R.call(g,35))||"2.1875rem"}[k.fontSize],color:(a=(C=(y.vars||y).palette)==null||(C=C[k.color])==null?void 0:C.main)!=null?a:{action:(S=(y.vars||y).palette)==null||(S=S.action)==null?void 0:S.active,disabled:(v=(y.vars||y).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[k.color]}}),db=Vn.forwardRef(function(k,j){const se=dI({props:k,name:"MuiSvgIcon"}),{children:me,className:Pe,color:H="inherit",component:G="svg",fontSize:e="medium",htmlColor:g,inheritViewBox:R=!1,titleAccess:a,viewBox:C="0 0 24 24"}=se,S=Jh(se,VI),v=Vn.isValidElement(me)&&me.type==="svg",d=Vi({},se,{color:H,component:G,fontSize:e,instanceFontSize:k.fontSize,inheritViewBox:R,viewBox:C,hasSvgAsChild:v}),r={};R||(r.viewBox=C);const t=HI(d);return er.jsxs(GI,Vi({as:G,className:Pc(t.root,Pe),focusable:"false",color:g,"aria-hidden":a?void 0:!0,role:a?"img":void 0,ref:j},r,S,v&&me.props,{ownerState:d,children:[v?me.props.children:me,a?er.jsx("title",{children:a}):null]}))});db.muiName="SvgIcon";function WI(y,k){function j(se,me){return er.jsx(db,Vi({"data-testid":`${k}Icon`,ref:me},se,{children:y}))}return j.muiName=db.muiName,Vn.memo(Vn.forwardRef(j))}const jI={configure:y=>{v6.configure(y)}},YI=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Yh,createChainedFunction:_P,createSvgIcon:WI,debounce:OP,deprecatedPropType:zP,isMuiElement:FP,ownerDocument:u6,ownerWindow:NP,requirePropFactory:BP,setRef:f6,unstable_ClassNameGenerator:jI,unstable_useEnhancedEffect:c6,unstable_useId:HP,unsupportedProp:GP,useControlled:WP,useEventCallback:jP,useForkRef:YP,useIsFocusVisible:e9},Symbol.toStringTag,{value:"Module"})),XI=Fc(YI);var rT;function Uc(){return rT||(rT=1,function(y){"use client";Object.defineProperty(y,"__esModule",{value:!0}),Object.defineProperty(y,"default",{enumerable:!0,get:function(){return k.createSvgIcon}});var k=XI}($1)),$1}var ZI=bf;Object.defineProperty(A3,"__esModule",{value:!0});var $6=A3.default=void 0,KI=ZI(Uc()),JI=er;$6=A3.default=(0,KI.default)((0,JI.jsx)("path",{d:"M19.88 18.47c.44-.7.7-1.51.7-2.39 0-2.49-2.01-4.5-4.5-4.5s-4.5 2.01-4.5 4.5 2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21.58 23 23 21.58zm-3.8.11c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5m-.36-8.5c-.74.02-1.45.18-2.1.45l-.55-.83-3.8 6.18-3.01-3.52-3.63 5.81L1 17l5-8 3 3.5L13 6zm2.59.5c-.64-.28-1.33-.45-2.05-.49L21.38 2 23 3.18z"}),"QueryStats");const vf=()=>{const y=om(),{logout:k,user:j}=Bc(),se=()=>{k(),y("/")};return er.jsxs("div",{className:"flex justify-between items-center text-[25px] pt-5 pb-5 bg-[#E5E5E5]",children:[er.jsx("div",{className:"ml-10",children:er.jsxs(Su,{to:"/",className:"flex items-center",children:[er.jsx($6,{}),er.jsxs("div",{className:"text-[#4a61ff]",children:[er.jsx("strong",{className:"ml-3",children:"Fin"}),"Arc"]})]})}),er.jsx("div",{className:"mr-10",children:j?er.jsxs(er.Fragment,{children:[er.jsx("span",{className:"inline-block relative mr-6",children:j.name}),er.jsx("button",{onClick:se,className:"text-sm text-gray-800 bg-slate-400 rounded-full py-4 px-3 hover:bg-slate-500",children:"Logout"})]}):er.jsxs(er.Fragment,{children:[er.jsx(Su,{to:"/signup",className:"inline-block relative mr-6",children:er.jsx("span",{className:"text-sm text-gray-800 bg-slate-400 rounded-full py-4 px-3 hover:bg-slate-500",children:"Sign Up"})}),er.jsx(Su,{to:"/login",className:"inline-block relative",children:er.jsx("span",{className:"text-sm text-gray-800 bg-slate-400 rounded-full py-4 px-3 hover:bg-slate-500",children:"Log In"})})]})})]})};var H3={},$I=bf;Object.defineProperty(H3,"__esModule",{value:!0});var Q6=H3.default=void 0,QI=$I(Uc()),qI=er;Q6=H3.default=(0,QI.default)((0,qI.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"}),"FormatListBulleted");var G3={},ek=bf;Object.defineProperty(G3,"__esModule",{value:!0});var q6=G3.default=void 0,tk=ek(Uc()),rk=er;q6=G3.default=(0,tk.default)((0,rk.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58z"}),"AccountBox");var W3={},nk=bf;Object.defineProperty(W3,"__esModule",{value:!0});var eS=W3.default=void 0,ak=nk(Uc()),ik=er;eS=W3.default=(0,ak.default)((0,ik.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart");var j3={},ok=bf;Object.defineProperty(j3,"__esModule",{value:!0});var tS=j3.default=void 0,sk=ok(Uc()),lk=er;tS=j3.default=(0,sk.default)((0,lk.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt");var Y3={},uk=bf;Object.defineProperty(Y3,"__esModule",{value:!0});var rS=Y3.default=void 0,fk=uk(Uc()),ck=er;rS=Y3.default=(0,fk.default)((0,ck.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn");var X3={},hk=bf;Object.defineProperty(X3,"__esModule",{value:!0});var nS=X3.default=void 0,vk=hk(Uc()),dk=er;nS=X3.default=(0,vk.default)((0,dk.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help");var Z3={},pk=bf;Object.defineProperty(Z3,"__esModule",{value:!0});var aS=Z3.default=void 0,gk=pk(Uc()),yk=er;aS=Z3.default=(0,gk.default)((0,yk.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");var K3={},mk=bf;Object.defineProperty(K3,"__esModule",{value:!0});var iS=K3.default=void 0,xk=mk(Uc()),bk=er;iS=K3.default=(0,xk.default)((0,bk.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");const Hf=()=>er.jsx("div",{className:"sidebar bg-[#4a61ff] text-neutral-100 flex flex-col h-screen",children:er.jsx("div",{className:"p-20 flex-grow",children:er.jsxs("ul",{className:"list-none",children:[er.jsxs("li",{className:"mb-4 hover:text-blue-200 flex items-center",children:[er.jsx(eS,{className:"mr-2"}),er.jsx(Su,{to:"/dashboard",children:"Dashboard"})]}),er.jsxs("li",{className:"mb-4 hover:text-blue-200 flex items-center",children:[er.jsx(Q6,{className:"mr-2"}),er.jsx(Su,{to:"/transactions",children:"Transactions"})]}),er.jsxs("li",{className:"mb-4 hover:text-blue-200 flex items-center",children:[er.jsx(tS,{className:"mr-2"}),er.jsx(Su,{to:"/expenses",children:"Expenses"})]}),er.jsxs("li",{className:"mb-4 hover:text-blue-200 flex items-center",children:[er.jsx(q6,{className:"mr-2"}),er.jsx(Su,{to:"/customer",children:"Customer"})]}),er.jsx("p",{className:"mt-8 mb-2 text-[14px] text-[#D4D4D4]",children:"Other Information"}),er.jsxs("li",{className:"mb-4 hover:text-blue-200 flex items-center",children:[er.jsx(rS,{className:"mr-2"}),er.jsx(Su,{to:"/budgets",children:"Budgets"})]}),er.jsxs("li",{className:"mb-4 hover:text-blue-200 flex items-center",children:[er.jsx(nS,{className:"mr-2"}),er.jsx(Su,{to:"/help",children:"Help"})]}),er.jsxs("li",{className:"mb-4 hover:text-blue-200 flex items-center",children:[er.jsx(iS,{className:"mr-2"}),er.jsx(Su,{to:"/about",children:"About"})]}),er.jsx("p",{className:"mt-8 mb-2 text-[14px] text-[#D4D4D4]",children:"Settings"}),er.jsxs("li",{className:"mb-4 hover:text-blue-200 flex items-center",children:[er.jsx(aS,{className:"mr-2"}),er.jsx(Su,{to:"/settings",children:"Personal Settings"})]})]})})}),wk=()=>er.jsx("div",{className:"min-h-screen bg-gray-100",children:er.jsx("div",{className:"max-w-3xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:er.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[er.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[er.jsx("h1",{className:"text-lg leading-6 font-medium text-gray-900",children:"Help"}),er.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Find answers to commonly asked questions."})]}),er.jsx("div",{className:"border-t border-gray-200",children:er.jsxs("dl",{children:[er.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"How do I add an expense?"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:'To add an expense, navigate to the "Expenses" page and fill in the required details such as category, vendor, date, amount, and purpose of the expense. You can also upload a receipt if available.'})]}),er.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"How can I view my financial reports?"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:'You can view your financial reports by clicking on the "Transactions" tab. From there, you can select the type of report you want to view, such as income statement, balance sheet, or cash flow statement.'})]}),er.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"What should I do if I encounter an issue?"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:"If you encounter any issues or have any questions that are not addressed in this help section, please contact our support team for assistance. You can reach us via email or through our online chat support."})]})]})})]})})}),Tk=()=>er.jsxs("div",{className:"relative",children:[er.jsx("img",{src:"src/assets/8524544.jpg",alt:"home",className:"w-full"}),er.jsxs("div",{className:"absolute top-[250px] left-[90px]",children:[er.jsx("h1",{className:"text-white text-[50px] font-bold",children:"Save money, without"}),er.jsx("h1",{className:"text-white text-[50px] font-bold",children:" thinking about it."}),er.jsx(Su,{to:"/signup",children:er.jsx("button",{className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300",children:"Get Started"})})]})]}),Ak=()=>er.jsx("div",{className:"min-h-screen bg-gray-100",children:er.jsx("div",{className:"max-w-3xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:er.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[er.jsx("div",{className:"px-4 py-5 sm:px-6",children:er.jsx("h1",{className:"text-lg leading-6 font-medium text-gray-900",children:"Settings"})}),er.jsx("div",{className:"border-t border-gray-200",children:er.jsxs("dl",{children:[er.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Currency"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:"USD"})]}),er.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Timezone"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:"GMT+0"})]}),er.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Language"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:"English"})]}),er.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Notifications"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:er.jsxs("div",{className:"flex items-center",children:[er.jsx("input",{id:"notifications",name:"notifications",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),er.jsx("label",{htmlFor:"notifications",className:"ml-2 block text-sm text-gray-900",children:"Enable email notifications"})]})})]}),er.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Theme"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:"Light"})]}),er.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[er.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Automatic Backup"}),er.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:col-span-2",children:"Enabled"})]})]})})]})})});function oS(y,k){return function(){return y.apply(k,arguments)}}const{toString:Sk}=Object.prototype,{getPrototypeOf:J3}=Object,Bm=(y=>k=>{const j=Sk.call(k);return y[j]||(y[j]=j.slice(8,-1).toLowerCase())})(Object.create(null)),Qf=y=>(y=y.toLowerCase(),k=>Bm(k)===y),Um=y=>k=>typeof k===y,{isArray:op}=Array,C0=Um("undefined");function Mk(y){return y!==null&&!C0(y)&&y.constructor!==null&&!C0(y.constructor)&&Du(y.constructor.isBuffer)&&y.constructor.isBuffer(y)}const sS=Qf("ArrayBuffer");function Ek(y){let k;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?k=ArrayBuffer.isView(y):k=y&&y.buffer&&sS(y.buffer),k}const Ck=Um("string"),Du=Um("function"),lS=Um("number"),Vm=y=>y!==null&&typeof y=="object",Lk=y=>y===!0||y===!1,ny=y=>{if(Bm(y)!=="object")return!1;const k=J3(y);return(k===null||k===Object.prototype||Object.getPrototypeOf(k)===null)&&!(Symbol.toStringTag in y)&&!(Symbol.iterator in y)},Pk=Qf("Date"),Rk=Qf("File"),Dk=Qf("Blob"),Ik=Qf("FileList"),kk=y=>Vm(y)&&Du(y.pipe),_k=y=>{let k;return y&&(typeof FormData=="function"&&y instanceof FormData||Du(y.append)&&((k=Bm(y))==="formdata"||k==="object"&&Du(y.toString)&&y.toString()==="[object FormData]"))},Ok=Qf("URLSearchParams"),zk=y=>y.trim?y.trim():y.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function H0(y,k,{allOwnKeys:j=!1}={}){if(y===null||typeof y>"u")return;let se,me;if(typeof y!="object"&&(y=[y]),op(y))for(se=0,me=y.length;se<me;se++)k.call(null,y[se],se,y);else{const Pe=j?Object.getOwnPropertyNames(y):Object.keys(y),H=Pe.length;let G;for(se=0;se<H;se++)G=Pe[se],k.call(null,y[G],G,y)}}function uS(y,k){k=k.toLowerCase();const j=Object.keys(y);let se=j.length,me;for(;se-- >0;)if(me=j[se],k===me.toLowerCase())return me;return null}const fS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cS=y=>!C0(y)&&y!==fS;function pb(){const{caseless:y}=cS(this)&&this||{},k={},j=(se,me)=>{const Pe=y&&uS(k,me)||me;ny(k[Pe])&&ny(se)?k[Pe]=pb(k[Pe],se):ny(se)?k[Pe]=pb({},se):op(se)?k[Pe]=se.slice():k[Pe]=se};for(let se=0,me=arguments.length;se<me;se++)arguments[se]&&H0(arguments[se],j);return k}const Fk=(y,k,j,{allOwnKeys:se}={})=>(H0(k,(me,Pe)=>{j&&Du(me)?y[Pe]=oS(me,j):y[Pe]=me},{allOwnKeys:se}),y),Nk=y=>(y.charCodeAt(0)===65279&&(y=y.slice(1)),y),Bk=(y,k,j,se)=>{y.prototype=Object.create(k.prototype,se),y.prototype.constructor=y,Object.defineProperty(y,"super",{value:k.prototype}),j&&Object.assign(y.prototype,j)},Uk=(y,k,j,se)=>{let me,Pe,H;const G={};if(k=k||{},y==null)return k;do{for(me=Object.getOwnPropertyNames(y),Pe=me.length;Pe-- >0;)H=me[Pe],(!se||se(H,y,k))&&!G[H]&&(k[H]=y[H],G[H]=!0);y=j!==!1&&J3(y)}while(y&&(!j||j(y,k))&&y!==Object.prototype);return k},Vk=(y,k,j)=>{y=String(y),(j===void 0||j>y.length)&&(j=y.length),j-=k.length;const se=y.indexOf(k,j);return se!==-1&&se===j},Hk=y=>{if(!y)return null;if(op(y))return y;let k=y.length;if(!lS(k))return null;const j=new Array(k);for(;k-- >0;)j[k]=y[k];return j},Gk=(y=>k=>y&&k instanceof y)(typeof Uint8Array<"u"&&J3(Uint8Array)),Wk=(y,k)=>{const se=(y&&y[Symbol.iterator]).call(y);let me;for(;(me=se.next())&&!me.done;){const Pe=me.value;k.call(y,Pe[0],Pe[1])}},jk=(y,k)=>{let j;const se=[];for(;(j=y.exec(k))!==null;)se.push(j);return se},Yk=Qf("HTMLFormElement"),Xk=y=>y.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(j,se,me){return se.toUpperCase()+me}),nT=(({hasOwnProperty:y})=>(k,j)=>y.call(k,j))(Object.prototype),Zk=Qf("RegExp"),hS=(y,k)=>{const j=Object.getOwnPropertyDescriptors(y),se={};H0(j,(me,Pe)=>{let H;(H=k(me,Pe,y))!==!1&&(se[Pe]=H||me)}),Object.defineProperties(y,se)},Kk=y=>{hS(y,(k,j)=>{if(Du(y)&&["arguments","caller","callee"].indexOf(j)!==-1)return!1;const se=y[j];if(Du(se)){if(k.enumerable=!1,"writable"in k){k.writable=!1;return}k.set||(k.set=()=>{throw Error("Can not rewrite read-only method '"+j+"'")})}})},Jk=(y,k)=>{const j={},se=me=>{me.forEach(Pe=>{j[Pe]=!0})};return op(y)?se(y):se(String(y).split(k)),j},$k=()=>{},Qk=(y,k)=>(y=+y,Number.isFinite(y)?y:k),nx="abcdefghijklmnopqrstuvwxyz",aT="0123456789",vS={DIGIT:aT,ALPHA:nx,ALPHA_DIGIT:nx+nx.toUpperCase()+aT},qk=(y=16,k=vS.ALPHA_DIGIT)=>{let j="";const{length:se}=k;for(;y--;)j+=k[Math.random()*se|0];return j};function e_(y){return!!(y&&Du(y.append)&&y[Symbol.toStringTag]==="FormData"&&y[Symbol.iterator])}const t_=y=>{const k=new Array(10),j=(se,me)=>{if(Vm(se)){if(k.indexOf(se)>=0)return;if(!("toJSON"in se)){k[me]=se;const Pe=op(se)?[]:{};return H0(se,(H,G)=>{const e=j(H,me+1);!C0(e)&&(Pe[G]=e)}),k[me]=void 0,Pe}}return se};return j(y,0)},r_=Qf("AsyncFunction"),n_=y=>y&&(Vm(y)||Du(y))&&Du(y.then)&&Du(y.catch),qn={isArray:op,isArrayBuffer:sS,isBuffer:Mk,isFormData:_k,isArrayBufferView:Ek,isString:Ck,isNumber:lS,isBoolean:Lk,isObject:Vm,isPlainObject:ny,isUndefined:C0,isDate:Pk,isFile:Rk,isBlob:Dk,isRegExp:Zk,isFunction:Du,isStream:kk,isURLSearchParams:Ok,isTypedArray:Gk,isFileList:Ik,forEach:H0,merge:pb,extend:Fk,trim:zk,stripBOM:Nk,inherits:Bk,toFlatObject:Uk,kindOf:Bm,kindOfTest:Qf,endsWith:Vk,toArray:Hk,forEachEntry:Wk,matchAll:jk,isHTMLForm:Yk,hasOwnProperty:nT,hasOwnProp:nT,reduceDescriptors:hS,freezeMethods:Kk,toObjectSet:Jk,toCamelCase:Xk,noop:$k,toFiniteNumber:Qk,findKey:uS,global:fS,isContextDefined:cS,ALPHABET:vS,generateString:qk,isSpecCompliantForm:e_,toJSONObject:t_,isAsyncFn:r_,isThenable:n_};function Mi(y,k,j,se,me){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=y,this.name="AxiosError",k&&(this.code=k),j&&(this.config=j),se&&(this.request=se),me&&(this.response=me)}qn.inherits(Mi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const dS=Mi.prototype,pS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(y=>{pS[y]={value:y}});Object.defineProperties(Mi,pS);Object.defineProperty(dS,"isAxiosError",{value:!0});Mi.from=(y,k,j,se,me,Pe)=>{const H=Object.create(dS);return qn.toFlatObject(y,H,function(e){return e!==Error.prototype},G=>G!=="isAxiosError"),Mi.call(H,y.message,k,j,se,me),H.cause=y,H.name=y.name,Pe&&Object.assign(H,Pe),H};const a_=null;function gb(y){return qn.isPlainObject(y)||qn.isArray(y)}function gS(y){return qn.endsWith(y,"[]")?y.slice(0,-2):y}function iT(y,k,j){return y?y.concat(k).map(function(me,Pe){return me=gS(me),!j&&Pe?"["+me+"]":me}).join(j?".":""):k}function i_(y){return qn.isArray(y)&&!y.some(gb)}const o_=qn.toFlatObject(qn,{},null,function(k){return/^is[A-Z]/.test(k)});function Hm(y,k,j){if(!qn.isObject(y))throw new TypeError("target must be an object");k=k||new FormData,j=qn.toFlatObject(j,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,r){return!qn.isUndefined(r[d])});const se=j.metaTokens,me=j.visitor||R,Pe=j.dots,H=j.indexes,e=(j.Blob||typeof Blob<"u"&&Blob)&&qn.isSpecCompliantForm(k);if(!qn.isFunction(me))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(qn.isDate(v))return v.toISOString();if(!e&&qn.isBlob(v))throw new Mi("Blob is not supported. Use a Buffer instead.");return qn.isArrayBuffer(v)||qn.isTypedArray(v)?e&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function R(v,d,r){let t=v;if(v&&!r&&typeof v=="object"){if(qn.endsWith(d,"{}"))d=se?d:d.slice(0,-2),v=JSON.stringify(v);else if(qn.isArray(v)&&i_(v)||(qn.isFileList(v)||qn.endsWith(d,"[]"))&&(t=qn.toArray(v)))return d=gS(d),t.forEach(function(n,f){!(qn.isUndefined(n)||n===null)&&k.append(H===!0?iT([d],f,Pe):H===null?d:d+"[]",g(n))}),!1}return gb(v)?!0:(k.append(iT(r,d,Pe),g(v)),!1)}const a=[],C=Object.assign(o_,{defaultVisitor:R,convertValue:g,isVisitable:gb});function S(v,d){if(!qn.isUndefined(v)){if(a.indexOf(v)!==-1)throw Error("Circular reference detected in "+d.join("."));a.push(v),qn.forEach(v,function(t,i){(!(qn.isUndefined(t)||t===null)&&me.call(k,t,qn.isString(i)?i.trim():i,d,C))===!0&&S(t,d?d.concat(i):[i])}),a.pop()}}if(!qn.isObject(y))throw new TypeError("data must be an object");return S(y),k}function oT(y){const k={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(y).replace(/[!'()~]|%20|%00/g,function(se){return k[se]})}function $3(y,k){this._pairs=[],y&&Hm(y,this,k)}const yS=$3.prototype;yS.append=function(k,j){this._pairs.push([k,j])};yS.toString=function(k){const j=k?function(se){return k.call(this,se,oT)}:oT;return this._pairs.map(function(me){return j(me[0])+"="+j(me[1])},"").join("&")};function s_(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mS(y,k,j){if(!k)return y;const se=j&&j.encode||s_,me=j&&j.serialize;let Pe;if(me?Pe=me(k,j):Pe=qn.isURLSearchParams(k)?k.toString():new $3(k,j).toString(se),Pe){const H=y.indexOf("#");H!==-1&&(y=y.slice(0,H)),y+=(y.indexOf("?")===-1?"?":"&")+Pe}return y}class sT{constructor(){this.handlers=[]}use(k,j,se){return this.handlers.push({fulfilled:k,rejected:j,synchronous:se?se.synchronous:!1,runWhen:se?se.runWhen:null}),this.handlers.length-1}eject(k){this.handlers[k]&&(this.handlers[k]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(k){qn.forEach(this.handlers,function(se){se!==null&&k(se)})}}const xS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},l_=typeof URLSearchParams<"u"?URLSearchParams:$3,u_=typeof FormData<"u"?FormData:null,f_=typeof Blob<"u"?Blob:null,c_={isBrowser:!0,classes:{URLSearchParams:l_,FormData:u_,Blob:f_},protocols:["http","https","file","blob","url","data"]},bS=typeof window<"u"&&typeof document<"u",h_=(y=>bS&&["ReactNative","NativeScript","NS"].indexOf(y)<0)(typeof navigator<"u"&&navigator.product),v_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",d_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bS,hasStandardBrowserEnv:h_,hasStandardBrowserWebWorkerEnv:v_},Symbol.toStringTag,{value:"Module"})),Xf={...d_,...c_};function p_(y,k){return Hm(y,new Xf.classes.URLSearchParams,Object.assign({visitor:function(j,se,me,Pe){return Xf.isNode&&qn.isBuffer(j)?(this.append(se,j.toString("base64")),!1):Pe.defaultVisitor.apply(this,arguments)}},k))}function g_(y){return qn.matchAll(/\w+|\[(\w*)]/g,y).map(k=>k[0]==="[]"?"":k[1]||k[0])}function y_(y){const k={},j=Object.keys(y);let se;const me=j.length;let Pe;for(se=0;se<me;se++)Pe=j[se],k[Pe]=y[Pe];return k}function wS(y){function k(j,se,me,Pe){let H=j[Pe++];if(H==="__proto__")return!0;const G=Number.isFinite(+H),e=Pe>=j.length;return H=!H&&qn.isArray(me)?me.length:H,e?(qn.hasOwnProp(me,H)?me[H]=[me[H],se]:me[H]=se,!G):((!me[H]||!qn.isObject(me[H]))&&(me[H]=[]),k(j,se,me[H],Pe)&&qn.isArray(me[H])&&(me[H]=y_(me[H])),!G)}if(qn.isFormData(y)&&qn.isFunction(y.entries)){const j={};return qn.forEachEntry(y,(se,me)=>{k(g_(se),me,j,0)}),j}return null}function m_(y,k,j){if(qn.isString(y))try{return(k||JSON.parse)(y),qn.trim(y)}catch(se){if(se.name!=="SyntaxError")throw se}return(j||JSON.stringify)(y)}const Q3={transitional:xS,adapter:["xhr","http"],transformRequest:[function(k,j){const se=j.getContentType()||"",me=se.indexOf("application/json")>-1,Pe=qn.isObject(k);if(Pe&&qn.isHTMLForm(k)&&(k=new FormData(k)),qn.isFormData(k))return me?JSON.stringify(wS(k)):k;if(qn.isArrayBuffer(k)||qn.isBuffer(k)||qn.isStream(k)||qn.isFile(k)||qn.isBlob(k))return k;if(qn.isArrayBufferView(k))return k.buffer;if(qn.isURLSearchParams(k))return j.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),k.toString();let G;if(Pe){if(se.indexOf("application/x-www-form-urlencoded")>-1)return p_(k,this.formSerializer).toString();if((G=qn.isFileList(k))||se.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Hm(G?{"files[]":k}:k,e&&new e,this.formSerializer)}}return Pe||me?(j.setContentType("application/json",!1),m_(k)):k}],transformResponse:[function(k){const j=this.transitional||Q3.transitional,se=j&&j.forcedJSONParsing,me=this.responseType==="json";if(k&&qn.isString(k)&&(se&&!this.responseType||me)){const H=!(j&&j.silentJSONParsing)&&me;try{return JSON.parse(k)}catch(G){if(H)throw G.name==="SyntaxError"?Mi.from(G,Mi.ERR_BAD_RESPONSE,this,null,this.response):G}}return k}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xf.classes.FormData,Blob:Xf.classes.Blob},validateStatus:function(k){return k>=200&&k<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qn.forEach(["delete","get","head","post","put","patch"],y=>{Q3.headers[y]={}});const q3=Q3,x_=qn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b_=y=>{const k={};let j,se,me;return y&&y.split(`
`).forEach(function(H){me=H.indexOf(":"),j=H.substring(0,me).trim().toLowerCase(),se=H.substring(me+1).trim(),!(!j||k[j]&&x_[j])&&(j==="set-cookie"?k[j]?k[j].push(se):k[j]=[se]:k[j]=k[j]?k[j]+", "+se:se)}),k},lT=Symbol("internals");function Up(y){return y&&String(y).trim().toLowerCase()}function ay(y){return y===!1||y==null?y:qn.isArray(y)?y.map(ay):String(y)}function w_(y){const k=Object.create(null),j=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let se;for(;se=j.exec(y);)k[se[1]]=se[2];return k}const T_=y=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(y.trim());function ax(y,k,j,se,me){if(qn.isFunction(se))return se.call(this,k,j);if(me&&(k=j),!!qn.isString(k)){if(qn.isString(se))return k.indexOf(se)!==-1;if(qn.isRegExp(se))return se.test(k)}}function A_(y){return y.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(k,j,se)=>j.toUpperCase()+se)}function S_(y,k){const j=qn.toCamelCase(" "+k);["get","set","has"].forEach(se=>{Object.defineProperty(y,se+j,{value:function(me,Pe,H){return this[se].call(this,k,me,Pe,H)},configurable:!0})})}class Gm{constructor(k){k&&this.set(k)}set(k,j,se){const me=this;function Pe(G,e,g){const R=Up(e);if(!R)throw new Error("header name must be a non-empty string");const a=qn.findKey(me,R);(!a||me[a]===void 0||g===!0||g===void 0&&me[a]!==!1)&&(me[a||e]=ay(G))}const H=(G,e)=>qn.forEach(G,(g,R)=>Pe(g,R,e));return qn.isPlainObject(k)||k instanceof this.constructor?H(k,j):qn.isString(k)&&(k=k.trim())&&!T_(k)?H(b_(k),j):k!=null&&Pe(j,k,se),this}get(k,j){if(k=Up(k),k){const se=qn.findKey(this,k);if(se){const me=this[se];if(!j)return me;if(j===!0)return w_(me);if(qn.isFunction(j))return j.call(this,me,se);if(qn.isRegExp(j))return j.exec(me);throw new TypeError("parser must be boolean|regexp|function")}}}has(k,j){if(k=Up(k),k){const se=qn.findKey(this,k);return!!(se&&this[se]!==void 0&&(!j||ax(this,this[se],se,j)))}return!1}delete(k,j){const se=this;let me=!1;function Pe(H){if(H=Up(H),H){const G=qn.findKey(se,H);G&&(!j||ax(se,se[G],G,j))&&(delete se[G],me=!0)}}return qn.isArray(k)?k.forEach(Pe):Pe(k),me}clear(k){const j=Object.keys(this);let se=j.length,me=!1;for(;se--;){const Pe=j[se];(!k||ax(this,this[Pe],Pe,k,!0))&&(delete this[Pe],me=!0)}return me}normalize(k){const j=this,se={};return qn.forEach(this,(me,Pe)=>{const H=qn.findKey(se,Pe);if(H){j[H]=ay(me),delete j[Pe];return}const G=k?A_(Pe):String(Pe).trim();G!==Pe&&delete j[Pe],j[G]=ay(me),se[G]=!0}),this}concat(...k){return this.constructor.concat(this,...k)}toJSON(k){const j=Object.create(null);return qn.forEach(this,(se,me)=>{se!=null&&se!==!1&&(j[me]=k&&qn.isArray(se)?se.join(", "):se)}),j}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([k,j])=>k+": "+j).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(k){return k instanceof this?k:new this(k)}static concat(k,...j){const se=new this(k);return j.forEach(me=>se.set(me)),se}static accessor(k){const se=(this[lT]=this[lT]={accessors:{}}).accessors,me=this.prototype;function Pe(H){const G=Up(H);se[G]||(S_(me,H),se[G]=!0)}return qn.isArray(k)?k.forEach(Pe):Pe(k),this}}Gm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qn.reduceDescriptors(Gm.prototype,({value:y},k)=>{let j=k[0].toUpperCase()+k.slice(1);return{get:()=>y,set(se){this[j]=se}}});qn.freezeMethods(Gm);const Dc=Gm;function ix(y,k){const j=this||q3,se=k||j,me=Dc.from(se.headers);let Pe=se.data;return qn.forEach(y,function(G){Pe=G.call(j,Pe,me.normalize(),k?k.status:void 0)}),me.normalize(),Pe}function TS(y){return!!(y&&y.__CANCEL__)}function G0(y,k,j){Mi.call(this,y??"canceled",Mi.ERR_CANCELED,k,j),this.name="CanceledError"}qn.inherits(G0,Mi,{__CANCEL__:!0});function M_(y,k,j){const se=j.config.validateStatus;!j.status||!se||se(j.status)?y(j):k(new Mi("Request failed with status code "+j.status,[Mi.ERR_BAD_REQUEST,Mi.ERR_BAD_RESPONSE][Math.floor(j.status/100)-4],j.config,j.request,j))}const E_=Xf.hasStandardBrowserEnv?{write(y,k,j,se,me,Pe){const H=[y+"="+encodeURIComponent(k)];qn.isNumber(j)&&H.push("expires="+new Date(j).toGMTString()),qn.isString(se)&&H.push("path="+se),qn.isString(me)&&H.push("domain="+me),Pe===!0&&H.push("secure"),document.cookie=H.join("; ")},read(y){const k=document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)"));return k?decodeURIComponent(k[3]):null},remove(y){this.write(y,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function C_(y){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(y)}function L_(y,k){return k?y.replace(/\/?\/$/,"")+"/"+k.replace(/^\/+/,""):y}function AS(y,k){return y&&!C_(k)?L_(y,k):k}const P_=Xf.hasStandardBrowserEnv?function(){const k=/(msie|trident)/i.test(navigator.userAgent),j=document.createElement("a");let se;function me(Pe){let H=Pe;return k&&(j.setAttribute("href",H),H=j.href),j.setAttribute("href",H),{href:j.href,protocol:j.protocol?j.protocol.replace(/:$/,""):"",host:j.host,search:j.search?j.search.replace(/^\?/,""):"",hash:j.hash?j.hash.replace(/^#/,""):"",hostname:j.hostname,port:j.port,pathname:j.pathname.charAt(0)==="/"?j.pathname:"/"+j.pathname}}return se=me(window.location.href),function(H){const G=qn.isString(H)?me(H):H;return G.protocol===se.protocol&&G.host===se.host}}():function(){return function(){return!0}}();function R_(y){const k=/^([-+\w]{1,25})(:?\/\/|:)/.exec(y);return k&&k[1]||""}function D_(y,k){y=y||10;const j=new Array(y),se=new Array(y);let me=0,Pe=0,H;return k=k!==void 0?k:1e3,function(e){const g=Date.now(),R=se[Pe];H||(H=g),j[me]=e,se[me]=g;let a=Pe,C=0;for(;a!==me;)C+=j[a++],a=a%y;if(me=(me+1)%y,me===Pe&&(Pe=(Pe+1)%y),g-H<k)return;const S=R&&g-R;return S?Math.round(C*1e3/S):void 0}}function uT(y,k){let j=0;const se=D_(50,250);return me=>{const Pe=me.loaded,H=me.lengthComputable?me.total:void 0,G=Pe-j,e=se(G),g=Pe<=H;j=Pe;const R={loaded:Pe,total:H,progress:H?Pe/H:void 0,bytes:G,rate:e||void 0,estimated:e&&H&&g?(H-Pe)/e:void 0,event:me};R[k?"download":"upload"]=!0,y(R)}}const I_=typeof XMLHttpRequest<"u",k_=I_&&function(y){return new Promise(function(j,se){let me=y.data;const Pe=Dc.from(y.headers).normalize();let{responseType:H,withXSRFToken:G}=y,e;function g(){y.cancelToken&&y.cancelToken.unsubscribe(e),y.signal&&y.signal.removeEventListener("abort",e)}let R;if(qn.isFormData(me)){if(Xf.hasStandardBrowserEnv||Xf.hasStandardBrowserWebWorkerEnv)Pe.setContentType(!1);else if((R=Pe.getContentType())!==!1){const[d,...r]=R?R.split(";").map(t=>t.trim()).filter(Boolean):[];Pe.setContentType([d||"multipart/form-data",...r].join("; "))}}let a=new XMLHttpRequest;if(y.auth){const d=y.auth.username||"",r=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";Pe.set("Authorization","Basic "+btoa(d+":"+r))}const C=AS(y.baseURL,y.url);a.open(y.method.toUpperCase(),mS(C,y.params,y.paramsSerializer),!0),a.timeout=y.timeout;function S(){if(!a)return;const d=Dc.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),t={data:!H||H==="text"||H==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:d,config:y,request:a};M_(function(n){j(n),g()},function(n){se(n),g()},t),a=null}if("onloadend"in a?a.onloadend=S:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(S)},a.onabort=function(){a&&(se(new Mi("Request aborted",Mi.ECONNABORTED,y,a)),a=null)},a.onerror=function(){se(new Mi("Network Error",Mi.ERR_NETWORK,y,a)),a=null},a.ontimeout=function(){let r=y.timeout?"timeout of "+y.timeout+"ms exceeded":"timeout exceeded";const t=y.transitional||xS;y.timeoutErrorMessage&&(r=y.timeoutErrorMessage),se(new Mi(r,t.clarifyTimeoutError?Mi.ETIMEDOUT:Mi.ECONNABORTED,y,a)),a=null},Xf.hasStandardBrowserEnv&&(G&&qn.isFunction(G)&&(G=G(y)),G||G!==!1&&P_(C))){const d=y.xsrfHeaderName&&y.xsrfCookieName&&E_.read(y.xsrfCookieName);d&&Pe.set(y.xsrfHeaderName,d)}me===void 0&&Pe.setContentType(null),"setRequestHeader"in a&&qn.forEach(Pe.toJSON(),function(r,t){a.setRequestHeader(t,r)}),qn.isUndefined(y.withCredentials)||(a.withCredentials=!!y.withCredentials),H&&H!=="json"&&(a.responseType=y.responseType),typeof y.onDownloadProgress=="function"&&a.addEventListener("progress",uT(y.onDownloadProgress,!0)),typeof y.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",uT(y.onUploadProgress)),(y.cancelToken||y.signal)&&(e=d=>{a&&(se(!d||d.type?new G0(null,y,a):d),a.abort(),a=null)},y.cancelToken&&y.cancelToken.subscribe(e),y.signal&&(y.signal.aborted?e():y.signal.addEventListener("abort",e)));const v=R_(C);if(v&&Xf.protocols.indexOf(v)===-1){se(new Mi("Unsupported protocol "+v+":",Mi.ERR_BAD_REQUEST,y));return}a.send(me||null)})},yb={http:a_,xhr:k_};qn.forEach(yb,(y,k)=>{if(y){try{Object.defineProperty(y,"name",{value:k})}catch{}Object.defineProperty(y,"adapterName",{value:k})}});const fT=y=>`- ${y}`,__=y=>qn.isFunction(y)||y===null||y===!1,SS={getAdapter:y=>{y=qn.isArray(y)?y:[y];const{length:k}=y;let j,se;const me={};for(let Pe=0;Pe<k;Pe++){j=y[Pe];let H;if(se=j,!__(j)&&(se=yb[(H=String(j)).toLowerCase()],se===void 0))throw new Mi(`Unknown adapter '${H}'`);if(se)break;me[H||"#"+Pe]=se}if(!se){const Pe=Object.entries(me).map(([G,e])=>`adapter ${G} `+(e===!1?"is not supported by the environment":"is not available in the build"));let H=k?Pe.length>1?`since :
`+Pe.map(fT).join(`
`):" "+fT(Pe[0]):"as no adapter specified";throw new Mi("There is no suitable adapter to dispatch the request "+H,"ERR_NOT_SUPPORT")}return se},adapters:yb};function ox(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new G0(null,y)}function cT(y){return ox(y),y.headers=Dc.from(y.headers),y.data=ix.call(y,y.transformRequest),["post","put","patch"].indexOf(y.method)!==-1&&y.headers.setContentType("application/x-www-form-urlencoded",!1),SS.getAdapter(y.adapter||q3.adapter)(y).then(function(se){return ox(y),se.data=ix.call(y,y.transformResponse,se),se.headers=Dc.from(se.headers),se},function(se){return TS(se)||(ox(y),se&&se.response&&(se.response.data=ix.call(y,y.transformResponse,se.response),se.response.headers=Dc.from(se.response.headers))),Promise.reject(se)})}const hT=y=>y instanceof Dc?{...y}:y;function Qd(y,k){k=k||{};const j={};function se(g,R,a){return qn.isPlainObject(g)&&qn.isPlainObject(R)?qn.merge.call({caseless:a},g,R):qn.isPlainObject(R)?qn.merge({},R):qn.isArray(R)?R.slice():R}function me(g,R,a){if(qn.isUndefined(R)){if(!qn.isUndefined(g))return se(void 0,g,a)}else return se(g,R,a)}function Pe(g,R){if(!qn.isUndefined(R))return se(void 0,R)}function H(g,R){if(qn.isUndefined(R)){if(!qn.isUndefined(g))return se(void 0,g)}else return se(void 0,R)}function G(g,R,a){if(a in k)return se(g,R);if(a in y)return se(void 0,g)}const e={url:Pe,method:Pe,data:Pe,baseURL:H,transformRequest:H,transformResponse:H,paramsSerializer:H,timeout:H,timeoutMessage:H,withCredentials:H,withXSRFToken:H,adapter:H,responseType:H,xsrfCookieName:H,xsrfHeaderName:H,onUploadProgress:H,onDownloadProgress:H,decompress:H,maxContentLength:H,maxBodyLength:H,beforeRedirect:H,transport:H,httpAgent:H,httpsAgent:H,cancelToken:H,socketPath:H,responseEncoding:H,validateStatus:G,headers:(g,R)=>me(hT(g),hT(R),!0)};return qn.forEach(Object.keys(Object.assign({},y,k)),function(R){const a=e[R]||me,C=a(y[R],k[R],R);qn.isUndefined(C)&&a!==G||(j[R]=C)}),j}const MS="1.6.8",ew={};["object","boolean","number","function","string","symbol"].forEach((y,k)=>{ew[y]=function(se){return typeof se===y||"a"+(k<1?"n ":" ")+y}});const vT={};ew.transitional=function(k,j,se){function me(Pe,H){return"[Axios v"+MS+"] Transitional option '"+Pe+"'"+H+(se?". "+se:"")}return(Pe,H,G)=>{if(k===!1)throw new Mi(me(H," has been removed"+(j?" in "+j:"")),Mi.ERR_DEPRECATED);return j&&!vT[H]&&(vT[H]=!0,console.warn(me(H," has been deprecated since v"+j+" and will be removed in the near future"))),k?k(Pe,H,G):!0}};function O_(y,k,j){if(typeof y!="object")throw new Mi("options must be an object",Mi.ERR_BAD_OPTION_VALUE);const se=Object.keys(y);let me=se.length;for(;me-- >0;){const Pe=se[me],H=k[Pe];if(H){const G=y[Pe],e=G===void 0||H(G,Pe,y);if(e!==!0)throw new Mi("option "+Pe+" must be "+e,Mi.ERR_BAD_OPTION_VALUE);continue}if(j!==!0)throw new Mi("Unknown option "+Pe,Mi.ERR_BAD_OPTION)}}const mb={assertOptions:O_,validators:ew},Eh=mb.validators;class Uy{constructor(k){this.defaults=k,this.interceptors={request:new sT,response:new sT}}async request(k,j){try{return await this._request(k,j)}catch(se){if(se instanceof Error){let me;Error.captureStackTrace?Error.captureStackTrace(me={}):me=new Error;const Pe=me.stack?me.stack.replace(/^.+\n/,""):"";se.stack?Pe&&!String(se.stack).endsWith(Pe.replace(/^.+\n.+\n/,""))&&(se.stack+=`
`+Pe):se.stack=Pe}throw se}}_request(k,j){typeof k=="string"?(j=j||{},j.url=k):j=k||{},j=Qd(this.defaults,j);const{transitional:se,paramsSerializer:me,headers:Pe}=j;se!==void 0&&mb.assertOptions(se,{silentJSONParsing:Eh.transitional(Eh.boolean),forcedJSONParsing:Eh.transitional(Eh.boolean),clarifyTimeoutError:Eh.transitional(Eh.boolean)},!1),me!=null&&(qn.isFunction(me)?j.paramsSerializer={serialize:me}:mb.assertOptions(me,{encode:Eh.function,serialize:Eh.function},!0)),j.method=(j.method||this.defaults.method||"get").toLowerCase();let H=Pe&&qn.merge(Pe.common,Pe[j.method]);Pe&&qn.forEach(["delete","get","head","post","put","patch","common"],v=>{delete Pe[v]}),j.headers=Dc.concat(H,Pe);const G=[];let e=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(j)===!1||(e=e&&d.synchronous,G.unshift(d.fulfilled,d.rejected))});const g=[];this.interceptors.response.forEach(function(d){g.push(d.fulfilled,d.rejected)});let R,a=0,C;if(!e){const v=[cT.bind(this),void 0];for(v.unshift.apply(v,G),v.push.apply(v,g),C=v.length,R=Promise.resolve(j);a<C;)R=R.then(v[a++],v[a++]);return R}C=G.length;let S=j;for(a=0;a<C;){const v=G[a++],d=G[a++];try{S=v(S)}catch(r){d.call(this,r);break}}try{R=cT.call(this,S)}catch(v){return Promise.reject(v)}for(a=0,C=g.length;a<C;)R=R.then(g[a++],g[a++]);return R}getUri(k){k=Qd(this.defaults,k);const j=AS(k.baseURL,k.url);return mS(j,k.params,k.paramsSerializer)}}qn.forEach(["delete","get","head","options"],function(k){Uy.prototype[k]=function(j,se){return this.request(Qd(se||{},{method:k,url:j,data:(se||{}).data}))}});qn.forEach(["post","put","patch"],function(k){function j(se){return function(Pe,H,G){return this.request(Qd(G||{},{method:k,headers:se?{"Content-Type":"multipart/form-data"}:{},url:Pe,data:H}))}}Uy.prototype[k]=j(),Uy.prototype[k+"Form"]=j(!0)});const iy=Uy;class tw{constructor(k){if(typeof k!="function")throw new TypeError("executor must be a function.");let j;this.promise=new Promise(function(Pe){j=Pe});const se=this;this.promise.then(me=>{if(!se._listeners)return;let Pe=se._listeners.length;for(;Pe-- >0;)se._listeners[Pe](me);se._listeners=null}),this.promise.then=me=>{let Pe;const H=new Promise(G=>{se.subscribe(G),Pe=G}).then(me);return H.cancel=function(){se.unsubscribe(Pe)},H},k(function(Pe,H,G){se.reason||(se.reason=new G0(Pe,H,G),j(se.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(k){if(this.reason){k(this.reason);return}this._listeners?this._listeners.push(k):this._listeners=[k]}unsubscribe(k){if(!this._listeners)return;const j=this._listeners.indexOf(k);j!==-1&&this._listeners.splice(j,1)}static source(){let k;return{token:new tw(function(me){k=me}),cancel:k}}}const z_=tw;function F_(y){return function(j){return y.apply(null,j)}}function N_(y){return qn.isObject(y)&&y.isAxiosError===!0}const xb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xb).forEach(([y,k])=>{xb[k]=y});const B_=xb;function ES(y){const k=new iy(y),j=oS(iy.prototype.request,k);return qn.extend(j,iy.prototype,k,{allOwnKeys:!0}),qn.extend(j,k,null,{allOwnKeys:!0}),j.create=function(me){return ES(Qd(y,me))},j}const Xi=ES(q3);Xi.Axios=iy;Xi.CanceledError=G0;Xi.CancelToken=z_;Xi.isCancel=TS;Xi.VERSION=MS;Xi.toFormData=Hm;Xi.AxiosError=Mi;Xi.Cancel=Xi.CanceledError;Xi.all=function(k){return Promise.all(k)};Xi.spread=F_;Xi.isAxiosError=N_;Xi.mergeConfig=Qd;Xi.AxiosHeaders=Dc;Xi.formToJSON=y=>wS(qn.isHTMLForm(y)?new FormData(y):y);Xi.getAdapter=SS.getAdapter;Xi.HttpStatusCode=B_;Xi.default=Xi;var CS={},LS={};(function(y){function k(u){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},k(u)}Object.defineProperty(y,"__esModule",{value:!0}),y.default=f;var j=H(Vn),se=me(EP);function me(u){return u&&u.__esModule?u:{default:u}}function Pe(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,m=new WeakMap;return(Pe=function(A){return A?m:l})(u)}function H(u,l){if(!l&&u&&u.__esModule)return u;if(u===null||k(u)!=="object"&&typeof u!="function")return{default:u};var m=Pe(l);if(m&&m.has(u))return m.get(u);var c={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in u)if(h!=="default"&&Object.prototype.hasOwnProperty.call(u,h)){var o=A?Object.getOwnPropertyDescriptor(u,h):null;o&&(o.get||o.set)?Object.defineProperty(c,h,o):c[h]=u[h]}return c.default=u,m&&m.set(u,c),c}function G(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function e(u,l){for(var m=0;m<l.length;m++){var c=l[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function g(u,l,m){return l&&e(u.prototype,l),m&&e(u,m),Object.defineProperty(u,"prototype",{writable:!1}),u}function R(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&a(u,l)}function a(u,l){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,A){return c.__proto__=A,c},a(u,l)}function C(u){var l=d();return function(){var c=r(u),A;if(l){var h=r(this).constructor;A=Reflect.construct(c,arguments,h)}else A=c.apply(this,arguments);return S(this,A)}}function S(u,l){if(l&&(k(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],i=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function f(u){var l=function(m){R(A,m);var c=C(A);function A(h){var o;return G(this,A),o=c.call(this,h),o.p=Promise.resolve(),o.resizeHandler=null,o.handlers={},o.syncWindowResize=o.syncWindowResize.bind(v(o)),o.syncEventHandlers=o.syncEventHandlers.bind(v(o)),o.attachUpdateEvents=o.attachUpdateEvents.bind(v(o)),o.getRef=o.getRef.bind(v(o)),o.handleUpdate=o.handleUpdate.bind(v(o)),o.figureCallback=o.figureCallback.bind(v(o)),o.updatePlotly=o.updatePlotly.bind(v(o)),o}return g(A,[{key:"updatePlotly",value:function(o,p,b){var T=this;this.p=this.p.then(function(){if(!T.unmounting){if(!T.el)throw new Error("Missing element reference");return u.react(T.el,{data:T.props.data,layout:T.props.layout,config:T.props.config,frames:T.props.frames})}}).then(function(){T.unmounting||(T.syncWindowResize(o),T.syncEventHandlers(),T.figureCallback(p),b&&T.attachUpdateEvents())}).catch(function(P){T.props.onError&&T.props.onError(P)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(o){this.unmounting=!1;var p=o.frames&&o.frames.length?o.frames.length:0,b=this.props.frames&&this.props.frames.length?this.props.frames.length:0,T=!(o.layout===this.props.layout&&o.data===this.props.data&&o.config===this.props.config&&b===p),P=o.revision!==void 0,x=o.revision!==this.props.revision;!T&&(!P||P&&!x)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||i.forEach(function(p){o.el.on(p,o.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||i.forEach(function(p){o.el.removeListener(p,o.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(o){if(typeof o=="function"){var p=this.el,b=p.data,T=p.layout,P=this.el._transitionData?this.el._transitionData._frames:null,x={data:b,layout:T,frames:P};o(x,this.el)}}},{key:"syncWindowResize",value:function(o){var p=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(p.el)},window.addEventListener("resize",this.resizeHandler),o&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(o){this.el=o,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var o=this;t.forEach(function(p){var b=o.props["on"+p],T=o.handlers[p],P=!!T;b&&!P?o.addEventHandler(p,b):!b&&P?o.removeEventHandler(p):b&&P&&b!==T&&(o.removeEventHandler(p),o.addEventHandler(p,b))})}},{key:"addEventHandler",value:function(o,p){this.handlers[o]=p,this.el.on(this.getPlotlyEventName(o),this.handlers[o])}},{key:"removeEventHandler",value:function(o){this.el.removeListener(this.getPlotlyEventName(o),this.handlers[o]),delete this.handlers[o]}},{key:"getPlotlyEventName",value:function(o){return"plotly_"+o.toLowerCase()}},{key:"render",value:function(){return j.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),A}(j.Component);return l.propTypes={data:se.default.arrayOf(se.default.object),config:se.default.object,layout:se.default.object,frames:se.default.arrayOf(se.default.object),revision:se.default.number,onInitialized:se.default.func,onPurge:se.default.func,onError:se.default.func,onUpdate:se.default.func,debug:se.default.bool,style:se.default.object,className:se.default.string,useResizeHandler:se.default.bool,divId:se.default.string},t.forEach(function(m){l.propTypes["on"+m]=se.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(LS);var PS={exports:{}};(function(y,k){(function(se,me){y.exports=me()})(self,function(){return function(){var j={79288:function(H,G,e){var g=e(3400),R={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in R){var C=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(C,R[a])}},86712:function(H,G,e){H.exports=e(84224)},37240:function(H,G,e){H.exports=e(51132)},29744:function(H,G,e){H.exports=e(94456)},29352:function(H,G,e){H.exports=e(67244)},96144:function(H,G,e){H.exports=e(97776)},53219:function(H,G,e){H.exports=e(61712)},4624:function(H,G,e){H.exports=e(95856)},54543:function(H,G,e){H.exports=e(54272)},45e3:function(H,G,e){H.exports=e(85404)},62300:function(H,G,e){H.exports=e(26048)},6920:function(H,G,e){H.exports=e(66240)},10264:function(H,G,e){H.exports=e(40448)},32016:function(H,G,e){H.exports=e(64884)},27528:function(H,G,e){H.exports=e(15088)},75556:function(H,G,e){H.exports=e(76744)},39204:function(H,G,e){H.exports=e(94704)},73996:function(H,G,e){H.exports=e(62396)},16489:function(H,G,e){H.exports=e(32028)},5e3:function(H,G,e){H.exports=e(81932)},77280:function(H,G,e){H.exports=e(45536)},33992:function(H,G,e){H.exports=e(42600)},17600:function(H,G,e){H.exports=e(21536)},49116:function(H,G,e){H.exports=e(65664)},46808:function(H,G,e){H.exports=e(29044)},36168:function(H,G,e){H.exports=e(48928)},13792:function(H,G,e){var g=e(32016);g.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),H.exports=g},3920:function(H,G,e){H.exports=e(43480)},25120:function(H,G,e){H.exports=e(6296)},4340:function(H,G,e){H.exports=e(7404)},86152:function(H,G,e){H.exports=e(65456)},56816:function(H,G,e){H.exports=e(22020)},89296:function(H,G,e){H.exports=e(29928)},20260:function(H,G,e){H.exports=e(75792)},32140:function(H,G,e){H.exports=e(156)},84764:function(H,G,e){H.exports=e(45499)},48824:function(H,G,e){H.exports=e(3296)},69967:function(H,G,e){H.exports=e(4184)},8363:function(H,G,e){H.exports=e(36952)},86636:function(H,G,e){H.exports=e(38983)},70192:function(H,G,e){H.exports=e(11572)},81604:function(H,G,e){H.exports=e(76924)},63796:function(H,G,e){H.exports=e(62944)},89336:function(H,G,e){H.exports=e(95443)},67484:function(H,G,e){H.exports=e(34864)},97312:function(H,G,e){H.exports=e(76272)},42192:function(H,G,e){H.exports=e(97924)},29800:function(H,G,e){H.exports=e(15436)},63560:function(H,G,e){H.exports=e(5621)},89904:function(H,G,e){H.exports=e(91304)},50248:function(H,G,e){H.exports=e(41724)},65832:function(H,G,e){H.exports=e(31991)},79440:function(H,G,e){H.exports=e(22869)},13752:function(H,G,e){H.exports=e(67776)},83096:function(H,G,e){H.exports=e(95952)},72196:function(H){H.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(H,G,e){var g=e(72196),R=e(25376),a=e(33816),C=e(31780).templatedArray;e(36208),H.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:R({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(H,G,e){var g=e(3400),R=e(54460),a=e(23816).draw;H.exports=function(d){var r=d._fullLayout,t=g.filterVisible(r.annotations);if(t.length&&d._fullData.length)return g.syncOrAsync([a,C],d)};function C(v){var d=v._fullLayout;g.filterVisible(d.annotations).forEach(function(r){var t=R.getFromId(v,r.xref),i=R.getFromId(v,r.yref),n=R.getRefType(r.xref),f=R.getRefType(r.yref);r._extremes={},n==="range"&&S(r,t),f==="range"&&S(r,i)})}function S(v,d){var r=d._id,t=r.charAt(0),i=v[t],n=v["a"+t],f=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],m=v["_"+t+"padminus"],c={x:1,y:-1}[t]*v[t+"shift"],A=3*v.arrowsize*v.arrowwidth||0,h=A+c,o=A-c,p=3*v.startarrowsize*v.arrowwidth||0,b=p+c,T=p-c,P;if(u===f){var x=R.findExtremes(d,[d.r2c(i)],{ppadplus:h,ppadminus:o}),L=R.findExtremes(d,[d.r2c(n)],{ppadplus:Math.max(l,b),ppadminus:Math.max(m,T)});P={min:[x.min[0],L.min[0]],max:[x.max[0],L.max[0]]}}else b=n?b+n:b,T=n?T-n:T,P=R.findExtremes(d,[d.r2c(i)],{ppadplus:Math.max(l,h,b),ppadminus:Math.max(m,o,T)});v._extremes[r]=P}},42300:function(H,G,e){var g=e(3400),R=e(24040),a=e(31780).arrayEditor;H.exports={hasClickToShow:C,onClick:S};function C(r,t){var i=v(r,t);return i.on.length>0||i.explicitOff.length>0}function S(r,t){var i=v(r,t),n=i.on,f=i.off.concat(i.explicitOff),u={},l=r._fullLayout.annotations,m,c;if(n.length||f.length){for(m=0;m<n.length;m++)c=a(r.layout,"annotations",l[n[m]]),c.modifyItem("visible",!0),g.extendFlat(u,c.getUpdateObj());for(m=0;m<f.length;m++)c=a(r.layout,"annotations",l[f[m]]),c.modifyItem("visible",!1),g.extendFlat(u,c.getUpdateObj());return R.call("update",r,{},u)}}function v(r,t){var i=r._fullLayout.annotations,n=[],f=[],u=[],l=(t||[]).length,m,c,A,h,o,p,b,T;for(m=0;m<i.length;m++)if(A=i[m],h=A.clicktoshow,h){for(c=0;c<l;c++)if(o=t[c],p=o.xaxis,b=o.yaxis,p._id===A.xref&&b._id===A.yref&&p.d2r(o.x)===d(A._xclick,p)&&b.d2r(o.y)===d(A._yclick,b)){A.visible?h==="onout"?T=f:T=u:T=n,T.push(m);break}c===l&&A.visible&&h==="onout"&&f.push(m)}return{on:n,off:f,explicitOff:u}}function d(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(H,G,e){var g=e(3400),R=e(76308);H.exports=function(C,S,v,d){d("opacity");var r=d("bgcolor"),t=d("bordercolor"),i=R.opacity(t);d("borderpad");var n=d("borderwidth"),f=d("showarrow");d("text",f?" ":v._dfltTitle.annotation),d("textangle"),g.coerceFont(d,"font",v.font),d("width"),d("align");var u=d("height");if(u&&d("valign"),f){var l=d("arrowside"),m,c;l.indexOf("end")!==-1&&(m=d("arrowhead"),c=d("arrowsize")),l.indexOf("start")!==-1&&(d("startarrowhead",m),d("startarrowsize",c)),d("arrowcolor",i?S.bordercolor:R.defaultLine),d("arrowwidth",(i&&n||1)*2),d("standoff"),d("startstandoff")}var A=d("hovertext"),h=v.hoverlabel||{};if(A){var o=d("hoverlabel.bgcolor",h.bgcolor||(R.opacity(r)?R.rgb(r):R.defaultLine)),p=d("hoverlabel.bordercolor",h.bordercolor||R.contrast(o)),b=g.extendFlat({},h.font);b.color||(b.color=p),g.coerceFont(d,"hoverlabel.font",b)}d("captureevents",!!A)}},26828:function(H,G,e){var g=e(38248),R=e(36896);H.exports=function(C,S,v,d){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(!(r||t))return;var i=C._fullLayout.annotations,n=S._id.charAt(0),f,u;function l(c){var A=f[c],h=null;r?h=R(A,S.range):h=Math.pow(10,A),g(h)||(h=null),d(u+c,h)}for(var m=0;m<i.length;m++)f=i[m],u="annotations["+m+"].",f[n+"ref"]===S._id&&l(n),f["a"+n+"ref"]===S._id&&l("a"+n)}},45216:function(H,G,e){var g=e(3400),R=e(54460),a=e(51272),C=e(87192),S=e(13916);H.exports=function(r,t){a(r,t,{name:"annotations",handleItemDefaults:v})};function v(d,r,t){function i(M,s){return g.coerce(d,r,S,M,s)}var n=i("visible"),f=i("clicktoshow");if(n||f){C(d,r,t,i);for(var u=r.showarrow,l=["x","y"],m=[-10,-30],c={_fullLayout:t},A=0;A<2;A++){var h=l[A],o=R.coerceRef(d,r,c,h,"","paper");if(o!=="paper"){var p=R.getFromId(c,o);p._annIndices.push(r._index)}if(R.coercePosition(r,c,i,o,h,.5),u){var b="a"+h,T=R.coerceRef(d,r,c,b,"pixel",["pixel","paper"]);T!=="pixel"&&T!==o&&(T=r[b]="pixel");var P=T==="pixel"?m[A]:.4;R.coercePosition(r,c,i,T,b,P)}i(h+"anchor"),i(h+"shift")}if(g.noneOrAll(d,r,["x","y"]),u&&g.noneOrAll(d,r,["ax","ay"]),f){var x=i("xclick"),L=i("yclick");r._xclick=x===void 0?r.x:R.cleanPosition(x,c,r.xref),r._yclick=L===void 0?r.y:R.cleanPosition(L,c,r.yref)}}}},23816:function(H,G,e){var g=e(33428),R=e(24040),a=e(7316),C=e(3400),S=C.strTranslate,v=e(54460),d=e(76308),r=e(43616),t=e(93024),i=e(72736),n=e(93972),f=e(86476),u=e(31780).arrayEditor,l=e(33652);H.exports={draw:m,drawOne:c,drawRaw:h};function m(o){var p=o._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var b=0;b<p.annotations.length;b++)p.annotations[b].visible&&c(o,b);return a.previousPromises(o)}function c(o,p){var b=o._fullLayout,T=b.annotations[p]||{},P=v.getFromId(o,T.xref),x=v.getFromId(o,T.yref);P&&P.setScale(),x&&x.setScale(),h(o,T,p,!1,P,x)}function A(o,p,b,T,P){var x=P[b],L=P[b+"ref"],M=b.indexOf("y")!==-1,s=v.getRefType(L)==="domain",E=M?T.h:T.w;return o?s?x+(M?-p:p)/o._length:o.p2r(o.r2p(x)+p):x+(M?-p:p)/E}function h(o,p,b,T,P,x){var L=o._fullLayout,M=o._fullLayout._size,s=o._context.edits,E,w;T?(E="annotation-"+T,w=T+".annotations"):(E="annotation",w="annotations");var O=u(o.layout,w,p),_=O.modifyBase,U=O.modifyItem,z=O.getUpdateObj;L._infolayer.selectAll("."+E+'[data-index="'+b+'"]').remove();var F="clip"+L._uid+"_ann"+b;if(!p._input||p.visible===!1){g.selectAll("#"+F).remove();return}var B={x:{},y:{}},N=+p.textangle||0,V=L._infolayer.append("g").classed(E,!0).attr("data-index",String(b)).style("opacity",p.opacity),X=V.append("g").classed("annotation-text-g",!0),q=s[p.showarrow?"annotationTail":"annotationPosition"],te=p.captureevents||s.annotationText||q;function ne(xe){var Me={index:b,annotation:p._input,fullAnnotation:p,event:xe};return T&&(Me.subplotId=T),Me}var ce=X.append("g").style("pointer-events",te?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",ne(g.event))});p.hovertext&&ce.on("mouseover",function(){var xe=p.hoverlabel,Me=xe.font,Ae=this.getBoundingClientRect(),ke=o.getBoundingClientRect();t.loneHover({x0:Ae.left-ke.left,x1:Ae.right-ke.left,y:(Ae.top+Ae.bottom)/2-ke.top,text:p.hovertext,color:xe.bgcolor,borderColor:xe.bordercolor,fontFamily:Me.family,fontSize:Me.size,fontColor:Me.color,fontWeight:Me.weight,fontStyle:Me.style,fontVariant:Me.variant},{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:o})}).on("mouseout",function(){t.loneUnhover(L._hoverlayer.node())});var Q=p.borderwidth,Z=p.borderpad,re=Q+Z,Y=ce.append("rect").attr("class","bg").style("stroke-width",Q+"px").call(d.stroke,p.bordercolor).call(d.fill,p.bgcolor),oe=p.width||p.height,ue=L._topclips.selectAll("#"+F).data(oe?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),ue.exit().remove();var K=p.font,$=L._meta?C.templateString(p.text,L._meta):p.text,le=ce.append("text").classed("annotation-text",!0).text($);function ae(xe){return xe.call(r.font,K).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),i.convertToTspans(xe,o,he),xe}function he(){var xe=le.selectAll("a");if(xe.size()===1&&xe.text()===le.text()){var Me=ce.insert("a",":first-child").attr({"xlink:xlink:href":xe.attr("xlink:href"),"xlink:xlink:show":xe.attr("xlink:show")}).style({cursor:"pointer"});Me.node().appendChild(Y.node())}var Ae=ce.select(".annotation-text-math-group"),ke=!Ae.empty(),we=r.bBox((ke?Ae:le).node()),Ee=we.width,be=we.height,Le=p.width||Ee,Ue=p.height||be,Ve=Math.round(Le+2*re),Fe=Math.round(Ue+2*re);function He(yr,fr){return fr==="auto"&&(yr<.3333333333333333?fr="left":yr>.6666666666666666?fr="right":fr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[fr]}for(var st=!1,vt=["x","y"],lt=0;lt<vt.length;lt++){var et=vt[lt],ct=p[et+"ref"]||et,ht=p["a"+et+"ref"],mt={x:P,y:x}[et],xt=(N+(et==="x"?0:-90))*Math.PI/180,Mt=Ve*Math.cos(xt),tt=Fe*Math.sin(xt),Oe=Math.abs(Mt)+Math.abs(tt),Ye=p[et+"anchor"],Ze=p[et+"shift"]*(et==="x"?1:-1),We=B[et],_e,Ie,Xe,De,de,Te=v.getRefType(ct);if(mt&&Te!=="domain"){var Be=mt.r2fraction(p[et]);(Be<0||Be>1)&&(ht===ct?(Be=mt.r2fraction(p["a"+et]),(Be<0||Be>1)&&(st=!0)):st=!0),_e=mt._offset+mt.r2p(p[et]),De=.5}else{var Qe=Te==="domain";et==="x"?(Xe=p[et],_e=Qe?mt._offset+mt._length*Xe:_e=M.l+M.w*Xe):(Xe=1-p[et],_e=Qe?mt._offset+mt._length*Xe:_e=M.t+M.h*Xe),De=p.showarrow?.5:Xe}if(p.showarrow){We.head=_e;var at=p["a"+et];if(de=Mt*He(.5,p.xanchor)-tt*He(.5,p.yanchor),ht===ct){var it=v.getRefType(ht);it==="domain"?(et==="y"&&(at=1-at),We.tail=mt._offset+mt._length*at):it==="paper"?et==="y"?(at=1-at,We.tail=M.t+M.h*at):We.tail=M.l+M.w*at:We.tail=mt._offset+mt.r2p(at),Ie=de}else We.tail=_e+at,Ie=de+at;We.text=We.tail+de;var Wt=L[et==="x"?"width":"height"];if(ct==="paper"&&(We.head=C.constrain(We.head,1,Wt-1)),ht==="pixel"){var Yt=-Math.max(We.tail-3,We.text),Tt=Math.min(We.tail+3,We.text)-Wt;Yt>0?(We.tail+=Yt,We.text+=Yt):Tt>0&&(We.tail-=Tt,We.text-=Tt)}We.tail+=Ze,We.head+=Ze}else de=Oe*He(De,Ye),Ie=de,We.text=_e+de;We.text+=Ze,de+=Ze,Ie+=Ze,p["_"+et+"padplus"]=Oe/2+Ie,p["_"+et+"padminus"]=Oe/2-Ie,p["_"+et+"size"]=Oe,p["_"+et+"shift"]=de}if(st){ce.remove();return}var Lt=0,Xt=0;if(p.align!=="left"&&(Lt=(Le-Ee)*(p.align==="center"?.5:1)),p.valign!=="top"&&(Xt=(Ue-be)*(p.valign==="middle"?.5:1)),ke)Ae.select("svg").attr({x:re+Lt-1,y:re+Xt}).call(r.setClipUrl,oe?F:null,o);else{var Tr=re+Xt-we.top,gt=re+Lt-we.left;le.call(i.positionText,gt,Tr).call(r.setClipUrl,oe?F:null,o)}ue.select("rect").call(r.setRect,re,re,Le,Ue),Y.call(r.setRect,Q/2,Q/2,Ve-Q,Fe-Q),ce.call(r.setTranslate,Math.round(B.x.text-Ve/2),Math.round(B.y.text-Fe/2)),X.attr({transform:"rotate("+N+","+B.x.text+","+B.y.text+")"});var Kt=function(yr,fr){V.selectAll(".annotation-arrow-g").remove();var yt=B.x.head,ot=B.y.head,bt=B.x.tail+yr,Et=B.y.tail+fr,Dt=B.x.text+yr,Ht=B.y.text+fr,Bt=C.rotationXYMatrix(N,Dt,Ht),Nt=C.apply2DTransform(Bt),Jt=C.apply2DTransform2(Bt),hr=+Y.attr("width"),Zt=+Y.attr("height"),dr=Dt-.5*hr,je=dr+hr,Ge=Ht-.5*Zt,Ot=Ge+Zt,kt=[[dr,Ge,dr,Ot],[dr,Ot,je,Ot],[je,Ot,je,Ge],[je,Ge,dr,Ge]].map(Jt);if(!kt.reduce(function(Ir,cn){return Ir^!!C.segmentsIntersect(yt,ot,yt+1e6,ot+1e6,cn[0],cn[1],cn[2],cn[3])},!1)){kt.forEach(function(Ir){var cn=C.segmentsIntersect(bt,Et,yt,ot,Ir[0],Ir[1],Ir[2],Ir[3]);cn&&(bt=cn.x,Et=cn.y)});var $t=p.arrowwidth,ar=p.arrowcolor,or=p.arrowside,rr=V.append("g").style({opacity:d.opacity(ar)}).classed("annotation-arrow-g",!0),zt=rr.append("path").attr("d","M"+bt+","+Et+"L"+yt+","+ot).style("stroke-width",$t+"px").call(d.stroke,d.rgb(ar));if(l(zt,or,p),s.annotationPosition&&zt.node().parentNode&&!T){var vr=yt,gr=ot;if(p.standoff){var Ar=Math.sqrt(Math.pow(yt-bt,2)+Math.pow(ot-Et,2));vr+=p.standoff*(bt-yt)/Ar,gr+=p.standoff*(Et-ot)/Ar}var cr=rr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-vr)+","+(Et-gr),transform:S(vr,gr)}).style("stroke-width",$t+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)"),Hr,Rr;f.init({element:cr.node(),gd:o,prepFn:function(){var Ir=r.getTranslate(ce);Hr=Ir.x,Rr=Ir.y,P&&P.autorange&&_(P._name+".autorange",!0),x&&x.autorange&&_(x._name+".autorange",!0)},moveFn:function(Ir,cn){var Zr=Nt(Hr,Rr),An=Zr[0]+Ir,Sn=Zr[1]+cn;ce.call(r.setTranslate,An,Sn),U("x",A(P,Ir,"x",M,p)),U("y",A(x,cn,"y",M,p)),p.axref===p.xref&&U("ax",A(P,Ir,"ax",M,p)),p.ayref===p.yref&&U("ay",A(x,cn,"ay",M,p)),rr.attr("transform",S(Ir,cn)),X.attr({transform:"rotate("+N+","+An+","+Sn+")"})},doneFn:function(){R.call("_guiRelayout",o,z());var Ir=document.querySelector(".js-notes-box-panel");Ir&&Ir.redraw(Ir.selectedObj)}})}}};if(p.showarrow&&Kt(0,0),q){var Qt;f.init({element:ce.node(),gd:o,prepFn:function(){Qt=X.attr("transform")},moveFn:function(yr,fr){var yt="pointer";if(p.showarrow)p.axref===p.xref?U("ax",A(P,yr,"ax",M,p)):U("ax",p.ax+yr),p.ayref===p.yref?U("ay",A(x,fr,"ay",M.w,p)):U("ay",p.ay+fr),Kt(yr,fr);else{if(T)return;var ot,bt;if(P)ot=A(P,yr,"x",M,p);else{var Et=p._xsize/M.w,Dt=p.x+(p._xshift-p.xshift)/M.w-Et/2;ot=f.align(Dt+yr/M.w,Et,0,1,p.xanchor)}if(x)bt=A(x,fr,"y",M,p);else{var Ht=p._ysize/M.h,Bt=p.y-(p._yshift+p.yshift)/M.h-Ht/2;bt=f.align(Bt-fr/M.h,Ht,0,1,p.yanchor)}U("x",ot),U("y",bt),(!P||!x)&&(yt=f.getCursor(P?.5:ot,x?.5:bt,p.xanchor,p.yanchor))}X.attr({transform:S(yr,fr)+Qt}),n(ce,yt)},clickFn:function(yr,fr){p.captureevents&&o.emit("plotly_clickannotation",ne(fr))},doneFn:function(){n(ce),R.call("_guiRelayout",o,z());var yr=document.querySelector(".js-notes-box-panel");yr&&yr.redraw(yr.selectedObj)}})}}s.annotationText?le.call(i.makeEditable,{delegate:ce,gd:o}).call(ae).on("edit",function(xe){p.text=xe,this.call(ae),U("text",xe),P&&P.autorange&&_(P._name+".autorange",!0),x&&x.autorange&&_(x._name+".autorange",!0),R.call("_guiRelayout",o,z())}):le.call(ae)}},33652:function(H,G,e){var g=e(33428),R=e(76308),a=e(72196),C=e(3400),S=C.strScale,v=C.strRotate,d=C.strTranslate;H.exports=function(t,i,n){var f=t.node(),u=a[n.arrowhead||0],l=a[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),c=(n.arrowwidth||1)*(n.startarrowsize||1),A=i.indexOf("start")>=0,h=i.indexOf("end")>=0,o=u.backoff*m+n.standoff,p=l.backoff*c+n.startstandoff,b,T,P,x;if(f.nodeName==="line"){b={x:+t.attr("x1"),y:+t.attr("y1")},T={x:+t.attr("x2"),y:+t.attr("y2")};var L=b.x-T.x,M=b.y-T.y;if(P=Math.atan2(M,L),x=P+Math.PI,o&&p&&o+p>Math.sqrt(L*L+M*M)){X();return}if(o){if(o*o>L*L+M*M){X();return}var s=o*Math.cos(P),E=o*Math.sin(P);T.x+=s,T.y+=E,t.attr({x2:T.x,y2:T.y})}if(p){if(p*p>L*L+M*M){X();return}var w=p*Math.cos(P),O=p*Math.sin(P);b.x-=w,b.y-=O,t.attr({x1:b.x,y1:b.y})}}else if(f.nodeName==="path"){var _=f.getTotalLength(),U="";if(_<o+p){X();return}var z=f.getPointAtLength(0),F=f.getPointAtLength(.1);P=Math.atan2(z.y-F.y,z.x-F.x),b=f.getPointAtLength(Math.min(p,_)),U="0px,"+p+"px,";var B=f.getPointAtLength(_),N=f.getPointAtLength(_-.1);x=Math.atan2(B.y-N.y,B.x-N.x),T=f.getPointAtLength(Math.max(0,_-o));var V=U?p+o:o;U+=_-V+"px,"+_+"px",t.style("stroke-dasharray",U)}function X(){t.style("stroke-dasharray","0px,100px")}function q(te,ne,ce,Q){te.path&&(te.noRotate&&(ce=0),g.select(f.parentNode).append("path").attr({class:t.attr("class"),d:te.path,transform:d(ne.x,ne.y)+v(ce*180/Math.PI)+S(Q)}).style({fill:R.rgb(n.arrowcolor),"stroke-width":0}))}A&&q(l,b,P,c),h&&q(u,T,x,m)}},79180:function(H,G,e){var g=e(23816),R=e(42300);H.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:R.hasClickToShow,onClick:R.onClick,convertCoords:e(26828)}},45899:function(H,G,e){var g=e(13916),R=e(67824).overrideAll,a=e(31780).templatedArray;H.exports=R(a("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},42456:function(H,G,e){var g=e(3400),R=e(54460);H.exports=function(S){for(var v=S.fullSceneLayout,d=v.annotations,r=0;r<d.length;r++)a(d[r],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()};function a(C,S){var v=S.fullSceneLayout,d=v.domain,r=S.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},g.extendFlat(C._xa,t),R.setConvert(C._xa),C._xa._offset=r.l+d.x[0]*r.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*r.w*(d.x[1]-d.x[0])},C._ya={},g.extendFlat(C._ya,t),R.setConvert(C._ya),C._ya._offset=r.t+(1-d.y[1])*r.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*r.h*(d.y[1]-d.y[0])}}},52808:function(H,G,e){var g=e(3400),R=e(54460),a=e(51272),C=e(87192),S=e(45899);H.exports=function(r,t,i){a(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:i.fullLayout})};function v(d,r,t,i){function n(l,m){return g.coerce(d,r,S,l,m)}function f(l){var m=l+"axis",c={_fullLayout:{}};return c._fullLayout[m]=t[m],R.coercePosition(r,c,n,l,l,.5)}var u=n("visible");u&&(C(d,r,i.fullLayout,n),f("x"),f("y"),f("z"),g.noneOrAll(d,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(d,r,["ax","ay"])))}},71836:function(H,G,e){var g=e(23816).drawRaw,R=e(94424),a=["x","y","z"];H.exports=function(S){for(var v=S.fullSceneLayout,d=S.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var i=r[t],n=!1,f=0;f<3;f++){var u=a[f],l=i[u],m=v[u+"axis"],c=m.r2fraction(l);if(c<0||c>1){n=!0;break}}n?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+t+'"]').remove():(i._pdata=R(S.glplot.cameraParams,[v.xaxis.r2l(i.x)*d[0],v.yaxis.r2l(i.y)*d[1],v.zaxis.r2l(i.z)*d[2]]),g(S.graphDiv,i,t,S.id,i._xa,i._ya))}}},56864:function(H,G,e){var g=e(24040),R=e(3400);H.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:a,convert:e(42456),draw:e(71836)};function a(C,S){var v=g.subplotsRegistry.gl3d;if(v)for(var d=v.attrRegex,r=Object.keys(C),t=0;t<r.length;t++){var i=r[t];d.test(i)&&(C[i].annotations||[]).length&&(R.pushUnique(S._basePlotModules,v),R.pushUnique(S._subplots.gl3d,i))}}},54976:function(H,G,e){H.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(H,G,e){var g=e(54976),R=e(3400),a=e(39032),C=a.EPOCHJD,S=a.ONEDAY,v={valType:"enumerated",values:R.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},d=function(P,x,L,M){var s={};return s[L]=v,R.coerce(P,x,s,L,M)},r=function(P,x,L,M){for(var s=0;s<L.length;s++)d(P,x,L[s]+"calendar",M.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},i={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(P,x,L){for(var M=Math.floor((x+.05)/S)+C,s=c(L).fromJD(M),E=0,w,O,_,U,z;(E=P.indexOf("%",E))!==-1;)w=P.charAt(E+1),w==="0"||w==="-"||w==="_"?(_=3,O=P.charAt(E+2),w==="_"&&(w="-")):(O=w,w="0",_=2),U=u[O],U?(U===f?z=f:z=s.formatDate(U[w]),P=P.substr(0,E)+z+P.substr(E+_),E+=z.length):E+=_;return P}var m={};function c(P){var x=m[P];return x||(x=m[P]=g.instance(P),x)}function A(P){return R.extendFlat({},v,{description:P})}function h(P){return"Sets the calendar system to use with `"+P+"` date data."}var o={xcalendar:A(h("x"))},p=R.extendFlat({},o,{ycalendar:A(h("y"))}),b=R.extendFlat({},p,{zcalendar:A(h("z"))}),T=A(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));H.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:b,surface:b,mesh3d:b,scattergl:p,ohlc:o,candlestick:o},layout:{calendar:A(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:A(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:A(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:d,handleTraceDefaults:r,CANONICAL_SUNDAY:i,CANONICAL_TICK:t,DFLTRANGE:n,getCal:c,worldCalFmt:l}},22548:function(H,G){G.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],G.defaultLine="#444",G.lightLine="#eee",G.background="#fff",G.borderLine="#BEC8D9",G.lightFraction=90.9090909090909},76308:function(H,G,e){var g=e(49760),R=e(38248),a=e(38116).isTypedArray,C=H.exports={},S=e(22548);C.defaults=S.defaults;var v=C.defaultLine=S.defaultLine;C.lightLine=S.lightLine;var d=C.background=S.background;C.tinyRGB=function(t){var i=t.toRgb();return"rgb("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+")"},C.rgb=function(t){return C.tinyRGB(g(t))},C.opacity=function(t){return t?g(t).getAlpha():0},C.addOpacity=function(t,i){var n=g(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+i+")"},C.combine=function(t,i){var n=g(t).toRgb();if(n.a===1)return g(t).toRgbString();var f=g(i||d).toRgb(),u=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},l={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return g(l).toRgbString()},C.interpolate=function(t,i,n){var f=g(t).toRgb(),u=g(i).toRgb(),l={r:n*f.r+(1-n)*u.r,g:n*f.g+(1-n)*u.g,b:n*f.b+(1-n)*u.b};return g(l).toRgbString()},C.contrast=function(t,i,n){var f=g(t);f.getAlpha()!==1&&(f=g(C.combine(t,d)));var u=f.isDark()?i?f.lighten(i):d:n?f.darken(n):v;return u.toString()},C.stroke=function(t,i){var n=g(i);t.style({stroke:C.tinyRGB(n),"stroke-opacity":n.getAlpha()})},C.fill=function(t,i){var n=g(i);t.style({fill:C.tinyRGB(n),"fill-opacity":n.getAlpha()})},C.clean=function(t){if(!(!t||typeof t!="object")){var i=Object.keys(t),n,f,u,l;for(n=0;n<i.length;n++)if(u=i[n],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(f=0;f<l.length;f++)l[f]=r(l[f]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(f=0;f<l.length;f++)Array.isArray(l[f])&&(l[f][1]=r(l[f][1]));else if(Array.isArray(l)){var m=l[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(f=0;f<l.length;f++)C.clean(l[f])}else l&&typeof l=="object"&&!a(l)&&C.clean(l)}};function r(t){if(R(t)||typeof t!="string")return t;var i=t.trim();if(i.substr(0,3)!=="rgb")return t;var n=i.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var f=n[1].trim().split(/\s*[\s,]\s*/),u=i.charAt(3)==="a"&&f.length===4;if(!u&&f.length!==3)return t;for(var l=0;l<f.length;l++){if(!f[l].length||(f[l]=Number(f[l]),!(f[l]>=0)))return t;if(l===3)f[l]>1&&(f[l]=1);else if(f[l]>=1)return t}var m=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return u?"rgba("+m+", "+f[3]+")":"rgb("+m+")"}},42996:function(H,G,e){var g=e(94724),R=e(25376),a=e(92880).extendFlat,C=e(67824).overrideAll;H.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:a({},g.ticks,{dflt:""}),ticklabeloverflow:a({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:R({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:R({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:R({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(H){H.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(H,G,e){var g=e(3400),R=e(31780),a=e(26332),C=e(25404),S=e(95936),v=e(42568),d=e(42996);H.exports=function(t,i,n){var f=R.newContainer(i,"colorbar"),u=t.colorbar||{};function l(B,N){return g.coerce(u,f,d,B,N)}var m=n.margin||{t:0,b:0,l:0,r:0},c=n.width-m.l-m.r,A=n.height-m.t-m.b,h=l("orientation"),o=h==="v",p=l("thicknessmode");l("thickness",p==="fraction"?30/(o?c:A):30);var b=l("lenmode");l("len",b==="fraction"?1:o?A:c);var T=l("yref"),P=l("xref"),x=T==="paper",L=P==="paper",M,s,E,w="left";o?(E="middle",w=L?"left":"right",M=L?1.02:1,s=.5):(E=x?"bottom":"top",w="center",M=.5,s=x?1.02:1),g.coerce(u,f,{x:{valType:"number",min:L?-2:0,max:L?3:1,dflt:M}},"x"),g.coerce(u,f,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:s}},"y"),l("xanchor",w),l("xpad"),l("yanchor",E),l("ypad"),g.noneOrAll(u,f,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var O=g.coerce(u,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(u,f,l,"linear");var _=n.font,U={noAutotickangles:!0,outerTicks:!1,font:_};O.indexOf("inside")!==-1&&(U.bgColor="black"),v(u,f,l,"linear",U),S(u,f,l,"linear",U),C(u,f,l,"linear",U),l("title.text",n._dfltTitle.colorbar);var z=f.showticklabels?f.tickfont:_,F=g.extendFlat({},z,{weight:_.weight,style:_.style,variant:_.variant,color:_.color,size:g.bigFont(z.size)});g.coerceFont(l,"title.font",F),l("title.side",o?"top":"right")}},37848:function(H,G,e){var g=e(33428),R=e(49760),a=e(7316),C=e(24040),S=e(54460),v=e(86476),d=e(3400),r=d.strTranslate,t=e(92880).extendFlat,i=e(93972),n=e(43616),f=e(76308),u=e(81668),l=e(72736),m=e(94288).flipScale,c=e(28336),A=e(37668),h=e(94724),o=e(84284),p=o.LINE_SPACING,b=o.FROM_TL,T=o.FROM_BR,P=e(63964).cn;function x(O){var _=O._fullLayout,U=_._infolayer.selectAll("g."+P.colorbar).data(L(O),function(z){return z._id});U.enter().append("g").attr("class",function(z){return z._id}).classed(P.colorbar,!0),U.each(function(z){var F=g.select(this);d.ensureSingle(F,"rect",P.cbbg),d.ensureSingle(F,"g",P.cbfills),d.ensureSingle(F,"g",P.cblines),d.ensureSingle(F,"g",P.cbaxis,function(N){N.classed(P.crisp,!0)}),d.ensureSingle(F,"g",P.cbtitleunshift,function(N){N.append("g").classed(P.cbtitle,!0)}),d.ensureSingle(F,"rect",P.cboutline);var B=M(F,z,O);B&&B.then&&(O._promises||[]).push(B),O._context.edits.colorbarPosition&&s(F,z,O)}),U.exit().each(function(z){a.autoMargin(O,z._id)}).remove(),U.order()}function L(O){var _=O._fullLayout,U=O.calcdata,z=[],F,B,N,V;function X(K){return t(K,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function q(){typeof V.calc=="function"?V.calc(O,N,F):(F._fillgradient=B.reversescale?m(B.colorscale):B.colorscale,F._zrange=[B[V.min],B[V.max]])}for(var te=0;te<U.length;te++){var ne=U[te];if(N=ne[0].trace,!!N._module){var ce=N._module.colorbar;if(N.visible===!0&&ce)for(var Q=Array.isArray(ce),Z=Q?ce:[ce],re=0;re<Z.length;re++){V=Z[re];var Y=V.container;B=Y?N[Y]:N,B&&B.showscale&&(F=X(B.colorbar),F._id="cb"+N.uid+(Q&&Y?"-"+Y:""),F._traceIndex=N.index,F._propPrefix=(Y?Y+".":"")+"colorbar.",F._meta=N._meta,q(),z.push(F))}}}for(var oe in _._colorAxes)if(B=_[oe],B.showscale){var ue=_._colorAxes[oe];F=X(B.colorbar),F._id="cb"+oe,F._propPrefix=oe+".colorbar.",F._meta=_._meta,V={min:"cmin",max:"cmax"},ue[0]!=="heatmap"&&(N=ue[1],V.calc=N._module.colorbar.calc),q(),z.push(F)}return z}function M(O,_,U){var z=_.orientation==="v",F=_.len,B=_.lenmode,N=_.thickness,V=_.thicknessmode,X=_.outlinewidth,q=_.borderwidth,te=_.bgcolor,ne=_.xanchor,ce=_.yanchor,Q=_.xpad,Z=_.ypad,re=_.x,Y=z?_.y:1-_.y,oe=_.yref==="paper",ue=_.xref==="paper",K=U._fullLayout,$=K._size,le=_._fillcolor,ae=_._line,he=_.title,xe=he.side,Me=_._zrange||g.extent((typeof le=="function"?le:ae.color).domain()),Ae=typeof ae.color=="function"?ae.color:function(){return ae.color},ke=typeof le=="function"?le:function(){return le},we=_._levels,Ee=E(U,_,Me),be=Ee.fill,Le=Ee.line,Ue=Math.round(N*(V==="fraction"?z?$.w:$.h:1)),Ve=Ue/(z?$.w:$.h),Fe=Math.round(F*(B==="fraction"?z?$.h:$.w:1)),He=Fe/(z?$.h:$.w),st=ue?$.w:U._fullLayout.width,vt=oe?$.h:U._fullLayout.height,lt=Math.round(z?re*st+Q:Y*vt+Z),et={center:.5,right:1}[ne]||0,ct={top:1,middle:.5}[ce]||0,ht=z?re-et*Ve:Y-ct*Ve,mt=z?Y-ct*He:re-et*He,xt=Math.round(z?vt*(1-mt):st*mt);_._lenFrac=He,_._thickFrac=Ve,_._uFrac=ht,_._vFrac=mt;var Mt=_._axis=w(U,_,Me);Mt.position=Ve+(z?re+Q/$.w:Y+Z/$.h);var tt=["top","bottom"].indexOf(xe)!==-1;if(z&&tt&&(Mt.title.side=xe,Mt.titlex=re+Q/$.w,Mt.titley=mt+(he.side==="top"?He-Z/$.h:Z/$.h)),!z&&!tt&&(Mt.title.side=xe,Mt.titley=Y+Z/$.h,Mt.titlex=mt+Q/$.w),ae.color&&_.tickmode==="auto"){Mt.tickmode="linear",Mt.tick0=we.start;var Oe=we.size,Ye=d.constrain(Fe/50,4,15)+1,Ze=(Me[1]-Me[0])/((_.nticks||Ye)*Oe);if(Ze>1){var We=Math.pow(10,Math.floor(Math.log(Ze)/Math.LN10));Oe*=We*d.roundUp(Ze/We,[2,5,10]),(Math.abs(we.start)/we.size+1e-6)%1<2e-6&&(Mt.tick0=0)}Mt.dtick=Oe}Mt.domain=z?[mt+Z/$.h,mt+He-Z/$.h]:[mt+Q/$.w,mt+He-Q/$.w],Mt.setScale(),O.attr("transform",r(Math.round($.l),Math.round($.t)));var _e=O.select("."+P.cbtitleunshift).attr("transform",r(-Math.round($.l),-Math.round($.t))),Ie=Mt.ticklabelposition,Xe=Mt.title.font.size,De=O.select("."+P.cbaxis),de,Te=0,Be=0;function Qe(Tt,Lt){var Xt={propContainer:Mt,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:K._dfltTitle.colorbar,containerGroup:O.select("."+P.cbtitle)},Tr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;O.selectAll("."+Tr+",."+Tr+"-math-group").remove(),u.draw(U,Tt,t(Xt,Lt||{}))}function at(){if(z&&tt||!z&&!tt){var Tt,Lt;xe==="top"&&(Tt=Q+$.l+st*re,Lt=Z+$.t+vt*(1-mt-He)+3+Xe*.75),xe==="bottom"&&(Tt=Q+$.l+st*re,Lt=Z+$.t+vt*(1-mt)-3-Xe*.25),xe==="right"&&(Lt=Z+$.t+vt*Y+3+Xe*.75,Tt=Q+$.l+st*mt),Qe(Mt._id+"title",{attributes:{x:Tt,y:Lt,"text-anchor":z?"start":"middle"}})}}function it(){if(z&&!tt||!z&&tt){var Tt=Mt.position||0,Lt=Mt._offset+Mt._length/2,Xt,Tr;if(xe==="right")Tr=Lt,Xt=$.l+st*Tt+10+Xe*(Mt.showticklabels?1:.5);else if(Xt=Lt,xe==="bottom"&&(Tr=$.t+vt*Tt+10+(Ie.indexOf("inside")===-1?Mt.tickfont.size:0)+(Mt.ticks!=="intside"&&_.ticklen||0)),xe==="top"){var gt=he.text.split("<br>").length;Tr=$.t+vt*Tt+10-Ue-p*Xe*gt}Qe((z?"h":"v")+Mt._id+"title",{avoid:{selection:g.select(U).selectAll("g."+Mt._id+"tick"),side:xe,offsetTop:z?0:$.t,offsetLeft:z?$.l:0,maxShift:z?K.width:K.height},attributes:{x:Xt,y:Tr,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function Wt(){if(!z&&!tt||z&&tt){var Tt=O.select("."+P.cbtitle),Lt=Tt.select("text"),Xt=[-X/2,X/2],Tr=Tt.select(".h"+Mt._id+"title-math-group").node(),gt=15.6;Lt.node()&&(gt=parseInt(Lt.node().style.fontSize,10)*p);var Kt;if(Tr?(Kt=n.bBox(Tr),Be=Kt.width,Te=Kt.height,Te>gt&&(Xt[1]-=(Te-gt)/2)):Lt.node()&&!Lt.classed(P.jsPlaceholder)&&(Kt=n.bBox(Lt.node()),Be=Kt.width,Te=Kt.height),z){if(Te){if(Te+=5,xe==="top")Mt.domain[1]-=Te/$.h,Xt[1]*=-1;else{Mt.domain[0]+=Te/$.h;var Qt=l.lineCount(Lt);Xt[1]+=(1-Qt)*gt}Tt.attr("transform",r(Xt[0],Xt[1])),Mt.setScale()}}else Be&&(xe==="right"&&(Mt.domain[0]+=(Be+Xe/2)/$.w),Tt.attr("transform",r(Xt[0],Xt[1])),Mt.setScale())}O.selectAll("."+P.cbfills+",."+P.cblines).attr("transform",z?r(0,Math.round($.h*(1-Mt.domain[1]))):r(Math.round($.w*Mt.domain[0]),0)),De.attr("transform",z?r(0,Math.round(-$.t)):r(Math.round(-$.l),0));var yr=O.select("."+P.cbfills).selectAll("rect."+P.cbfill).attr("style","").data(be);yr.enter().append("rect").classed(P.cbfill,!0).attr("style",""),yr.exit().remove();var fr=Me.map(Mt.c2p).map(Math.round).sort(function(Dt,Ht){return Dt-Ht});yr.each(function(Dt,Ht){var Bt=[Ht===0?Me[0]:(be[Ht]+be[Ht-1])/2,Ht===be.length-1?Me[1]:(be[Ht]+be[Ht+1])/2].map(Mt.c2p).map(Math.round);z&&(Bt[1]=d.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,fr[0],fr[1]));var Nt=g.select(this).attr(z?"x":"y",lt).attr(z?"y":"x",g.min(Bt)).attr(z?"width":"height",Math.max(Ue,2)).attr(z?"height":"width",Math.max(g.max(Bt)-g.min(Bt),2));if(_._fillgradient)n.gradient(Nt,U,_._id,z?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var Jt=ke(Dt).replace("e-","");Nt.attr("fill",R(Jt).toHexString())}});var yt=O.select("."+P.cblines).selectAll("path."+P.cbline).data(ae.color&&ae.width?Le:[]);yt.enter().append("path").classed(P.cbline,!0),yt.exit().remove(),yt.each(function(Dt){var Ht=lt,Bt=Math.round(Mt.c2p(Dt))+ae.width/2%1;g.select(this).attr("d","M"+(z?Ht+","+Bt:Bt+","+Ht)+(z?"h":"v")+Ue).call(n.lineGroupStyle,ae.width,Ae(Dt),ae.dash)}),De.selectAll("g."+Mt._id+"tick,path").remove();var ot=lt+Ue+(X||0)/2-(_.ticks==="outside"?1:0),bt=S.calcTicks(Mt),Et=S.getTickSigns(Mt)[2];return S.drawTicks(U,Mt,{vals:Mt.ticks==="inside"?S.clipEnds(Mt,bt):bt,layer:De,path:S.makeTickPath(Mt,ot,Et),transFn:S.makeTransTickFn(Mt)}),S.drawLabels(U,Mt,{vals:bt,layer:De,transFn:S.makeTransTickLabelFn(Mt),labelFns:S.makeLabelFns(Mt,ot)})}function Yt(){var Tt,Lt=Ue+X/2;Ie.indexOf("inside")===-1&&(Tt=n.bBox(De.node()),Lt+=z?Tt.width:Tt.height),de=_e.select("text");var Xt=0,Tr=z&&xe==="top",gt=!z&&xe==="right",Kt=0;if(de.node()&&!de.classed(P.jsPlaceholder)){var Qt,yr=_e.select(".h"+Mt._id+"title-math-group").node();yr&&(z&&tt||!z&&!tt)?(Tt=n.bBox(yr),Xt=Tt.width,Qt=Tt.height):(Tt=n.bBox(_e.node()),Xt=Tt.right-$.l-(z?lt:xt),Qt=Tt.bottom-$.t-(z?xt:lt),!z&&xe==="top"&&(Lt+=Tt.height,Kt=Tt.height)),gt&&(de.attr("transform",r(Xt/2+Xe/2,0)),Xt*=2),Lt=Math.max(Lt,z?Xt:Qt)}var fr=(z?Q:Z)*2+Lt+q+X/2,yt=0;!z&&he.text&&ce==="bottom"&&Y<=0&&(yt=fr/2,fr+=yt,Kt+=yt),K._hColorbarMoveTitle=yt,K._hColorbarMoveCBTitle=Kt;var ot=q+X,bt=(z?lt:xt)-ot/2-(z?Q:0),Et=(z?xt:lt)-(z?Fe:Z+Kt-yt);O.select("."+P.cbbg).attr("x",bt).attr("y",Et).attr(z?"width":"height",Math.max(fr-yt,2)).attr(z?"height":"width",Math.max(Fe+ot,2)).call(f.fill,te).call(f.stroke,_.bordercolor).style("stroke-width",q);var Dt=gt?Math.max(Xt-10,0):0;O.selectAll("."+P.cboutline).attr("x",(z?lt:xt+Q)+Dt).attr("y",(z?xt+Z-Fe:lt)+(Tr?Te:0)).attr(z?"width":"height",Math.max(Ue,2)).attr(z?"height":"width",Math.max(Fe-(z?2*Z+Te:2*Q+Dt),2)).call(f.stroke,_.outlinecolor).style({fill:"none","stroke-width":X});var Ht=z?et*fr:0,Bt=z?0:(1-ct)*fr-Kt;if(Ht=ue?$.l-Ht:-Ht,Bt=oe?$.t-Bt:-Bt,O.attr("transform",r(Ht,Bt)),!z&&(q||R(te).getAlpha()&&!R.equals(K.paper_bgcolor,te))){var Nt=De.selectAll("text"),Jt=Nt[0].length,hr=O.select("."+P.cbbg).node(),Zt=n.bBox(hr),dr=n.getTranslate(O),je=2;Nt.each(function(gr,Ar){var cr=0,Hr=Jt-1;if(Ar===cr||Ar===Hr){var Rr=n.bBox(this),Ir=n.getTranslate(this),cn;if(Ar===Hr){var Zr=Rr.right+Ir.x,An=Zt.right+dr.x+xt-q-je+re;cn=An-Zr,cn>0&&(cn=0)}else if(Ar===cr){var Sn=Rr.left+Ir.x,br=Zt.left+dr.x+xt+q+je;cn=br-Sn,cn<0&&(cn=0)}cn&&(Jt<3?this.setAttribute("transform","translate("+cn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ge={},Ot=b[ne],kt=T[ne],$t=b[ce],ar=T[ce],or=fr-Ue;z?(B==="pixels"?(Ge.y=Y,Ge.t=Fe*$t,Ge.b=Fe*ar):(Ge.t=Ge.b=0,Ge.yt=Y+F*$t,Ge.yb=Y-F*ar),V==="pixels"?(Ge.x=re,Ge.l=fr*Ot,Ge.r=fr*kt):(Ge.l=or*Ot,Ge.r=or*kt,Ge.xl=re-N*Ot,Ge.xr=re+N*kt)):(B==="pixels"?(Ge.x=re,Ge.l=Fe*Ot,Ge.r=Fe*kt):(Ge.l=Ge.r=0,Ge.xl=re+F*Ot,Ge.xr=re-F*kt),V==="pixels"?(Ge.y=1-Y,Ge.t=fr*$t,Ge.b=fr*ar):(Ge.t=or*$t,Ge.b=or*ar,Ge.yt=Y-N*$t,Ge.yb=Y+N*ar));var rr=_.y<.5?"b":"t",zt=_.x<.5?"l":"r";U._fullLayout._reservedMargin[_._id]={};var vr={r:K.width-bt-Ht,l:bt+Ge.r,b:K.height-Et-Bt,t:Et+Ge.b};ue&&oe?a.autoMargin(U,_._id,Ge):ue?U._fullLayout._reservedMargin[_._id][rr]=vr[rr]:oe||z?U._fullLayout._reservedMargin[_._id][zt]=vr[zt]:U._fullLayout._reservedMargin[_._id][rr]=vr[rr]}return d.syncOrAsync([a.previousPromises,at,Wt,it,a.previousPromises,Yt],U)}function s(O,_,U){var z=_.orientation==="v",F=U._fullLayout,B=F._size,N,V,X;v.init({element:O.node(),gd:U,prepFn:function(){N=O.attr("transform"),i(O)},moveFn:function(q,te){O.attr("transform",N+r(q,te)),V=v.align((z?_._uFrac:_._vFrac)+q/B.w,z?_._thickFrac:_._lenFrac,0,1,_.xanchor),X=v.align((z?_._vFrac:1-_._uFrac)-te/B.h,z?_._lenFrac:_._thickFrac,0,1,_.yanchor);var ne=v.getCursor(V,X,_.xanchor,_.yanchor);i(O,ne)},doneFn:function(){if(i(O),V!==void 0&&X!==void 0){var q={};q[_._propPrefix+"x"]=V,q[_._propPrefix+"y"]=X,_._traceIndex!==void 0?C.call("_guiRestyle",U,q,_._traceIndex):C.call("_guiRelayout",U,q)}}})}function E(O,_,U){var z=_._levels,F=[],B=[],N,V,X=z.end+z.size/100,q=z.size,te=1.001*U[0]-.001*U[1],ne=1.001*U[1]-.001*U[0];for(V=0;V<1e5&&(N=z.start+V*q,!(q>0?N>=X:N<=X));V++)N>te&&N<ne&&F.push(N);if(_._fillgradient)B=[0];else if(typeof _._fillcolor=="function"){var ce=_._filllevels;if(ce)for(X=ce.end+ce.size/100,q=ce.size,V=0;V<1e5&&(N=ce.start+V*q,!(q>0?N>=X:N<=X));V++)N>U[0]&&N<U[1]&&B.push(N);else B=F.map(function(Q){return Q-z.size/2}),B.push(B[B.length-1]+z.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(B=[0]);return z.size<0&&(F.reverse(),B.reverse()),{line:F,fill:B}}function w(O,_,U){var z=O._fullLayout,F=_.orientation==="v",B={type:"linear",range:U,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},N=F?"y":"x",V={type:"linear",_id:N+_._id},X={letter:N,font:z.font,noAutotickangles:N==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:z.calendar};function q(te,ne){return d.coerce(B,V,h,te,ne)}return c(B,V,q,X,z),A(B,V,q,X),V}H.exports={draw:x}},90553:function(H,G,e){var g=e(3400);H.exports=function(a){return g.isPlainObject(a.colorbar)}},55080:function(H,G,e){H.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(H,G,e){var g=e(42996),R=e(53756).counter,a=e(95376),C=e(88304).scales;a(C),H.exports=function(v,d){v=v||"",d=d||{};var r=d.cLetter||"c";"onlyIfNumerical"in d&&d.onlyIfNumerical;var t="noScale"in d?d.noScale:v==="marker.line",i="showScaleDflt"in d?d.showScaleDflt:r==="z",n=typeof d.colorscaleDflt=="string"?C[d.colorscaleDflt]:null,f=d.editTypeOverride||"",u;"colorAttr"in d?(u=d.colorAttr,d.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",m=r+"min",c=r+"max",A=r+"mid",h={};h[m]=h[c]=void 0;var o={};o[l]=!1;var p={};return u==="color"&&(p.color={valType:"color",arrayOk:!0,editType:f||"style"},d.anim&&(p.color.anim=!0)),p[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},p[m]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:o},p[c]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:o},p[A]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},p.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},p.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},p.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(p.showscale={valType:"boolean",dflt:i,editType:"calc"},p.colorbar=g),d.noColorAxis||(p.coloraxis={valType:"subplotid",regex:R("coloraxis"),dflt:null,editType:"calc"}),p}},47128:function(H,G,e){var g=e(38248),R=e(3400),a=e(94288).extractOpts;H.exports=function(S,v,d){var r=S._fullLayout,t=d.vals,i=d.containerStr,n=i?R.nestedProperty(v,i).get():v,f=a(n),u=f.auto!==!1,l=f.min,m=f.max,c=f.mid,A=function(){return R.aggNums(Math.min,null,t)},h=function(){return R.aggNums(Math.max,null,t)};if(l===void 0?l=A():u&&(n._colorAx&&g(l)?l=Math.min(l,A()):l=A()),m===void 0?m=h():u&&(n._colorAx&&g(m)?m=Math.max(m,h()):m=h()),u&&c!==void 0&&(m-c>c-l?l=c-(m-c):m-c<c-l&&(m=c+(c-l))),l===m&&(l-=.5,m+=.5),f._sync("min",l),f._sync("max",m),f.autocolorscale){var o;l*m<0?o=r.colorscale.diverging:l>=0?o=r.colorscale.sequential:o=r.colorscale.sequentialminus,f._sync("colorscale",o)}}},95504:function(H,G,e){var g=e(3400),R=e(94288).hasColorscale,a=e(94288).extractOpts;H.exports=function(S,v){function d(l,m){var c=l["_"+m];c!==void 0&&(l[m]=c)}function r(l,m){var c=m.container?g.nestedProperty(l,m.container).get():l;if(c)if(c.coloraxis)c._colorAx=v[c.coloraxis];else{var A=a(c),h=A.auto;(h||A.min===void 0)&&d(c,m.min),(h||A.max===void 0)&&d(c,m.max),A.autocolorscale&&d(c,"colorscale")}}for(var t=0;t<S.length;t++){var i=S[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var f=0;f<n.length;f++)r(i,n[f]);else r(i,n);R(i,"marker.line")&&r(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(H,G,e){var g=e(38248),R=e(3400),a=e(90553),C=e(64013),S=e(88304).isValid,v=e(24040).traceIs;function d(r,t){var i=t.slice(0,t.length-1);return t?R.nestedProperty(r,i).get()||{}:r}H.exports=function r(t,i,n,f,u){var l=u.prefix,m=u.cLetter,c="_module"in i,A=d(t,l),h=d(i,l),o=d(i._template||{},l)||{},p=function(){return delete t.coloraxis,delete i.coloraxis,r(t,i,n,f,u)};if(c){var b=n._colorAxes||{},T=f(l+"coloraxis");if(T){var P=v(i,"contour")&&R.nestedProperty(i,"contours.coloring").get()||"heatmap",x=b[T];x?(x[2].push(p),x[0]!==P&&(x[0]=!1,R.warn(["Ignoring coloraxis:",T,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[T]=[P,i,[p]];return}}var L=A[m+"min"],M=A[m+"max"],s=g(L)&&g(M)&&L<M,E=f(l+m+"auto",!s);E?f(l+m+"mid"):(f(l+m+"min"),f(l+m+"max"));var w=A.colorscale,O=o.colorscale,_;if(w!==void 0&&(_=!S(w)),O!==void 0&&(_=!S(O)),f(l+"autocolorscale",_),f(l+"colorscale"),f(l+"reversescale"),l!=="marker.line."){var U;l&&c&&(U=a(A));var z=f(l+"showscale",U);z&&(l&&o&&(h._template=o),C(A,h,n))}}},94288:function(H,G,e){var g=e(33428),R=e(49760),a=e(38248),C=e(3400),S=e(76308),v=e(88304).isValid;function d(c,A,h){var o=A?C.nestedProperty(c,A).get()||{}:c,p=o[h||"color"];p&&p._inputArray&&(p=p._inputArray);var b=!1;if(C.isArrayOrTypedArray(p)){for(var T=0;T<p.length;T++)if(a(p[T])){b=!0;break}}return C.isPlainObject(o)&&(b||o.showscale===!0||a(o.cmin)&&a(o.cmax)||v(o.colorscale)||C.isPlainObject(o.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(c){var A=c._colorAx,h=A||c,o={},p,b,T;for(b=0;b<r.length;b++)T=r[b],o[T]=h[T];if(A)for(p="c",b=0;b<t.length;b++)T=t[b],o[T]=h["c"+T];else{var P;for(b=0;b<t.length;b++){if(T=t[b],P="c"+T,P in h){o[T]=h[P];continue}P="z"+T,P in h&&(o[T]=h[P])}p=P.charAt(0)}return o._sync=function(x,L){var M=t.indexOf(x)!==-1?p+x:x;h[M]=h["_"+M]=L},o}function n(c){for(var A=i(c),h=A.min,o=A.max,p=A.reversescale?f(A.colorscale):A.colorscale,b=p.length,T=new Array(b),P=new Array(b),x=0;x<b;x++){var L=p[x];T[x]=h+L[0]*(o-h),P[x]=L[1]}return{domain:T,range:P}}function f(c){for(var A=c.length,h=new Array(A),o=A-1,p=0;o>=0;o--,p++){var b=c[o];h[p]=[1-b[0],b[1]]}return h}function u(c,A){A=A||{};for(var h=c.domain,o=c.range,p=o.length,b=new Array(p),T=0;T<p;T++){var P=R(o[T]).toRgb();b[T]=[P.r,P.g,P.b,P.a]}var x=g.scale.linear().domain(h).range(b).clamp(!0),L=A.noNumericCheck,M=A.returnArray,s;return L&&M?s=x:L?s=function(E){return m(x(E))}:M?s=function(E){return a(E)?x(E):R(E).isValid()?E:S.defaultLine}:s=function(E){return a(E)?m(x(E)):R(E).isValid()?E:S.defaultLine},s.domain=x.domain,s.range=function(){return o},s}function l(c,A){return u(n(c),A)}function m(c){var A={r:c[0],g:c[1],b:c[2],a:c[3]};return R(A).toRgbString()}H.exports={hasColorscale:d,extractOpts:i,extractScale:n,flipScale:f,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},8932:function(H,G,e){var g=e(88304),R=e(94288);H.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:R.hasColorscale,extractOpts:R.extractOpts,extractScale:R.extractScale,flipScale:R.flipScale,makeColorScaleFunc:R.makeColorScaleFunc,makeColorScaleFuncFromTrace:R.makeColorScaleFuncFromTrace}},92332:function(H,G,e){var g=e(92880).extendFlat,R=e(49084),a=e(88304).scales;H.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},R("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(H,G,e){var g=e(3400),R=e(31780),a=e(92332),C=e(27260);H.exports=function(v,d){function r(c,A){return g.coerce(v,d,a,c,A)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=d._colorAxes,i,n;function f(c,A){return g.coerce(i,n,a.coloraxis,c,A)}for(var u in t){var l=t[u];if(l[0])i=v[u]||{},n=R.newContainer(d,u,"coloraxis"),n._name=u,C(i,n,d,f,{prefix:"",cLetter:"c"});else{for(var m=0;m<l[2].length;m++)l[2][m]();delete d._colorAxes[u]}}}},88304:function(H,G,e){var g=e(49760),R={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=R.RdBu;function C(d,r){if(r||(r=a),!d)return r;function t(){try{d=R[d]||JSON.parse(d)}catch{d=r}}return typeof d=="string"&&(t(),typeof d=="string"&&t()),S(d)?d:r}function S(d){var r=0;if(!Array.isArray(d)||d.length<2||!d[0]||!d[d.length-1]||+d[0][0]!=0||+d[d.length-1][0]!=1)return!1;for(var t=0;t<d.length;t++){var i=d[t];if(i.length!==2||+i[0]<r||!g(i[1]).isValid())return!1;r=+i[0]}return!0}function v(d){return R[d]!==void 0?!0:S(d)}H.exports={scales:R,defaultScale:a,get:C,isValid:v}},78316:function(H){H.exports=function(e,g,R,a,C){var S=(e-R)/(a-R),v=S+g/(a-R),d=(S+v)/2;return C==="left"||C==="bottom"?S:C==="center"||C==="middle"?d:C==="right"||C==="top"?v:S<.6666666666666666-d?S:v>1.3333333333333333-d?v:d}},67416:function(H,G,e){var g=e(3400),R=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];H.exports=function(C,S,v,d){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=g.constrain(Math.floor(C*3),0,2),d==="bottom"?S=0:d==="middle"?S=1:d==="top"?S=2:S=g.constrain(Math.floor(S*3),0,2),R[S][C]}},72760:function(H,G){G.selectMode=function(e){return e==="lasso"||e==="select"},G.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},G.openMode=function(e){return e==="drawline"||e==="drawopenpath"},G.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},G.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},G.selectingOrDrawing=function(e){return G.freeMode(e)||G.rectMode(e)}},86476:function(H,G,e){var g=e(29128),R=e(52264),a=e(89184),C=e(3400).removeElement,S=e(33816),v=H.exports={};v.align=e(78316),v.getCursor=e(67416);var d=e(2616);v.unhover=d.wrapped,v.unhoverRaw=d.raw,v.init=function(n){var f=n.gd,u=1,l=f._context.doubleClickDelay,m=n.element,c,A,h,o,p,b,T,P;f._mouseDownTime||(f._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=M,a?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=M,m.addEventListener("touchstart",M,{passive:!1})):m.ontouchstart=M;function x(w,O,_){return Math.abs(w)<_&&(w=0),Math.abs(O)<_&&(O=0),[w,O]}var L=n.clampFn||x;function M(w){f._dragged=!1,f._dragging=!0;var O=t(w);c=O[0],A=O[1],T=w.target,b=w,P=w.buttons===2||w.ctrlKey,typeof w.clientX>"u"&&typeof w.clientY>"u"&&(w.clientX=c,w.clientY=A),h=new Date().getTime(),h-f._mouseDownTime<l?u+=1:(u=1,f._mouseDownTime=h),n.prepFn&&n.prepFn(w,c,A),R&&!P?(p=r(),p.style.cursor=window.getComputedStyle(m).cursor):R||(p=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(w.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(w){w.preventDefault();var O=t(w),_=n.minDrag||S.MINDRAG,U=L(O[0]-c,O[1]-A,_),z=U[0],F=U[1];(z||F)&&(f._dragged=!0,v.unhover(f,w)),f._dragged&&n.moveFn&&!P&&(f._dragdata={element:m,dx:z,dy:F},n.moveFn(z,F))}function E(w){if(delete f._dragdata,n.dragmode!==!1&&(w.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),R?C(p):o&&(p.documentElement.style.cursor=o,o=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>l&&(u=Math.max(u-1,1)),f._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,b),!P){var O;try{O=new MouseEvent("click",w)}catch{var _=t(w);O=document.createEvent("MouseEvents"),O.initMouseEvent("click",w.bubbles,w.cancelable,w.view,w.detail,w.screenX,w.screenY,_[0],_[1],w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget)}T.dispatchEvent(O)}f._dragging=!1,f._dragged=!1}};function r(){var i=document.createElement("div");i.className="dragcover";var n=i.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(i),i}v.coverSlip=r;function t(i){return g(i.changedTouches?i.changedTouches[0]:i,document.body)}},2616:function(H,G,e){var g=e(95924),R=e(91200),a=e(52200).getGraphDiv,C=e(92456),S=H.exports={};S.wrapped=function(v,d,r){v=a(v),v._fullLayout&&R.clear(v._fullLayout._uid+C.HOVERID),S.raw(v,d,r)},S.raw=function(d,r){var t=d._fullLayout,i=d._hoverdata;r||(r={}),!(r.target&&!d._dragged&&g.triggerHandler(d,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,r.target&&i&&d.emit("plotly_unhover",{event:r,points:i}))}},98192:function(H,G){G.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},G.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(H,G,e){var g=e(33428),R=e(3400),a=R.numberFormat,C=e(38248),S=e(49760),v=e(24040),d=e(76308),r=e(8932),t=R.strTranslate,i=e(72736),n=e(9616),f=e(84284),u=f.LINE_SPACING,l=e(13448).DESELECTDIM,m=e(43028),c=e(7152),A=e(10624).appendArrayPointValue,h=H.exports={};h.font=function(we,Ee,be,Le,Ue,Ve,Fe){R.isPlainObject(Ee)&&(Fe=Ee.variant,Ve=Ee.style,Ue=Ee.weight,Le=Ee.color,be=Ee.size,Ee=Ee.family),Ee&&we.style("font-family",Ee),be+1&&we.style("font-size",be+"px"),Le&&we.call(d.fill,Le),Ue&&we.style("font-weight",Ue),Ve&&we.style("font-style",Ve),Fe&&we.style("font-variant",Fe)},h.setPosition=function(we,Ee,be){we.attr("x",Ee).attr("y",be)},h.setSize=function(we,Ee,be){we.attr("width",Ee).attr("height",be)},h.setRect=function(we,Ee,be,Le,Ue){we.call(h.setPosition,Ee,be).call(h.setSize,Le,Ue)},h.translatePoint=function(we,Ee,be,Le){var Ue=be.c2p(we.x),Ve=Le.c2p(we.y);if(C(Ue)&&C(Ve)&&Ee.node())Ee.node().nodeName==="text"?Ee.attr("x",Ue).attr("y",Ve):Ee.attr("transform",t(Ue,Ve));else return!1;return!0},h.translatePoints=function(we,Ee,be){we.each(function(Le){var Ue=g.select(this);h.translatePoint(Le,Ue,Ee,be)})},h.hideOutsideRangePoint=function(we,Ee,be,Le,Ue,Ve){Ee.attr("display",be.isPtWithinRange(we,Ue)&&Le.isPtWithinRange(we,Ve)?null:"none")},h.hideOutsideRangePoints=function(we,Ee){if(Ee._hasClipOnAxisFalse){var be=Ee.xaxis,Le=Ee.yaxis;we.each(function(Ue){var Ve=Ue[0].trace,Fe=Ve.xcalendar,He=Ve.ycalendar,st=v.traceIs(Ve,"bar-like")?".bartext":".point,.textpoint";we.selectAll(st).each(function(vt){h.hideOutsideRangePoint(vt,g.select(this),be,Le,Fe,He)})})}},h.crispRound=function(we,Ee,be){return!Ee||!C(Ee)?be||0:we._context.staticPlot?Ee:Ee<1?1:Math.round(Ee)},h.singleLineStyle=function(we,Ee,be,Le,Ue){Ee.style("fill","none");var Ve=(((we||[])[0]||{}).trace||{}).line||{},Fe=be||Ve.width||0,He=Ue||Ve.dash||"";d.stroke(Ee,Le||Ve.color),h.dashLine(Ee,He,Fe)},h.lineGroupStyle=function(we,Ee,be,Le){we.style("fill","none").each(function(Ue){var Ve=(((Ue||[])[0]||{}).trace||{}).line||{},Fe=Ee||Ve.width||0,He=Le||Ve.dash||"";g.select(this).call(d.stroke,be||Ve.color).call(h.dashLine,He,Fe)})},h.dashLine=function(we,Ee,be){be=+be||0,Ee=h.dashStyle(Ee,be),we.style({"stroke-dasharray":Ee,"stroke-width":be+"px"})},h.dashStyle=function(we,Ee){Ee=+Ee||1;var be=Math.max(Ee,3);return we==="solid"?we="":we==="dot"?we=be+"px,"+be+"px":we==="dash"?we=3*be+"px,"+3*be+"px":we==="longdash"?we=5*be+"px,"+5*be+"px":we==="dashdot"?we=3*be+"px,"+be+"px,"+be+"px,"+be+"px":we==="longdashdot"&&(we=5*be+"px,"+2*be+"px,"+be+"px,"+2*be+"px"),we};function o(we,Ee,be,Le){var Ue=Ee.fillpattern,Ve=Ee.fillgradient,Fe=Ue&&h.getPatternAttr(Ue.shape,0,"");if(Fe){var He=h.getPatternAttr(Ue.bgcolor,0,null),st=h.getPatternAttr(Ue.fgcolor,0,null),vt=Ue.fgopacity,lt=h.getPatternAttr(Ue.size,0,8),et=h.getPatternAttr(Ue.solidity,0,.3),ct=Ee.uid;h.pattern(we,"point",be,ct,Fe,lt,et,void 0,Ue.fillmode,He,st,vt)}else if(Ve&&Ve.type!=="none"){var ht=Ve.type,mt="scatterfill-"+Ee.uid;if(Le&&(mt="legendfill-"+Ee.uid),!Le&&(Ve.start!==void 0||Ve.stop!==void 0)){var xt,Mt;ht==="horizontal"?(xt={x:Ve.start,y:0},Mt={x:Ve.stop,y:0}):ht==="vertical"&&(xt={x:0,y:Ve.start},Mt={x:0,y:Ve.stop}),xt.x=Ee._xA.c2p(xt.x===void 0?Ee._extremes.x.min[0].val:xt.x,!0),xt.y=Ee._yA.c2p(xt.y===void 0?Ee._extremes.y.min[0].val:xt.y,!0),Mt.x=Ee._xA.c2p(Mt.x===void 0?Ee._extremes.x.max[0].val:Mt.x,!0),Mt.y=Ee._yA.c2p(Mt.y===void 0?Ee._extremes.y.max[0].val:Mt.y,!0),we.call(M,be,mt,"linear",Ve.colorscale,"fill",xt,Mt,!0,!1)}else ht==="horizontal"&&(ht=ht+"reversed"),we.call(h.gradient,be,mt,ht,Ve.colorscale,"fill")}else Ee.fillcolor&&we.call(d.fill,Ee.fillcolor)}h.singleFillStyle=function(we,Ee){var be=g.select(we.node()),Le=be.data(),Ue=((Le[0]||[])[0]||{}).trace||{};o(we,Ue,Ee,!1)},h.fillGroupStyle=function(we,Ee,be){we.style("stroke-width",0).each(function(Le){var Ue=g.select(this);Le[0].trace&&o(Ue,Le[0].trace,Ee,be)})};var p=e(71984);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(p).forEach(function(we){var Ee=p[we],be=Ee.n;h.symbolList.push(be,String(be),we,be+100,String(be+100),we+"-open"),h.symbolNames[be]=we,h.symbolFuncs[be]=Ee.f,h.symbolBackOffs[be]=Ee.backoff||0,Ee.needLine&&(h.symbolNeedLines[be]=!0),Ee.noDot?h.symbolNoDot[be]=!0:h.symbolList.push(be+200,String(be+200),we+"-dot",be+300,String(be+300),we+"-open-dot"),Ee.noFill&&(h.symbolNoFill[be]=!0)});var b=h.symbolNames.length,T="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(we){if(C(we))we=+we;else if(typeof we=="string"){var Ee=0;we.indexOf("-open")>0&&(Ee=100,we=we.replace("-open","")),we.indexOf("-dot")>0&&(Ee+=200,we=we.replace("-dot","")),we=h.symbolNames.indexOf(we),we>=0&&(we+=Ee)}return we%100>=b||we>=400?0:Math.floor(Math.max(we,0))};function P(we,Ee,be,Le){var Ue=we%100;return h.symbolFuncs[Ue](Ee,be,Le)+(we>=200?T:"")}var x=a("~f"),L={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};h.gradient=function(we,Ee,be,Le,Ue,Ve){var Fe=L[Le];return M(we,Ee,be,Fe.type,Ue,Ve,Fe.start,Fe.stop,!1,Fe.reversed)};function M(we,Ee,be,Le,Ue,Ve,Fe,He,st,vt){var lt=Ue.length,et;Le==="linear"?et={node:"linearGradient",attrs:{x1:Fe.x,y1:Fe.y,x2:He.x,y2:He.y,gradientUnits:st?"userSpaceOnUse":"objectBoundingBox"},reversed:vt}:Le==="radial"&&(et={node:"radialGradient",reversed:vt});for(var ct=new Array(lt),ht=0;ht<lt;ht++)et.reversed?ct[lt-1-ht]=[x((1-Ue[ht][0])*100),Ue[ht][1]]:ct[ht]=[x(Ue[ht][0]*100),Ue[ht][1]];var mt=Ee._fullLayout,xt="g"+mt._uid+"-"+be,Mt=mt._defs.select(".gradients").selectAll("#"+xt).data([Le+ct.join(";")],R.identity);Mt.exit().remove(),Mt.enter().append(et.node).each(function(){var tt=g.select(this);et.attrs&&tt.attr(et.attrs),tt.attr("id",xt);var Oe=tt.selectAll("stop").data(ct);Oe.exit().remove(),Oe.enter().append("stop"),Oe.each(function(Ye){var Ze=S(Ye[1]);g.select(this).attr({offset:Ye[0]+"%","stop-color":d.tinyRGB(Ze),"stop-opacity":Ze.getAlpha()})})}),we.style(Ve,Q(xt,Ee)).style(Ve+"-opacity",null),we.classed("gradient_filled",!0)}h.pattern=function(we,Ee,be,Le,Ue,Ve,Fe,He,st,vt,lt,et){var ct=Ee==="legend";He&&(st==="overlay"?(vt=He,lt=d.contrast(vt)):(vt=void 0,lt=He));var ht=be._fullLayout,mt="p"+ht._uid+"-"+Le,xt,Mt,tt=function(Qe,at,it,Wt,Yt){return Wt+(Yt-Wt)*(Qe-at)/(it-at)},Oe,Ye,Ze,We,_e={},Ie=S(lt),Xe=d.tinyRGB(Ie),De=Ie.getAlpha(),de=et*De;switch(Ue){case"/":xt=Ve*Math.sqrt(2),Mt=Ve*Math.sqrt(2),Oe="M-"+xt/4+","+Mt/4+"l"+xt/2+",-"+Mt/2+"M0,"+Mt+"L"+xt+",0M"+xt/4*3+","+Mt/4*5+"l"+xt/2+",-"+Mt/2,Ye=Fe*Ve,We="path",_e={d:Oe,opacity:de,stroke:Xe,"stroke-width":Ye+"px"};break;case"\\":xt=Ve*Math.sqrt(2),Mt=Ve*Math.sqrt(2),Oe="M"+xt/4*3+",-"+Mt/4+"l"+xt/2+","+Mt/2+"M0,0L"+xt+","+Mt+"M-"+xt/4+","+Mt/4*3+"l"+xt/2+","+Mt/2,Ye=Fe*Ve,We="path",_e={d:Oe,opacity:de,stroke:Xe,"stroke-width":Ye+"px"};break;case"x":xt=Ve*Math.sqrt(2),Mt=Ve*Math.sqrt(2),Oe="M-"+xt/4+","+Mt/4+"l"+xt/2+",-"+Mt/2+"M0,"+Mt+"L"+xt+",0M"+xt/4*3+","+Mt/4*5+"l"+xt/2+",-"+Mt/2+"M"+xt/4*3+",-"+Mt/4+"l"+xt/2+","+Mt/2+"M0,0L"+xt+","+Mt+"M-"+xt/4+","+Mt/4*3+"l"+xt/2+","+Mt/2,Ye=Ve-Ve*Math.sqrt(1-Fe),We="path",_e={d:Oe,opacity:de,stroke:Xe,"stroke-width":Ye+"px"};break;case"|":xt=Ve,Mt=Ve,We="path",Oe="M"+xt/2+",0L"+xt/2+","+Mt,Ye=Fe*Ve,We="path",_e={d:Oe,opacity:de,stroke:Xe,"stroke-width":Ye+"px"};break;case"-":xt=Ve,Mt=Ve,We="path",Oe="M0,"+Mt/2+"L"+xt+","+Mt/2,Ye=Fe*Ve,We="path",_e={d:Oe,opacity:de,stroke:Xe,"stroke-width":Ye+"px"};break;case"+":xt=Ve,Mt=Ve,We="path",Oe="M"+xt/2+",0L"+xt/2+","+Mt+"M0,"+Mt/2+"L"+xt+","+Mt/2,Ye=Ve-Ve*Math.sqrt(1-Fe),We="path",_e={d:Oe,opacity:de,stroke:Xe,"stroke-width":Ye+"px"};break;case".":xt=Ve,Mt=Ve,Fe<Math.PI/4?Ze=Math.sqrt(Fe*Ve*Ve/Math.PI):Ze=tt(Fe,Math.PI/4,1,Ve/2,Ve/Math.sqrt(2)),We="circle",_e={cx:xt/2,cy:Mt/2,r:Ze,opacity:de,fill:Xe};break}var Te=[Ue||"noSh",vt||"noBg",lt||"noFg",Ve,Fe].join(";"),Be=ht._defs.select(".patterns").selectAll("#"+mt).data([Te],R.identity);Be.exit().remove(),Be.enter().append("pattern").each(function(){var Qe=g.select(this);if(Qe.attr({id:mt,width:xt+"px",height:Mt+"px",patternUnits:"userSpaceOnUse",patternTransform:ct?"scale(0.8)":""}),vt){var at=S(vt),it=d.tinyRGB(at),Wt=at.getAlpha(),Yt=Qe.selectAll("rect").data([0]);Yt.exit().remove(),Yt.enter().append("rect").attr({width:xt+"px",height:Mt+"px",fill:it,"fill-opacity":Wt})}var Tt=Qe.selectAll(We).data([0]);Tt.exit().remove(),Tt.enter().append(We).attr(_e)}),we.style("fill",Q(mt,be)).style("fill-opacity",null),we.classed("pattern_filled",!0)},h.initGradients=function(we){var Ee=we._fullLayout,be=R.ensureSingle(Ee._defs,"g","gradients");be.selectAll("linearGradient,radialGradient").remove(),g.select(we).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(we){var Ee=we._fullLayout,be=R.ensureSingle(Ee._defs,"g","patterns");be.selectAll("pattern").remove(),g.select(we).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(we,Ee,be){return we&&R.isArrayOrTypedArray(we)?Ee<we.length?we[Ee]:be:we},h.pointStyle=function(we,Ee,be,Le){if(we.size()){var Ue=h.makePointStyleFns(Ee);we.each(function(Ve){h.singlePointStyle(Ve,g.select(this),Ee,Ue,be,Le)})}},h.singlePointStyle=function(we,Ee,be,Le,Ue,Ve){var Fe=be.marker,He=Fe.line;if(Ve&&Ve.i>=0&&we.i===void 0&&(we.i=Ve.i),Ee.style("opacity",Le.selectedOpacityFn?Le.selectedOpacityFn(we):we.mo===void 0?Fe.opacity:we.mo),Le.ms2mrc){var st;we.ms==="various"||Fe.size==="various"?st=3:st=Le.ms2mrc(we.ms),we.mrc=st,Le.selectedSizeFn&&(st=we.mrc=Le.selectedSizeFn(we));var vt=h.symbolNumber(we.mx||Fe.symbol)||0;we.om=vt%200>=100;var lt=ke(we,be),et=Y(we,be);Ee.attr("d",P(vt,st,lt,et))}var ct=!1,ht,mt,xt;if(we.so)xt=He.outlierwidth,mt=He.outliercolor,ht=Fe.outliercolor;else{var Mt=(He||{}).width;xt=(we.mlw+1||Mt+1||(we.trace?(we.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in we?mt=we.mlcc=Le.lineScale(we.mlc):R.isArrayOrTypedArray(He.color)?mt=d.defaultLine:mt=He.color,R.isArrayOrTypedArray(Fe.color)&&(ht=d.defaultLine,ct=!0),"mc"in we?ht=we.mcc=Le.markerScale(we.mc):ht=Fe.color||Fe.colors||"rgba(0,0,0,0)",Le.selectedColorFn&&(ht=Le.selectedColorFn(we))}if(we.om)Ee.call(d.stroke,ht).style({"stroke-width":(xt||1)+"px",fill:"none"});else{Ee.style("stroke-width",(we.isBlank?0:xt)+"px");var tt=Fe.gradient,Oe=we.mgt;Oe?ct=!0:Oe=tt&&tt.type,R.isArrayOrTypedArray(Oe)&&(Oe=Oe[0],L[Oe]||(Oe=0));var Ye=Fe.pattern,Ze=Ye&&h.getPatternAttr(Ye.shape,we.i,"");if(Oe&&Oe!=="none"){var We=we.mgc;We?ct=!0:We=tt.color;var _e=be.uid;ct&&(_e+="-"+we.i),h.gradient(Ee,Ue,_e,Oe,[[0,We],[1,ht]],"fill")}else if(Ze){var Ie=!1,Xe=Ye.fgcolor;!Xe&&Ve&&Ve.color&&(Xe=Ve.color,Ie=!0);var De=h.getPatternAttr(Xe,we.i,Ve&&Ve.color||null),de=h.getPatternAttr(Ye.bgcolor,we.i,null),Te=Ye.fgopacity,Be=h.getPatternAttr(Ye.size,we.i,8),Qe=h.getPatternAttr(Ye.solidity,we.i,.3);Ie=Ie||we.mcc||R.isArrayOrTypedArray(Ye.shape)||R.isArrayOrTypedArray(Ye.bgcolor)||R.isArrayOrTypedArray(Ye.fgcolor)||R.isArrayOrTypedArray(Ye.size)||R.isArrayOrTypedArray(Ye.solidity);var at=be.uid;Ie&&(at+="-"+we.i),h.pattern(Ee,"point",Ue,at,Ze,Be,Qe,we.mcc,Ye.fillmode,de,De,Te)}else R.isArrayOrTypedArray(ht)?d.fill(Ee,ht[we.i]):d.fill(Ee,ht);xt&&d.stroke(Ee,mt)}},h.makePointStyleFns=function(we){var Ee={},be=we.marker;return Ee.markerScale=h.tryColorscale(be,""),Ee.lineScale=h.tryColorscale(be,"line"),v.traceIs(we,"symbols")&&(Ee.ms2mrc=m.isBubble(we)?c(we):function(){return(be.size||6)/2}),we.selectedpoints&&R.extendFlat(Ee,h.makeSelectedPointStyleFns(we)),Ee},h.makeSelectedPointStyleFns=function(we){var Ee={},be=we.selected||{},Le=we.unselected||{},Ue=we.marker||{},Ve=be.marker||{},Fe=Le.marker||{},He=Ue.opacity,st=Ve.opacity,vt=Fe.opacity,lt=st!==void 0,et=vt!==void 0;(R.isArrayOrTypedArray(He)||lt||et)&&(Ee.selectedOpacityFn=function(Ze){var We=Ze.mo===void 0?Ue.opacity:Ze.mo;return Ze.selected?lt?st:We:et?vt:l*We});var ct=Ue.color,ht=Ve.color,mt=Fe.color;(ht||mt)&&(Ee.selectedColorFn=function(Ze){var We=Ze.mcc||ct;return Ze.selected?ht||We:mt||We});var xt=Ue.size,Mt=Ve.size,tt=Fe.size,Oe=Mt!==void 0,Ye=tt!==void 0;return v.traceIs(we,"symbols")&&(Oe||Ye)&&(Ee.selectedSizeFn=function(Ze){var We=Ze.mrc||xt/2;return Ze.selected?Oe?Mt/2:We:Ye?tt/2:We}),Ee},h.makeSelectedTextStyleFns=function(we){var Ee={},be=we.selected||{},Le=we.unselected||{},Ue=we.textfont||{},Ve=be.textfont||{},Fe=Le.textfont||{},He=Ue.color,st=Ve.color,vt=Fe.color;return Ee.selectedTextColorFn=function(lt){var et=lt.tc||He;return lt.selected?st||et:vt||(st?et:d.addOpacity(et,l))},Ee},h.selectedPointStyle=function(we,Ee){if(!(!we.size()||!Ee.selectedpoints)){var be=h.makeSelectedPointStyleFns(Ee),Le=Ee.marker||{},Ue=[];be.selectedOpacityFn&&Ue.push(function(Ve,Fe){Ve.style("opacity",be.selectedOpacityFn(Fe))}),be.selectedColorFn&&Ue.push(function(Ve,Fe){d.fill(Ve,be.selectedColorFn(Fe))}),be.selectedSizeFn&&Ue.push(function(Ve,Fe){var He=Fe.mx||Le.symbol||0,st=be.selectedSizeFn(Fe);Ve.attr("d",P(h.symbolNumber(He),st,ke(Fe,Ee),Y(Fe,Ee))),Fe.mrc2=st}),Ue.length&&we.each(function(Ve){for(var Fe=g.select(this),He=0;He<Ue.length;He++)Ue[He](Fe,Ve)})}},h.tryColorscale=function(we,Ee){var be=Ee?R.nestedProperty(we,Ee).get():we;if(be){var Le=be.color;if((be.colorscale||be._colorAx)&&R.isArrayOrTypedArray(Le))return r.makeColorScaleFuncFromTrace(be)}return R.identity};var s={start:1,end:-1,middle:0,bottom:1,top:-1};function E(we,Ee,be,Le,Ue){var Ve=g.select(we.node().parentNode),Fe=Ee.indexOf("top")!==-1?"top":Ee.indexOf("bottom")!==-1?"bottom":"middle",He=Ee.indexOf("left")!==-1?"end":Ee.indexOf("right")!==-1?"start":"middle",st=Le?Le/.8+1:0,vt=(i.lineCount(we)-1)*u+1,lt=s[He]*st,et=be*.75+s[Fe]*st+(s[Fe]-1)*vt*be/2;we.attr("text-anchor",He),Ue||Ve.attr("transform",t(lt,et))}function w(we,Ee){var be=we.ts||Ee.textfont.size;return C(be)&&be>0?be:0}h.textPointStyle=function(we,Ee,be){if(we.size()){var Le;if(Ee.selectedpoints){var Ue=h.makeSelectedTextStyleFns(Ee);Le=Ue.selectedTextColorFn}var Ve=Ee.texttemplate,Fe=be._fullLayout;we.each(function(He){var st=g.select(this),vt=Ve?R.extractOption(He,Ee,"txt","texttemplate"):R.extractOption(He,Ee,"tx","text");if(!vt&&vt!==0){st.remove();return}if(Ve){var lt=Ee._module.formatLabels,et=lt?lt(He,Ee,Fe):{},ct={};A(ct,Ee,He.i);var ht=Ee._meta||{};vt=R.texttemplateString(vt,et,Fe._d3locale,ct,He,ht)}var mt=He.tp||Ee.textposition,xt=w(He,Ee),Mt=Le?Le(He):He.tc||Ee.textfont.color;st.call(h.font,{family:He.tf||Ee.textfont.family,weight:He.tw||Ee.textfont.weight,style:He.ty||Ee.textfont.style,variant:He.tv||Ee.textfont.variant,size:xt,color:Mt}).text(vt).call(i.convertToTspans,be).call(E,mt,xt,He.mrc)})}},h.selectedTextStyle=function(we,Ee){if(!(!we.size()||!Ee.selectedpoints)){var be=h.makeSelectedTextStyleFns(Ee);we.each(function(Le){var Ue=g.select(this),Ve=be.selectedTextColorFn(Le),Fe=Le.tp||Ee.textposition,He=w(Le,Ee);d.fill(Ue,Ve);var st=v.traceIs(Ee,"bar-like");E(Ue,Fe,He,Le.mrc2||Le.mrc,st)})}};var O=.5;h.smoothopen=function(we,Ee){if(we.length<3)return"M"+we.join("L");var be="M"+we[0],Le=[],Ue;for(Ue=1;Ue<we.length-1;Ue++)Le.push(N(we[Ue-1],we[Ue],we[Ue+1],Ee));for(be+="Q"+Le[0][0]+" "+we[1],Ue=2;Ue<we.length-1;Ue++)be+="C"+Le[Ue-2][1]+" "+Le[Ue-1][0]+" "+we[Ue];return be+="Q"+Le[we.length-3][1]+" "+we[we.length-1],be},h.smoothclosed=function(we,Ee){if(we.length<3)return"M"+we.join("L")+"Z";var be="M"+we[0],Le=we.length-1,Ue=[N(we[Le],we[0],we[1],Ee)],Ve;for(Ve=1;Ve<Le;Ve++)Ue.push(N(we[Ve-1],we[Ve],we[Ve+1],Ee));for(Ue.push(N(we[Le-1],we[Le],we[0],Ee)),Ve=1;Ve<=Le;Ve++)be+="C"+Ue[Ve-1][1]+" "+Ue[Ve][0]+" "+we[Ve];return be+="C"+Ue[Le][1]+" "+Ue[0][0]+" "+we[0]+"Z",be};var _,U;function z(we,Ee,be){return be&&(we=q(we)),Ee?B(we[1]):F(we[0])}function F(we){var Ee=g.round(we,2);return _=Ee,Ee}function B(we){var Ee=g.round(we,2);return U=Ee,Ee}function N(we,Ee,be,Le){var Ue=we[0]-Ee[0],Ve=we[1]-Ee[1],Fe=be[0]-Ee[0],He=be[1]-Ee[1],st=Math.pow(Ue*Ue+Ve*Ve,O/2),vt=Math.pow(Fe*Fe+He*He,O/2),lt=(vt*vt*Ue-st*st*Fe)*Le,et=(vt*vt*Ve-st*st*He)*Le,ct=3*vt*(st+vt),ht=3*st*(st+vt);return[[F(Ee[0]+(ct&&lt/ct)),B(Ee[1]+(ct&&et/ct))],[F(Ee[0]-(ht&&lt/ht)),B(Ee[1]-(ht&&et/ht))]]}var V={hv:function(we,Ee,be){return"H"+F(Ee[0])+"V"+z(Ee,1,be)},vh:function(we,Ee,be){return"V"+B(Ee[1])+"H"+z(Ee,0,be)},hvh:function(we,Ee,be){return"H"+F((we[0]+Ee[0])/2)+"V"+B(Ee[1])+"H"+z(Ee,0,be)},vhv:function(we,Ee,be){return"V"+B((we[1]+Ee[1])/2)+"H"+F(Ee[0])+"V"+z(Ee,1,be)}},X=function(we,Ee,be){return"L"+z(Ee,0,be)+","+z(Ee,1,be)};h.steps=function(we){var Ee=V[we]||X;return function(be){for(var Le="M"+F(be[0][0])+","+B(be[0][1]),Ue=be.length,Ve=1;Ve<Ue;Ve++)Le+=Ee(be[Ve-1],be[Ve],Ve===Ue-1);return Le}};function q(we,Ee){var be=we.backoff,Le=we.trace,Ue=we.d,Ve=we.i;if(be&&Le&&Le.marker&&Le.marker.angle%360===0&&Le.line&&Le.line.shape!=="spline"){var Fe=R.isArrayOrTypedArray(be),He=we,st=Ee?Ee[0]:_||0,vt=Ee?Ee[1]:U||0,lt=He[0],et=He[1],ct=lt-st,ht=et-vt,mt=Math.atan2(ht,ct),xt=Fe?be[Ve]:be;if(xt==="auto"){var Mt=He.i;Le.type==="scatter"&&Mt--;var tt=He.marker,Oe=tt.symbol;R.isArrayOrTypedArray(Oe)&&(Oe=Oe[Mt]);var Ye=tt.size;R.isArrayOrTypedArray(Ye)&&(Ye=Ye[Mt]),xt=tt?h.symbolBackOffs[h.symbolNumber(Oe)]*Ye:0,xt+=h.getMarkerStandoff(Ue[Mt],Le)||0}var Ze=lt-xt*Math.cos(mt),We=et-xt*Math.sin(mt);(Ze<=lt&&Ze>=st||Ze>=lt&&Ze<=st)&&(We<=et&&We>=vt||We>=et&&We<=vt)&&(we=[Ze,We])}return we}h.applyBackoff=q,h.makeTester=function(){var we=R.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(be){be.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ee=R.ensureSingle(we,"path","js-reference-point",function(be){be.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=we,h.testref=Ee},h.savedBBoxes={};var te=0,ne=1e4;h.bBox=function(we,Ee,be){be||(be=ce(we));var Le;if(be){if(Le=h.savedBBoxes[be],Le)return R.extendFlat({},Le)}else if(we.childNodes.length===1){var Ue=we.childNodes[0];if(be=ce(Ue),be){var Ve=+Ue.getAttribute("x")||0,Fe=+Ue.getAttribute("y")||0,He=Ue.getAttribute("transform");if(!He){var st=h.bBox(Ue,!1,be);return Ve&&(st.left+=Ve,st.right+=Ve),Fe&&(st.top+=Fe,st.bottom+=Fe),st}if(be+="~"+Ve+"~"+Fe+"~"+He,Le=h.savedBBoxes[be],Le)return R.extendFlat({},Le)}}var vt,lt;Ee?vt=we:(lt=h.tester.node(),vt=we.cloneNode(!0),lt.appendChild(vt)),g.select(vt).attr("transform",null).call(i.positionText,0,0);var et=vt.getBoundingClientRect(),ct=h.testref.node().getBoundingClientRect();Ee||lt.removeChild(vt);var ht={height:et.height,width:et.width,left:et.left-ct.left,top:et.top-ct.top,right:et.right-ct.left,bottom:et.bottom-ct.top};return te>=ne&&(h.savedBBoxes={},te=0),be&&(h.savedBBoxes[be]=ht),te++,R.extendFlat({},ht)};function ce(we){var Ee=we.getAttribute("data-unformatted");if(Ee!==null)return Ee+we.getAttribute("data-math")+we.getAttribute("text-anchor")+we.getAttribute("style")}h.setClipUrl=function(we,Ee,be){we.attr("clip-path",Q(Ee,be))};function Q(we,Ee){if(!we)return null;var be=Ee._context,Le=be._exportedPlot?"":be._baseUrl||"";return Le?"url('"+Le+"#"+we+"')":"url(#"+we+")"}h.getTranslate=function(we){var Ee=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,be=we.attr?"attr":"getAttribute",Le=we[be]("transform")||"",Ue=Le.replace(Ee,function(Ve,Fe,He){return[Fe,He].join(" ")}).split(" ");return{x:+Ue[0]||0,y:+Ue[1]||0}},h.setTranslate=function(we,Ee,be){var Le=/(\btranslate\(.*?\);?)/,Ue=we.attr?"attr":"getAttribute",Ve=we.attr?"attr":"setAttribute",Fe=we[Ue]("transform")||"";return Ee=Ee||0,be=be||0,Fe=Fe.replace(Le,"").trim(),Fe+=t(Ee,be),Fe=Fe.trim(),we[Ve]("transform",Fe),Fe},h.getScale=function(we){var Ee=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,be=we.attr?"attr":"getAttribute",Le=we[be]("transform")||"",Ue=Le.replace(Ee,function(Ve,Fe,He){return[Fe,He].join(" ")}).split(" ");return{x:+Ue[0]||1,y:+Ue[1]||1}},h.setScale=function(we,Ee,be){var Le=/(\bscale\(.*?\);?)/,Ue=we.attr?"attr":"getAttribute",Ve=we.attr?"attr":"setAttribute",Fe=we[Ue]("transform")||"";return Ee=Ee||1,be=be||1,Fe=Fe.replace(Le,"").trim(),Fe+="scale("+Ee+","+be+")",Fe=Fe.trim(),we[Ve]("transform",Fe),Fe};var Z=/\s*sc.*/;h.setPointGroupScale=function(we,Ee,be){if(Ee=Ee||1,be=be||1,!!we){var Le=Ee===1&&be===1?"":"scale("+Ee+","+be+")";we.each(function(){var Ue=(this.getAttribute("transform")||"").replace(Z,"");Ue+=Le,Ue=Ue.trim(),this.setAttribute("transform",Ue)})}};var re=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(we,Ee,be){we&&we.each(function(){var Le,Ue=g.select(this),Ve=Ue.select("text");if(Ve.node()){var Fe=parseFloat(Ve.attr("x")||0),He=parseFloat(Ve.attr("y")||0),st=(Ue.attr("transform")||"").match(re);Ee===1&&be===1?Le=[]:Le=[t(Fe,He),"scale("+Ee+","+be+")",t(-Fe,-He)],st&&Le.push(st),Ue.attr("transform",Le.join(""))}})};function Y(we,Ee){var be;return we&&(be=we.mf),be===void 0&&(be=Ee.marker&&Ee.marker.standoff||0),!Ee._geo&&!Ee._xA?-be:be}h.getMarkerStandoff=Y;var oe=Math.atan2,ue=Math.cos,K=Math.sin;function $(we,Ee){var be=Ee[0],Le=Ee[1];return[be*ue(we)-Le*K(we),be*K(we)+Le*ue(we)]}var le,ae,he,xe,Me,Ae;function ke(we,Ee){var be=we.ma;be===void 0&&(be=Ee.marker.angle,(!be||R.isArrayOrTypedArray(be))&&(be=0));var Le,Ue,Ve=Ee.marker.angleref;if(Ve==="previous"||Ve==="north"){if(Ee._geo){var Fe=Ee._geo.project(we.lonlat);Le=Fe[0],Ue=Fe[1]}else{var He=Ee._xA,st=Ee._yA;if(He&&st)Le=He.c2p(we.x),Ue=st.c2p(we.y);else return 90}if(Ee._geo){var vt=we.lonlat[0],lt=we.lonlat[1],et=Ee._geo.project([vt,lt+1e-5]),ct=Ee._geo.project([vt+1e-5,lt]),ht=oe(ct[1]-Ue,ct[0]-Le),mt=oe(et[1]-Ue,et[0]-Le),xt;if(Ve==="north")xt=be/180*Math.PI;else if(Ve==="previous"){var Mt=vt/180*Math.PI,tt=lt/180*Math.PI,Oe=le/180*Math.PI,Ye=ae/180*Math.PI,Ze=Oe-Mt,We=ue(Ye)*K(Ze),_e=K(Ye)*ue(tt)-ue(Ye)*K(tt)*ue(Ze);xt=-oe(We,_e)-Math.PI,le=vt,ae=lt}var Ie=$(ht,[ue(xt),0]),Xe=$(mt,[K(xt),0]);be=oe(Ie[1]+Xe[1],Ie[0]+Xe[0])/Math.PI*180,Ve==="previous"&&!(Ae===Ee.uid&&we.i===Me+1)&&(be=null)}if(Ve==="previous"&&!Ee._geo)if(Ae===Ee.uid&&we.i===Me+1&&C(Le)&&C(Ue)){var De=Le-he,de=Ue-xe,Te=Ee.line&&Ee.line.shape||"",Be=Te.slice(Te.length-1);Be==="h"&&(de=0),Be==="v"&&(De=0),be+=oe(de,De)/Math.PI*180+90}else be=null}return he=Le,xe=Ue,Me=we.i,Ae=Ee.uid,be}h.getMarkerAngle=ke},71984:function(H,G,e){var g=e(21984),R=e(33428).round,a="M0,0Z",C=Math.sqrt(2),S=Math.sqrt(3),v=Math.PI,d=Math.cos,r=Math.sin;H.exports={circle:{n:0,f:function(m,c,A){if(t(c))return a;var h=R(m,2),o="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return A?l(c,A,o):o}},square:{n:1,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(m,c,A){if(t(c))return a;var h=R(m*1.3,2);return l(c,A,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(m,c,A){if(t(c))return a;var h=R(m*.4,2),o=R(m*1.2,2);return l(c,A,"M"+o+","+h+"H"+h+"V"+o+"H-"+h+"V"+h+"H-"+o+"V-"+h+"H-"+h+"V-"+o+"H"+h+"V-"+h+"H"+o+"Z")}},x:{n:4,f:function(m,c,A){if(t(c))return a;var h=R(m*.8/C,2),o="l"+h+","+h,p="l"+h+",-"+h,b="l-"+h+",-"+h,T="l-"+h+","+h;return l(c,A,"M0,"+h+o+p+b+p+b+T+b+T+o+T+o+"Z")}},"triangle-up":{n:5,f:function(m,c,A){if(t(c))return a;var h=R(m*2/S,2),o=R(m/2,2),p=R(m,2);return l(c,A,"M-"+h+","+o+"H"+h+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(m,c,A){if(t(c))return a;var h=R(m*2/S,2),o=R(m/2,2),p=R(m,2);return l(c,A,"M-"+h+",-"+o+"H"+h+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(m,c,A){if(t(c))return a;var h=R(m*2/S,2),o=R(m/2,2),p=R(m,2);return l(c,A,"M"+o+",-"+h+"V"+h+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(m,c,A){if(t(c))return a;var h=R(m*2/S,2),o=R(m/2,2),p=R(m,2);return l(c,A,"M-"+o+",-"+h+"V"+h+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(m,c,A){if(t(c))return a;var h=R(m*.6,2),o=R(m*1.2,2);return l(c,A,"M-"+o+",-"+h+"H"+h+"V"+o+"Z")}},"triangle-se":{n:10,f:function(m,c,A){if(t(c))return a;var h=R(m*.6,2),o=R(m*1.2,2);return l(c,A,"M"+h+",-"+o+"V"+h+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(m,c,A){if(t(c))return a;var h=R(m*.6,2),o=R(m*1.2,2);return l(c,A,"M"+o+","+h+"H-"+h+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(m,c,A){if(t(c))return a;var h=R(m*.6,2),o=R(m*1.2,2);return l(c,A,"M-"+h+","+o+"V-"+h+"H"+o+"Z")}},pentagon:{n:13,f:function(m,c,A){if(t(c))return a;var h=R(m*.951,2),o=R(m*.588,2),p=R(-m,2),b=R(m*-.309,2),T=R(m*.809,2);return l(c,A,"M"+h+","+b+"L"+o+","+T+"H-"+o+"L-"+h+","+b+"L0,"+p+"Z")}},hexagon:{n:14,f:function(m,c,A){if(t(c))return a;var h=R(m,2),o=R(m/2,2),p=R(m*S/2,2);return l(c,A,"M"+p+",-"+o+"V"+o+"L0,"+h+"L-"+p+","+o+"V-"+o+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(m,c,A){if(t(c))return a;var h=R(m,2),o=R(m/2,2),p=R(m*S/2,2);return l(c,A,"M-"+o+","+p+"H"+o+"L"+h+",0L"+o+",-"+p+"H-"+o+"L-"+h+",0Z")}},octagon:{n:16,f:function(m,c,A){if(t(c))return a;var h=R(m*.924,2),o=R(m*.383,2);return l(c,A,"M-"+o+",-"+h+"H"+o+"L"+h+",-"+o+"V"+o+"L"+o+","+h+"H-"+o+"L-"+h+","+o+"V-"+o+"Z")}},star:{n:17,f:function(m,c,A){if(t(c))return a;var h=m*1.4,o=R(h*.225,2),p=R(h*.951,2),b=R(h*.363,2),T=R(h*.588,2),P=R(-h,2),x=R(h*-.309,2),L=R(h*.118,2),M=R(h*.809,2),s=R(h*.382,2);return l(c,A,"M"+o+","+x+"H"+p+"L"+b+","+L+"L"+T+","+M+"L0,"+s+"L-"+T+","+M+"L-"+b+","+L+"L-"+p+","+x+"H-"+o+"L0,"+P+"Z")}},hexagram:{n:18,f:function(m,c,A){if(t(c))return a;var h=R(m*.66,2),o=R(m*.38,2),p=R(m*.76,2);return l(c,A,"M-"+p+",0l-"+o+",-"+h+"h"+p+"l"+o+",-"+h+"l"+o+","+h+"h"+p+"l-"+o+","+h+"l"+o+","+h+"h-"+p+"l-"+o+","+h+"l-"+o+",-"+h+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(m,c,A){if(t(c))return a;var h=R(m*S*.8,2),o=R(m*.8,2),p=R(m*1.6,2),b=R(m*4,2),T="A "+b+","+b+" 0 0 1 ";return l(c,A,"M-"+h+","+o+T+h+","+o+T+"0,-"+p+T+"-"+h+","+o+"Z")}},"star-triangle-down":{n:20,f:function(m,c,A){if(t(c))return a;var h=R(m*S*.8,2),o=R(m*.8,2),p=R(m*1.6,2),b=R(m*4,2),T="A "+b+","+b+" 0 0 1 ";return l(c,A,"M"+h+",-"+o+T+"-"+h+",-"+o+T+"0,"+p+T+h+",-"+o+"Z")}},"star-square":{n:21,f:function(m,c,A){if(t(c))return a;var h=R(m*1.1,2),o=R(m*2,2),p="A "+o+","+o+" 0 0 1 ";return l(c,A,"M-"+h+",-"+h+p+"-"+h+","+h+p+h+","+h+p+h+",-"+h+p+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(m,c,A){if(t(c))return a;var h=R(m*1.4,2),o=R(m*1.9,2),p="A "+o+","+o+" 0 0 1 ";return l(c,A,"M-"+h+",0"+p+"0,"+h+p+h+",0"+p+"0,-"+h+p+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(m,c,A){if(t(c))return a;var h=R(m*.7,2),o=R(m*1.4,2);return l(c,A,"M0,"+o+"L"+h+",0L0,-"+o+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(m,c,A){if(t(c))return a;var h=R(m*1.4,2),o=R(m*.7,2);return l(c,A,"M0,"+o+"L"+h+",0L0,-"+o+"L-"+h+",0Z")}},hourglass:{n:25,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,c,A){if(t(c))return a;var h=R(m,2),o=R(m/C,2);return l(c,A,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,c,A){if(t(c))return a;var h=R(m*1.3,2);return l(c,A,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,c,A){if(t(c))return a;var h=R(m*1.3,2),o=R(m*.65,2);return l(c,A,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,c,A){if(t(c))return a;var h=R(m*1.4,2);return l(c,A,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,c,A){if(t(c))return a;var h=R(m*1.2,2),o=R(m*.85,2);return l(c,A,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,c,A){if(t(c))return a;var h=R(m/2,2),o=R(m,2);return l(c,A,"M"+h+","+o+"V-"+o+"M"+(h-o)+",-"+o+"V"+o+"M"+o+","+h+"H-"+o+"M-"+o+","+(h-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,c,A){if(t(c))return a;var h=R(m*1.2,2),o=R(m*1.6,2),p=R(m*.8,2);return l(c,A,"M-"+h+","+p+"L0,0M"+h+","+p+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,c,A){if(t(c))return a;var h=R(m*1.2,2),o=R(m*1.6,2),p=R(m*.8,2);return l(c,A,"M-"+h+",-"+p+"L0,0M"+h+",-"+p+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,c,A){if(t(c))return a;var h=R(m*1.2,2),o=R(m*1.6,2),p=R(m*.8,2);return l(c,A,"M"+p+","+h+"L0,0M"+p+",-"+h+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,c,A){if(t(c))return a;var h=R(m*1.2,2),o=R(m*1.6,2),p=R(m*.8,2);return l(c,A,"M-"+p+","+h+"L0,0M-"+p+",-"+h+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,c,A){if(t(c))return a;var h=R(m*1.4,2);return l(c,A,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,c,A){if(t(c))return a;var h=R(m*1.4,2);return l(c,A,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,c,A){if(t(c))return a;var h=R(m,2);return l(c,A,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,c,A){if(t(c))return a;var h=R(m,2),o=R(m*2,2);return l(c,A,"M0,0L-"+h+","+o+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,c,A){if(t(c))return a;var h=R(m,2),o=R(m*2,2);return l(c,A,"M0,0L-"+h+",-"+o+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,c,A){if(t(c))return a;var h=R(m*2,2),o=R(m,2);return l(c,A,"M0,0L"+h+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,c,A){if(t(c))return a;var h=R(m*2,2),o=R(m,2);return l(c,A,"M0,0L-"+h+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,c,A){if(t(c))return a;var h=R(m,2),o=R(m*2,2);return l(c,A,"M-"+h+",0H"+h+"M0,0L-"+h+","+o+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,c,A){if(t(c))return a;var h=R(m,2),o=R(m*2,2);return l(c,A,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+o+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,c,A){if(t(c))return a;var h=R(m*2,2),o=R(m,2);return l(c,A,"M0,-"+o+"V"+o+"M0,0L"+h+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,c,A){if(t(c))return a;var h=R(m*2,2),o=R(m,2);return l(c,A,"M0,-"+o+"V"+o+"M0,0L-"+h+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,c,A){if(t(c))return a;var h=v/2.5,o=2*m*d(h),p=2*m*r(h);return l(c,A,"M0,0L"+-o+","+p+"L"+o+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,c,A){if(t(c))return a;var h=v/4,o=2*m*d(h),p=2*m*r(h);return l(c,A,"M0,0L"+-o+","+p+"A "+2*m+","+2*m+" 0 0 1 "+o+","+p+"Z")},backoff:.4,noDot:!0}};function t(m){return m===null}var i,n,f,u;function l(m,c,A){if((!m||m%360===0)&&!c)return A;if(f===m&&u===c&&i===A)return n;f=m,u=c,i=A;function h(_,U){var z=d(_),F=r(_),B=U[0],N=U[1]+(c||0);return[B*z-N*F,B*F+N*z]}for(var o=m/180*v,p=0,b=0,T=g(A),P="",x=0;x<T.length;x++){var L=T[x],M=L[0],s=p,E=b;if(M==="M"||M==="L")p=+L[1],b=+L[2];else if(M==="m"||M==="l")p+=+L[1],b+=+L[2];else if(M==="H")p=+L[1];else if(M==="h")p+=+L[1];else if(M==="V")b=+L[1];else if(M==="v")b+=+L[1];else if(M==="A"){p=+L[1],b=+L[2];var w=h(o,[+L[6],+L[7]]);L[6]=w[0],L[7]=w[1],L[3]=+L[3]+m}(M==="H"||M==="V")&&(M="L"),(M==="h"||M==="v")&&(M="l"),(M==="m"||M==="l")&&(p-=s,b-=E);var O=h(o,[p,b]);(M==="H"||M==="V")&&(M="L"),(M==="M"||M==="L"||M==="m"||M==="l")&&(L[1]=O[0],L[2]=O[1]),L[0]=M,P+=L[0]+L.slice(1).join(",")}return n=P,P}},97644:function(H){H.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(H,G,e){var g=e(38248),R=e(24040),a=e(54460),C=e(3400),S=e(93792);H.exports=function(r){for(var t=r.calcdata,i=0;i<t.length;i++){var n=t[i],f=n[0].trace;if(f.visible===!0&&R.traceIs(f,"errorBarsOK")){var u=a.getFromId(r,f.xaxis),l=a.getFromId(r,f.yaxis);v(n,f,u,"x"),v(n,f,l,"y")}}};function v(d,r,t,i){var n=r["error_"+i]||{},f=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(f){for(var l=S(n),m=0;m<d.length;m++){var c=d[m],A=c.i;if(A===void 0)A=m;else if(A===null)continue;var h=c[i];if(g(t.c2l(h))){var o=l(h,A);if(g(o[0])&&g(o[1])){var p=c[i+"s"]=h-o[0],b=c[i+"h"]=h+o[1];u.push(p,b)}}}var T=t._id,P=r._extremes[T],x=a.findExtremes(t,u,C.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(x.min),P.max=P.max.concat(x.max)}}},93792:function(H){H.exports=function(g){var R=g.type,a=g.symmetric;if(R==="data"){var C=g.array||[];if(a)return function(t,i){var n=+C[i];return[n,n]};var S=g.arrayminus||[];return function(t,i){var n=+C[i],f=+S[i];return!isNaN(n)||!isNaN(f)?[f||0,n||0]:[NaN,NaN]}}else{var v=G(R,g.value),d=G(R,g.valueminus);return a||g.valueminus===void 0?function(t){var i=v(t);return[i,i]}:function(t){return[d(t),v(t)]}}};function G(e,g){if(e==="percent")return function(R){return Math.abs(R*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(R){return Math.sqrt(Math.abs(R))}}},65200:function(H,G,e){var g=e(38248),R=e(24040),a=e(3400),C=e(31780),S=e(97644);H.exports=function(v,d,r,t){var i="error_"+t.axis,n=C.newContainer(d,i),f=v[i]||{};function u(p,b){return a.coerce(f,n,S,p,b)}var l=f.array!==void 0||f.value!==void 0||f.type==="sqrt",m=u("visible",l);if(m!==!1){var c=u("type","array"in f?"data":"percent"),A=!0;c!=="sqrt"&&(A=u("symmetric",!((c==="data"?"arrayminus":"valueminus")in f))),c==="data"?(u("array"),u("traceref"),A||(u("arrayminus"),u("tracerefminus"))):(c==="percent"||c==="constant")&&(u("value"),A||u("valueminus"));var h="copy_"+t.inherit+"style";if(t.inherit){var o=d["error_"+t.inherit];(o||{}).visible&&u(h,!(f.color||g(f.thickness)||g(f.width)))}(!t.inherit||!n[h])&&(u("color",r),u("thickness"),u("width",R.traceIs(d,"gl3d")?0:4))}}},64968:function(H,G,e){var g=e(3400),R=e(67824).overrideAll,a=e(97644),C={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var S={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a),error_z:g.extendFlat({},a)};delete S.error_x.copy_ystyle,delete S.error_y.copy_ystyle,delete S.error_z.copy_ystyle,delete S.error_z.copy_zstyle,H.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:R(S,"calc","nested"),scattergl:R(C,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(d,r,t){(r.error_y||{}).visible&&(t.yerr=d.yh-d.y,r.error_y.symmetric||(t.yerrneg=d.y-d.ys)),(r.error_x||{}).visible&&(t.xerr=d.xh-d.x,r.error_x.symmetric||(t.xerrneg=d.x-d.xs))}},78512:function(H,G,e){var g=e(33428),R=e(38248),a=e(43616),C=e(43028);H.exports=function(d,r,t,i){var n,f=t.xaxis,u=t.yaxis,l=i&&i.duration>0,m=d._context.staticPlot;r.each(function(c){var A=c[0].trace,h=A.error_x||{},o=A.error_y||{},p;A.ids&&(p=function(x){return x.id});var b=C.hasMarkers(A)&&A.marker.maxdisplayed>0;!o.visible&&!h.visible&&(c=[]);var T=g.select(this).selectAll("g.errorbar").data(c,p);if(T.exit().remove(),!!c.length){h.visible||T.selectAll("path.xerror").remove(),o.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var P=T.enter().append("g").classed("errorbar",!0);l&&P.style("opacity",0).transition().duration(i.duration).style("opacity",1),a.setClipUrl(T,t.layerClipId,d),T.each(function(x){var L=g.select(this),M=S(x,f,u);if(!(b&&!x.vis)){var s,E=L.select("path.yerror");if(o.visible&&R(M.x)&&R(M.yh)&&R(M.ys)){var w=o.width;s="M"+(M.x-w)+","+M.yh+"h"+2*w+"m-"+w+",0V"+M.ys,M.noYS||(s+="m-"+w+",0h"+2*w),n=!E.size(),n?E=L.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):l&&(E=E.transition().duration(i.duration).ease(i.easing)),E.attr("d",s)}else E.remove();var O=L.select("path.xerror");if(h.visible&&R(M.y)&&R(M.xh)&&R(M.xs)){var _=(h.copy_ystyle?o:h).width;s="M"+M.xh+","+(M.y-_)+"v"+2*_+"m0,-"+_+"H"+M.xs,M.noXS||(s+="m0,-"+_+"v"+2*_),n=!O.size(),n?O=L.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):l&&(O=O.transition().duration(i.duration).ease(i.easing)),O.attr("d",s)}else O.remove()}})}})};function S(v,d,r){var t={x:d.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),R(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=d.c2p(v.xh),t.xs=d.c2p(v.xs),R(t.xs)||(t.noXS=!0,t.xs=d.c2p(v.xs,!0))),t}},92036:function(H,G,e){var g=e(33428),R=e(76308);H.exports=function(C){C.each(function(S){var v=S[0].trace,d=v.error_y||{},r=v.error_x||{},t=g.select(this);t.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(R.stroke,d.color),r.copy_ystyle&&(r=d),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(R.stroke,r.color)})}},55756:function(H,G,e){var g=e(25376),R=e(65460).hoverlabel,a=e(92880).extendFlat;H.exports={hoverlabel:{bgcolor:a({},R.bgcolor,{arrayOk:!0}),bordercolor:a({},R.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:a({},R.align,{arrayOk:!0}),namelength:a({},R.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(H,G,e){var g=e(3400),R=e(24040);H.exports=function(S){var v=S.calcdata,d=S._fullLayout;function r(u){return function(l){return g.coerceHoverinfo({hoverinfo:l},{_module:u._module},d)}}for(var t=0;t<v.length;t++){var i=v[t],n=i[0].trace;if(!R.traceIs(n,"pie-like")){var f=R.traceIs(n,"2dMap")?a:g.fillArray;f(n.hoverinfo,i,"hi",r(n)),n.hovertemplate&&f(n.hovertemplate,i,"ht"),n.hoverlabel&&(f(n.hoverlabel.bgcolor,i,"hbg"),f(n.hoverlabel.bordercolor,i,"hbc"),f(n.hoverlabel.font.size,i,"hts"),f(n.hoverlabel.font.color,i,"htc"),f(n.hoverlabel.font.family,i,"htf"),f(n.hoverlabel.font.weight,i,"htw"),f(n.hoverlabel.font.style,i,"hty"),f(n.hoverlabel.font.variant,i,"htv"),f(n.hoverlabel.namelength,i,"hnl"),f(n.hoverlabel.align,i,"hta"))}}};function a(C,S,v,d){d=d||g.identity,Array.isArray(C)&&(S[0][v]=d(C))}},62376:function(H,G,e){var g=e(24040),R=e(83292).hover;H.exports=function(C,S,v){var d=g.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&R(C,S,v,!0);function r(){C.emit("plotly_click",{points:C._hoverdata,event:S})}C._hoverdata&&S&&S.target&&(d&&d.then?d.then(r):r(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},92456:function(H){H.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(H,G,e){var g=e(3400),R=e(55756),a=e(16132);H.exports=function(S,v,d,r){function t(n,f){return g.coerce(S,v,R,n,f)}var i=g.extendFlat({},r.hoverlabel);v.hovertemplate&&(i.namelength=-1),a(S,v,t,i)}},10624:function(H,G,e){var g=e(3400);G.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},G.isTraceInSubplots=function(d,r){if(d.type==="splom"){for(var t=d.xaxes||[],i=d.yaxes||[],n=0;n<t.length;n++)for(var f=0;f<i.length;f++)if(r.indexOf(t[n]+i[f])!==-1)return!0;return!1}return r.indexOf(G.getSubplot(d))!==-1},G.flat=function(d,r){for(var t=new Array(d.length),i=0;i<d.length;i++)t[i]=r;return t},G.p2c=function(d,r){for(var t=new Array(d.length),i=0;i<d.length;i++)t[i]=d[i].p2c(r);return t},G.getDistanceFunction=function(d,r,t,i){return d==="closest"?i||G.quadrature(r,t):d.charAt(0)==="x"?r:t},G.getClosest=function(d,r,t){if(t.index!==!1)t.index>=0&&t.index<d.length?t.distance=0:t.index=!1;else for(var i=0;i<d.length;i++){var n=r(d[i]);n<=t.distance&&(t.index=i,t.distance=n)}return t},G.inbox=function(d,r,t){return d*r<0||d===0?t:1/0},G.quadrature=function(d,r){return function(t){var i=d(t),n=r(t);return Math.sqrt(i*i+n*n)}},G.makeEventData=function(d,r,t){var i="index"in d?d.index:d.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var f=r._indexToPoints[i];f.length===1?n.pointIndex=f[0]:n.pointIndices=f}else n.pointIndex=i;return r._module.eventData?n=r._module.eventData(n,d,r,t,i):("xVal"in d?n.x=d.xVal:"x"in d&&(n.x=d.x),"yVal"in d?n.y=d.yVal:"y"in d&&(n.y=d.y),d.xa&&(n.xaxis=d.xa),d.ya&&(n.yaxis=d.ya),d.zLabelVal!==void 0&&(n.z=d.zLabelVal)),G.appendArrayPointValue(n,r,i),n},G.appendArrayPointValue=function(d,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var f=i[n],u=a(f);if(d[u]===void 0){var l=g.nestedProperty(r,f).get(),m=C(l,t);m!==void 0&&(d[u]=m)}}},G.appendArrayMultiPointValues=function(d,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var f=i[n],u=a(f);if(d[u]===void 0){for(var l=g.nestedProperty(r,f).get(),m=new Array(t.length),c=0;c<t.length;c++)m[c]=C(l,t[c]);d[u]=m}}};var R={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(d){return R[d]||d}function C(d,r){if(Array.isArray(r)){if(Array.isArray(d)&&Array.isArray(d[r[0]]))return d[r[0]][r[1]]}else return d[r]}var S={x:!0,y:!0},v={"x unified":!0,"y unified":!0};G.isUnifiedHover=function(d){return typeof d!="string"?!1:!!v[d]},G.isXYhover=function(d){return typeof d!="string"?!1:!!S[d]}},83292:function(H,G,e){var g=e(33428),R=e(38248),a=e(49760),C=e(3400),S=C.pushUnique,v=C.strTranslate,d=C.strRotate,r=e(95924),t=e(72736),i=e(72213),n=e(43616),f=e(76308),u=e(86476),l=e(54460),m=e(24040),c=e(10624),A=e(92456),h=e(77864),o=e(31140),p=A.YANGLE,b=Math.PI*p/180,T=1/Math.sin(b),P=Math.cos(b),x=Math.sin(b),L=A.HOVERARROWSIZE,M=A.HOVERTEXTPAD,s={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function w(K,$){return K.distance-$.distance}G.hover=function($,le,ae,he){$=C.getGraphDiv($);var xe=le.target;C.throttle($._fullLayout._uid+A.HOVERID,A.HOVERMINTIME,function(){O($,le,ae,he,xe)})},G.loneHover=function($,le){var ae=!0;Array.isArray($)||(ae=!1,$=[$]);var he=le.gd,xe=Y(he),Me=oe(he),Ae=$.map(function(He){var st=He._x0||He.x0||He.x||0,vt=He._x1||He.x1||He.x||0,lt=He._y0||He.y0||He.y||0,et=He._y1||He.y1||He.y||0,ct=He.eventData;if(ct){var ht=Math.min(st,vt),mt=Math.max(st,vt),xt=Math.min(lt,et),Mt=Math.max(lt,et),tt=He.trace;if(m.traceIs(tt,"gl3d")){var Oe=he._fullLayout[tt.scene]._scene.container,Ye=Oe.offsetLeft,Ze=Oe.offsetTop;ht+=Ye,mt+=Ye,xt+=Ze,Mt+=Ze}ct.bbox={x0:ht+Me,x1:mt+Me,y0:xt+xe,y1:Mt+xe},le.inOut_bbox&&le.inOut_bbox.push(ct.bbox)}else ct=!1;return{color:He.color||f.defaultLine,x0:He.x0||He.x||0,x1:He.x1||He.x||0,y0:He.y0||He.y||0,y1:He.y1||He.y||0,xLabel:He.xLabel,yLabel:He.yLabel,zLabel:He.zLabel,text:He.text,name:He.name,idealAlign:He.idealAlign,borderColor:He.borderColor,fontFamily:He.fontFamily,fontSize:He.fontSize,fontColor:He.fontColor,fontWeight:He.fontWeight,fontStyle:He.fontStyle,fontVariant:He.fontVariant,nameLength:He.nameLength,textAlign:He.textAlign,trace:He.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:He.hovertemplate||!1,hovertemplateLabels:He.hovertemplateLabels||!1,eventData:ct}}),ke=!1,we=z(Ae,{gd:he,hovermode:"closest",rotateLabels:ke,bgColor:le.bgColor||f.background,container:g.select(le.container),outerContainer:le.outerContainer||le.container}),Ee=we.hoverLabels,be=5,Le=0,Ue=0;Ee.sort(function(He,st){return He.y0-st.y0}).each(function(He,st){var vt=He.y0-He.by/2;vt-be<Le?He.offset=Le-vt+be:He.offset=0,Le=vt+He.by+He.offset,st===le.anchorIndex&&(Ue=He.offset)}).each(function(He){He.offset-=Ue});var Ve=he._fullLayout._invScaleX,Fe=he._fullLayout._invScaleY;return X(Ee,ke,Ve,Fe),ae?Ee:Ee.node()};function O(K,$,le,ae,he){le||(le="xy");var xe=Array.isArray(le)?le:[le],Me,Ae=K._fullLayout,ke=Ae.hoversubplots,we=Ae._plots||[],Ee=we[le],be=Ae._has("cartesian"),Le=$.hovermode||Ae.hovermode,Ue=(Le||"").charAt(0)==="x",Ve=(Le||"").charAt(0)==="y",Fe,He;if(be&&(Ue||Ve)&&ke==="axis"){for(var st=xe.length,vt=0;vt<st;vt++)if(Me=xe[vt],we[Me]){Fe=l.getFromId(K,Me,"x"),He=l.getFromId(K,Me,"y");var lt=(Ue?Fe:He)._subplotsWith;if(lt&&lt.length)for(var et=0;et<lt.length;et++)S(xe,lt[et])}}if(Ee&&ke!=="single"){var ct=Ee.overlays.map(function(Hn){return Hn.id});xe=xe.concat(ct)}for(var ht=xe.length,mt=new Array(ht),xt=new Array(ht),Mt=!1,tt=0;tt<ht;tt++)if(Me=xe[tt],we[Me])Mt=!0,mt[tt]=we[Me].xaxis,xt[tt]=we[Me].yaxis;else if(Ae[Me]&&Ae[Me]._subplot){var Oe=Ae[Me]._subplot;mt[tt]=Oe.xaxis,xt[tt]=Oe.yaxis}else{C.warn("Unrecognized subplot: "+Me);return}if(Le&&!Mt&&(Le="closest"),["x","y","closest","x unified","y unified"].indexOf(Le)===-1||!K.calcdata||K.querySelector(".zoombox")||K._dragging)return u.unhoverRaw(K,$);var Ye=Ae.hoverdistance;Ye===-1&&(Ye=1/0);var Ze=Ae.spikedistance;Ze===-1&&(Ze=1/0);var We=[],_e=[],Ie,Xe,De,de,Te,Be,Qe,at,it,Wt,Yt,Tt,Lt,Xt={hLinePoint:null,vLinePoint:null},Tr=!1;if(Array.isArray($))for(Le="array",De=0;De<$.length;De++)Te=K.calcdata[$[De].curveNumber||0],Te&&(Be=Te[0].trace,Te[0].trace.hoverinfo!=="skip"&&(_e.push(Te),Be.orientation==="h"&&(Tr=!0)));else{var gt=K.calcdata.slice();for(gt.sort(function(Hn,mr){var $r=Hn[0].trace.zorder||0,Qr=mr[0].trace.zorder||0;return $r-Qr}),de=0;de<gt.length;de++)Te=gt[de],Be=Te[0].trace,Be.hoverinfo!=="skip"&&c.isTraceInSubplots(Be,xe)&&(_e.push(Te),Be.orientation==="h"&&(Tr=!0));var Kt=!he,Qt,yr;if(Kt)"xpx"in $?Qt=$.xpx:Qt=mt[0]._length/2,"ypx"in $?yr=$.ypx:yr=xt[0]._length/2;else{if(r.triggerHandler(K,"plotly_beforehover",$)===!1)return;var fr=he.getBoundingClientRect();Qt=$.clientX-fr.left,yr=$.clientY-fr.top,Ae._calcInverseTransform(K);var yt=C.apply3DTransform(Ae._invTransform)(Qt,yr);if(Qt=yt[0],yr=yt[1],Qt<0||Qt>mt[0]._length||yr<0||yr>xt[0]._length)return u.unhoverRaw(K,$)}if($.pointerX=Qt+mt[0]._offset,$.pointerY=yr+xt[0]._offset,"xval"in $?Ie=c.flat(xe,$.xval):Ie=c.p2c(mt,Qt),"yval"in $?Xe=c.flat(xe,$.yval):Xe=c.p2c(xt,yr),!R(Ie[0])||!R(Xe[0]))return C.warn("Fx.hover failed",$,K),u.unhoverRaw(K,$)}var ot=1/0;function bt(Hn,mr){for(de=0;de<_e.length;de++)if(Te=_e[de],!(!Te||!Te[0]||!Te[0].trace)&&(Be=Te[0].trace,!(Be.visible!==!0||Be._length===0)&&["carpet","contourcarpet"].indexOf(Be._module.name)===-1)){if(it=Le,c.isUnifiedHover(it)&&(it=it.charAt(0)),Be.type==="splom"?(at=0,Qe=xe[at]):(Qe=c.getSubplot(Be),at=xe.indexOf(Qe)),Tt={cd:Te,trace:Be,xa:mt[at],ya:xt[at],maxHoverDistance:Ye,maxSpikeDistance:Ze,index:!1,distance:Math.min(ot,Ye),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:Be.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ae[Qe]&&(Tt.subplot=Ae[Qe]._subplot),Ae._splomScenes&&Ae._splomScenes[Be.uid]&&(Tt.scene=Ae._splomScenes[Be.uid]),it==="array"){var $r=$[de];"pointNumber"in $r?(Tt.index=$r.pointNumber,it="closest"):(it="","xval"in $r&&(Wt=$r.xval,it="x"),"yval"in $r&&(Yt=$r.yval,it=it?"closest":"y"))}else Hn!==void 0&&mr!==void 0?(Wt=Hn,Yt=mr):(Wt=Ie[at],Yt=Xe[at]);if(Lt=We.length,Ye!==0)if(Be._module&&Be._module.hoverPoints){var Qr=Be._module.hoverPoints(Tt,Wt,Yt,it,{finiteRange:!0,hoverLayer:Ae._hoverlayer,hoversubplots:ke,gd:K});if(Qr)for(var vn,zn=0;zn<Qr.length;zn++)vn=Qr[zn],R(vn.x0)&&R(vn.y0)&&We.push(q(vn,Le))}else C.log("Unrecognized trace type in hover:",Be);if(Le==="closest"&&We.length>Lt&&(We.splice(0,Lt),ot=We[0].distance),be&&Ze!==0&&We.length===0){Tt.distance=Ze,Tt.index=!1;var bn=Be._module.hoverPoints(Tt,Wt,Yt,"closest",{hoverLayer:Ae._hoverlayer});if(bn&&(bn=bn.filter(function(Sr){return Sr.spikeDistance<=Ze})),bn&&bn.length){var wn,Bn=bn.filter(function(Sr){return Sr.xa.showspikes&&Sr.xa.spikesnap!=="hovered data"});if(Bn.length){var $n=Bn[0];R($n.x0)&&R($n.y0)&&(wn=Dt($n),(!Xt.vLinePoint||Xt.vLinePoint.spikeDistance>wn.spikeDistance)&&(Xt.vLinePoint=wn))}var pa=bn.filter(function(Sr){return Sr.ya.showspikes&&Sr.ya.spikesnap!=="hovered data"});if(pa.length){var Oa=pa[0];R(Oa.x0)&&R(Oa.y0)&&(wn=Dt(Oa),(!Xt.hLinePoint||Xt.hLinePoint.spikeDistance>wn.spikeDistance)&&(Xt.hLinePoint=wn))}}}}}bt();function Et(Hn,mr,$r){for(var Qr=null,vn=1/0,zn,bn=0;bn<Hn.length;bn++)Fe&&Fe._id!==Hn[bn].xa._id||He&&He._id!==Hn[bn].ya._id||(zn=Hn[bn].spikeDistance,$r&&bn===0&&(zn=-1/0),zn<=vn&&zn<=mr&&(Qr=Hn[bn],vn=zn));return Qr}function Dt(Hn){return Hn?{xa:Hn.xa,ya:Hn.ya,x:Hn.xSpike!==void 0?Hn.xSpike:(Hn.x0+Hn.x1)/2,y:Hn.ySpike!==void 0?Hn.ySpike:(Hn.y0+Hn.y1)/2,distance:Hn.distance,spikeDistance:Hn.spikeDistance,curveNumber:Hn.trace.index,color:Hn.color,pointNumber:Hn.index}:null}var Ht={fullLayout:Ae,container:Ae._hoverlayer,event:$},Bt=K._spikepoints,Nt={vLinePoint:Xt.vLinePoint,hLinePoint:Xt.hLinePoint};K._spikepoints=Nt;var Jt=function(){var Hn=We.filter(function($r){return Fe&&Fe._id===$r.xa._id&&He&&He._id===$r.ya._id}),mr=We.filter(function($r){return!(Fe&&Fe._id===$r.xa._id&&He&&He._id===$r.ya._id)});Hn.sort(w),mr.sort(w),We=Hn.concat(mr),We=Z(We,Le)};Jt();var hr=Le.charAt(0),Zt=(hr==="x"||hr==="y")&&We[0]&&E[We[0].trace.type];if(be&&Ze!==0&&We.length!==0){var dr=We.filter(function(Hn){return Hn.ya.showspikes}),je=Et(dr,Ze,Zt);Xt.hLinePoint=Dt(je);var Ge=We.filter(function(Hn){return Hn.xa.showspikes}),Ot=Et(Ge,Ze,Zt);Xt.vLinePoint=Dt(Ot)}if(We.length===0){var kt=u.unhoverRaw(K,$);return be&&(Xt.hLinePoint!==null||Xt.vLinePoint!==null)&&ce(Bt)&&te(K,Xt,Ht),kt}if(be&&ce(Bt)&&te(K,Xt,Ht),c.isXYhover(it)&&We[0].length!==0&&We[0].trace.type!=="splom"){var $t=We[0];s[$t.trace.type]?We=We.filter(function(Hn){return Hn.trace.index===$t.trace.index}):We=[$t];var ar=We.length,or=re("x",$t,Ae),rr=re("y",$t,Ae);bt(or,rr);var zt=[],vr={},gr=0,Ar=function(Hn){var mr=s[Hn.trace.type]?_(Hn):Hn.trace.index;if(!vr[mr])gr++,vr[mr]=gr,zt.push(Hn);else{var $r=vr[mr]-1,Qr=zt[$r];$r>0&&Math.abs(Hn.distance)<Math.abs(Qr.distance)&&(zt[$r]=Hn)}},cr;for(cr=0;cr<ar;cr++)Ar(We[cr]);for(cr=We.length-1;cr>ar-1;cr--)Ar(We[cr]);We=zt,Jt()}var Hr=K._hoverdata,Rr=[],Ir=Y(K),cn=oe(K);for(De=0;De<We.length;De++){var Zr=We[De],An=c.makeEventData(Zr,Zr.trace,Zr.cd);if(Zr.hovertemplate!==!1){var Sn=!1;Zr.cd[Zr.index]&&Zr.cd[Zr.index].ht&&(Sn=Zr.cd[Zr.index].ht),Zr.hovertemplate=Sn||Zr.trace.hovertemplate||!1}if(Zr.xa&&Zr.ya){var br=Zr.x0+Zr.xa._offset,Or=Zr.x1+Zr.xa._offset,jr=Zr.y0+Zr.ya._offset,zr=Zr.y1+Zr.ya._offset,pn=Math.min(br,Or),hn=Math.max(br,Or),Ln=Math.min(jr,zr),Rn=Math.max(jr,zr);An.bbox={x0:pn+cn,x1:hn+cn,y0:Ln+Ir,y1:Rn+Ir}}Zr.eventData=[An],Rr.push(An)}K._hoverdata=Rr;var Gn=Le==="y"&&(_e.length>1||We.length>1)||Le==="closest"&&Tr&&We.length>1,oa=f.combine(Ae.plot_bgcolor||f.background,Ae.paper_bgcolor),xa=z(We,{gd:K,hovermode:Le,rotateLabels:Gn,bgColor:oa,container:Ae._hoverlayer,outerContainer:Ae._paper.node(),commonLabelOpts:Ae.hoverlabel,hoverdistance:Ae.hoverdistance}),Ta=xa.hoverLabels;if(c.isUnifiedHover(Le)||(B(Ta,Gn,Ae,xa.commonLabelBoundingBox),X(Ta,Gn,Ae._invScaleX,Ae._invScaleY)),he&&he.tagName){var da=m.getComponentMethod("annotations","hasClickToShow")(K,Rr);i(g.select(he),da?"pointer":"")}!he||ae||!ne(K,$,Hr)||(Hr&&K.emit("plotly_unhover",{event:$,points:Hr}),K.emit("plotly_hover",{event:$,points:K._hoverdata,xaxes:mt,yaxes:xt,xvals:Ie,yvals:Xe}))}function _(K){return[K.trace.index,K.index,K.x0,K.y0,K.name,K.attr,K.xa?K.xa._id:"",K.ya?K.ya._id:""].join(",")}var U=/<extra>([\s\S]*)<\/extra>/;function z(K,$){var le=$.gd,ae=le._fullLayout,he=$.hovermode,xe=$.rotateLabels,Me=$.bgColor,Ae=$.container,ke=$.outerContainer,we=$.commonLabelOpts||{};if(K.length===0)return[[]];var Ee=$.fontFamily||A.HOVERFONT,be=$.fontSize||A.HOVERFONTSIZE,Le=$.fontWeight||ae.font.weight,Ue=$.fontStyle||ae.font.style,Ve=$.fontVariant||ae.font.variant,Fe=K[0],He=Fe.xa,st=Fe.ya,vt=he.charAt(0),lt=vt+"Label",et=Fe[lt];if(et===void 0&&He.type==="multicategory")for(var ct=0;ct<K.length&&(et=K[ct][lt],et===void 0);ct++);var ht=ue(le,ke),mt=ht.top,xt=ht.width,Mt=ht.height,tt=et!==void 0&&Fe.distance<=$.hoverdistance&&(he==="x"||he==="y");if(tt){var Oe=!0,Ye,Ze;for(Ye=0;Ye<K.length;Ye++)if(Oe&&K[Ye].zLabel===void 0&&(Oe=!1),Ze=K[Ye].hoverinfo||K[Ye].trace.hoverinfo,Ze){var We=Array.isArray(Ze)?Ze:Ze.split("+");if(We.indexOf("all")===-1&&We.indexOf(he)===-1){tt=!1;break}}Oe&&(tt=!1)}var _e=Ae.selectAll("g.axistext").data(tt?[0]:[]);_e.enter().append("g").classed("axistext",!0),_e.exit().remove();var Ie={minX:0,maxX:0,minY:0,maxY:0};if(_e.each(function(){var Zt=g.select(this),dr=C.ensureSingle(Zt,"path","",function(br){br.style({"stroke-width":"1px"})}),je=C.ensureSingle(Zt,"text","",function(br){br.attr("data-notex",1)}),Ge=we.bgcolor||f.defaultLine,Ot=we.bordercolor||f.contrast(Ge),kt=f.contrast(Ge),$t={weight:we.font.weight||Le,style:we.font.style||Ue,variant:we.font.variant||Ve,family:we.font.family||Ee,size:we.font.size||be,color:we.font.color||kt};dr.style({fill:Ge,stroke:Ot}),je.text(et).call(n.font,$t).call(t.positionText,0,0).call(t.convertToTspans,le),Zt.attr("transform","");var ar=ue(le,je.node()),or,rr;if(he==="x"){var zt=He.side==="top"?"-":"";je.attr("text-anchor","middle").call(t.positionText,0,He.side==="top"?mt-ar.bottom-L-M:mt-ar.top+L+M),or=He._offset+(Fe.x0+Fe.x1)/2,rr=st._offset+(He.side==="top"?0:st._length);var vr=ar.width/2+M,gr=or;or<vr?gr=vr:or>ae.width-vr&&(gr=ae.width-vr),dr.attr("d","M"+(or-gr)+",0L"+(or-gr+L)+","+zt+L+"H"+vr+"v"+zt+(M*2+ar.height)+"H"+-vr+"V"+zt+L+"H"+(or-gr-L)+"Z"),or=gr,Ie.minX=or-vr,Ie.maxX=or+vr,He.side==="top"?(Ie.minY=rr-(M*2+ar.height),Ie.maxY=rr-M):(Ie.minY=rr+M,Ie.maxY=rr+(M*2+ar.height))}else{var Ar,cr,Hr;st.side==="right"?(Ar="start",cr=1,Hr="",or=He._offset+He._length):(Ar="end",cr=-1,Hr="-",or=He._offset),rr=st._offset+(Fe.y0+Fe.y1)/2,je.attr("text-anchor",Ar),dr.attr("d","M0,0L"+Hr+L+","+L+"V"+(M+ar.height/2)+"h"+Hr+(M*2+ar.width)+"V-"+(M+ar.height/2)+"H"+Hr+L+"V-"+L+"Z"),Ie.minY=rr-(M+ar.height/2),Ie.maxY=rr+(M+ar.height/2),st.side==="right"?(Ie.minX=or+L,Ie.maxX=or+L+(M*2+ar.width)):(Ie.minX=or-L-(M*2+ar.width),Ie.maxX=or-L);var Rr=ar.height/2,Ir=mt-ar.top-Rr,cn="clip"+ae._uid+"commonlabel"+st._id,Zr;if(or<ar.width+2*M+L){Zr="M-"+(L+M)+"-"+Rr+"h-"+(ar.width-M)+"V"+Rr+"h"+(ar.width-M)+"Z";var An=ar.width-or+M;t.positionText(je,An,Ir),Ar==="end"&&je.selectAll("tspan").each(function(){var br=g.select(this),Or=n.tester.append("text").text(br.text()).call(n.font,$t),jr=ue(le,Or.node());Math.round(jr.width)<Math.round(ar.width)&&br.attr("x",An-jr.width),Or.remove()})}else t.positionText(je,cr*(M+L),Ir),Zr=null;var Sn=ae._topclips.selectAll("#"+cn).data(Zr?[0]:[]);Sn.enter().append("clipPath").attr("id",cn).append("path"),Sn.exit().remove(),Sn.select("path").attr("d",Zr),n.setClipUrl(je,Zr?cn:null,le)}Zt.attr("transform",v(or,rr))}),c.isUnifiedHover(he)){Ae.selectAll("g.hovertext").remove();var Xe=K.filter(function(Zt){return Zt.hoverinfo!=="none"});if(Xe.length===0)return[];var De=ae.hoverlabel,de=De.font,Te={showlegend:!0,legend:{title:{text:et,font:de},font:de,bgcolor:De.bgcolor,bordercolor:De.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ae.legend?ae.legend.traceorder:void 0,orientation:"v"}},Be={font:de};h(Te,Be,le._fullData);var Qe=Be.legend;Qe.entries=[];for(var at=0;at<Xe.length;at++){var it=Xe[at];if(it.hoverinfo!=="none"){var Wt=F(it,!0,he,ae,et),Yt=Wt[0],Tt=Wt[1];it.name=Tt,Tt!==""?it.text=Tt+" : "+Yt:it.text=Yt;var Lt=it.cd[it.index];Lt&&(Lt.mc&&(it.mc=Lt.mc),Lt.mcc&&(it.mc=Lt.mcc),Lt.mlc&&(it.mlc=Lt.mlc),Lt.mlcc&&(it.mlc=Lt.mlcc),Lt.mlw&&(it.mlw=Lt.mlw),Lt.mrc&&(it.mrc=Lt.mrc),Lt.dir&&(it.dir=Lt.dir)),it._distinct=!0,Qe.entries.push([it])}}Qe.entries.sort(function(Zt,dr){return Zt[0].trace.index-dr[0].trace.index}),Qe.layer=Ae,Qe._inHover=!0,Qe._groupTitleFont=De.grouptitlefont,o(le,Qe);var Xt=Ae.select("g.legend"),Tr=ue(le,Xt.node()),gt=Tr.width+2*M,Kt=Tr.height+2*M,Qt=Xe[0],yr=(Qt.x0+Qt.x1)/2,fr=(Qt.y0+Qt.y1)/2,yt=!(m.traceIs(Qt.trace,"bar-like")||m.traceIs(Qt.trace,"box-violin")),ot,bt;vt==="y"?yt?(bt=fr-M,ot=fr+M):(bt=Math.min.apply(null,Xe.map(function(Zt){return Math.min(Zt.y0,Zt.y1)})),ot=Math.max.apply(null,Xe.map(function(Zt){return Math.max(Zt.y0,Zt.y1)}))):bt=ot=C.mean(Xe.map(function(Zt){return(Zt.y0+Zt.y1)/2}))-Kt/2;var Et,Dt;vt==="x"?yt?(Et=yr+M,Dt=yr-M):(Et=Math.max.apply(null,Xe.map(function(Zt){return Math.max(Zt.x0,Zt.x1)})),Dt=Math.min.apply(null,Xe.map(function(Zt){return Math.min(Zt.x0,Zt.x1)}))):Et=Dt=C.mean(Xe.map(function(Zt){return(Zt.x0+Zt.x1)/2}))-gt/2;var Ht=He._offset,Bt=st._offset;ot+=Bt,Et+=Ht,Dt+=Ht-gt,bt+=Bt-Kt;var Nt,Jt;return Et+gt<xt&&Et>=0?Nt=Et:Dt+gt<xt&&Dt>=0?Nt=Dt:Ht+gt<xt?Nt=Ht:Et-yr<yr-Dt+gt?Nt=xt-gt:Nt=0,Nt+=M,ot+Kt<Mt&&ot>=0?Jt=ot:bt+Kt<Mt&&bt>=0?Jt=bt:Bt+Kt<Mt?Jt=Bt:ot-fr<fr-bt+Kt?Jt=Mt-Kt:Jt=0,Jt+=M,Xt.attr("transform",v(Nt-1,Jt-1)),Xt}var hr=Ae.selectAll("g.hovertext").data(K,function(Zt){return _(Zt)});return hr.enter().append("g").classed("hovertext",!0).each(function(){var Zt=g.select(this);Zt.append("rect").call(f.fill,f.addOpacity(Me,.8)),Zt.append("text").classed("name",!0),Zt.append("path").style("stroke-width","1px"),Zt.append("text").classed("nums",!0).call(n.font,{weight:Le,style:Ue,variant:Ve,family:Ee,size:be})}),hr.exit().remove(),hr.each(function(Zt){var dr=g.select(this).attr("transform",""),je=Zt.color;Array.isArray(je)&&(je=je[Zt.eventData[0].pointNumber]);var Ge=Zt.bgcolor||je,Ot=f.combine(f.opacity(Ge)?Ge:f.defaultLine,Me),kt=f.combine(f.opacity(je)?je:f.defaultLine,Me),$t=Zt.borderColor||f.contrast(Ot),ar=F(Zt,tt,he,ae,et,dr),or=ar[0],rr=ar[1],zt=dr.select("text.nums").call(n.font,{family:Zt.fontFamily||Ee,size:Zt.fontSize||be,color:Zt.fontColor||$t,weight:Zt.fontWeight||Le,style:Zt.fontStyle||Ue,variant:Zt.fontVariant||Ve}).text(or).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,le),vr=dr.select("text.name"),gr=0,Ar=0;if(rr&&rr!==or){vr.call(n.font,{family:Zt.fontFamily||Ee,size:Zt.fontSize||be,color:kt,weight:Zt.fontWeight||Le,style:Zt.fontStyle||Ue,variant:Zt.fontVariant||Ve}).text(rr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,le);var cr=ue(le,vr.node());gr=cr.width+2*M,Ar=cr.height+2*M}else vr.remove(),dr.select("rect").remove();dr.select("path").style({fill:Ot,stroke:$t});var Hr=Zt.xa._offset+(Zt.x0+Zt.x1)/2,Rr=Zt.ya._offset+(Zt.y0+Zt.y1)/2,Ir=Math.abs(Zt.x1-Zt.x0),cn=Math.abs(Zt.y1-Zt.y0),Zr=ue(le,zt.node()),An=Zr.width/ae._invScaleX,Sn=Zr.height/ae._invScaleY;Zt.ty0=(mt-Zr.top)/ae._invScaleY,Zt.bx=An+2*M,Zt.by=Math.max(Sn+2*M,Ar),Zt.anchor="start",Zt.txwidth=An,Zt.tx2width=gr,Zt.offset=0;var br=(An+L+M+gr)*ae._invScaleX,Or,jr;if(xe)Zt.pos=Hr,Or=Rr+cn/2+br<=Mt,jr=Rr-cn/2-br>=0,(Zt.idealAlign==="top"||!Or)&&jr?(Rr-=cn/2,Zt.anchor="end"):Or?(Rr+=cn/2,Zt.anchor="start"):Zt.anchor="middle",Zt.crossPos=Rr;else{if(Zt.pos=Rr,Or=Hr+Ir/2+br<=xt,jr=Hr-Ir/2-br>=0,(Zt.idealAlign==="left"||!Or)&&jr)Hr-=Ir/2,Zt.anchor="end";else if(Or)Hr+=Ir/2,Zt.anchor="start";else{Zt.anchor="middle";var zr=br/2,pn=Hr+zr-xt,hn=Hr-zr;pn>0&&(Hr-=pn),hn<0&&(Hr+=-hn)}Zt.crossPos=Hr}zt.attr("text-anchor",Zt.anchor),gr&&vr.attr("text-anchor",Zt.anchor),dr.attr("transform",v(Hr,Rr)+(xe?d(p):""))}),{hoverLabels:hr,commonLabelBoundingBox:Ie}}function F(K,$,le,ae,he,xe){var Me="",Ae="";K.nameOverride!==void 0&&(K.name=K.nameOverride),K.name&&(K.trace._meta&&(K.name=C.templateString(K.name,K.trace._meta)),Me=Q(K.name,K.nameLength));var ke=le.charAt(0),we=ke==="x"?"y":"x";K.zLabel!==void 0?(K.xLabel!==void 0&&(Ae+="x: "+K.xLabel+"<br>"),K.yLabel!==void 0&&(Ae+="y: "+K.yLabel+"<br>"),K.trace.type!=="choropleth"&&K.trace.type!=="choroplethmapbox"&&(Ae+=(Ae?"z: ":"")+K.zLabel)):$&&K[ke+"Label"]===he?Ae=K[we+"Label"]||"":K.xLabel===void 0?K.yLabel!==void 0&&K.trace.type!=="scattercarpet"&&(Ae=K.yLabel):K.yLabel===void 0?Ae=K.xLabel:Ae="("+K.xLabel+", "+K.yLabel+")",(K.text||K.text===0)&&!Array.isArray(K.text)&&(Ae+=(Ae?"<br>":"")+K.text),K.extraText!==void 0&&(Ae+=(Ae?"<br>":"")+K.extraText),xe&&Ae===""&&!K.hovertemplate&&(Me===""&&xe.remove(),Ae=Me);var Ee=K.hovertemplate||!1;if(Ee){var be=K.hovertemplateLabels||K;K[ke+"Label"]!==he&&(be[ke+"other"]=be[ke+"Val"],be[ke+"otherLabel"]=be[ke+"Label"]),Ae=C.hovertemplateString(Ee,be,ae._d3locale,K.eventData[0]||{},K.trace._meta),Ae=Ae.replace(U,function(Le,Ue){return Me=Q(Ue,K.nameLength),""})}return[Ae,Me]}function B(K,$,le,ae){var he=$?"xa":"ya",xe=$?"ya":"xa",Me=0,Ae=1,ke=K.size(),we=new Array(ke),Ee=0,be=ae.minX,Le=ae.maxX,Ue=ae.minY,Ve=ae.maxY,Fe=function(Ie){return Ie*le._invScaleX},He=function(Ie){return Ie*le._invScaleY};K.each(function(Ie){var Xe=Ie[he],De=Ie[xe],de=Xe._id.charAt(0)==="x",Te=Xe.range;Ee===0&&Te&&Te[0]>Te[1]!==de&&(Ae=-1);var Be=0,Qe=de?le.width:le.height;if(le.hovermode==="x"||le.hovermode==="y"){var at=N(Ie,$),it=Ie.anchor,Wt=it==="end"?-1:1,Yt,Tt;if(it==="middle")Yt=Ie.crossPos+(de?He(at.y-Ie.by/2):Fe(Ie.bx/2+Ie.tx2width/2)),Tt=Yt+(de?He(Ie.by):Fe(Ie.bx));else if(de)Yt=Ie.crossPos+He(L+at.y)-He(Ie.by/2-L),Tt=Yt+He(Ie.by);else{var Lt=Fe(Wt*L+at.x),Xt=Lt+Fe(Wt*Ie.bx);Yt=Ie.crossPos+Math.min(Lt,Xt),Tt=Ie.crossPos+Math.max(Lt,Xt)}de?Ue!==void 0&&Ve!==void 0&&Math.min(Tt,Ve)-Math.max(Yt,Ue)>1&&(De.side==="left"?(Be=De._mainLinePosition,Qe=le.width):Qe=De._mainLinePosition):be!==void 0&&Le!==void 0&&Math.min(Tt,Le)-Math.max(Yt,be)>1&&(De.side==="top"?(Be=De._mainLinePosition,Qe=le.height):Qe=De._mainLinePosition)}we[Ee++]=[{datum:Ie,traceIndex:Ie.trace.index,dp:0,pos:Ie.pos,posref:Ie.posref,size:Ie.by*(de?T:1)/2,pmin:Be,pmax:Qe}]}),we.sort(function(Ie,Xe){return Ie[0].posref-Xe[0].posref||Ae*(Xe[0].traceIndex-Ie[0].traceIndex)});var st,vt,lt,et,ct,ht,mt;function xt(Ie){var Xe=Ie[0],De=Ie[Ie.length-1];if(vt=Xe.pmin-Xe.pos-Xe.dp+Xe.size,lt=De.pos+De.dp+De.size-Xe.pmax,vt>.01){for(ct=Ie.length-1;ct>=0;ct--)Ie[ct].dp+=vt;st=!1}if(!(lt<.01)){if(vt<-.01){for(ct=Ie.length-1;ct>=0;ct--)Ie[ct].dp-=lt;st=!1}if(st){var de=0;for(et=0;et<Ie.length;et++)ht=Ie[et],ht.pos+ht.dp+ht.size>Xe.pmax&&de++;for(et=Ie.length-1;et>=0&&!(de<=0);et--)ht=Ie[et],ht.pos>Xe.pmax-1&&(ht.del=!0,de--);for(et=0;et<Ie.length&&!(de<=0);et++)if(ht=Ie[et],ht.pos<Xe.pmin+1)for(ht.del=!0,de--,lt=ht.size*2,ct=Ie.length-1;ct>=0;ct--)Ie[ct].dp-=lt;for(et=Ie.length-1;et>=0&&!(de<=0);et--)ht=Ie[et],ht.pos+ht.dp+ht.size>Xe.pmax&&(ht.del=!0,de--)}}}for(;!st&&Me<=ke;){for(Me++,st=!0,et=0;et<we.length-1;){var Mt=we[et],tt=we[et+1],Oe=Mt[Mt.length-1],Ye=tt[0];if(vt=Oe.pos+Oe.dp+Oe.size-Ye.pos-Ye.dp+Ye.size,vt>.01&&Oe.pmin===Ye.pmin&&Oe.pmax===Ye.pmax){for(ct=tt.length-1;ct>=0;ct--)tt[ct].dp+=vt;for(Mt.push.apply(Mt,tt),we.splice(et+1,1),mt=0,ct=Mt.length-1;ct>=0;ct--)mt+=Mt[ct].dp;for(lt=mt/Mt.length,ct=Mt.length-1;ct>=0;ct--)Mt[ct].dp-=lt;st=!1}else et++}we.forEach(xt)}for(et=we.length-1;et>=0;et--){var Ze=we[et];for(ct=Ze.length-1;ct>=0;ct--){var We=Ze[ct],_e=We.datum;_e.offset=We.dp,_e.del=We.del}}}function N(K,$){var le=0,ae=K.offset;return $&&(ae*=-x,le=K.offset*P),{x:le,y:ae}}function V(K){var $={start:1,end:-1,middle:0}[K.anchor],le=$*(L+M),ae=le+$*(K.txwidth+M),he=K.anchor==="middle";return he&&(le-=K.tx2width/2,ae+=K.txwidth/2+M),{alignShift:$,textShiftX:le,text2ShiftX:ae}}function X(K,$,le,ae){var he=function(Me){return Me*le},xe=function(Me){return Me*ae};K.each(function(Me){var Ae=g.select(this);if(Me.del)return Ae.remove();var ke=Ae.select("text.nums"),we=Me.anchor,Ee=we==="end"?-1:1,be=V(Me),Le=N(Me,$),Ue=Le.x,Ve=Le.y,Fe=we==="middle";Ae.select("path").attr("d",Fe?"M-"+he(Me.bx/2+Me.tx2width/2)+","+xe(Ve-Me.by/2)+"h"+he(Me.bx)+"v"+xe(Me.by)+"h-"+he(Me.bx)+"Z":"M0,0L"+he(Ee*L+Ue)+","+xe(L+Ve)+"v"+xe(Me.by/2-L)+"h"+he(Ee*Me.bx)+"v-"+xe(Me.by)+"H"+he(Ee*L+Ue)+"V"+xe(Ve-L)+"Z");var He=Ue+be.textShiftX,st=Ve+Me.ty0-Me.by/2+M,vt=Me.textAlign||"auto";vt!=="auto"&&(vt==="left"&&we!=="start"?(ke.attr("text-anchor","start"),He=Fe?-Me.bx/2-Me.tx2width/2+M:-Me.bx-M):vt==="right"&&we!=="end"&&(ke.attr("text-anchor","end"),He=Fe?Me.bx/2-Me.tx2width/2-M:Me.bx+M)),ke.call(t.positionText,he(He),xe(st)),Me.tx2width&&(Ae.select("text.name").call(t.positionText,he(be.text2ShiftX+be.alignShift*M+Ue),xe(Ve+Me.ty0-Me.by/2+M)),Ae.select("rect").call(n.setRect,he(be.text2ShiftX+(be.alignShift-1)*Me.tx2width/2+Ue),xe(Ve-Me.by/2-1),he(Me.tx2width),xe(Me.by+2)))})}function q(K,$){var le=K.index,ae=K.trace||{},he=K.cd[0],xe=K.cd[le]||{};function Me(Le){return Le||R(Le)&&Le===0}var Ae=Array.isArray(le)?function(Le,Ue){var Ve=C.castOption(he,le,Le);return Me(Ve)?Ve:C.extractOption({},ae,"",Ue)}:function(Le,Ue){return C.extractOption(xe,ae,Le,Ue)};function ke(Le,Ue,Ve){var Fe=Ae(Ue,Ve);Me(Fe)&&(K[Le]=Fe)}if(ke("hoverinfo","hi","hoverinfo"),ke("bgcolor","hbg","hoverlabel.bgcolor"),ke("borderColor","hbc","hoverlabel.bordercolor"),ke("fontFamily","htf","hoverlabel.font.family"),ke("fontSize","hts","hoverlabel.font.size"),ke("fontColor","htc","hoverlabel.font.color"),ke("fontWeight","htw","hoverlabel.font.weight"),ke("fontStyle","hty","hoverlabel.font.style"),ke("fontVariant","htv","hoverlabel.font.variant"),ke("nameLength","hnl","hoverlabel.namelength"),ke("textAlign","hta","hoverlabel.align"),K.posref=$==="y"||$==="closest"&&ae.orientation==="h"?K.xa._offset+(K.x0+K.x1)/2:K.ya._offset+(K.y0+K.y1)/2,K.x0=C.constrain(K.x0,0,K.xa._length),K.x1=C.constrain(K.x1,0,K.xa._length),K.y0=C.constrain(K.y0,0,K.ya._length),K.y1=C.constrain(K.y1,0,K.ya._length),K.xLabelVal!==void 0&&(K.xLabel="xLabel"in K?K.xLabel:l.hoverLabelText(K.xa,K.xLabelVal,ae.xhoverformat),K.xVal=K.xa.c2d(K.xLabelVal)),K.yLabelVal!==void 0&&(K.yLabel="yLabel"in K?K.yLabel:l.hoverLabelText(K.ya,K.yLabelVal,ae.yhoverformat),K.yVal=K.ya.c2d(K.yLabelVal)),K.zLabelVal!==void 0&&K.zLabel===void 0&&(K.zLabel=String(K.zLabelVal)),!isNaN(K.xerr)&&!(K.xa.type==="log"&&K.xerr<=0)){var we=l.tickText(K.xa,K.xa.c2l(K.xerr),"hover").text;K.xerrneg!==void 0?K.xLabel+=" +"+we+" / -"+l.tickText(K.xa,K.xa.c2l(K.xerrneg),"hover").text:K.xLabel+="  "+we,$==="x"&&(K.distance+=1)}if(!isNaN(K.yerr)&&!(K.ya.type==="log"&&K.yerr<=0)){var Ee=l.tickText(K.ya,K.ya.c2l(K.yerr),"hover").text;K.yerrneg!==void 0?K.yLabel+=" +"+Ee+" / -"+l.tickText(K.ya,K.ya.c2l(K.yerrneg),"hover").text:K.yLabel+="  "+Ee,$==="y"&&(K.distance+=1)}var be=K.hoverinfo||K.trace.hoverinfo;return be&&be!=="all"&&(be=Array.isArray(be)?be:be.split("+"),be.indexOf("x")===-1&&(K.xLabel=void 0),be.indexOf("y")===-1&&(K.yLabel=void 0),be.indexOf("z")===-1&&(K.zLabel=void 0),be.indexOf("text")===-1&&(K.text=void 0),be.indexOf("name")===-1&&(K.name=void 0)),K}function te(K,$,le){var ae=le.container,he=le.fullLayout,xe=he._size,Me=le.event,Ae=!!$.hLinePoint,ke=!!$.vLinePoint,we,Ee;if(ae.selectAll(".spikeline").remove(),!!(ke||Ae)){var be=f.combine(he.plot_bgcolor,he.paper_bgcolor);if(Ae){var Le=$.hLinePoint,Ue,Ve;we=Le&&Le.xa,Ee=Le&&Le.ya;var Fe=Ee.spikesnap;Fe==="cursor"?(Ue=Me.pointerX,Ve=Me.pointerY):(Ue=we._offset+Le.x,Ve=Ee._offset+Le.y);var He=a.readability(Le.color,be)<1.5?f.contrast(be):Le.color,st=Ee.spikemode,vt=Ee.spikethickness,lt=Ee.spikecolor||He,et=l.getPxPosition(K,Ee),ct,ht;if(st.indexOf("toaxis")!==-1||st.indexOf("across")!==-1){if(st.indexOf("toaxis")!==-1&&(ct=et,ht=Ue),st.indexOf("across")!==-1){var mt=Ee._counterDomainMin,xt=Ee._counterDomainMax;Ee.anchor==="free"&&(mt=Math.min(mt,Ee.position),xt=Math.max(xt,Ee.position)),ct=xe.l+mt*xe.w,ht=xe.l+xt*xe.w}ae.insert("line",":first-child").attr({x1:ct,x2:ht,y1:Ve,y2:Ve,"stroke-width":vt,stroke:lt,"stroke-dasharray":n.dashStyle(Ee.spikedash,vt)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:ct,x2:ht,y1:Ve,y2:Ve,"stroke-width":vt+2,stroke:be}).classed("spikeline",!0).classed("crisp",!0)}st.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:et+(Ee.side!=="right"?vt:-vt),cy:Ve,r:vt,fill:lt}).classed("spikeline",!0)}if(ke){var Mt=$.vLinePoint,tt,Oe;we=Mt&&Mt.xa,Ee=Mt&&Mt.ya;var Ye=we.spikesnap;Ye==="cursor"?(tt=Me.pointerX,Oe=Me.pointerY):(tt=we._offset+Mt.x,Oe=Ee._offset+Mt.y);var Ze=a.readability(Mt.color,be)<1.5?f.contrast(be):Mt.color,We=we.spikemode,_e=we.spikethickness,Ie=we.spikecolor||Ze,Xe=l.getPxPosition(K,we),De,de;if(We.indexOf("toaxis")!==-1||We.indexOf("across")!==-1){if(We.indexOf("toaxis")!==-1&&(De=Xe,de=Oe),We.indexOf("across")!==-1){var Te=we._counterDomainMin,Be=we._counterDomainMax;we.anchor==="free"&&(Te=Math.min(Te,we.position),Be=Math.max(Be,we.position)),De=xe.t+(1-Be)*xe.h,de=xe.t+(1-Te)*xe.h}ae.insert("line",":first-child").attr({x1:tt,x2:tt,y1:De,y2:de,"stroke-width":_e,stroke:Ie,"stroke-dasharray":n.dashStyle(we.spikedash,_e)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:tt,x2:tt,y1:De,y2:de,"stroke-width":_e+2,stroke:be}).classed("spikeline",!0).classed("crisp",!0)}We.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:tt,cy:Xe-(we.side!=="top"?_e:-_e),r:_e,fill:Ie}).classed("spikeline",!0)}}}function ne(K,$,le){if(!le||le.length!==K._hoverdata.length)return!0;for(var ae=le.length-1;ae>=0;ae--){var he=le[ae],xe=K._hoverdata[ae];if(he.curveNumber!==xe.curveNumber||String(he.pointNumber)!==String(xe.pointNumber)||String(he.pointNumbers)!==String(xe.pointNumbers))return!0}return!1}function ce(K,$){return!$||$.vLinePoint!==K._spikepoints.vLinePoint||$.hLinePoint!==K._spikepoints.hLinePoint}function Q(K,$){return t.plainText(K||"",{len:$,allowedTags:["br","sub","sup","b","i","em"]})}function Z(K,$){for(var le=$.charAt(0),ae=[],he=[],xe=[],Me=0;Me<K.length;Me++){var Ae=K[Me];m.traceIs(Ae.trace,"bar-like")||m.traceIs(Ae.trace,"box-violin")?xe.push(Ae):Ae.trace[le+"period"]?he.push(Ae):ae.push(Ae)}return ae.concat(he).concat(xe)}function re(K,$,le){var ae=$[K+"a"],he=$[K+"Val"],xe=$.cd[0];if(ae.type==="category"||ae.type==="multicategory")he=ae._categoriesMap[he];else if(ae.type==="date"){var Me=$.trace[K+"periodalignment"];if(Me){var Ae=$.cd[$.index],ke=Ae[K+"Start"];ke===void 0&&(ke=Ae[K]);var we=Ae[K+"End"];we===void 0&&(we=Ae[K]);var Ee=we-ke;Me==="end"?he+=Ee:Me==="middle"&&(he+=Ee/2)}he=ae.d2c(he)}return xe&&xe.t&&xe.t.posLetter===ae._id&&(le.boxmode==="group"||le.violinmode==="group")&&(he+=xe.t.dPos),he}function Y(K){return K.offsetTop+K.clientTop}function oe(K){return K.offsetLeft+K.clientLeft}function ue(K,$){var le=K._fullLayout,ae=$.getBoundingClientRect(),he=ae.left,xe=ae.top,Me=he+ae.width,Ae=xe+ae.height,ke=C.apply3DTransform(le._invTransform)(he,xe),we=C.apply3DTransform(le._invTransform)(Me,Ae),Ee=ke[0],be=ke[1],Le=we[0],Ue=we[1];return{x:Ee,y:be,width:Le-Ee,height:Ue-be,top:Math.min(be,Ue),left:Math.min(Ee,Le),right:Math.max(Ee,Le),bottom:Math.max(be,Ue)}}},16132:function(H,G,e){var g=e(3400),R=e(76308),a=e(10624).isUnifiedHover;H.exports=function(S,v,d,r){r=r||{};var t=v.legend;function i(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(r.font||(r.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),t?(r.bgcolor||(r.bgcolor=R.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),d("hoverlabel.bgcolor",r.bgcolor),d("hoverlabel.bordercolor",r.bordercolor),d("hoverlabel.namelength",r.namelength),g.coerceFont(d,"hoverlabel.font",r.font),d("hoverlabel.align",r.align)}},41008:function(H,G,e){var g=e(3400),R=e(65460);H.exports=function(C,S){function v(d,r){return S[d]!==void 0?S[d]:g.coerce(C,S,R,d,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(H,G,e){var g=e(33428),R=e(3400),a=e(86476),C=e(10624),S=e(65460),v=e(83292);H.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:S},attributes:e(55756),layoutAttributes:S,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:d,click:e(62376)};function d(i){var n=R.isD3Selection(i)?i:g.select(i);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(i,n,f){return R.castOption(i,n,"hoverlabel."+f)}function t(i,n,f){function u(l){return R.coerceHoverinfo({hoverinfo:l},{_module:i._module},n)}return R.castOption(i,f,"hoverinfo",u)}},65460:function(H,G,e){var g=e(92456),R=e(25376),a=R({editType:"none"});a.family.dflt=g.HOVERFONT,a.size.dflt=g.HOVERFONTSIZE,H.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:R({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(H,G,e){var g=e(3400),R=e(65460),a=e(41008),C=e(16132);H.exports=function(v,d){function r(l,m){return g.coerce(v,d,R,l,m)}var t=a(v,d);t&&(r("hoverdistance"),r("spikedistance"));var i=r("dragmode");i==="select"&&r("selectdirection");var n=d._has("mapbox"),f=d._has("geo"),u=d._basePlotModules.length;d.dragmode==="zoom"&&((n||f)&&u===1||n&&f&&u===2)&&(d.dragmode="pan"),C(v,d,r),g.coerceFont(r,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},81976:function(H,G,e){var g=e(3400),R=e(16132),a=e(65460);H.exports=function(S,v){function d(r,t){return g.coerce(S,v,a,r,t)}R(S,v,d)}},12704:function(H,G,e){var g=e(3400),R=e(53756).counter,a=e(86968).u,C=e(33816).idRegex,S=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[R("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(f,u,l){var m=u[l+"axes"],c=Object.keys((f._splomAxes||{})[l]||{});if(Array.isArray(m))return m;if(c.length)return c}function r(f,u){var l=f.grid||{},m=d(u,l,"x"),c=d(u,l,"y");if(!f.grid&&!m&&!c)return;var A=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),h=Array.isArray(m),o=Array.isArray(c),p=h&&m!==l.xaxes&&o&&c!==l.yaxes,b,T;A?(b=l.subplots.length,T=l.subplots[0].length):(o&&(b=c.length),h&&(T=m.length));var P=S.newContainer(u,"grid");function x(F,B){return g.coerce(l,P,v,F,B)}var L=x("rows",b),M=x("columns",T);if(!(L*M>1)){delete u.grid;return}if(!A&&!h&&!o){var s=x("pattern")==="independent";s&&(A=!0)}P._hasSubplotGrid=A;var E=x("roworder"),w=E==="top to bottom",O=A?.2:.1,_=A?.3:.1,U,z;p&&u._splomGridDflt&&(U=u._splomGridDflt.xside,z=u._splomGridDflt.yside),P._domains={x:t("x",x,O,U,M),y:t("y",x,_,z,L,w)}}function t(f,u,l,m,c,A){var h=u(f+"gap",l),o=u("domain."+f);u(f+"side",m);for(var p=new Array(c),b=o[0],T=(o[1]-b)/(c-h),P=T*(1-h),x=0;x<c;x++){var L=b+T*x;p[A?c-1-x:x]=[L,L+P]}return p}function i(f,u){var l=u.grid;if(!(!l||!l._domains)){var m=f.grid||{},c=u._subplots,A=l._hasSubplotGrid,h=l.rows,o=l.columns,p=l.pattern==="independent",b,T,P,x,L,M,s,E=l._axisMap={};if(A){var w=m.subplots||[];M=l.subplots=new Array(h);var O=1;for(b=0;b<h;b++){var _=M[b]=new Array(o),U=w[b]||[];for(T=0;T<o;T++)if(p?(L=O===1?"xy":"x"+O+"y"+O,O++):L=U[T],_[T]="",c.cartesian.indexOf(L)!==-1){if(s=L.indexOf("y"),P=L.slice(0,s),x=L.slice(s),E[P]!==void 0&&E[P]!==T||E[x]!==void 0&&E[x]!==b)continue;_[T]=L,E[P]=T,E[x]=b}}}else{var z=d(u,m,"x"),F=d(u,m,"y");l.xaxes=n(z,c.xaxis,o,E,"x"),l.yaxes=n(F,c.yaxis,h,E,"y")}var B=l._anchors={},N=l.roworder==="top to bottom";for(var V in E){var X=V.charAt(0),q=l[X+"side"],te,ne,ce;if(q.length<8)B[V]="free";else if(X==="x"){if(q.charAt(0)==="t"===N?(te=0,ne=1,ce=h):(te=h-1,ne=-1,ce=-1),A){var Q=E[V];for(b=te;b!==ce;b+=ne)if(L=M[b][Q],!!L&&(s=L.indexOf("y"),L.slice(0,s)===V)){B[V]=L.slice(s);break}}else for(b=te;b!==ce;b+=ne)if(x=l.yaxes[b],c.cartesian.indexOf(V+x)!==-1){B[V]=x;break}}else if(q.charAt(0)==="l"?(te=0,ne=1,ce=o):(te=o-1,ne=-1,ce=-1),A){var Z=E[V];for(b=te;b!==ce;b+=ne)if(L=M[Z][b],!!L&&(s=L.indexOf("y"),L.slice(s)===V)){B[V]=L.slice(0,s);break}}else for(b=te;b!==ce;b+=ne)if(P=l.xaxes[b],c.cartesian.indexOf(P+V)!==-1){B[V]=P;break}}}}function n(f,u,l,m,c){var A=new Array(l),h;function o(p,b){u.indexOf(b)!==-1&&m[b]===void 0?(A[p]=b,m[b]=p):A[p]=""}if(Array.isArray(f))for(h=0;h<l;h++)o(h,f[h]);else for(o(0,c),h=1;h<l;h++)o(h,c+(h+1));return A}H.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:i}},65760:function(H,G,e){var g=e(33816),R=e(31780).templatedArray;e(36208),H.exports=R("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(H,G,e){var g=e(38248),R=e(36896);H.exports=function(C,S,v,d){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(r||t){for(var i=C._fullLayout.images,n=S._id.charAt(0),f,u,l=0;l<i.length;l++)if(f=i[l],u="images["+l+"].",f[n+"ref"]===S._id){var m=f[n],c=f["size"+n],A=null,h=null;if(r){A=R(m,S.range);var o=c/Math.pow(10,A)/2;h=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else A=Math.pow(10,m),h=A*(Math.pow(10,c/2)-Math.pow(10,-c/2));g(A)?g(h)||(h=null):(A=null,h=null),d(u+n,A),d(u+"size"+n,h)}}}},25024:function(H,G,e){var g=e(3400),R=e(54460),a=e(51272),C=e(65760),S="images";H.exports=function(r,t){var i={name:S,handleItemDefaults:v};a(r,t,i)};function v(d,r,t){function i(o,p){return g.coerce(d,r,C,o,p)}var n=i("source"),f=i("visible",!!n);if(!f)return r;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var u={_fullLayout:t},l=["x","y"],m=0;m<2;m++){var c=l[m],A=R.coerceRef(d,r,u,c,"paper",void 0);if(A!=="paper"){var h=R.getFromId(u,A);h._imgIndices.push(r._index)}R.coercePosition(r,u,i,A,c,0)}return r}},60963:function(H,G,e){var g=e(33428),R=e(43616),a=e(54460),C=e(79811),S=e(9616);H.exports=function(d){var r=d._fullLayout,t=[],i={},n=[],f,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){f=C.ref2id(l.xref)+C.ref2id(l.yref);var m=r._plots[f];if(!m){n.push(l);continue}m.mainplot&&(f=m.mainplot.id),i[f]||(i[f]=[]),i[f].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var c={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function A(x){var L=g.select(this);if(this._imgSrc!==x.source)if(L.attr("xmlns",S.svg),x.source&&x.source.slice(0,5)==="data:")L.attr("xlink:href",x.source),this._imgSrc=x.source;else{var M=new Promise((function(s){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=w,E.onload=function(){var O=document.createElement("canvas");O.width=this.width,O.height=this.height;var _=O.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var U=O.toDataURL("image/png");L.attr("xlink:href",U),s()},L.on("error",w),E.src=x.source,this._imgSrc=x.source;function w(){L.remove(),s()}}).bind(this));d._promises.push(M)}}function h(x){var L=g.select(this),M=a.getFromId(d,x.xref),s=a.getFromId(d,x.yref),E=a.getRefType(x.xref)==="domain",w=a.getRefType(x.yref)==="domain",O=r._size,_,U;M!==void 0?_=typeof x.xref=="string"&&E?M._length*x.sizex:Math.abs(M.l2p(x.sizex)-M.l2p(0)):_=x.sizex*O.w,s!==void 0?U=typeof x.yref=="string"&&w?s._length*x.sizey:Math.abs(s.l2p(x.sizey)-s.l2p(0)):U=x.sizey*O.h;var z=_*c.x[x.xanchor].offset,F=U*c.y[x.yanchor].offset,B=c.x[x.xanchor].sizing+c.y[x.yanchor].sizing,N,V;switch(M!==void 0?N=typeof x.xref=="string"&&E?M._length*x.x+M._offset:M.r2p(x.x)+M._offset:N=x.x*O.w+O.l,N+=z,s!==void 0?V=typeof x.yref=="string"&&w?s._length*(1-x.y)+s._offset:s.r2p(x.y)+s._offset:V=O.h-x.y*O.h+O.t,V+=F,x.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}L.attr({x:N,y:V,width:_,height:U,preserveAspectRatio:B,opacity:x.opacity});var X=M&&a.getRefType(x.xref)!=="domain"?M._id:"",q=s&&a.getRefType(x.yref)!=="domain"?s._id:"",te=X+q;R.setClipUrl(L,te?"clip"+r._uid+te:null,d)}var o=r._imageLowerLayer.selectAll("image").data(n),p=r._imageUpperLayer.selectAll("image").data(t);o.enter().append("image"),p.enter().append("image"),o.exit().remove(),p.exit().remove(),o.each(function(x){A.bind(this)(x),h.bind(this)(x)}),p.each(function(x){A.bind(this)(x),h.bind(this)(x)});var b=Object.keys(r._plots);for(u=0;u<b.length;u++){f=b[u];var T=r._plots[f];if(T.imagelayer){var P=T.imagelayer.selectAll("image").data(i[f]||[]);P.enter().append("image"),P.exit().remove(),P.each(function(x){A.bind(this)(x),h.bind(this)(x)})}}}},7402:function(H,G,e){H.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(H,G,e){var g=e(25376),R=e(22548);H.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:R.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(H){H.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(H,G,e){var g=e(24040),R=e(3400),a=e(31780),C=e(45464),S=e(3800),v=e(64859),d=e(42451);function r(t,i,n,f){var u=i[t]||{},l=a.newContainer(n,t);function m(ce,Q){return R.coerce(u,l,S,ce,Q)}var c=R.coerceFont(m,"font",n.font);m("bgcolor",n.paper_bgcolor),m("bordercolor");var A=m("visible");if(A){for(var h,o=function(ce,Q){var Z=h._input,re=h;return R.coerce(Z,re,C,ce,Q)},p=n.font||{},b=R.coerceFont(m,"grouptitlefont",R.extendFlat({},p,{size:Math.round(p.size*1.1)})),T=0,P=!1,x="normal",L=(n.shapes||[]).filter(function(ce){return ce.showlegend}),M=f.concat(L).filter(function(ce){return t===(ce.legend||"legend")}),s=0;s<M.length;s++)if(h=M[s],!!h.visible){var E=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(T++,h.showlegend&&(P=!0,(!E&&g.traceIs(h,"pie-like")||h._input.showlegend===!0)&&T++),R.coerceFont(o,"legendgrouptitle.font",b)),(!E&&g.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(x=d.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(x=d.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var w=R.coerce(i,n,v,"showlegend",P&&T>(t==="legend"?1:0));if(w===!1&&(n[t]=void 0),!(w===!1&&!u.uirevision)&&(m("uirevision",n.uirevision),w!==!1)){m("borderwidth");var O=m("orientation"),_=m("yref"),U=m("xref"),z=O==="h",F=_==="paper",B=U==="paper",N,V,X,q="left";z?(N=0,g.getComponentMethod("rangeslider","isVisible")(i.xaxis)?F?(V=1.1,X="bottom"):(V=1,X="top"):F?(V=-.1,X="top"):(V=0,X="bottom")):(V=1,X="auto",B?N=1.02:(N=1,q="right")),R.coerce(u,l,{x:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:N}},"x"),R.coerce(u,l,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:V}},"y"),m("traceorder",x),d.isGrouped(n[t])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("indentation"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",q),m("yanchor",X),m("valign"),R.noneOrAll(u,l,["x","y"]);var te=m("title.text");if(te){m("title.side",z?"left":"top");var ne=R.extendFlat({},c,{size:R.bigFont(c.size)});R.coerceFont(m,"title.font",ne)}}}}H.exports=function(i,n,f){var u,l=f.slice(),m=n.shapes;if(m)for(u=0;u<m.length;u++){var c=m[u];if(c.showlegend){var A={_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend};l.push(A)}}var h=["legend"];for(u=0;u<l.length;u++)R.pushUnique(h,l[u].legend);for(n._legends=[],u=0;u<h.length;u++){var o=h[u];r(o,i,n,l),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},31140:function(H,G,e){var g=e(33428),R=e(3400),a=e(7316),C=e(24040),S=e(95924),v=e(86476),d=e(43616),r=e(76308),t=e(72736),i=e(33048),n=e(65196),f=e(84284),u=f.LINE_SPACING,l=f.FROM_TL,m=f.FROM_BR,c=e(35456),A=e(2012),h=e(42451),o=1,p=/^legend[0-9]*$/;H.exports=function(V,X){if(X)T(V,X);else{var q=V._fullLayout,te=q._legends,ne=q._infolayer.selectAll('[class^="legend"]');ne.each(function(){var re=g.select(this),Y=re.attr("class"),oe=Y.split(" ")[0];oe.match(p)&&te.indexOf(oe)===-1&&re.remove()});for(var ce=0;ce<te.length;ce++){var Q=te[ce],Z=V._fullLayout[Q];T(V,Z)}}};function b(N,V,X){if(!(V.title.side!=="top center"&&V.title.side!=="top right")){var q=V.title.font,te=q.size*u,ne=0,ce=N.node(),Q=d.bBox(ce).width;V.title.side==="top center"?ne=.5*(V._width-2*X-2*n.titlePad-Q):V.title.side==="top right"&&(ne=V._width-2*X-2*n.titlePad-Q),t.positionText(N,X+n.titlePad+ne,X+te)}}function T(N,V){var X=V||{},q=N._fullLayout,te=B(X),ne,ce,Q=X._inHover;if(Q?(ce=X.layer,ne="hover"):(ce=q._infolayer,ne=te),!!ce){ne+=q._uid,N._legendMouseDownTime||(N._legendMouseDownTime=0);var Z;if(Q){if(!X.entries)return;Z=c(X.entries,X)}else{for(var re=(N.calcdata||[]).slice(),Y=q.shapes,oe=0;oe<Y.length;oe++){var ue=Y[oe];if(ue.showlegend){var K={_isShape:!0,_fullInput:ue,index:ue._index,name:ue.name||ue.label.text||"shape "+ue._index,legend:ue.legend,legendgroup:ue.legendgroup,legendgrouptitle:ue.legendgrouptitle,legendrank:ue.legendrank,legendwidth:ue.legendwidth,showlegend:ue.showlegend,visible:ue.visible,opacity:ue.opacity,mode:ue.type==="line"?"lines":"markers",line:ue.line,marker:{line:ue.line,color:ue.fillcolor,size:12,symbol:ue.type==="rect"?"square":ue.type==="circle"?"circle":"hexagon2"}};re.push([{trace:K}])}}Z=q.showlegend&&c(re,X,q._legends.length>1)}var $=q.hiddenlabels||[];if(!Q&&(!q.showlegend||!Z.length))return ce.selectAll("."+te).remove(),q._topdefs.select("#"+ne).remove(),a.autoMargin(N,te);var le=R.ensureSingle(ce,"g",te,function(be){Q||be.attr("pointer-events","all")}),ae=R.ensureSingleById(q._topdefs,"clipPath",ne,function(be){be.append("rect")}),he=R.ensureSingle(le,"rect","bg",function(be){be.attr("shape-rendering","crispEdges")});he.call(r.stroke,X.bordercolor).call(r.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px");var xe=R.ensureSingle(le,"g","scrollbox"),Me=X.title;X._titleWidth=0,X._titleHeight=0;var Ae;Me.text?(Ae=R.ensureSingle(xe,"text",te+"titletext"),Ae.attr("text-anchor","start").call(d.font,Me.font).text(Me.text),E(Ae,xe,N,X,o)):xe.selectAll("."+te+"titletext").remove();var ke=R.ensureSingle(le,"rect","scrollbar",function(be){be.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),we=xe.selectAll("g.groups").data(Z);we.enter().append("g").attr("class","groups"),we.exit().remove();var Ee=we.selectAll("g.traces").data(R.identity);Ee.enter().append("g").attr("class","traces"),Ee.exit().remove(),Ee.style("opacity",function(be){var Le=be[0].trace;return C.traceIs(Le,"pie-like")?$.indexOf(be[0].label)!==-1?.5:1:Le.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(L,N,X)}).call(A,N,X).each(function(){Q||g.select(this).call(s,N,te)}),R.syncOrAsync([a.previousPromises,function(){return _(N,we,Ee,X)},function(){var be=q._size,Le=X.borderwidth,Ue=X.xref==="paper",Ve=X.yref==="paper";if(Me.text&&b(Ae,X,Le),!Q){var Fe,He;Ue?Fe=be.l+be.w*X.x-l[z(X)]*X._width:Fe=q.width*X.x-l[z(X)]*X._width,Ve?He=be.t+be.h*(1-X.y)-l[F(X)]*X._effHeight:He=q.height*(1-X.y)-l[F(X)]*X._effHeight;var st=U(N,te,Fe,He);if(st)return;if(q.margin.autoexpand){var vt=Fe,lt=He;Fe=Ue?R.constrain(Fe,0,q.width-X._width):vt,He=Ve?R.constrain(He,0,q.height-X._effHeight):lt,Fe!==vt&&R.log("Constrain "+te+".x to make legend fit inside graph"),He!==lt&&R.log("Constrain "+te+".y to make legend fit inside graph")}d.setTranslate(le,Fe,He)}if(ke.on(".drag",null),le.on("wheel",null),Q||X._height<=X._maxHeight||N._context.staticPlot){var et=X._effHeight;Q&&(et=X._height),he.attr({width:X._width-Le,height:et-Le,x:Le/2,y:Le/2}),d.setTranslate(xe,0,0),ae.select("rect").attr({width:X._width-2*Le,height:et-2*Le,x:Le,y:Le}),d.setClipUrl(xe,ne,N),d.setRect(ke,0,0,0,0),delete X._scrollY}else{var ct=Math.max(n.scrollBarMinHeight,X._effHeight*X._effHeight/X._height),ht=X._effHeight-ct-2*n.scrollBarMargin,mt=X._height-X._effHeight,xt=ht/mt,Mt=Math.min(X._scrollY||0,mt);he.attr({width:X._width-2*Le+n.scrollBarWidth+n.scrollBarMargin,height:X._effHeight-Le,x:Le/2,y:Le/2}),ae.select("rect").attr({width:X._width-2*Le+n.scrollBarWidth+n.scrollBarMargin,height:X._effHeight-2*Le,x:Le,y:Le+Mt}),d.setClipUrl(xe,ne,N),Xe(Mt,ct,xt),le.on("wheel",function(){Mt=R.constrain(X._scrollY+g.event.deltaY/ht*mt,0,mt),Xe(Mt,ct,xt),Mt!==0&&Mt!==mt&&g.event.preventDefault()});var tt,Oe,Ye,Ze=function(Qe,at,it){var Wt=(it-at)/xt+Qe;return R.constrain(Wt,0,mt)},We=function(Qe,at,it){var Wt=(at-it)/xt+Qe;return R.constrain(Wt,0,mt)},_e=g.behavior.drag().on("dragstart",function(){var Qe=g.event.sourceEvent;Qe.type==="touchstart"?tt=Qe.changedTouches[0].clientY:tt=Qe.clientY,Ye=Mt}).on("drag",function(){var Qe=g.event.sourceEvent;Qe.buttons===2||Qe.ctrlKey||(Qe.type==="touchmove"?Oe=Qe.changedTouches[0].clientY:Oe=Qe.clientY,Mt=Ze(Ye,tt,Oe),Xe(Mt,ct,xt))});ke.call(_e);var Ie=g.behavior.drag().on("dragstart",function(){var Qe=g.event.sourceEvent;Qe.type==="touchstart"&&(tt=Qe.changedTouches[0].clientY,Ye=Mt)}).on("drag",function(){var Qe=g.event.sourceEvent;Qe.type==="touchmove"&&(Oe=Qe.changedTouches[0].clientY,Mt=We(Ye,tt,Oe),Xe(Mt,ct,xt))});xe.call(Ie)}function Xe(Qe,at,it){X._scrollY=N._fullLayout[te]._scrollY=Qe,d.setTranslate(xe,0,-Qe),d.setRect(ke,X._width,n.scrollBarMargin+Qe*it,n.scrollBarWidth,at),ae.select("rect").attr("y",Le+Qe)}if(N._context.edits.legendPosition){var De,de,Te,Be;le.classed("cursor-move",!0),v.init({element:le.node(),gd:N,prepFn:function(){var Qe=d.getTranslate(le);Te=Qe.x,Be=Qe.y},moveFn:function(Qe,at){var it=Te+Qe,Wt=Be+at;d.setTranslate(le,it,Wt),De=v.align(it,X._width,be.l,be.l+be.w,X.xanchor),de=v.align(Wt+X._height,-X._height,be.t+be.h,be.t,X.yanchor)},doneFn:function(){if(De!==void 0&&de!==void 0){var Qe={};Qe[te+".x"]=De,Qe[te+".y"]=de,C.call("_guiRelayout",N,Qe)}},clickFn:function(Qe,at){var it=ce.selectAll("g.traces").filter(function(){var Wt=this.getBoundingClientRect();return at.clientX>=Wt.left&&at.clientX<=Wt.right&&at.clientY>=Wt.top&&at.clientY<=Wt.bottom});it.size()>0&&x(N,le,it,Qe,at)}})}}],N)}}function P(N,V,X){var q=N[0],te=q.width,ne=V.entrywidthmode,ce=q.trace.legendwidth||V.entrywidth;return ne==="fraction"?V._maxWidth*ce:X+(ce||te)}function x(N,V,X,q,te){var ne=X.data()[0][0].trace,ce={event:te,node:X.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:N.data,layout:N.layout,frames:N._transitionData._frames,config:N._context,fullData:N._fullData,fullLayout:N._fullLayout};ne._group&&(ce.group=ne._group),C.traceIs(ne,"pie-like")&&(ce.label=X.datum()[0].label);var Q=S.triggerHandler(N,"plotly_legendclick",ce);if(q===1){if(Q===!1)return;V._clickTimeout=setTimeout(function(){N._fullLayout&&i(X,N,q)},N._context.doubleClickDelay)}else if(q===2){V._clickTimeout&&clearTimeout(V._clickTimeout),N._legendMouseDownTime=0;var Z=S.triggerHandler(N,"plotly_legenddoubleclick",ce);Z!==!1&&Q!==!1&&i(X,N,q)}}function L(N,V,X){var q=B(X),te=N.data()[0][0],ne=te.trace,ce=C.traceIs(ne,"pie-like"),Q=!X._inHover&&V._context.edits.legendText&&!ce,Z=X._maxNameLength,re,Y;te.groupTitle?(re=te.groupTitle.text,Y=te.groupTitle.font):(Y=X.font,X.entries?re=te.text:(re=ce?te.label:ne.name,ne._meta&&(re=R.templateString(re,ne._meta))));var oe=R.ensureSingle(N,"text",q+"text");oe.attr("text-anchor","start").call(d.font,Y).text(Q?M(re,Z):re);var ue=X.indentation+X.itemwidth+n.itemGap*2;t.positionText(oe,ue,0),Q?oe.call(t.makeEditable,{gd:V,text:re}).call(E,N,V,X).on("edit",function(K){this.text(M(K,Z)).call(E,N,V,X);var $=te.trace._fullInput||{},le={};if(C.hasTransform($,"groupby")){var ae=C.getTransformIndices($,"groupby"),he=ae[ae.length-1],xe=R.keyedContainer($,"transforms["+he+"].styles","target","value.name");xe.set(te.trace._group,K),le=xe.constructUpdate()}else le.name=K;return $._isShape?C.call("_guiRelayout",V,"shapes["+ne.index+"].name",le.name):C.call("_guiRestyle",V,le,ne.index)}):E(oe,N,V,X)}function M(N,V){var X=Math.max(4,V);if(N&&N.trim().length>=X/2)return N;N=N||"";for(var q=X-N.length;q>0;q--)N+=" ";return N}function s(N,V,X){var q=V._context.doubleClickDelay,te,ne=1,ce=R.ensureSingle(N,"rect",X+"toggle",function(Q){V._context.staticPlot||Q.style("cursor","pointer").attr("pointer-events","all"),Q.call(r.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(ce.on("mousedown",function(){te=new Date().getTime(),te-V._legendMouseDownTime<q?ne+=1:(ne=1,V._legendMouseDownTime=te)}),ce.on("mouseup",function(){if(!(V._dragged||V._editing)){var Q=V._fullLayout[X];new Date().getTime()-V._legendMouseDownTime>q&&(ne=Math.max(ne-1,1)),x(V,Q,N,ne,g.event)}}))}function E(N,V,X,q,te){q._inHover&&N.attr("data-notex",!0),t.convertToTspans(N,X,function(){w(V,X,q,te)})}function w(N,V,X,q){var te=N.data()[0][0];if(!X._inHover&&te&&!te.trace.showlegend){N.remove();return}var ne=N.select("g[class*=math-group]"),ce=ne.node(),Q=B(X);X||(X=V._fullLayout[Q]);var Z=X.borderwidth,re;q===o?re=X.title.font:te.groupTitle?re=te.groupTitle.font:re=X.font;var Y=re.size*u,oe,ue;if(ce){var K=d.bBox(ce);oe=K.height,ue=K.width,q===o?d.setTranslate(ne,Z,Z+oe*.75):d.setTranslate(ne,0,oe*.25)}else{var $="."+Q+(q===o?"title":"")+"text",le=N.select($),ae=t.lineCount(le),he=le.node();if(oe=Y*ae,ue=he?d.bBox(he).width:0,q===o)X.title.side==="left"&&(ue+=n.itemGap*2),t.positionText(le,Z+n.titlePad,Z+Y);else{var xe=n.itemGap*2+X.indentation+X.itemwidth;te.groupTitle&&(xe=n.itemGap,ue-=X.indentation+X.itemwidth),t.positionText(le,xe,-Y*((ae-1)/2-.3))}}q===o?(X._titleWidth=ue,X._titleHeight=oe):(te.lineHeight=Y,te.height=Math.max(oe,16)+3,te.width=ue)}function O(N){var V=0,X=0,q=N.title.side;return q&&(q.indexOf("left")!==-1&&(V=N._titleWidth),q.indexOf("top")!==-1&&(X=N._titleHeight)),[V,X]}function _(N,V,X,q){var te=N._fullLayout,ne=B(q);q||(q=te[ne]);var ce=te._size,Q=h.isVertical(q),Z=h.isGrouped(q),re=q.entrywidthmode==="fraction",Y=q.borderwidth,oe=2*Y,ue=n.itemGap,K=q.indentation+q.itemwidth+ue*2,$=2*(Y+ue),le=F(q),ae=q.y<0||q.y===0&&le==="top",he=q.y>1||q.y===1&&le==="bottom",xe=q.tracegroupgap,Me={};q._maxHeight=Math.max(ae||he?te.height/2:ce.h,30);var Ae=0;q._width=0,q._height=0;var ke=O(q);if(Q)X.each(function(Ye){var Ze=Ye[0].height;d.setTranslate(this,Y+ke[0],Y+ke[1]+q._height+Ze/2+ue),q._height+=Ze,q._width=Math.max(q._width,Ye[0].width)}),Ae=K+q._width,q._width+=ue+K+oe,q._height+=$,Z&&(V.each(function(Ye,Ze){d.setTranslate(this,0,Ze*q.tracegroupgap)}),q._height+=(q._lgroupsLength-1)*q.tracegroupgap);else{var we=z(q),Ee=q.x<0||q.x===0&&we==="right",be=q.x>1||q.x===1&&we==="left",Le=he||ae,Ue=te.width/2;q._maxWidth=Math.max(Ee?Le&&we==="left"?ce.l+ce.w:Ue:be?Le&&we==="right"?ce.r+ce.w:Ue:ce.w,2*K);var Ve=0,Fe=0;X.each(function(Ye){var Ze=P(Ye,q,K);Ve=Math.max(Ve,Ze),Fe+=Ze}),Ae=null;var He=0;if(Z){var st=0,vt=0,lt=0;V.each(function(){var Ye=0,Ze=0;g.select(this).selectAll("g.traces").each(function(_e){var Ie=P(_e,q,K),Xe=_e[0].height;d.setTranslate(this,ke[0],ke[1]+Y+ue+Xe/2+Ze),Ze+=Xe,Ye=Math.max(Ye,Ie),Me[_e[0].trace.legendgroup]=Ye});var We=Ye+ue;vt>0&&We+Y+vt>q._maxWidth?(He=Math.max(He,vt),vt=0,lt+=st+xe,st=Ze):st=Math.max(st,Ze),d.setTranslate(this,vt,lt),vt+=We}),q._width=Math.max(He,vt)+Y,q._height=lt+st+$}else{var et=X.size(),ct=Fe+oe+(et-1)*ue<q._maxWidth,ht=0,mt=0,xt=0,Mt=0;X.each(function(Ye){var Ze=Ye[0].height,We=P(Ye,q,K),_e=ct?We:Ve;re||(_e+=ue),_e+Y+mt-ue>=q._maxWidth&&(He=Math.max(He,Mt),mt=0,xt+=ht,q._height+=ht,ht=0),d.setTranslate(this,ke[0]+Y+mt,ke[1]+Y+xt+Ze/2+ue),Mt=mt+We+ue,mt+=_e,ht=Math.max(ht,Ze)}),ct?(q._width=mt+oe,q._height=ht+$):(q._width=Math.max(He,Mt)+oe,q._height+=ht+$)}}q._width=Math.ceil(Math.max(q._width+ke[0],q._titleWidth+2*(Y+n.titlePad))),q._height=Math.ceil(Math.max(q._height+ke[1],q._titleHeight+2*(Y+n.itemGap))),q._effHeight=Math.min(q._height,q._maxHeight);var tt=N._context.edits,Oe=tt.legendText||tt.legendPosition;X.each(function(Ye){var Ze=g.select(this).select("."+ne+"toggle"),We=Ye[0].height,_e=Ye[0].trace.legendgroup,Ie=P(Ye,q,K);Z&&_e!==""&&(Ie=Me[_e]);var Xe=Oe?K:Ae||Ie;!Q&&!re&&(Xe+=ue/2),d.setRect(Ze,0,-We/2,Xe,We)})}function U(N,V,X,q){var te=N._fullLayout,ne=te[V],ce=z(ne),Q=F(ne),Z=ne.xref==="paper",re=ne.yref==="paper";N._fullLayout._reservedMargin[V]={};var Y=ne.y<.5?"b":"t",oe=ne.x<.5?"l":"r",ue={r:te.width-X,l:X+ne._width,b:te.height-q,t:q+ne._effHeight};if(Z&&re)return a.autoMargin(N,V,{x:ne.x,y:ne.y,l:ne._width*l[ce],r:ne._width*m[ce],b:ne._effHeight*m[Q],t:ne._effHeight*l[Q]});Z?N._fullLayout._reservedMargin[V][Y]=ue[Y]:re||ne.orientation==="v"?N._fullLayout._reservedMargin[V][oe]=ue[oe]:N._fullLayout._reservedMargin[V][Y]=ue[Y]}function z(N){return R.isRightAnchor(N)?"right":R.isCenterAnchor(N)?"center":"left"}function F(N){return R.isBottomAnchor(N)?"bottom":R.isMiddleAnchor(N)?"middle":"top"}function B(N){return N._id||"legend"}},35456:function(H,G,e){var g=e(24040),R=e(42451);H.exports=function(C,S,v){var d=S._inHover,r=R.isGrouped(S),t=R.isReversed(S),i={},n=[],f=!1,u={},l=0,m=0,c,A;function h(N,V,X){if(S.visible!==!1&&!(v&&N!==S._id))if(V===""||!R.isGrouped(S)){var q="~~i"+l;n.push(q),i[q]=[X],l++}else n.indexOf(V)===-1?(n.push(V),f=!0,i[V]=[X]):i[V].push(X)}for(c=0;c<C.length;c++){var o=C[c],p=o[0],b=p.trace,T=b.legend,P=b.legendgroup;if(!(!d&&(!b.visible||!b.showlegend)))if(g.traceIs(b,"pie-like"))for(u[P]||(u[P]={}),A=0;A<o.length;A++){var x=o[A].label;u[P][x]||(h(T,P,{label:x,color:o[A].color,i:o[A].i,trace:b,pts:o[A].pts}),u[P][x]=!0,m=Math.max(m,(x||"").length))}else h(T,P,p),m=Math.max(m,(b.name||"").length)}if(!n.length)return[];var L=!f||!r,M=[];for(c=0;c<n.length;c++){var s=i[n[c]];L?M.push(s[0]):M.push(s)}for(L&&(M=[M]),c=0;c<M.length;c++){var E=1/0;for(A=0;A<M[c].length;A++){var w=M[c][A].trace.legendrank;E>w&&(E=w)}M[c][0]._groupMinRank=E,M[c][0]._preGroupSort=c}var O=function(N,V){return N[0]._groupMinRank-V[0]._groupMinRank||N[0]._preGroupSort-V[0]._preGroupSort},_=function(N,V){return N.trace.legendrank-V.trace.legendrank||N._preSort-V._preSort};for(M.forEach(function(N,V){N[0]._preGroupSort=V}),M.sort(O),c=0;c<M.length;c++){M[c].forEach(function(N,V){N._preSort=V}),M[c].sort(_);var U=M[c][0].trace,z=null;for(A=0;A<M[c].length;A++){var F=M[c][A].trace.legendgrouptitle;if(F&&F.text){z=F,d&&(F.font=S._groupTitleFont);break}}if(t&&M[c].reverse(),z){var B=!1;for(A=0;A<M[c].length;A++)if(g.traceIs(M[c][A].trace,"pie-like")){B=!0;break}M[c].unshift({i:-1,groupTitle:z,noClick:B,trace:{showlegend:U.showlegend,legendgroup:U.legendgroup,visible:S.groupclick==="toggleitem"?!0:U.visible}})}for(A=0;A<M[c].length;A++)M[c][A]=[M[c][A]]}return S._lgroupsLength=M.length,S._maxNameLength=m,M}},33048:function(H,G,e){var g=e(24040),R=e(3400),a=R.pushUnique,C=!0;H.exports=function(v,d,r){var t=d._fullLayout;if(d._dragged||d._editing)return;var i=t.legend.itemclick,n=t.legend.itemdoubleclick,f=t.legend.groupclick;r===1&&i==="toggle"&&n==="toggleothers"&&C&&d.data&&d._context.showTips&&R.notifier(R._(d,"Double-click on legend to isolate one trace"),"long"),C=!1;var u;if(r===1?u=i:r===2&&(u=n),!u)return;var l=f==="togglegroup",m=t.hiddenlabels?t.hiddenlabels.slice():[],c=v.data()[0][0];if(c.groupTitle&&c.noClick)return;var A=d._fullData,h=(t.shapes||[]).filter(function(Ue){return Ue.showlegend}),o=A.concat(h),p=c.trace;p._isShape&&(p=p._fullInput);var b=p.legendgroup,T,P,x,L,M,s,E={},w=[],O=[],_=[];function U(Ue,Ve){var Fe=w.indexOf(Ue),He=E.visible;return He||(He=E.visible=[]),w.indexOf(Ue)===-1&&(w.push(Ue),Fe=w.length-1),He[Fe]=Ve,Fe}var z=(t.shapes||[]).map(function(Ue){return Ue._input}),F=!1;function B(Ue,Ve){z[Ue].visible=Ve,F=!0}function N(Ue,Ve){if(!(c.groupTitle&&!l)){var Fe=Ue._fullInput||Ue,He=Fe._isShape,st=Fe.index;if(st===void 0&&(st=Fe._index),g.hasTransform(Fe,"groupby")){var vt=O[st];if(!vt){var lt=g.getTransformIndices(Fe,"groupby"),et=lt[lt.length-1];vt=R.keyedContainer(Fe,"transforms["+et+"].styles","target","value.visible"),O[st]=vt}var ct=vt.get(Ue._group);ct===void 0&&(ct=!0),ct!==!1&&vt.set(Ue._group,Ve),_[st]=U(st,Fe.visible!==!1)}else{var ht=Fe.visible===!1?!1:Ve;He?B(st,ht):U(st,ht)}}}var V=p.legend,X=p._fullInput,q=X&&X._isShape;if(!q&&g.traceIs(p,"pie-like")){var te=c.label,ne=m.indexOf(te);if(u==="toggle")ne===-1?m.push(te):m.splice(ne,1);else if(u==="toggleothers"){var ce=ne!==-1,Q=[];for(T=0;T<d.calcdata.length;T++){var Z=d.calcdata[T];for(P=0;P<Z.length;P++){var re=Z[P],Y=re.label;V===Z[0].trace.legend&&te!==Y&&(m.indexOf(Y)===-1&&(ce=!0),a(m,Y),Q.push(Y))}}if(!ce)for(var oe=0;oe<Q.length;oe++){var ue=m.indexOf(Q[oe]);ue!==-1&&m.splice(ue,1)}}g.call("_guiRelayout",d,"hiddenlabels",m)}else{var K=b&&b.length,$=[],le;if(K)for(T=0;T<o.length;T++)le=o[T],le.visible&&le.legendgroup===b&&$.push(T);if(u==="toggle"){var ae;switch(p.visible){case!0:ae="legendonly";break;case!1:ae=!1;break;case"legendonly":ae=!0;break}if(K)if(l)for(T=0;T<o.length;T++){var he=o[T];he.visible!==!1&&he.legendgroup===b&&N(he,ae)}else N(p,ae);else N(p,ae)}else if(u==="toggleothers"){var xe,Me,Ae,ke,we,Ee=!0;for(T=0;T<o.length;T++)if(we=o[T],xe=we===p,Ae=we.showlegend!==!0,!(xe||Ae)&&(Me=K&&we.legendgroup===b,!Me&&we.legend===V&&we.visible===!0&&!g.traceIs(we,"notLegendIsolatable"))){Ee=!1;break}for(T=0;T<o.length;T++)if(we=o[T],!(we.visible===!1||we.legend!==V)&&!g.traceIs(we,"notLegendIsolatable"))switch(p.visible){case"legendonly":N(we,!0);break;case!0:ke=Ee?!0:"legendonly",xe=we===p,Ae=we.showlegend!==!0&&!we.legendgroup,Me=xe||K&&we.legendgroup===b,N(we,Me||Ae?!0:ke);break}}for(T=0;T<O.length;T++)if(x=O[T],!!x){var be=x.constructUpdate(),Le=Object.keys(be);for(P=0;P<Le.length;P++)L=Le[P],s=E[L]=E[L]||[],s[_[T]]=be[L]}for(M=Object.keys(E),T=0;T<M.length;T++)for(L=M[T],P=0;P<w.length;P++)E[L].hasOwnProperty(P)||(E[L][P]=void 0);F?g.call("_guiUpdate",d,E,{shapes:z},w):g.call("_guiRestyle",d,E,w)}}},42451:function(H,G){G.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},G.isVertical=function(g){return g.orientation!=="h"},G.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2780:function(H,G,e){H.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(H,G,e){var g=e(33428),R=e(24040),a=e(3400),C=a.strTranslate,S=e(43616),v=e(76308),d=e(94288).extractOpts,r=e(43028),t=e(10528),i=e(69656).castOption,n=e(65196),f=12,u=5,l=2,m=10,c=5;H.exports=function(b,T,P){var x=T._fullLayout;P||(P=x.legend);var L=P.itemsizing==="constant",M=P.itemwidth,s=(M+n.itemGap*2)/2,E=C(s,0),w=function(Q,Z,re,Y){var oe;if(Q+1)oe=Q;else if(Z&&Z.width>0)oe=Z.width;else return 0;return L?Y:Math.min(oe,re)};b.each(function(Q){var Z=g.select(this),re=a.ensureSingle(Z,"g","layers");re.style("opacity",Q[0].trace.opacity);var Y=P.indentation,oe=P.valign,ue=Q[0].lineHeight,K=Q[0].height;if(oe==="middle"&&Y===0||!ue||!K)re.attr("transform",null);else{var $={top:1,bottom:-1}[oe],le=$*(.5*(ue-K+3))||0,ae=P.indentation;re.attr("transform",C(ae,le))}var he=re.selectAll("g.legendfill").data([Q]);he.enter().append("g").classed("legendfill",!0);var xe=re.selectAll("g.legendlines").data([Q]);xe.enter().append("g").classed("legendlines",!0);var Me=re.selectAll("g.legendsymbols").data([Q]);Me.enter().append("g").classed("legendsymbols",!0),Me.selectAll("g.legendpoints").data([Q]).enter().append("g").classed("legendpoints",!0)}).each(ce).each(U).each(F).each(z).each(N).each(te).each(q).each(O).each(_).each(V).each(X);function O(Q){var Z=h(Q),re=Z.showFill,Y=Z.showLine,oe=Z.showGradientLine,ue=Z.showGradientFill,K=Z.anyFill,$=Z.anyLine,le=Q[0],ae=le.trace,he,xe,Me=d(ae),Ae=Me.colorscale,ke=Me.reversescale,we=function(He){if(He.size())if(re)S.fillGroupStyle(He,T,!0);else{var st="legendfill-"+ae.uid;S.gradient(He,T,st,A(ke),Ae,"fill")}},Ee=function(He){if(He.size()){var st="legendline-"+ae.uid;S.lineGroupStyle(He),S.gradient(He,T,st,A(ke),Ae,"stroke")}},be=r.hasMarkers(ae)||!K?"M5,0":$?"M5,-2":"M5,-3",Le=g.select(this),Ue=Le.select(".legendfill").selectAll("path").data(re||ue?[Q]:[]);if(Ue.enter().append("path").classed("js-fill",!0),Ue.exit().remove(),Ue.attr("d",be+"h"+M+"v6h-"+M+"z").call(we),Y||oe){var Ve=w(void 0,ae.line,m,u);xe=a.minExtend(ae,{line:{width:Ve}}),he=[a.minExtend(le,{trace:xe})]}var Fe=Le.select(".legendlines").selectAll("path").data(Y||oe?[he]:[]);Fe.enter().append("path").classed("js-line",!0),Fe.exit().remove(),Fe.attr("d",be+(oe?"l"+M+",0.0001":"h"+M)).call(Y?S.lineGroupStyle:Ee)}function _(Q){var Z=h(Q),re=Z.anyFill,Y=Z.anyLine,oe=Z.showLine,ue=Z.showMarker,K=Q[0],$=K.trace,le=!ue&&!Y&&!re&&r.hasText($),ae,he;function xe(Ue,Ve,Fe,He){var st=a.nestedProperty($,Ue).get(),vt=a.isArrayOrTypedArray(st)&&Ve?Ve(st):st;if(L&&vt&&He!==void 0&&(vt=He),Fe){if(vt<Fe[0])return Fe[0];if(vt>Fe[1])return Fe[1]}return vt}function Me(Ue){return K._distinct&&K.index&&Ue[K.index]?Ue[K.index]:Ue[0]}if(ue||le||oe){var Ae={},ke={};if(ue){Ae.mc=xe("marker.color",Me),Ae.mx=xe("marker.symbol",Me),Ae.mo=xe("marker.opacity",a.mean,[.2,1]),Ae.mlc=xe("marker.line.color",Me),Ae.mlw=xe("marker.line.width",a.mean,[0,5],l),ke.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var we=xe("marker.size",a.mean,[2,16],f);Ae.ms=we,ke.marker.size=we}oe&&(ke.line={width:xe("line.width",Me,[0,10],u)}),le&&(Ae.tx="Aa",Ae.tp=xe("textposition",Me),Ae.ts=10,Ae.tc=xe("textfont.color",Me),Ae.tf=xe("textfont.family",Me),Ae.tw=xe("textfont.weight",Me),Ae.ty=xe("textfont.style",Me),Ae.tv=xe("textfont.variant",Me)),ae=[a.minExtend(K,Ae)],he=a.minExtend($,ke),he.selectedpoints=null,he.texttemplate=null}var Ee=g.select(this).select("g.legendpoints"),be=Ee.selectAll("path.scatterpts").data(ue?ae:[]);be.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),be.exit().remove(),be.call(S.pointStyle,he,T),ue&&(ae[0].mrc=3);var Le=Ee.selectAll("g.pointtext").data(le?ae:[]);Le.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),Le.exit().remove(),Le.selectAll("text").call(S.textPointStyle,he,T)}function U(Q){var Z=Q[0].trace,re=Z.type==="waterfall";if(Q[0]._distinct&&re){var Y=Q[0].trace[Q[0].dir].marker;return Q[0].mc=Y.color,Q[0].mlw=Y.line.width,Q[0].mlc=Y.line.color,B(Q,this,"waterfall")}var oe=[];Z.visible&&re&&(oe=Q[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ue=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(oe);ue.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),ue.exit().remove(),ue.each(function(K){var $=g.select(this),le=Z[K[0]].marker,ae=w(void 0,le.line,c,l);$.attr("d",K[1]).style("stroke-width",ae+"px").call(v.fill,le.color),ae&&$.call(v.stroke,le.line.color)})}function z(Q){B(Q,this)}function F(Q){B(Q,this,"funnel")}function B(Q,Z,re){var Y=Q[0].trace,oe=Y.marker||{},ue=oe.line||{},K=oe.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",$=re?Y.visible&&Y.type===re:R.traceIs(Y,"bar"),le=g.select(Z).select("g.legendpoints").selectAll("path.legend"+re).data($?[Q]:[]);le.enter().append("path").classed("legend"+re,!0).attr("d",K).attr("transform",E),le.exit().remove(),le.each(function(ae){var he=g.select(this),xe=ae[0],Me=w(xe.mlw,oe.line,c,l);he.style("stroke-width",Me+"px");var Ae=xe.mcc;if(!P._inHover&&"mc"in xe){var ke=d(oe),we=ke.mid;we===void 0&&(we=(ke.max+ke.min)/2),Ae=S.tryColorscale(oe,"")(we)}var Ee=Ae||xe.mc||oe.color,be=oe.pattern,Le=be&&S.getPatternAttr(be.shape,0,"");if(Le){var Ue=S.getPatternAttr(be.bgcolor,0,null),Ve=S.getPatternAttr(be.fgcolor,0,null),Fe=be.fgopacity,He=o(be.size,8,10),st=o(be.solidity,.5,1),vt="legend-"+Y.uid;he.call(S.pattern,"legend",T,vt,Le,He,st,Ae,be.fillmode,Ue,Ve,Fe)}else he.call(v.fill,Ee);Me&&v.stroke(he,xe.mlc||ue.color)})}function N(Q){var Z=Q[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Z.visible&&R.traceIs(Z,"box-violin")?[Q]:[]);re.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),re.exit().remove(),re.each(function(){var Y=g.select(this);if((Z.boxpoints==="all"||Z.points==="all")&&v.opacity(Z.fillcolor)===0&&v.opacity((Z.line||{}).color)===0){var oe=a.minExtend(Z,{marker:{size:L?f:a.constrain(Z.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});re.call(S.pointStyle,oe,T)}else{var ue=w(void 0,Z.line,c,l);Y.style("stroke-width",ue+"px").call(v.fill,Z.fillcolor),ue&&v.stroke(Y,Z.line.color)}})}function V(Q){var Z=Q[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Z.visible&&Z.type==="candlestick"?[Q,Q]:[]);re.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,oe){return oe?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(Y,oe){var ue=g.select(this),K=Z[oe?"increasing":"decreasing"],$=w(void 0,K.line,c,l);ue.style("stroke-width",$+"px").call(v.fill,K.fillcolor),$&&v.stroke(ue,K.line.color)})}function X(Q){var Z=Q[0].trace,re=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Z.visible&&Z.type==="ohlc"?[Q,Q]:[]);re.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,oe){return oe?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(Y,oe){var ue=g.select(this),K=Z[oe?"increasing":"decreasing"],$=w(void 0,K.line,c,l);ue.style("fill","none").call(S.dashLine,K.line.dash,$),$&&v.stroke(ue,K.line.color)})}function q(Q){ne(Q,this,"pie")}function te(Q){ne(Q,this,"funnelarea")}function ne(Q,Z,re){var Y=Q[0],oe=Y.trace,ue=re?oe.visible&&oe.type===re:R.traceIs(oe,re),K=g.select(Z).select("g.legendpoints").selectAll("path.legend"+re).data(ue?[Q]:[]);if(K.enter().append("path").classed("legend"+re,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),K.exit().remove(),K.size()){var $=oe.marker||{},le=w(i($.line.width,Y.pts),$.line,c,l),ae="pieLike",he=a.minExtend(oe,{marker:{line:{width:le}}},ae),xe=a.minExtend(Y,{trace:he},ae);t(K,xe,he,T)}}function ce(Q){var Z=Q[0].trace,re,Y=[];if(Z.visible)switch(Z.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],re=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],re=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],re="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],re=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],re=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],re=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],re=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],re=!1;break}var oe=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);oe.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(ue,K){var $=g.select(this),le=d(Z),ae=le.colorscale,he=le.reversescale,xe=function(we){if(we.size()){var Ee="legendfill-"+Z.uid;S.gradient(we,T,Ee,A(he,re==="radial"),ae,"fill")}},Me;if(ae){if(!re){var ke=ae.length;Me=K===0?ae[he?ke-1:0][1]:K===1?ae[he?0:ke-1][1]:ae[Math.floor((ke-1)/2)][1]}}else{var Ae=Z.vertexcolor||Z.facecolor||Z.color;Me=a.isArrayOrTypedArray(Ae)?Ae[K]||Ae[0]:Ae}$.attr("d",ue[0]),Me?$.call(v.fill,Me):$.call(xe)})}};function A(p,b){var T=b?"radial":"horizontal";return T+(p?"":"reversed")}function h(p){var b=p[0].trace,T=b.contours,P=r.hasLines(b),x=r.hasMarkers(b),L=b.visible&&b.fill&&b.fill!=="none",M=!1,s=!1;if(T){var E=T.coloring;E==="lines"?M=!0:P=E==="none"||E==="heatmap"||T.showlines,T.type==="constraint"?L=T._operation!=="=":(E==="fill"||E==="heatmap")&&(s=!0)}return{showMarker:x,showLine:P,showFill:L,showGradientLine:M,showGradientFill:s,anyLine:P||M,anyFill:L||s}}function o(p,b,T){return p&&a.isArrayOrTypedArray(p)?b:p>T?T:p}},66540:function(H,G,e){e(76052),H.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(H,G,e){var g=e(24040),R=e(7316),a=e(79811),C=e(9224),S=e(4016).eraseActiveShape,v=e(3400),d=v._,r=H.exports={};r.toImage={name:"toImage",title:function(p){var b=p._context.toImageButtonOptions||{},T=b.format||"png";return T==="png"?d(p,"Download plot as a png"):d(p,"Download plot")},icon:C.camera,click:function(p){var b=p._context.toImageButtonOptions,T={format:b.format||"png"};v.notifier(d(p,"Taking snapshot - this may take a few seconds"),"long"),T.format!=="svg"&&v.isIE()&&(v.notifier(d(p,"IE only supports svg.  Changing format to svg."),"long"),T.format="svg"),["filename","width","height","scale"].forEach(function(P){P in b&&(T[P]=b[P])}),g.call("downloadImage",p,T).then(function(P){v.notifier(d(p,"Snapshot succeeded")+" - "+P,"long")}).catch(function(){v.notifier(d(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(p){return d(p,"Edit in Chart Studio")},icon:C.disk,click:function(p){R.sendDataToCloud(p)}},r.editInChartStudio={name:"editInChartStudio",title:function(p){return d(p,"Edit in Chart Studio")},icon:C.pencil,click:function(p){R.sendDataToCloud(p)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(p){return d(p,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return d(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(p){return d(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(p){return d(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:t},r.drawline={name:"drawline",title:function(p){return d(p,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:t},r.drawrect={name:"drawrect",title:function(p){return d(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(p){return d(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(p){return d(p,"Erase active shape")},icon:C.eraseshape,click:S},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return d(p,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return d(p,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return d(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return d(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:t};function t(p,b){var T=b.currentTarget,P=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,L=p._fullLayout,M={},s=a.list(p,null,!0),E=L._cartesianSpikesEnabled,w,O;if(P==="zoom"){var _=x==="in"?.5:2,U=(1+_)/2,z=(1-_)/2,F;for(O=0;O<s.length;O++)if(w=s[O],!w.fixedrange)if(F=w._name,x==="auto")M[F+".autorange"]=!0;else if(x==="reset")w._rangeInitial0===void 0&&w._rangeInitial1===void 0?M[F+".autorange"]=!0:w._rangeInitial0===void 0?(M[F+".autorange"]=w._autorangeInitial,M[F+".range"]=[null,w._rangeInitial1]):w._rangeInitial1===void 0?(M[F+".range"]=[w._rangeInitial0,null],M[F+".autorange"]=w._autorangeInitial):M[F+".range"]=[w._rangeInitial0,w._rangeInitial1],w._showSpikeInitial!==void 0&&(M[F+".showspikes"]=w._showSpikeInitial,E==="on"&&!w._showSpikeInitial&&(E="off"));else{var B=[w.r2l(w.range[0]),w.r2l(w.range[1])],N=[U*B[0]+z*B[1],U*B[1]+z*B[0]];M[F+".range[0]"]=w.l2r(N[0]),M[F+".range[1]"]=w.l2r(N[1])}}else P==="hovermode"&&(x==="x"||x==="y")&&(x=L._isHoriz?"y":"x",T.setAttribute("data-val",x)),M[P]=x;L._cartesianSpikesEnabled=E,g.call("_guiRelayout",p,M)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return d(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:i},r.pan3d={name:"pan3d",_cat:"pan",title:function(p){return d(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:i},r.orbitRotation={name:"orbitRotation",title:function(p){return d(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:i},r.tableRotation={name:"tableRotation",title:function(p){return d(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:i};function i(p,b){for(var T=b.currentTarget,P=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,L=p._fullLayout._subplots.gl3d||[],M={},s=P.split("."),E=0;E<L.length;E++)M[L[E]+"."+s[1]]=x;var w=x==="pan"?x:"zoom";M.dragmode=w,g.call("_guiRelayout",p,M)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return d(p,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return d(p,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:n};function n(p,b){for(var T=b.currentTarget,P=T.getAttribute("data-attr"),x=P==="resetLastSave",L=P==="resetDefault",M=p._fullLayout,s=M._subplots.gl3d||[],E={},w=0;w<s.length;w++){var O=s[w],_=O+".camera",U=O+".aspectratio",z=O+".aspectmode",F=M[O]._scene,B;x?(E[_+".up"]=F.viewInitial.up,E[_+".eye"]=F.viewInitial.eye,E[_+".center"]=F.viewInitial.center,B=!0):L&&(E[_+".up"]=null,E[_+".eye"]=null,E[_+".center"]=null,B=!0),B&&(E[U+".x"]=F.viewInitial.aspectratio.x,E[U+".y"]=F.viewInitial.aspectratio.y,E[U+".z"]=F.viewInitial.aspectratio.z,E[z]=F.viewInitial.aspectmode)}g.call("_guiRelayout",p,E)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:u};function f(p,b){var T=b.currentTarget,P=T._previousVal,x=p._fullLayout,L=x._subplots.gl3d||[],M=["xaxis","yaxis","zaxis"],s={},E={};if(P)E=P,T._previousVal=null;else{for(var w=0;w<L.length;w++){var O=L[w],_=x[O],U=O+".hovermode";s[U]=_.hovermode,E[U]=!1;for(var z=0;z<3;z++){var F=M[z],B=O+"."+F+".showspikes";E[B]=!1,s[B]=_[F].showspikes}}T._previousVal=s}return E}function u(p,b){var T=f(p,b);g.call("_guiRelayout",p,T)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return d(p,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c};function l(p,b){for(var T=b.currentTarget,P=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,L=p._fullLayout,M=L._subplots.geo||[],s=0;s<M.length;s++){var E=M[s],w=L[E];if(P==="zoom"){var O=w.projection.scale,_=x==="in"?2*O:.5*O;g.call("_guiRelayout",p,E+".projection.scale",_)}}P==="reset"&&o(p,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:c};function m(p){var b=p._fullLayout;return b.hovermode?!1:b._has("cartesian")?b._isHoriz?"y":"x":"closest"}function c(p){var b=m(p);g.call("_guiRelayout",p,"hovermode",b)}r.resetViewSankey={name:"resetSankeyGroup",title:function(p){return d(p,"Reset view")},icon:C.home,click:function(p){for(var b={"node.groups":[],"node.x":[],"node.y":[]},T=0;T<p._fullData.length;T++){var P=p._fullData[T]._viewInitial;b["node.groups"].push(P.node.groups.slice()),b["node.x"].push(P.node.x.slice()),b["node.y"].push(P.node.y.slice())}g.call("restyle",p,b)}},r.toggleHover={name:"toggleHover",title:function(p){return d(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(p,b){var T=f(p,b);T.hovermode=m(p),g.call("_guiRelayout",p,T)}},r.resetViews={name:"resetViews",title:function(p){return d(p,"Reset views")},icon:C.home,click:function(p,b){var T=b.currentTarget;T.setAttribute("data-attr","zoom"),T.setAttribute("data-val","reset"),t(p,b),T.setAttribute("data-attr","resetLastSave"),n(p,b),o(p,"geo"),o(p,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(p){return d(p,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var b=p._fullLayout,T=b._cartesianSpikesEnabled;b._cartesianSpikesEnabled=T==="on"?"off":"on",g.call("_guiRelayout",p,A(p))}};function A(p){for(var b=p._fullLayout,T=b._cartesianSpikesEnabled==="on",P=a.list(p,null,!0),x={},L=0;L<P.length;L++){var M=P[L];x[M._name+".showspikes"]=T?!0:M._showSpikeInitial}return x}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return d(p,"Reset view")},attr:"reset",icon:C.home,click:function(p){o(p,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return d(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:h},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return d(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:h};function h(p,b){for(var T=b.currentTarget,P=T.getAttribute("data-val"),x=p._fullLayout,L=x._subplots.mapbox||[],M=1.05,s={},E=0;E<L.length;E++){var w=L[E],O=x[w].zoom,_=P==="in"?M*O:O/M;s[w+".zoom"]=_}g.call("_guiRelayout",p,s)}function o(p,b){for(var T=p._fullLayout,P=T._subplots[b]||[],x={},L=0;L<P.length;L++)for(var M=P[L],s=T[M]._subplot,E=s.viewInitial,w=Object.keys(E),O=0;O<w.length;O++){var _=w[O];x[M+"."+_]=E[_]}g.call("_guiRelayout",p,x)}},76052:function(H,G,e){var g=e(44248),R=Object.keys(g),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),S=[],v=function(d){if(C.indexOf(d._cat||d.name)===-1){var r=d.name,t=(d._cat||d.name).toLowerCase();S.indexOf(r)===-1&&S.push(r),S.indexOf(t)===-1&&S.push(t)}};R.forEach(function(d){v(g[d])}),S.sort(),H.exports={DRAW_MODES:a,backButtons:C,foreButtons:S}},90824:function(H,G,e){var g=e(3400),R=e(76308),a=e(31780),C=e(66540);H.exports=function(v,d){var r=v.modebar||{},t=a.newContainer(d,"modebar");function i(f,u){return g.coerce(r,t,C,f,u)}i("orientation"),i("bgcolor",R.addOpacity(d.paper_bgcolor,.5));var n=R.contrast(R.rgb(d.modebar.bgcolor));i("color",R.addOpacity(n,.3)),i("activecolor",R.addOpacity(n,.7)),i("uirevision",d.uirevision),i("add"),i("remove")}},45460:function(H,G,e){H.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(H,G,e){var g=e(79811),R=e(43028),a=e(24040),C=e(10624).isUnifiedHover,S=e(66400),v=e(44248),d=e(76052).DRAW_MODES,r=e(3400).extendDeep;H.exports=function(c){var A=c._fullLayout,h=c._context,o=A._modeBar;if(!h.displayModeBar&&!h.watermark){o&&(o.destroy(),delete A._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p=h.modeBarButtons,b;Array.isArray(p)&&p.length?b=l(p):!h.displayModeBar&&h.watermark?b=[]:b=t(c),o?o.update(c,b):A._modeBar=S(c,b)};function t(m){var c=m._fullLayout,A=m._fullData,h=m._context;function o(K,$){if(typeof $=="string"){if($.toLowerCase()===K.toLowerCase())return!0}else{var le=$.name,ae=$._cat||$.name;if(le===K||ae===K.toLowerCase())return!0}return!1}var p=c.modebar.add;typeof p=="string"&&(p=[p]);var b=c.modebar.remove;typeof b=="string"&&(b=[b]);var T=h.modeBarButtonsToAdd.concat(p.filter(function(K){for(var $=0;$<h.modeBarButtonsToRemove.length;$++)if(o(K,h.modeBarButtonsToRemove[$]))return!1;return!0})),P=h.modeBarButtonsToRemove.concat(b.filter(function(K){for(var $=0;$<h.modeBarButtonsToAdd.length;$++)if(o(K,h.modeBarButtonsToAdd[$]))return!1;return!0})),x=c._has("cartesian"),L=c._has("gl3d"),M=c._has("geo"),s=c._has("pie"),E=c._has("funnelarea"),w=c._has("gl2d"),O=c._has("ternary"),_=c._has("mapbox"),U=c._has("polar"),z=c._has("smith"),F=c._has("sankey"),B=i(c),N=C(c.hovermode),V=[];function X(K){if(K.length){for(var $=[],le=0;le<K.length;le++){for(var ae=K[le],he=v[ae],xe=he.name.toLowerCase(),Me=(he._cat||he.name).toLowerCase(),Ae=!1,ke=0;ke<P.length;ke++){var we=P[ke].toLowerCase();if(we===xe||we===Me){Ae=!0;break}}Ae||$.push(v[ae])}V.push($)}}var q=["toImage"];h.showEditInChartStudio?q.push("editInChartStudio"):h.showSendToCloud&&q.push("sendDataToCloud"),X(q);var te=[],ne=[],ce=[],Q=[];(x||w||s||E||O)+M+L+_+U+z>1?(ne=["toggleHover"],ce=["resetViews"]):M?(te=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],ce=["resetGeo"]):L?(ne=["hoverClosest3d"],ce=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(te=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],ce=["resetViewMapbox"]):w?ne=["hoverClosestGl2d"]:s?ne=["hoverClosestPie"]:F?(ne=["hoverClosestCartesian","hoverCompareCartesian"],ce=["resetViewSankey"]):ne=["toggleHover"],x&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(A)||N)&&(ne=[]),(x||w)&&!B&&(te=["zoomIn2d","zoomOut2d","autoScale2d"],ce[0]!=="resetViews"&&(ce=["resetScale2d"])),L?Q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||w)&&!B||O?Q=["zoom2d","pan2d"]:_||M?Q=["pan2d"]:U&&(Q=["zoom2d"]),n(A)&&Q.push("select2d","lasso2d");var Z=[],re=function(K){Z.indexOf(K)===-1&&ne.indexOf(K)!==-1&&Z.push(K)};if(Array.isArray(T)){for(var Y=[],oe=0;oe<T.length;oe++){var ue=T[oe];typeof ue=="string"?(ue=ue.toLowerCase(),d.indexOf(ue)!==-1?(c._has("mapbox")||c._has("cartesian"))&&Q.push(ue):ue==="togglespikelines"?re("toggleSpikelines"):ue==="togglehover"?re("toggleHover"):ue==="hovercompare"?re("hoverCompareCartesian"):ue==="hoverclosest"?(re("hoverClosestCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie")):ue==="v1hovermode"&&(re("toggleHover"),re("hoverClosestCartesian"),re("hoverCompareCartesian"),re("hoverClosestGeo"),re("hoverClosest3d"),re("hoverClosestGl2d"),re("hoverClosestPie"))):Y.push(ue)}T=Y}return X(Q),X(te.concat(ce)),X(Z),u(V,T)}function i(m){for(var c=g.list({_fullLayout:m},null,!0),A=0;A<c.length;A++)if(!c[A].fixedrange)return!1;return!0}function n(m){for(var c=!1,A=0;A<m.length&&!c;A++){var h=m[A];!h._module||!h._module.selectPoints||(a.traceIs(h,"scatter-like")?(R.hasMarkers(h)||R.hasText(h))&&(c=!0):a.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(c=!0):c=!0)}return c}function f(m){for(var c=0;c<m.length;c++)if(!a.traceIs(m[c],"noHover"))return!1;return!0}function u(m,c){if(c.length)if(Array.isArray(c[0]))for(var A=0;A<c.length;A++)m.push(c[A]);else m.push(c);return m}function l(m){for(var c=r([],m),A=0;A<c.length;A++)for(var h=c[A],o=0;o<h.length;o++){var p=h[o];if(typeof p=="string")if(v[p]!==void 0)c[A][o]=v[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return c}},66400:function(H,G,e){var g=e(33428),R=e(38248),a=e(3400),C=e(9224),S=e(25788).version,v=new DOMParser;function d(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=d.prototype;r.update=function(n,f){this.graphInfo=n;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,m="modebar-"+l._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var c=l.modebar,A=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(m),a.addRelatedStyleRule(m,A+"#"+m+" .modebar-group","background-color: "+c.bgcolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+c.color),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+c.activecolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+c.activecolor);var h=!this.hasButtons(f),o=this.hasLogo!==u.displaylogo,p=this.locale!==u.locale;if(this.locale=u.locale,(h||o||p)&&(this.removeAllButtons(),this.updateButtons(f),u.watermark||u.displaylogo)){var b=this.getLogo();u.watermark&&(b.className=b.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(b,this.element.childNodes[0]):this.element.appendChild(b),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var f=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=f.createGroup();u.forEach(function(m){var c=m.name;if(!c)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(c)!==-1)throw new Error("button name '"+c+"' is taken");f.buttonsNames.push(c);var A=f.createButton(m);f.buttonElements.push(A),l.appendChild(A)}),f.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var f=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var m=n.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),u.setAttribute("data-val",m));var c=n.click;if(typeof c!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(h){n.click(f.graphInfo,h),f.updateActiveButton(h.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(u).classed("active",!0);var A=n.icon;return typeof A=="function"?u.appendChild(A()):u.appendChild(this.createIcon(A||C.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var f=R(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,n.width,f].join(" ")),l.setAttribute("class","icon");var m=document.createElementNS(u,"path");m.setAttribute("d",n.path),n.transform?m.setAttribute("transform",n.transform):n.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(m)}if(n.svg){var c=v.parseFromString(n.svg,"application/xml");l=c.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var f=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var m=l.getAttribute("data-val")||!0,c=l.getAttribute("data-attr"),A=l.getAttribute("data-toggle")==="true",h=g.select(l);if(A)c===u&&h.classed("active",!h.classed("active"));else{var o=c===null?c:a.nestedProperty(f,c).get();h.classed("active",o===m)}})},r.hasButtons=function(n){var f=this.buttons;if(!f||n.length!==f.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;l++)if(n[u][l].name!==f[u][l].name)return!1}return!0};function t(n){return n+" (v"+S+")"}r.getLogo=function(){var n=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",t(a._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(C.newplotlylogo)),n.appendChild(f),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function i(n,f){var u=n._fullLayout,l=new d({graphInfo:n,container:u._modebardiv.node(),buttons:f});return u._privateplot&&g.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}H.exports=i},26680:function(H,G,e){var g=e(25376),R=e(22548),a=e(31780).templatedArray,C=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});H.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:R.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:R.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(H){H.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(H,G,e){var g=e(3400),R=e(76308),a=e(31780),C=e(51272),S=e(26680),v=e(85984);H.exports=function(i,n,f,u,l){var m=i.rangeselector||{},c=a.newContainer(n,"rangeselector");function A(T,P){return g.coerce(m,c,S,T,P)}var h=C(m,c,{name:"buttons",handleItemDefaults:d,calendar:l}),o=A("visible",h.length>0);if(o){var p=r(n,f,u);A("x",p[0]),A("y",p[1]),g.noneOrAll(i,n,["x","y"]),A("xanchor"),A("yanchor"),g.coerceFont(A,"font",f.font);var b=A("bgcolor");A("activecolor",R.contrast(b,v.lightAmount,v.darkAmount)),A("bordercolor"),A("borderwidth")}};function d(t,i,n,f){var u=f.calendar;function l(A,h){return g.coerce(t,i,S.buttons,A,h)}var m=l("visible");if(m){var c=l("step");c!=="all"&&(u&&u!=="gregorian"&&(c==="month"||c==="year")?i.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,i,n){for(var f=n.filter(function(c){return i[c].anchor===t._id}),u=0,l=0;l<f.length;l++){var m=i[f[l]].domain;m&&(u=Math.max(m[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(H,G,e){var g=e(33428),R=e(24040),a=e(7316),C=e(76308),S=e(43616),v=e(3400),d=v.strTranslate,r=e(72736),t=e(79811),i=e(84284),n=i.LINE_SPACING,f=i.FROM_TL,u=i.FROM_BR,l=e(85984),m=e(48040);H.exports=function(L){var M=L._fullLayout,s=M._infolayer.selectAll(".rangeselector").data(c(L),A);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(E){var w=g.select(this),O=E,_=O.rangeselector,U=w.selectAll("g.button").data(v.filterVisible(_.buttons));U.enter().append("g").classed("button",!0),U.exit().remove(),U.each(function(z){var F=g.select(this),B=m(O,z);z._isActive=h(O,z,B),F.call(o,_,z),F.call(b,_,z,L),F.on("click",function(){L._dragged||R.call("_guiRelayout",L,B)}),F.on("mouseover",function(){z._isHovered=!0,F.call(o,_,z)}),F.on("mouseout",function(){z._isHovered=!1,F.call(o,_,z)})}),P(L,U,_,O._name,w)})};function c(x){for(var L=t.list(x,"x",!0),M=[],s=0;s<L.length;s++){var E=L[s];E.rangeselector&&E.rangeselector.visible&&M.push(E)}return M}function A(x){return x._id}function h(x,L,M){if(L.step==="all")return x.autorange===!0;var s=Object.keys(M);return x.range[0]===M[s[0]]&&x.range[1]===M[s[1]]}function o(x,L,M){var s=v.ensureSingle(x,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});s.attr({rx:l.rx,ry:l.ry}),s.call(C.stroke,L.bordercolor).call(C.fill,p(L,M)).style("stroke-width",L.borderwidth+"px")}function p(x,L){return L._isActive||L._isHovered?x.activecolor:x.bgcolor}function b(x,L,M,s){function E(O){r.convertToTspans(O,s)}var w=v.ensureSingle(x,"text","selector-text",function(O){O.attr("text-anchor","middle")});w.call(S.font,L.font).text(T(M,s._fullLayout._meta)).call(E)}function T(x,L){return x.label?L?v.templateString(x.label,L):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}function P(x,L,M,s,E){var w=0,O=0,_=M.borderwidth;L.each(function(){var V=g.select(this),X=V.select(".selector-text"),q=M.font.size*n,te=Math.max(q*r.lineCount(X),16)+3;O=Math.max(O,te)}),L.each(function(){var V=g.select(this),X=V.select(".selector-rect"),q=V.select(".selector-text"),te=q.node()&&S.bBox(q.node()).width,ne=M.font.size*n,ce=r.lineCount(q),Q=Math.max(te+10,l.minButtonWidth);V.attr("transform",d(_+w,_)),X.attr({x:0,y:0,width:Q,height:O}),r.positionText(q,Q/2,O/2-(ce-1)*ne/2+3),w+=Q+5});var U=x._fullLayout._size,z=U.l+U.w*M.x,F=U.t+U.h*(1-M.y),B="left";v.isRightAnchor(M)&&(z-=w,B="right"),v.isCenterAnchor(M)&&(z-=w/2,B="center");var N="top";v.isBottomAnchor(M)&&(F-=O,N="bottom"),v.isMiddleAnchor(M)&&(F-=O/2,N="middle"),w=Math.ceil(w),O=Math.ceil(O),z=Math.round(z),F=Math.round(F),a.autoMargin(x,s+"-range-selector",{x:M.x,y:M.y,l:w*f[B],r:w*u[B],b:O*u[N],t:O*f[N]}),E.attr("transform",d(z,F))}},48040:function(H,G,e){var g=e(73220),R=e(3400).titleCase;H.exports=function(S,v){var d=S._name,r={};if(v.step==="all")r[d+".autorange"]=!0;else{var t=a(S,v);r[d+".range[0]"]=t[0],r[d+".range[1]"]=t[1]}return r};function a(C,S){var v=C.range,d=new Date(C.r2l(v[1])),r=S.step,t=g["utc"+R(r)],i=S.count,n;switch(S.stepmode){case"backward":n=C.l2r(+t.offset(d,-i));break;case"todate":var f=t.offset(d,-i);n=C.l2r(+t.ceil(f));break}var u=v[1];return[n,u]}},41152:function(H,G,e){H.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(H,G,e){var g=e(22548);H.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(H,G,e){var g=e(79811).list,R=e(19280).getAutoRange,a=e(74636);H.exports=function(S){for(var v=g(S,"x",!0),d=0;d<v.length;d++){var r=v[d],t=r[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=R(S,r))}}},74636:function(H){H.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(H,G,e){var g=e(3400),R=e(31780),a=e(79811),C=e(11200),S=e(10936);H.exports=function(d,r,t){var i=d[t],n=r[t];if(!(i.rangeslider||r._requestRangeslider[n._id]))return;g.isPlainObject(i.rangeslider)||(i.rangeslider={});var f=i.rangeslider,u=R.newContainer(n,"rangeslider");function l(s,E){return g.coerce(f,u,C,s,E)}var m,c;function A(s,E){return g.coerce(m,c,S,s,E)}var h=l("visible");if(h){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(f.range)),l("range");var o=r._subplots;if(o)for(var p=o.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===a.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),b=g.simpleMap(p,a.id2name),T=0;T<b.length;T++){var P=b[T];m=f[P]||{},c=R.newContainer(u,P,"yaxis");var x=r[P],L;m.range&&x.isValidRange(m.range)&&(L="fixed");var M=A("rangemode",L);M!=="match"&&A("range",x.range.slice())}u._input=f}}},20060:function(H,G,e){var g=e(33428),R=e(24040),a=e(7316),C=e(3400),S=C.strTranslate,v=e(43616),d=e(76308),r=e(81668),t=e(57952),i=e(79811),n=e(86476),f=e(93972),u=e(74636);H.exports=function(L){for(var M=L._fullLayout,s=M._rangeSliderData,E=0;E<s.length;E++){var w=s[E][u.name];w._clipId=w._id+"-"+M._uid}function O(U){return U._name}var _=M._infolayer.selectAll("g."+u.containerClassName).data(s,O);_.exit().each(function(U){var z=U[u.name];M._topdefs.select("#"+z._clipId).remove()}).remove(),s.length!==0&&(_.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),_.each(function(U){var z=g.select(this),F=U[u.name],B=M[i.id2name(U.anchor)],N=F[i.id2name(U.anchor)];if(F.range){var V=C.simpleMap(F.range,U.r2l),X=C.simpleMap(U.range,U.r2l),q;X[0]<X[1]?q=[Math.min(V[0],X[0]),Math.max(V[1],X[1])]:q=[Math.max(V[0],X[0]),Math.min(V[1],X[1])],F.range=F._input.range=C.simpleMap(q,U.l2r)}U.cleanRange("rangeslider.range");var te=M._size,ne=U.domain;F._width=te.w*(ne[1]-ne[0]);var ce=Math.round(te.l+te.w*ne[0]),Q=Math.round(te.t+te.h*(1-U._counterDomainMin)+(U.side==="bottom"?U._depth:0)+F._offsetShift+u.extraPad);z.attr("transform",S(ce,Q)),F._rl=C.simpleMap(F.range,U.r2l);var Z=F._rl[0],re=F._rl[1],Y=re-Z;if(F.p2d=function(Ae){return Ae/F._width*Y+Z},F.d2p=function(Ae){return(Ae-Z)/Y*F._width},U.rangebreaks){var oe=U.locateBreaks(Z,re);if(oe.length){var ue,K,$=0;for(ue=0;ue<oe.length;ue++)K=oe[ue],$+=K.max-K.min;var le=F._width/(re-Z-$),ae=[-le*Z];for(ue=0;ue<oe.length;ue++)K=oe[ue],ae.push(ae[ae.length-1]-le*(K.max-K.min));for(F.d2p=function(Ae){for(var ke=ae[0],we=0;we<oe.length;we++){var Ee=oe[we];if(Ae>=Ee.max)ke=ae[we+1];else if(Ae<Ee.min)break}return ke+le*Ae},ue=0;ue<oe.length;ue++)K=oe[ue],K.pmin=F.d2p(K.min),K.pmax=F.d2p(K.max);F.p2d=function(Ae){for(var ke=ae[0],we=0;we<oe.length;we++){var Ee=oe[we];if(Ae>=Ee.pmax)ke=ae[we+1];else if(Ae<Ee.pmin)break}return(Ae-ke)/le}}}if(N.rangemode!=="match"){var he=B.r2l(N.range[0]),xe=B.r2l(N.range[1]),Me=xe-he;F.d2pOppAxis=function(Ae){return(Ae-he)/Me*F._height}}z.call(h,L,U,F).call(o,L,U,F).call(p,L,U,F).call(T,L,U,F,N).call(P,L,U,F).call(x,L,U,F),m(z,L,U,F),A(z,L,U,F,B,N),U.side==="bottom"&&r.draw(L,U._id+"title",{propContainer:U,propName:U._name+".title",placeholder:M._dfltTitle.x,attributes:{x:U._offset+U._length/2,y:Q+F._height+F._offsetShift+10+1.5*U.title.font.size,"text-anchor":"middle"}})}))};function l(L){return typeof L.clientX=="number"?L.clientX:L.touches&&L.touches.length>0?L.touches[0].clientX:0}function m(L,M,s,E){if(M._context.staticPlot)return;var w=L.select("rect."+u.slideBoxClassName).node(),O=L.select("rect."+u.grabAreaMinClassName).node(),_=L.select("rect."+u.grabAreaMaxClassName).node();function U(){var z=g.event,F=z.target,B=l(z),N=B-L.node().getBoundingClientRect().left,V=E.d2p(s._rl[0]),X=E.d2p(s._rl[1]),q=n.coverSlip();this.addEventListener("touchmove",te),this.addEventListener("touchend",ne),q.addEventListener("mousemove",te),q.addEventListener("mouseup",ne);function te(ce){var Q=l(ce),Z=+Q-B,re,Y,oe;switch(F){case w:if(oe="ew-resize",V+Z>s._length||X+Z<0)return;re=V+Z,Y=X+Z;break;case O:if(oe="col-resize",V+Z>s._length)return;re=V+Z,Y=X;break;case _:if(oe="col-resize",X+Z<0)return;re=V,Y=X+Z;break;default:oe="ew-resize",re=N,Y=N+Z;break}if(Y<re){var ue=Y;Y=re,re=ue}E._pixelMin=re,E._pixelMax=Y,f(g.select(q),oe),c(L,M,s,E)}function ne(){q.removeEventListener("mousemove",te),q.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",te),this.removeEventListener("touchend",ne),C.removeElement(q)}}L.on("mousedown",U),L.on("touchstart",U)}function c(L,M,s,E){function w(U){return s.l2r(C.constrain(U,E._rl[0],E._rl[1]))}var O=w(E.p2d(E._pixelMin)),_=w(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){R.call("_guiRelayout",M,s._name+".range",[O,_])})}function A(L,M,s,E,w,O){var _=u.handleWidth/2;function U(ce){return C.constrain(ce,0,E._width)}function z(ce){return C.constrain(ce,0,E._height)}function F(ce){return C.constrain(ce,-_,E._width+_)}var B=U(E.d2p(s._rl[0])),N=U(E.d2p(s._rl[1]));if(L.select("rect."+u.slideBoxClassName).attr("x",B).attr("width",N-B),L.select("rect."+u.maskMinClassName).attr("width",B),L.select("rect."+u.maskMaxClassName).attr("x",N).attr("width",E._width-N),O.rangemode!=="match"){var V=E._height-z(E.d2pOppAxis(w._rl[1])),X=E._height-z(E.d2pOppAxis(w._rl[0]));L.select("rect."+u.maskMinOppAxisClassName).attr("x",B).attr("height",V).attr("width",N-B),L.select("rect."+u.maskMaxOppAxisClassName).attr("x",B).attr("y",X).attr("height",E._height-X).attr("width",N-B),L.select("rect."+u.slideBoxClassName).attr("y",V).attr("height",X-V)}var q=.5,te=Math.round(F(B-_))-q,ne=Math.round(F(N-_))+q;L.select("g."+u.grabberMinClassName).attr("transform",S(te,q)),L.select("g."+u.grabberMaxClassName).attr("transform",S(ne,q))}function h(L,M,s,E){var w=C.ensureSingle(L,"rect",u.bgClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),O=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,_=-E._offsetShift,U=v.crispRound(M,E.borderwidth);w.attr({width:E._width+O,height:E._height+O,transform:S(_,_),"stroke-width":U}).call(d.stroke,E.bordercolor).call(d.fill,E.bgcolor)}function o(L,M,s,E){var w=M._fullLayout,O=C.ensureSingleById(w._topdefs,"clipPath",E._clipId,function(_){_.append("rect").attr({x:0,y:0})});O.select("rect").attr({width:E._width,height:E._height})}function p(L,M,s,E){var w=M.calcdata,O=L.selectAll("g."+u.rangePlotClassName).data(s._subplotsWith,C.identity);O.enter().append("g").attr("class",function(U){return u.rangePlotClassName+" "+U}).call(v.setClipUrl,E._clipId,M),O.order(),O.exit().remove();var _;O.each(function(U,z){var F=g.select(this),B=z===0,N=i.getFromId(M,U,"y"),V=N._name,X=E[V],q={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:E.range.slice(),calendar:s.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};s.rangebreaks&&(q.layout.xaxis.rangebreaks=s.rangebreaks),q.layout[V]={type:N.type,domain:[0,1],range:X.rangemode!=="match"?X.range.slice():N.range.slice(),calendar:N.calendar},N.rangebreaks&&(q.layout[V].rangebreaks=N.rangebreaks),a.supplyDefaults(q);var te=q._fullLayout.xaxis,ne=q._fullLayout[V];te.clearCalc(),te.setScale(),ne.clearCalc(),ne.setScale();var ce={id:U,plotgroup:F,xaxis:te,yaxis:ne,isRangePlot:!0};B?_=ce:(ce.mainplot="xy",ce.mainplotinfo=_),t.rangePlot(M,ce,b(w,U))})}function b(L,M){for(var s=[],E=0;E<L.length;E++){var w=L[E],O=w[0].trace;O.xaxis+O.yaxis===M&&s.push(w)}return s}function T(L,M,s,E,w){var O=C.ensureSingle(L,"rect",u.maskMinClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})});O.attr("height",E._height).call(d.fill,u.maskColor);var _=C.ensureSingle(L,"rect",u.maskMaxClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});if(_.attr("height",E._height).call(d.fill,u.maskColor),w.rangemode!=="match"){var U=C.ensureSingle(L,"rect",u.maskMinOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",E._width).call(d.fill,u.maskOppAxisColor);var z=C.ensureSingle(L,"rect",u.maskMaxOppAxisClassName,function(F){F.attr({y:0,"shape-rendering":"crispEdges"})});z.attr("width",E._width).style("border-top",u.maskOppBorder).call(d.fill,u.maskOppAxisColor)}}function P(L,M,s,E){if(!M._context.staticPlot){var w=C.ensureSingle(L,"rect",u.slideBoxClassName,function(O){O.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});w.attr({height:E._height,fill:u.slideBoxFill})}}function x(L,M,s,E){var w=C.ensureSingle(L,"g",u.grabberMinClassName),O=C.ensureSingle(L,"g",u.grabberMaxClassName),_={x:0,width:u.handleWidth,rx:u.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},U={y:Math.round(E._height/4),height:Math.round(E._height/2)},z=C.ensureSingle(w,"rect",u.handleMinClassName,function(X){X.attr(_)});z.attr(U);var F=C.ensureSingle(O,"rect",u.handleMaxClassName,function(X){X.attr(_)});F.attr(U);var B={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:M._context.staticPlot?void 0:u.grabAreaCursor},N=C.ensureSingle(w,"rect",u.grabAreaMinClassName,function(X){X.attr(B)});N.attr("height",E._height);var V=C.ensureSingle(O,"rect",u.grabAreaMaxClassName,function(X){X.attr(B)});V.attr("height",E._height)}},97944:function(H,G,e){var g=e(79811),R=e(72736),a=e(74636),C=e(84284).LINE_SPACING,S=a.name;function v(d){var r=d&&d[S];return r&&r.visible}G.isVisible=v,G.makeData=function(d){var r=g.list({_fullLayout:d},"x",!0),t=d.margin,i=[];if(!d._has("gl2d"))for(var n=0;n<r.length;n++){var f=r[n];if(v(f)){i.push(f);var u=f[S];u._id=S+f._id,u._height=(d.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}d._rangeSliderData=i},G.autoMarginOpts=function(d,r){var t=d._fullLayout,i=r[S],n=r._id.charAt(0),f=0,u=0;if(r.side==="bottom"&&(f=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+i._offsetShift;var l=(r.title.text.match(R.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*C}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:i._height+f+Math.max(t.margin.b,u),pad:a.extraPad+i._offsetShift*2}}},49692:function(H,G,e){var g=e(3400),R=e(11200),a=e(10936),C=e(97944);H.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},R,{yaxis:a})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},10936:function(H){H.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(H,G,e){var g=e(13916),R=e(52904).line,a=e(98192).u,C=e(92880).extendFlat,S=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),H.exports=S(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},g.xref,{}),yref:C({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:R.color,width:C({},R.width,{min:1,dflt:1}),dash:C({},a,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(H){H.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(H,G,e){var g=e(3400),R=e(54460),a=e(51272),C=e(93956),S=e(65152);H.exports=function(r,t){a(r,t,{name:"selections",handleItemDefaults:v});for(var i=t.selections,n=0;n<i.length;n++){var f=i[n];f&&f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(t.selections[n]=null)}};function v(d,r,t){function i(w,O){return g.coerce(d,r,C,w,O)}var n=i("path"),f=n?"path":"rect",u=i("type",f),l=u!=="path";l&&delete r.path,i("opacity"),i("line.color"),i("line.width"),i("line.dash");for(var m=["x","y"],c=0;c<2;c++){var A=m[c],h={_fullLayout:t},o,p,b,T=R.coerceRef(d,r,h,A);if(o=R.getFromId(h,T),o._selectionIndices.push(r._index),b=S.rangeToShapePosition(o),p=S.shapePositionToRange(o),l){var P=A+"0",x=A+"1",L=d[P],M=d[x];d[P]=p(d[P],!0),d[x]=p(d[x],!0),R.coercePosition(r,h,i,T,P),R.coercePosition(r,h,i,T,x);var s=r[P],E=r[x];s!==void 0&&E!==void 0&&(r[P]=b(s),r[x]=b(E),d[P]=L,d[x]=M)}}l&&g.noneOrAll(d,r,["x0","x1","y0","y1"])}},23640:function(H,G,e){var g=e(9856).readPaths,R=e(55496),a=e(1936).clearOutlineControllers,C=e(76308),S=e(43616),v=e(31780).arrayEditor,d=e(65152),r=d.getPathString;H.exports={draw:t,drawOne:n,activateLastSelection:l};function t(c){var A=c._fullLayout;a(c),A._selectionLayer.selectAll("path").remove();for(var h in A._plots){var o=A._plots[h].selectionLayer;o&&o.selectAll("path").remove()}for(var p=0;p<A.selections.length;p++)n(c,p)}function i(c){return c._context.editSelection}function n(c,A){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+A+'"]').remove();var h=d.makeSelectionsOptionsAndPlotinfo(c,A),o=h.options,p=h.plotinfo;if(!o._input)return;b(c._fullLayout._selectionLayer);function b(T){var P=r(c,o),x={"data-index":A,"fill-rule":"evenodd",d:P},L=o.opacity,M="rgba(0,0,0,0)",s=o.line.color||C.contrast(c._fullLayout.plot_bgcolor),E=o.line.width,w=o.line.dash;E||(E=5,w="solid");var O=i(c)&&c._fullLayout._activeSelectionIndex===A;O&&(M=c._fullLayout.activeselection.fillcolor,L=c._fullLayout.activeselection.opacity);for(var _=[],U=1;U>=0;U--){var z=T.append("path").attr(x).style("opacity",U?.1:L).call(C.stroke,s).call(C.fill,M).call(S.dashLine,U?"solid":w,U?4+E:E);if(f(z,c,o),O){var F=v(c.layout,"selections",o);z.style({cursor:"move"});var B={element:z.node(),plotinfo:p,gd:c,editHelpers:F,isActiveSelection:!0},N=g(P,c);R(N,z,B)}else z.style("pointer-events",U?"all":"none");_[U]=z}var V=_[0],X=_[1];X.node().addEventListener("click",function(){return u(c,V)})}}function f(c,A,h){var o=h.xref+h.yref;S.setClipUrl(c,"clip"+A._fullLayout._uid+o,A)}function u(c,A){if(i(c)){var h=A.node(),o=+h.getAttribute("data-index");if(o>=0){if(o===c._fullLayout._activeSelectionIndex){m(c);return}c._fullLayout._activeSelectionIndex=o,c._fullLayout._deactivateSelection=m,t(c)}}}function l(c){if(i(c)){var A=c._fullLayout.selections.length-1;c._fullLayout._activeSelectionIndex=A,c._fullLayout._deactivateSelection=m,t(c)}}function m(c){if(i(c)){var A=c._fullLayout._activeSelectionIndex;A>=0&&(a(c),delete c._fullLayout._activeSelectionIndex,t(c))}}},34200:function(H,G,e){var g=e(98192).u,R=e(92880).extendFlat;H.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:R({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(H){H.exports=function(e,g,R){R("newselection.mode");var a=R("newselection.line.width");a&&(R("newselection.line.color"),R("newselection.line.dash")),R("activeselection.fillcolor"),R("activeselection.opacity")}},5968:function(H,G,e){var g=e(72760),R=g.selectMode,a=e(1936),C=a.clearOutline,S=e(9856),v=S.readPaths,d=S.writePaths,r=S.fixDatesForPaths;H.exports=function(i,n){if(i.length){var f=i[0][0];if(f){var u=f.getAttribute("d"),l=n.gd,m=l._fullLayout.newselection,c=n.plotinfo,A=c.xaxis,h=c.yaxis,o=n.isActiveSelection,p=n.dragmode,b=(l.layout||{}).selections||[];if(!R(p)&&o!==void 0){var T=l._fullLayout._activeSelectionIndex;if(T<b.length)switch(l._fullLayout.selections[T].type){case"rect":p="select";break;case"path":p="lasso";break}}var P=v(u,l,c,o),x={xref:A._id,yref:h._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},L;P.length===1&&(L=P[0]),L&&L.length===5&&p==="select"?(x.type="rect",x.x0=L[0][1],x.y0=L[0][2],x.x1=L[2][1],x.y1=L[2][2]):(x.type="path",A&&h&&r(P,A,h),x.path=d(P),L=null),C(l);for(var M=n.editHelpers,s=(M||{}).modifyItem,E=[],w=0;w<b.length;w++){var O=l._fullLayout.selections[w];if(!O){E[w]=O;continue}if(E[w]=O._input,o!==void 0&&w===l._fullLayout._activeSelectionIndex){var _=x;switch(O.type){case"rect":s("x0",_.x0),s("x1",_.x1),s("y0",_.y0),s("y1",_.y1);break;case"path":s("path",_.path);break}}}return o===void 0?(E.push(x),E):M?M.getUpdateObj():{}}}}},5840:function(H,G,e){var g=e(3400).strTranslate;function R(v,d){switch(v.type){case"log":return v.p2d(d);case"date":return v.p2r(d,0,v.calendar);default:return v.p2r(d)}}function a(v,d){switch(v.type){case"log":return v.d2p(d);case"date":return v.r2p(d,0,v.calendar);default:return v.r2p(d)}}function C(v){var d=v._id.charAt(0)==="y"?1:0;return function(r){return R(v,r[d])}}function S(v){return g(v.xaxis._offset,v.yaxis._offset)}H.exports={p2r:R,r2p:a,axValue:C,getTransform:S}},22676:function(H,G,e){var g=e(23640),R=e(43156);H.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:R.reselect,prepSelect:R.prepSelect,clearOutline:R.clearOutline,clearSelectionsCache:R.clearSelectionsCache,selectOnClick:R.selectOnClick}},43156:function(H,G,e){var g=e(14756),R=e(61456),a=e(24040),C=e(43616).dashStyle,S=e(76308),v=e(93024),d=e(10624).makeEventData,r=e(72760),t=r.freeMode,i=r.rectMode,n=r.drawMode,f=r.openMode,u=r.selectMode,l=e(65152),m=e(85448),c=e(55496),A=e(1936).clearOutline,h=e(9856),o=h.handleEllipse,p=h.readPaths,b=e(93940).newShapes,T=e(5968),P=e(23640).activateLastSelection,x=e(3400),L=x.sorterAsc,M=e(92065),s=e(91200),E=e(79811).getFromId,w=e(73696),O=e(39172).redrawReglTraces,_=e(83280),U=_.MINSELECT,z=M.filter,F=M.tester,B=e(5840),N=B.p2r,V=B.axValue,X=B.getTransform;function q(We){return We.subplot!==void 0}function te(We,_e,Ie,Xe,De){var de=!q(Xe),Te=t(De),Be=i(De),Qe=f(De),at=n(De),it=u(De),Wt=De==="drawline",Yt=De==="drawcircle",Tt=Wt||Yt,Lt=Xe.gd,Xt=Lt._fullLayout,Tr=it&&Xt.newselection.mode==="immediate"&&de,gt=Xt._zoomlayer,Kt=Xe.element.getBoundingClientRect(),Qt=Xe.plotinfo,yr=X(Qt),fr=_e-Kt.left,yt=Ie-Kt.top;Xt._calcInverseTransform(Lt);var ot=x.apply3DTransform(Xt._invTransform)(fr,yt);fr=ot[0],yt=ot[1];var bt=Xt._invScaleX,Et=Xt._invScaleY,Dt=fr,Ht=yt,Bt="M"+fr+","+yt,Nt=Xe.xaxes[0],Jt=Xe.yaxes[0],hr=Nt._length,Zt=Jt._length,dr=We.altKey&&!(n(De)&&Qe),je,Ge,Ot,kt,$t,ar,or;Y(We,Lt,Xe),Te&&(je=z([[fr,yt]],_.BENDPX));var rr=gt.selectAll("path.select-outline-"+Qt.id).data([1]),zt=at?Xt.newshape:Xt.newselection;at&&(Xe.hasText=zt.label.text||zt.label.texttemplate);var vr=at&&!Qe?zt.fillcolor:"rgba(0,0,0,0)",gr=zt.line.color||(de?S.contrast(Lt._fullLayout.plot_bgcolor):"#7f7f7f");rr.enter().append("path").attr("class","select-outline select-outline-"+Qt.id).style({opacity:at?zt.opacity/2:1,"stroke-dasharray":C(zt.line.dash,zt.line.width),"stroke-width":zt.line.width+"px","shape-rendering":"crispEdges"}).call(S.stroke,gr).call(S.fill,vr).attr("fill-rule","evenodd").classed("cursor-move",!!at).attr("transform",yr).attr("d",Bt+"Z");var Ar=gt.append("path").attr("class","zoombox-corners").style({fill:S.background,stroke:S.defaultLine,"stroke-width":1}).attr("transform",yr).attr("d","M0,0Z");if(at&&Xe.hasText){var cr=gt.select(".label-temp");cr.empty()&&(cr=gt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Hr=Xt._uid+_.SELECTID,Rr=[],Ir=le(Lt,Xe.xaxes,Xe.yaxes,Xe.subplot);Tr&&!We.shiftKey&&(Xe._clearSubplotSelections=function(){if(de){var Zr=Nt._id,An=Jt._id;vt(Lt,Zr,An,Ir);for(var Sn=(Lt.layout||{}).selections||[],br=[],Or=!1,jr=0;jr<Sn.length;jr++){var zr=Xt.selections[jr];zr.xref!==Zr||zr.yref!==An?br.push(Sn[jr]):Or=!0}Or&&(Lt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Lt,{selections:br}))}});var cn=tt(Xe);Xe.moveFn=function(Zr,An){Xe._clearSubplotSelections&&(Xe._clearSubplotSelections(),Xe._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(hr,bt*Zr+fr)),Ht=Math.max(0,Math.min(Zt,Et*An+yt));var Sn=Math.abs(Dt-fr),br=Math.abs(Ht-yt);if(Be){var Or,jr,zr;if(it){var pn=Xt.selectdirection;switch(pn==="any"?br<Math.min(Sn*.6,U)?Or="h":Sn<Math.min(br*.6,U)?Or="v":Or="d":Or=pn,Or){case"h":jr=Yt?Zt/2:0,zr=Zt;break;case"v":jr=Yt?hr/2:0,zr=hr;break}}if(at)switch(Xt.newshape.drawdirection){case"vertical":Or="h",jr=Yt?Zt/2:0,zr=Zt;break;case"horizontal":Or="v",jr=Yt?hr/2:0,zr=hr;break;case"ortho":Sn<br?(Or="h",jr=yt,zr=Ht):(Or="v",jr=fr,zr=Dt);break;default:Or="d"}Or==="h"?(kt=Tt?o(Yt,[Dt,jr],[Dt,zr]):[[fr,jr],[fr,zr],[Dt,zr],[Dt,jr]],kt.xmin=Tt?Dt:Math.min(fr,Dt),kt.xmax=Tt?Dt:Math.max(fr,Dt),kt.ymin=Math.min(jr,zr),kt.ymax=Math.max(jr,zr),Ar.attr("d","M"+kt.xmin+","+(yt-U)+"h-4v"+2*U+"h4ZM"+(kt.xmax-1)+","+(yt-U)+"h4v"+2*U+"h-4Z")):Or==="v"?(kt=Tt?o(Yt,[jr,Ht],[zr,Ht]):[[jr,yt],[jr,Ht],[zr,Ht],[zr,yt]],kt.xmin=Math.min(jr,zr),kt.xmax=Math.max(jr,zr),kt.ymin=Tt?Ht:Math.min(yt,Ht),kt.ymax=Tt?Ht:Math.max(yt,Ht),Ar.attr("d","M"+(fr-U)+","+kt.ymin+"v-4h"+2*U+"v4ZM"+(fr-U)+","+(kt.ymax-1)+"v4h"+2*U+"v-4Z")):Or==="d"&&(kt=Tt?o(Yt,[fr,yt],[Dt,Ht]):[[fr,yt],[fr,Ht],[Dt,Ht],[Dt,yt]],kt.xmin=Math.min(fr,Dt),kt.xmax=Math.max(fr,Dt),kt.ymin=Math.min(yt,Ht),kt.ymax=Math.max(yt,Ht),Ar.attr("d","M0,0Z"))}else Te&&(je.addPt([Dt,Ht]),kt=je.filtered);if(Xe.selectionDefs&&Xe.selectionDefs.length?(Ot=be(Xe.mergedPolygons,kt,dr),kt.subtract=dr,Ge=re(Xe.selectionDefs.concat([kt]))):(Ot=[kt],Ge=F(kt)),c(Ue(Ot,Qe),rr,Xe),it){var hn=Fe(Lt,!1),Ln=hn.eventData?hn.eventData.points.slice():[];hn=Fe(Lt,!1,Ge,Ir,Xe),Ge=hn.selectionTesters,or=hn.eventData;var Rn;je?Rn=je.filtered:Rn=mt(Ot),s.throttle(Hr,_.SELECTDELAY,function(){Rr=Ve(Ge,Ir);for(var Gn=Rr.slice(),oa=0;oa<Ln.length;oa++){for(var xa=Ln[oa],Ta=!1,da=0;da<Gn.length;da++)if(Gn[da].curveNumber===xa.curveNumber&&Gn[da].pointNumber===xa.pointNumber){Ta=!0;break}Ta||Gn.push(xa)}Gn.length&&(or||(or={}),or.points=Gn),cn(or,Rn),Oe(Lt,or)})}},Xe.clickFn=function(Zr,An){if(Ar.remove(),Lt._fullLayout._activeShapeIndex>=0){Lt._fullLayout._deactivateShape(Lt);return}if(!at){var Sn=Xt.clickmode;s.done(Hr).then(function(){if(s.clear(Hr),Zr===2){for(rr.remove(),$t=0;$t<Ir.length;$t++)ar=Ir[$t],ar._module.selectPoints(ar,!1);if(we(Lt,Ir),K(Xe),Ze(Lt),Ir.length){var br=Ir[0].xaxis,Or=Ir[0].yaxis;if(br&&Or){for(var jr=[],zr=Lt._fullLayout.selections,pn=0;pn<zr.length;pn++){var hn=zr[pn];hn&&(hn.xref!==br._id||hn.yref!==Or._id)&&jr.push(hn)}jr.length<zr.length&&(Lt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Lt,{selections:jr}))}}}else Sn.indexOf("select")>-1&&ne(An,Lt,Xe.xaxes,Xe.yaxes,Xe.subplot,Xe,rr),Sn==="event"&&Ye(Lt,void 0);v.click(Lt,An,Qt.id)}).catch(x.error)}},Xe.doneFn=function(){Ar.remove(),s.done(Hr).then(function(){s.clear(Hr),!Tr&&kt&&Xe.selectionDefs&&(kt.subtract=dr,Xe.selectionDefs.push(kt),Xe.mergedPolygons.length=0,[].push.apply(Xe.mergedPolygons,Ot)),(Tr||at)&&K(Xe,Tr),Xe.doneFnCompleted&&Xe.doneFnCompleted(Rr),it&&Ye(Lt,or)}).catch(x.error)}}function ne(We,_e,Ie,Xe,De,de,Te){var Be=_e._hoverdata,Qe=_e._fullLayout,at=Qe.clickmode,it=at.indexOf("event")>-1,Wt=[],Yt,Tt,Lt,Xt,Tr,gt,Kt,Qt,yr,fr;if(he(Be)){Y(We,_e,de),Yt=le(_e,Ie,Xe,De);var yt=xe(Be,Yt),ot=yt.pointNumbers.length>0;if(ot?Ae(Yt,yt):ke(Yt)&&(Kt=Me(yt))){for(Te&&Te.remove(),fr=0;fr<Yt.length;fr++)Tt=Yt[fr],Tt._module.selectPoints(Tt,!1);we(_e,Yt),K(de),it&&Ze(_e)}else{Qt=We.shiftKey&&(Kt!==void 0?Kt:Me(yt)),Lt=ce(yt.pointNumber,yt.searchInfo,Qt);var bt=de.selectionDefs.concat([Lt]);for(Xt=re(bt),fr=0;fr<Yt.length;fr++)if(Tr=Yt[fr]._module.selectPoints(Yt[fr],Xt),gt=Le(Tr,Yt[fr]),Wt.length)for(var Et=0;Et<gt.length;Et++)Wt.push(gt[Et]);else Wt=gt;if(yr={points:Wt},we(_e,Yt,yr),Lt&&de&&de.selectionDefs.push(Lt),Te){var Dt=de.mergedPolygons,Ht=f(de.dragmode);c(Ue(Dt,Ht),Te,de)}it&&Ye(_e,yr)}}}function ce(We,_e,Ie){return{pointNumber:We,searchInfo:_e,subtract:!!Ie}}function Q(We){return"pointNumber"in We&&"searchInfo"in We}function Z(We){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(_e,Ie,Xe,De){var de=We.searchInfo.cd[0].trace._expandedIndex,Te=De.cd[0].trace._expandedIndex;return Te===de&&Xe===We.pointNumber},isRect:!1,degenerate:!1,subtract:!!We.subtract}}function re(We){if(!We.length)return;for(var _e=[],Ie=Q(We[0])?0:We[0][0][0],Xe=Ie,De=Q(We[0])?0:We[0][0][1],de=De,Te=0;Te<We.length;Te++)if(Q(We[Te]))_e.push(Z(We[Te]));else{var Be=F(We[Te]);Be.subtract=!!We[Te].subtract,_e.push(Be),Ie=Math.min(Ie,Be.xmin),Xe=Math.max(Xe,Be.xmax),De=Math.min(De,Be.ymin),de=Math.max(de,Be.ymax)}function Qe(at,it,Wt,Yt){for(var Tt=!1,Lt=0;Lt<_e.length;Lt++)_e[Lt].contains(at,it,Wt,Yt)&&(Tt=!_e[Lt].subtract);return Tt}return{xmin:Ie,xmax:Xe,ymin:De,ymax:de,pts:[],contains:Qe,isRect:!1,degenerate:!1}}function Y(We,_e,Ie){var Xe=_e._fullLayout,De=Ie.plotinfo,de=Ie.dragmode,Te=Xe._lastSelectedSubplot&&Xe._lastSelectedSubplot===De.id,Be=(We.shiftKey||We.altKey)&&!(n(de)&&f(de));Te&&Be&&De.selection&&De.selection.selectionDefs&&!Ie.selectionDefs?(Ie.selectionDefs=De.selection.selectionDefs,Ie.mergedPolygons=De.selection.mergedPolygons):(!Be||!De.selection)&&K(Ie),Te||(A(_e),Xe._lastSelectedSubplot=De.id)}function oe(We){return We._fullLayout._activeShapeIndex>=0}function ue(We){return We._fullLayout._activeSelectionIndex>=0}function K(We,_e){var Ie=We.dragmode,Xe=We.plotinfo,De=We.gd;oe(De)&&De._fullLayout._deactivateShape(De),ue(De)&&De._fullLayout._deactivateSelection(De);var de=De._fullLayout,Te=de._zoomlayer,Be=n(Ie),Qe=u(Ie);if(Be||Qe){var at=Te.selectAll(".select-outline-"+Xe.id);if(at&&De._fullLayout._outlining){var it;Be&&(it=b(at,We)),it&&a.call("_guiRelayout",De,{shapes:it});var Wt;Qe&&!q(We)&&(Wt=T(at,We)),Wt&&(De._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",De,{selections:Wt}).then(function(){_e&&P(De)})),De._fullLayout._outlining=!1}}Xe.selection={},Xe.selection.selectionDefs=We.selectionDefs=[],Xe.selection.mergedPolygons=We.mergedPolygons=[]}function $(We){return We._id}function le(We,_e,Ie,Xe){if(!We.calcdata)return[];var De=[],de=_e.map($),Te=Ie.map($),Be,Qe,at;for(at=0;at<We.calcdata.length;at++)if(Be=We.calcdata[at],Qe=Be[0].trace,!(Qe.visible!==!0||!Qe._module||!Qe._module.selectPoints))if(q({subplot:Xe})&&(Qe.subplot===Xe||Qe.geo===Xe))De.push(ae(Qe._module,Be,_e[0],Ie[0]));else if(Qe.type==="splom"){if(Qe._xaxes[de[0]]&&Qe._yaxes[Te[0]]){var it=ae(Qe._module,Be,_e[0],Ie[0]);it.scene=We._fullLayout._splomScenes[Qe.uid],De.push(it)}}else if(Qe.type==="sankey"){var Wt=ae(Qe._module,Be,_e[0],Ie[0]);De.push(Wt)}else{if(de.indexOf(Qe.xaxis)===-1&&(!Qe._xA||!Qe._xA.overlaying)||Te.indexOf(Qe.yaxis)===-1&&(!Qe._yA||!Qe._yA.overlaying))continue;De.push(ae(Qe._module,Be,E(We,Qe.xaxis),E(We,Qe.yaxis)))}return De}function ae(We,_e,Ie,Xe){return{_module:We,cd:_e,xaxis:Ie,yaxis:Xe}}function he(We){return We&&Array.isArray(We)&&We[0].hoverOnBox!==!0}function xe(We,_e){var Ie=We[0],Xe=-1,De=[],de,Te;for(Te=0;Te<_e.length;Te++)if(de=_e[Te],Ie.fullData._expandedIndex===de.cd[0].trace._expandedIndex){if(Ie.hoverOnBox===!0)break;Ie.pointNumber!==void 0?Xe=Ie.pointNumber:Ie.binNumber!==void 0&&(Xe=Ie.binNumber,De=Ie.pointNumbers);break}return{pointNumber:Xe,pointNumbers:De,searchInfo:de}}function Me(We){var _e=We.searchInfo.cd[0].trace,Ie=We.pointNumber,Xe=We.pointNumbers,De=Xe.length>0,de=De?Xe[0]:Ie;return _e.selectedpoints?_e.selectedpoints.indexOf(de)>-1:!1}function Ae(We,_e){var Ie=[],Xe,De,de,Te;for(Te=0;Te<We.length;Te++)Xe=We[Te],Xe.cd[0].trace.selectedpoints&&Xe.cd[0].trace.selectedpoints.length>0&&Ie.push(Xe);if(Ie.length===1&&(de=Ie[0]===_e.searchInfo,de&&(De=_e.searchInfo.cd[0].trace,De.selectedpoints.length===_e.pointNumbers.length))){for(Te=0;Te<_e.pointNumbers.length;Te++)if(De.selectedpoints.indexOf(_e.pointNumbers[Te])<0)return!1;return!0}return!1}function ke(We){var _e=0,Ie,Xe,De;for(De=0;De<We.length;De++)if(Ie=We[De],Xe=Ie.cd[0].trace,Xe.selectedpoints&&(Xe.selectedpoints.length>1||(_e+=Xe.selectedpoints.length,_e>1)))return!1;return _e===1}function we(We,_e,Ie){var Xe;for(Xe=0;Xe<_e.length;Xe++){var De=_e[Xe].cd[0].trace._fullInput,de=We._fullLayout._tracePreGUI[De.uid]||{};de.selectedpoints===void 0&&(de.selectedpoints=De._input.selectedpoints||null)}var Te;if(Ie){var Be=Ie.points||[];for(Xe=0;Xe<_e.length;Xe++)Te=_e[Xe].cd[0].trace,Te._input.selectedpoints=Te._fullInput.selectedpoints=[],Te._fullInput!==Te&&(Te.selectedpoints=[]);for(var Qe=0;Qe<Be.length;Qe++){var at=Be[Qe],it=at.data,Wt=at.fullData,Yt=at.pointIndex,Tt=at.pointIndices;Tt?([].push.apply(it.selectedpoints,Tt),Te._fullInput!==Te&&[].push.apply(Wt.selectedpoints,Tt)):(it.selectedpoints.push(Yt),Te._fullInput!==Te&&Wt.selectedpoints.push(Yt))}}else for(Xe=0;Xe<_e.length;Xe++)Te=_e[Xe].cd[0].trace,delete Te.selectedpoints,delete Te._input.selectedpoints,Te._fullInput!==Te&&delete Te._fullInput.selectedpoints;Ee(We,_e)}function Ee(We,_e){for(var Ie=!1,Xe=0;Xe<_e.length;Xe++){var De=_e[Xe],de=De.cd;a.traceIs(de[0].trace,"regl")&&(Ie=!0);var Te=De._module,Be=Te.styleOnSelect||Te.style;Be&&(Be(We,de,de[0].node3),de[0].nodeRangePlot3&&Be(We,de,de[0].nodeRangePlot3))}Ie&&(w(We),O(We))}function be(We,_e,Ie){for(var Xe=Ie?g.difference:g.union,De=Xe({regions:We},{regions:[_e]}),de=De.regions.reverse(),Te=0;Te<de.length;Te++){var Be=de[Te];Be.subtract=ct(Be,de.slice(0,Te))}return de}function Le(We,_e){if(Array.isArray(We))for(var Ie=_e.cd,Xe=_e.cd[0].trace,De=0;De<We.length;De++)We[De]=d(We[De],Xe,Ie);return We}function Ue(We,_e){for(var Ie=[],Xe=0;Xe<We.length;Xe++){Ie[Xe]=[];for(var De=0;De<We[Xe].length;De++){Ie[Xe][De]=[],Ie[Xe][De][0]=De?"L":"M";for(var de=0;de<We[Xe][De].length;de++)Ie[Xe][De].push(We[Xe][De][de])}_e||Ie[Xe].push(["Z",Ie[Xe][0][1],Ie[Xe][0][2]])}return Ie}function Ve(We,_e){for(var Ie=[],Xe,De,de=0;de<_e.length;de++){var Te=_e[de];De=Te._module.selectPoints(Te,We),Xe=Le(De,Te),Ie=Ie.concat(Xe)}return Ie}function Fe(We,_e,Ie,Xe,De){var de=!!Xe,Te,Be,Qe;De&&(Te=De.plotinfo,Be=De.xaxes[0]._id,Qe=De.yaxes[0]._id);var at=[],it=[],Wt=et(We),Yt=We._fullLayout;if(Te){var Tt=Yt._zoomlayer,Lt=Yt.dragmode,Xt=n(Lt),Tr=u(Lt);if(Xt||Tr){var gt=E(We,Be,"x"),Kt=E(We,Qe,"y");if(gt&&Kt){var Qt=Tt.selectAll(".select-outline-"+Te.id);if(Qt&&We._fullLayout._outlining&&Qt.length){for(var yr=Qt[0][0],fr=yr.getAttribute("d"),yt=p(fr,We,Te),ot=[],bt=0;bt<yt.length;bt++){for(var Et=yt[bt],Dt=[],Ht=0;Ht<Et.length;Ht++)Dt.push([ht(gt,Et[Ht][1]),ht(Kt,Et[Ht][2])]);Dt.xref=Be,Dt.yref=Qe,Dt.subtract=ct(Dt,ot),ot.push(Dt)}Wt=Wt.concat(ot)}}}}var Bt=Be&&Qe?[Be+Qe]:Yt._subplots.cartesian;He(We);for(var Nt={},Jt=0;Jt<Bt.length;Jt++){var hr=Bt[Jt],Zt=hr.indexOf("y"),dr=hr.slice(0,Zt),je=hr.slice(Zt),Ge=Be&&Qe?Ie:void 0;if(Ge=lt(Wt,dr,je,Ge),Ge){var Ot=Xe;if(!de){var kt=E(We,dr,"x"),$t=E(We,je,"y");Ot=le(We,[kt],[$t],hr);for(var ar=0;ar<Ot.length;ar++){var or=Ot[ar],rr=or.cd[0],zt=rr.trace;if(or._module.name==="scattergl"&&!rr.t.xpx){var vr=zt.x,gr=zt.y,Ar=zt._length;rr.t.xpx=[],rr.t.ypx=[];for(var cr=0;cr<Ar;cr++)rr.t.xpx[cr]=kt.c2p(vr[cr]),rr.t.ypx[cr]=$t.c2p(gr[cr])}or._module.name==="splom"&&(Nt[zt.uid]||(Nt[zt.uid]=!0))}}var Hr=Ve(Ge,Ot);at=at.concat(Hr),it=it.concat(Ot)}}var Rr={points:at};we(We,it,Rr);var Ir=Yt.clickmode,cn=Ir.indexOf("event")>-1&&_e;if(!Te&&_e){var Zr=et(We,!0);if(Zr.length){var An=Zr[0].xref,Sn=Zr[0].yref;if(An&&Sn){var br=mt(Zr),Or=Mt([E(We,An,"x"),E(We,Sn,"y")]);Or(Rr,br)}}We._fullLayout._noEmitSelectedAtStart?We._fullLayout._noEmitSelectedAtStart=!1:cn&&Ye(We,Rr),Yt._reselect=!1}if(!Te&&Yt._deselect){var jr=Yt._deselect;Be=jr.xref,Qe=jr.yref,st(Be,Qe,it)||vt(We,Be,Qe,Xe),cn&&(Rr.points.length?Ye(We,Rr):Ze(We)),Yt._deselect=!1}return{eventData:Rr,selectionTesters:Ie}}function He(We){var _e=We.calcdata;if(_e)for(var Ie=0;Ie<_e.length;Ie++){var Xe=_e[Ie][0],De=Xe.trace,de=We._fullLayout._splomScenes;if(de){var Te=de[De.uid];Te&&(Te.selectBatch=[])}}}function st(We,_e,Ie){for(var Xe=0;Xe<Ie.length;Xe++){var De=Ie[Xe];if(De.xaxis&&De.xaxis._id===We&&De.yaxis&&De.yaxis._id===_e)return!0}return!1}function vt(We,_e,Ie,Xe){Xe=le(We,[E(We,_e,"x")],[E(We,Ie,"y")],_e+Ie);for(var De=0;De<Xe.length;De++){var de=Xe[De];de._module.selectPoints(de,!1)}we(We,Xe)}function lt(We,_e,Ie,Xe){for(var De,de=0;de<We.length;de++){var Te=We[de];if(!(_e!==Te.xref||Ie!==Te.yref))if(De){var Be=!!Te.subtract;De=be(De,Te,Be),Xe=re(De)}else De=[Te],Xe=F(Te)}return Xe}function et(We,_e){for(var Ie=[],Xe=We._fullLayout,De=Xe.selections,de=De.length,Te=0;Te<de;Te++)if(!(_e&&Te!==Xe._activeSelectionIndex)){var Be=De[Te];if(Be){var Qe=Be.xref,at=Be.yref,it=E(We,Qe,"x"),Wt=E(We,at,"y"),Yt,Tt,Lt,Xt,Tr;if(Be.type==="rect"){Tr=[];var gt=ht(it,Be.x0),Kt=ht(it,Be.x1),Qt=ht(Wt,Be.y0),yr=ht(Wt,Be.y1);Tr=[[gt,Qt],[gt,yr],[Kt,yr],[Kt,Qt]],Yt=Math.min(gt,Kt),Tt=Math.max(gt,Kt),Lt=Math.min(Qt,yr),Xt=Math.max(Qt,yr),Tr.xmin=Yt,Tr.xmax=Tt,Tr.ymin=Lt,Tr.ymax=Xt,Tr.xref=Qe,Tr.yref=at,Tr.subtract=!1,Tr.isRect=!0,Ie.push(Tr)}else if(Be.type==="path")for(var fr=Be.path.split("Z"),yt=[],ot=0;ot<fr.length;ot++){var bt=fr[ot];if(bt){bt+="Z";var Et=l.extractPathCoords(bt,m.paramIsX,"raw"),Dt=l.extractPathCoords(bt,m.paramIsY,"raw");Yt=1/0,Tt=-1/0,Lt=1/0,Xt=-1/0,Tr=[];for(var Ht=0;Ht<Et.length;Ht++){var Bt=ht(it,Et[Ht]),Nt=ht(Wt,Dt[Ht]);Tr.push([Bt,Nt]),Yt=Math.min(Bt,Yt),Tt=Math.max(Bt,Tt),Lt=Math.min(Nt,Lt),Xt=Math.max(Nt,Xt)}Tr.xmin=Yt,Tr.xmax=Tt,Tr.ymin=Lt,Tr.ymax=Xt,Tr.xref=Qe,Tr.yref=at,Tr.subtract=ct(Tr,yt),yt.push(Tr),Ie.push(Tr)}}}}return Ie}function ct(We,_e){for(var Ie=!1,Xe=0;Xe<_e.length;Xe++)for(var De=_e[Xe],de=0;de<We.length;de++)if(R(We[de],De)){Ie=!Ie;break}return Ie}function ht(We,_e){return We.type==="date"&&(_e=_e.replace("_"," ")),We.type==="log"?We.c2p(_e):We.r2p(_e,null,We.calendar)}function mt(We){for(var _e=We.length,Ie=[],Xe=0;Xe<_e;Xe++){var De=We[Xe];Ie=Ie.concat(De),Ie=Ie.concat([De[0]])}return xt(Ie)}function xt(We){return We.isRect=We.length===5&&We[0][0]===We[4][0]&&We[0][1]===We[4][1]&&We[0][0]===We[1][0]&&We[2][0]===We[3][0]&&We[0][1]===We[3][1]&&We[1][1]===We[2][1]||We[0][1]===We[1][1]&&We[2][1]===We[3][1]&&We[0][0]===We[3][0]&&We[1][0]===We[2][0],We.isRect&&(We.xmin=Math.min(We[0][0],We[2][0]),We.xmax=Math.max(We[0][0],We[2][0]),We.ymin=Math.min(We[0][1],We[2][1]),We.ymax=Math.max(We[0][1],We[2][1])),We}function Mt(We){return function(_e,Ie){for(var Xe,De,de=0;de<We.length;de++){var Te=We[de],Be=Te._id,Qe=Be.charAt(0);if(Ie.isRect){Xe||(Xe={});var at=Ie[Qe+"min"],it=Ie[Qe+"max"];at!==void 0&&it!==void 0&&(Xe[Be]=[N(Te,at),N(Te,it)].sort(L))}else De||(De={}),De[Be]=Ie.map(V(Te))}Xe&&(_e.range=Xe),De&&(_e.lassoPoints=De)}}function tt(We){var _e=We.plotinfo;return _e.fillRangeItems||Mt(We.xaxes.concat(We.yaxes))}function Oe(We,_e){We.emit("plotly_selecting",_e)}function Ye(We,_e){_e&&(_e.selections=(We.layout||{}).selections||[]),We.emit("plotly_selected",_e)}function Ze(We){We.emit("plotly_deselect",null)}H.exports={reselect:Fe,prepSelect:te,clearOutline:A,clearSelectionsCache:K,selectOnClick:ne}},46056:function(H,G,e){var g=e(13916),R=e(25376),a=e(52904).line,C=e(98192).u,S=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var d=e(45464),r=e(21776).ye,t=e(97728);H.exports=v("shape",{visible:S({},d.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:S({},d.legend,{editType:"calc+arraydraw"}),legendgroup:S({},d.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:S({},d.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:R({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:S({},d.legendrank,{editType:"calc+arraydraw"}),legendwidth:S({},d.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:S({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:S({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:S({},a.color,{editType:"arraydraw"}),width:S({},a.width,{editType:"calc+arraydraw"}),dash:S({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(H,G,e){var g=e(3400),R=e(54460),a=e(85448),C=e(65152);H.exports=function(i){var n=i._fullLayout,f=g.filterVisible(n.shapes);if(!(!f.length||!i._fullData.length))for(var u=0;u<f.length;u++){var l=f[u];l._extremes={};var m,c,A=R.getRefType(l.xref),h=R.getRefType(l.yref);if(l.xref!=="paper"&&A!=="domain"){var o=l.xsizemode==="pixel"?l.xanchor:l.x0,p=l.xsizemode==="pixel"?l.xanchor:l.x1;m=R.getFromId(i,l.xref),c=r(m,o,p,l.path,a.paramIsX),c&&(l._extremes[m._id]=R.findExtremes(m,c,S(l)))}if(l.yref!=="paper"&&h!=="domain"){var b=l.ysizemode==="pixel"?l.yanchor:l.y0,T=l.ysizemode==="pixel"?l.yanchor:l.y1;m=R.getFromId(i,l.yref),c=r(m,b,T,l.path,a.paramIsY),c&&(l._extremes[m._id]=R.findExtremes(m,c,v(l)))}}};function S(t){return d(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return d(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function d(t,i,n,f,u,l){var m=t/2,c=l;if(i==="pixel"){var A=u?C.extractPathCoords(u,l?a.paramIsY:a.paramIsX):[n,f],h=g.aggNums(Math.max,null,A),o=g.aggNums(Math.min,null,A),p=o<0?Math.abs(o)+m:m,b=h>0?h+m:m;return{ppad:m,ppadplus:c?p:b,ppadminus:c?b:p}}else return{ppad:m}}function r(t,i,n,f,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(i!==void 0)return[l(i),l(n)];if(f){var m=1/0,c=-1/0,A=f.match(a.segmentRE),h,o,p,b,T;for(t.type==="date"&&(l=C.decodeDate(l)),h=0;h<A.length;h++)o=A[h],p=u[o.charAt(0)].drawn,p!==void 0&&(b=A[h].substr(1).match(a.paramRE),!(!b||b.length<p)&&(T=l(b[p]),T<m&&(m=T),T>c&&(c=T)));if(c>=m)return[m,c]}}},85448:function(H){H.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(H,G,e){var g=e(3400),R=e(54460),a=e(51272),C=e(46056),S=e(65152);H.exports=function(t,i){a(t,i,{name:"shapes",handleItemDefaults:d})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function d(r,t,i){function n(Q,Z){return g.coerce(r,t,C,Q,Z)}t._isShape=!0;var f=n("visible");if(f){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),m=l?"path":"rect",c=n("type",m),A=c!=="path";A&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),p=n("ysizemode"),b=["x","y"],T=0;T<2;T++){var P=b[T],x=P+"anchor",L=P==="x"?o:p,M={_fullLayout:i},s,E,w,O=R.coerceRef(r,t,M,P,void 0,"paper"),_=R.getRefType(O);if(_==="range"?(s=R.getFromId(M,O),s._shapeIndices.push(t._index),w=S.rangeToShapePosition(s),E=S.shapePositionToRange(s)):E=w=g.identity,A){var U=.25,z=.75,F=P+"0",B=P+"1",N=r[F],V=r[B];r[F]=E(r[F],!0),r[B]=E(r[B],!0),L==="pixel"?(n(F,0),n(B,10)):(R.coercePosition(t,M,n,O,F,U),R.coercePosition(t,M,n,O,B,z)),t[F]=w(t[F]),t[B]=w(t[B]),r[F]=N,r[B]=V}if(L==="pixel"){var X=r[x];r[x]=E(r[x],!0),R.coercePosition(t,M,n,O,x,.25),t[x]=w(t[x]),r[x]=X}}A&&g.noneOrAll(r,t,["x0","x1","y0","y1"]);var q=c==="line",te,ne;if(A&&(te=n("label.texttemplate")),te||(ne=n("label.text")),ne||te){n("label.textangle");var ce=n("label.textposition",q?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(q,ce)),n("label.padding"),g.coerceFont(n,"label.font",i.font)}}}},60728:function(H,G,e){var g=e(3400),R=e(54460),a=e(72736),C=e(43616),S=e(9856).readPaths,v=e(65152),d=v.getPathString,r=e(97728),t=e(84284).FROM_TL;H.exports=function(u,l,m,c){if(c.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var A;if(m.label.texttemplate){var h={};if(m.type!=="path"){var o=R.getFromId(u,m.xref),p=R.getFromId(u,m.yref);for(var b in r){var T=r[b](m,o,p);T!==void 0&&(h[b]=T)}}A=g.texttemplateStringForShapes(m.label.texttemplate,{},u._fullLayout._d3locale,h)}else A=m.label.text;var P={"data-index":l},x=m.label.font,L={"data-notex":1},M=c.append("g").attr(P).classed("shape-label",!0),s=M.append("text").attr(L).classed("shape-label-text",!0).text(A),E,w,O,_;if(m.path){var U=d(u,m),z=S(U,u);E=1/0,O=1/0,w=-1/0,_=-1/0;for(var F=0;F<z.length;F++)for(var B=0;B<z[F].length;B++)for(var N=z[F][B],V=1;V<N.length;V+=2){var X=N[V],q=N[V+1];E=Math.min(E,X),w=Math.max(w,X),O=Math.min(O,q),_=Math.max(_,q)}}else{var te=R.getFromId(u,m.xref),ne=R.getRefType(m.xref),ce=R.getFromId(u,m.yref),Q=R.getRefType(m.yref),Z=v.getDataToPixel(u,te,!1,ne),re=v.getDataToPixel(u,ce,!0,Q);E=Z(m.x0),w=Z(m.x1),O=re(m.y0),_=re(m.y1)}var Y=m.label.textangle;Y==="auto"&&(m.type==="line"?Y=i(E,O,w,_):Y=0),s.call(function(ae){return ae.call(C.font,x).attr({}),a.convertToTspans(ae,u),ae});var oe=C.bBox(s.node()),ue=n(E,O,w,_,m,Y,oe),K=ue.textx,$=ue.texty,le=ue.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[le],y:$,x:K,transform:"rotate("+Y+","+K+","+$+")"}).call(a.positionText,K,$)}};function i(f,u,l,m){var c,A;return A=Math.abs(l-f),l>=f?c=u-m:c=m-u,-180/Math.PI*Math.atan2(c,A)}function n(f,u,l,m,c,A,h){var o=c.label.textposition,p=c.label.textangle,b=c.label.padding,T=c.type,P=Math.PI/180*A,x=Math.sin(P),L=Math.cos(P),M=c.label.xanchor,s=c.label.yanchor,E,w,O,_;if(T==="line"){o==="start"?(E=f,w=u):o==="end"?(E=l,w=m):(E=(f+l)/2,w=(u+m)/2),M==="auto"&&(o==="start"?p==="auto"?l>f?M="left":l<f?M="right":M="center":l>f?M="right":l<f?M="left":M="center":o==="end"?p==="auto"?l>f?M="right":l<f?M="left":M="center":l>f?M="left":l<f?M="right":M="center":M="center");var U={left:1,center:0,right:-1},z={bottom:-1,middle:0,top:1};if(p==="auto"){var F=z[s];O=-b*x*F,_=b*L*F}else{var B=U[M],N=z[s];O=b*B,_=b*N}E=E+O,w=w+_}else O=b+3,o.indexOf("right")!==-1?(E=Math.max(f,l)-O,M==="auto"&&(M="right")):o.indexOf("left")!==-1?(E=Math.min(f,l)+O,M==="auto"&&(M="left")):(E=(f+l)/2,M==="auto"&&(M="center")),o.indexOf("top")!==-1?w=Math.min(u,m):o.indexOf("bottom")!==-1?w=Math.max(u,m):w=(u+m)/2,_=b,s==="bottom"?w=w-_:s==="top"&&(w=w+_);var V=t[s],X=c.label.font.size,q=h.height,te=(q*V-X)*x,ne=-(q*V-X)*L;return{textx:E+te,texty:w+ne,xanchor:M}}},55496:function(H,G,e){var g=e(3400),R=g.strTranslate,a=e(86476),C=e(72760),S=C.drawMode,v=C.selectMode,d=e(24040),r=e(76308),t=e(7e3),i=t.i000,n=t.i090,f=t.i180,u=t.i270,l=e(1936),m=l.clearOutlineControllers,c=e(9856),A=c.pointsOnRectangle,h=c.pointsOnEllipse,o=c.writePaths,p=e(93940).newShapes,b=e(93940).createShapeObj,T=e(5968),P=e(60728);H.exports=function s(E,w,O,_){_||(_=0);var U=O.gd;function z(){s(E,w,O,_++),(h(E[0])||O.hasText)&&F({redrawing:!0})}function F(be){var Le={};O.isActiveShape!==void 0&&(O.isActiveShape=!1,Le=p(w,O)),O.isActiveSelection!==void 0&&(O.isActiveSelection=!1,Le=T(w,O),U._fullLayout._reselect=!0),Object.keys(Le).length&&d.call((be||{}).redrawing?"relayout":"_guiRelayout",U,Le)}var B=U._fullLayout,N=B._zoomlayer,V=O.dragmode,X=S(V),q=v(V);(X||q)&&(U._fullLayout._outlining=!0),m(U),w.attr("d",o(E));var te,ne,ce,Q,Z;if(!_&&(O.isActiveShape||O.isActiveSelection)){Z=x([],E);var re=N.append("g").attr("class","outline-controllers");he(re),Ee()}if(X&&O.hasText){var Y=N.select(".label-temp"),oe=b(w,O,O.dragmode);P(U,"label-temp",oe,Y)}function ue(be){ce=+be.srcElement.getAttribute("data-i"),Q=+be.srcElement.getAttribute("data-j"),te[ce][Q].moveFn=K}function K(be,Le){if(E.length){var Ue=Z[ce][Q][1],Ve=Z[ce][Q][2],Fe=E[ce],He=Fe.length;if(A(Fe)){var st=be,vt=Le;if(O.isActiveSelection){var lt=L(Fe,Q);lt[1]===Fe[Q][1]?vt=0:st=0}for(var et=0;et<He;et++)if(et!==Q){var ct=Fe[et];ct[1]===Fe[Q][1]&&(ct[1]=Ue+st),ct[2]===Fe[Q][2]&&(ct[2]=Ve+vt)}if(Fe[Q][1]=Ue+st,Fe[Q][2]=Ve+vt,!A(Fe))for(var ht=0;ht<He;ht++)for(var mt=0;mt<Fe[ht].length;mt++)Fe[ht][mt]=Z[ce][ht][mt]}else Fe[Q][1]=Ue+be,Fe[Q][2]=Ve+Le;z()}}function $(){F()}function le(){if(E.length&&E[ce]&&E[ce].length){for(var be=[],Le=0;Le<E[ce].length;Le++)Le!==Q&&be.push(E[ce][Le]);be.length>1&&!(be.length===2&&be[1][0]==="Z")&&(Q===0&&(be[0][0]="M"),E[ce]=be,z(),F())}}function ae(be,Le){if(be===2){ce=+Le.srcElement.getAttribute("data-i"),Q=+Le.srcElement.getAttribute("data-j");var Ue=E[ce];!A(Ue)&&!h(Ue)&&le()}}function he(be){te=[];for(var Le=0;Le<E.length;Le++){var Ue=E[Le],Ve=A(Ue),Fe=!Ve&&h(Ue);te[Le]=[];for(var He=Ue.length,st=0;st<He;st++)if(Ue[st][0]!=="Z"&&!(Fe&&st!==i&&st!==n&&st!==f&&st!==u)){var vt=Ve&&O.isActiveSelection,lt;vt&&(lt=L(Ue,st));var et=Ue[st][1],ct=Ue[st][2],ht=be.append(vt?"rect":"circle").attr("data-i",Le).attr("data-j",st).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(vt){var mt=lt[1]-et,xt=lt[2]-ct,Mt=xt?5:Math.max(Math.min(25,Math.abs(mt)-5),5),tt=mt?5:Math.max(Math.min(25,Math.abs(xt)-5),5);ht.classed(xt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Mt).attr("height",tt).attr("x",et-Mt/2).attr("y",ct-tt/2).attr("transform",R(mt/2,xt/2))}else ht.classed("cursor-grab",!0).attr("r",5).attr("cx",et).attr("cy",ct);te[Le][st]={element:ht.node(),gd:U,prepFn:ue,doneFn:$,clickFn:ae},a.init(te[Le][st])}}}function xe(be,Le){if(E.length)for(var Ue=0;Ue<E.length;Ue++)for(var Ve=0;Ve<E[Ue].length;Ve++)for(var Fe=0;Fe+2<E[Ue][Ve].length;Fe+=2)E[Ue][Ve][Fe+1]=Z[Ue][Ve][Fe+1]+be,E[Ue][Ve][Fe+2]=Z[Ue][Ve][Fe+2]+Le}function Me(be,Le){xe(be,Le),z()}function Ae(be){ce=+be.srcElement.getAttribute("data-i"),ce||(ce=0),ne[ce].moveFn=Me}function ke(){F()}function we(be){be===2&&M(U)}function Ee(){if(ne=[],!!E.length){var be=0;ne[be]={element:w[0][0],gd:U,prepFn:Ae,doneFn:ke,clickFn:we},a.init(ne[be])}}};function x(s,E){for(var w=0;w<E.length;w++){var O=E[w];s[w]=[];for(var _=0;_<O.length;_++){s[w][_]=[];for(var U=0;U<O[_].length;U++)s[w][_][U]=O[_][U]}}return s}function L(s,E){var w=s[E][1],O=s[E][2],_=s.length,U,z,F;return U=(E+1)%_,z=s[U][1],F=s[U][2],z===w&&F===O&&(U=(E+2)%_,z=s[U][1],F=s[U][2]),[U,z,F]}function M(s){if(v(s._fullLayout.dragmode)){m(s);var E=s._fullLayout._activeSelectionIndex,w=(s.layout||{}).selections||[];if(E<w.length){for(var O=[],_=0;_<w.length;_++)_!==E&&O.push(w[_]);delete s._fullLayout._activeSelectionIndex;var U=s._fullLayout.selections[E];s._fullLayout._deselect={xref:U.xref,yref:U.yref},d.call("_guiRelayout",s,{selections:O})}}}},4016:function(H,G,e){var g=e(33428),R=e(24040),a=e(3400),C=e(54460),S=e(9856).readPaths,v=e(55496),d=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),i=e(43616),n=e(31780).arrayEditor,f=e(86476),u=e(93972),l=e(85448),m=e(65152),c=m.getPathString;H.exports={draw:A,drawOne:p,eraseActiveShape:M,drawLabel:d};function A(s){var E=s._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var w in E._plots){var O=E._plots[w].shapelayer;O&&(O.selectAll("path").remove(),O.selectAll("text").remove())}for(var _=0;_<E.shapes.length;_++)E.shapes[_].visible===!0&&p(s,_)}function h(s){return!!s._fullLayout._outlining}function o(s){return!s._context.edits.shapePosition}function p(s,E){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var w=m.makeShapesOptionsAndPlotinfo(s,E),O=w.options,_=w.plotinfo;if(!O._input||O.visible!==!0)return;if(O.layer==="above")z(s._fullLayout._shapeUpperLayer);else if(O.xref==="paper"||O.yref==="paper")z(s._fullLayout._shapeLowerLayer);else if(O.layer==="between")z(_.shapelayerBetween);else if(_._hadPlotinfo){var U=_.mainplotinfo||_;z(U.shapelayer)}else z(s._fullLayout._shapeLowerLayer);function z(F){var B=c(s,O),N={"data-index":E,"fill-rule":O.fillrule,d:B},V=O.opacity,X=O.fillcolor,q=O.line.width?O.line.color:"rgba(0,0,0,0)",te=O.line.width,ne=O.line.dash;!te&&O.editable===!0&&(te=5,ne="solid");var ce=B[B.length-1]!=="Z",Q=o(s)&&O.editable&&s._fullLayout._activeShapeIndex===E;Q&&(X=ce?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,V=s._fullLayout.activeshape.opacity);var Z=F.append("g").classed("shape-group",!0).attr({"data-index":E}),re=Z.append("path").attr(N).style("opacity",V).call(t.stroke,q).call(t.fill,X).call(i.dashLine,ne,te);b(Z,s,O),d(s,E,O,Z);var Y;if((Q||s._context.edits.shapePosition)&&(Y=n(s.layout,"shapes",O)),Q){re.style({cursor:"move"});var oe={element:re.node(),plotinfo:_,gd:s,editHelpers:Y,hasText:O.label.text||O.label.texttemplate,isActiveShape:!0},ue=S(B,s);v(ue,re,oe)}else s._context.edits.shapePosition?T(s,re,O,E,F,Y):O.editable===!0&&re.style("pointer-events",ce||t.opacity(X)*V<=.5?"stroke":"all");re.node().addEventListener("click",function(){return x(s,re)})}}function b(s,E,w){var O=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(s,O?"clip"+E._fullLayout._uid+O:null,E)}function T(s,E,w,O,_,U){var z=10,F=10,B=w.xsizemode==="pixel",N=w.ysizemode==="pixel",V=w.type==="line",X=w.type==="path",q=U.modifyItem,te,ne,ce,Q,Z,re,Y,oe,ue,K,$,le,ae,he,xe,Me=g.select(E.node().parentNode),Ae=C.getFromId(s,w.xref),ke=C.getRefType(w.xref),we=C.getFromId(s,w.yref),Ee=C.getRefType(w.yref),be=m.getDataToPixel(s,Ae,!1,ke),Le=m.getDataToPixel(s,we,!0,Ee),Ue=m.getPixelToData(s,Ae,!1,ke),Ve=m.getPixelToData(s,we,!0,Ee),Fe=vt(),He={element:Fe.node(),gd:s,prepFn:ct,doneFn:ht,clickFn:mt},st;f.init(He),Fe.node().onmousemove=et;function vt(){return V?lt():E}function lt(){var Ze=10,We=Math.max(w.line.width,Ze),_e=_.append("g").attr("data-index",O).attr("drag-helper",!0);_e.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":We,"stroke-opacity":"0"});var Ie={"fill-opacity":"0"},Xe=Math.max(We/2,Ze);return _e.append("circle").attr({"data-line-point":"start-point",cx:B?be(w.xanchor)+w.x0:be(w.x0),cy:N?Le(w.yanchor)-w.y0:Le(w.y0),r:Xe}).style(Ie).classed("cursor-grab",!0),_e.append("circle").attr({"data-line-point":"end-point",cx:B?be(w.xanchor)+w.x1:be(w.x1),cy:N?Le(w.yanchor)-w.y1:Le(w.y1),r:Xe}).style(Ie).classed("cursor-grab",!0),_e}function et(Ze){if(h(s)){st=null;return}if(V)Ze.target.tagName==="path"?st="move":st=Ze.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var We=He.element.getBoundingClientRect(),_e=We.right-We.left,Ie=We.bottom-We.top,Xe=Ze.clientX-We.left,De=Ze.clientY-We.top,de=!X&&_e>z&&Ie>F&&!Ze.shiftKey?f.getCursor(Xe/_e,1-De/Ie):"move";u(E,de),st=de.split("-")[0]}}function ct(Ze){h(s)||(B&&(Z=be(w.xanchor)),N&&(re=Le(w.yanchor)),w.type==="path"?xe=w.path:(te=B?w.x0:be(w.x0),ne=N?w.y0:Le(w.y0),ce=B?w.x1:be(w.x1),Q=N?w.y1:Le(w.y1)),te<ce?(ue=te,ae="x0",K=ce,he="x1"):(ue=ce,ae="x1",K=te,he="x0"),!N&&ne<Q||N&&ne>Q?(Y=ne,$="y0",oe=Q,le="y1"):(Y=Q,$="y1",oe=ne,le="y0"),et(Ze),tt(_,w),Ye(E,w,s),He.moveFn=st==="move"?xt:Mt,He.altKey=Ze.altKey)}function ht(){h(s)||(u(E),Oe(_),b(E,s,w),R.call("_guiRelayout",s,U.getUpdateObj()))}function mt(){h(s)||Oe(_)}function xt(Ze,We){if(w.type==="path"){var _e=function(De){return De},Ie=_e,Xe=_e;B?q("xanchor",w.xanchor=Ue(Z+Ze)):(Ie=function(de){return Ue(be(de)+Ze)},Ae&&Ae.type==="date"&&(Ie=m.encodeDate(Ie))),N?q("yanchor",w.yanchor=Ve(re+We)):(Xe=function(de){return Ve(Le(de)+We)},we&&we.type==="date"&&(Xe=m.encodeDate(Xe))),q("path",w.path=P(xe,Ie,Xe))}else B?q("xanchor",w.xanchor=Ue(Z+Ze)):(q("x0",w.x0=Ue(te+Ze)),q("x1",w.x1=Ue(ce+Ze))),N?q("yanchor",w.yanchor=Ve(re+We)):(q("y0",w.y0=Ve(ne+We)),q("y1",w.y1=Ve(Q+We)));E.attr("d",c(s,w)),tt(_,w),d(s,O,w,Me)}function Mt(Ze,We){if(X){var _e=function(gt){return gt},Ie=_e,Xe=_e;B?q("xanchor",w.xanchor=Ue(Z+Ze)):(Ie=function(Kt){return Ue(be(Kt)+Ze)},Ae&&Ae.type==="date"&&(Ie=m.encodeDate(Ie))),N?q("yanchor",w.yanchor=Ve(re+We)):(Xe=function(Kt){return Ve(Le(Kt)+We)},we&&we.type==="date"&&(Xe=m.encodeDate(Xe))),q("path",w.path=P(xe,Ie,Xe))}else if(V){if(st==="resize-over-start-point"){var De=te+Ze,de=N?ne-We:ne+We;q("x0",w.x0=B?De:Ue(De)),q("y0",w.y0=N?de:Ve(de))}else if(st==="resize-over-end-point"){var Te=ce+Ze,Be=N?Q-We:Q+We;q("x1",w.x1=B?Te:Ue(Te)),q("y1",w.y1=N?Be:Ve(Be))}}else{var Qe=function(gt){return st.indexOf(gt)!==-1},at=Qe("n"),it=Qe("s"),Wt=Qe("w"),Yt=Qe("e"),Tt=at?Y+We:Y,Lt=it?oe+We:oe,Xt=Wt?ue+Ze:ue,Tr=Yt?K+Ze:K;N&&(at&&(Tt=Y-We),it&&(Lt=oe-We)),(!N&&Lt-Tt>F||N&&Tt-Lt>F)&&(q($,w[$]=N?Tt:Ve(Tt)),q(le,w[le]=N?Lt:Ve(Lt))),Tr-Xt>z&&(q(ae,w[ae]=B?Xt:Ue(Xt)),q(he,w[he]=B?Tr:Ue(Tr)))}E.attr("d",c(s,w)),tt(_,w),d(s,O,w,Me)}function tt(Ze,We){(B||N)&&_e();function _e(){var Ie=We.type!=="path",Xe=Ze.selectAll(".visual-cue").data([0]),De=1;Xe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":De}).classed("visual-cue",!0);var de=be(B?We.xanchor:a.midRange(Ie?[We.x0,We.x1]:m.extractPathCoords(We.path,l.paramIsX))),Te=Le(N?We.yanchor:a.midRange(Ie?[We.y0,We.y1]:m.extractPathCoords(We.path,l.paramIsY)));if(de=m.roundPositionForSharpStrokeRendering(de,De),Te=m.roundPositionForSharpStrokeRendering(Te,De),B&&N){var Be="M"+(de-1-De)+","+(Te-1-De)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Xe.attr("d",Be)}else if(B){var Qe="M"+(de-1-De)+","+(Te-9-De)+"v18 h2 v-18 Z";Xe.attr("d",Qe)}else{var at="M"+(de-9-De)+","+(Te-1-De)+"h18 v2 h-18 Z";Xe.attr("d",at)}}}function Oe(Ze){Ze.selectAll(".visual-cue").remove()}function Ye(Ze,We,_e){var Ie=We.xref,Xe=We.yref,De=C.getFromId(_e,Ie),de=C.getFromId(_e,Xe),Te="";Ie!=="paper"&&!De.autorange&&(Te+=Ie),Xe!=="paper"&&!de.autorange&&(Te+=Xe),i.setClipUrl(Ze,Te?"clip"+_e._fullLayout._uid+Te:null,_e)}}function P(s,E,w){return s.replace(l.segmentRE,function(O){var _=0,U=O.charAt(0),z=l.paramIsX[U],F=l.paramIsY[U],B=l.numParams[U],N=O.substr(1).replace(l.paramRE,function(V){return _>=B||(z[_]?V=E(V):F[_]&&(V=w(V)),_++),V});return U+N})}function x(s,E){if(o(s)){var w=E.node(),O=+w.getAttribute("data-index");if(O>=0){if(O===s._fullLayout._activeShapeIndex){L(s);return}s._fullLayout._activeShapeIndex=O,s._fullLayout._deactivateShape=L,A(s)}}}function L(s){if(o(s)){var E=s._fullLayout._activeShapeIndex;E>=0&&(r(s),delete s._fullLayout._activeShapeIndex,A(s))}}function M(s){if(o(s)){r(s);var E=s._fullLayout._activeShapeIndex,w=(s.layout||{}).shapes||[];if(E<w.length){for(var O=[],_=0;_<w.length;_++)_!==E&&O.push(w[_]);return delete s._fullLayout._activeShapeIndex,R.call("_guiRelayout",s,{shapes:O})}}}},92872:function(H,G,e){var g=e(67824).overrideAll,R=e(45464),a=e(25376),C=e(98192).u,S=e(92880).extendFlat,v=e(21776).ye,d=e(97728);H.exports=g({newshape:{visible:S({},R.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:S({},R.legend,{}),legendgroup:S({},R.legendgroup,{}),legendgrouptitle:{text:S({},R.legendgrouptitle.text,{}),font:a({})},legendrank:S({},R.legendrank,{}),legendwidth:S({},R.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:S({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:S({},R.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(d)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(H){var G=32;H.exports={CIRCLE_SIDES:G,i000:0,i090:G/4,i180:G/2,i270:G/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(H,G,e){var g=e(76308),R=e(3400);function a(C,S){return C?"bottom":S.indexOf("top")!==-1?"top":S.indexOf("bottom")!==-1?"bottom":"middle"}H.exports=function(S,v,d){d("newshape.visible"),d("newshape.name"),d("newshape.showlegend"),d("newshape.legend"),d("newshape.legendwidth"),d("newshape.legendgroup"),d("newshape.legendgrouptitle.text"),R.coerceFont(d,"newshape.legendgrouptitle.font"),d("newshape.legendrank"),d("newshape.drawdirection"),d("newshape.layer"),d("newshape.fillcolor"),d("newshape.fillrule"),d("newshape.opacity");var r=d("newshape.line.width");if(r){var t=(S||{}).plot_bgcolor||"#FFF";d("newshape.line.color",g.contrast(t)),d("newshape.line.dash")}var i=S.dragmode==="drawline",n=d("newshape.label.text"),f=d("newshape.label.texttemplate");if(n||f){d("newshape.label.textangle");var u=d("newshape.label.textposition",i?"middle":"middle center");d("newshape.label.xanchor"),d("newshape.label.yanchor",a(i,u)),d("newshape.label.padding"),R.coerceFont(d,"newshape.label.font",v.font)}d("activeshape.fillcolor"),d("activeshape.opacity")}},9856:function(H,G,e){var g=e(21984),R=e(7e3),a=R.CIRCLE_SIDES,C=R.SQRT2,S=e(5840),v=S.p2r,d=S.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];G.writePaths=function(f){var u=f.length;if(!u)return"M0,0Z";for(var l="",m=0;m<u;m++)for(var c=f[m].length,A=0;A<c;A++){var h=f[m][A][0];if(h==="Z")l+="Z";else for(var o=f[m][A].length,p=0;p<o;p++){var b=p;h==="Q"||h==="S"?b=t[p]:h==="C"&&(b=r[p]),l+=f[m][A][b],p>0&&p<o-1&&(l+=",")}}return l},G.readPaths=function(f,u,l,m){var c=g(f),A=[],h=-1,o=function(){h++,A[h]=[]},p,b=0,T=0,P,x,L=function(){P=b,x=T};L();for(var M=0;M<c.length;M++){var s=[],E,w,O,_,U=c[M][0],z=U;switch(U){case"M":o(),b=+c[M][1],T=+c[M][2],s.push([z,b,T]),L();break;case"Q":case"S":E=+c[M][1],O=+c[M][2],b=+c[M][3],T=+c[M][4],s.push([z,b,T,E,O]);break;case"C":E=+c[M][1],O=+c[M][2],w=+c[M][3],_=+c[M][4],b=+c[M][5],T=+c[M][6],s.push([z,b,T,E,O,w,_]);break;case"T":case"L":b=+c[M][1],T=+c[M][2],s.push([z,b,T]);break;case"H":z="L",b=+c[M][1],s.push([z,b,T]);break;case"V":z="L",T=+c[M][1],s.push([z,b,T]);break;case"A":z="L";var F=+c[M][1],B=+c[M][2];+c[M][4]||(F=-F,B=-B);var N=b-F,V=T;for(p=1;p<=a/2;p++){var X=2*Math.PI*p/a;s.push([z,N+F*Math.cos(X),V+B*Math.sin(X)])}break;case"Z":(b!==P||T!==x)&&(b=P,T=x,s.push([z,b,T]));break}for(var q=(l||{}).domain,te=u._fullLayout._size,ne=l&&l.xsizemode==="pixel",ce=l&&l.ysizemode==="pixel",Q=m===!1,Z=0;Z<s.length;Z++){for(p=0;p+2<7;p+=2){var re=s[Z][p+1],Y=s[Z][p+2];re===void 0||Y===void 0||(b=re,T=Y,l&&(l.xaxis&&l.xaxis.p2r?(Q&&(re-=l.xaxis._offset),ne?re=d(l.xaxis,l.xanchor)+re:re=v(l.xaxis,re)):(Q&&(re-=te.l),q?re=q.x[0]+re/te.w:re=re/te.w),l.yaxis&&l.yaxis.p2r?(Q&&(Y-=l.yaxis._offset),ce?Y=d(l.yaxis,l.yanchor)-Y:Y=v(l.yaxis,Y)):(Q&&(Y-=te.t),q?Y=q.y[1]-Y/te.h:Y=1-Y/te.h)),s[Z][p+1]=re,s[Z][p+2]=Y)}A[h].push(s[Z].slice())}}return A};function i(f,u){return Math.abs(f-u)<=1e-6}function n(f,u){var l=u[1]-f[1],m=u[2]-f[2];return Math.sqrt(l*l+m*m)}G.pointsOnRectangle=function(f){var u=f.length;if(u!==5)return!1;for(var l=1;l<3;l++){var m=f[0][l]-f[1][l],c=f[3][l]-f[2][l];if(!i(m,c))return!1;var A=f[0][l]-f[3][l],h=f[1][l]-f[2][l];if(!i(A,h))return!1}return!i(f[0][1],f[1][1])&&!i(f[0][1],f[3][1])?!1:!!(n(f[0],f[1])*n(f[0],f[3]))},G.pointsOnEllipse=function(f){var u=f.length;if(u!==a+1)return!1;u=a;for(var l=0;l<u;l++){var m=(u*2-l)%u,c=(u/2+m)%u,A=(u/2+l)%u;if(!i(n(f[l],f[A]),n(f[m],f[c])))return!1}return!0},G.handleEllipse=function(f,u,l){if(!f)return[u,l];var m=G.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),c=(m.x1+m.x0)/2,A=(m.y1+m.y0)/2,h=(m.x1-m.x0)/2,o=(m.y1-m.y0)/2;h||(h=o=o/C),o||(o=h=h/C);for(var p=[],b=0;b<a;b++){var T=b*2*Math.PI/a;p.push([c+h*Math.cos(T),A+o*Math.sin(T)])}return p},G.ellipseOver=function(f){var u=f.x0,l=f.y0,m=f.x1,c=f.y1,A=m-u,h=c-l;u-=A,l-=h;var o=(u+m)/2,p=(l+c)/2,b=C;return A*=b,h*=b,{x0:o-A,y0:p-h,x1:o+A,y1:p+h}},G.fixDatesForPaths=function(f,u,l){var m=u.type==="date",c=l.type==="date";if(!m&&!c)return f;for(var A=0;A<f.length;A++)for(var h=0;h<f[A].length;h++)for(var o=0;o+2<f[A][h].length;o+=2)m&&(f[A][h][o+1]=f[A][h][o+1].replace(" ","_")),c&&(f[A][h][o+2]=f[A][h][o+2].replace(" ","_"));return f}},93940:function(H,G,e){var g=e(72760),R=g.drawMode,a=g.openMode,C=e(7e3),S=C.i000,v=C.i090,d=C.i180,r=C.i270,t=C.cos45,i=C.sin45,n=e(5840),f=n.p2r,u=n.r2p,l=e(1936),m=l.clearOutline,c=e(9856),A=c.readPaths,h=c.writePaths,o=c.ellipseOver,p=c.fixDatesForPaths;function b(P,x){if(P.length){var L=P[0][0];if(L){var M=x.gd,s=x.isActiveShape,E=x.dragmode,w=(M.layout||{}).shapes||[];if(!R(E)&&s!==void 0){var O=M._fullLayout._activeShapeIndex;if(O<w.length)switch(M._fullLayout.shapes[O].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var _=w[O].path||"";_[_.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var U=T(P,x,E);m(M);for(var z=x.editHelpers,F=(z||{}).modifyItem,B=[],N=0;N<w.length;N++){var V=M._fullLayout.shapes[N];if(B[N]=V._input,s!==void 0&&N===M._fullLayout._activeShapeIndex){var X=U;switch(V.type){case"line":case"rect":case"circle":F("x0",X.x0),F("x1",X.x1),F("y0",X.y0),F("y1",X.y1);break;case"path":F("path",X.path);break}}}return s===void 0?(B.push(U),B):z?z.getUpdateObj():{}}}}function T(P,x,L){var M=P[0][0],s=x.gd,E=M.getAttribute("d"),w=s._fullLayout.newshape,O=x.plotinfo,_=x.isActiveShape,U=O.xaxis,z=O.yaxis,F=!!O.domain||!O.xaxis,B=!!O.domain||!O.yaxis,N=a(L),V=A(E,s,O,_),X={editable:!0,visible:w.visible,name:w.name,showlegend:w.showlegend,legend:w.legend,legendwidth:w.legendwidth,legendgroup:w.legendgroup,legendgrouptitle:{text:w.legendgrouptitle.text,font:w.legendgrouptitle.font},legendrank:w.legendrank,label:w.label,xref:F?"paper":U._id,yref:B?"paper":z._id,layer:w.layer,opacity:w.opacity,line:{color:w.line.color,width:w.line.width,dash:w.line.dash}};N||(X.fillcolor=w.fillcolor,X.fillrule=w.fillrule);var q;if(V.length===1&&(q=V[0]),q&&q.length===5&&L==="drawrect")X.type="rect",X.x0=q[0][1],X.y0=q[0][2],X.x1=q[2][1],X.y1=q[2][2];else if(q&&L==="drawline")X.type="line",X.x0=q[0][1],X.y0=q[0][2],X.x1=q[1][1],X.y1=q[1][2];else if(q&&L==="drawcircle"){X.type="circle";var te=q[S][1],ne=q[v][1],ce=q[d][1],Q=q[r][1],Z=q[S][2],re=q[v][2],Y=q[d][2],oe=q[r][2],ue=O.xaxis&&(O.xaxis.type==="date"||O.xaxis.type==="log"),K=O.yaxis&&(O.yaxis.type==="date"||O.yaxis.type==="log");ue&&(te=u(O.xaxis,te),ne=u(O.xaxis,ne),ce=u(O.xaxis,ce),Q=u(O.xaxis,Q)),K&&(Z=u(O.yaxis,Z),re=u(O.yaxis,re),Y=u(O.yaxis,Y),oe=u(O.yaxis,oe));var $=(ne+Q)/2,le=(Z+Y)/2,ae=(Q-ne+ce-te)/2,he=(oe-re+Y-Z)/2,xe=o({x0:$,y0:le,x1:$+ae*t,y1:le+he*i});ue&&(xe.x0=f(O.xaxis,xe.x0),xe.x1=f(O.xaxis,xe.x1)),K&&(xe.y0=f(O.yaxis,xe.y0),xe.y1=f(O.yaxis,xe.y1)),X.x0=xe.x0,X.y0=xe.y0,X.x1=xe.x1,X.y1=xe.y1}else X.type="path",U&&z&&p(V,U,z),X.path=h(V),q=null;return X}H.exports={newShapes:b,createShapeObj:T}},1936:function(H){function G(g){var R=g._fullLayout._zoomlayer;R&&R.selectAll(".outline-controllers").remove()}function e(g){var R=g._fullLayout._zoomlayer;R&&R.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}H.exports={clearOutlineControllers:G,clearOutline:e}},65152:function(H,G,e){var g=e(85448),R=e(3400),a=e(54460);G.rangeToShapePosition=function(S){return S.type==="log"?S.r2d:function(v){return v}},G.shapePositionToRange=function(S){return S.type==="log"?S.d2r:function(v){return v}},G.decodeDate=function(S){return function(v){return v.replace&&(v=v.replace("_"," ")),S(v)}},G.encodeDate=function(S){return function(v){return S(v).replace(" ","_")}},G.extractPathCoords=function(S,v,d){var r=[],t=S.match(g.segmentRE);return t.forEach(function(i){var n=v[i.charAt(0)].drawn;if(n!==void 0){var f=i.substr(1).match(g.paramRE);if(!(!f||f.length<n)){var u=f[n],l=d?u:R.cleanNumber(u);r.push(l)}}}),r},G.getDataToPixel=function(S,v,d,r){var t=S._fullLayout._size,i;if(v)if(r==="domain")i=function(f){return v._length*(d?1-f:f)+v._offset};else{var n=G.shapePositionToRange(v);i=function(f){return v._offset+v.r2p(n(f,!0))},v.type==="date"&&(i=G.decodeDate(i))}else d?i=function(f){return t.t+t.h*(1-f)}:i=function(f){return t.l+t.w*f};return i},G.getPixelToData=function(S,v,d,r){var t=S._fullLayout._size,i;if(v)if(r==="domain")i=function(f){var u=(f-v._offset)/v._length;return d?1-u:u};else{var n=G.rangeToShapePosition(v);i=function(f){return n(v.p2r(f-v._offset))}}else d?i=function(f){return 1-(f-t.t)/t.h}:i=function(f){return(f-t.l)/t.w};return i},G.roundPositionForSharpStrokeRendering=function(S,v){var d=Math.round(v%2)===1,r=Math.round(S);return d?r+.5:r},G.makeShapesOptionsAndPlotinfo=function(S,v){var d=S._fullLayout.shapes[v]||{},r=S._fullLayout._plots[d.xref+d.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},d.xref&&d.xref!=="paper"&&(r.xaxis=S._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(r.yaxis=S._fullLayout[d.yref+"axis"])),r.xsizemode=d.xsizemode,r.ysizemode=d.ysizemode,r.xanchor=d.xanchor,r.yanchor=d.yanchor,{options:d,plotinfo:r}},G.makeSelectionsOptionsAndPlotinfo=function(S,v){var d=S._fullLayout.selections[v]||{},r=S._fullLayout._plots[d.xref+d.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},d.xref&&(r.xaxis=S._fullLayout[d.xref+"axis"]),d.yref&&(r.yaxis=S._fullLayout[d.yref+"axis"])),{options:d,plotinfo:r}},G.getPathString=function(S,v){var d=v.type,r=a.getRefType(v.xref),t=a.getRefType(v.yref),i=a.getFromId(S,v.xref),n=a.getFromId(S,v.yref),f=S._fullLayout._size,u,l,m,c,A,h,o,p;if(i?r==="domain"?l=function(O){return i._offset+i._length*O}:(u=G.shapePositionToRange(i),l=function(O){return i._offset+i.r2p(u(O,!0))}):l=function(O){return f.l+f.w*O},n?t==="domain"?c=function(O){return n._offset+n._length*(1-O)}:(m=G.shapePositionToRange(n),c=function(O){return n._offset+n.r2p(m(O,!0))}):c=function(O){return f.t+f.h*(1-O)},d==="path")return i&&i.type==="date"&&(l=G.decodeDate(l)),n&&n.type==="date"&&(c=G.decodeDate(c)),C(v,l,c);if(v.xsizemode==="pixel"){var b=l(v.xanchor);A=b+v.x0,h=b+v.x1}else A=l(v.x0),h=l(v.x1);if(v.ysizemode==="pixel"){var T=c(v.yanchor);o=T-v.y0,p=T-v.y1}else o=c(v.y0),p=c(v.y1);if(d==="line")return"M"+A+","+o+"L"+h+","+p;if(d==="rect")return"M"+A+","+o+"H"+h+"V"+p+"H"+A+"Z";var P=(A+h)/2,x=(o+p)/2,L=Math.abs(P-A),M=Math.abs(x-o),s="A"+L+","+M,E=P+L+","+x,w=P+","+(x-M);return"M"+E+s+" 0 1,1 "+w+s+" 0 0,1 "+E+"Z"};function C(S,v,d){var r=S.path,t=S.xsizemode,i=S.ysizemode,n=S.xanchor,f=S.yanchor;return r.replace(g.segmentRE,function(u){var l=0,m=u.charAt(0),c=g.paramIsX[m],A=g.paramIsY[m],h=g.numParams[m],o=u.substr(1).replace(g.paramRE,function(p){return c[l]?t==="pixel"?p=v(n)+Number(p):p=v(p):A[l]&&(i==="pixel"?p=d(f)-Number(p):p=d(p)),l++,l>h&&(p="X"),p});return l>h&&(o=o.replace(/[\s,]*X.*/,""),R.log("Ignoring extra params in segment "+u)),m+o})}},41592:function(H,G,e){var g=e(4016);H.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:g.draw,drawOne:g.drawOne}},97728:function(H){function G(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function g(u){return u.x0}function R(u){return u.x1}function a(u){return u.y0}function C(u){return u.y1}function S(u,l){return G(u.x1,l)-G(u.x0,l)}function v(u,l,m){return G(u.y1,m)-G(u.y0,m)}function d(u,l){return Math.abs(S(u,l))}function r(u,l,m){return Math.abs(v(u,l,m))}function t(u,l,m){return u.type!=="line"?void 0:Math.sqrt(Math.pow(S(u,l),2)+Math.pow(v(u,l,m),2))}function i(u,l){return e((G(u.x1,l)+G(u.x0,l))/2,l)}function n(u,l,m){return e((G(u.y1,m)+G(u.y0,m))/2,m)}function f(u,l,m){return u.type!=="line"?void 0:v(u,l,m)/S(u,l)}H.exports={x0:g,x1:R,y0:a,y1:C,slope:f,dx:S,dy:v,width:d,height:r,length:t,xcenter:i,ycenter:n}},89861:function(H,G,e){var g=e(25376),R=e(66741),a=e(92880).extendDeepAll,C=e(67824).overrideAll,S=e(85656),v=e(31780).templatedArray,d=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});H.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(R({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:S.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},60876:function(H){H.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(H,G,e){var g=e(3400),R=e(51272),a=e(89861),C=e(60876),S=C.name,v=a.steps;H.exports=function(i,n){R(i,n,{name:S,handleItemDefaults:d})};function d(t,i,n){function f(p,b){return g.coerce(t,i,a,p,b)}for(var u=R(t,i,{name:"steps",handleItemDefaults:r}),l=0,m=0;m<u.length;m++)u[m].visible&&l++;var c;if(l<2?c=i.visible=!1:c=f("visible"),!!c){i._stepCount=l;var A=i._visibleSteps=g.filterVisible(u),h=f("active");(u[h]||{}).visible||(i.active=A[0]._index),f("x"),f("y"),g.noneOrAll(t,i,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),g.coerceFont(f,"font",n.font);var o=f("currentvalue.visible");o&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),g.coerceFont(f,"currentvalue.font",i.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(t,i){function n(l,m){return g.coerce(t,i,v,l,m)}var f;if(t.method!=="skip"&&!Array.isArray(t.args)?f=i.visible=!1:f=n("visible"),f){n("method"),n("args");var u=n("label","step-"+i._index);n("value",u),n("execute")}}},79664:function(H,G,e){var g=e(33428),R=e(7316),a=e(76308),C=e(43616),S=e(3400),v=S.strTranslate,d=e(72736),r=e(31780).arrayEditor,t=e(60876),i=e(84284),n=i.LINE_SPACING,f=i.FROM_TL,u=i.FROM_BR;H.exports=function(F){var B=F._context.staticPlot,N=F._fullLayout,V=m(N,F),X=N._infolayer.selectAll("g."+t.containerClassName).data(V.length>0?[0]:[]);X.enter().append("g").classed(t.containerClassName,!0).style("cursor",B?null:"ew-resize");function q(Q){Q._commandObserver&&(Q._commandObserver.remove(),delete Q._commandObserver),R.autoMargin(F,l(Q))}if(X.exit().each(function(){g.select(this).selectAll("g."+t.groupClassName).each(q)}).remove(),V.length!==0){var te=X.selectAll("g."+t.groupClassName).data(V,c);te.enter().append("g").classed(t.groupClassName,!0),te.exit().each(q).remove();for(var ne=0;ne<V.length;ne++){var ce=V[ne];A(F,ce)}te.each(function(Q){var Z=g.select(this);s(Q),R.manageCommandObserver(F,Q,Q._visibleSteps,function(re){var Y=Z.data()[0];Y.active!==re.index&&(Y._dragging||x(F,Z,Y,re.index,!1,!0))}),h(F,g.select(this),Q)})}};function l(z){return t.autoMarginIdRoot+z._index}function m(z,F){for(var B=z[t.name],N=[],V=0;V<B.length;V++){var X=B[V];X.visible&&(X._gd=F,N.push(X))}return N}function c(z){return z._index}function A(z,F){var B=C.tester.selectAll("g."+t.labelGroupClass).data(F._visibleSteps);B.enter().append("g").classed(t.labelGroupClass,!0);var N=0,V=0;B.each(function(oe){var ue=g.select(this),K=b(ue,{step:oe},F),$=K.node();if($){var le=C.bBox($);V=Math.max(V,le.height),N=Math.max(N,le.width)}}),B.remove();var X=F._dims={};X.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var q=z._fullLayout._size;X.lx=q.l+q.w*F.x,X.ly=q.t+q.h*(1-F.y),F.lenmode==="fraction"?X.outerLength=Math.round(q.w*F.len):X.outerLength=F.len,X.inputAreaStart=0,X.inputAreaLength=Math.round(X.outerLength-F.pad.l-F.pad.r);var te=X.inputAreaLength-2*t.stepInset,ne=te/(F._stepCount-1),ce=N+t.labelPadding;if(X.labelStride=Math.max(1,Math.ceil(ce/ne)),X.labelHeight=V,X.currentValueMaxWidth=0,X.currentValueHeight=0,X.currentValueTotalHeight=0,X.currentValueMaxLines=1,F.currentvalue.visible){var Q=C.tester.append("g");B.each(function(oe){var ue=o(Q,F,oe.label),K=ue.node()&&C.bBox(ue.node())||{width:0,height:0},$=d.lineCount(ue);X.currentValueMaxWidth=Math.max(X.currentValueMaxWidth,Math.ceil(K.width)),X.currentValueHeight=Math.max(X.currentValueHeight,Math.ceil(K.height)),X.currentValueMaxLines=Math.max(X.currentValueMaxLines,$)}),X.currentValueTotalHeight=X.currentValueHeight+F.currentvalue.offset,Q.remove()}X.height=X.currentValueTotalHeight+t.tickOffset+F.ticklen+t.labelOffset+X.labelHeight+F.pad.t+F.pad.b;var Z="left";S.isRightAnchor(F)&&(X.lx-=X.outerLength,Z="right"),S.isCenterAnchor(F)&&(X.lx-=X.outerLength/2,Z="center");var re="top";S.isBottomAnchor(F)&&(X.ly-=X.height,re="bottom"),S.isMiddleAnchor(F)&&(X.ly-=X.height/2,re="middle"),X.outerLength=Math.ceil(X.outerLength),X.height=Math.ceil(X.height),X.lx=Math.round(X.lx),X.ly=Math.round(X.ly);var Y={y:F.y,b:X.height*u[re],t:X.height*f[re]};F.lenmode==="fraction"?(Y.l=0,Y.xl=F.x-F.len*f[Z],Y.r=0,Y.xr=F.x+F.len*u[Z]):(Y.x=F.x,Y.l=X.outerLength*f[Z],Y.r=X.outerLength*u[Z]),R.autoMargin(z,l(F),Y)}function h(z,F,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),F.call(o,B).call(U,B).call(T,B).call(M,B).call(_,z,B).call(p,z,B);var N=B._dims;C.setTranslate(F,N.lx+B.pad.l,N.ly+B.pad.t),F.call(E,B,!1),F.call(o,B)}function o(z,F,B){if(F.currentvalue.visible){var N=F._dims,V,X;switch(F.currentvalue.xanchor){case"right":V=N.inputAreaLength-t.currentValueInset-N.currentValueMaxWidth,X="left";break;case"center":V=N.inputAreaLength*.5,X="middle";break;default:V=t.currentValueInset,X="left"}var q=S.ensureSingle(z,"text",t.labelClass,function(re){re.attr({"text-anchor":X,"data-notex":1})}),te=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof B=="string")te+=B;else{var ne=F.steps[F.active].label,ce=F._gd._fullLayout._meta;ce&&(ne=S.templateString(ne,ce)),te+=ne}F.currentvalue.suffix&&(te+=F.currentvalue.suffix),q.call(C.font,F.currentvalue.font).text(te).call(d.convertToTspans,F._gd);var Q=d.lineCount(q),Z=(N.currentValueMaxLines+1-Q)*F.currentvalue.font.size*n;return d.positionText(q,V,Z),q}}function p(z,F,B){var N=S.ensureSingle(z,"rect",t.gripRectClass,function(V){V.call(L,F,z,B).style("pointer-events","all")});N.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(a.stroke,B.bordercolor).call(a.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function b(z,F,B){var N=S.ensureSingle(z,"text",t.labelClass,function(q){q.attr({"text-anchor":"middle","data-notex":1})}),V=F.step.label,X=B._gd._fullLayout._meta;return X&&(V=S.templateString(V,X)),N.call(C.font,B.font).text(V).call(d.convertToTspans,B._gd),N}function T(z,F){var B=S.ensureSingle(z,"g",t.labelsClass),N=F._dims,V=B.selectAll("g."+t.labelGroupClass).data(N.labelSteps);V.enter().append("g").classed(t.labelGroupClass,!0),V.exit().remove(),V.each(function(X){var q=g.select(this);q.call(b,X,F),C.setTranslate(q,w(F,X.fraction),t.tickOffset+F.ticklen+F.font.size*n+t.labelOffset+N.currentValueTotalHeight)})}function P(z,F,B,N,V){var X=Math.round(N*(B._stepCount-1)),q=B._visibleSteps[X]._index;q!==B.active&&x(z,F,B,q,!0,V)}function x(z,F,B,N,V,X){var q=B.active;B.active=N,r(z.layout,t.name,B).applyUpdate("active",N);var te=B.steps[B.active];F.call(E,B,X),F.call(o,B),z.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:V,previousActive:q}),te&&te.method&&V&&(F._nextMethod?(F._nextMethod.step=te,F._nextMethod.doCallback=V,F._nextMethod.doTransition=X):(F._nextMethod={step:te,doCallback:V,doTransition:X},F._nextMethodRaf=window.requestAnimationFrame(function(){var ne=F._nextMethod.step;ne.method&&(ne.execute&&R.executeAPICommand(z,ne.method,ne.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function L(z,F,B){if(F._context.staticPlot)return;var N=B.node(),V=g.select(F);function X(){return B.data()[0]}function q(){var te=X();F.emit("plotly_sliderstart",{slider:te});var ne=B.select("."+t.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),ne.call(a.fill,te.activebgcolor);var ce=O(te,g.mouse(N)[0]);P(F,B,te,ce,!0),te._dragging=!0;function Q(){var re=X(),Y=O(re,g.mouse(N)[0]);P(F,B,re,Y,!1)}V.on("mousemove",Q),V.on("touchmove",Q);function Z(){var re=X();re._dragging=!1,ne.call(a.fill,re.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),F.emit("plotly_sliderend",{slider:re,step:re.steps[re.active]})}V.on("mouseup",Z),V.on("touchend",Z)}z.on("mousedown",q),z.on("touchstart",q)}function M(z,F){var B=z.selectAll("rect."+t.tickRectClass).data(F._visibleSteps),N=F._dims;B.enter().append("rect").classed(t.tickRectClass,!0),B.exit().remove(),B.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(V,X){var q=X%N.labelStride===0,te=g.select(this);te.attr({height:q?F.ticklen:F.minorticklen}).call(a.fill,F.tickcolor),C.setTranslate(te,w(F,X/(F._stepCount-1))-.5*F.tickwidth,(q?t.tickOffset:t.minorTickOffset)+N.currentValueTotalHeight)})}function s(z){var F=z._dims;F.labelSteps=[];for(var B=z._stepCount,N=0;N<B;N+=F.labelStride)F.labelSteps.push({fraction:N/(B-1),step:z._visibleSteps[N]})}function E(z,F,B){for(var N=z.select("rect."+t.gripRectClass),V=0,X=0;X<F._stepCount;X++)if(F._visibleSteps[X]._index===F.active){V=X;break}var q=w(F,V/(F._stepCount-1));if(!F._invokingCommand){var te=N;B&&F.transition.duration>0&&(te=te.transition().duration(F.transition.duration).ease(F.transition.easing)),te.attr("transform",v(q-t.gripWidth*.5,F._dims.currentValueTotalHeight))}}function w(z,F){var B=z._dims;return B.inputAreaStart+t.stepInset+(B.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,F))}function O(z,F){var B=z._dims;return Math.min(1,Math.max(0,(F-t.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*t.stepInset-2*B.inputAreaStart)))}function _(z,F,B){var N=B._dims,V=S.ensureSingle(z,"rect",t.railTouchRectClass,function(X){X.call(L,F,z,B).style("pointer-events","all")});V.attr({width:N.inputAreaLength,height:Math.max(N.inputAreaWidth,t.tickOffset+B.ticklen+N.labelHeight)}).call(a.fill,B.bgcolor).attr("opacity",0),C.setTranslate(V,0,N.currentValueTotalHeight)}function U(z,F){var B=F._dims,N=B.inputAreaLength-t.railInset*2,V=S.ensureSingle(z,"rect",t.railRectClass);V.attr({width:N,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,F.bordercolor).call(a.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),C.setTranslate(V,t.railInset,(B.inputAreaWidth-t.railWidth)*.5+B.currentValueTotalHeight)}},97544:function(H,G,e){var g=e(60876);H.exports={moduleType:"component",name:g.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(H,G,e){var g=e(33428),R=e(38248),a=e(7316),C=e(24040),S=e(3400),v=S.strTranslate,d=e(43616),r=e(76308),t=e(72736),i=e(13448),n=e(84284).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function u(l,m,c){var A=c.propContainer,h=c.propName,o=c.placeholder,p=c.traceIndex,b=c.avoid||{},T=c.attributes,P=c.transform,x=c.containerGroup,L=l._fullLayout,M=1,s=!1,E=A.title,w=(E&&E.text?E.text:"").trim(),O=E&&E.font?E.font:{},_=O.family,U=O.size,z=O.color,F=O.weight,B=O.style,N=O.variant,V;h==="title.text"?V="titleText":h.indexOf("axis")!==-1?V="axisTitleText":h.indexOf("colorbar"!==-1)&&(V="colorbarTitleText");var X=l._context.edits[V];w===""?M=0:w.replace(f," % ")===o.replace(f," % ")&&(M=.2,s=!0,X||(w="")),c._meta?w=S.templateString(w,c._meta):L._meta&&(w=S.templateString(w,L._meta));var q=w||X,te;x||(x=S.ensureSingle(L._infolayer,"g","g-"+m),te=L._hColorbarMoveTitle);var ne=x.selectAll("text").data(q?[0]:[]);if(ne.enter().append("text"),ne.text(w).attr("class",m),ne.exit().remove(),!q)return x;function ce(Y){S.syncOrAsync([Q,Z],Y)}function Q(Y){var oe;return!P&&te&&(P={}),P?(oe="",P.rotate&&(oe+="rotate("+[P.rotate,T.x,T.y]+")"),(P.offset||te)&&(oe+=v(0,(P.offset||0)-(te||0)))):oe=null,Y.attr("transform",oe),Y.style({"font-family":_,"font-size":g.round(U,2)+"px",fill:r.rgb(z),opacity:M*r.opacity(z),"font-weight":F,"font-style":B,"font-variant":N}).attr(T).call(t.convertToTspans,l),a.previousPromises(l)}function Z(Y){var oe=g.select(Y.node().parentNode);if(b&&b.selection&&b.side&&w){oe.attr("transform",null);var ue=n[b.side],K=b.side==="left"||b.side==="top"?-1:1,$=R(b.pad)?b.pad:2,le=d.bBox(oe.node()),ae={t:0,b:0,l:0,r:0},he=l._fullLayout._reservedMargin;for(var xe in he)for(var Me in he[xe]){var Ae=he[xe][Me];ae[Me]=Math.max(ae[Me],Ae)}var ke={left:ae.l,top:ae.t,right:L.width-ae.r,bottom:L.height-ae.b},we=b.maxShift||K*(ke[b.side]-le[b.side]),Ee=0;if(we<0)Ee=we;else{var be=b.offsetLeft||0,Le=b.offsetTop||0;le.left-=be,le.right-=be,le.top-=Le,le.bottom-=Le,b.selection.each(function(){var Ve=d.bBox(this);S.bBoxIntersect(le,Ve,$)&&(Ee=Math.max(Ee,K*(Ve[b.side]-le[ue])+$))}),Ee=Math.min(we,Ee),A._titleScoot=Math.abs(Ee)}if(Ee>0||we<0){var Ue={left:[-Ee,0],right:[Ee,0],top:[0,-Ee],bottom:[0,Ee]}[b.side];oe.attr("transform",v(Ue[0],Ue[1]))}}}ne.call(ce);function re(){M=0,s=!0,ne.text(o).on("mouseover.opacity",function(){g.select(this).transition().duration(i.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(i.HIDE_PLACEHOLDER).style("opacity",0)})}return X&&(w?ne.on(".opacity",null):re(),ne.call(t.makeEditable,{gd:l}).on("edit",function(Y){p!==void 0?C.call("_guiRestyle",l,h,Y,p):C.call("_guiRelayout",l,h,Y)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ce)}).on("input",function(Y){this.text(Y||" ").call(t.positionText,T.x,T.y)})),ne.classed("js-placeholder",s),x}H.exports={draw:u}},88444:function(H,G,e){var g=e(25376),R=e(22548),a=e(92880).extendFlat,C=e(67824).overrideAll,S=e(66741),v=e(31780).templatedArray,d=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});H.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(S({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:R.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(H){H.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(H,G,e){var g=e(3400),R=e(51272),a=e(88444),C=e(73712),S=C.name,v=a.buttons;H.exports=function(i,n){var f={name:S,handleItemDefaults:d};R(i,n,f)};function d(t,i,n){function f(m,c){return g.coerce(t,i,a,m,c)}var u=R(t,i,{name:"buttons",handleItemDefaults:r}),l=f("visible",u.length>0);l&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),g.noneOrAll(t,i,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),g.coerceFont(f,"font",n.font),f("bgcolor",n.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(t,i){function n(u,l){return g.coerce(t,i,v,u,l)}var f=n("visible",t.method==="skip"||Array.isArray(t.args));f&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(H,G,e){var g=e(33428),R=e(7316),a=e(76308),C=e(43616),S=e(3400),v=e(72736),d=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),i=e(37400);H.exports=function(O){var _=O._fullLayout,U=S.filterVisible(_[t.name]);function z(ne){R.autoMargin(O,M(ne))}var F=_._menulayer.selectAll("g."+t.containerClassName).data(U.length>0?[0]:[]);if(F.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),F.exit().each(function(){g.select(this).selectAll("g."+t.headerGroupClassName).each(z)}).remove(),U.length!==0){var B=F.selectAll("g."+t.headerGroupClassName).data(U,n);B.enter().append("g").classed(t.headerGroupClassName,!0);for(var N=S.ensureSingle(F,"g",t.dropdownButtonGroupClassName,function(ne){ne.style("pointer-events","all")}),V=0;V<U.length;V++){var X=U[V];L(O,X)}var q="updatemenus"+_._uid,te=new i(O,N,q);B.enter().size()&&(N.node().parentNode.appendChild(N.node()),N.call(E)),B.exit().each(function(ne){N.call(E),z(ne)}).remove(),B.each(function(ne){var ce=g.select(this),Q=ne.type==="dropdown"?N:null;R.manageCommandObserver(O,ne,ne.buttons,function(Z){l(O,ne,ne.buttons[Z.index],ce,Q,te,Z.index,!0)}),ne.type==="dropdown"?(m(O,ce,N,te,ne),u(N,ne)&&c(O,ce,N,te,ne)):c(O,ce,null,null,ne)})}};function n(w){return w._index}function f(w){return+w.attr(t.menuIndexAttrName)==-1}function u(w,O){return+w.attr(t.menuIndexAttrName)===O._index}function l(w,O,_,U,z,F,B,N){O.active=B,d(w.layout,t.name,O).applyUpdate("active",B),O.type==="buttons"?c(w,U,null,null,O):O.type==="dropdown"&&(z.attr(t.menuIndexAttrName,"-1"),m(w,U,z,F,O),N||c(w,U,z,F,O))}function m(w,O,_,U,z){var F=S.ensureSingle(O,"g",t.headerClassName,function(ne){ne.style("pointer-events","all")}),B=z._dims,N=z.active,V=z.buttons[N]||t.blankHeaderOpts,X={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},q={width:B.headerWidth,height:B.headerHeight};F.call(o,z,V,w).call(s,z,X,q);var te=S.ensureSingle(O,"text",t.headerArrowClassName,function(ne){ne.attr("text-anchor","end").call(C.font,z.font).text(t.arrowSymbol[z.direction])});te.attr({x:B.headerWidth-t.arrowOffsetX+z.pad.l,y:B.headerHeight/2+t.textOffsetY+z.pad.t}),F.on("click",function(){_.call(E,String(u(_,z)?-1:z._index)),c(w,O,_,U,z)}),F.on("mouseover",function(){F.call(P)}),F.on("mouseout",function(){F.call(x,z)}),C.setTranslate(O,B.lx,B.ly)}function c(w,O,_,U,z){_||(_=O,_.attr("pointer-events","all"));var F=!f(_)||z.type==="buttons"?z.buttons:[],B=z.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,N=_.selectAll("g."+B).data(S.filterVisible(F)),V=N.enter().append("g").classed(B,!0),X=N.exit();z.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),X.transition().attr("opacity","0").remove()):X.remove();var q=0,te=0,ne=z._dims,ce=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ce?te=ne.headerHeight+t.gapButtonHeader:q=ne.headerWidth+t.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(te=-t.gapButtonHeader+t.gapButton-ne.openHeight),z.type==="dropdown"&&z.direction==="left"&&(q=-t.gapButtonHeader+t.gapButton-ne.openWidth);var Q={x:ne.lx+q+z.pad.l,y:ne.ly+te+z.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Z={l:Q.x+z.borderwidth,t:Q.y+z.borderwidth};N.each(function(re,Y){var oe=g.select(this);oe.call(o,z,re,w).call(s,z,Q),oe.on("click",function(){g.event.defaultPrevented||(re.execute&&(re.args2&&z.active===Y?(l(w,z,re,O,_,U,-1),R.executeAPICommand(w,re.method,re.args2)):(l(w,z,re,O,_,U,Y),R.executeAPICommand(w,re.method,re.args))),w.emit("plotly_buttonclicked",{menu:z,button:re,active:z.active}))}),oe.on("mouseover",function(){oe.call(P)}),oe.on("mouseout",function(){oe.call(x,z),N.call(T,z)})}),N.call(T,z),ce?(Z.w=Math.max(ne.openWidth,ne.headerWidth),Z.h=Q.y-Z.t):(Z.w=Q.x-Z.l,Z.h=Math.max(ne.openHeight,ne.headerHeight)),Z.direction=z.direction,U&&(N.size()?A(w,O,_,U,z,Z):h(U))}function A(w,O,_,U,z,F){var B=z.direction,N=B==="up"||B==="down",V=z._dims,X=z.active,q,te,ne;if(N)for(te=0,ne=0;ne<X;ne++)te+=V.heights[ne]+t.gapButton;else for(q=0,ne=0;ne<X;ne++)q+=V.widths[ne]+t.gapButton;U.enable(F,q,te),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(w){var O=!!w.hbar,_=!!w.vbar;O&&w.hbar.transition().attr("opacity","0").each("end",function(){O=!1,_||w.disable()}),_&&w.vbar.transition().attr("opacity","0").each("end",function(){_=!1,O||w.disable()})}function o(w,O,_,U){w.call(p,O).call(b,O,_,U)}function p(w,O){var _=S.ensureSingle(w,"rect",t.itemRectClassName,function(U){U.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});_.call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function b(w,O,_,U){var z=S.ensureSingle(w,"text",t.itemTextClassName,function(N){N.attr({"text-anchor":"start","data-notex":1})}),F=_.label,B=U._fullLayout._meta;B&&(F=S.templateString(F,B)),z.call(C.font,O.font).text(F).call(v.convertToTspans,U)}function T(w,O){var _=O.active;w.each(function(U,z){var F=g.select(this);z===_&&O.showactive&&F.select("rect."+t.itemRectClassName).call(a.fill,t.activeColor)})}function P(w){w.select("rect."+t.itemRectClassName).call(a.fill,t.hoverColor)}function x(w,O){w.select("rect."+t.itemRectClassName).call(a.fill,O.bgcolor)}function L(w,O){var _=O._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=C.tester.selectAll("g."+t.dropdownButtonClassName).data(S.filterVisible(O.buttons));U.enter().append("g").classed(t.dropdownButtonClassName,!0);var z=["up","down"].indexOf(O.direction)!==-1;U.each(function(q,te){var ne=g.select(this);ne.call(o,O,q,w);var ce=ne.select("."+t.itemTextClassName),Q=ce.node()&&C.bBox(ce.node()).width,Z=Math.max(Q+t.textPadX,t.minWidth),re=O.font.size*r,Y=v.lineCount(ce),oe=Math.max(re*Y,t.minHeight)+t.textOffsetY;oe=Math.ceil(oe),Z=Math.ceil(Z),_.widths[te]=Z,_.heights[te]=oe,_.height1=Math.max(_.height1,oe),_.width1=Math.max(_.width1,Z),z?(_.totalWidth=Math.max(_.totalWidth,Z),_.openWidth=_.totalWidth,_.totalHeight+=oe+t.gapButton,_.openHeight+=oe+t.gapButton):(_.totalWidth+=Z+t.gapButton,_.openWidth+=Z+t.gapButton,_.totalHeight=Math.max(_.totalHeight,oe),_.openHeight=_.totalHeight)}),z?_.totalHeight-=t.gapButton:_.totalWidth-=t.gapButton,_.headerWidth=_.width1+t.arrowPadX,_.headerHeight=_.height1,O.type==="dropdown"&&(z?(_.width1+=t.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=t.arrowPadX),U.remove();var F=_.totalWidth+O.pad.l+O.pad.r,B=_.totalHeight+O.pad.t+O.pad.b,N=w._fullLayout._size;_.lx=N.l+N.w*O.x,_.ly=N.t+N.h*(1-O.y);var V="left";S.isRightAnchor(O)&&(_.lx-=F,V="right"),S.isCenterAnchor(O)&&(_.lx-=F/2,V="center");var X="top";S.isBottomAnchor(O)&&(_.ly-=B,X="bottom"),S.isMiddleAnchor(O)&&(_.ly-=B/2,X="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),R.autoMargin(w,M(O),{x:O.x,y:O.y,l:F*({right:1,center:.5}[V]||0),r:F*({left:1,center:.5}[V]||0),b:B*({top:1,middle:.5}[X]||0),t:B*({bottom:1,middle:.5}[X]||0)})}function M(w){return t.autoMarginIdRoot+w._index}function s(w,O,_,U){U=U||{};var z=w.select("."+t.itemRectClassName),F=w.select("."+t.itemTextClassName),B=O.borderwidth,N=_.index,V=O._dims;C.setTranslate(w,B+_.x,B+_.y);var X=["up","down"].indexOf(O.direction)!==-1,q=U.height||(X?V.heights[N]:V.height1);z.attr({x:0,y:0,width:U.width||(X?V.width1:V.widths[N]),height:q});var te=O.font.size*r,ne=v.lineCount(F),ce=(ne-1)*te/2;v.positionText(F,t.textOffsetX,q/2-ce+t.textOffsetY),X?_.y+=V.heights[N]+_.yPad:_.x+=V.widths[N]+_.xPad,_.index++}function E(w,O){w.attr(t.menuIndexAttrName,O||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(H,G,e){var g=e(73712);H.exports={moduleType:"component",name:g.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(H,G,e){H.exports=S;var g=e(33428),R=e(76308),a=e(43616),C=e(3400);function S(v,d,r){this.gd=v,this.container=d,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}S.barWidth=2,S.barLength=20,S.barRadius=2,S.barPad=1,S.barColor="#808BA4",S.prototype.enable=function(d,r,t){var i=this.gd._fullLayout,n=i.width,f=i.height;this.position=d;var u=this.position.l,l=this.position.w,m=this.position.t,c=this.position.h,A=this.position.direction,h=A==="down",o=A==="left",p=A==="right",b=A==="up",T=l,P=c,x,L,M,s;!h&&!o&&!p&&!b&&(this.position.direction="down",h=!0);var E=h||b;E?(x=u,L=x+T,h?(M=m,s=Math.min(M+P,f),P=s-M):(s=m+P,M=Math.max(s-P,0),P=s-M)):(M=m,s=M+P,o?(L=u+T,x=Math.max(L-T,0),T=L-x):(x=u,L=Math.min(x+T,n),T=L-x)),this._box={l:x,t:M,w:T,h:P};var w=l>T,O=S.barLength+2*S.barPad,_=S.barWidth+2*S.barPad,U=u,z=m+c;z+_>f&&(z=f-_);var F=this.container.selectAll("rect.scrollbar-horizontal").data(w?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(R.fill,S.barColor),w?(this.hbar=F.attr({rx:S.barRadius,ry:S.barRadius,x:U,y:z,width:O,height:_}),this._hbarXMin=U+O/2,this._hbarTranslateMax=T-O):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=c>P,N=S.barWidth+2*S.barPad,V=S.barLength+2*S.barPad,X=u+l,q=m;X+N>n&&(X=n-N);var te=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-vertical",!0).call(R.fill,S.barColor),B?(this.vbar=te.attr({rx:S.barRadius,ry:S.barRadius,x:X,y:q,width:N,height:V}),this._vbarYMin=q+V/2,this._vbarTranslateMax=P-V):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ne=this.id,ce=x-.5,Q=B?L+N+.5:L+.5,Z=M-.5,re=w?s+_+.5:s+.5,Y=i._topdefs.selectAll("#"+ne).data(w||B?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",ne).append("rect"),w||B?(this._clipRect=Y.select("rect").attr({x:Math.floor(ce),y:Math.floor(Z),width:Math.ceil(Q)-Math.floor(ce),height:Math.ceil(re)-Math.floor(Z)}),this.container.call(a.setClipUrl,ne,this.gd),this.bg.attr({x:u,y:m,width:l,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),w||B){var oe=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(oe);var ue=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));w&&this.hbar.on(".drag",null).call(ue),B&&this.vbar.on(".drag",null).call(ue)}this.setTranslate(r,t)},S.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},S.prototype._onBoxDrag=function(){var d=this.translateX,r=this.translateY;this.hbar&&(d-=g.event.dx),this.vbar&&(r-=g.event.dy),this.setTranslate(d,r)},S.prototype._onBoxWheel=function(){var d=this.translateX,r=this.translateY;this.hbar&&(d+=g.event.deltaY),this.vbar&&(r+=g.event.deltaY),this.setTranslate(d,r)},S.prototype._onBarDrag=function(){var d=this.translateX,r=this.translateY;if(this.hbar){var t=d+this._hbarXMin,i=t+this._hbarTranslateMax,n=C.constrain(g.event.x,t,i),f=(n-t)/(i-t),u=this.position.w-this._box.w;d=f*u}if(this.vbar){var l=r+this._vbarYMin,m=l+this._vbarTranslateMax,c=C.constrain(g.event.y,l,m),A=(c-l)/(m-l),h=this.position.h-this._box.h;r=A*h}this.setTranslate(d,r)},S.prototype.setTranslate=function(d,r){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(d=C.constrain(d||0,0,t),r=C.constrain(r||0,0,i),this.translateX=d,this.translateY=r,this.container.call(a.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=d/t;this.hbar.call(a.setTranslate,d+n*this._hbarTranslateMax,r)}if(this.vbar){var f=r/i;this.vbar.call(a.setTranslate,d,r+f*this._vbarTranslateMax)}}},84284:function(H){H.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(H){H.exports={axisRefDescription:function(G,e,g){return["If set to a",G,"axis id (e.g. *"+G+"* or","*"+G+"2*), the `"+G+"` position refers to a",G,"coordinate. If set to *paper*, the `"+G+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",G,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+G+"2 domain* refers to the domain of the second",G," axis and a",G,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",G,"axis."].join(" ")}}},48164:function(H){H.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(H){H.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(H){H.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(H){H.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(H){H.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(H){H.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(H){H.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(H,G){G.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],G.STYLE=G.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(H,G){G.xmlns="http://www.w3.org/2000/xmlns/",G.svg="http://www.w3.org/2000/svg",G.xlink="http://www.w3.org/1999/xlink",G.svgAttrs={xmlns:G.svg,"xmlns:xlink":G.xlink}},64884:function(H,G,e){G.version=e(25788).version,e(88324),e(79288);for(var g=e(24040),R=G.register=g.register,a=e(22448),C=Object.keys(a),S=0;S<C.length;S++){var v=C[S];v.charAt(0)!=="_"&&(G[v]=a[v]),R({moduleType:"apiMethod",name:v,fn:a[v]})}R(e(65875)),R([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),R([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(R(window.PlotlyLocales),delete window.PlotlyLocales),G.Icons=e(9224);var d=e(93024),r=e(7316);G.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},G.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},G.Snapshot=e(78904),G.PlotSchema=e(73060)},9224:function(H){H.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(H,G){G.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},G.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},G.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},G.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},G.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},G.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},11864:function(H,G,e){var g=e(20435),R=g.mod,a=g.modHalf,C=Math.PI,S=2*C;function v(A){return A/180*C}function d(A){return A/C*180}function r(A){return Math.abs(A[1]-A[0])>S-1e-14}function t(A,h){return a(h-A,S)}function i(A,h){return Math.abs(t(A,h))}function n(A,h){if(r(h))return!0;var o,p;h[0]<h[1]?(o=h[0],p=h[1]):(o=h[1],p=h[0]),o=R(o,S),p=R(p,S),o>p&&(p+=S);var b=R(A,S),T=b+S;return b>=o&&b<=p||T>=o&&T<=p}function f(A,h,o,p){if(!n(h,p))return!1;var b,T;return o[0]<o[1]?(b=o[0],T=o[1]):(b=o[1],T=o[0]),A>=b&&A<=T}function u(A,h,o,p,b,T,P){b=b||0,T=T||0;var x=r([o,p]),L,M,s,E,w;x?(L=0,M=C,s=S):o<p?(L=o,s=p):(L=p,s=o),A<h?(E=A,w=h):(E=h,w=A);function O(F,B){return[F*Math.cos(B)+b,T-F*Math.sin(B)]}var _=Math.abs(s-L)<=C?0:1;function U(F,B,N){return"A"+[F,F]+" "+[0,_,N]+" "+O(F,B)}var z;return x?E===null?z="M"+O(w,L)+U(w,M,0)+U(w,s,0)+"Z":z="M"+O(E,L)+U(E,M,0)+U(E,s,0)+"ZM"+O(w,L)+U(w,M,1)+U(w,s,1)+"Z":E===null?(z="M"+O(w,L)+U(w,s,0),P&&(z+="L0,0Z")):z="M"+O(E,L)+"L"+O(w,L)+U(w,s,0)+"L"+O(E,s)+U(E,L,1)+"Z",z}function l(A,h,o,p,b){return u(null,A,h,o,p,b,0)}function m(A,h,o,p,b){return u(null,A,h,o,p,b,1)}function c(A,h,o,p,b,T){return u(A,h,o,p,b,T,1)}H.exports={deg2rad:v,rad2deg:d,angleDelta:t,angleDist:i,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:f,pathArc:l,pathSector:m,pathAnnulus:c}},38116:function(H,G,e){var g=e(83160).decode,R=e(63620),a=Array.isArray,C=ArrayBuffer,S=DataView;function v(u){return C.isView(u)&&!(u instanceof S)}G.isTypedArray=v;function d(u){return a(u)||v(u)}G.isArrayOrTypedArray=d;function r(u){return!d(u[0])}G.isArray1D=r,G.ensureArray=function(u,l){return a(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function i(u){return u.constructor===ArrayBuffer}G.isArrayBuffer=i,G.decodeTypedArraySpec=function(u){var l=[],m=n(u),c=m.dtype,A=t[c];if(!A)throw new Error('Error in dtype: "'+c+'"');var h=A.BYTES_PER_ELEMENT,o=m.bdata;i(o)||(o=g(o));var p=m.shape===void 0?[o.byteLength/h]:(""+m.shape).split(",");p.reverse();var b=p.length,T,P,x=+p[0],L=h*x,M=0;if(b===1)l=new A(o);else if(b===2)for(T=+p[1],P=0;P<T;P++)l[P]=new A(o,M,x),M+=L;else if(b===3){T=+p[1];for(var s=+p[2],E=0;E<s;E++)for(l[E]=[],P=0;P<T;P++)l[E][P]=new A(o,M,x),M+=L}else throw new Error("ndim: "+b+'is not supported with the shape:"'+m.shape+'"');return l.bdata=m.bdata,l.dtype=m.dtype,l.shape=p.reverse().join(","),u._inputArray=l,l},G.isTypedArraySpec=function(u){return R(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||i(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}G.concat=function(){var u=[],l=!0,m=0,c,A,h,o,p,b,T,P;for(h=0;h<arguments.length;h++)o=arguments[h],b=o.length,b&&(A?u.push(o):(A=o,p=b),a(o)?c=!1:(l=!1,m?c!==o.constructor&&(c=!1):c=o.constructor),m+=b);if(!m)return[];if(!u.length)return A;if(l)return A.concat.apply(A,u);if(c){for(T=new c(m),T.set(A),h=0;h<u.length;h++)o=u[h],T.set(o,p),p+=o.length;return T}for(T=new Array(m),P=0;P<A.length;P++)T[P]=A[P];for(h=0;h<u.length;h++){for(o=u[h],P=0;P<o.length;P++)T[p+P]=o[P];p+=P}return T},G.maxRowLength=function(u){return f(u,Math.max,0)},G.minRowLength=function(u){return f(u,Math.min,1/0)};function f(u,l,m){if(d(u))if(d(u[0])){for(var c=m,A=0;A<u.length;A++)c=l(c,u[A].length);return c}else return u.length;return 0}},54037:function(H,G,e){var g=e(38248),R=e(39032).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;H.exports=function(S){return typeof S=="string"&&(S=S.replace(a,"")),g(S)?Number(S):R}},73696:function(H){H.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(R){R.regl&&R.regl.clear({color:!0,depth:!0})})}},75352:function(H){H.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(H,G,e){var g=e(38248),R=e(49760),a=e(45464),C=e(88304),S=e(76308),v=e(13448).DESELECTDIM,d=e(22296),r=e(53756).counter,t=e(20435).modHalf,i=e(38116).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,f=e(38116).decodeTypedArraySpec;G.valObjectMeta={data_array:{coerceFunction:function(l,m,c){m.set(i(l)?l:n(l)?f(l):c)}},enumerated:{coerceFunction:function(l,m,c,A){A.coerceNumber&&(l=+l),A.values.indexOf(l)===-1?m.set(c):m.set(l)},validateFunction:function(l,m){m.coerceNumber&&(l=+l);for(var c=m.values,A=0;A<c.length;A++){var h=String(c[A]);if(h.charAt(0)==="/"&&h.charAt(h.length-1)==="/"){var o=new RegExp(h.substr(1,h.length-2));if(o.test(l))return!0}else if(l===c[A])return!0}return!1}},boolean:{coerceFunction:function(l,m,c){l===!0||l===!1?m.set(l):m.set(c)}},number:{coerceFunction:function(l,m,c,A){!g(l)||A.min!==void 0&&l<A.min||A.max!==void 0&&l>A.max?m.set(c):m.set(+l)}},integer:{coerceFunction:function(l,m,c,A){l%1||!g(l)||A.min!==void 0&&l<A.min||A.max!==void 0&&l>A.max?m.set(c):m.set(+l)}},string:{coerceFunction:function(l,m,c,A){if(typeof l!="string"){var h=typeof l=="number";A.strict===!0||!h?m.set(c):m.set(String(l))}else A.noBlank&&!l?m.set(c):m.set(l)}},color:{coerceFunction:function(l,m,c){R(l).isValid()?m.set(l):m.set(c)}},colorlist:{coerceFunction:function(l,m,c){function A(h){return R(h).isValid()}!Array.isArray(l)||!l.length?m.set(c):l.every(A)?m.set(l):m.set(c)}},colorscale:{coerceFunction:function(l,m,c){m.set(C.get(l,c))}},angle:{coerceFunction:function(l,m,c){l==="auto"?m.set("auto"):g(l)?m.set(t(+l,360)):m.set(c)}},subplotid:{coerceFunction:function(l,m,c,A){var h=A.regex||r(c);if(typeof l=="string"&&h.test(l)){m.set(l);return}m.set(c)},validateFunction:function(l,m){var c=m.dflt;return l===c?!0:typeof l!="string"?!1:!!r(c).test(l)}},flaglist:{coerceFunction:function(l,m,c,A){if((A.extras||[]).indexOf(l)!==-1){m.set(l);return}if(typeof l!="string"){m.set(c);return}for(var h=l.split("+"),o=0;o<h.length;){var p=h[o];A.flags.indexOf(p)===-1||h.indexOf(p)<o?h.splice(o,1):o++}h.length?m.set(h.join("+")):m.set(c)}},any:{coerceFunction:function(l,m,c){l===void 0?m.set(c):m.set(n(l)?f(l):l)}},info_array:{coerceFunction:function(l,m,c,A){function h(U,z,F){var B,N={set:function(V){B=V}};return F===void 0&&(F=z.dflt),G.valObjectMeta[z.valType].coerceFunction(U,N,F,z),B}if(n(l)&&(l=f(l)),!i(l)){m.set(c);return}var o=A.dimensions===2||A.dimensions==="1-2"&&Array.isArray(l)&&i(l[0]),p=A.items,b=[],T=Array.isArray(p),P=T&&o&&i(p[0]),x=o&&T&&!P,L=T&&!x?p.length:l.length,M,s,E,w,O,_;if(c=Array.isArray(c)?c:[],o)for(M=0;M<L;M++)for(b[M]=[],E=i(l[M])?l[M]:[],x?O=p.length:T?O=p[M].length:O=E.length,s=0;s<O;s++)x?w=p[s]:T?w=p[M][s]:w=p,_=h(E[s],w,(c[M]||[])[s]),_!==void 0&&(b[M][s]=_);else for(M=0;M<L;M++)_=h(l[M],T?p[M]:p,c[M]),_!==void 0&&(b[M]=_);m.set(b)},validateFunction:function(l,m){if(!i(l))return!1;var c=m.items,A=Array.isArray(c),h=m.dimensions===2;if(!m.freeLength&&l.length!==c.length)return!1;for(var o=0;o<l.length;o++)if(h){if(!i(l[o])||!m.freeLength&&l[o].length!==c[o].length)return!1;for(var p=0;p<l[o].length;p++)if(!u(l[o][p],A?c[o][p]:c))return!1}else if(!u(l[o],A?c[o]:c))return!1;return!0}}},G.coerce=function(l,m,c,A,h){var o=d(c,A).get(),p=d(l,A),b=d(m,A),T=p.get(),P=m._template;if(T===void 0&&P&&(T=d(P,A).get(),P=0),h===void 0&&(h=o.dflt),o.arrayOk){if(i(T))return b.set(T),T;if(n(T))return T=f(T),b.set(T),T}var x=G.valObjectMeta[o.valType].coerceFunction;x(T,b,h,o);var L=b.get();return P&&L===h&&!u(T,o)&&(T=d(P,A).get(),x(T,b,h,o),L=b.get()),L},G.coerce2=function(l,m,c,A,h){var o=d(l,A),p=G.coerce(l,m,c,A,h),b=o.get();return b!=null?p:!1},G.coerceFont=function(l,m,c,A){A||(A={});var h={};return c=c||{},h.family=l(m+".family",c.family),h.size=l(m+".size",c.size),h.color=l(m+".color",c.color),h.weight=l(m+".weight",c.weight),h.style=l(m+".style",c.style),A.noFontVariant||(h.variant=l(m+".variant",c.variant)),h},G.coercePattern=function(l,m,c,A){var h=l(m+".shape");if(h){l(m+".solidity"),l(m+".size");var o=l(m+".fillmode"),p=o==="overlay";if(!A){var b=l(m+".bgcolor",p?c:void 0);l(m+".fgcolor",p?S.contrast(b):c)}l(m+".fgopacity",p?.5:1)}},G.coerceHoverinfo=function(l,m,c){var A=m._module.attributes,h=A.hoverinfo?A:a,o=h.hoverinfo,p;if(c._dataLength===1){var b=o.dflt==="all"?o.flags.slice():o.dflt.split("+");b.splice(b.indexOf("name"),1),p=b.join("+")}return G.coerce(l,m,h,"hoverinfo",p)},G.coerceSelectionMarkerOpacity=function(l,m){if(l.marker){var c=l.marker.opacity;if(c!==void 0){var A,h;!i(c)&&!l.selected&&!l.unselected&&(A=c,h=v*c),m("selected.marker.opacity",A),m("unselected.marker.opacity",h)}}};function u(l,m){var c=G.valObjectMeta[m.valType];if(m.arrayOk&&i(l))return!0;if(c.validateFunction)return c.validateFunction(l,m);var A={},h=A,o={set:function(p){h=p}};return c.coerceFunction(l,o,A,m),h!==A}G.validate=u},67555:function(H,G,e){var g=e(94336).Yn,R=e(38248),a=e(24248),C=e(20435).mod,S=e(39032),v=S.BADNUM,d=S.ONEDAY,r=S.ONEHOUR,t=S.ONEMIN,i=S.ONESEC,n=S.EPOCHJD,f=e(24040),u=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=new Date().getFullYear()-70;function A(z){return z&&f.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}G.dateTick0=function(z,F){var B=h(z,!!F);if(F<2)return B;var N=G.dateTime2ms(B,z);return N+=d*(F-1),G.ms2DateTime(N,0,z)};function h(z,F){return A(z)?F?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:f.getComponentMethod("calendars","CANONICAL_TICK")[z]:F?"2000-01-02":"2000-01-01"}G.dfltRange=function(z){return A(z)?f.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},G.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var o,p;G.dateTime2ms=function(z,F){if(G.isJSDate(z)){var B=z.getTimezoneOffset()*t,N=(z.getUTCMinutes()-z.getMinutes())*t+(z.getUTCSeconds()-z.getSeconds())*i+(z.getUTCMilliseconds()-z.getMilliseconds());if(N){var V=3*t;B=B-V/2+C(N-B+V/2,V)}return z=Number(z)-B,z>=o&&z<=p?z:v}if(typeof z!="string"&&typeof z!="number")return v;z=String(z);var X=A(F),q=z.charAt(0);X&&(q==="G"||q==="g")&&(z=z.substr(1),F="");var te=X&&F.substr(0,7)==="chinese",ne=z.match(te?m:l);if(!ne)return v;var ce=ne[1],Q=ne[3]||"1",Z=Number(ne[5]||1),re=Number(ne[7]||0),Y=Number(ne[9]||0),oe=Number(ne[11]||0);if(X){if(ce.length===2)return v;ce=Number(ce);var ue;try{var K=f.getComponentMethod("calendars","getCal")(F);if(te){var $=Q.charAt(Q.length-1)==="i";Q=parseInt(Q,10),ue=K.newDate(ce,K.toMonthIndex(ce,Q,$),Z)}else ue=K.newDate(ce,Number(Q),Z)}catch{return v}return ue?(ue.toJD()-n)*d+re*r+Y*t+oe*i:v}ce.length===2?ce=(Number(ce)+2e3-c)%100+c:ce=Number(ce),Q-=1;var le=new Date(Date.UTC(2e3,Q,Z,re,Y));return le.setUTCFullYear(ce),le.getUTCMonth()!==Q||le.getUTCDate()!==Z?v:le.getTime()+oe*i},o=G.MIN_MS=G.dateTime2ms("-9999"),p=G.MAX_MS=G.dateTime2ms("9999-12-31 23:59:59.9999"),G.isDateTime=function(z,F){return G.dateTime2ms(z,F)!==v};function b(z,F){return String(z+Math.pow(10,F)).substr(1)}var T=90*d,P=3*r,x=5*t;G.ms2DateTime=function(z,F,B){if(typeof z!="number"||!(z>=o&&z<=p))return v;F||(F=0);var N=Math.floor(C(z+.05,1)*10),V=Math.round(z-N/10),X,q,te,ne,ce,Q;if(A(B)){var Z=Math.floor(V/d)+n,re=Math.floor(C(z,d));try{X=f.getComponentMethod("calendars","getCal")(B).fromJD(Z).formatDate("yyyy-mm-dd")}catch{X=u("G%Y-%m-%d")(new Date(V))}if(X.charAt(0)==="-")for(;X.length<11;)X="-0"+X.substr(1);else for(;X.length<10;)X="0"+X;q=F<T?Math.floor(re/r):0,te=F<T?Math.floor(re%r/t):0,ne=F<P?Math.floor(re%t/i):0,ce=F<x?re%i*10+N:0}else Q=new Date(V),X=u("%Y-%m-%d")(Q),q=F<T?Q.getUTCHours():0,te=F<T?Q.getUTCMinutes():0,ne=F<P?Q.getUTCSeconds():0,ce=F<x?Q.getUTCMilliseconds()*10+N:0;return L(X,q,te,ne,ce)},G.ms2DateTimeLocal=function(z){if(!(z>=o+d&&z<=p-d))return v;var F=Math.floor(C(z+.05,1)*10),B=new Date(Math.round(z-F/10)),N=g("%Y-%m-%d")(B),V=B.getHours(),X=B.getMinutes(),q=B.getSeconds(),te=B.getUTCMilliseconds()*10+F;return L(N,V,X,q,te)};function L(z,F,B,N,V){if((F||B||N||V)&&(z+=" "+b(F,2)+":"+b(B,2),(N||V)&&(z+=":"+b(N,2),V))){for(var X=4;V%10===0;)X-=1,V/=10;z+="."+b(V,X)}return z}G.cleanDate=function(z,F,B){if(z===v)return F;if(G.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(A(B))return a.error("JS Dates and milliseconds are incompatible with world calendars",z),F;if(z=G.ms2DateTimeLocal(+z),!z&&F!==void 0)return F}else if(!G.isDateTime(z,B))return a.error("unrecognized date",z),F;return z};var M=/%\d?f/g,s=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function w(z,F,B,N){z=z.replace(M,function(X){var q=Math.min(+X.charAt(1)||6,6),te=(F/1e3%1+2).toFixed(q).substr(2).replace(/0+$/,"")||"0";return te});var V=new Date(Math.floor(F+.05));if(z=z.replace(s,function(){return E[B("%q")(V)]}),A(N))try{z=f.getComponentMethod("calendars","worldCalFmt")(z,F,N)}catch{return"Invalid"}return B(z)(V)}var O=[59,59.9,59.99,59.999,59.9999];function _(z,F){var B=C(z+.05,d),N=b(Math.floor(B/r),2)+":"+b(C(Math.floor(B/t),60),2);if(F!=="M"){R(F)||(F=0);var V=Math.min(C(z/i,60),O[F]),X=(100+V).toFixed(F).substr(1);F>0&&(X=X.replace(/0+$/,"").replace(/[\.]$/,"")),N+=":"+X}return N}G.formatDate=function(z,F,B,N,V,X){if(V=A(V)&&V,!F)if(B==="y")F=X.year;else if(B==="m")F=X.month;else if(B==="d")F=X.dayMonth+`
`+X.year;else return _(z,B)+`
`+w(X.dayMonthYear,z,N,V);return w(F,z,N,V)};var U=3*d;G.incrementMonth=function(z,F,B){B=A(B)&&B;var N=C(z,d);if(z=Math.round(z-N),B)try{var V=Math.round(z/d)+n,X=f.getComponentMethod("calendars","getCal")(B),q=X.fromJD(V);return F%12?X.add(q,F,"m"):X.add(q,F/12,"y"),(q.toJD()-n)*d+N}catch{a.error("invalid ms "+z+" in calendar "+B)}var te=new Date(z+U);return te.setUTCMonth(te.getUTCMonth()+F)+N-U},G.findExactDates=function(z,F){for(var B=0,N=0,V=0,X=0,q,te,ne=A(F)&&f.getComponentMethod("calendars","getCal")(F),ce=0;ce<z.length;ce++){if(te=z[ce],!R(te)){X++;continue}if(!(te%d))if(ne)try{q=ne.fromJD(te/d+n),q.day()===1?q.month()===1?B++:N++:V++}catch{}else q=new Date(te),q.getUTCDate()===1?q.getUTCMonth()===0?B++:N++:V++}N+=B,V+=N;var Q=z.length-X;return{exactYears:B/Q,exactMonths:N/Q,exactDays:V/Q}}},52200:function(H,G,e){var g=e(33428),R=e(24248),a=e(52248),C=e(36524);function S(c){var A;if(typeof c=="string"){if(A=document.getElementById(c),A===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return A}else if(c==null)throw new Error("DOM element provided is null or undefined");return c}function v(c){var A=g.select(c);return A.node()instanceof HTMLElement&&A.size()&&A.classed("js-plotly-plot")}function d(c){var A=c&&c.parentNode;A&&A.removeChild(c)}function r(c,A){t("global",c,A)}function t(c,A,h){var o="plotly.js-style-"+c,p=document.getElementById(o);p||(p=document.createElement("style"),p.setAttribute("id",o),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var b=p.sheet;b.insertRule?b.insertRule(A+"{"+h+"}",0):b.addRule?b.addRule(A,h,0):R.warn("addStyleRule failed")}function i(c){var A="plotly.js-style-"+c,h=document.getElementById(A);h&&d(h)}function n(c){var A=u(c),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return A.forEach(function(o){var p=f(o);if(p){var b=a.convertCssMatrix(p);h=C.multiply(h,h,b)}}),h}function f(c){var A=window.getComputedStyle(c,null),h=A.getPropertyValue("-webkit-transform")||A.getPropertyValue("-moz-transform")||A.getPropertyValue("-ms-transform")||A.getPropertyValue("-o-transform")||A.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function u(c){for(var A=[];l(c);)A.push(c),c=c.parentNode;return A}function l(c){return c&&(c instanceof Element||c instanceof HTMLElement)}function m(c,A){return c&&A&&c.top===A.top&&c.left===A.left&&c.right===A.right&&c.bottom===A.bottom}H.exports={getGraphDiv:S,isPlotDiv:v,removeElement:d,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:i,getFullTransformMatrix:n,getElementTransformMatrix:f,getElementAndAncestors:u,equalDomRects:m}},95924:function(H,G,e){var g=e(61252).EventEmitter,R={init:function(a){if(a._ev instanceof g)return a;var C=new g,S=new g;return a._ev=C,a._internalEv=S,a.on=C.on.bind(C),a.once=C.once.bind(C),a.removeListener=C.removeListener.bind(C),a.removeAllListeners=C.removeAllListeners.bind(C),a._internalOn=S.on.bind(S),a._internalOnce=S.once.bind(S),a._removeInternalListener=S.removeListener.bind(S),a._removeAllInternalListeners=S.removeAllListeners.bind(S),a.emit=function(v,d){typeof jQuery<"u"&&jQuery(a).trigger(v,d),C.emit(v,d),S.emit(v,d)},a},triggerHandler:function(a,C,S){var v,d;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(C,S));var r=a._ev;if(!r)return v;var t=r._events[C];if(!t)return v;function i(f){if(f.listener){if(r.removeListener(C,f.listener),!f.fired)return f.fired=!0,f.listener.apply(r,[S])}else return f.apply(r,[S])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)i(t[n]);return d=i(t[n]),v!==void 0?v:d},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};H.exports=R},92880:function(H,G,e){var g=e(63620),R=Array.isArray;function a(S,v){var d,r;for(d=0;d<S.length;d++){if(r=S[d],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[d]=r)}return!0}G.extendFlat=function(){return C(arguments,!1,!1,!1)},G.extendDeep=function(){return C(arguments,!0,!1,!1)},G.extendDeepAll=function(){return C(arguments,!0,!0,!1)},G.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(S,v,d,r){var t=S[0],i=S.length,n,f,u,l,m,c,A;if(i===2&&R(t)&&R(S[1])&&t.length===0){if(A=a(S[1],t),A)return t;t.splice(0,t.length)}for(var h=1;h<i;h++){n=S[h];for(f in n)u=t[f],l=n[f],r&&R(l)?t[f]=l:v&&l&&(g(l)||(m=R(l)))?(m?(m=!1,c=u&&R(u)?u:[]):c=u&&g(u)?u:{},t[f]=C([c,l],v,d,r)):(typeof l<"u"||d)&&(t[f]=l)}return t}},68944:function(H){H.exports=function(e){for(var g={},R=[],a=0,C=0;C<e.length;C++){var S=e[C];g[S]!==1&&(g[S]=1,R[a++]=S)}return R}},43880:function(H){H.exports=function(a){for(var C=g(a)?e:G,S=[],v=0;v<a.length;v++){var d=a[v];C(d)&&S.push(d)}return S};function G(R){return R.visible===!0}function e(R){var a=R[0].trace;return a.visible===!0&&a._length!==0}function g(R){return Array.isArray(R)&&Array.isArray(R[0])&&R[0][0]&&R[0][0].trace}},27144:function(H,G,e){var g=e(33428),R=e(36116),a=e(40440),C=e(77844),S=e(42428),v=e(35536),d=e(24248),r=e(63620),t=e(22296),i=e(92065),n=Object.keys(R),f={"ISO-3":v,"USA-states":v,"country names":u};function u(b){for(var T=0;T<n.length;T++){var P=n[T],x=new RegExp(R[P]);if(x.test(b.trim().toLowerCase()))return P}return d.log("Unrecognized country name: "+b+"."),!1}function l(b,T,P){if(!T||typeof T!="string")return!1;var x=f[b](T),L,M,s;if(x){if(b==="USA-states")for(L=[],s=0;s<P.length;s++)M=P[s],M.properties&&M.properties.gu&&M.properties.gu==="USA"&&L.push(M);else L=P;for(s=0;s<L.length;s++)if(M=L[s],M.id===x)return M;d.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(b){var T=b.geometry,P=T.coordinates,x=b.id,L=[],M,s,E,w;function O(_){for(var U=0;U<_.length-1;U++)if(_[U][0]>0&&_[U+1][0]<0)return U;return null}switch(x==="RUS"||x==="FJI"?M=function(_){var U;if(O(_)===null)U=_;else for(U=new Array(_.length),w=0;w<_.length;w++)U[w]=[_[w][0]<0?_[w][0]+360:_[w][0],_[w][1]];L.push(i.tester(U))}:x==="ATA"?M=function(_){var U=O(_);if(U===null)return L.push(i.tester(_));var z=new Array(_.length+1),F=0;for(w=0;w<_.length;w++)w>U?z[F++]=[_[w][0]+360,_[w][1]]:w===U?(z[F++]=_[w],z[F++]=[_[w][0],-90]):z[F++]=_[w];var B=i.tester(z);B.pts.pop(),L.push(B)}:M=function(_){L.push(i.tester(_))},T.type){case"MultiPolygon":for(s=0;s<P.length;s++)for(E=0;E<P[s].length;E++)M(P[s][E]);break;case"Polygon":for(s=0;s<P.length;s++)M(P[s]);break}return L}function c(b){var T=b.geojson,P=window.PlotlyGeoAssets||{},x=typeof T=="string"?P[T]:T;return r(x)?x:(d.error("Oops ... something went wrong when fetching "+T),!1)}function A(b){var T=b[0].trace,P=c(T);if(!P)return!1;var x={},L=[],M;for(M=0;M<T._length;M++){var s=b[M];(s.loc||s.loc===0)&&(x[s.loc]=s)}function E(_){var U=t(_,T.featureidkey||"id").get(),z=x[U];if(z){var F=_.geometry;if(F.type==="Polygon"||F.type==="MultiPolygon"){var B={type:"Feature",id:U,geometry:F,properties:{}};B.properties.ct=h(B),z.fIn=_,z.fOut=B,L.push(B)}else d.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[U]}switch(P.type){case"FeatureCollection":var w=P.features;for(M=0;M<w.length;M++)E(w[M]);break;case"Feature":E(P);break;default:return d.warn(["Invalid GeoJSON type",(P.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var O in x)d.log(["Location *"+O+"*","does not have a matching feature with id-key","*"+T.featureidkey+"*."].join(" "));return L}function h(b){var T=b.geometry,P;if(T.type==="MultiPolygon")for(var x=T.coordinates,L=0,M=0;M<x.length;M++){var s={type:"Polygon",coordinates:x[M]},E=a.default(s);E>L&&(L=E,P=s)}else P=T;return C.default(P).geometry.coordinates}function o(b){var T=window.PlotlyGeoAssets||{},P=[];function x(w){return new Promise(function(O,_){g.json(w,function(U,z){if(U){delete T[w];var F=U.status===404?'GeoJSON at URL "'+w+'" does not exist.':"Unexpected error while fetching from "+w;return _(new Error(F))}return T[w]=z,O(z)})})}function L(w){return new Promise(function(O,_){var U=0,z=setInterval(function(){if(T[w]&&T[w]!=="pending")return clearInterval(z),O(T[w]);if(U>100)return clearInterval(z),_("Unexpected error while fetching from "+w);U++},50)})}for(var M=0;M<b.length;M++){var s=b[M][0].trace,E=s.geojson;typeof E=="string"&&(T[E]?T[E]==="pending"&&P.push(L(E)):(T[E]="pending",P.push(x(E))))}return P}function p(b){return S.default(b)}H.exports={locationToFeature:l,feature2polygons:m,getTraceGeojson:c,extractTraceFeature:A,fetchTraceGeoData:o,computeBbox:p}},44808:function(H,G,e){var g=e(39032).BADNUM;G.calcTraceToLineCoords=function(R){for(var a=R[0].trace,C=a.connectgaps,S=[],v=[],d=0;d<R.length;d++){var r=R[d],t=r.lonlat;t[0]!==g?v.push(t):!C&&v.length>0&&(S.push(v),v=[])}return v.length>0&&S.push(v),S},G.makeLine=function(R){return R.length===1?{type:"LineString",coordinates:R[0]}:{type:"MultiLineString",coordinates:R}},G.makePolygon=function(R){if(R.length===1)return{type:"Polygon",coordinates:R};for(var a=new Array(R.length),C=0;C<R.length;C++)a[C]=[R[C]];return{type:"MultiPolygon",coordinates:a}},G.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(H,G,e){var g=e(20435).mod;G.segmentsIntersect=R;function R(d,r,t,i,n,f,u,l){var m=t-d,c=n-d,A=u-n,h=i-r,o=f-r,p=l-f,b=m*p-A*h;if(b===0)return null;var T=(c*p-A*o)/b,P=(c*h-m*o)/b;return P<0||P>1||T<0||T>1?null:{x:d+m*T,y:r+h*T}}G.segmentDistance=function(r,t,i,n,f,u,l,m){if(R(r,t,i,n,f,u,l,m))return 0;var c=i-r,A=n-t,h=l-f,o=m-u,p=c*c+A*A,b=h*h+o*o,T=Math.min(a(c,A,p,f-r,u-t),a(c,A,p,l-r,m-t),a(h,o,b,r-f,t-u),a(h,o,b,i-f,n-u));return Math.sqrt(T)};function a(d,r,t,i,n){var f=i*d+n*r;if(f<0)return i*i+n*n;if(f>t){var u=i-d,l=n-r;return u*u+l*l}else{var m=i*r-n*d;return m*m/t}}var C,S,v;G.getTextLocation=function(r,t,i,n){if((r!==S||n!==v)&&(C={},S=r,v=n),C[i])return C[i];var f=r.getPointAtLength(g(i-n/2,t)),u=r.getPointAtLength(g(i+n/2,t)),l=Math.atan((u.y-f.y)/(u.x-f.x)),m=r.getPointAtLength(g(i,t)),c=(m.x*4+f.x+u.x)/6,A=(m.y*4+f.y+u.y)/6,h={x:c,y:A,theta:l};return C[i]=h,h},G.clearLocationCache=function(){S=null},G.getVisibleSegment=function(r,t,i){var n=t.left,f=t.right,u=t.top,l=t.bottom,m=0,c=r.getTotalLength(),A=c,h,o;function p(T){var P=r.getPointAtLength(T);T===0?h=P:T===c&&(o=P);var x=P.x<n?n-P.x:P.x>f?P.x-f:0,L=P.y<u?u-P.y:P.y>l?P.y-l:0;return Math.sqrt(x*x+L*L)}for(var b=p(m);b;){if(m+=b+i,m>A)return;b=p(m)}for(b=p(A);b;){if(A-=b+i,m>A)return;b=p(A)}return{min:m,max:A,len:A-m,total:c,isClosed:m===0&&A===c&&Math.abs(h.x-o.x)<.1&&Math.abs(h.y-o.y)<.1}},G.findPointOnPath=function(r,t,i,n){n=n||{};for(var f=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,l=n.iterationLimit||30,m=r.getPointAtLength(0)[i]>r.getPointAtLength(f)[i]?-1:1,c=0,A=0,h=f,o,p,b;c<l;){if(o=(A+h)/2,p=r.getPointAtLength(o),b=p[i]-t,Math.abs(b)<u)return p;m*b>0?h=o:A=o,c++}return p}},33040:function(H,G,e){var g=e(38248),R=e(49760),a=e(72160),C=e(8932),S=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,d=a(S),r=1;function t(l,m){var c=l;return c[3]*=m,c}function i(l){if(g(l))return d;var m=a(l);return m.length?m:d}function n(l){return g(l)?l:r}function f(l,m,c){var A=l.color;A&&A._inputArray&&(A=A._inputArray);var h=v(A),o=v(m),p=C.extractOpts(l),b=[],T,P,x,L,M;if(p.colorscale!==void 0?T=C.makeColorScaleFuncFromTrace(l):T=i,h?P=function(E,w){return E[w]===void 0?d:a(T(E[w]))}:P=i,o?x=function(E,w){return E[w]===void 0?r:n(E[w])}:x=n,h||o)for(var s=0;s<c;s++)L=P(A,s),M=x(m,s),b[s]=t(L,M);else b=t(a(A),m);return b}function u(l){var m=C.extractOpts(l),c=m.colorscale;return m.reversescale&&(c=C.flipScale(m.colorscale)),c.map(function(A){var h=A[0],o=R(A[1]),p=o.toRgb();return{index:h,rgb:[p.r,p.g,p.b,p.a]}})}H.exports={formatColor:f,parseColorScale:u}},71688:function(H,G,e){var g=e(35536);function R(a){return[a]}H.exports={keyFun:function(a){return a.key},repeat:R,descend:g,wrap:R,unwrap:function(a){return a[0]}}},35536:function(H){H.exports=function(e){return e}},1396:function(H){H.exports=function(e,g){if(!g)return e;var R=1/Math.abs(g),a=R>1?(R*e+R*g)/R:e+g,C=String(a).length;if(C>16){var S=String(g).length,v=String(e).length;if(C>=v+S){var d=parseFloat(a).toPrecision(12);d.indexOf("e+")===-1&&(a=+d)}}return a}},3400:function(H,G,e){var g=e(33428),R=e(94336).E9,a=e(57624).E9,C=e(38248),S=e(39032),v=S.FP_SAFE,d=-v,r=S.BADNUM,t=H.exports={};t.adjustFormat=function(ue){return!ue||/^\d[.]\df/.test(ue)||/[.]\d%/.test(ue)?ue:ue==="0.f"?"~f":/^\d%/.test(ue)?"~%":/^\ds/.test(ue)?"~s":!/^[~,.0$]/.test(ue)&&/[&fps]/.test(ue)?"~"+ue:ue};var i={};t.warnBadFormat=function(oe){var ue=String(oe);i[ue]||(i[ue]=1,t.warn('encountered bad format: "'+ue+'"'))},t.noFormat=function(oe){return String(oe)},t.numberFormat=function(oe){var ue;try{ue=a(t.adjustFormat(oe))}catch{return t.warnBadFormat(oe),t.noFormat}return ue},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var f=e(20435);t.mod=f.mod,t.modHalf=f.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var m=e(14952);t.findBin=m.findBin,t.sorterAsc=m.sorterAsc,t.sorterDes=m.sorterDes,t.distinctVals=m.distinctVals,t.roundUp=m.roundUp,t.sort=m.sort,t.findIndexOfMin=m.findIndexOfMin,t.sortObjectKeys=e(95376);var c=e(63084);t.aggNums=c.aggNums,t.len=c.len,t.mean=c.mean,t.median=c.median,t.midRange=c.midRange,t.variance=c.variance,t.stdev=c.stdev,t.interp=c.interp;var A=e(52248);t.init2dArray=A.init2dArray,t.transposeRagged=A.transposeRagged,t.dot=A.dot,t.translationMatrix=A.translationMatrix,t.rotationMatrix=A.rotationMatrix,t.rotationXYMatrix=A.rotationXYMatrix,t.apply3DTransform=A.apply3DTransform,t.apply2DTransform=A.apply2DTransform,t.apply2DTransform2=A.apply2DTransform2,t.convertCssMatrix=A.convertCssMatrix,t.inverseTransformMatrix=A.inverseTransformMatrix;var h=e(11864);t.deg2rad=h.deg2rad,t.rad2deg=h.rad2deg,t.angleDelta=h.angleDelta,t.angleDist=h.angleDist,t.isFullCircle=h.isFullCircle,t.isAngleInsideSector=h.isAngleInsideSector,t.isPtInsideSector=h.isPtInsideSector,t.pathArc=h.pathArc,t.pathSector=h.pathSector,t.pathAnnulus=h.pathAnnulus;var o=e(98308);t.isLeftAnchor=o.isLeftAnchor,t.isCenterAnchor=o.isCenterAnchor,t.isRightAnchor=o.isRightAnchor,t.isTopAnchor=o.isTopAnchor,t.isMiddleAnchor=o.isMiddleAnchor,t.isBottomAnchor=o.isBottomAnchor;var p=e(92348);t.segmentsIntersect=p.segmentsIntersect,t.segmentDistance=p.segmentDistance,t.getTextLocation=p.getTextLocation,t.clearLocationCache=p.clearLocationCache,t.getVisibleSegment=p.getVisibleSegment,t.findPointOnPath=p.findPointOnPath;var b=e(92880);t.extendFlat=b.extendFlat,t.extendDeep=b.extendDeep,t.extendDeepAll=b.extendDeepAll,t.extendDeepNoArrays=b.extendDeepNoArrays;var T=e(24248);t.log=T.log,t.warn=T.warn,t.error=T.error;var P=e(53756);t.counterRegex=P.counter;var x=e(91200);t.throttle=x.throttle,t.throttleDone=x.done,t.clearThrottle=x.clear;var L=e(52200);t.getGraphDiv=L.getGraphDiv,t.isPlotDiv=L.isPlotDiv,t.removeElement=L.removeElement,t.addStyleRule=L.addStyleRule,t.addRelatedStyleRule=L.addRelatedStyleRule,t.deleteRelatedStyleRule=L.deleteRelatedStyleRule,t.getFullTransformMatrix=L.getFullTransformMatrix,t.getElementTransformMatrix=L.getElementTransformMatrix,t.getElementAndAncestors=L.getElementAndAncestors,t.equalDomRects=L.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(ue){return C(ue)?(ue=Number(ue),ue>v||ue<d?r:ue):r},t.isIndex=function(oe,ue){return ue!==void 0&&oe>=ue?!1:C(oe)&&oe>=0&&oe%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(oe,ue){for(var K=new Array(ue),$=0;$<ue;$++)K[$]=oe;return K},t.swapAttrs=function(oe,ue,K,$){K||(K="x"),$||($="y");for(var le=0;le<ue.length;le++){var ae=ue[le],he=t.nestedProperty(oe,ae.replace("?",K)),xe=t.nestedProperty(oe,ae.replace("?",$)),Me=he.get();he.set(xe.get()),xe.set(Me)}},t.raiseToTop=function(ue){ue.parentNode.appendChild(ue)},t.cancelTransition=function(oe){return oe.transition().duration(0)},t.constrain=function(oe,ue,K){return ue>K?Math.max(K,Math.min(ue,oe)):Math.max(ue,Math.min(K,oe))},t.bBoxIntersect=function(oe,ue,K){return K=K||0,oe.left<=ue.right+K&&ue.left<=oe.right+K&&oe.top<=ue.bottom+K&&ue.top<=oe.bottom+K},t.simpleMap=function(oe,ue,K,$,le){for(var ae=oe.length,he=new Array(ae),xe=0;xe<ae;xe++)he[xe]=ue(oe[xe],K,$,le);return he},t.randstr=function oe(ue,K,$,le){if($||($=16),K===void 0&&(K=24),K<=0)return"0";var ae=Math.log(Math.pow(2,K))/Math.log($),he="",xe,Me,Ae;for(xe=2;ae===1/0;xe*=2)ae=Math.log(Math.pow(2,K/xe))/Math.log($)*xe;var ke=ae-Math.floor(ae);for(xe=0;xe<Math.floor(ae);xe++)Ae=Math.floor(Math.random()*$).toString($),he=Ae+he;ke&&(Me=Math.pow($,ke),Ae=Math.floor(Math.random()*Me).toString($),he=Ae+he);var we=parseInt(he,$);return ue&&ue[he]||we!==1/0&&we>=Math.pow(2,K)?le>10?(t.warn("randstr failed uniqueness"),he):oe(ue,K,$,(le||0)+1):he},t.OptionControl=function(oe,ue){oe||(oe={}),ue||(ue="opt");var K={};return K.optionList=[],K._newoption=function($){$[ue]=oe,K[$.name]=$,K.optionList.push($)},K["_"+ue]=oe,K},t.smooth=function(oe,ue){if(ue=Math.round(ue)||0,ue<2)return oe;var K=oe.length,$=2*K,le=2*ue-1,ae=new Array(le),he=new Array(K),xe,Me,Ae,ke;for(xe=0;xe<le;xe++)ae[xe]=(1-Math.cos(Math.PI*(xe+1)/ue))/(2*ue);for(xe=0;xe<K;xe++){for(ke=0,Me=0;Me<le;Me++)Ae=xe+Me+1-ue,Ae<-K?Ae-=$*Math.round(Ae/$):Ae>=$&&(Ae-=$*Math.floor(Ae/$)),Ae<0?Ae=-1-Ae:Ae>=K&&(Ae=$-1-Ae),ke+=oe[Ae]*ae[Me];he[xe]=ke}return he},t.syncOrAsync=function(oe,ue,K){var $,le;function ae(){return t.syncOrAsync(oe,ue,K)}for(;oe.length;)if(le=oe.splice(0,1)[0],$=le(ue),$&&$.then)return $.then(ae);return K&&K(ue)},t.stripTrailingSlash=function(oe){return oe.substr(-1)==="/"?oe.substr(0,oe.length-1):oe},t.noneOrAll=function(oe,ue,K){if(oe){var $=!1,le=!0,ae,he;for(ae=0;ae<K.length;ae++)he=oe[K[ae]],he!=null?$=!0:le=!1;if($&&!le)for(ae=0;ae<K.length;ae++)oe[K[ae]]=ue[K[ae]]}},t.mergeArray=function(oe,ue,K,$){var le=typeof $=="function";if(t.isArrayOrTypedArray(oe))for(var ae=Math.min(oe.length,ue.length),he=0;he<ae;he++){var xe=oe[he];ue[he][K]=le?$(xe):xe}},t.mergeArrayCastPositive=function(oe,ue,K){return t.mergeArray(oe,ue,K,function($){var le=+$;return isFinite(le)&&le>0?le:0})},t.fillArray=function(oe,ue,K,$){if($=$||t.identity,t.isArrayOrTypedArray(oe))for(var le=0;le<ue.length;le++)ue[le][K]=$(oe[le])},t.castOption=function(oe,ue,K,$){$=$||t.identity;var le=t.nestedProperty(oe,K).get();return t.isArrayOrTypedArray(le)?Array.isArray(ue)&&t.isArrayOrTypedArray(le[ue[0]])?$(le[ue[0]][ue[1]]):$(le[ue]):le},t.extractOption=function(oe,ue,K,$){if(K in oe)return oe[K];var le=t.nestedProperty(ue,$).get();if(!Array.isArray(le))return le};function M(oe){var ue={};for(var K in oe)for(var $=oe[K],le=0;le<$.length;le++)ue[$[le]]=+K;return ue}t.tagSelected=function(oe,ue,K){var $=ue.selectedpoints,le=ue._indexToPoints,ae;le&&(ae=M(le));function he(we){return we!==void 0&&we<oe.length}for(var xe=0;xe<$.length;xe++){var Me=$[xe];if(t.isIndex(Me)||t.isArrayOrTypedArray(Me)&&t.isIndex(Me[0])&&t.isIndex(Me[1])){var Ae=ae?ae[Me]:Me,ke=K?K[Ae]:Ae;he(ke)&&(oe[ke].selected=1)}}},t.selIndices2selPoints=function(oe){var ue=oe.selectedpoints,K=oe._indexToPoints;if(K){for(var $=M(K),le=[],ae=0;ae<ue.length;ae++){var he=ue[ae];if(t.isIndex(he)){var xe=$[he];t.isIndex(xe)&&le.push(xe)}}return le}else return ue},t.getTargetArray=function(oe,ue){var K=ue.target;if(typeof K=="string"&&K){var $=t.nestedProperty(oe,K).get();return t.isArrayOrTypedArray($)?$:!1}else if(t.isArrayOrTypedArray(K))return K;return!1};function s(oe,ue,K){var $={};typeof ue!="object"&&(ue={});var le=K==="pieLike"?-1:3,ae=Object.keys(oe),he,xe,Me;for(he=0;he<ae.length;he++)xe=ae[he],Me=oe[xe],!(xe.charAt(0)==="_"||typeof Me=="function")&&(xe==="module"?$[xe]=Me:Array.isArray(Me)?xe==="colorscale"||le===-1?$[xe]=Me.slice():$[xe]=Me.slice(0,le):t.isTypedArray(Me)?le===-1?$[xe]=Me.subarray():$[xe]=Me.subarray(0,le):Me&&typeof Me=="object"?$[xe]=s(oe[xe],ue[xe],K):$[xe]=Me);for(ae=Object.keys(ue),he=0;he<ae.length;he++)xe=ae[he],Me=ue[xe],(typeof Me!="object"||!(xe in $)||typeof $[xe]!="object")&&($[xe]=Me);return $}t.minExtend=s,t.titleCase=function(oe){return oe.charAt(0).toUpperCase()+oe.substr(1)},t.containsAny=function(oe,ue){for(var K=0;K<ue.length;K++)if(oe.indexOf(ue[K])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var w=/iPad|iPhone|iPod/;t.isIOS=function(){return w.test(window.navigator.userAgent)};var O=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var oe=O.exec(window.navigator.userAgent);if(oe&&oe.length===2){var ue=parseInt(oe[1]);if(!isNaN(ue))return ue}return null},t.isD3Selection=function(oe){return oe instanceof g.selection},t.ensureSingle=function(oe,ue,K,$){var le=oe.select(ue+(K?"."+K:""));if(le.size())return le;var ae=oe.append(ue);return K&&ae.classed(K,!0),$&&ae.call($),ae},t.ensureSingleById=function(oe,ue,K,$){var le=oe.select(ue+"#"+K);if(le.size())return le;var ae=oe.append(ue).attr("id",K);return $&&ae.call($),ae},t.objectFromPath=function(oe,ue){for(var K=oe.split("."),$,le=$={},ae=0;ae<K.length;ae++){var he=K[ae],xe=null,Me=K[ae].match(/(.*)\[([0-9]+)\]/);Me?(he=Me[1],xe=Me[2],$=$[he]=[],ae===K.length-1?$[xe]=ue:$[xe]={},$=$[xe]):(ae===K.length-1?$[he]=ue:$[he]={},$=$[he])}return le};var _=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function z(oe){return oe.slice(0,2)==="__"}t.expandObjectPaths=function(oe){var ue,K,$,le,ae,he,xe;if(typeof oe=="object"&&!Array.isArray(oe)){for(K in oe)if(oe.hasOwnProperty(K))if(ue=K.match(_)){if(le=oe[K],$=ue[1],z($))continue;delete oe[K],oe[$]=t.extendDeepNoArrays(oe[$]||{},t.objectFromPath(K,t.expandObjectPaths(le))[$])}else if(ue=K.match(U)){if(le=oe[K],$=ue[1],z($))continue;if(ae=parseInt(ue[2]),delete oe[K],oe[$]=oe[$]||[],ue[3]===".")xe=ue[4],he=oe[$][ae]=oe[$][ae]||{},t.extendDeepNoArrays(he,t.objectFromPath(xe,t.expandObjectPaths(le)));else{if(z($))continue;oe[$][ae]=t.expandObjectPaths(le)}}else{if(z(K))continue;oe[K]=t.expandObjectPaths(oe[K])}}return oe},t.numSeparate=function(oe,ue,K){if(K||(K=!1),typeof ue!="string"||ue.length===0)throw new Error("Separator string required for formatting!");typeof oe=="number"&&(oe=String(oe));var $=/(\d+)(\d{3})/,le=ue.charAt(0),ae=ue.charAt(1),he=oe.split("."),xe=he[0],Me=he.length>1?le+he[1]:"";if(ae&&(he.length>1||xe.length>4||K))for(;$.test(xe);)xe=xe.replace($,"$1"+ae+"$2");return xe+Me},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;t.templateString=function(oe,ue){var K={};return oe.replace(t.TEMPLATE_STRING_REGEX,function($,le){var ae;return F.test(le)?ae=ue[le]:(K[le]=K[le]||t.nestedProperty(ue,le).get,ae=K[le]()),t.isValidTextValue(ae)?ae:""})};var B={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ne.apply(B,arguments)};var N={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ne.apply(N,arguments)};var V=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function X(oe){var ue=oe.match(V);return ue?{key:ue[1],op:ue[2],number:Number(ue[3])}:{key:oe,op:null,number:null}}var q={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ne.apply(q,arguments)};var te=/^[:|\|]/;function ne(oe,ue,K){var $=this,le=arguments;ue||(ue={});var ae={};return oe.replace(t.TEMPLATE_STRING_REGEX,function(he,xe,Me){var Ae=xe==="xother"||xe==="yother",ke=xe==="_xother"||xe==="_yother",we=xe==="_xother_"||xe==="_yother_",Ee=xe==="xother_"||xe==="yother_",be=Ae||ke||Ee||we,Le=xe;(ke||we)&&(Le=Le.substring(1)),(Ee||we)&&(Le=Le.substring(0,Le.length-1));var Ue=null,Ve=null;if($.parseMultDiv){var Fe=X(Le);Le=Fe.key,Ue=Fe.op,Ve=Fe.number}var He;if(be){if(He=ue[Le],He===void 0)return""}else{var st,vt;for(vt=3;vt<le.length;vt++)if(st=le[vt],!!st){if(st.hasOwnProperty(Le)){He=st[Le];break}if(F.test(Le)||(He=t.nestedProperty(st,Le).get(),He=ae[Le]||t.nestedProperty(st,Le).get(),He&&(ae[Le]=He)),He!==void 0)break}}if(He!==void 0&&(Ue==="*"&&(He*=Ve),Ue==="/"&&(He/=Ve)),He===void 0&&$)return $.count<$.max&&(t.warn("Variable '"+Le+"' in "+$.name+" could not be found!"),He=he),$.count===$.max&&t.warn("Too many "+$.name+" warnings - additional warnings will be suppressed"),$.count++,he;if(Me){var lt;if(Me[0]===":"&&(lt=K?K.numberFormat:t.numberFormat,He!==""&&(He=lt(Me.replace(te,""))(He))),Me[0]==="|"){lt=K?K.timeFormat:R;var et=t.dateTime2ms(He);He=t.formatDate(et,Me.replace(te,""),!1,lt)}}else{var ct=Le+"Label";ue.hasOwnProperty(ct)&&(He=ue[ct])}return be&&(He="("+He+")",(ke||we)&&(He=" "+He),(Ee||we)&&(He=He+" ")),He})}var ce=48,Q=57;t.subplotSort=function(oe,ue){for(var K=Math.min(oe.length,ue.length)+1,$=0,le=0,ae=0;ae<K;ae++){var he=oe.charCodeAt(ae)||0,xe=ue.charCodeAt(ae)||0,Me=he>=ce&&he<=Q,Ae=xe>=ce&&xe<=Q;if(Me&&($=10*$+he-ce),Ae&&(le=10*le+xe-ce),!Me||!Ae){if($!==le)return $-le;if(he!==xe)return he-xe}}return le-$};var Z=2e9;t.seedPseudoRandom=function(){Z=2e9},t.pseudoRandom=function(){var oe=Z;return Z=(69069*Z+1)%4294967296,Math.abs(Z-oe)<429496729?t.pseudoRandom():Z/4294967296},t.fillText=function(oe,ue,K){var $=Array.isArray(K)?function(he){K.push(he)}:function(he){K.text=he},le=t.extractOption(oe,ue,"htx","hovertext");if(t.isValidTextValue(le))return $(le);var ae=t.extractOption(oe,ue,"tx","text");if(t.isValidTextValue(ae))return $(ae)},t.isValidTextValue=function(oe){return oe||oe===0},t.formatPercent=function(oe,ue){ue=ue||0;for(var K=(Math.round(100*oe*Math.pow(10,ue))*Math.pow(.1,ue)).toFixed(ue)+"%",$=0;$<ue;$++)K.indexOf(".")!==-1&&(K=K.replace("0%","%"),K=K.replace(".%","%"));return K},t.isHidden=function(oe){var ue=window.getComputedStyle(oe).display;return!ue||ue==="none"},t.strTranslate=function(oe,ue){return oe||ue?"translate("+oe+","+ue+")":""},t.strRotate=function(oe){return oe?"rotate("+oe+")":""},t.strScale=function(oe){return oe!==1?"scale("+oe+")":""},t.getTextTransform=function(oe){var ue=oe.noCenter,K=oe.textX,$=oe.textY,le=oe.targetX,ae=oe.targetY,he=oe.anchorX||0,xe=oe.anchorY||0,Me=oe.rotate,Ae=oe.scale;return Ae?Ae>1&&(Ae=1):Ae=0,t.strTranslate(le-Ae*(K+he),ae-Ae*($+xe))+t.strScale(Ae)+(Me?"rotate("+Me+(ue?"":" "+K+" "+$)+")":"")},t.setTransormAndDisplay=function(oe,ue){oe.attr("transform",t.getTextTransform(ue)),oe.style("display",ue.scale?null:"none")},t.ensureUniformFontSize=function(oe,ue){var K=t.extendFlat({},ue);return K.size=Math.max(ue.size,oe._fullLayout.uniformtext.minsize||0),K},t.join2=function(oe,ue,K){var $=oe.length;return $>1?oe.slice(0,-1).join(ue)+K+oe[$-1]:oe.join(ue)},t.bigFont=function(oe){return Math.round(1.2*oe)};var re=t.getFirefoxVersion(),Y=re!==null&&re<86;t.getPositionFromD3Event=function(){return Y?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},63620:function(H){H.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(H,G,e){var g=e(22296),R=/^\w*$/,a=0,C=1,S=2,v=3,d=4;H.exports=function(t,i,n,f){n=n||"name",f=f||"value";var u,l,m,c={};i&&i.length?(m=g(t,i),l=m.get()):l=t,i=i||"";var A={};if(l)for(u=0;u<l.length;u++)A[l[u][n]]=u;var h=R.test(f),o={set:function(p,b){var T=b===null?d:a;if(!l){if(!m||T===d)return;l=[],m.set(l)}var P=A[p];if(P===void 0){if(T===d)return;T=T|v,P=l.length,A[p]=P}else b!==(h?l[P][f]:g(l[P],f).get())&&(T=T|S);var x=l[P]=l[P]||{};return x[n]=p,h?x[f]=b:g(x,f).set(b),b!==null&&(T=T&~d),c[P]=c[P]|T,o},get:function(p){if(l){var b=A[p];if(b!==void 0)return h?l[b][f]:g(l[b],f).get()}},rename:function(p,b){var T=A[p];return T===void 0||(c[T]=c[T]|C,A[b]=T,delete A[p],l[T][n]=b),o},remove:function(p){var b=A[p];if(b===void 0)return o;var T=l[b];if(Object.keys(T).length>2)return c[b]=c[b]|S,o.set(p,null);if(h){for(u=b;u<l.length;u++)c[u]=c[u]|v;for(u=b;u<l.length;u++)A[l[u][n]]--;l.splice(b,1),delete A[p]}else g(T,f).set(null),c[b]=c[b]|S|d;return o},constructUpdate:function(){for(var p,b,T={},P=Object.keys(c),x=0;x<P.length;x++)b=P[x],p=i+"["+b+"]",l[b]?(c[b]&C&&(T[p+"."+n]=l[b][n]),c[b]&S&&(h?T[p+"."+f]=c[b]&d?null:l[b][f]:T[p+"."+f]=c[b]&d?null:g(l[b],f).get())):T[p]=null;return T}};return o}},98356:function(H,G,e){var g=e(24040);H.exports=function(a,C){for(var S=a._context.locale,v=0;v<2;v++){for(var d=a._context.locales,r=0;r<2;r++){var t=(d[S]||{}).dictionary;if(t){var i=t[C];if(i)return i}d=g.localeRegistry}var n=S.split("-")[0];if(n===S)break;S=n}return C}},24248:function(H,G,e){var g=e(20556).dfltConfig,R=e(41792),a=H.exports={};a.log=function(){var C;if(g.logging>1){var S=["LOG:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.trace.apply(console,S)}if(g.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"long")}},a.warn=function(){var C;if(g.logging>0){var S=["WARN:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.trace.apply(console,S)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"stick")}},a.error=function(){var C;if(g.logging>0){var S=["ERROR:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.error.apply(console,S)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"stick")}}},30988:function(H,G,e){var g=e(33428);H.exports=function(a,C,S){var v=a.selectAll("g."+S.replace(/\s/g,".")).data(C,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",S),v.order();var d=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][d]=g.select(this)}),v}},52248:function(H,G,e){var g=e(36524);G.init2dArray=function(R,a){for(var C=new Array(R),S=0;S<R;S++)C[S]=new Array(a);return C},G.transposeRagged=function(R){var a=0,C=R.length,S,v;for(S=0;S<C;S++)a=Math.max(a,R[S].length);var d=new Array(a);for(S=0;S<a;S++)for(d[S]=new Array(C),v=0;v<C;v++)d[S][v]=R[v][S];return d},G.dot=function(R,a){if(!(R.length&&a.length)||R.length!==a.length)return null;var C=R.length,S,v;if(R[0].length)for(S=new Array(C),v=0;v<C;v++)S[v]=G.dot(R[v],a);else if(a[0].length){var d=G.transposeRagged(a);for(S=new Array(d.length),v=0;v<d.length;v++)S[v]=G.dot(R,d[v])}else for(S=0,v=0;v<C;v++)S+=R[v]*a[v];return S},G.translationMatrix=function(R,a){return[[1,0,R],[0,1,a],[0,0,1]]},G.rotationMatrix=function(R){var a=R*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},G.rotationXYMatrix=function(R,a,C){return G.dot(G.dot(G.translationMatrix(a,C),G.rotationMatrix(R)),G.translationMatrix(-a,-C))},G.apply3DTransform=function(R){return function(){var a=arguments,C=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return G.dot(R,[C[0],C[1],C[2],1]).slice(0,3)}},G.apply2DTransform=function(R){return function(){var a=arguments;a.length===3&&(a=a[0]);var C=arguments.length===1?a[0]:[a[0],a[1]];return G.dot(R,[C[0],C[1],1]).slice(0,2)}},G.apply2DTransform2=function(R){var a=G.apply2DTransform(R);return function(C){return a(C.slice(0,2)).concat(a(C.slice(2,4)))}},G.convertCssMatrix=function(R){if(R){var a=R.length;if(a===16)return R;if(a===6)return[R[0],R[1],0,0,R[2],R[3],0,0,0,0,1,0,R[4],R[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},G.inverseTransformMatrix=function(R){var a=[];return g.invert(a,R),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},20435:function(H){function G(g,R){var a=g%R;return a<0?a+R:a}function e(g,R){return Math.abs(g)>R/2?g-Math.round(g/R)*R:g}H.exports={mod:G,modHalf:e}},22296:function(H,G,e){var g=e(38248),R=e(38116).isArrayOrTypedArray;H.exports=function(f,u){if(g(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),m,c,A,h;for(h=0;h<l.length;h++)if(String(l[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<l.length;){if(m=String(l[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])l[h]=m[1];else if(h===0)l.splice(0,1);else throw"bad property string";for(c=m[2].substr(1,m[2].length-2).split("]["),A=0;A<c.length;A++)h++,l.splice(h,0,Number(c[A]))}h++}return typeof f!="object"?i(f,u,l):{set:v(f,l,u),get:a(f,l),astr:u,parts:l,obj:f}};function a(n,f){return function(){var u=n,l,m,c,A,h;for(A=0;A<f.length-1;A++){if(l=f[A],l===-1){for(m=!0,c=[],h=0;h<u.length;h++)c[h]=a(u[h],f.slice(A+1))(),c[h]!==c[0]&&(m=!1);return m?c[0]:c}if(typeof l=="number"&&!R(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(c=u[f[A]],c!==null))return c}}var C=/(^|\.)args\[/;function S(n,f){return n===void 0||n===null&&!f.match(C)}function v(n,f,u){return function(l){var m=n,c="",A=S(l,u),h,o;for(o=0;o<f.length-1;o++){if(h=f[o],typeof h=="number"&&!R(m))throw"array index but container is not an array";if(h===-1){if(A=!r(m,f.slice(o+1),l,u),A)break;return}if(!t(m,h,f[o+1],A))break;if(m=m[h],typeof m!="object"||m===null)throw"container is not an object";c=d(c,h)}if(A){if(o===f.length-1&&(delete m[f[o]],Array.isArray(m)&&+f[o]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[f[o]]=l}}function d(n,f){var u=f;return g(f)?u="["+f+"]":n&&(u="."+f),n+u}function r(n,f,u,l){var m=R(u),c=!0,A=u,h=l.replace("-1",0),o=m?!1:S(u,h),p=f[0],b;for(b=0;b<n.length;b++)h=l.replace("-1",b),m&&(A=u[b%u.length],o=S(A,h)),o&&(c=!1),t(n,b,p,o)&&v(n[b],f,l.replace("-1",b))(A);return c}function t(n,f,u,l){if(n[f]===void 0){if(l)return!1;typeof u=="number"?n[f]=[]:n[f]={}}return!0}function i(n,f,u){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:u,obj:n}}},16628:function(H){H.exports=function(){}},41792:function(H,G,e){var g=e(33428),R=e(38248),a=[];H.exports=function(C,S){if(a.indexOf(C)!==-1)return;a.push(C);var v=1e3;R(S)?v=S:S==="long"&&(v=3e3);var d=g.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0);var r=d.selectAll(".notifier-note").data(a);function t(i){i.duration(700).style("opacity",0).each("end",function(n){var f=a.indexOf(n);f!==-1&&a.splice(f,1),g.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var f=n.append("p"),u=i.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&f.append("br"),f.append("span").text(u[l]);S==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(H,G,e){var g=e(93972),R="data-savedcursor",a="!!";H.exports=function(S,v){var d=S.attr(R);if(v){if(!d){for(var r=(S.attr("class")||"").split(" "),t=0;t<r.length;t++){var i=r[t];i.indexOf("cursor-")===0&&S.attr(R,i.substr(7)).classed(i,!1)}S.attr(R)||S.attr(R,a)}g(S,v)}else d&&(S.attr(R,null),d===a?g(S):g(S,d))}},92065:function(H,G,e){var g=e(52248).dot,R=e(39032).BADNUM,a=H.exports={};a.tester=function(S){var v=S.slice(),d=v[0][0],r=d,t=v[0][1],i=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)d=Math.min(d,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),i=Math.max(i,v[n][1]);var f=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,u=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,u=function(h){return h[1]===v[0][1]}));function l(h,o){var p=h[0],b=h[1];return!(p===R||p<d||p>r||b===R||b<t||b>i||o&&u(h))}function m(h,o){var p=h[0],b=h[1];if(p===R||p<d||p>r||b===R||b<t||b>i)return!1;var T=v.length,P=v[0][0],x=v[0][1],L=0,M,s,E,w,O;for(M=1;M<T;M++)if(s=P,E=x,P=v[M][0],x=v[M][1],w=Math.min(s,P),!(p<w||p>Math.max(s,P)||b>Math.max(E,x)))if(b<Math.min(E,x))p!==w&&L++;else{if(P===s?O=b:O=E+(p-s)*(x-E)/(P-s),b===O)return!(M===1&&o);b<=O&&p!==w&&L++}return L%2===1}var c=!0,A=v[0];for(n=1;n<v.length;n++)if(A[0]!==v[n][0]||A[1]!==v[n][1]){c=!1;break}return{xmin:d,xmax:r,ymin:t,ymax:i,pts:v,contains:f?l:m,isRect:f,degenerate:c}},a.isSegmentBent=function(S,v,d,r){var t=S[v],i=[S[d][0]-t[0],S[d][1]-t[1]],n=g(i,i),f=Math.sqrt(n),u=[-i[1]/f,i[0]/f],l,m,c;for(l=v+1;l<d;l++)if(m=[S[l][0]-t[0],S[l][1]-t[1]],c=g(m,i),c<0||c>n||Math.abs(g(m,u))>r)return!0;return!1},a.filter=function(S,v){var d=[S[0]],r=0,t=0;function i(f){S.push(f);var u=d.length,l=r;d.splice(t+1);for(var m=l+1;m<S.length;m++)(m===S.length-1||a.isSegmentBent(S,l,m+1,v))&&(d.push(S[m]),d.length<u-2&&(r=m,t=d.length-1),l=m)}if(S.length>1){var n=S.pop();i(n)}return{addPt:i,raw:S,filtered:d}}},5048:function(H,G,e){var g=e(16576),R=e(28624);H.exports=function(C,S,v){var d=C._fullLayout,r=!0;return d._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!d._has("parcoords"))){try{t.regl=R({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:S||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(i){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),r||g({container:d._glcontainer.node()}),r}},34296:function(H,G,e){var g=e(38248),R=e(25928);H.exports=function(S){var v;if(S&&S.hasOwnProperty("userAgent")?v=S.userAgent:v=a(),typeof v!="string")return!0;var d=R({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!d)for(var r=v.split(" "),t=1;t<r.length;t++){var i=r[t];if(i.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var f=r[n];if(f.substr(0,8)==="Version/"){var u=f.substr(8).split(".")[0];if(g(u)&&(u=+u),u>=13)return!0}}}return d};function a(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},52416:function(H){H.exports=function(e,g){if(g instanceof RegExp){for(var R=g.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===R)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},94552:function(H,G,e){var g=e(3400),R=e(20556).dfltConfig;function a(S,v){for(var d=[],r,t=0;t<v.length;t++)r=v[t],r===S?d[t]=r:typeof r=="object"?d[t]=Array.isArray(r)?g.extendDeep([],r):g.extendDeepAll({},r):d[t]=r;return d}var C={};C.add=function(S,v,d,r,t){var i,n;if(S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},n=S.undoQueue.index,S.autoplay){S.undoQueue.inSequence||(S.autoplay=!1);return}!S.undoQueue.sequence||S.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},S.undoQueue.queue.splice(n,S.undoQueue.queue.length-n,i),S.undoQueue.index+=1):i=S.undoQueue.queue[n-1],S.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(v),i.undo.args.unshift(d),i.redo.calls.push(r),i.redo.args.push(t)),S.undoQueue.queue.length>R.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--)},C.startSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},C.stopSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},C.undo=function(v){var d,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,d=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<d.undo.calls.length;r++)C.plotDo(v,d.undo.calls[r],d.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var d,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(d=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<d.redo.calls.length;r++)C.plotDo(v,d.redo.calls[r],d.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(S,v,d){S.autoplay=!0,d=a(S,d),v.apply(null,d)},H.exports=C},53756:function(H,G){G.counter=function(e,g,R,a){var C=(g||"")+(R?"":"$"),S=a===!1?"":"^";return e==="xy"?new RegExp(S+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(S+e+"([2-9]|[1-9][0-9]+)?"+C)}},23193:function(H){var G=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;H.exports=function(g,R){for(;R;){var a=g.match(G);if(a)g=a[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,R]);if(R.charAt(0)==="^")R=R.slice(1);else break}return g&&R.charAt(0)!=="["?g+"."+R:g+R}},51528:function(H,G,e){var g=e(38116).isArrayOrTypedArray,R=e(63620);H.exports=function a(C,S){for(var v in S){var d=S[v],r=C[v];if(r!==d)if(v.charAt(0)==="_"||typeof d=="function"){if(v in C)continue;C[v]=d}else if(g(d)&&g(r)&&R(d[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(d.length,r.length),i=0;i<t;i++)r[i]!==d[i]&&R(d[i])&&R(r[i])&&a(r[i],d[i])}else R(d)&&R(r)&&(a(r,d),Object.keys(r).length||delete C[v])}}},14952:function(H,G,e){var g=e(38248),R=e(24248),a=e(35536),C=e(39032).BADNUM,S=1e-9;G.findBin=function(i,n,f){if(g(n.start))return f?Math.ceil((i-n.start)/n.size-S)-1:Math.floor((i-n.start)/n.size+S);var u=0,l=n.length,m=0,c=l>1?(n[l-1]-n[0])/(l-1):1,A,h;for(c>=0?h=f?v:d:h=f?t:r,i+=c*S*(f?-1:1)*(c>=0?1:-1);u<l&&m++<100;)A=Math.floor((u+l)/2),h(n[A],i)?u=A+1:l=A;return m>90&&R.log("Long binary search..."),u-1};function v(i,n){return i<n}function d(i,n){return i<=n}function r(i,n){return i>n}function t(i,n){return i>=n}G.sorterAsc=function(i,n){return i-n},G.sorterDes=function(i,n){return n-i},G.distinctVals=function(i){var n=i.slice();n.sort(G.sorterAsc);var f;for(f=n.length-1;f>-1&&n[f]===C;f--);for(var u=n[f]-n[0]||1,l=u/(f||1)/1e4,m=[],c,A=0;A<=f;A++){var h=n[A],o=h-c;c===void 0?(m.push(h),c=h):o>l&&(u=Math.min(u,o),m.push(h),c=h)}return{vals:m,minDiff:u}},G.roundUp=function(i,n,f){for(var u=0,l=n.length-1,m,c=0,A=f?0:1,h=f?1:0,o=f?Math.ceil:Math.floor;u<l&&c++<100;)m=o((u+l)/2),n[m]<=i?u=m+A:l=m-h;return n[u]},G.sort=function(i,n){for(var f=0,u=0,l=1;l<i.length;l++){var m=n(i[l],i[l-1]);if(m<0?f=1:m>0&&(u=1),f&&u)return i.sort(n)}return u?i:i.reverse()},G.findIndexOfMin=function(i,n){n=n||a;for(var f=1/0,u,l=0;l<i.length;l++){var m=n(i[l]);m<f&&(f=m,u=l)}return u}},93972:function(H){H.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(R){R.indexOf("cursor-")===0&&e.classed(R,!1)}),g&&e.classed("cursor-"+g,!0)}},16576:function(H,G,e){var g=e(76308),R=function(){};H.exports=function(C){for(var S in C)typeof C[S]=="function"&&(C[S]=R);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var d=document.createElement("p");return d.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",d.style.position="relative",d.style.top="50%",d.style.left="50%",d.style.height="30%",d.style.width="50%",d.style.margin="-15% 0 0 -25%",v.appendChild(d),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(H){H.exports=function(e){return Object.keys(e).sort()}},63084:function(H,G,e){var g=e(38248),R=e(38116).isArrayOrTypedArray;G.aggNums=function(a,C,S,v){var d,r;if((!v||v>S.length)&&(v=S.length),g(C)||(C=!1),R(S[0])){for(r=new Array(v),d=0;d<v;d++)r[d]=G.aggNums(a,C,S[d]);S=r}for(d=0;d<v;d++)g(C)?g(S[d])&&(C=a(+C,+S[d])):C=S[d];return C},G.len=function(a){return G.aggNums(function(C){return C+1},0,a)},G.mean=function(a,C){return C||(C=G.len(a)),G.aggNums(function(S,v){return S+v},0,a)/C},G.midRange=function(a){if(!(a===void 0||a.length===0))return(G.aggNums(Math.max,null,a)+G.aggNums(Math.min,null,a))/2},G.variance=function(a,C,S){return C||(C=G.len(a)),g(S)||(S=G.mean(a,C)),G.aggNums(function(v,d){return v+Math.pow(d-S,2)},0,a)/C},G.stdev=function(a,C,S){return Math.sqrt(G.variance(a,C,S))},G.median=function(a){var C=a.slice().sort();return G.interp(C,.5)},G.interp=function(a,C){if(!g(C))throw"n should be a finite number";if(C=C*a.length-.5,C<0)return a[0];if(C>a.length-1)return a[a.length-1];var S=C%1;return S*a[Math.ceil(C)]+(1-S)*a[Math.floor(C)]}},43080:function(H,G,e){var g=e(72160);function R(a){return a?g(a):[0,0,0,1]}H.exports=R},9188:function(H,G,e){var g=e(2264),R=e(43616),a=e(3400),C=null;function S(){if(C!==null)return C;C=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var d=Array.from(g.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")C=d.some(function(f){return r.apply(null,f)});else{var t=R.tester.append("image").attr("style",g.STYLE),i=window.getComputedStyle(t.node()),n=i.imageRendering;C=d.some(function(f){var u=f[1];return n===u||n===u.toLowerCase()}),t.remove()}}return C}H.exports=S},72736:function(H,G,e){var g=e(33428),R=e(3400),a=R.strTranslate,C=e(9616),S=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;G.convertToTspans=function(B,N,V){var X=B.text(),q=!B.attr("data-notex")&&N&&N._context.typesetMath&&typeof MathJax<"u"&&X.match(v),te=g.select(B.node().parentNode);if(te.empty())return;var ne=B.attr("class")?B.attr("class").split(" ")[0]:"text";ne+="-math",te.selectAll("svg."+ne).remove(),te.selectAll("g."+ne+"-group").remove(),B.style("display",null).attr({"data-unformatted":X,"data-math":"N"});function ce(){te.empty()||(ne=B.attr("class")+"-math",te.select("svg."+ne).remove()),B.text("").style("white-space","pre");var Q=_(B.node(),X);Q&&B.style("pointer-events","all"),G.positionText(B),V&&V.call(B)}return q?(N&&N._promises||[]).push(new Promise(function(Q){B.style("display","none");var Z=parseInt(B.node().style.fontSize,10),re={fontSize:Z};n(q[2],re,function(Y,oe,ue){te.selectAll("svg."+ne).remove(),te.selectAll("g."+ne+"-group").remove();var K=Y&&Y.select("svg");if(!K||!K.node()){ce(),Q();return}var $=te.append("g").classed(ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":X,"data-math":"Y"});$.node().appendChild(K.node()),oe&&oe.node()&&K.node().insertBefore(oe.node().cloneNode(!0),K.node().firstChild);var le=ue.width,ae=ue.height;K.attr({class:ne,height:ae,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=B.node().style.fill||"black",xe=K.select("g");xe.attr({fill:he,stroke:he});var Me=xe.node().getBoundingClientRect(),Ae=Me.width,ke=Me.height;(Ae>le||ke>ae)&&(K.style("overflow","hidden"),Me=K.node().getBoundingClientRect(),Ae=Me.width,ke=Me.height);var we=+B.attr("x"),Ee=+B.attr("y"),be=Z||B.node().getBoundingClientRect().height,Le=-be/4;if(ne[0]==="y")$.attr({transform:"rotate("+[-90,we,Ee]+")"+a(-Ae/2,Le-ke/2)});else if(ne[0]==="l")Ee=Le-ke/2;else if(ne[0]==="a"&&ne.indexOf("atitle")!==0)we=0,Ee=Le;else{var Ue=B.attr("text-anchor");we=we-Ae*(Ue==="middle"?.5:Ue==="end"?1:0),Ee=Ee+Le-ke/2}K.attr({x:we,y:Ee}),V&&V.call(B,$),Q($)})})):ce(),B};var d=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(B){return B.replace(d,"\\lt ").replace(r,"\\gt ")}var i=[["$","$"],["\\(","\\)"]];function n(B,N,V){var X=parseInt((MathJax.version||"").split(".")[0]);if(X!==2&&X!==3){R.warn("No MathJax version:",MathJax.version);return}var q,te,ne,ce,Q=function(){return te=R.extendDeepAll({},MathJax.Hub.config),ne=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},Z=function(){te=R.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i},re=function(){if(q=MathJax.Hub.config.menuSettings.renderer,q!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){q=MathJax.config.startup.output,q!=="svg"&&(MathJax.config.startup.output="svg")},oe=function(){var he="math-output-"+R.randstr({},64);ce=g.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":N.fontSize+"px"}).text(t(B));var xe=ce.node();return X===2?MathJax.Hub.Typeset(xe):MathJax.typeset([xe])},ue=function(){var he=ce.select(X===2?".MathJax_SVG":".MathJax"),xe=!he.empty()&&ce.select("svg").node();if(!xe)R.log("There was an error in the tex syntax.",B),V();else{var Me=xe.getBoundingClientRect(),Ae;X===2?Ae=g.select("body").select("#MathJax_SVG_glyphs"):Ae=he.select("defs"),V(he,Ae,Me)}ce.remove()},K=function(){if(q!=="SVG")return MathJax.Hub.setRenderer(q)},$=function(){q!=="svg"&&(MathJax.config.startup.output=q)},le=function(){return ne!==void 0&&(MathJax.Hub.processSectionDelay=ne),MathJax.Hub.Config(te)},ae=function(){MathJax.config=te};X===2?MathJax.Hub.Queue(Q,re,oe,ue,K,le):X===3&&(Z(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){oe(),ue(),$(),ae()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},m="",c=["http:","https:","mailto:","",void 0,":"],A=G.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;G.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,P=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function L(B,N){if(!B)return null;var V=B.match(N),X=V&&(V[3]||V[4]);return X&&w(X)}var M=/(^|;)\s*color:/;G.plainText=function(B,N){N=N||{};for(var V=N.len!==void 0&&N.len!==-1?N.len:1/0,X=N.allowedTags!==void 0?N.allowedTags:["br"],q="...",te=q.length,ne=B.split(h),ce=[],Q="",Z=0,re=0;re<ne.length;re++){var Y=ne[re],oe=Y.match(o),ue=oe&&oe[2].toLowerCase();if(ue)X.indexOf(ue)!==-1&&(ce.push(Y),Q=ue);else{var K=Y.length;if(Z+K<V)ce.push(Y),Z+=K;else if(Z<V){var $=V-Z;Q&&(Q!=="br"||$<=te||K<=te)&&ce.pop(),V>te?ce.push(Y.substr(0,$-te)+q):ce.push(Y.substr(0,$));break}Q=""}}return ce.join("")};var s={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function w(B){return B.replace(E,function(N,V){var X;return V.charAt(0)==="#"?X=O(V.charAt(1)==="x"?parseInt(V.substr(2),16):parseInt(V.substr(1),10)):X=s[V],X||N})}G.convertEntities=w;function O(B){if(!(B>1114111)){var N=String.fromCodePoint;if(N)return N(B);var V=String.fromCharCode;return B<=65535?V(B):V((B>>10)+55232,B%1024+56320)}}function _(B,N){N=N.replace(A," ");var V=!1,X=[],q,te=-1;function ne(){te++;var ke=document.createElementNS(C.svg,"tspan");g.select(ke).attr({class:"line",dy:te*S+"em"}),B.appendChild(ke),q=ke;var we=X;if(X=[{node:ke}],we.length>1)for(var Ee=1;Ee<we.length;Ee++)ce(we[Ee])}function ce(ke){var we=ke.type,Ee={},be;if(we==="a"){be="a";var Le=ke.target,Ue=ke.href,Ve=ke.popup;Ue&&(Ee={"xlink:xlink:show":Le==="_blank"||Le.charAt(0)!=="_"?"new":"replace",target:Le,"xlink:xlink:href":Ue},Ve&&(Ee.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ve+'");return false;'))}else be="tspan";ke.style&&(Ee.style=ke.style);var Fe=document.createElementNS(C.svg,be);if(we==="sup"||we==="sub"){Q(q,m),q.appendChild(Fe);var He=document.createElementNS(C.svg,"tspan");Q(He,m),g.select(He).attr("dy",l[we]),Ee.dy=u[we],q.appendChild(Fe),q.appendChild(He)}else q.appendChild(Fe);g.select(Fe).attr(Ee),q=ke.node=Fe,X.push(ke)}function Q(ke,we){ke.appendChild(document.createTextNode(we))}function Z(ke){if(X.length===1){R.log("Ignoring unexpected end tag </"+ke+">.",N);return}var we=X.pop();ke!==we.type&&R.log("Start tag <"+we.type+"> doesnt match end tag <"+ke+">. Pretending it did match.",N),q=X[X.length-1].node}var re=p.test(N);re?ne():(q=B,X=[{node:B}]);for(var Y=N.split(h),oe=0;oe<Y.length;oe++){var ue=Y[oe],K=ue.match(o),$=K&&K[2].toLowerCase(),le=f[$];if($==="br")ne();else if(le===void 0)Q(q,w(ue));else if(K[1])Z($);else{var ae=K[4],he={type:$},xe=L(ae,b);if(xe?(xe=xe.replace(M,"$1 fill:"),le&&(xe+=";"+le)):le&&(xe=le),xe&&(he.style=xe),$==="a"){V=!0;var Me=L(ae,T);if(Me){var Ae=U(Me);Ae&&(he.href=Ae,he.target=L(ae,P)||"_blank",he.popup=L(ae,x))}}ce(he)}}return V}function U(B){var N=encodeURI(decodeURI(B)),V=document.createElement("a"),X=document.createElement("a");V.href=B,X.href=N;var q=V.protocol,te=X.protocol;return c.indexOf(q)!==-1&&c.indexOf(te)!==-1?N:""}G.sanitizeHTML=function(N){N=N.replace(A," ");for(var V=document.createElement("p"),X=V,q=[],te=N.split(h),ne=0;ne<te.length;ne++){var ce=te[ne],Q=ce.match(o),Z=Q&&Q[2].toLowerCase();if(Z in f)if(Q[1])q.length&&(X=q.pop());else{var re=Q[4],Y=L(re,b),oe=Y?{style:Y}:{};if(Z==="a"){var ue=L(re,T);if(ue){var K=U(ue);if(K){oe.href=K;var $=L(re,P);$&&(oe.target=$)}}}var le=document.createElement(Z);X.appendChild(le),g.select(le).attr(oe),X=le,q.push(le)}else X.appendChild(document.createTextNode(w(ce)))}var ae="innerHTML";return V[ae]},G.lineCount=function(N){return N.selectAll("tspan.line").size()||1},G.positionText=function(N,V,X){return N.each(function(){var q=g.select(this);function te(Q,Z){return Z===void 0?(Z=q.attr(Q),Z===null&&(q.attr(Q,0),Z=0)):q.attr(Q,Z),Z}var ne=te("x",V),ce=te("y",X);this.nodeName==="text"&&q.selectAll("tspan.line").attr({x:ne,y:ce})})};function z(B,N,V){var X=V.horizontalAlign,q=V.verticalAlign||"top",te=B.node().getBoundingClientRect(),ne=N.node().getBoundingClientRect(),ce,Q,Z;return q==="bottom"?Q=function(){return te.bottom-ce.height}:q==="middle"?Q=function(){return te.top+(te.height-ce.height)/2}:Q=function(){return te.top},X==="right"?Z=function(){return te.right-ce.width}:X==="center"?Z=function(){return te.left+(te.width-ce.width)/2}:Z=function(){return te.left},function(){ce=this.node().getBoundingClientRect();var re=Z()-ne.left,Y=Q()-ne.top,oe=V.gd||{};if(V.gd){oe._fullLayout._calcInverseTransform(oe);var ue=R.apply3DTransform(oe._fullLayout._invTransform)(re,Y);re=ue[0],Y=ue[1]}return this.style({top:Y+"px",left:re+"px","z-index":1e3}),this}}var F="1px ";G.makeTextShadow=function(B){var N=F,V=F,X=F;return N+V+X+B+", -"+N+"-"+V+X+B+", "+N+"-"+V+X+B+", -"+N+V+X+B},G.makeEditable=function(B,N){var V=N.gd,X=N.delegate,q=g.dispatch("edit","input","cancel"),te=X||B;if(B.style({"pointer-events":X?"none":"all"}),B.size()!==1)throw new Error("boo");function ne(){Q(),B.style({opacity:0});var Z=te.attr("class"),re;Z?re="."+Z.split(" ")[0]+"-math-group":re="[class*=-math-group]",re&&g.select(B.node().parentNode).select(re).style({opacity:0})}function ce(Z){var re=Z.node(),Y=document.createRange();Y.selectNodeContents(re);var oe=window.getSelection();oe.removeAllRanges(),oe.addRange(Y),re.focus()}function Q(){var Z=g.select(V),re=Z.select(".svg-container"),Y=re.append("div"),oe=B.node().style,ue=parseFloat(oe.fontSize||12),K=N.text;K===void 0&&(K=B.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":oe.fontFamily||"Arial","font-size":ue,color:N.fill||oe.fill||"black",opacity:1,"background-color":N.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ue/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(K).call(z(B,re,N)).on("blur",function(){V._editing=!1,B.text(this.textContent).style({opacity:1});var $=g.select(this).attr("class"),le;$?le="."+$.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&g.select(B.node().parentNode).select(le).style({opacity:0});var ae=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),q.edit.call(B,ae)}).on("focus",function(){var $=this;V._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===$)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){g.event.which===27?(V._editing=!1,B.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),q.cancel.call(B,this.textContent)):(q.input.call(B,this.textContent),g.select(this).call(z(B,re,N)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(ce)}return N.immediate?ne():te.on("click",ne),g.rebind(B,q,"on")}},91200:function(H,G){var e={};G.throttle=function(a,C,S){var v=e[a],d=Date.now();if(!v){for(var r in e)e[r].ts<d-6e4&&delete e[r];v=e[a]={ts:0,timer:null}}g(v);function t(){S(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(d>v.ts+C){t();return}v.timer=setTimeout(function(){t(),v.timer=null},C)},G.done=function(R){var a=e[R];return!a||!a.timer?Promise.resolve():new Promise(function(C){var S=a.onDone;a.onDone=function(){S&&S(),C(),a.onDone=null}})},G.clear=function(R){if(R)g(e[R]),delete e[R];else for(var a in e)G.clear(a)};function g(R){R&&R.timer!==null&&(clearTimeout(R.timer),R.timer=null)}},36896:function(H,G,e){var g=e(38248);H.exports=function(a,C){if(a>0)return Math.log(a)/Math.LN10;var S=Math.log(Math.min(C[0],C[1]))/Math.LN10;return g(S)||(S=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),S}},59972:function(H,G,e){var g=H.exports={},R=e(79552).locationmodeToLayer,a=e(55712).NO;g.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(C,S){return C+S+".json"},g.getTopojsonFeatures=function(C,S){var v=R[C.locationmode],d=S.objects[v];return a(S,d).features}},11680:function(H){H.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(H){H.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(H,G,e){var g=e(24040);H.exports=function(a){for(var C=g.layoutArrayContainers,S=g.layoutArrayRegexes,v=a.split("[")[0],d,r,t=0;t<S.length;t++)if(r=a.match(S[t]),r&&r.index===0){d=r[0];break}if(d||(d=C[C.indexOf(v)]),!d)return!1;var i=a.substr(d.length);return i?(r=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:d,index:Number(r[1]),property:r[3]||""}:!1):{array:d,index:"",property:""}}},67824:function(H,G,e){var g=e(92880).extendFlat,R=e(63620),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},S=a.flags.slice().concat(["fullReplot"]),v=C.flags.slice().concat("layoutReplot");H.exports={traces:a,layout:C,traceFlags:function(){return d(S)},layoutFlags:function(){return d(v)},update:function(i,n){var f=n.editType;if(f&&f!=="none")for(var u=f.split("+"),l=0;l<u.length;l++)i[u[l]]=!0},overrideAll:r};function d(i){for(var n={},f=0;f<i.length;f++)n[i[f]]=!1;return n}function r(i,n,f){var u=g({},i);for(var l in u){var m=u[l];R(m)&&(u[l]=t(m,n,f,l))}return f==="from-root"&&(u.editType=n),u}function t(i,n,f,u){if(i.valType){var l=g({},i);if(l.editType=n,Array.isArray(i.items)){l.items=new Array(i.items.length);for(var m=0;m<i.items.length;m++)l.items[m]=t(i.items[m],n)}return l}else return r(i,n,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(H,G,e){var g=e(38248),R=e(61784),a=e(24040),C=e(3400),S=e(7316),v=e(79811),d=e(76308),r=v.cleanId,t=v.getFromTrace,i=a.traceIs;G.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&C.log("Clearing previous rejected promises from queue."),p._promises=[]},G.cleanLayout=function(p){var b,T;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var P=(S.subplotsRegistry.cartesian||{}).attrRegex,x=(S.subplotsRegistry.polar||{}).attrRegex,L=(S.subplotsRegistry.ternary||{}).attrRegex,M=(S.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(p);for(b=0;b<s.length;b++){var E=s[b];if(P&&P.test(E)){var w=p[E];w.anchor&&w.anchor!=="free"&&(w.anchor=r(w.anchor)),w.overlaying&&(w.overlaying=r(w.overlaying)),w.type||(w.isdate?w.type="date":w.islog?w.type="log":w.isdate===!1&&w.islog===!1&&(w.type="linear")),(w.autorange==="withzero"||w.autorange==="tozero")&&(w.autorange=!0,w.rangemode="tozero"),w.insiderange&&delete w.range,delete w.islog,delete w.isdate,delete w.categories,c(w,"domain")&&delete w.domain,w.autotick!==void 0&&(w.tickmode===void 0&&(w.tickmode=w.autotick?"auto":"linear"),delete w.autotick),f(w)}else if(x&&x.test(E)){var O=p[E];f(O.radialaxis)}else if(L&&L.test(E)){var _=p[E];f(_.aaxis),f(_.baxis),f(_.caxis)}else if(M&&M.test(E)){var U=p[E],z=U.cameraposition;if(Array.isArray(z)&&z[0].length===4){var F=z[0],B=z[1],N=z[2],V=R([],F),X=[];for(T=0;T<3;++T)X[T]=B[T]+N*V[2+4*T];U.camera={eye:{x:X[0],y:X[1],z:X[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete U.cameraposition}f(U.xaxis),f(U.yaxis),f(U.zaxis)}}var q=Array.isArray(p.annotations)?p.annotations.length:0;for(b=0;b<q;b++){var te=p.annotations[b];C.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),n(te,"xref"),n(te,"yref"))}var ne=Array.isArray(p.shapes)?p.shapes.length:0;for(b=0;b<ne;b++){var ce=p.shapes[b];C.isPlainObject(ce)&&(n(ce,"xref"),n(ce,"yref"))}var Q=Array.isArray(p.images)?p.images.length:0;for(b=0;b<Q;b++){var Z=p.images[b];C.isPlainObject(Z)&&(n(Z,"xref"),n(Z,"yref"))}var re=p.legend;return re&&(re.x>3?(re.x=1.02,re.xanchor="left"):re.x<-2&&(re.x=-.02,re.xanchor="right"),re.y>3?(re.y=1.02,re.yanchor="bottom"):re.y<-2&&(re.y=-.02,re.yanchor="top")),f(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),d.clean(p),p.template&&p.template.layout&&G.cleanLayout(p.template.layout),p};function n(p,b){var T=p[b],P=b.charAt(0);T&&T!=="paper"&&(p[b]=r(T,P,!0))}function f(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),b("titlefont","font"),b("titleposition","position"),b("titleside","side"),b("titleoffset","offset"));function b(T,P){var x=p[T],L=p.title&&p.title[P];x&&!L&&(p.title||(p.title={}),p.title[P]=p[T],delete p[T])}}G.cleanData=function(p){for(var b=0;b<p.length;b++){var T=p[b],P;if(T.type==="histogramy"&&"xbins"in T&&!("ybins"in T)&&(T.ybins=T.xbins,delete T.xbins),T.error_y&&"opacity"in T.error_y){var x=d.defaults,L=T.error_y.color||(i(T,"bar")?d.defaultLine:x[b%x.length]);T.error_y.color=d.addOpacity(d.rgb(L),d.opacity(L)*T.error_y.opacity),delete T.error_y.opacity}if("bardir"in T&&(T.bardir==="h"&&(i(T,"bar")||T.type.substr(0,9)==="histogram")&&(T.orientation="h",G.swapXYData(T)),delete T.bardir),T.type==="histogramy"&&G.swapXYData(T),(T.type==="histogramx"||T.type==="histogramy")&&(T.type="histogram"),"scl"in T&&!("colorscale"in T)&&(T.colorscale=T.scl,delete T.scl),"reversescl"in T&&!("reversescale"in T)&&(T.reversescale=T.reversescl,delete T.reversescl),T.xaxis&&(T.xaxis=r(T.xaxis,"x")),T.yaxis&&(T.yaxis=r(T.yaxis,"y")),i(T,"gl3d")&&T.scene&&(T.scene=S.subplotsRegistry.gl3d.cleanId(T.scene)),!i(T,"pie-like")&&!i(T,"bar-like"))if(Array.isArray(T.textposition))for(P=0;P<T.textposition.length;P++)T.textposition[P]=m(T.textposition[P]);else T.textposition&&(T.textposition=m(T.textposition));var M=a.getModule(T);if(M&&M.colorbar){var s=M.colorbar.container,E=s?T[s]:T;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(T.type==="surface"&&C.isPlainObject(T.contours)){var w=["x","y","z"];for(P=0;P<w.length;P++){var O=T.contours[w[P]];C.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(T.type==="candlestick"||T.type==="ohlc"){var _=(T.increasing||{}).showlegend!==!1,U=(T.decreasing||{}).showlegend!==!1,z=u(T.increasing),F=u(T.decreasing);if(z!==!1&&F!==!1){var B=l(z,F,_,U);B&&(T.name=B)}else(z||F)&&!T.name&&(T.name=z||F)}if(Array.isArray(T.transforms)){var N=T.transforms;for(P=0;P<N.length;P++){var V=N[P];if(C.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var X=V.styles,q=Object.keys(X);V.styles=[];for(var te=0;te<q.length;te++)V.styles.push({target:q[te],value:X[q[te]]})}break}}}c(T,"line")&&delete T.line,"marker"in T&&(c(T.marker,"line")&&delete T.marker.line,c(T,"marker")&&delete T.marker),d.clean(T),T.autobinx&&(delete T.autobinx,delete T.xbins),T.autobiny&&(delete T.autobiny,delete T.ybins),f(T),T.colorbar&&f(T.colorbar),T.marker&&T.marker.colorbar&&f(T.marker.colorbar),T.line&&T.line.colorbar&&f(T.line.colorbar),T.aaxis&&f(T.aaxis),T.baxis&&f(T.baxis)}};function u(p){if(!C.isPlainObject(p))return!1;var b=p.name;return delete p.name,delete p.showlegend,(typeof b=="string"||typeof b=="number")&&String(b)}function l(p,b,T,P){if(T&&!P)return p;if(P&&!T||!p.trim())return b;if(!b.trim())return p;var x=Math.min(p.length,b.length),L;for(L=0;L<x&&p.charAt(L)===b.charAt(L);L++);var M=p.substr(0,L);return M.trim()}function m(p){var b="middle",T="center";return typeof p=="string"&&(p.indexOf("top")!==-1?b="top":p.indexOf("bottom")!==-1&&(b="bottom"),p.indexOf("left")!==-1?T="left":p.indexOf("right")!==-1&&(T="right")),b+" "+T}function c(p,b){return b in p&&typeof p[b]=="object"&&Object.keys(p[b]).length===0}G.swapXYData=function(p){var b;if(C.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var T=p.error_y,P="copy_ystyle"in T?T.copy_ystyle:!(T.color||T.thickness||T.width);C.swapAttrs(p,["error_?.copy_ystyle"]),P&&C.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var x=p.hoverinfo.split("+");for(b=0;b<x.length;b++)x[b]==="x"?x[b]="y":x[b]==="y"&&(x[b]="x");p.hoverinfo=x.join("+")}},G.coerceTraceIndices=function(p,b){if(g(b))return[b];if(!Array.isArray(b)||!b.length)return p.data.map(function(x,L){return L});if(Array.isArray(b)){for(var T=[],P=0;P<b.length;P++)C.isIndex(b[P],p.data.length)?T.push(b[P]):C.warn("trace index (",b[P],") is not a number or is out of bounds");return T}return b},G.manageArrayContainers=function(p,b,T){var P=p.obj,x=p.parts,L=x.length,M=x[L-1],s=g(M);if(s&&b===null){var E=x.slice(0,L-1).join("."),w=C.nestedProperty(P,E).get();w.splice(M,1)}else s&&p.get()===void 0&&p.get()===void 0&&(T[p.astr]=null),p.set(b)};var A=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(p){var b=p.search(A);if(b>0)return p.substr(0,b)}G.hasParent=function(p,b){for(var T=h(b);T;){if(T in p)return!0;T=h(T)}return!1};var o=["x","y","z"];G.clearAxisTypes=function(p,b,T){for(var P=0;P<b.length;P++)for(var x=p._fullData[P],L=0;L<3;L++){var M=t(p,x,o[L]);if(M&&M.type!=="log"){var s=M._name,E=M._id.substr(1);if(E.substr(0,5)==="scene"){if(T[E]!==void 0)continue;s=E+"."+s}var w=s+".type";T[s]===void 0&&T[w]===void 0&&C.nestedProperty(p.layout,w).set(null)}}}},22448:function(H,G,e){var g=e(36424);G._doPlot=g._doPlot,G.newPlot=g.newPlot,G.restyle=g.restyle,G.relayout=g.relayout,G.redraw=g.redraw,G.update=g.update,G._guiRestyle=g._guiRestyle,G._guiRelayout=g._guiRelayout,G._guiUpdate=g._guiUpdate,G._storeDirectGUIEdit=g._storeDirectGUIEdit,G.react=g.react,G.extendTraces=g.extendTraces,G.prependTraces=g.prependTraces,G.addTraces=g.addTraces,G.deleteTraces=g.deleteTraces,G.moveTraces=g.moveTraces,G.purge=g.purge,G.addFrames=g.addFrames,G.deleteFrames=g.deleteFrames,G.animate=g.animate,G.setPlotConfig=g.setPlotConfig;var R=e(52200).getGraphDiv,a=e(4016).eraseActiveShape;G.deleteActiveShape=function(S){return a(R(S))},G.toImage=e(67024),G.validate=e(21480),G.downloadImage=e(39792);var C=e(94828);G.makeTemplate=C.makeTemplate,G.validateTemplate=C.validateTemplate},17680:function(H,G,e){var g=e(63620),R=e(16628),a=e(24248),C=e(14952).sorterAsc,S=e(24040);G.containerArrayMatch=e(69820);var v=G.isAddVal=function(t){return t==="add"||g(t)},d=G.isRemoveVal=function(t){return t===null||t==="remove"};G.applyContainerArrayChanges=function(t,i,n,f,u){var l=i.astr,m=S.getComponentMethod(l,"supplyLayoutDefaults"),c=S.getComponentMethod(l,"draw"),A=S.getComponentMethod(l,"drawOne"),h=f.replot||f.recalc||m===R||c===R,o=t.layout,p=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",l);var b=n[""][""];if(d(b))i.set(null);else if(Array.isArray(b))i.set(b);else return a.warn("Unrecognized full array edit value",l,b),!0;return h?!1:(m(o,p),c(t),!0)}var T=Object.keys(n).map(Number).sort(C),P=i.get(),x=P||[],L=u(p,l).get(),M=[],s=-1,E=x.length,w,O,_,U,z,F,B,N;for(w=0;w<T.length;w++){if(_=T[w],U=n[_],z=Object.keys(U),F=U[""],B=v(F),_<0||_>x.length-(B?0:1)){a.warn("index out of range",l,_);continue}if(F!==void 0)z.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,_),d(F)?M.push(_):B?(F==="add"&&(F={}),x.splice(_,0,F),L&&L.splice(_,0,{})):a.warn("Unrecognized full object edit value",l,_,F),s===-1&&(s=_);else for(O=0;O<z.length;O++)N=l+"["+_+"].",u(x[_],z[O],N).set(U[z[O]])}for(w=M.length-1;w>=0;w--)x.splice(M[w],1),L&&L.splice(M[w],1);if(x.length?P||i.set(x):i.set(null),h)return!1;if(m(o,p),A!==R){var V;if(s===-1)V=T;else{for(E=Math.max(x.length,E),V=[],w=0;w<T.length&&(_=T[w],!(_>=s));w++)V.push(_);for(w=s;w<E;w++)V.push(w)}for(w=0;w<V.length;w++)A(t,V[w])}else c(t);return!0}},36424:function(H,G,e){var g=e(33428),R=e(38248),a=e(52264),C=e(3400),S=C.nestedProperty,v=e(95924),d=e(94552),r=e(24040),t=e(73060),i=e(7316),n=e(54460),f=e(96312),u=e(94724),l=e(43616),m=e(76308),c=e(42464).initInteractions,A=e(9616),h=e(22676).clearOutline,o=e(20556).dfltConfig,p=e(17680),b=e(93404),T=e(39172),P=e(67824),x=e(33816).AX_NAME_PATTERN,L=0,M=5;function s(de,Te,Be,Qe){var at;if(de=C.getGraphDiv(de),v.init(de),C.isPlainObject(Te)){var it=Te;Te=it.data,Be=it.layout,Qe=it.config,at=it.frames}var Wt=v.triggerHandler(de,"plotly_beforeplot",[Te,Be,Qe]);if(Wt===!1)return Promise.reject();!Te&&!Be&&!C.isPlotDiv(de)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",de);function Yt(){if(at)return G.addFrames(de,at)}U(de,Qe),Be||(Be={}),g.select(de).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(de._promises)||(de._promises=[]);var Tt=(de.data||[]).length===0&&Array.isArray(Te);Array.isArray(Te)&&(b.cleanData(Te),Tt?de.data=Te:de.data.push.apply(de.data,Te),de.empty=!1),(!de.layout||Tt)&&(de.layout=b.cleanLayout(Be)),i.supplyDefaults(de);var Lt=de._fullLayout,Xt=Lt._has("cartesian");Lt._replotting=!0,(Tt||Lt._shouldCreateBgLayer)&&(De(de),Lt._shouldCreateBgLayer&&delete Lt._shouldCreateBgLayer),l.initGradients(de),l.initPatterns(de),Tt&&n.saveShowSpikeInitial(de);var Tr=!de.calcdata||de.calcdata.length!==(de._fullData||[]).length;Tr&&i.doCalcdata(de);for(var gt=0;gt<de.calcdata.length;gt++)de.calcdata[gt][0].trace=de._fullData[gt];de._context.responsive?de._responsiveChartHandler||(de._responsiveChartHandler=function(){C.isHidden(de)||i.resize(de)},window.addEventListener("resize",de._responsiveChartHandler)):C.clearResponsive(de);var Kt=C.extendFlat({},Lt._size),Qt=0;function yr(){for(var Bt=Lt._basePlotModules,Nt=0;Nt<Bt.length;Nt++)Bt[Nt].drawFramework&&Bt[Nt].drawFramework(de);!Lt._glcanvas&&Lt._has("gl")&&(Lt._glcanvas=Lt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),Lt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=de._context.plotGlPixelRatio;if(Lt._glcanvas){Lt._glcanvas.attr("width",Lt.width*Jt).attr("height",Lt.height*Jt).style("width",Lt.width+"px").style("height",Lt.height+"px");var hr=Lt._glcanvas.data()[0].regl;if(hr&&(Math.floor(Lt.width*Jt)!==hr._gl.drawingBufferWidth||Math.floor(Lt.height*Jt)!==hr._gl.drawingBufferHeight)){var Zt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Qt)C.error(Zt);else return C.log(Zt+" Clearing graph and plotting again."),i.cleanPlot([],{},de._fullData,Lt),i.supplyDefaults(de),Lt=de._fullLayout,i.doCalcdata(de),Qt++,yr()}}return Lt.modebar.orientation==="h"?Lt._modebardiv.style("height",null).style("width","100%"):Lt._modebardiv.style("width",null).style("height",Lt.height+"px"),i.previousPromises(de)}function fr(){if(i.clearAutoMarginIds(de),T.drawMarginPushers(de),n.allowAutoMargin(de),de._fullLayout.title.text&&de._fullLayout.title.automargin&&i.allowAutoMargin(de,"title.automargin"),Lt._has("pie"))for(var Bt=de._fullData,Nt=0;Nt<Bt.length;Nt++){var Jt=Bt[Nt];Jt.type==="pie"&&Jt.automargin&&i.allowAutoMargin(de,"pie."+Jt.uid+".automargin")}return i.doAutoMargin(de),i.previousPromises(de)}function yt(){if(i.didMarginChange(Kt,Lt._size))return C.syncOrAsync([fr,T.layoutStyles],de)}function ot(){if(!Tr){bt();return}return C.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],de)}function bt(){de._transitioning||(T.doAutoRangeAndConstraints(de),Tt&&n.saveRangeInitial(de),r.getComponentMethod("rangeslider","calcAutorange")(de))}function Et(){return n.draw(de,Tt?"":"redraw")}var Dt=[i.previousPromises,Yt,yr,fr,yt];Xt&&Dt.push(ot),Dt.push(T.layoutStyles),Xt&&Dt.push(Et,function(Nt){var Jt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,Me(Nt,Jt).then(function(){n.saveRangeInitial(Nt,!0)})}),Dt.push(T.drawData,T.finalDraw,c,i.addLinks,i.rehover,i.redrag,i.reselect,i.doAutoMargin,i.previousPromises);var Ht=C.syncOrAsync(Dt,de);return(!Ht||!Ht.then)&&(Ht=Promise.resolve()),Ht.then(function(){return E(de),de})}function E(de){var Te=de._fullLayout;Te._redrawFromAutoMarginCount?Te._redrawFromAutoMarginCount--:de.emit("plotly_afterplot")}function w(de){return C.extendFlat(o,de)}function O(de,Te){try{de._fullLayout._paper.style("background",Te)}catch(Be){C.error(Be)}}function _(de,Te){var Be=m.combine(Te,"white");O(de,Be)}function U(de,Te){if(!de._context){de._context=C.extendDeep({},o);var Be=g.select("base");de._context._baseUrl=Be.size()&&Be.attr("href")?window.location.href.split("#")[0]:""}var Qe=de._context,at,it,Wt;if(Te){for(it=Object.keys(Te),at=0;at<it.length;at++)Wt=it[at],!(Wt==="editable"||Wt==="edits")&&Wt in Qe&&(Wt==="setBackground"&&Te[Wt]==="opaque"?Qe[Wt]=_:Qe[Wt]=Te[Wt]);Te.plot3dPixelRatio&&!Qe.plotGlPixelRatio&&(Qe.plotGlPixelRatio=Qe.plot3dPixelRatio);var Yt=Te.editable;if(Yt!==void 0)for(Qe.editable=Yt,it=Object.keys(Qe.edits),at=0;at<it.length;at++)Qe.edits[it[at]]=Yt;if(Te.edits)for(it=Object.keys(Te.edits),at=0;at<it.length;at++)Wt=it[at],Wt in Qe.edits&&(Qe.edits[Wt]=Te.edits[Wt]);Qe._exportedPlot=Te._exportedPlot}Qe.staticPlot&&(Qe.editable=!1,Qe.edits={},Qe.autosizable=!1,Qe.scrollZoom=!1,Qe.doubleClick=!1,Qe.showTips=!1,Qe.showLink=!1,Qe.displayModeBar=!1),Qe.displayModeBar==="hover"&&!a&&(Qe.displayModeBar=!0),(Qe.setBackground==="transparent"||typeof Qe.setBackground!="function")&&(Qe.setBackground=O),Qe._hasZeroHeight=Qe._hasZeroHeight||de.clientHeight===0,Qe._hasZeroWidth=Qe._hasZeroWidth||de.clientWidth===0;var Tt=Qe.scrollZoom,Lt=Qe._scrollZoom={};if(Tt===!0)Lt.cartesian=1,Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1;else if(typeof Tt=="string"){var Xt=Tt.split("+");for(at=0;at<Xt.length;at++)Lt[Xt[at]]=1}else Tt!==!1&&(Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1)}function z(de){if(de=C.getGraphDiv(de),!C.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de);return b.cleanData(de.data),b.cleanLayout(de.layout),de.calcdata=void 0,G._doPlot(de).then(function(){return de.emit("plotly_redraw"),de})}function F(de,Te,Be,Qe){return de=C.getGraphDiv(de),i.cleanPlot([],{},de._fullData||[],de._fullLayout||{}),i.purge(de),G._doPlot(de,Te,Be,Qe)}function B(de,Te){var Be=Te+1,Qe=[],at,it;for(at=0;at<de.length;at++)it=de[at],it<0?Qe.push(Be+it):Qe.push(it);return Qe}function N(de,Te,Be){var Qe,at;for(Qe=0;Qe<Te.length;Qe++){if(at=Te[Qe],at!==parseInt(at,10))throw new Error("all values in "+Be+" must be integers");if(at>=de.data.length||at<-de.data.length)throw new Error(Be+" must be valid indices for gd.data.");if(Te.indexOf(at,Qe+1)>-1||at>=0&&Te.indexOf(-de.data.length+at)>-1||at<0&&Te.indexOf(de.data.length+at)>-1)throw new Error("each index in "+Be+" must be unique.")}}function V(de,Te,Be){if(!Array.isArray(de.data))throw new Error("gd.data must be an array.");if(typeof Te>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Te)||(Te=[Te]),N(de,Te,"currentIndices"),typeof Be<"u"&&!Array.isArray(Be)&&(Be=[Be]),typeof Be<"u"&&N(de,Be,"newIndices"),typeof Be<"u"&&Te.length!==Be.length)throw new Error("current and new indices must be of equal length.")}function X(de,Te,Be){var Qe,at;if(!Array.isArray(de.data))throw new Error("gd.data must be an array.");if(typeof Te>"u")throw new Error("traces must be defined.");for(Array.isArray(Te)||(Te=[Te]),Qe=0;Qe<Te.length;Qe++)if(at=Te[Qe],typeof at!="object"||Array.isArray(at)||at===null)throw new Error("all values in traces array must be non-array objects");if(typeof Be<"u"&&!Array.isArray(Be)&&(Be=[Be]),typeof Be<"u"&&Be.length!==Te.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function q(de,Te,Be,Qe){var at=C.isPlainObject(Qe);if(!Array.isArray(de.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(Te))throw new Error("update must be a key:value object");if(typeof Be>"u")throw new Error("indices must be an integer or array of integers");N(de,Be,"indices");for(var it in Te){if(!Array.isArray(Te[it])||Te[it].length!==Be.length)throw new Error("attribute "+it+" must be an array of length equal to indices array length");if(at&&(!(it in Qe)||!Array.isArray(Qe[it])||Qe[it].length!==Te[it].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function te(de,Te,Be,Qe){var at=C.isPlainObject(Qe),it=[],Wt,Yt,Tt,Lt,Xt;Array.isArray(Be)||(Be=[Be]),Be=B(Be,de.data.length-1);for(var Tr in Te)for(var gt=0;gt<Be.length;gt++){if(Wt=de.data[Be[gt]],Tt=S(Wt,Tr),Yt=Tt.get(),Lt=Te[Tr][gt],!C.isArrayOrTypedArray(Lt))throw new Error("attribute: "+Tr+" index: "+gt+" must be an array");if(!C.isArrayOrTypedArray(Yt))throw new Error("cannot extend missing or non-array attribute: "+Tr);if(Yt.constructor!==Lt.constructor)throw new Error("cannot extend array with an array of a different type: "+Tr);Xt=at?Qe[Tr][gt]:Qe,R(Xt)||(Xt=-1),it.push({prop:Tt,target:Yt,insert:Lt,maxp:Math.floor(Xt)})}return it}function ne(de,Te,Be,Qe,at){q(de,Te,Be,Qe);for(var it=te(de,Te,Be,Qe),Wt={},Yt={},Tt=0;Tt<it.length;Tt++){var Lt=it[Tt].prop,Xt=it[Tt].maxp,Tr=at(it[Tt].target,it[Tt].insert,Xt);Lt.set(Tr[0]),Array.isArray(Wt[Lt.astr])||(Wt[Lt.astr]=[]),Wt[Lt.astr].push(Tr[1]),Array.isArray(Yt[Lt.astr])||(Yt[Lt.astr]=[]),Yt[Lt.astr].push(it[Tt].target.length)}return{update:Wt,maxPoints:Yt}}function ce(de,Te){var Be=new de.constructor(de.length+Te.length);return Be.set(de),Be.set(Te,de.length),Be}function Q(de,Te,Be,Qe){de=C.getGraphDiv(de);function at(Tt,Lt,Xt){var Tr,gt;if(C.isTypedArray(Tt))if(Xt<0){var Kt=new Tt.constructor(0),Qt=ce(Tt,Lt);Xt<0?(Tr=Qt,gt=Kt):(Tr=Kt,gt=Qt)}else if(Tr=new Tt.constructor(Xt),gt=new Tt.constructor(Tt.length+Lt.length-Xt),Xt===Lt.length)Tr.set(Lt),gt.set(Tt);else if(Xt<Lt.length){var yr=Lt.length-Xt;Tr.set(Lt.subarray(yr)),gt.set(Tt),gt.set(Lt.subarray(0,yr),Tt.length)}else{var fr=Xt-Lt.length,yt=Tt.length-fr;Tr.set(Tt.subarray(yt)),Tr.set(Lt,fr),gt.set(Tt.subarray(0,yt))}else Tr=Tt.concat(Lt),gt=Xt>=0&&Xt<Tr.length?Tr.splice(0,Tr.length-Xt):[];return[Tr,gt]}var it=ne(de,Te,Be,Qe,at),Wt=G.redraw(de),Yt=[de,it.update,Be,it.maxPoints];return d.add(de,G.prependTraces,Yt,Q,arguments),Wt}function Z(de,Te,Be,Qe){de=C.getGraphDiv(de);function at(Tt,Lt,Xt){var Tr,gt;if(C.isTypedArray(Tt))if(Xt<=0){var Kt=new Tt.constructor(0),Qt=ce(Lt,Tt);Xt<0?(Tr=Qt,gt=Kt):(Tr=Kt,gt=Qt)}else if(Tr=new Tt.constructor(Xt),gt=new Tt.constructor(Tt.length+Lt.length-Xt),Xt===Lt.length)Tr.set(Lt),gt.set(Tt);else if(Xt<Lt.length){var yr=Lt.length-Xt;Tr.set(Lt.subarray(0,yr)),gt.set(Lt.subarray(yr)),gt.set(Tt,yr)}else{var fr=Xt-Lt.length;Tr.set(Lt),Tr.set(Tt.subarray(0,fr),Lt.length),gt.set(Tt.subarray(fr))}else Tr=Lt.concat(Tt),gt=Xt>=0&&Xt<Tr.length?Tr.splice(Xt,Tr.length):[];return[Tr,gt]}var it=ne(de,Te,Be,Qe,at),Wt=G.redraw(de),Yt=[de,it.update,Be,it.maxPoints];return d.add(de,G.extendTraces,Yt,Z,arguments),Wt}function re(de,Te,Be){de=C.getGraphDiv(de);var Qe=[],at=G.deleteTraces,it=re,Wt=[de,Qe],Yt=[de,Te],Tt,Lt;for(X(de,Te,Be),Array.isArray(Te)||(Te=[Te]),Te=Te.map(function(Xt){return C.extendFlat({},Xt)}),b.cleanData(Te),Tt=0;Tt<Te.length;Tt++)de.data.push(Te[Tt]);for(Tt=0;Tt<Te.length;Tt++)Qe.push(-Te.length+Tt);if(typeof Be>"u")return Lt=G.redraw(de),d.add(de,at,Wt,it,Yt),Lt;Array.isArray(Be)||(Be=[Be]);try{V(de,Qe,Be)}catch(Xt){throw de.data.splice(de.data.length-Te.length,Te.length),Xt}return d.startSequence(de),d.add(de,at,Wt,it,Yt),Lt=G.moveTraces(de,Qe,Be),d.stopSequence(de),Lt}function Y(de,Te){de=C.getGraphDiv(de);var Be=[],Qe=G.addTraces,at=Y,it=[de,Be,Te],Wt=[de,Te],Yt,Tt;if(typeof Te>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Te)||(Te=[Te]),N(de,Te,"indices"),Te=B(Te,de.data.length-1),Te.sort(C.sorterDes),Yt=0;Yt<Te.length;Yt+=1)Tt=de.data.splice(Te[Yt],1)[0],Be.push(Tt);var Lt=G.redraw(de);return d.add(de,Qe,it,at,Wt),Lt}function oe(de,Te,Be){de=C.getGraphDiv(de);var Qe=[],at=[],it=oe,Wt=oe,Yt=[de,Be,Te],Tt=[de,Te,Be],Lt;if(V(de,Te,Be),Te=Array.isArray(Te)?Te:[Te],typeof Be>"u")for(Be=[],Lt=0;Lt<Te.length;Lt++)Be.push(-Te.length+Lt);for(Be=Array.isArray(Be)?Be:[Be],Te=B(Te,de.data.length-1),Be=B(Be,de.data.length-1),Lt=0;Lt<de.data.length;Lt++)Te.indexOf(Lt)===-1&&Qe.push(de.data[Lt]);for(Lt=0;Lt<Te.length;Lt++)at.push({newIndex:Be[Lt],trace:de.data[Te[Lt]]});for(at.sort(function(Tr,gt){return Tr.newIndex-gt.newIndex}),Lt=0;Lt<at.length;Lt+=1)Qe.splice(at[Lt].newIndex,0,at[Lt].trace);de.data=Qe;var Xt=G.redraw(de);return d.add(de,it,Yt,Wt,Tt),Xt}function ue(de,Te,Be,Qe){de=C.getGraphDiv(de),b.clearPromiseQueue(de);var at={};if(typeof Te=="string")at[Te]=Be;else if(C.isPlainObject(Te))at=C.extendFlat({},Te),Qe===void 0&&(Qe=Be);else return C.warn("Restyle fail.",Te,Be,Qe),Promise.reject();Object.keys(at).length&&(de.changed=!0);var it=b.coerceTraceIndices(de,Qe),Wt=he(de,at,it),Yt=Wt.flags;Yt.calc&&(de.calcdata=void 0),Yt.clearAxisTypes&&b.clearAxisTypes(de,it,{});var Tt=[];Yt.fullReplot?Tt.push(G._doPlot):(Tt.push(i.previousPromises),i.supplyDefaults(de),Yt.markerSize&&(i.doCalcdata(de),ke(Tt)),Yt.style&&Tt.push(T.doTraceStyle),Yt.colorbars&&Tt.push(T.doColorBars),Tt.push(E)),Tt.push(i.rehover,i.redrag,i.reselect),d.add(de,ue,[de,Wt.undoit,Wt.traces],ue,[de,Wt.redoit,Wt.traces]);var Lt=C.syncOrAsync(Tt,de);return(!Lt||!Lt.then)&&(Lt=Promise.resolve()),Lt.then(function(){return de.emit("plotly_restyle",Wt.eventData),de})}function K(de){return de===void 0?null:de}function $(de,Te){return Te?function(Be,Qe,at){var it=S(Be,Qe),Wt=it.set;return it.set=function(Yt){var Tt=(at||"")+Qe;le(Tt,it.get(),Yt,de),Wt(Yt)},it}:S}function le(de,Te,Be,Qe){if(Array.isArray(Te)||Array.isArray(Be))for(var at=Array.isArray(Te)?Te:[],it=Array.isArray(Be)?Be:[],Wt=Math.max(at.length,it.length),Yt=0;Yt<Wt;Yt++)le(de+"["+Yt+"]",at[Yt],it[Yt],Qe);else if(C.isPlainObject(Te)||C.isPlainObject(Be)){var Tt=C.isPlainObject(Te)?Te:{},Lt=C.isPlainObject(Be)?Be:{},Xt=C.extendFlat({},Tt,Lt);for(var Tr in Xt)le(de+"."+Tr,Tt[Tr],Lt[Tr],Qe)}else Qe[de]===void 0&&(Qe[de]=K(Te))}function ae(de,Te,Be){for(var Qe in Be){var at=S(de,Qe);le(Qe,at.get(),Be[Qe],Te)}}function he(de,Te,Be){var Qe=de._fullLayout,at=de._fullData,it=de.data,Wt=Qe._guiEditing,Yt=$(Qe._preGUI,Wt),Tt=C.extendDeepAll({},Te),Lt;xe(Te);var Xt=P.traceFlags(),Tr={},gt={},Kt;function Qt(){return Be.map(function(){})}function yr(Sn){var br=n.id2name(Sn);Kt.indexOf(br)===-1&&Kt.push(br)}function fr(Sn){return"LAYOUT"+Sn+".autorange"}function yt(Sn){return"LAYOUT"+Sn+".range"}function ot(Sn){for(var br=Sn;br<at.length;br++)if(at[br]._input===it[Sn])return at[br]}function bt(Sn,br,Or){if(Array.isArray(Sn)){Sn.forEach(function(hn){bt(hn,br,Or)});return}if(!(Sn in Te||b.hasParent(Te,Sn))){var jr;if(Sn.substr(0,6)==="LAYOUT")jr=Yt(de.layout,Sn.replace("LAYOUT",""));else{var zr=Be[Or],pn=Qe._tracePreGUI[ot(zr)._fullInput.uid];jr=$(pn,Wt)(it[zr],Sn)}Sn in gt||(gt[Sn]=Qt()),gt[Sn][Or]===void 0&&(gt[Sn][Or]=K(jr.get())),br!==void 0&&jr.set(br)}}function Et(Sn){return function(br){return at[br][Sn]}}function Dt(Sn){return function(br,Or){return br===!1?at[Be[Or]][Sn]:null}}for(var Ht in Te){if(b.hasParent(Te,Ht))throw new Error("cannot set "+Ht+" and a parent attribute simultaneously");var Bt=Te[Ht],Nt,Jt,hr,Zt,dr,je;if((Ht==="autobinx"||Ht==="autobiny")&&(Ht=Ht.charAt(Ht.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Dt(Ht)):Bt===!1?Bt=Be.map(Et(Ht)):Bt=null),Tr[Ht]=Bt,Ht.substr(0,6)==="LAYOUT"){hr=Yt(de.layout,Ht.replace("LAYOUT","")),gt[Ht]=[K(hr.get())],hr.set(Array.isArray(Bt)?Bt[0]:Bt),Xt.calc=!0;continue}for(gt[Ht]=Qt(),Lt=0;Lt<Be.length;Lt++){Nt=it[Be[Lt]],Jt=ot(Be[Lt]);var Ge=Qe._tracePreGUI[Jt._fullInput.uid];if(hr=$(Ge,Wt)(Nt,Ht),Zt=hr.get(),dr=Array.isArray(Bt)?Bt[Lt%Bt.length]:Bt,dr!==void 0){var Ot=hr.parts[hr.parts.length-1],kt=Ht.substr(0,Ht.length-Ot.length-1),$t=kt?kt+".":"",ar=kt?S(Jt,kt).get():Jt;if(je=t.getTraceValObject(Jt,hr.parts),je&&je.impliedEdits&&dr!==null)for(var or in je.impliedEdits)bt(C.relativeAttr(Ht,or),je.impliedEdits[or],Lt);else if((Ot==="thicknessmode"||Ot==="lenmode")&&Zt!==dr&&(dr==="fraction"||dr==="pixels")&&ar){var rr=Qe._size,zt=ar.orient,vr=zt==="top"||zt==="bottom";if(Ot==="thicknessmode"){var gr=vr?rr.h:rr.w;bt($t+"thickness",ar.thickness*(dr==="fraction"?1/gr:gr),Lt)}else{var Ar=vr?rr.w:rr.h;bt($t+"len",ar.len*(dr==="fraction"?1/Ar:Ar),Lt)}}else if(Ht==="type"&&(dr==="pie"!=(Zt==="pie")||dr==="funnelarea"!=(Zt==="funnelarea"))){var cr="x",Hr="y";(dr==="bar"||Zt==="bar")&&Nt.orientation==="h"&&(cr="y",Hr="x"),C.swapAttrs(Nt,["?","?src"],"labels",cr),C.swapAttrs(Nt,["d?","?0"],"label",cr),C.swapAttrs(Nt,["?","?src"],"values",Hr),Zt==="pie"||Zt==="funnelarea"?(S(Nt,"marker.color").set(S(Nt,"marker.colors").get()),Qe._pielayer.selectAll("g.trace").remove()):r.traceIs(Nt,"cartesian")&&S(Nt,"marker.colors").set(S(Nt,"marker.color").get())}gt[Ht][Lt]=K(Zt);var Rr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Rr.indexOf(Ht)!==-1){if(Ht==="orientation"){hr.set(dr);var Ir=Nt.x&&!Nt.y?"h":"v";if((hr.get()||Ir)===Jt.orientation)continue}else Ht==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Jt.orientation]);b.swapXYData(Nt),Xt.calc=Xt.clearAxisTypes=!0}else i.dataArrayContainers.indexOf(hr.parts[0])!==-1?(b.manageArrayContainers(hr,dr,gt),Xt.calc=!0):(je?je.arrayOk&&!r.traceIs(Jt,"regl")&&(C.isArrayOrTypedArray(dr)||C.isArrayOrTypedArray(Zt))?Xt.calc=!0:P.update(Xt,je):Xt.calc=!0,hr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Ht)!==-1&&n.swap(de,Be),Ht==="orientationaxes"){var cn=S(de.layout,"hovermode"),Zr=cn.get();Zr==="x"?cn.set("y"):Zr==="y"?cn.set("x"):Zr==="x unified"?cn.set("y unified"):Zr==="y unified"&&cn.set("x unified")}if(["orientation","type"].indexOf(Ht)!==-1){for(Kt=[],Lt=0;Lt<Be.length;Lt++){var An=it[Be[Lt]];r.traceIs(An,"cartesian")&&(yr(An.xaxis||"x"),yr(An.yaxis||"y"))}bt(Kt.map(fr),!0,0),bt(Kt.map(yt),[0,1],0)}}return(Xt.calc||Xt.plot)&&(Xt.fullReplot=!0),{flags:Xt,undoit:gt,redoit:Tr,traces:Be,eventData:C.extendDeepNoArrays([],[Tt,Be])}}function xe(de){var Te=C.counterRegex("axis",".title",!1,!1),Be=/colorbar\.title$/,Qe=Object.keys(de),at,it,Wt;for(at=0;at<Qe.length;at++)it=Qe[at],Wt=de[it],(it==="title"||Te.test(it)||Be.test(it))&&(typeof Wt=="string"||typeof Wt=="number")?Yt(it,it.replace("title","title.text")):it.indexOf("titlefont")>-1&&it.indexOf("grouptitlefont")===-1?Yt(it,it.replace("titlefont","title.font")):it.indexOf("titleposition")>-1?Yt(it,it.replace("titleposition","title.position")):it.indexOf("titleside")>-1?Yt(it,it.replace("titleside","title.side")):it.indexOf("titleoffset")>-1&&Yt(it,it.replace("titleoffset","title.offset"));function Yt(Tt,Lt){de[Lt]=de[Tt],delete de[Tt]}}function Me(de,Te,Be){de=C.getGraphDiv(de),b.clearPromiseQueue(de);var Qe={};if(typeof Te=="string")Qe[Te]=Be;else if(C.isPlainObject(Te))Qe=C.extendFlat({},Te);else return C.warn("Relayout fail.",Te,Be),Promise.reject();Object.keys(Qe).length&&(de.changed=!0);var at=Le(de,Qe),it=at.flags;it.calc&&(de.calcdata=void 0);var Wt=[i.previousPromises];it.layoutReplot?Wt.push(T.layoutReplot):Object.keys(Qe).length&&(Ae(de,it,at)||i.supplyDefaults(de),it.legend&&Wt.push(T.doLegend),it.layoutstyle&&Wt.push(T.layoutStyles),it.axrange&&ke(Wt,at.rangesAltered),it.ticks&&Wt.push(T.doTicksRelayout),it.modebar&&Wt.push(T.doModeBar),it.camera&&Wt.push(T.doCamera),it.colorbars&&Wt.push(T.doColorBars),Wt.push(E)),Wt.push(i.rehover,i.redrag,i.reselect),d.add(de,Me,[de,at.undoit],Me,[de,at.redoit]);var Yt=C.syncOrAsync(Wt,de);return(!Yt||!Yt.then)&&(Yt=Promise.resolve(de)),Yt.then(function(){return de.emit("plotly_relayout",at.eventData),de})}function Ae(de,Te,Be){var Qe=de._fullLayout;if(!Te.axrange)return!1;for(var at in Te)if(at!=="axrange"&&Te[at])return!1;var it,Wt,Yt=function(Kt,Qt){return C.coerce(it,Wt,u,Kt,Qt)},Tt={};for(var Lt in Be.rangesAltered){var Xt=n.id2name(Lt);if(it=de.layout[Xt],Wt=Qe[Xt],f(it,Wt,Yt,Tt),Wt._matchGroup){for(var Tr in Wt._matchGroup)if(Tr!==Lt){var gt=Qe[n.id2name(Tr)];gt.autorange=Wt.autorange,gt.range=Wt.range.slice(),gt._input.range=Wt.range.slice()}}}return!0}function ke(de,Te){var Be=Te?function(Qe){var at=[],it=!0;for(var Wt in Te){var Yt=n.getFromId(Qe,Wt);if(at.push(Wt),(Yt.ticklabelposition||"").indexOf("inside")!==-1&&Yt._anchorAxis&&at.push(Yt._anchorAxis._id),Yt._matchGroup)for(var Tt in Yt._matchGroup)Te[Tt]||at.push(Tt)}return n.draw(Qe,at,{skipTitle:it})}:function(Qe){return n.draw(Qe,"redraw")};de.push(h,T.doAutoRangeAndConstraints,Be,T.drawData,T.finalDraw)}var we=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ee=/^[xyz]axis[0-9]*\.autorange$/,be=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Le(de,Te){var Be=de.layout,Qe=de._fullLayout,at=Qe._guiEditing,it=$(Qe._preGUI,at),Wt=Object.keys(Te),Yt=n.list(de),Tt=C.extendDeepAll({},Te),Lt={},Xt,Tr,gt;for(xe(Te),Wt=Object.keys(Te),Tr=0;Tr<Wt.length;Tr++)if(Wt[Tr].indexOf("allaxes")===0){for(gt=0;gt<Yt.length;gt++){var Kt=Yt[gt]._id.substr(1),Qt=Kt.indexOf("scene")!==-1?Kt+".":"",yr=Wt[Tr].replace("allaxes",Qt+Yt[gt]._name);Te[yr]||(Te[yr]=Te[Wt[Tr]])}delete Te[Wt[Tr]]}var fr=P.layoutFlags(),yt={},ot={};function bt(pn,hn){if(Array.isArray(pn)){pn.forEach(function(Rn){bt(Rn,hn)});return}if(!(pn in Te||b.hasParent(Te,pn))){var Ln=it(Be,pn);pn in ot||(ot[pn]=K(Ln.get())),hn!==void 0&&Ln.set(hn)}}var Et={},Dt;function Ht(pn){var hn=n.name2id(pn.split(".")[0]);return Et[hn]=1,hn}for(var Bt in Te){if(b.hasParent(Te,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var Nt=it(Be,Bt),Jt=Te[Bt],hr=Nt.parts.length,Zt=hr-1;Zt>0&&typeof Nt.parts[Zt]!="string";)Zt--;var dr=Nt.parts[Zt],je=Nt.parts[Zt-1]+"."+dr,Ge=Nt.parts.slice(0,Zt).join("."),Ot=S(de.layout,Ge).get(),kt=S(Qe,Ge).get(),$t=Nt.get();if(Jt!==void 0){yt[Bt]=Jt,ot[Bt]=dr==="reverse"?Jt:K($t);var ar=t.getLayoutValObject(Qe,Nt.parts);if(ar&&ar.impliedEdits&&Jt!==null)for(var or in ar.impliedEdits)bt(C.relativeAttr(Bt,or),ar.impliedEdits[or]);if(["width","height"].indexOf(Bt)!==-1)if(Jt){bt("autosize",null);var rr=Bt==="height"?"width":"height";bt(rr,Qe[rr])}else Qe[Bt]=de._initialAutoSize[Bt];else if(Bt==="autosize")bt("width",Jt?null:Qe.width),bt("height",Jt?null:Qe.height);else if(je.match(we))Ht(je),S(Qe,Ge+"._inputRange").set(null);else if(je.match(Ee)){Ht(je),S(Qe,Ge+"._inputRange").set(null);var zt=S(Qe,Ge).get();zt._inputDomain&&(zt._input.domain=zt._inputDomain.slice())}else je.match(be)&&S(Qe,Ge+"._inputDomain").set(null);if(dr==="type"){Dt=Ot;var vr=kt.type==="linear"&&Jt==="log",gr=kt.type==="log"&&Jt==="linear";if(vr||gr){if(!Dt||!Dt.range)bt(Ge+".autorange",!0);else if(kt.autorange)vr&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var Ar=Dt.range[0],cr=Dt.range[1];vr?(Ar<=0&&cr<=0&&bt(Ge+".autorange",!0),Ar<=0?Ar=cr/1e6:cr<=0&&(cr=Ar/1e6),bt(Ge+".range[0]",Math.log(Ar)/Math.LN10),bt(Ge+".range[1]",Math.log(cr)/Math.LN10)):(bt(Ge+".range[0]",Math.pow(10,Ar)),bt(Ge+".range[1]",Math.pow(10,cr)))}Array.isArray(Qe._subplots.polar)&&Qe._subplots.polar.length&&Qe[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete Qe[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(de,kt,Jt,bt),r.getComponentMethod("images","convertCoords")(de,kt,Jt,bt)}else bt(Ge+".autorange",!0),bt(Ge+".range",null);S(Qe,Ge+"._inputRange").set(null)}else if(dr.match(x)){var Hr=S(Qe,Bt).get(),Rr=(Jt||{}).type;(!Rr||Rr==="-")&&(Rr="linear"),r.getComponentMethod("annotations","convertCoords")(de,Hr,Rr,bt),r.getComponentMethod("images","convertCoords")(de,Hr,Rr,bt)}var Ir=p.containerArrayMatch(Bt);if(Ir){Xt=Ir.array,Tr=Ir.index;var cn=Ir.property,Zr=ar||{editType:"calc"};Tr!==""&&cn===""&&(p.isAddVal(Jt)?ot[Bt]=null:p.isRemoveVal(Jt)?ot[Bt]=(S(Be,Xt).get()||[])[Tr]:C.warn("unrecognized full object value",Te)),P.update(fr,Zr),Lt[Xt]||(Lt[Xt]={});var An=Lt[Xt][Tr];An||(An=Lt[Xt][Tr]={}),An[cn]=Jt,delete Te[Bt]}else dr==="reverse"?(Ot.range?Ot.range.reverse():(bt(Ge+".autorange",!0),Ot.range=[1,0]),kt.autorange?fr.calc=!0:fr.plot=!0):(Bt==="dragmode"&&(Jt===!1&&$t!==!1||Jt!==!1&&$t===!1)||Qe._has("scatter-like")&&Qe._has("regl")&&Bt==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!($t==="lasso"||$t==="select")||Qe._has("gl2d")?fr.plot=!0:ar?P.update(fr,ar):fr.calc=!0,Nt.set(Jt))}}for(Xt in Lt){var Sn=p.applyContainerArrayChanges(de,it(Be,Xt),Lt[Xt],fr,it);Sn||(fr.plot=!0)}for(var br in Et){Dt=n.getFromId(de,br);var Or=Dt&&Dt._constraintGroup;if(Or){fr.calc=!0;for(var jr in Or)Et[jr]||(n.getFromId(de,jr)._constraintShrinkable=!0)}}(Ue(de)||Te.height||Te.width)&&(fr.plot=!0);var zr=Qe.shapes;for(Tr=0;Tr<zr.length;Tr++)if(zr[Tr].showlegend){fr.calc=!0;break}return(fr.plot||fr.calc)&&(fr.layoutReplot=!0),{flags:fr,rangesAltered:Et,undoit:ot,redoit:yt,eventData:Tt}}function Ue(de){var Te=de._fullLayout,Be=Te.width,Qe=Te.height;return de.layout.autosize&&i.plotAutoSize(de,de.layout,Te),Te.width!==Be||Te.height!==Qe}function Ve(de,Te,Be,Qe){de=C.getGraphDiv(de),b.clearPromiseQueue(de),C.isPlainObject(Te)||(Te={}),C.isPlainObject(Be)||(Be={}),Object.keys(Te).length&&(de.changed=!0),Object.keys(Be).length&&(de.changed=!0);var at=b.coerceTraceIndices(de,Qe),it=he(de,C.extendFlat({},Te),at),Wt=it.flags,Yt=Le(de,C.extendFlat({},Be)),Tt=Yt.flags;(Wt.calc||Tt.calc)&&(de.calcdata=void 0),Wt.clearAxisTypes&&b.clearAxisTypes(de,at,Be);var Lt=[];Tt.layoutReplot?Lt.push(T.layoutReplot):Wt.fullReplot?Lt.push(G._doPlot):(Lt.push(i.previousPromises),Ae(de,Tt,Yt)||i.supplyDefaults(de),Wt.style&&Lt.push(T.doTraceStyle),(Wt.colorbars||Tt.colorbars)&&Lt.push(T.doColorBars),Tt.legend&&Lt.push(T.doLegend),Tt.layoutstyle&&Lt.push(T.layoutStyles),Tt.axrange&&ke(Lt,Yt.rangesAltered),Tt.ticks&&Lt.push(T.doTicksRelayout),Tt.modebar&&Lt.push(T.doModeBar),Tt.camera&&Lt.push(T.doCamera),Lt.push(E)),Lt.push(i.rehover,i.redrag,i.reselect),d.add(de,Ve,[de,it.undoit,Yt.undoit,it.traces],Ve,[de,it.redoit,Yt.redoit,it.traces]);var Xt=C.syncOrAsync(Lt,de);return(!Xt||!Xt.then)&&(Xt=Promise.resolve(de)),Xt.then(function(){return de.emit("plotly_update",{data:it.eventData,layout:Yt.eventData}),de})}function Fe(de){return function(Be){Be._fullLayout._guiEditing=!0;var Qe=de.apply(null,arguments);return Be._fullLayout._guiEditing=!1,Qe}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],st=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function vt(de,Te){for(var Be=0;Be<Te.length;Be++){var Qe=Te[Be],at=de.match(Qe.pattern);if(at){var it=at[1]||"";return{head:it,tail:de.substr(it.length+1),attr:Qe.attr}}}}function lt(de,Te){var Be=S(Te,de).get();if(Be!==void 0)return Be;var Qe=de.split(".");for(Qe.pop();Qe.length>1;)if(Qe.pop(),Be=S(Te,Qe.join(".")+".uirevision").get(),Be!==void 0)return Be;return Te.uirevision}function et(de,Te){for(var Be=0;Be<Te.length;Be++)if(Te[Be]._fullInput.uid===de)return Be;return-1}function ct(de,Te,Be){for(var Qe=0;Qe<Te.length;Qe++)if(Te[Qe].uid===de)return Qe;return!Te[Be]||Te[Be].uid?-1:Be}function ht(de,Te){var Be=C.isPlainObject(de),Qe=Array.isArray(de);return Be||Qe?(Be&&C.isPlainObject(Te)||Qe&&Array.isArray(Te))&&JSON.stringify(de)===JSON.stringify(Te):de===Te}function mt(de,Te,Be,Qe){var at=Qe._preGUI,it,Wt,Yt,Tt,Lt,Xt,Tr,gt,Kt,Qt,yr=[],fr={},yt={};for(it in at){if(Lt=vt(it,He),Lt){if(Kt=Lt.head,Qt=Lt.tail,Wt=Lt.attr||Kt+".uirevision",Yt=S(Qe,Wt).get(),Tt=Yt&&lt(Wt,Te),Tt&&Tt===Yt){if(Xt=at[it],Xt===null&&(Xt=void 0),Tr=S(Te,it),gt=Tr.get(),ht(gt,Xt)){gt===void 0&&Qt==="autorange"&&yr.push(Kt),Tr.set(K(S(Qe,it).get()));continue}else if(Qt==="autorange"||Qt.substr(0,6)==="range["){var ot=at[Kt+".range[0]"],bt=at[Kt+".range[1]"],Et=at[Kt+".autorange"];if(Et||Et===null&&ot===null&&bt===null){if(!(Kt in fr)){var Dt=S(Te,Kt).get();fr[Kt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(fr[Kt]){Tr.set(K(S(Qe,it).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+it);delete at[it],Lt&&Lt.tail.substr(0,6)==="range["&&(yt[Lt.head]=1)}for(var Ht=0;Ht<yr.length;Ht++){var Bt=yr[Ht];if(yt[Bt]){var Nt=S(Te,Bt).get();Nt&&delete Nt.autorange}}var Jt=Qe._tracePreGUI;for(var hr in Jt){var Zt=Jt[hr],dr=null,je;for(it in Zt){if(!dr){var Ge=et(hr,Be);if(Ge<0){delete Jt[hr];break}var Ot=Be[Ge];je=Ot._fullInput;var kt=ct(hr,de,je.index);if(kt<0){delete Jt[hr];break}dr=de[kt]}if(Lt=vt(it,st),Lt){if(Lt.attr?(Yt=S(Qe,Lt.attr).get(),Tt=Yt&&lt(Lt.attr,Te)):(Yt=je.uirevision,Tt=dr.uirevision,Tt===void 0&&(Tt=Te.uirevision)),Tt&&Tt===Yt&&(Xt=Zt[it],Xt===null&&(Xt=void 0),Tr=S(dr,it),gt=Tr.get(),ht(gt,Xt))){Tr.set(K(S(je,it).get()));continue}}else C.warn("unrecognized GUI edit: "+it+" in trace uid "+hr);delete Zt[it]}}}function xt(de,Te,Be,Qe){var at,it;function Wt(){return G.addFrames(de,at)}de=C.getGraphDiv(de),b.clearPromiseQueue(de);var Yt=de._fullData,Tt=de._fullLayout;if(!C.isPlotDiv(de)||!Yt||!Tt)it=G.newPlot(de,Te,Be,Qe);else{if(C.isPlainObject(Te)){var Lt=Te;Te=Lt.data,Be=Lt.layout,Qe=Lt.config,at=Lt.frames}var Xt=!1;if(Qe){var Tr=C.extendDeep({},de._context);de._context=void 0,U(de,Qe),Xt=Ye(Tr,de._context)}de.data=Te||[],b.cleanData(de.data),de.layout=Be||{},b.cleanLayout(de.layout),mt(de.data,de.layout,Yt,Tt),i.supplyDefaults(de,{skipUpdateCalc:!0});var gt=de._fullData,Kt=de._fullLayout,Qt=Kt.datarevision===void 0,yr=Kt.transition,fr=tt(de,Tt,Kt,Qt,yr),yt=fr.newDataRevision,ot=Mt(de,Yt,gt,Qt,yr,yt);if(Ue(de)&&(fr.layoutReplot=!0),ot.calc||fr.calc){de.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(Kt),Et=0;Et<bt.length;Et++){var Dt=bt[Et],Ht=Dt.substring(0,5);if(Ht==="xaxis"||Ht==="yaxis"){var Bt=Kt[Dt]._emptyCategories;Bt&&Bt()}}}else i.supplyDefaultsUpdateCalc(de.calcdata,gt);var Nt=[];if(at&&(de._transitionData={},i.createTransitionData(de),Nt.push(Wt)),Kt.transition&&!Xt&&(ot.anim||fr.anim))fr.ticks&&Nt.push(T.doTicksRelayout),i.doCalcdata(de),T.doAutoRangeAndConstraints(de),Nt.push(function(){return i.transitionFromReact(de,ot,fr,Tt)});else if(ot.fullReplot||fr.layoutReplot||Xt)de._fullLayout._skipDefaults=!0,Nt.push(G._doPlot);else{for(var Jt in fr.arrays){var hr=fr.arrays[Jt];if(hr.length){var Zt=r.getComponentMethod(Jt,"drawOne");if(Zt!==C.noop)for(var dr=0;dr<hr.length;dr++)Zt(de,hr[dr]);else{var je=r.getComponentMethod(Jt,"draw");if(je===C.noop)throw new Error("cannot draw components: "+Jt);je(de)}}}Nt.push(i.previousPromises),ot.style&&Nt.push(T.doTraceStyle),(ot.colorbars||fr.colorbars)&&Nt.push(T.doColorBars),fr.legend&&Nt.push(T.doLegend),fr.layoutstyle&&Nt.push(T.layoutStyles),fr.axrange&&ke(Nt),fr.ticks&&Nt.push(T.doTicksRelayout),fr.modebar&&Nt.push(T.doModeBar),fr.camera&&Nt.push(T.doCamera),Nt.push(E)}Nt.push(i.rehover,i.redrag,i.reselect),it=C.syncOrAsync(Nt,de),(!it||!it.then)&&(it=Promise.resolve(de))}return it.then(function(){return de.emit("plotly_react",{data:Te,layout:Be}),de})}function Mt(de,Te,Be,Qe,at,it){var Wt=Te.length===Be.length;if(!at&&!Wt)return{fullReplot:!0,calc:!0};var Yt=P.traceFlags();Yt.arrays={},Yt.nChanges=0,Yt.nChangesAnim=0;var Tt,Lt;function Xt(Kt){var Qt=t.getTraceValObject(Lt,Kt);return!Lt._module.animatable&&Qt.anim&&(Qt.anim=!1),Qt}var Tr={getValObject:Xt,flags:Yt,immutable:Qe,transition:at,newDataRevision:it,gd:de},gt={};for(Tt=0;Tt<Te.length;Tt++)if(Be[Tt]){if(Lt=Be[Tt]._fullInput,i.hasMakesDataTransform(Lt)&&(Lt=Be[Tt]),gt[Lt.uid])continue;gt[Lt.uid]=1,Oe(Te[Tt]._fullInput,Lt,[],Tr)}return(Yt.calc||Yt.plot)&&(Yt.fullReplot=!0),at&&Yt.nChanges&&Yt.nChangesAnim&&(Yt.anim=Yt.nChanges===Yt.nChangesAnim&&Wt?"all":"some"),Yt}function tt(de,Te,Be,Qe,at){var it=P.layoutFlags();it.arrays={},it.rangesAltered={},it.nChanges=0,it.nChangesAnim=0;function Wt(Tt){return t.getLayoutValObject(Be,Tt)}var Yt={getValObject:Wt,flags:it,immutable:Qe,transition:at,gd:de};return Oe(Te,Be,[],Yt),(it.plot||it.calc)&&(it.layoutReplot=!0),at&&it.nChanges&&it.nChangesAnim&&(it.anim=it.nChanges===it.nChangesAnim?"all":"some"),it}function Oe(de,Te,Be,Qe){var at,it,Wt,Yt=Qe.getValObject,Tt=Qe.flags,Lt=Qe.immutable,Xt=Qe.inArray,Tr=Qe.arrayIndex;function gt(){var Ge=at.editType;if(Xt&&Ge.indexOf("arraydraw")!==-1){C.pushUnique(Tt.arrays[Xt],Tr);return}P.update(Tt,at),Ge!=="none"&&Tt.nChanges++,Qe.transition&&at.anim&&Tt.nChangesAnim++,(we.test(Wt)||Ee.test(Wt))&&(Tt.rangesAltered[Be[0]]=1),be.test(Wt)&&S(Te,"_inputDomain").set(null),it==="datarevision"&&(Tt.newDataRevision=1)}function Kt(Ge){return Ge.valType==="data_array"||Ge.arrayOk}for(it in de){if(Tt.calc&&!Qe.transition)return;var Qt=de[it],yr=Te[it],fr=Be.concat(it);if(Wt=fr.join("."),!(it.charAt(0)==="_"||typeof Qt=="function"||Qt===yr)){if((it==="tick0"||it==="dtick")&&Be[0]!=="geo"){var yt=Te.tickmode;if(yt==="auto"||yt==="array"||!yt)continue}if(!(it==="range"&&Te.autorange)&&!((it==="zmin"||it==="zmax")&&Te.type==="contourcarpet")&&(at=Yt(fr),!!at&&!(at._compareAsJSON&&JSON.stringify(Qt)===JSON.stringify(yr)))){var ot=at.valType,bt,Et=Kt(at),Dt=Array.isArray(Qt),Ht=Array.isArray(yr);if(Dt&&Ht){var Bt="_input_"+it,Nt=de[Bt],Jt=Te[Bt];if(Array.isArray(Nt)&&Nt===Jt)continue}if(yr===void 0)Et&&Dt?Tt.calc=!0:gt();else if(at._isLinkedToArray){var hr=[],Zt=!1;Xt||(Tt.arrays[it]=hr);var dr=Math.min(Qt.length,yr.length),je=Math.max(Qt.length,yr.length);if(dr!==je)if(at.editType==="arraydraw")Zt=!0;else{gt();continue}for(bt=0;bt<dr;bt++)Oe(Qt[bt],yr[bt],fr.concat(bt),C.extendFlat({inArray:it,arrayIndex:bt},Qe));if(Zt)for(bt=dr;bt<je;bt++)hr.push(bt)}else!ot&&C.isPlainObject(Qt)?Oe(Qt,yr,fr,Qe):Et?Dt&&Ht?(Lt&&(Tt.calc=!0),(Lt||Qe.newDataRevision)&&gt()):Dt!==Ht?Tt.calc=!0:gt():Dt&&Ht?(Qt.length!==yr.length||String(Qt)!==String(yr))&&gt():gt()}}}for(it in Te)if(!(it in de||it.charAt(0)==="_"||typeof Te[it]=="function"))if(at=Yt(Be.concat(it)),Kt(at)&&Array.isArray(Te[it])){Tt.calc=!0;return}else gt()}function Ye(de,Te){var Be;for(Be in de)if(Be.charAt(0)!=="_"){var Qe=de[Be],at=Te[Be];if(Qe!==at)if(C.isPlainObject(Qe)&&C.isPlainObject(at)){if(Ye(Qe,at))return!0}else if(Array.isArray(Qe)&&Array.isArray(at)){if(Qe.length!==at.length)return!0;for(var it=0;it<Qe.length;it++)if(Qe[it]!==at[it])if(C.isPlainObject(Qe[it])&&C.isPlainObject(at[it])){if(Ye(Qe[it],at[it]))return!0}else return!0}else return!0}}function Ze(de,Te,Be){if(de=C.getGraphDiv(de),!C.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Qe=de._transitionData;Qe._frameQueue||(Qe._frameQueue=[]),Be=i.supplyAnimationDefaults(Be);var at=Be.transition,it=Be.frame;Qe._frameWaitingCnt===void 0&&(Qe._frameWaitingCnt=0);function Wt(Lt){return Array.isArray(at)?Lt>=at.length?at[0]:at[Lt]:at}function Yt(Lt){return Array.isArray(it)?Lt>=it.length?it[0]:it[Lt]:it}function Tt(Lt,Xt){var Tr=0;return function(){if(Lt&&++Tr===Xt)return Lt()}}return new Promise(function(Lt,Xt){function Tr(){if(Qe._frameQueue.length!==0){for(;Qe._frameQueue.length;){var dr=Qe._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}de.emit("plotly_animationinterrupted",[])}}function gt(dr){if(dr.length!==0){for(var je=0;je<dr.length;je++){var Ge;dr[je].type==="byname"?Ge=i.computeFrame(de,dr[je].name):Ge=dr[je].data;var Ot=Yt(je),kt=Wt(je);kt.duration=Math.min(kt.duration,Ot.duration);var $t={frame:Ge,name:dr[je].name,frameOpts:Ot,transitionOpts:kt};je===dr.length-1&&($t.onComplete=Tt(Lt,2),$t.onInterrupt=Xt),Qe._frameQueue.push($t)}Be.mode==="immediate"&&(Qe._lastFrameAt=-1/0),Qe._animationRaf||yr()}}function Kt(){de.emit("plotly_animated"),window.cancelAnimationFrame(Qe._animationRaf),Qe._animationRaf=null}function Qt(){Qe._currentFrame&&Qe._currentFrame.onComplete&&Qe._currentFrame.onComplete();var dr=Qe._currentFrame=Qe._frameQueue.shift();if(dr){var je=dr.name?dr.name.toString():null;de._fullLayout._currentFrame=je,Qe._lastFrameAt=Date.now(),Qe._timeToNext=dr.frameOpts.duration,i.transition(de,dr.frame.data,dr.frame.layout,b.coerceTraceIndices(de,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),de.emit("plotly_animatingframe",{name:je,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Kt()}function yr(){de.emit("plotly_animating"),Qe._lastFrameAt=-1/0,Qe._timeToNext=0,Qe._runningTransitions=0,Qe._currentFrame=null;var dr=function(){Qe._animationRaf=window.requestAnimationFrame(dr),Date.now()-Qe._lastFrameAt>Qe._timeToNext&&Qt()};dr()}var fr=0;function yt(dr){return Array.isArray(at)?fr>=at.length?dr.transitionOpts=at[fr]:dr.transitionOpts=at[0]:dr.transitionOpts=at,fr++,dr}var ot,bt,Et=[],Dt=Te==null,Ht=Array.isArray(Te),Bt=!Dt&&!Ht&&C.isPlainObject(Te);if(Bt)Et.push({type:"object",data:yt(C.extendFlat({},Te))});else if(Dt||["string","number"].indexOf(typeof Te)!==-1)for(ot=0;ot<Qe._frames.length;ot++)bt=Qe._frames[ot],bt&&(Dt||String(bt.group)===String(Te))&&Et.push({type:"byname",name:String(bt.name),data:yt({name:bt.name})});else if(Ht)for(ot=0;ot<Te.length;ot++){var Nt=Te[ot];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),Et.push({type:"byname",name:Nt,data:yt({name:Nt})})):C.isPlainObject(Nt)&&Et.push({type:"object",data:yt(C.extendFlat({},Nt))})}for(ot=0;ot<Et.length;ot++)if(bt=Et[ot],bt.type==="byname"&&!Qe._frameHash[bt.data.name]){C.warn('animate failure: frame not found: "'+bt.data.name+'"'),Xt();return}["next","immediate"].indexOf(Be.mode)!==-1&&Tr(),Be.direction==="reverse"&&Et.reverse();var Jt=de._fullLayout._currentFrame;if(Jt&&Be.fromcurrent){var hr=-1;for(ot=0;ot<Et.length;ot++)if(bt=Et[ot],bt.type==="byname"&&bt.name===Jt){hr=ot;break}if(hr>0&&hr<Et.length-1){var Zt=[];for(ot=0;ot<Et.length;ot++)bt=Et[ot],(Et[ot].type!=="byname"||ot>hr)&&Zt.push(bt);Et=Zt}}Et.length>0?gt(Et):(de.emit("plotly_animated"),Lt())})}function We(de,Te,Be){if(de=C.getGraphDiv(de),Te==null)return Promise.resolve();if(!C.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Qe,at,it,Wt,Yt=de._transitionData._frames,Tt=de._transitionData._frameHash;if(!Array.isArray(Te))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Te);var Lt=Yt.length+Te.length*2,Xt=[],Tr={};for(Qe=Te.length-1;Qe>=0;Qe--)if(C.isPlainObject(Te[Qe])){var gt=Te[Qe].name,Kt=(Tt[gt]||Tr[gt]||{}).name,Qt=Te[Qe].name,yr=Tt[Kt]||Tr[Kt];Kt&&Qt&&typeof Qt=="number"&&yr&&L<M&&(L++,C.warn('addFrames: overwriting frame "'+(Tt[Kt]||Tr[Kt]).name+'" with a frame whose name of type "number" also equates to "'+Kt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),L===M&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Tr[gt]={name:gt},Xt.push({frame:i.supplyFrameDefaults(Te[Qe]),index:Be&&Be[Qe]!==void 0&&Be[Qe]!==null?Be[Qe]:Lt+Qe})}Xt.sort(function(Bt,Nt){return Bt.index>Nt.index?-1:Bt.index<Nt.index?1:0});var fr=[],yt=[],ot=Yt.length;for(Qe=Xt.length-1;Qe>=0;Qe--){if(at=Xt[Qe].frame,typeof at.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!at.name)for(;Tt[at.name="frame "+de._transitionData._counter++];);if(Tt[at.name]){for(it=0;it<Yt.length&&(Yt[it]||{}).name!==at.name;it++);fr.push({type:"replace",index:it,value:at}),yt.unshift({type:"replace",index:it,value:Yt[it]})}else Wt=Math.max(0,Math.min(Xt[Qe].index,ot)),fr.push({type:"insert",index:Wt,value:at}),yt.unshift({type:"delete",index:Wt}),ot++}var bt=i.modifyFrames,Et=i.modifyFrames,Dt=[de,yt],Ht=[de,fr];return d&&d.add(de,bt,Dt,Et,Ht),i.modifyFrames(de,fr)}function _e(de,Te){if(de=C.getGraphDiv(de),!C.isPlotDiv(de))throw new Error("This element is not a Plotly plot: "+de);var Be,Qe,at=de._transitionData._frames,it=[],Wt=[];if(!Te)for(Te=[],Be=0;Be<at.length;Be++)Te.push(Be);for(Te=Te.slice(),Te.sort(),Be=Te.length-1;Be>=0;Be--)Qe=Te[Be],it.push({type:"delete",index:Qe}),Wt.unshift({type:"insert",index:Qe,value:at[Qe]});var Yt=i.modifyFrames,Tt=i.modifyFrames,Lt=[de,Wt],Xt=[de,it];return d&&d.add(de,Yt,Lt,Tt,Xt),i.modifyFrames(de,it)}function Ie(de){de=C.getGraphDiv(de);var Te=de._fullLayout||{},Be=de._fullData||[];return i.cleanPlot([],{},Be,Te),i.purge(de),v.purge(de),Te._container&&Te._container.remove(),delete de._context,de}function Xe(de){var Te=de._fullLayout,Be=de.getBoundingClientRect();if(!C.equalDomRects(Be,Te._lastBBox)){var Qe=Te._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(de));Te._invScaleX=Math.sqrt(Qe[0][0]*Qe[0][0]+Qe[0][1]*Qe[0][1]+Qe[0][2]*Qe[0][2]),Te._invScaleY=Math.sqrt(Qe[1][0]*Qe[1][0]+Qe[1][1]*Qe[1][1]+Qe[1][2]*Qe[1][2]),Te._lastBBox=Be}}function De(de){var Te=g.select(de),Be=de._fullLayout;if(Be._calcInverseTransform=Xe,Be._calcInverseTransform(de),Be._container=Te.selectAll(".plot-container").data([0]),Be._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Be._paperdiv=Be._container.selectAll(".svg-container").data([0]),Be._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Be._glcontainer=Be._paperdiv.selectAll(".gl-container").data([{}]),Be._glcontainer.enter().append("div").classed("gl-container",!0),Be._paperdiv.selectAll(".main-svg").remove(),Be._paperdiv.select(".modebar-container").remove(),Be._paper=Be._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Be._toppaper=Be._paperdiv.append("svg").classed("main-svg",!0),Be._modebardiv=Be._paperdiv.append("div"),delete Be._modeBar,Be._hoverpaper=Be._paperdiv.append("svg").classed("main-svg",!0),!Be._uid){var Qe={};g.selectAll("defs").each(function(){this.id&&(Qe[this.id.split("-")[1]]=1)}),Be._uid=C.randstr(Qe)}Be._paperdiv.selectAll(".main-svg").attr(A.svgAttrs),Be._defs=Be._paper.append("defs").attr("id","defs-"+Be._uid),Be._clips=Be._defs.append("g").classed("clips",!0),Be._topdefs=Be._toppaper.append("defs").attr("id","topdefs-"+Be._uid),Be._topclips=Be._topdefs.append("g").classed("clips",!0),Be._bgLayer=Be._paper.append("g").classed("bglayer",!0),Be._draggers=Be._paper.append("g").classed("draglayer",!0);var at=Be._paper.append("g").classed("layer-below",!0);Be._imageLowerLayer=at.append("g").classed("imagelayer",!0),Be._shapeLowerLayer=at.append("g").classed("shapelayer",!0),Be._cartesianlayer=Be._paper.append("g").classed("cartesianlayer",!0),Be._polarlayer=Be._paper.append("g").classed("polarlayer",!0),Be._smithlayer=Be._paper.append("g").classed("smithlayer",!0),Be._ternarylayer=Be._paper.append("g").classed("ternarylayer",!0),Be._geolayer=Be._paper.append("g").classed("geolayer",!0),Be._funnelarealayer=Be._paper.append("g").classed("funnelarealayer",!0),Be._pielayer=Be._paper.append("g").classed("pielayer",!0),Be._iciclelayer=Be._paper.append("g").classed("iciclelayer",!0),Be._treemaplayer=Be._paper.append("g").classed("treemaplayer",!0),Be._sunburstlayer=Be._paper.append("g").classed("sunburstlayer",!0),Be._indicatorlayer=Be._toppaper.append("g").classed("indicatorlayer",!0),Be._glimages=Be._paper.append("g").classed("glimages",!0);var it=Be._toppaper.append("g").classed("layer-above",!0);Be._imageUpperLayer=it.append("g").classed("imagelayer",!0),Be._shapeUpperLayer=it.append("g").classed("shapelayer",!0),Be._selectionLayer=Be._toppaper.append("g").classed("selectionlayer",!0),Be._infolayer=Be._toppaper.append("g").classed("infolayer",!0),Be._menulayer=Be._toppaper.append("g").classed("menulayer",!0),Be._zoomlayer=Be._toppaper.append("g").classed("zoomlayer",!0),Be._hoverlayer=Be._hoverpaper.append("g").classed("hoverlayer",!0),Be._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),de.emit("plotly_framework")}G.animate=Ze,G.addFrames=We,G.deleteFrames=_e,G.addTraces=re,G.deleteTraces=Y,G.extendTraces=Q,G.moveTraces=oe,G.prependTraces=Z,G.newPlot=F,G._doPlot=s,G.purge=Ie,G.react=xt,G.redraw=z,G.relayout=Me,G.restyle=ue,G.setPlotConfig=w,G.update=Ve,G._guiRelayout=Fe(Me),G._guiRestyle=Fe(ue),G._guiUpdate=Fe(Ve),G._storeDirectGUIEdit=ae},20556:function(H){var G={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(R,a){for(var C in R){var S=R[C];S.valType?a[C]=S.dflt:(a[C]||(a[C]={}),g(S,a[C]))}}g(G,e),H.exports={configAttributes:G,dfltConfig:e}},73060:function(H,G,e){var g=e(24040),R=e(3400),a=e(45464),C=e(64859),S=e(16672),v=e(85656),d=e(20556).configAttributes,r=e(67824),t=R.extendDeepAll,i=R.isPlainObject,n=R.isArrayOrTypedArray,f=R.nestedProperty,u=R.valObjectMeta,l="_isSubplotObj",m="_isLinkedToArray",c="_arrayAttrRegexps",A="_deprecated",h=[l,m,c,A];G.IS_SUBPLOT_OBJ=l,G.IS_LINKED_TO_ARRAY=m,G.DEPRECATED=A,G.UNDERSCORE_ATTRS=h,G.get=function(){var U={};g.allTypes.forEach(function(F){U[F]=T(F)});var z={};return Object.keys(g.transformsRegistry).forEach(function(F){z[F]=x(F)}),{defs:{valObjects:u,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:U,layout:P(),transforms:z,frames:L(),animation:M(v),config:M(d)}},G.crawl=function(U,z,F,B){var N=F||0;B=B||"",Object.keys(U).forEach(function(V){var X=U[V];if(h.indexOf(V)===-1){var q=(B?B+".":"")+V;z(X,V,U,N,q),!G.isValObject(X)&&i(X)&&V!=="impliedEdits"&&G.crawl(X,z,N+1,q)}})},G.isValObject=function(U){return U&&U.valType!==void 0},G.findArrayAttributes=function(U){var z=[],F=[],B=[],N,V;function X(Z,re,Y,oe){F=F.slice(0,oe).concat([re]),B=B.slice(0,oe).concat([Z&&Z._isLinkedToArray]);var ue=Z&&(Z.valType==="data_array"||Z.arrayOk===!0)&&!(F[oe-1]==="colorbar"&&(re==="ticktext"||re==="tickvals"));ue&&q(N,0,"")}function q(Z,re,Y){var oe=Z[F[re]],ue=Y+F[re];if(re===F.length-1)n(oe)&&z.push(V+ue);else if(B[re]){if(Array.isArray(oe))for(var K=0;K<oe.length;K++)i(oe[K])&&q(oe[K],re+1,ue+"["+K+"].")}else i(oe)&&q(oe,re+1,ue+".")}N=U,V="",G.crawl(a,X),U._module&&U._module.attributes&&G.crawl(U._module.attributes,X);var te=U.transforms;if(te)for(var ne=0;ne<te.length;ne++){var ce=te[ne],Q=ce._module;Q&&(V="transforms["+ne+"].",N=ce,G.crawl(Q.attributes,X))}return z},G.getTraceValObject=function(U,z){var F=z[0],B=1,N,V;if(F==="transforms"){if(z.length===1)return a.transforms;var X=U.transforms;if(!Array.isArray(X)||!X.length)return!1;var q=z[1];if(!b(q)||q>=X.length)return!1;N=(g.transformsRegistry[X[q].type]||{}).attributes,V=N&&N[z[2]],B=3}else{var te=U._module;if(te||(te=(g.modules[U.type||a.type.dflt]||{})._module),!te)return!1;if(N=te.attributes,V=N&&N[F],!V){var ne=te.basePlotModule;ne&&ne.attributes&&(V=ne.attributes[F])}V||(V=a[F])}return p(V,z,B)},G.getLayoutValObject=function(U,z){var F=o(U,z[0]);return p(F,z,1)};function o(U,z){var F,B,N,V,X=U._basePlotModules;if(X){var q;for(F=0;F<X.length;F++){if(N=X[F],N.attrRegex&&N.attrRegex.test(z)){if(N.layoutAttrOverrides)return N.layoutAttrOverrides;!q&&N.layoutAttributes&&(q=N.layoutAttributes)}var te=N.baseLayoutAttrOverrides;if(te&&z in te)return te[z]}if(q)return q}var ne=U._modules;if(ne){for(F=0;F<ne.length;F++)if(V=ne[F].layoutAttributes,V&&z in V)return V[z]}for(B in g.componentsRegistry){if(N=g.componentsRegistry[B],N.name==="colorscale"&&z.indexOf("coloraxis")===0)return N.layoutAttributes[z];if(!N.schema&&z===N.name)return N.layoutAttributes}return z in C?C[z]:!1}function p(U,z,F){if(!U)return!1;if(U._isLinkedToArray){if(b(z[F]))F++;else if(F<z.length)return!1}for(;F<z.length;F++){var B=U[z[F]];if(i(B))U=B;else break;if(F===z.length-1)break;if(U._isLinkedToArray){if(F++,!b(z[F]))return!1}else if(U.valType==="info_array"){F++;var N=z[F];if(!b(N))return!1;var V=U.items;if(Array.isArray(V)){if(N>=V.length)return!1;if(U.dimensions===2){if(F++,z.length===F)return U;var X=z[F];if(!b(X))return!1;U=V[N][X]}else U=V[N]}else U=V}}return U}function b(U){return U===Math.round(U)&&U>=0}function T(U){var z,F;z=g.modules[U]._module,F=z.basePlotModule;var B={};B.type=null;var N=t({},a),V=t({},z.attributes);G.crawl(V,function(te,ne,ce,Q,Z){f(N,Z).set(void 0),te===void 0&&f(V,Z).set(void 0)}),t(B,N),g.traceIs(U,"noOpacity")&&delete B.opacity,g.traceIs(U,"showLegend")||(delete B.showlegend,delete B.legendgroup),g.traceIs(U,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),z.selectPoints||delete B.selectedpoints,t(B,V),F.attributes&&t(B,F.attributes),B.type=U;var X={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:U,attributes:M(B)};if(z.layoutAttributes){var q={};t(q,z.layoutAttributes),X.layoutAttributes=M(q)}return z.animatable||G.crawl(X,function(te){G.isValObject(te)&&"anim"in te&&delete te.anim}),X}function P(){var U={},z,F;t(U,C);for(z in g.subplotsRegistry)if(F=g.subplotsRegistry[z],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var B=0;B<F.attr.length;B++)O(U,F,F.attr[B]);else{var N=F.attr==="subplot"?F.name:F.attr;O(U,F,N)}for(z in g.componentsRegistry){F=g.componentsRegistry[z];var V=F.schema;if(V&&(V.subplots||V.layout)){var X=V.subplots;if(X&&X.xaxis&&!X.yaxis)for(var q in X.xaxis)delete U.yaxis[q];delete U.xaxis.shift,delete U.xaxis.autoshift}else F.name==="colorscale"?t(U,F.layoutAttributes):F.layoutAttributes&&_(U,F.layoutAttributes,F.name)}return{layoutAttributes:M(U)}}function x(U){var z=g.transformsRegistry[U],F=t({},z.attributes);return Object.keys(g.componentsRegistry).forEach(function(B){var N=g.componentsRegistry[B];N.schema&&N.schema.transforms&&N.schema.transforms[U]&&Object.keys(N.schema.transforms[U]).forEach(function(V){_(F,N.schema.transforms[U][V],V)})}),{attributes:M(F)}}function L(){var U={frames:t({},S)};return M(U),U.frames}function M(U){return s(U),E(U),w(U),U}function s(U){function z(B){return{valType:"string",editType:"none"}}function F(B,N,V){G.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(V[N+"src"]=z()):i(B)&&(B.role="object")}G.crawl(U,F)}function E(U){function z(F,B,N){if(F){var V=F[m];V&&(delete F[m],N[B]={items:{}},N[B].items[V]=F,N[B].role="object")}}G.crawl(U,z)}function w(U){function z(F){for(var B in F)if(i(F[B]))z(F[B]);else if(Array.isArray(F[B]))for(var N=0;N<F[B].length;N++)z(F[B][N]);else F[B]instanceof RegExp&&(F[B]=F[B].toString())}z(U)}function O(U,z,F){var B=f(U,F),N=t({},z.layoutAttributes);N[l]=!0,B.set(N)}function _(U,z,F){var B=f(U,F);B.set(t(B.get()||{},z))}},31780:function(H,G,e){var g=e(3400),R=e(45464),a="templateitemname",C={name:{valType:"string",editType:"none"}};C[a]={valType:"string",editType:"calc"},G.templatedArray=function(d,r){return r._isLinkedToArray=d,r.name=C.name,r[a]=C[a],r},G.traceTemplater=function(d){var r={},t,i;for(t in d)i=d[t],Array.isArray(i)&&i.length&&(r[t]=0);function n(f){t=g.coerce(f,{},R,"type");var u={type:t,_template:null};if(t in r){i=d[t];var l=r[t]%i.length;r[t]++,u._template=i[l]}return u}return{newTrace:n}},G.newContainer=function(d,r,t){var i=d._template,n=i&&(i[r]||t&&i[t]);g.isPlainObject(n)||(n=null);var f=d[r]={_template:n};return f},G.arrayTemplater=function(d,r,t){var i=d._template,n=i&&i[v(r)],f=i&&i[r];(!Array.isArray(f)||!f.length)&&(f=[]);var u={};function l(c){var A={name:c.name,_input:c},h=A[a]=c[a];if(!S(h))return A._template=n,A;for(var o=0;o<f.length;o++){var p=f[o];if(p.name===h)return u[h]=1,A._template=p,A}return A[t]=c[t]||!1,A._template=!1,A}function m(){for(var c=[],A=0;A<f.length;A++){var h=f[A],o=h.name;if(S(o)&&!u[o]){var p={_template:h,name:o,_input:{_templateitemname:o}};p[a]=h[a],c.push(p),u[o]=1}}return c}return{newItem:l,defaultItems:m}};function S(d){return d&&typeof d=="string"}function v(d){var r=d.length-1;return d.charAt(r)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+d),d.substr(0,d.length-1)+"defaults"}G.arrayDefaultKey=v,G.arrayEditor=function(d,r,t){var i=(g.nestedProperty(d,r).get()||[]).length,n=t._index,f=n>=i&&(t._input||{})._templateitemname;f&&(n=i);var u=r+"["+n+"]",l;function m(){l={},f&&(l[u]={},l[u][a]=f)}m();function c(p,b){l[p]=b}function A(p,b){f?g.nestedProperty(l[u],p).set(b):l[u+"."+p]=b}function h(){var p=l;return m(),p}function o(p,b){p&&A(p,b);var T=h();for(var P in T)g.nestedProperty(d,P).set(T[P])}return{modifyBase:c,modifyItem:A,getUpdateObj:h,applyUpdate:o}}},39172:function(H,G,e){var g=e(33428),R=e(24040),a=e(7316),C=e(3400),S=e(72736),v=e(73696),d=e(76308),r=e(43616),t=e(81668),i=e(45460),n=e(54460),f=e(84284),u=e(71888),l=u.enforce,m=u.clean,c=e(19280).doAutoRange,A="start",h="middle",o="end";G.layoutStyles=function(F){return C.syncOrAsync([a.doAutoMargin,b],F)};function p(F,B,N){for(var V=0;V<N.length;V++){var X=N[V][0],q=N[V][1];if(!(X[0]>=F[1]||X[1]<=F[0])&&q[0]<B[1]&&q[1]>B[0])return!0}return!1}function b(F){var B=F._fullLayout,N=B._size,V=N.p,X=n.list(F,"",!0),q,te,ne,ce,Q,Z;if(B._paperdiv.style({width:F._context.responsive&&B.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":B.width+"px",height:F._context.responsive&&B.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(r.setSize,B.width,B.height),F._context.setBackground(F,B.paper_bgcolor),G.drawMainTitle(F),i.manage(F),!B._has("cartesian"))return a.previousPromises(F);function re(Ie,Xe,De){var de=Ie._lw/2;if(Ie._id.charAt(0)==="x"){if(Xe){if(De==="top")return Xe._offset-V-de}else return N.t+N.h*(1-(Ie.position||0))+de%1;return Xe._offset+Xe._length+V+de}if(Xe){if(De==="right")return Xe._offset+Xe._length+V+de}else return N.l+N.w*(Ie.position||0)+de%1;return Xe._offset-V-de}for(q=0;q<X.length;q++){ce=X[q];var Y=ce._anchorAxis;ce._linepositions={},ce._lw=r.crispRound(F,ce.linewidth,1),ce._mainLinePosition=re(ce,Y,ce.side),ce._mainMirrorPosition=ce.mirror&&Y?re(ce,Y,f.OPPOSITE_SIDE[ce.side]):null}var oe=[],ue=[],K=[],$=d.opacity(B.paper_bgcolor)===1&&d.opacity(B.plot_bgcolor)===1&&B.paper_bgcolor===B.plot_bgcolor;for(te in B._plots)if(ne=B._plots[te],ne.mainplot)ne.bg&&ne.bg.remove(),ne.bg=void 0;else{var le=ne.xaxis.domain,ae=ne.yaxis.domain,he=ne.plotgroup;if(p(le,ae,K)){var xe=he.node(),Me=ne.bg=C.ensureSingle(he,"rect","bg");xe.insertBefore(Me.node(),xe.childNodes[0]),ue.push(te)}else he.select("rect.bg").remove(),K.push([le,ae]),$||(oe.push(te),ue.push(te))}var Ae=B._bgLayer.selectAll(".bg").data(oe);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(Ie){B._plots[Ie].bg=g.select(this)}),q=0;q<ue.length;q++)ne=B._plots[ue[q]],Q=ne.xaxis,Z=ne.yaxis,ne.bg&&Q._offset!==void 0&&Z._offset!==void 0&&ne.bg.call(r.setRect,Q._offset-V,Z._offset-V,Q._length+2*V,Z._length+2*V).call(d.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(te in B._plots){ne=B._plots[te],Q=ne.xaxis,Z=ne.yaxis;var ke=ne.clipId="clip"+B._uid+te+"plot",we=C.ensureSingleById(B._clips,"clipPath",ke,function(Ie){Ie.classed("plotclip",!0).append("rect")});ne.clipRect=we.select("rect").attr({width:Q._length,height:Z._length}),r.setTranslate(ne.plot,Q._offset,Z._offset);var Ee,be;ne._hasClipOnAxisFalse?(Ee=null,be=ke):(Ee=ke,be=null),r.setClipUrl(ne.plot,Ee,F),ne.layerClipId=be}var Le,Ue,Ve,Fe,He,st,vt,lt,et,ct,ht,mt,xt;function Mt(Ie){return"M"+Le+","+Ie+"H"+Ue}function tt(Ie){return"M"+Q._offset+","+Ie+"h"+Q._length}function Oe(Ie){return"M"+Ie+","+lt+"V"+vt}function Ye(Ie){return Z._shift!==void 0&&(Ie+=Z._shift),"M"+Ie+","+Z._offset+"v"+Z._length}function Ze(Ie,Xe,De){if(!Ie.showline||te!==Ie._mainSubplot)return"";if(!Ie._anchorAxis)return De(Ie._mainLinePosition);var de=Xe(Ie._mainLinePosition);return Ie.mirror&&(de+=Xe(Ie._mainMirrorPosition)),de}for(te in B._plots){ne=B._plots[te],Q=ne.xaxis,Z=ne.yaxis;var We="M0,0";T(Q,te)&&(He=x(Q,"left",Z,X),Le=Q._offset-(He?V+He:0),st=x(Q,"right",Z,X),Ue=Q._offset+Q._length+(st?V+st:0),Ve=re(Q,Z,"bottom"),Fe=re(Q,Z,"top"),xt=!Q._anchorAxis||te!==Q._mainSubplot,xt&&(Q.mirror==="allticks"||Q.mirror==="all")&&(Q._linepositions[te]=[Ve,Fe]),We=Ze(Q,Mt,tt),xt&&Q.showline&&(Q.mirror==="all"||Q.mirror==="allticks")&&(We+=Mt(Ve)+Mt(Fe)),ne.xlines.style("stroke-width",Q._lw+"px").call(d.stroke,Q.showline?Q.linecolor:"rgba(0,0,0,0)")),ne.xlines.attr("d",We);var _e="M0,0";T(Z,te)&&(ht=x(Z,"bottom",Q,X),vt=Z._offset+Z._length+(ht?V:0),mt=x(Z,"top",Q,X),lt=Z._offset-(mt?V:0),et=re(Z,Q,"left"),ct=re(Z,Q,"right"),xt=!Z._anchorAxis||te!==Z._mainSubplot,xt&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[te]=[et,ct]),_e=Ze(Z,Oe,Ye),xt&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(_e+=Oe(et)+Oe(ct)),ne.ylines.style("stroke-width",Z._lw+"px").call(d.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),ne.ylines.attr("d",_e)}return n.makeClipPaths(F),a.previousPromises(F)}function T(F,B){return(F.ticks||F.showline)&&(B===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function P(F,B,N){if(!N.showline||!N._lw)return!1;if(N.mirror==="all"||N.mirror==="allticks")return!0;var V=N._anchorAxis;if(!V)return!1;var X=f.FROM_BL[B];return N.side===B?V.domain[X]===F.domain[X]:N.mirror&&V.domain[1-X]===F.domain[1-X]}function x(F,B,N,V){if(P(F,B,N))return N._lw;for(var X=0;X<V.length;X++){var q=V[X];if(q._mainAxis===N._mainAxis&&P(F,B,q))return q._lw}return 0}G.drawMainTitle=function(F){var B=F._fullLayout.title,N=F._fullLayout,V=U(N),X=z(N),q=O(N,X),te=w(N,V);if(t.draw(F,"gtitle",{propContainer:N,propName:"title.text",placeholder:N._dfltTitle.plot,attributes:{x:te,y:q,"text-anchor":V,dy:X}}),B.text&&B.automargin){var ne=g.selectAll(".gtitle"),ce=r.bBox(ne.node()).height,Q=s(F,B,ce);if(Q>0){E(F,q,Q,ce),ne.attr({x:te,y:q,"text-anchor":V,dy:_(B.yanchor)}).call(S.positionText,te,q);var Z=(B.text.match(S.BR_TAG_ALL)||[]).length;if(Z){var re=f.LINE_SPACING*Z+f.MID_SHIFT;B.y===0&&(re=-re),ne.selectAll(".line").each(function(){var Y=+this.getAttribute("dy").slice(0,-2)-re+"em";this.setAttribute("dy",Y)})}}}};function L(F,B,N,V,X){var q=B.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,te=C.isTopAnchor(B)?V:V-X,ne=N==="b"?q-te:te;return C.isTopAnchor(B)&&N==="t"||C.isBottomAnchor(B)&&N==="b"?!1:ne<X}function M(F,B,N,V,X){var q=0;return N==="middle"&&(q+=X/2),F==="t"?(N==="top"&&(q+=X),q+=V-B*V):(N==="bottom"&&(q+=X),q+=B*V),q}function s(F,B,N){var V=B.y,X=B.yanchor,q=V>.5?"t":"b",te=F._fullLayout.margin[q],ne=0;return B.yref==="paper"?ne=N+B.pad.t+B.pad.b:B.yref==="container"&&(ne=M(q,V,X,F._fullLayout.height,N)+B.pad.t+B.pad.b),ne>te?ne:0}function E(F,B,N,V){var X="title.automargin",q=F._fullLayout.title,te=q.y>.5?"t":"b",ne={x:q.x,y:q.y,t:0,b:0},ce={};q.yref==="paper"&&L(F,q,te,B,V)?ne[te]=N:q.yref==="container"&&(ce[te]=N,F._fullLayout._reservedMargin[X]=ce),a.allowAutoMargin(F,X),a.autoMargin(F,X,ne)}function w(F,B){var N=F.title,V=F._size,X=0;switch(B===A?X=N.pad.l:B===o&&(X=-N.pad.r),N.xref){case"paper":return V.l+V.w*N.x+X;case"container":default:return F.width*N.x+X}}function O(F,B){var N=F.title,V=F._size,X=0;if(B==="0em"||!B?X=-N.pad.b:B===f.CAP_SHIFT+"em"&&(X=N.pad.t),N.y==="auto")return V.t/2;switch(N.yref){case"paper":return V.t+V.h-V.h*N.y+X;case"container":default:return F.height-F.height*N.y+X}}function _(F){return F==="top"?f.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function U(F){var B=F.title,N=h;return C.isRightAnchor(B)?N=o:C.isLeftAnchor(B)&&(N=A),N}function z(F){var B=F.title,N="0em";return C.isTopAnchor(B)?N=f.CAP_SHIFT+"em":C.isMiddleAnchor(B)&&(N=f.MID_SHIFT+"em"),N}G.doTraceStyle=function(F){var B=F.calcdata,N=[],V;for(V=0;V<B.length;V++){var X=B[V],q=X[0]||{},te=q.trace||{},ne=te._module||{},ce=ne.arraysToCalcdata;ce&&ce(X,te);var Q=ne.editStyle;Q&&N.push({fn:Q,cd0:q})}if(N.length){for(V=0;V<N.length;V++){var Z=N[V];Z.fn(F,Z.cd0)}v(F),G.redrawReglTraces(F)}return a.style(F),R.getComponentMethod("legend","draw")(F),a.previousPromises(F)},G.doColorBars=function(F){return R.getComponentMethod("colorbar","draw")(F),a.previousPromises(F)},G.layoutReplot=function(F){var B=F.layout;return F.layout=void 0,R.call("_doPlot",F,"",B)},G.doLegend=function(F){return R.getComponentMethod("legend","draw")(F),a.previousPromises(F)},G.doTicksRelayout=function(F){return n.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(R.subplotsRegistry.splom.updateGrid(F),v(F),G.redrawReglTraces(F)),G.drawMainTitle(F),a.previousPromises(F)},G.doModeBar=function(F){var B=F._fullLayout;i.manage(F);for(var N=0;N<B._basePlotModules.length;N++){var V=B._basePlotModules[N].updateFx;V&&V(F)}return a.previousPromises(F)},G.doCamera=function(F){for(var B=F._fullLayout,N=B._subplots.gl3d,V=0;V<N.length;V++){var X=B[N[V]],q=X._scene;q.setViewport(X)}},G.drawData=function(F){var B=F._fullLayout;v(F);for(var N=B._basePlotModules,V=0;V<N.length;V++)N[V].plot(F);return G.redrawReglTraces(F),a.style(F),R.getComponentMethod("selections","draw")(F),R.getComponentMethod("shapes","draw")(F),R.getComponentMethod("annotations","draw")(F),R.getComponentMethod("images","draw")(F),B._replotting=!1,a.previousPromises(F)},G.redrawReglTraces=function(F){var B=F._fullLayout;if(B._has("regl")){var N=F._fullData,V=[],X=[],q,te;for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),q=0;q<N.length;q++){var ne=N[q];ne.visible===!0&&ne._length!==0&&(ne.type==="splom"?B._splomScenes[ne.uid].draw():ne.type==="scattergl"?C.pushUnique(V,ne.xaxis+ne.yaxis):ne.type==="scatterpolargl"&&C.pushUnique(X,ne.subplot))}for(q=0;q<V.length;q++)te=B._plots[V[q]],te._scene&&te._scene.draw();for(q=0;q<X.length;q++)te=B[X[q]]._subplot,te._scene&&te._scene.draw()}},G.doAutoRangeAndConstraints=function(F){for(var B=n.list(F,"",!0),N,V={},X=0;X<B.length;X++)if(N=B[X],!V[N._id]){V[N._id]=1,m(F,N),c(F,N);var q=N._matchGroup;if(q)for(var te in q){var ne=n.getFromId(F,te);c(F,ne,N.range),V[te]=1}}l(F)},G.finalDraw=function(F){R.getComponentMethod("rangeslider","draw")(F),R.getComponentMethod("rangeselector","draw")(F)},G.drawMarginPushers=function(F){R.getComponentMethod("legend","draw")(F),R.getComponentMethod("rangeselector","draw")(F),R.getComponentMethod("sliders","draw")(F),R.getComponentMethod("updatemenus","draw")(F),R.getComponentMethod("colorbar","draw")(F)}},94828:function(H,G,e){var g=e(3400),R=g.isPlainObject,a=e(73060),C=e(7316),S=e(45464),v=e(31780),d=e(20556).dfltConfig;G.makeTemplate=function(c){c=g.isPlainObject(c)?c:g.getGraphDiv(c),c=g.extendDeep({_context:d},{data:c.data,layout:c.layout}),C.supplyDefaults(c);var A=c.data||[],h=c.layout||{};h._basePlotModules=c._fullLayout._basePlotModules,h._modules=c._fullLayout._modules;var o={data:{},layout:{}};A.forEach(function(w){var O={};i(w,O,f.bind(null,w));var _=g.coerce(w,{},S,"type"),U=o.data[_];U||(U=o.data[_]=[]),U.push(O)}),i(h,o.layout,n.bind(null,h)),delete o.layout.template;var p=h.template;if(R(p)){var b=p.layout,T,P,x,L,M,s;R(b)&&r(b,o.layout);var E=p.data;if(R(E)){for(P in o.data)if(x=E[P],Array.isArray(x)){for(M=o.data[P],s=M.length,L=x.length,T=0;T<s;T++)r(x[T%L],M[T]);for(T=s;T<L;T++)M.push(g.extendDeep({},x[T]))}for(P in E)P in o.data||(o.data[P]=g.extendDeep([],E[P]))}}return o};function r(c,A){c=g.extendDeep({},c);var h=Object.keys(c).sort(),o,p;function b(M,s,E){if(R(s)&&R(M))r(M,s);else if(Array.isArray(s)&&Array.isArray(M)){var w=v.arrayTemplater({_template:c},E);for(p=0;p<s.length;p++){var O=s[p],_=w.newItem(O)._template;_&&r(_,O)}var U=w.defaultItems();for(p=0;p<U.length;p++)s.push(U[p]._template);for(p=0;p<s.length;p++)delete s[p].templateitemname}}for(o=0;o<h.length;o++){var T=h[o],P=c[T];if(T in A?b(P,A[T],T):A[T]=P,t(T)===T)for(var x in A){var L=t(x);x!==L&&L===T&&!(x in c)&&b(P,A[x],T)}}}function t(c){return c.replace(/[0-9]+$/,"")}function i(c,A,h,o,p){var b=p&&h(p);for(var T in c){var P=c[T],x=u(c,T,o),L=u(c,T,p),M=h(L);if(!M){var s=t(T);s!==T&&(L=u(c,s,p),M=h(L))}if(!(b&&b===M)&&!(!M||M._noTemplating||M.valType==="data_array"||M.arrayOk&&Array.isArray(P)))if(!M.valType&&R(P))i(P,A,h,x,L);else if(M._isLinkedToArray&&Array.isArray(P))for(var E=!1,w=0,O={},_=0;_<P.length;_++){var U=P[_];if(R(U)){var z=U.name;if(z)O[z]||(i(U,A,h,u(P,w,x),u(P,w,L)),w++,O[z]=1);else if(!E){var F=v.arrayDefaultKey(T),B=u(c,F,o),N=u(P,w,x);i(U,A,h,N,u(P,w,L));var V=g.nestedProperty(A,N),X=g.nestedProperty(A,B);X.set(V.get()),V.set(null),E=!0}}}else{var q=g.nestedProperty(A,x);q.set(P)}}}function n(c,A){return a.getLayoutValObject(c,g.nestedProperty({},A).parts)}function f(c,A){return a.getTraceValObject(c,g.nestedProperty({},A).parts)}function u(c,A,h){var o;return h?Array.isArray(c)?o=h+"["+A+"]":o=h+"."+A:o=A,o}G.validateTemplate=function(c,A){var h=g.extendDeep({},{_context:d,data:c.data,layout:c.layout}),o=h.layout||{};R(A)||(A=o.template||{});var p=A.layout,b=A.data,T=[];h.layout=o,h.layout.template=A,C.supplyDefaults(h);var P=h._fullLayout,x=h._fullData,L={};function M(B,N){for(var V in B)if(V.charAt(0)!=="_"&&R(B[V])){var X=t(V),q=[],te;for(te=0;te<N.length;te++)q.push(u(B,V,N[te])),X!==V&&q.push(u(B,X,N[te]));for(te=0;te<q.length;te++)L[q[te]]=1;M(B[V],q)}}function s(B,N){for(var V in B)if(V.indexOf("defaults")===-1&&R(B[V])){var X=u(B,V,N);L[X]?s(B[V],X):T.push({code:"unused",path:X})}}if(R(p)?(M(P,["layout"]),s(p,"layout")):T.push({code:"layout"}),!R(b))T.push({code:"data"});else{for(var E={},w,O=0;O<x.length;O++){var _=x[O];w=_.type,E[w]=(E[w]||0)+1,_._fullInput._template||T.push({code:"missing",index:_._fullInput.index,traceType:w})}for(w in b){var U=b[w].length,z=E[w]||0;U>z?T.push({code:"unused",traceType:w,templateCount:U,dataCount:z}):z>U&&T.push({code:"reused",traceType:w,templateCount:U,dataCount:z})}}function F(B,N){for(var V in B)if(V.charAt(0)!=="_"){var X=B[V],q=u(B,V,N);R(X)?(Array.isArray(B)&&X._template===!1&&X.templateitemname&&T.push({code:"missing",path:q,templateitemname:X.templateitemname}),F(X,q)):Array.isArray(X)&&l(X)&&F(X,q)}}if(F({data:x,layout:P},""),T.length)return T.map(m)};function l(c){for(var A=0;A<c.length;A++)if(R(c[A]))return!0}function m(c){var A;switch(c.code){case"data":A="The template has no key data.";break;case"layout":A="The template has no key layout.";break;case"missing":c.path?A="There are no templates for item "+c.path+" with name "+c.templateitemname:A="There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":c.path?A="The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?A="Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":A="The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":A="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type.";break}return c.msg=A,c}},67024:function(H,G,e){var g=e(38248),R=e(36424),a=e(7316),C=e(3400),S=e(81792),v=e(37164),d=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function i(n,f){f=f||{};var u,l,m,c;C.isPlainObject(n)?(u=n.data||[],l=n.layout||{},m=n.config||{},c={}):(n=C.getGraphDiv(n),u=C.extendDeep([],n.data),l=C.extendDeep({},n.layout),m=n._context,c=n._fullLayout||{});function A(z){return!(z in f)||C.validate(f[z],t[z])}if(!A("width")&&f.width!==null||!A("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!A("format"))throw new Error("Export format is not "+C.join2(t.format.values,", "," or ")+".");var h={};function o(z,F){return C.coerce(f,h,t,z,F)}var p=o("format"),b=o("width"),T=o("height"),P=o("scale"),x=o("setBackground"),L=o("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var s=C.extendFlat({},l);b?s.width=b:f.width===null&&g(c.width)&&(s.width=c.width),T?s.height=T:f.height===null&&g(c.height)&&(s.height=c.height);var E=C.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),w=S.getRedrawFunc(M);function O(){return new Promise(function(z){setTimeout(z,S.getDelay(M._fullLayout))})}function _(){return new Promise(function(z,F){var B=v(M,p,P),N=M._fullLayout.width,V=M._fullLayout.height;function X(){R.purge(M),document.body.removeChild(M)}if(p==="full-json"){var q=a.graphJson(M,!1,"keepdata","object",!0,!0);return q.version=r,q=JSON.stringify(q),X(),z(L?q:S.encodeJSON(q))}if(X(),p==="svg")return z(L?B:S.encodeSVG(B));var te=document.createElement("canvas");te.id=C.randstr(),d({format:p,width:N,height:V,scale:P,canvas:te,svg:B,promise:!0}).then(z).catch(F)})}function U(z){return L?z.replace(S.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,F){R.newPlot(M,u,s,E).then(w).then(O).then(_).then(function(B){z(U(B))}).catch(function(B){F(B)})})}H.exports=i},21480:function(H,G,e){var g=e(3400),R=e(7316),a=e(73060),C=e(20556).dfltConfig,S=g.isPlainObject,v=Array.isArray,d=g.isArrayOrTypedArray;H.exports=function(o,p){o===void 0&&(o=[]),p===void 0&&(p={});var b=a.get(),T=[],P={_context:g.extendFlat({},C)},x,L;v(o)?(P.data=g.extendDeep([],o),x=o):(P.data=[],x=[],T.push(f("array","data"))),S(p)?(P.layout=g.extendDeep({},p),L=p):(P.layout={},L={},arguments.length>1&&T.push(f("object","layout"))),R.supplyDefaults(P);for(var M=P._fullData,s=x.length,E=0;E<s;E++){var w=x[E],O=["data",E];if(!S(w)){T.push(f("object",O));continue}var _=M[E],U=_.type,z=b.traces[U].attributes;z.type={valType:"enumerated",values:[U]},_.visible===!1&&w.visible!==!1&&T.push(f("invisible",O)),r(w,_,z,T,O);var F=w.transforms,B=_.transforms;if(F){v(F)||T.push(f("array",O,["transforms"])),O.push("transforms");for(var N=0;N<F.length;N++){var V=["transforms",N],X=F[N].type;if(!S(F[N])){T.push(f("object",O,V));continue}var q=b.transforms[X]?b.transforms[X].attributes:{};q.type={valType:"enumerated",values:Object.keys(b.transforms)},r(F[N],B[N],q,T,O,V)}}}var te=P._fullLayout,ne=t(b,M);return r(L,te,ne,T,"layout"),T.length===0?void 0:T};function r(h,o,p,b,T,P){P=P||[];for(var x=Object.keys(h),L=0;L<x.length;L++){var M=x[L];if(M!=="transforms"){var s=P.slice();s.push(M);var E=h[M],w=o[M],O=l(p,M),_=(O||{}).valType,U=_==="info_array",z=_==="colorscale",F=(O||{}).items;if(!u(p,M))b.push(f("schema",T,s));else if(S(E)&&S(w)&&_!=="any")r(E,w,O,b,T,s);else if(U&&v(E)){E.length>w.length&&b.push(f("unused",T,s.concat(w.length)));var B=w.length,N=Array.isArray(F);N&&(B=Math.min(B,F.length));var V,X,q,te,ne;if(O.dimensions===2)for(X=0;X<B;X++)if(v(E[X])){E[X].length>w[X].length&&b.push(f("unused",T,s.concat(X,w[X].length)));var ce=w[X].length;for(V=0;V<(N?Math.min(ce,F[X].length):ce);V++)q=N?F[X][V]:F,te=E[X][V],ne=w[X][V],g.validate(te,q)?ne!==te&&ne!==+te&&b.push(f("dynamic",T,s.concat(X,V),te,ne)):b.push(f("value",T,s.concat(X,V),te))}else b.push(f("array",T,s.concat(X),E[X]));else for(X=0;X<B;X++)q=N?F[X]:F,te=E[X],ne=w[X],g.validate(te,q)?ne!==te&&ne!==+te&&b.push(f("dynamic",T,s.concat(X),te,ne)):b.push(f("value",T,s.concat(X),te))}else if(O.items&&!U&&v(E)){var Q=F[Object.keys(F)[0]],Z=[],re,Y;for(re=0;re<w.length;re++){var oe=w[re]._index||re;if(Y=s.slice(),Y.push(oe),S(E[oe])&&S(w[re])){Z.push(oe);var ue=E[oe],K=w[re];S(ue)&&ue.visible!==!1&&K.visible===!1?b.push(f("invisible",T,Y)):r(ue,K,Q,b,T,Y)}}for(re=0;re<E.length;re++)Y=s.slice(),Y.push(re),S(E[re])?Z.indexOf(re)===-1&&b.push(f("unused",T,Y)):b.push(f("object",T,Y,E[re]))}else!S(E)&&S(w)?b.push(f("object",T,s,E)):!d(E)&&d(w)&&!U&&!z?b.push(f("array",T,s,E)):M in o?g.validate(E,O)?O.valType==="enumerated"&&(O.coerceNumber&&E!==+w||E!==w)&&b.push(f("dynamic",T,s,E,w)):b.push(f("value",T,s,E)):b.push(f("unused",T,s,E))}}return b}function t(h,o){for(var p=h.layout.layoutAttributes,b=0;b<o.length;b++){var T=o[b],P=h.traces[T.type],x=P.layoutAttributes;x&&(T.subplot?g.extendFlat(p[P.attributes.subplot.dflt],x):g.extendFlat(p,x))}return p}var i={object:function(h,o){var p;return h==="layout"&&o===""?p="The layout argument":h[0]==="data"&&o===""?p="Trace "+h[1]+" in the data argument":p=n(h)+"key "+o,p+" must be linked to an object container"},array:function(h,o){var p;return h==="data"?p="The data argument":p=n(h)+"key "+o,p+" must be linked to an array container"},schema:function(h,o){return n(h)+"key "+o+" is not part of the schema"},unused:function(h,o,p){var b=S(p)?"container":"key";return n(h)+b+" "+o+" did not get coerced"},dynamic:function(h,o,p,b){return[n(h)+"key",o,"(set to '"+p+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(h,o){return(o?n(h)+"item "+o:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,o,p){return[n(h)+"key "+o,"is set to an invalid value ("+p+")"].join(" ")}};function n(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function f(h,o,p,b,T){p=p||"";var P,x;v(o)?(P=o[0],x=o[1]):(P=o,x=null);var L=A(p),M=i[h](o,L,b,T);return g.log(M),{code:h,container:P,trace:x,path:p,astr:L,msg:M}}function u(h,o){var p=c(o),b=p.keyMinusId,T=p.id;return b in h&&h[b]._isSubplotObj&&T?!0:o in h}function l(h,o){if(o in h)return h[o];var p=c(o);return h[p.keyMinusId]}var m=g.counterRegex("([a-z]+)");function c(h){var o=h.match(m);return{keyMinusId:o&&o[1],id:o&&o[2]}}function A(h){if(!v(h))return String(h);for(var o="",p=0;p<h.length;p++){var b=h[p];typeof b=="number"?o=o.substr(0,o.length-1)+"["+b+"]":o+=b,p<h.length-1&&(o+=".")}return o}},85656:function(H){H.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(H,G,e){var g=e(3400),R=e(31780);H.exports=function(C,S,v){var d=v.name,r=v.inclusionAttr||"visible",t=S[d],i=g.isArrayOrTypedArray(C[d])?C[d]:[],n=S[d]=[],f=R.arrayTemplater(S,d,r),u,l;for(u=0;u<i.length;u++){var m=i[u];g.isPlainObject(m)?l=f.newItem(m):(l=f.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(m,l,S,v),n.push(l)}var c=f.defaultItems();for(u=0;u<c.length;u++)l=c[u],l._index=n.length,v.handleItemDefaults({},l,S,v,{}),n.push(l);if(g.isArrayOrTypedArray(t)){var A=Math.min(t.length,n.length);for(u=0;u<A;u++)g.relinkPrivateKeys(n[u],t[u])}return n}},45464:function(H,G,e){var g=e(25376),R=e(55756);H.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:R.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(H,G,e){var g=e(38248),R=e(3400),a=R.dateTime2ms,C=R.incrementMonth,S=e(39032),v=S.ONEAVGMONTH;H.exports=function(r,t,i,n){if(t.type!=="date")return{vals:n};var f=r[i+"periodalignment"];if(!f)return{vals:n};var u=r[i+"period"],l;if(g(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var m=+u.substring(1);if(m>0&&Math.round(m)===m)l=m;else return{vals:n}}for(var c=t.calendar,A=f==="start",h=f==="end",o=r[i+"period0"],p=a(o,c)||0,b=[],T=[],P=[],x=n.length,L=0;L<x;L++){var M=n[L],s,E,w;if(l){for(s=Math.round((M-p)/(l*v)),w=C(p,l*s,c);w>M;)w=C(w,-l,c);for(;w<=M;)w=C(w,l,c);E=C(w,-l,c)}else{for(s=Math.round((M-p)/u),w=p+s*u;w>M;)w-=u;for(;w<=M;)w+=u;E=w-u}b[L]=A?E:h?w:(E+w)/2,T[L]=E,P[L]=w}return{vals:b,starts:T,ends:P}}},26720:function(H){H.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(H,G,e){var g=e(33428),R=e(38248),a=e(3400),C=e(39032).FP_SAFE,S=e(24040),v=e(43616),d=e(79811),r=d.getFromId,t=d.isLinked;H.exports={applyAutorangeOptions:s,getAutoRange:i,makePadFn:f,doAutoRange:c,findExtremes:A,concatExtremes:m};function i(E,w){var O,_,U=[],z=E._fullLayout,F=f(z,w,0),B=f(z,w,1),N=m(E,w),V=N.min,X=N.max;if(V.length===0||X.length===0)return a.simpleMap(w.range,w.r2l);var q=V[0].val,te=X[0].val;for(O=1;O<V.length&&q===te;O++)q=Math.min(q,V[O].val);for(O=1;O<X.length&&q===te;O++)te=Math.max(te,X[O].val);var ne=w.autorange,ce=ne==="reversed"||ne==="min reversed"||ne==="max reversed";if(!ce&&w.range){var Q=a.simpleMap(w.range,w.r2l);ce=Q[1]<Q[0]}w.autorange==="reversed"&&(w.autorange=!0);var Z=w.rangemode,re=Z==="tozero",Y=Z==="nonnegative",oe=w._length,ue=oe/10,K=0,$,le,ae,he,xe,Me;for(O=0;O<V.length;O++)for($=V[O],_=0;_<X.length;_++)le=X[_],Me=le.val-$.val-n(w,$.val,le.val),Me>0&&(xe=oe-F($)-B(le),xe>ue?Me/xe>K&&(ae=$,he=le,K=Me/xe):Me/oe>K&&(ae={val:$.val,nopad:1},he={val:le.val,nopad:1},K=Me/oe));function Ae(Le,Ue){return Math.max(Le,B(Ue))}if(q===te){var ke=q-1,we=q+1;if(re)if(q===0)U=[0,1];else{var Ee=(q>0?X:V).reduce(Ae,0),be=q/(1-Math.min(.5,Ee/oe));U=q>0?[0,be]:[be,0]}else Y?U=[Math.max(0,ke),Math.max(1,we)]:U=[ke,we]}else re?(ae.val>=0&&(ae={val:0,nopad:1}),he.val<=0&&(he={val:0,nopad:1})):Y&&(ae.val-K*F(ae)<0&&(ae={val:0,nopad:1}),he.val<=0&&(he={val:1,nopad:1})),K=(he.val-ae.val-n(w,$.val,le.val))/(oe-F(ae)-B(he)),U=[ae.val-K*F(ae),he.val+K*B(he)];return U=s(U,w),w.limitRange&&w.limitRange(),ce&&U.reverse(),a.simpleMap(U,w.l2r||Number)}function n(E,w,O){var _=0;if(E.rangebreaks)for(var U=E.locateBreaks(w,O),z=0;z<U.length;z++){var F=U[z];_+=F.max-F.min}return _}function f(E,w,O){var _=.05*w._length,U=w._anchorAxis||{};if((w.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var z=w.isReversed();if(!z){var F=a.simpleMap(w.range,w.r2l);z=F[1]<F[0]}z&&(O=!O)}var B=0;return t(E,w._id)||(B=l(E,w,O)),_=Math.max(B,_),w.constrain==="domain"&&w._inputDomain&&(_*=(w._inputDomain[1]-w._inputDomain[0])/(w.domain[1]-w.domain[0])),function(V){return V.nopad?0:V.pad+(V.extrapad?_:B)}}var u=3;function l(E,w,O){var _=0,U=w._id.charAt(0)==="x";for(var z in E._plots){var F=E._plots[z];if(!(w._id!==F.xaxis._id&&w._id!==F.yaxis._id)){var B=(U?F.yaxis:F.xaxis)||{};if((B.ticklabelposition||"").indexOf("inside")!==-1&&(!O&&(B.side==="left"||B.side==="bottom")||O&&(B.side==="top"||B.side==="right"))){if(B._vals){var N=a.deg2rad(B._tickAngles[B._id+"tick"]||0),V=Math.abs(Math.cos(N)),X=Math.abs(Math.sin(N));if(!B._vals[0].bb){var q=B._id+"tick",te=B._selections[q];te.each(function(Y){var oe=g.select(this),ue=oe.select(".text-math-group");ue.empty()&&(Y.bb=v.bBox(oe.node()))})}for(var ne=0;ne<B._vals.length;ne++){var ce=B._vals[ne],Q=ce.bb;if(Q){var Z=2*u+Q.width,re=2*u+Q.height;_=Math.max(_,U?Math.max(Z*V,re*X):Math.max(re*V,Z*X))}}}B.ticks==="inside"&&B.ticklabelposition==="inside"&&(_+=B.ticklen||0)}}}return _}function m(E,w,O){var _=w._id,U=E._fullData,z=E._fullLayout,F=[],B=[],N,V,X;function q(Z,re){for(N=0;N<re.length;N++){var Y=Z[re[N]],oe=(Y._extremes||{})[_];if(Y.visible===!0&&oe){for(V=0;V<oe.min.length;V++)X=oe.min[V],h(F,X.val,X.pad,{extrapad:X.extrapad});for(V=0;V<oe.max.length;V++)X=oe.max[V],o(B,X.val,X.pad,{extrapad:X.extrapad})}}}if(q(U,w._traceIndices),q(z.annotations||[],w._annIndices||[]),q(z.shapes||[],w._shapeIndices||[]),w._matchGroup&&!O){for(var te in w._matchGroup)if(te!==w._id){var ne=r(E,te),ce=m(E,ne,!0),Q=w._length/ne._length;for(V=0;V<ce.min.length;V++)X=ce.min[V],h(F,X.val,X.pad*Q,{extrapad:X.extrapad});for(V=0;V<ce.max.length;V++)X=ce.max[V],o(B,X.val,X.pad*Q,{extrapad:X.extrapad})}}return{min:F,max:B}}function c(E,w,O){if(w.setScale(),w.autorange){w.range=O?O.slice():i(E,w),w._r=w.range.slice(),w._rl=a.simpleMap(w._r,w.r2l);var _=w._input,U={};U[w._attr+".range"]=w.range,U[w._attr+".autorange"]=w.autorange,S.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,U),_.range=w.range.slice(),_.autorange=w.autorange}var z=w._anchorAxis;if(z&&z.rangeslider){var F=z.rangeslider[w._name];F&&F.rangemode==="auto"&&(F.range=i(E,w)),z._input.rangeslider[w._name]=a.extendFlat({},F)}}function A(E,w,O){O||(O={}),E._m||E.setScale();var _=[],U=[],z=w.length,F=O.padded||!1,B=O.tozero&&(E.type==="linear"||E.type==="-"),N=E.type==="log",V=!1,X=O.vpadLinearized||!1,q,te,ne,ce,Q,Z,re,Y,oe;function ue(Ae){if(Array.isArray(Ae))return V=!0,function(we){return Math.max(Number(Ae[we]||0),0)};var ke=Math.max(Number(Ae||0),0);return function(){return ke}}var K=ue((E._m>0?O.ppadplus:O.ppadminus)||O.ppad||0),$=ue((E._m>0?O.ppadminus:O.ppadplus)||O.ppad||0),le=ue(O.vpadplus||O.vpad),ae=ue(O.vpadminus||O.vpad);if(!V){if(Y=1/0,oe=-1/0,N)for(q=0;q<z;q++)te=w[q],te<Y&&te>0&&(Y=te),te>oe&&te<C&&(oe=te);else for(q=0;q<z;q++)te=w[q],te<Y&&te>-C&&(Y=te),te>oe&&te<C&&(oe=te);w=[Y,oe],z=2}var he={tozero:B,extrapad:F};function xe(Ae){ne=w[Ae],R(ne)&&(Z=K(Ae),re=$(Ae),X?(ce=E.c2l(ne)-ae(Ae),Q=E.c2l(ne)+le(Ae)):(Y=ne-ae(Ae),oe=ne+le(Ae),N&&Y<oe/10&&(Y=oe/10),ce=E.c2l(Y),Q=E.c2l(oe)),B&&(ce=Math.min(0,ce),Q=Math.max(0,Q)),b(ce)&&h(_,ce,re,he),b(Q)&&o(U,Q,Z,he))}var Me=Math.min(6,z);for(q=0;q<Me;q++)xe(q);for(q=z-1;q>=Me;q--)xe(q);return{min:_,max:U,opts:O}}function h(E,w,O,_){p(E,w,O,_,T)}function o(E,w,O,_){p(E,w,O,_,P)}function p(E,w,O,_,U){for(var z=_.tozero,F=_.extrapad,B=!0,N=0;N<E.length&&B;N++){var V=E[N];if(U(V.val,w)&&V.pad>=O&&(V.extrapad||!F)){B=!1;break}else U(w,V.val)&&V.pad<=O&&(F||!V.extrapad)&&(E.splice(N,1),N--)}if(B){var X=z&&w===0;E.push({val:w,pad:X?0:O,extrapad:X?!1:F})}}function b(E){return R(E)&&Math.abs(E)<C}function T(E,w){return E<=w}function P(E,w){return E>=w}function x(E,w){var O=w.autorangeoptions;return O&&O.minallowed!==void 0&&M(w,O.minallowed,O.maxallowed)?O.minallowed:O&&O.clipmin!==void 0&&M(w,O.clipmin,O.clipmax)?Math.max(E,w.d2l(O.clipmin)):E}function L(E,w){var O=w.autorangeoptions;return O&&O.maxallowed!==void 0&&M(w,O.minallowed,O.maxallowed)?O.maxallowed:O&&O.clipmax!==void 0&&M(w,O.clipmin,O.clipmax)?Math.min(E,w.d2l(O.clipmax)):E}function M(E,w,O){return w!==void 0&&O!==void 0?(w=E.d2l(w),O=E.d2l(O),w<O):!0}function s(E,w){if(!w||!w.autorangeoptions)return E;var O=E[0],_=E[1],U=w.autorangeoptions.include;if(U!==void 0){var z=w.d2l(O),F=w.d2l(_);a.isArrayOrTypedArray(U)||(U=[U]);for(var B=0;B<U.length;B++){var N=w.d2l(U[B]);z>=N&&(z=N,O=N),F<=N&&(F=N,_=N)}}return O=x(O,w),_=L(_,w),[O,_]}},76808:function(H){H.exports=function(e,g,R){var a,C;if(R){var S=g==="reversed"||g==="min reversed"||g==="max reversed";a=R[S?1:0],C=R[S?0:1]}var v=e("autorangeoptions.minallowed",C===null?a:void 0),d=e("autorangeoptions.maxallowed",a===null?C:void 0);v===void 0&&e("autorangeoptions.clipmin"),d===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(H,G,e){var g=e(33428),R=e(38248),a=e(7316),C=e(24040),S=e(3400),v=S.strTranslate,d=e(72736),r=e(81668),t=e(76308),i=e(43616),n=e(94724),f=e(98728),u=e(39032),l=u.ONEMAXYEAR,m=u.ONEAVGYEAR,c=u.ONEMINYEAR,A=u.ONEMAXQUARTER,h=u.ONEAVGQUARTER,o=u.ONEMINQUARTER,p=u.ONEMAXMONTH,b=u.ONEAVGMONTH,T=u.ONEMINMONTH,P=u.ONEWEEK,x=u.ONEDAY,L=x/2,M=u.ONEHOUR,s=u.ONEMIN,E=u.ONESEC,w=u.MINUS_SIGN,O=u.BADNUM,_={K:"zeroline"},U={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},B={K:"tick",L:"text"},N={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(84284),X=V.MID_SHIFT,q=V.CAP_SHIFT,te=V.LINE_SPACING,ne=V.OPPOSITE_SIDE,ce=3,Q=H.exports={};Q.setConvert=e(78344);var Z=e(52976),re=e(79811),Y=re.idSort,oe=re.isLinked;Q.id2name=re.id2name,Q.name2id=re.name2id,Q.cleanId=re.cleanId,Q.list=re.list,Q.listIds=re.listIds,Q.getFromId=re.getFromId,Q.getFromTrace=re.getFromTrace;var ue=e(19280);Q.getAutoRange=ue.getAutoRange,Q.findExtremes=ue.findExtremes;var K=1e-4;function $(je){var Ge=(je[1]-je[0])*K;return[je[0]-Ge,je[1]+Ge]}Q.coerceRef=function(je,Ge,Ot,kt,$t,ar){var or=kt.charAt(kt.length-1),rr=Ot._fullLayout._subplots[or+"axis"],zt=kt+"ref",vr={};return $t||($t=rr[0]||(typeof ar=="string"?ar:ar[0])),ar||(ar=$t),rr=rr.concat(rr.map(function(gr){return gr+" domain"})),vr[zt]={valType:"enumerated",values:rr.concat(ar?typeof ar=="string"?[ar]:ar:[]),dflt:$t},S.coerce(je,Ge,vr,zt)},Q.getRefType=function(je){return je===void 0?je:je==="paper"?"paper":je==="pixel"?"pixel":/( domain)$/.test(je)?"domain":"range"},Q.coercePosition=function(je,Ge,Ot,kt,$t,ar){var or,rr,zt=Q.getRefType(kt);if(zt!=="range")or=S.ensureNumber,rr=Ot($t,ar);else{var vr=Q.getFromId(Ge,kt);ar=vr.fraction2r(ar),rr=Ot($t,ar),or=vr.cleanPos}je[$t]=or(rr)},Q.cleanPosition=function(je,Ge,Ot){var kt=Ot==="paper"||Ot==="pixel"?S.ensureNumber:Q.getFromId(Ge,Ot).cleanPos;return kt(je)},Q.redrawComponents=function(je,Ge){Ge=Ge||Q.listIds(je);var Ot=je._fullLayout;function kt($t,ar,or,rr){for(var zt=C.getComponentMethod($t,ar),vr={},gr=0;gr<Ge.length;gr++)for(var Ar=Ot[Q.id2name(Ge[gr])],cr=Ar[or],Hr=0;Hr<cr.length;Hr++){var Rr=cr[Hr];if(!vr[Rr]&&(zt(je,Rr),vr[Rr]=1,rr))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var le=Q.getDataConversions=function(je,Ge,Ot,kt){var $t,ar=Ot==="x"||Ot==="y"||Ot==="z"?Ot:kt;if(S.isArrayOrTypedArray(ar)){if($t={type:Z(kt,void 0,{autotypenumbers:je._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert($t),$t.type==="category")for(var or=0;or<kt.length;or++)$t.d2c(kt[or])}else $t=Q.getFromTrace(je,Ge,ar);return $t?{d2c:$t.d2c,c2d:$t.c2d}:ar==="ids"?{d2c:he,c2d:he}:{d2c:ae,c2d:ae}};function ae(je){return+je}function he(je){return String(je)}Q.getDataToCoordFunc=function(je,Ge,Ot,kt){return le(je,Ge,Ot,kt).d2c},Q.counterLetter=function(je){var Ge=je.charAt(0);if(Ge==="x")return"y";if(Ge==="y")return"x"},Q.minDtick=function(je,Ge,Ot,kt){["log","category","multicategory"].indexOf(je.type)!==-1||!kt?je._minDtick=0:je._minDtick===void 0?(je._minDtick=Ge,je._forceTick0=Ot):je._minDtick&&((je._minDtick/Ge+1e-6)%1<2e-6&&((Ot-je._forceTick0)/Ge%1+1.000001)%1<2e-6?(je._minDtick=Ge,je._forceTick0=Ot):((Ge/je._minDtick+1e-6)%1>2e-6||((Ot-je._forceTick0)/je._minDtick%1+1.000001)%1>2e-6)&&(je._minDtick=0))},Q.saveRangeInitial=function(je,Ge){for(var Ot=Q.list(je,"",!0),kt=!1,$t=0;$t<Ot.length;$t++){var ar=Ot[$t],or=ar._rangeInitial0===void 0&&ar._rangeInitial1===void 0,rr=or||ar.range[0]!==ar._rangeInitial0||ar.range[1]!==ar._rangeInitial1,zt=ar.autorange;(or&&zt!==!0||Ge&&rr)&&(ar._rangeInitial0=zt==="min"||zt==="max reversed"?void 0:ar.range[0],ar._rangeInitial1=zt==="max"||zt==="min reversed"?void 0:ar.range[1],ar._autorangeInitial=zt,kt=!0)}return kt},Q.saveShowSpikeInitial=function(je,Ge){for(var Ot=Q.list(je,"",!0),kt=!1,$t="on",ar=0;ar<Ot.length;ar++){var or=Ot[ar],rr=or._showSpikeInitial===void 0,zt=rr||or.showspikes!==or._showspikes;(rr||Ge&&zt)&&(or._showSpikeInitial=or.showspikes,kt=!0),$t==="on"&&!or.showspikes&&($t="off")}return je._fullLayout._cartesianSpikesEnabled=$t,kt},Q.autoBin=function(je,Ge,Ot,kt,$t,ar){var or=S.aggNums(Math.min,null,je),rr=S.aggNums(Math.max,null,je);if(Ge.type==="category"||Ge.type==="multicategory")return{start:or-.5,end:rr+.5,size:Math.max(1,Math.round(ar)||1),_dataSpan:rr-or};$t||($t=Ge.calendar);var zt;if(Ge.type==="log"?zt={type:"linear",range:[or,rr]}:zt={type:Ge.type,range:S.simpleMap([or,rr],Ge.c2r,0,$t),calendar:$t},Q.setConvert(zt),ar=ar&&f.dtick(ar,zt.type),ar)zt.dtick=ar,zt.tick0=f.tick0(void 0,zt.type,$t);else{var vr;if(Ot)vr=(rr-or)/Ot;else{var gr=S.distinctVals(je),Ar=Math.pow(10,Math.floor(Math.log(gr.minDiff)/Math.LN10)),cr=Ar*S.roundUp(gr.minDiff/Ar,[.9,1.9,4.9,9.9],!0);vr=Math.max(cr,2*S.stdev(je)/Math.pow(je.length,kt?.25:.4)),R(vr)||(vr=1)}Q.autoTicks(zt,vr)}var Hr=zt.dtick,Rr=Q.tickIncrement(Q.tickFirst(zt),Hr,"reverse",$t),Ir,cn;if(typeof Hr=="number")Rr=xe(Rr,je,zt,or,rr),cn=1+Math.floor((rr-Rr)/Hr),Ir=Rr+cn*Hr;else for(zt.dtick.charAt(0)==="M"&&(Rr=Me(Rr,je,Hr,or,$t)),Ir=Rr,cn=0;Ir<=rr;)Ir=Q.tickIncrement(Ir,Hr,!1,$t),cn++;return{start:Ge.c2r(Rr,0,$t),end:Ge.c2r(Ir,0,$t),size:Hr,_dataSpan:rr-or}};function xe(je,Ge,Ot,kt,$t){var ar=0,or=0,rr=0,zt=0;function vr(Hr){return(1+(Hr-je)*100/Ot.dtick)%100<2}for(var gr=0;gr<Ge.length;gr++)Ge[gr]%1===0?rr++:R(Ge[gr])||zt++,vr(Ge[gr])&&ar++,vr(Ge[gr]+Ot.dtick/2)&&or++;var Ar=Ge.length-zt;if(rr===Ar&&Ot.type!=="date")Ot.dtick<1?je=kt-.5*Ot.dtick:(je-=.5,je+Ot.dtick<kt&&(je+=Ot.dtick));else if(or<Ar*.1&&(ar>Ar*.3||vr(kt)||vr($t))){var cr=Ot.dtick/2;je+=je+cr<kt?cr:-cr}return je}function Me(je,Ge,Ot,kt,$t){var ar=S.findExactDates(Ge,$t),or=.8;if(ar.exactDays>or){var rr=Number(Ot.substr(1));ar.exactYears>or&&rr%12===0?je=Q.tickIncrement(je,"M6","reverse")+x*1.5:ar.exactMonths>or?je=Q.tickIncrement(je,"M1","reverse")+x*15.5:je-=L;var zt=Q.tickIncrement(je,Ot);if(zt<=kt)return zt}return je}Q.prepMinorTicks=function(je,Ge,Ot){if(!Ge.minor.dtick){delete je.dtick;var kt=Ge.dtick&&R(Ge._tmin),$t;if(kt){var ar=Q.tickIncrement(Ge._tmin,Ge.dtick,!0);$t=[Ge._tmin,ar*.99+Ge._tmin*.01]}else{var or=S.simpleMap(Ge.range,Ge.r2l);$t=[or[0],.8*or[0]+.2*or[1]]}if(je.range=S.simpleMap($t,Ge.l2r),je._isMinor=!0,Q.prepTicks(je,Ot),kt){var rr=R(Ge.dtick),zt=R(je.dtick),vr=rr?Ge.dtick:+Ge.dtick.substring(1),gr=zt?je.dtick:+je.dtick.substring(1);rr&&zt?Ae(vr,gr)?vr===2*P&&gr===2*x&&(je.dtick=P):vr===2*P&&gr===3*x?je.dtick=P:vr===P&&!(Ge._input.minor||{}).nticks?je.dtick=x:ke(vr/gr,2.5)?je.dtick=vr/2:je.dtick=vr:String(Ge.dtick).charAt(0)==="M"?zt?je.dtick="M1":Ae(vr,gr)?vr>=12&&gr===2&&(je.dtick="M3"):je.dtick=Ge.dtick:String(je.dtick).charAt(0)==="L"?String(Ge.dtick).charAt(0)==="L"?Ae(vr,gr)||(je.dtick=ke(vr/gr,2.5)?Ge.dtick/2:Ge.dtick):je.dtick="D1":je.dtick==="D2"&&+Ge.dtick>1&&(je.dtick=1)}je.range=Ge.range}Ge.minor._tick0Init===void 0&&(je.tick0=Ge.tick0)};function Ae(je,Ge){return Math.abs((je/Ge+.5)%1-.5)<.001}function ke(je,Ge){return Math.abs(je/Ge-1)<.001}Q.prepTicks=function(je,Ge){var Ot=S.simpleMap(je.range,je.r2l,void 0,void 0,Ge);if(je.tickmode==="auto"||!je.dtick){var kt=je.nticks,$t;kt||(je.type==="category"||je.type==="multicategory"?($t=je.tickfont?S.bigFont(je.tickfont.size||12):15,kt=je._length/$t):($t=je._id.charAt(0)==="y"?40:80,kt=S.constrain(je._length/$t,4,9)+1),je._name==="radialaxis"&&(kt*=2)),je.minor&&je.minor.tickmode!=="array"||je.tickmode==="array"&&(kt*=100),je._roughDTick=Math.abs(Ot[1]-Ot[0])/kt,Q.autoTicks(je,je._roughDTick),je._minDtick>0&&je.dtick<je._minDtick*2&&(je.dtick=je._minDtick,je.tick0=je.l2r(je._forceTick0))}je.ticklabelmode==="period"&&Ee(je),je.tick0||(je.tick0=je.type==="date"?"2000-01-01":0),je.type==="date"&&je.dtick<.1&&(je.dtick=.1),mt(je)};function we(je){return+je.substring(1)}function Ee(je){var Ge;function Ot(){return!(R(je.dtick)||je.dtick.charAt(0)!=="M")}var kt=Ot(),$t=Q.getTickFormat(je);if($t){var ar=je._dtickInit!==je.dtick;/%[fLQsSMX]/.test($t)||(/%[HI]/.test($t)?(Ge=M,ar&&!kt&&je.dtick<M&&(je.dtick=M)):/%p/.test($t)?(Ge=L,ar&&!kt&&je.dtick<L&&(je.dtick=L)):/%[Aadejuwx]/.test($t)?(Ge=x,ar&&!kt&&je.dtick<x&&(je.dtick=x)):/%[UVW]/.test($t)?(Ge=P,ar&&!kt&&je.dtick<P&&(je.dtick=P)):/%[Bbm]/.test($t)?(Ge=b,ar&&(kt?we(je.dtick)<1:je.dtick<T)&&(je.dtick="M1")):/%[q]/.test($t)?(Ge=h,ar&&(kt?we(je.dtick)<3:je.dtick<o)&&(je.dtick="M3")):/%[Yy]/.test($t)&&(Ge=m,ar&&(kt?we(je.dtick)<12:je.dtick<c)&&(je.dtick="M12")))}kt=Ot(),kt&&je.tick0===je._dowTick0&&(je.tick0=je._rawTick0),je._definedDelta=Ge}function be(je,Ge,Ot){for(var kt=0;kt<je.length;kt++){var $t=je[kt].value,ar=kt,or=kt+1;kt<je.length-1?(ar=kt,or=kt+1):kt>0?(ar=kt-1,or=kt):(ar=kt,or=kt);var rr=je[ar].value,zt=je[or].value,vr=Math.abs(zt-rr),gr=Ot||vr,Ar=0;gr>=c?vr>=c&&vr<=l?Ar=vr:Ar=m:Ot===h&&gr>=o?vr>=o&&vr<=A?Ar=vr:Ar=h:gr>=T?vr>=T&&vr<=p?Ar=vr:Ar=b:Ot===P&&gr>=P?Ar=P:gr>=x?Ar=x:Ot===L&&gr>=L?Ar=L:Ot===M&&gr>=M&&(Ar=M);var cr;Ar>=vr&&(Ar=vr,cr=!0);var Hr=$t+Ar;if(Ge.rangebreaks&&Ar>0){for(var Rr=84,Ir=0,cn=0;cn<Rr;cn++){var Zr=(cn+.5)/Rr;Ge.maskBreaks($t*(1-Zr)+Zr*Hr)!==O&&Ir++}Ar*=Ir/Rr,Ar||(je[kt].drop=!0),cr&&vr>P&&(Ar=vr)}(Ar>0||kt===0)&&(je[kt].periodX=$t+Ar/2)}}Q.calcTicks=function(Ge,Ot){for(var kt=Ge.type,$t=Ge.calendar,ar=Ge.ticklabelstep,or=Ge.ticklabelmode==="period",rr=S.simpleMap(Ge.range,Ge.r2l,void 0,void 0,Ot),zt=rr[1]<rr[0],vr=Math.min(rr[0],rr[1]),gr=Math.max(rr[0],rr[1]),Ar=Math.max(1e3,Ge._length||0),cr=[],Hr=[],Rr=[],Ir=[],cn=Ge.minor&&(Ge.minor.ticks||Ge.minor.showgrid),Zr=1;Zr>=(cn?0:1);Zr--){var An=!Zr;Zr?(Ge._dtickInit=Ge.dtick,Ge._tick0Init=Ge.tick0):(Ge.minor._dtickInit=Ge.minor.dtick,Ge.minor._tick0Init=Ge.minor.tick0);var Sn=Zr?Ge:S.extendFlat({},Ge,Ge.minor);if(An?Q.prepMinorTicks(Sn,Ge,Ot):Q.prepTicks(Sn,Ot),Sn.tickmode==="array"){Zr?(Rr=[],cr=Ve(Ge,!An)):(Ir=[],Hr=Ve(Ge,!An));continue}if(Sn.tickmode==="sync"){Rr=[],cr=Ue(Ge);continue}var br=$(rr),Or=br[0],jr=br[1],zr=R(Sn.dtick),pn=kt==="log"&&!(zr||Sn.dtick.charAt(0)==="L"),hn=Q.tickFirst(Sn,Ot);if(Zr){if(Ge._tmin=hn,hn<Or!==zt)break;(kt==="category"||kt==="multicategory")&&(jr=zt?Math.max(-.5,jr):Math.min(Ge._categories.length-.5,jr))}var Ln=null,Rn=hn,Gn;if(Zr){var oa;zr?oa=Ge.dtick:kt==="date"?typeof Ge.dtick=="string"&&Ge.dtick.charAt(0)==="M"&&(oa=b*Ge.dtick.substring(1)):oa=Ge._roughDTick,Gn=Math.round((Ge.r2l(Rn)-Ge.r2l(Ge.tick0))/oa)-1}var xa=Sn.dtick;for(Sn.rangebreaks&&Sn._tick0Init!==Sn.tick0&&(Rn=Nt(Rn,Ge),zt||(Rn=Q.tickIncrement(Rn,xa,!zt,$t))),Zr&&or&&(Rn=Q.tickIncrement(Rn,xa,!zt,$t),Gn--);zt?Rn>=jr:Rn<=jr;Rn=Q.tickIncrement(Rn,xa,zt,$t)){if(Zr&&Gn++,Sn.rangebreaks&&!zt){if(Rn<Or)continue;if(Sn.maskBreaks(Rn)===O&&Nt(Rn,Sn)>=gr)break}if(Rr.length>Ar||Rn===Ln)break;Ln=Rn;var Ta={value:Rn};Zr?(pn&&Rn!==(Rn|0)&&(Ta.simpleLabel=!0),ar>1&&Gn%ar&&(Ta.skipLabel=!0),Rr.push(Ta)):(Ta.minor=!0,Ir.push(Ta))}}if(cn){var da=Ge.minor.ticks==="inside"&&Ge.ticks==="outside"||Ge.minor.ticks==="outside"&&Ge.ticks==="inside";if(!da){for(var Hn=Rr.map(function(gn){return gn.value}),mr=[],$r=0;$r<Ir.length;$r++){var Qr=Ir[$r],vn=Qr.value;if(Hn.indexOf(vn)===-1){for(var zn=!1,bn=0;!zn&&bn<Rr.length;bn++)1e7+Rr[bn].value===1e7+vn&&(zn=!0);zn||mr.push(Qr)}}Ir=mr}}or&&be(Rr,Ge,Ge._definedDelta);var wn;if(Ge.rangebreaks){var Bn=Ge._id.charAt(0)==="y",$n=1;Ge.tickmode==="auto"&&($n=Ge.tickfont?Ge.tickfont.size:12);var pa=NaN;for(wn=Rr.length-1;wn>-1;wn--){if(Rr[wn].drop){Rr.splice(wn,1);continue}Rr[wn].value=Nt(Rr[wn].value,Ge);var Oa=Ge.c2p(Rr[wn].value);(Bn?pa>Oa-$n:pa<Oa+$n)?Rr.splice(zt?wn+1:wn,1):pa=Oa}}Bt(Ge)&&Math.abs(rr[1]-rr[0])===360&&Rr.pop(),Ge._tmax=(Rr[Rr.length-1]||{}).value,Ge._prevDateHead="",Ge._inCalcTicks=!0;var Sr,Fr=function(gn){gn.text="",Ge._prevDateHead=Sr};Rr=Rr.concat(Ir);var Mr,Nr;for(wn=0;wn<Rr.length;wn++){var mn=Rr[wn].minor,Dn=Rr[wn].value;mn?Hr.push({x:Dn,minor:!0}):(Sr=Ge._prevDateHead,Mr=Q.tickText(Ge,Dn,!1,Rr[wn].simpleLabel),Nr=Rr[wn].periodX,Nr!==void 0&&(Mr.periodX=Nr,(Nr>gr||Nr<vr)&&(Nr>gr&&(Mr.periodX=gr),Nr<vr&&(Mr.periodX=vr),Fr(Mr))),Rr[wn].skipLabel&&Fr(Mr),cr.push(Mr))}return cr=cr.concat(Hr),Ge._inCalcTicks=!1,or&&cr.length&&(cr[0].noTick=!0),cr};function Le(je,Ge){return je.rangebreaks&&(Ge=Ge.filter(function(Ot){return je.maskBreaks(Ot.x)!==O})),Ge}function Ue(je){var Ge=je._mainAxis,Ot=[];if(Ge._vals){for(var kt=0;kt<Ge._vals.length;kt++)if(!Ge._vals[kt].noTick){var $t=Ge.l2p(Ge._vals[kt].x),ar=je.p2l($t),or=Q.tickText(je,ar);Ge._vals[kt].minor&&(or.minor=!0,or.text=""),Ot.push(or)}}return Ot=Le(je,Ot),Ot}function Ve(je,Ge){var Ot=S.simpleMap(je.range,je.r2l),kt=$(Ot),$t=Math.min(kt[0],kt[1]),ar=Math.max(kt[0],kt[1]),or=je.type==="category"?je.d2l_noadd:je.d2l;je.type==="log"&&String(je.dtick).charAt(0)!=="L"&&(je.dtick="L"+Math.pow(10,Math.floor(Math.min(je.range[0],je.range[1]))-1));for(var rr=[],zt=0;zt<=1;zt++)if(!(Ge!==void 0&&(Ge&&zt||Ge===!1&&!zt))&&!(zt&&!je.minor)){var vr=zt?je.minor.tickvals:je.tickvals,gr=zt?[]:je.ticktext;if(vr){S.isArrayOrTypedArray(gr)||(gr=[]);for(var Ar=0;Ar<vr.length;Ar++){var cr=or(vr[Ar]);if(cr>$t&&cr<ar){var Hr=Q.tickText(je,cr,!1,String(gr[Ar]));zt&&(Hr.minor=!0,Hr.text=""),rr.push(Hr)}}}}return rr=Le(je,rr),rr}var Fe=[2,5,10],He=[1,2,3,6,12],st=[1,2,5,10,15,30],vt=[1,2,3,7,14],lt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],et=[-.301,0,.301,.699,1],ct=[15,30,45,90,180];function ht(je,Ge,Ot){return Ge*S.roundUp(je/Ge,Ot)}Q.autoTicks=function(je,Ge,Ot){var kt;function $t(Ar){return Math.pow(Ar,Math.floor(Math.log(Ge)/Math.LN10))}if(je.type==="date"){je.tick0=S.dateTick0(je.calendar,0);var ar=2*Ge;if(ar>m)Ge/=m,kt=$t(10),je.dtick="M"+12*ht(Ge,kt,Fe);else if(ar>b)Ge/=b,je.dtick="M"+ht(Ge,1,He);else if(ar>x){if(je.dtick=ht(Ge,x,je._hasDayOfWeekBreaks?[1,2,7,14]:vt),!Ot){var or=Q.getTickFormat(je),rr=je.ticklabelmode==="period";rr&&(je._rawTick0=je.tick0),/%[uVW]/.test(or)?je.tick0=S.dateTick0(je.calendar,2):je.tick0=S.dateTick0(je.calendar,1),rr&&(je._dowTick0=je.tick0)}}else ar>M?je.dtick=ht(Ge,M,He):ar>s?je.dtick=ht(Ge,s,st):ar>E?je.dtick=ht(Ge,E,st):(kt=$t(10),je.dtick=ht(Ge,kt,Fe))}else if(je.type==="log"){je.tick0=0;var zt=S.simpleMap(je.range,je.r2l);if(je._isMinor&&(Ge*=1.5),Ge>.7)je.dtick=Math.ceil(Ge);else if(Math.abs(zt[1]-zt[0])<1){var vr=1.5*Math.abs((zt[1]-zt[0])/Ge);Ge=Math.abs(Math.pow(10,zt[1])-Math.pow(10,zt[0]))/vr,kt=$t(10),je.dtick="L"+ht(Ge,kt,Fe)}else je.dtick=Ge>.3?"D2":"D1"}else je.type==="category"||je.type==="multicategory"?(je.tick0=0,je.dtick=Math.ceil(Math.max(Ge,1))):Bt(je)?(je.tick0=0,kt=1,je.dtick=ht(Ge,kt,ct)):(je.tick0=0,kt=$t(10),je.dtick=ht(Ge,kt,Fe));if(je.dtick===0&&(je.dtick=1),!R(je.dtick)&&typeof je.dtick!="string"){var gr=je.dtick;throw je.dtick=1,"ax.dtick error: "+String(gr)}};function mt(je){var Ge=je.dtick;if(je._tickexponent=0,!R(Ge)&&typeof Ge!="string"&&(Ge=1),(je.type==="category"||je.type==="multicategory")&&(je._tickround=null),je.type==="date"){var Ot=je.r2l(je.tick0),kt=je.l2r(Ot).replace(/(^-|i)/g,""),$t=kt.length;if(String(Ge).charAt(0)==="M")$t>10||kt.substr(5)!=="01-01"?je._tickround="d":je._tickround=+Ge.substr(1)%12===0?"y":"m";else if(Ge>=x&&$t<=10||Ge>=x*15)je._tickround="d";else if(Ge>=s&&$t<=16||Ge>=M)je._tickround="M";else if(Ge>=E&&$t<=19||Ge>=s)je._tickround="S";else{var ar=je.l2r(Ot+Ge).replace(/^-/,"").length;je._tickround=Math.max($t,ar)-20,je._tickround<0&&(je._tickround=4)}}else if(R(Ge)||Ge.charAt(0)==="L"){var or=je.range.map(je.r2d||Number);R(Ge)||(Ge=Number(Ge.substr(1))),je._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var rr=Math.max(Math.abs(or[0]),Math.abs(or[1])),zt=Math.floor(Math.log(rr)/Math.LN10+.01),vr=je.minexponent===void 0?3:je.minexponent;Math.abs(zt)>vr&&(Xe(je.exponentformat)&&!De(zt)?je._tickexponent=3*Math.round((zt-1)/3):je._tickexponent=zt)}else je._tickround=null}Q.tickIncrement=function(je,Ge,Ot,kt){var $t=Ot?-1:1;if(R(Ge))return S.increment(je,$t*Ge);var ar=Ge.charAt(0),or=$t*Number(Ge.substr(1));if(ar==="M")return S.incrementMonth(je,or,kt);if(ar==="L")return Math.log(Math.pow(10,je)+or)/Math.LN10;if(ar==="D"){var rr=Ge==="D2"?et:lt,zt=je+$t*.01,vr=S.roundUp(S.mod(zt,1),rr,Ot);return Math.floor(zt)+Math.log(g.round(Math.pow(10,vr),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},Q.tickFirst=function(je,Ge){var Ot=je.r2l||Number,kt=S.simpleMap(je.range,Ot,void 0,void 0,Ge),$t=kt[1]<kt[0],ar=$t?Math.floor:Math.ceil,or=$(kt)[0],rr=je.dtick,zt=Ot(je.tick0);if(R(rr)){var vr=ar((or-zt)/rr)*rr+zt;return(je.type==="category"||je.type==="multicategory")&&(vr=S.constrain(vr,0,je._categories.length-1)),vr}var gr=rr.charAt(0),Ar=Number(rr.substr(1));if(gr==="M"){for(var cr=0,Hr=zt,Rr,Ir,cn;cr<10;){if(Rr=Q.tickIncrement(Hr,rr,$t,je.calendar),(Rr-or)*(Hr-or)<=0)return $t?Math.min(Hr,Rr):Math.max(Hr,Rr);Ir=(or-(Hr+Rr)/2)/(Rr-Hr),cn=gr+(Math.abs(Math.round(Ir))||1)*Ar,Hr=Q.tickIncrement(Hr,cn,Ir<0?!$t:$t,je.calendar),cr++}return S.error("tickFirst did not converge",je),Hr}else{if(gr==="L")return Math.log(ar((Math.pow(10,or)-zt)/Ar)*Ar+zt)/Math.LN10;if(gr==="D"){var Zr=rr==="D2"?et:lt,An=S.roundUp(S.mod(or,1),Zr,$t);return Math.floor(or)+Math.log(g.round(Math.pow(10,An),1))/Math.LN10}else throw"unrecognized dtick "+String(rr)}},Q.tickText=function(je,Ge,Ot,kt){var $t=xt(je,Ge),ar=je.tickmode==="array",or=Ot||ar,rr=je.type,zt=rr==="category"?je.d2l_noadd:je.d2l,vr,gr=function(cn){var Zr=je.l2p(cn);return Zr>=0&&Zr<=je._length?cn:null};if(ar&&S.isArrayOrTypedArray(je.ticktext)){var Ar=S.simpleMap(je.range,je.r2l),cr=(Math.abs(Ar[1]-Ar[0])-(je._lBreaks||0))/1e4;for(vr=0;vr<je.ticktext.length&&!(Math.abs(Ge-zt(je.tickvals[vr]))<cr);vr++);if(vr<je.ticktext.length)return $t.text=String(je.ticktext[vr]),$t.xbnd=[gr($t.x-.5),gr($t.x+je.dtick-.5)],$t}function Hr(cn){if(cn===void 0)return!0;if(Ot)return cn==="none";var Zr={first:je._tmin,last:je._tmax}[cn];return cn!=="all"&&Ge!==Zr}var Rr=Ot?"never":je.exponentformat!=="none"&&Hr(je.showexponent)?"hide":"";if(rr==="date"?Mt(je,$t,Ot,or):rr==="log"?tt(je,$t,Ot,or,Rr):rr==="category"?Oe(je,$t):rr==="multicategory"?Ye(je,$t,Ot):Bt(je)?We(je,$t,Ot,or,Rr):Ze(je,$t,Ot,or,Rr),kt||(je.tickprefix&&!Hr(je.showtickprefix)&&($t.text=je.tickprefix+$t.text),je.ticksuffix&&!Hr(je.showticksuffix)&&($t.text+=je.ticksuffix)),je.labelalias&&je.labelalias.hasOwnProperty($t.text)){var Ir=je.labelalias[$t.text];typeof Ir=="string"&&($t.text=Ir)}return(je.tickson==="boundaries"||je.showdividers)&&($t.xbnd=[gr($t.x-.5),gr($t.x+je.dtick-.5)]),$t},Q.hoverLabelText=function(je,Ge,Ot){Ot&&(je=S.extendFlat({},je,{hoverformat:Ot}));var kt=S.isArrayOrTypedArray(Ge)?Ge[0]:Ge,$t=S.isArrayOrTypedArray(Ge)?Ge[1]:void 0;if($t!==void 0&&$t!==kt)return Q.hoverLabelText(je,kt,Ot)+" - "+Q.hoverLabelText(je,$t,Ot);var ar=je.type==="log"&&kt<=0,or=Q.tickText(je,je.c2l(ar?-kt:kt),"hover").text;return ar?kt===0?"0":w+or:or};function xt(je,Ge,Ot){var kt=je.tickfont||{};return{x:Ge,dx:0,dy:0,text:Ot||"",fontSize:kt.size,font:kt.family,fontWeight:kt.weight,fontStyle:kt.style,fontVariant:kt.variant,fontColor:kt.color}}function Mt(je,Ge,Ot,kt){var $t=je._tickround,ar=Ot&&je.hoverformat||Q.getTickFormat(je);kt=!ar&&kt,kt&&(R($t)?$t=4:$t={y:"m",m:"d",d:"M",M:"S",S:4}[$t]);var or=S.formatDate(Ge.x,ar,$t,je._dateFormat,je.calendar,je._extraFormat),rr,zt=or.indexOf(`
`);if(zt!==-1&&(rr=or.substr(zt+1),or=or.substr(0,zt)),kt&&(rr!==void 0&&(or==="00:00:00"||or==="00:00")?(or=rr,rr=""):or.length===8&&(or=or.replace(/:00$/,""))),rr)if(Ot)$t==="d"?or+=", "+rr:or=rr+(or?", "+or:"");else if(!je._inCalcTicks||je._prevDateHead!==rr)je._prevDateHead=rr,or+="<br>"+rr;else{var vr=Jt(je),gr=je._trueSide||je.side;(!vr&&gr==="top"||vr&&gr==="bottom")&&(or+="<br> ")}Ge.text=or}function tt(je,Ge,Ot,kt,$t){var ar=je.dtick,or=Ge.x,rr=je.tickformat,zt=typeof ar=="string"&&ar.charAt(0);if($t==="never"&&($t=""),kt&&zt!=="L"&&(ar="L3",zt="L"),rr||zt==="L")Ge.text=de(Math.pow(10,or),je,$t,kt);else if(R(ar)||zt==="D"&&S.mod(or+.01,1)<.1){var vr=Math.round(or),gr=Math.abs(vr),Ar=je.exponentformat;Ar==="power"||Xe(Ar)&&De(vr)?(vr===0?Ge.text=1:vr===1?Ge.text="10":Ge.text="10<sup>"+(vr>1?"":w)+gr+"</sup>",Ge.fontSize*=1.25):(Ar==="e"||Ar==="E")&&gr>2?Ge.text="1"+Ar+(vr>0?"+":w)+gr:(Ge.text=de(Math.pow(10,or),je,"","fakehover"),ar==="D1"&&je._id.charAt(0)==="y"&&(Ge.dy-=Ge.fontSize/6))}else if(zt==="D")Ge.text=String(Math.round(Math.pow(10,S.mod(or,1)))),Ge.fontSize*=.75;else throw"unrecognized dtick "+String(ar);if(je.dtick==="D1"){var cr=String(Ge.text).charAt(0);(cr==="0"||cr==="1")&&(je._id.charAt(0)==="y"?Ge.dx-=Ge.fontSize/4:(Ge.dy+=Ge.fontSize/2,Ge.dx+=(je.range[1]>je.range[0]?1:-1)*Ge.fontSize*(or<0?.5:.25)))}}function Oe(je,Ge){var Ot=je._categories[Math.round(Ge.x)];Ot===void 0&&(Ot=""),Ge.text=String(Ot)}function Ye(je,Ge,Ot){var kt=Math.round(Ge.x),$t=je._categories[kt]||[],ar=$t[1]===void 0?"":String($t[1]),or=$t[0]===void 0?"":String($t[0]);Ot?Ge.text=or+" - "+ar:(Ge.text=ar,Ge.text2=or)}function Ze(je,Ge,Ot,kt,$t){$t==="never"?$t="":je.showexponent==="all"&&Math.abs(Ge.x/je.dtick)<1e-6&&($t="hide"),Ge.text=de(Ge.x,je,$t,kt)}function We(je,Ge,Ot,kt,$t){if(je.thetaunit==="radians"&&!Ot){var ar=Ge.x/180;if(ar===0)Ge.text="0";else{var or=_e(ar);if(or[1]>=100)Ge.text=de(S.deg2rad(Ge.x),je,$t,kt);else{var rr=Ge.x<0;or[1]===1?or[0]===1?Ge.text="":Ge.text=or[0]+"":Ge.text=["<sup>",or[0],"</sup>","","<sub>",or[1],"</sub>",""].join(""),rr&&(Ge.text=w+Ge.text)}}}else Ge.text=de(Ge.x,je,$t,kt)}function _e(je){function Ge(rr,zt){return Math.abs(rr-zt)<=1e-6}function Ot(rr,zt){return Ge(zt,0)?rr:Ot(zt,rr%zt)}function kt(rr){for(var zt=1;!Ge(Math.round(rr*zt)/zt,rr);)zt*=10;return zt}var $t=kt(je),ar=je*$t,or=Math.abs(Ot(ar,$t));return[Math.round(ar/or),Math.round($t/or)]}var Ie=["f","p","n","","m","","k","M","G","T"];function Xe(je){return je==="SI"||je==="B"}function De(je){return je>14||je<-15}function de(je,Ge,Ot,kt){var $t=je<0,ar=Ge._tickround,or=Ot||Ge.exponentformat||"B",rr=Ge._tickexponent,zt=Q.getTickFormat(Ge),vr=Ge.separatethousands;if(kt){var gr={exponentformat:or,minexponent:Ge.minexponent,dtick:Ge.showexponent==="none"?Ge.dtick:R(je)&&Math.abs(je)||1,range:Ge.showexponent==="none"?Ge.range.map(Ge.r2d):[0,je||1]};mt(gr),ar=(Number(gr._tickround)||0)+4,rr=gr._tickexponent,Ge.hoverformat&&(zt=Ge.hoverformat)}if(zt)return Ge._numFormat(zt)(je).replace(/-/g,w);var Ar=Math.pow(10,-ar)/2;if(or==="none"&&(rr=0),je=Math.abs(je),je<Ar)je="0",$t=!1;else{if(je+=Ar,rr&&(je*=Math.pow(10,-rr),ar+=rr),ar===0)je=String(Math.floor(je));else if(ar<0){je=String(Math.round(je)),je=je.substr(0,je.length+ar);for(var cr=ar;cr<0;cr++)je+="0"}else{je=String(je);var Hr=je.indexOf(".")+1;Hr&&(je=je.substr(0,Hr+ar).replace(/\.?0+$/,""))}je=S.numSeparate(je,Ge._separators,vr)}if(rr&&or!=="hide"){Xe(or)&&De(rr)&&(or="power");var Rr;rr<0?Rr=w+-rr:or!=="power"?Rr="+"+rr:Rr=String(rr),or==="e"||or==="E"?je+=or+Rr:or==="power"?je+="10<sup>"+Rr+"</sup>":or==="B"&&rr===9?je+="B":Xe(or)&&(je+=Ie[rr/3+5])}return $t?w+je:je}Q.getTickFormat=function(je){var Ge;function Ot(zt){return typeof zt!="string"?zt:Number(zt.replace("M",""))*b}function kt(zt,vr){var gr=["L","D"];if(typeof zt==typeof vr){if(typeof zt=="number")return zt-vr;var Ar=gr.indexOf(zt.charAt(0)),cr=gr.indexOf(vr.charAt(0));return Ar===cr?Number(zt.replace(/(L|D)/g,""))-Number(vr.replace(/(L|D)/g,"")):Ar-cr}else return typeof zt=="number"?1:-1}function $t(zt,vr,gr){var Ar=gr||function(Rr){return Rr},cr=vr[0],Hr=vr[1];return(!cr&&typeof cr!="number"||Ar(cr)<=Ar(zt))&&(!Hr&&typeof Hr!="number"||Ar(Hr)>=Ar(zt))}function ar(zt,vr){var gr=vr[0]===null,Ar=vr[1]===null,cr=kt(zt,vr[0])>=0,Hr=kt(zt,vr[1])<=0;return(gr||cr)&&(Ar||Hr)}var or,rr;if(je.tickformatstops&&je.tickformatstops.length>0)switch(je.type){case"date":case"linear":{for(Ge=0;Ge<je.tickformatstops.length;Ge++)if(rr=je.tickformatstops[Ge],rr.enabled&&$t(je.dtick,rr.dtickrange,Ot)){or=rr;break}break}case"log":{for(Ge=0;Ge<je.tickformatstops.length;Ge++)if(rr=je.tickformatstops[Ge],rr.enabled&&ar(je.dtick,rr.dtickrange)){or=rr;break}break}}return or?or.value:je.tickformat},Q.getSubplots=function(je,Ge){var Ot=je._fullLayout._subplots,kt=Ot.cartesian.concat(Ot.gl2d||[]),$t=Ge?Q.findSubplotsWithAxis(kt,Ge):kt;return $t.sort(function(ar,or){var rr=ar.substr(1).split("y"),zt=or.substr(1).split("y");return rr[0]===zt[0]?+rr[1]-+zt[1]:+rr[0]-+zt[0]}),$t},Q.findSubplotsWithAxis=function(je,Ge){for(var Ot=new RegExp(Ge._id.charAt(0)==="x"?"^"+Ge._id+"y":Ge._id+"$"),kt=[],$t=0;$t<je.length;$t++){var ar=je[$t];Ot.test(ar)&&kt.push(ar)}return kt},Q.makeClipPaths=function(je){var Ge=je._fullLayout;if(!Ge._hasOnlyLargeSploms){var Ot={_offset:0,_length:Ge.width,_id:""},kt={_offset:0,_length:Ge.height,_id:""},$t=Q.list(je,"x",!0),ar=Q.list(je,"y",!0),or=[],rr,zt;for(rr=0;rr<$t.length;rr++)for(or.push({x:$t[rr],y:kt}),zt=0;zt<ar.length;zt++)rr===0&&or.push({x:Ot,y:ar[zt]}),or.push({x:$t[rr],y:ar[zt]});var vr=Ge._clips.selectAll(".axesclip").data(or,function(gr){return gr.x._id+gr.y._id});vr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gr){return"clip"+Ge._uid+gr.x._id+gr.y._id}).append("rect"),vr.exit().remove(),vr.each(function(gr){g.select(this).select("rect").attr({x:gr.x._offset||0,y:gr.y._offset||0,width:gr.x._length||1,height:gr.y._length||1})})}},Q.draw=function(je,Ge,Ot){var kt=je._fullLayout;Ge==="redraw"&&kt._paper.selectAll("g.subplot").each(function(zt){var vr=zt[0],gr=kt._plots[vr];if(gr){var Ar=gr.xaxis,cr=gr.yaxis;gr.xaxislayer.selectAll("."+Ar._id+"tick").remove(),gr.yaxislayer.selectAll("."+cr._id+"tick").remove(),gr.xaxislayer.selectAll("."+Ar._id+"tick2").remove(),gr.yaxislayer.selectAll("."+cr._id+"tick2").remove(),gr.xaxislayer.selectAll("."+Ar._id+"divider").remove(),gr.yaxislayer.selectAll("."+cr._id+"divider").remove(),gr.minorGridlayer&&gr.minorGridlayer.selectAll("path").remove(),gr.gridlayer&&gr.gridlayer.selectAll("path").remove(),gr.zerolinelayer&&gr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+Ar._id+"title").remove(),kt._infolayer.select(".g-"+cr._id+"title").remove()}});var $t=!Ge||Ge==="redraw"?Q.listIds(je):Ge,ar=Q.list(je),or=ar.filter(function(zt){return zt.autoshift}).map(function(zt){return zt.overlaying});$t.map(function(zt){var vr=Q.getFromId(je,zt);if(vr.tickmode==="sync"&&vr.overlaying){var gr=$t.findIndex(function(Ar){return Ar===vr.overlaying});gr>=0&&$t.unshift($t.splice(gr,1).shift())}});var rr={false:{left:0,right:0}};return S.syncOrAsync($t.map(function(zt){return function(){if(zt){var vr=Q.getFromId(je,zt);Ot||(Ot={}),Ot.axShifts=rr,Ot.overlayingShiftedAx=or;var gr=Q.drawOne(je,vr,Ot);return vr._shiftPusher&&Zt(vr,vr._fullDepth||0,rr,!0),vr._r=vr.range.slice(),vr._rl=S.simpleMap(vr._r,vr.r2l),gr}}}))},Q.drawOne=function(je,Ge,Ot){Ot=Ot||{};var kt=Ot.axShifts||{},$t=Ot.overlayingShiftedAx||[],ar,or,rr;Ge.setScale();var zt=je._fullLayout,vr=Ge._id,gr=vr.charAt(0),Ar=Q.counterLetter(vr),cr=zt._plots[Ge._mainSubplot];if(!cr)return;if(Ge._shiftPusher=Ge.autoshift||$t.indexOf(Ge._id)!==-1||$t.indexOf(Ge.overlaying)!==-1,Ge._shiftPusher&Ge.anchor==="free"){var Hr=Ge.linewidth/2||0;Ge.ticks==="inside"&&(Hr+=Ge.ticklen),Zt(Ge,Hr,kt,!0),Zt(Ge,Ge.shift||0,kt,!1)}(Ot.skipTitle!==!0||Ge._shift===void 0)&&(Ge._shift=dr(Ge,kt));var Rr=cr[gr+"axislayer"],Ir=Ge._mainLinePosition,cn=Ir+=Ge._shift,Zr=Ge._mainMirrorPosition,An=Ge._vals=Q.calcTicks(Ge),Sn=[Ge.mirror,cn,Zr].join("_");for(ar=0;ar<An.length;ar++)An[ar].axInfo=Sn;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var br={};function Or(Gr){var tn=vr+(Gr||"tick");return br[tn]||(br[tn]=it(Ge,tn,cn)),br[tn]}if(Ge.visible){var jr=Q.makeTransTickFn(Ge),zr=Q.makeTransTickLabelFn(Ge),pn,hn,Ln=Ge.ticks==="inside",Rn=Ge.ticks==="outside";if(Ge.tickson==="boundaries"){var Gn=Be(Ge,An);hn=Q.clipEnds(Ge,Gn),pn=Ln?hn:Gn}else hn=Q.clipEnds(Ge,An),pn=Ln&&Ge.ticklabelmode!=="period"?hn:An;var oa=Ge._gridVals=hn,xa=at(Ge,An);if(!zt._hasOnlyLargeSploms){var Ta=Ge._subplotsWith,da={};for(ar=0;ar<Ta.length;ar++){or=Ta[ar],rr=zt._plots[or];var Hn=rr[Ar+"axis"],mr=Hn._mainAxis._id;if(!da[mr]){da[mr]=1;var $r=gr==="x"?"M0,"+Hn._offset+"v"+Hn._length:"M"+Hn._offset+",0h"+Hn._length;Q.drawGrid(je,Ge,{vals:oa,counterAxis:Hn,layer:rr.gridlayer.select("."+vr),minorLayer:rr.minorGridlayer.select("."+vr),path:$r,transFn:jr}),Q.drawZeroLine(je,Ge,{counterAxis:Hn,layer:rr.zerolinelayer,path:$r,transFn:jr})}}}var Qr,vn=Q.getTickSigns(Ge),zn=Q.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var bn=Q.makeTickPath(Ge,cn,vn[2]),wn=Q.makeTickPath(Ge,cn,zn[2],{minor:!0}),Bn,$n,pa,Oa;if(Ge._anchorAxis&&Ge.mirror&&Ge.mirror!==!0?(Bn=Q.makeTickPath(Ge,Zr,vn[3]),$n=Q.makeTickPath(Ge,Zr,zn[3],{minor:!0}),pa=bn+Bn,Oa=wn+$n):(Bn="",$n="",pa=bn,Oa=wn),Ge.showdividers&&Rn&&Ge.tickson==="boundaries"){var Sr={};for(ar=0;ar<xa.length;ar++)Sr[xa[ar].x]=1;Qr=function(Gr){return Sr[Gr.x]?Bn:pa}}else Qr=function(Gr){return Gr.minor?Oa:pa}}if(Q.drawTicks(je,Ge,{vals:pn,layer:Rr,path:Qr,transFn:jr}),Ge.mirror==="allticks"){var Fr=Object.keys(Ge._linepositions||{});for(ar=0;ar<Fr.length;ar++){or=Fr[ar],rr=zt._plots[or];var Mr=Ge._linepositions[or]||[],Nr=Mr[0],mn=Mr[1],Dn=Mr[2],gn=Q.makeTickPath(Ge,Nr,Dn?vn[0]:zn[0],{minor:Dn})+Q.makeTickPath(Ge,mn,Dn?vn[1]:zn[1],{minor:Dn});Q.drawTicks(je,Ge,{vals:pn,layer:rr[gr+"axislayer"],path:gn,transFn:jr})}}var sn=[];if(sn.push(function(){return Q.drawLabels(je,Ge,{vals:An,layer:Rr,plotinfo:rr,transFn:zr,labelFns:Q.makeLabelFns(Ge,cn)})}),Ge.type==="multicategory"){var Cr={x:2,y:10}[gr];sn.push(function(){var Gr={x:"height",y:"width"}[gr],tn=Or()[Gr]+Cr+(Ge._tickAngles[vr+"tick"]?Ge.tickfont.size*te:0);return Q.drawLabels(je,Ge,{vals:Qe(Ge,An),layer:Rr,cls:vr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:jr,labelFns:Q.makeLabelFns(Ge,cn+tn*vn[4])})}),sn.push(function(){return Ge._depth=vn[4]*(Or("tick2")[Ge.side]-cn),Lt(je,Ge,{vals:xa,layer:Rr,path:Q.makeTickPath(Ge,cn,vn[4],{len:Ge._depth}),transFn:jr})})}else Ge.title.hasOwnProperty("standoff")&&sn.push(function(){Ge._depth=vn[4]*(Or()[Ge.side]-cn)});var Kr=C.getComponentMethod("rangeslider","isVisible")(Ge);return!Ot.skipTitle&&!(Kr&&Ge.side==="bottom")&&sn.push(function(){return Tr(je,Ge)}),sn.push(function(){var Gr=Ge.side.charAt(0),tn=ne[Ge.side].charAt(0),Tn=Q.getPxPosition(je,Ge),On=Rn?Ge.ticklen:0,Mn,Un,Fn,va;(Ge.automargin||Kr||Ge._shiftPusher)&&(Ge.type==="multicategory"?Mn=Or("tick2"):(Mn=Or(),gr==="x"&&Gr==="b"&&(Ge._depth=Math.max(Mn.width>0?Mn.bottom-Tn:0,On))));var la=0,ma=0;if(Ge._shiftPusher&&(la=Math.max(On,Mn.height>0?Gr==="l"?Tn-Mn.left:Mn.right-Tn:0),Ge.title.text!==zt._dfltTitle[gr]&&(ma=(Ge._titleStandoff||0)+(Ge._titleScoot||0),Gr==="l"&&(ma+=Xt(Ge))),Ge._fullDepth=Math.max(la,ma)),Ge.automargin){Un={x:0,y:0,r:0,l:0,t:0,b:0};var Da=[0,1],bi=typeof Ge._shift=="number"?Ge._shift:0;if(gr==="x"){if(Gr==="b"?Un[Gr]=Ge._depth:(Un[Gr]=Ge._depth=Math.max(Mn.width>0?Tn-Mn.top:0,On),Da.reverse()),Mn.width>0){var si=Mn.right-(Ge._offset+Ge._length);si>0&&(Un.xr=1,Un.r=si);var es=Ge._offset-Mn.left;es>0&&(Un.xl=0,Un.l=es)}}else if(Gr==="l"?(Ge._depth=Math.max(Mn.height>0?Tn-Mn.left:0,On),Un[Gr]=Ge._depth-bi):(Ge._depth=Math.max(Mn.height>0?Mn.right-Tn:0,On),Un[Gr]=Ge._depth+bi,Da.reverse()),Mn.height>0){var Wo=Mn.bottom-(Ge._offset+Ge._length);Wo>0&&(Un.yb=0,Un.b=Wo);var po=Ge._offset-Mn.top;po>0&&(Un.yt=1,Un.t=po)}Un[Ar]=Ge.anchor==="free"?Ge.position:Ge._anchorAxis.domain[Da[0]],Ge.title.text!==zt._dfltTitle[gr]&&(Un[Gr]+=Xt(Ge)+(Ge.title.standoff||0)),Ge.mirror&&Ge.anchor!=="free"&&(Fn={x:0,y:0,r:0,l:0,t:0,b:0},Fn[tn]=Ge.linewidth,Ge.mirror&&Ge.mirror!==!0&&(Fn[tn]+=On),Ge.mirror===!0||Ge.mirror==="ticks"?Fn[Ar]=Ge._anchorAxis.domain[Da[1]]:(Ge.mirror==="all"||Ge.mirror==="allticks")&&(Fn[Ar]=[Ge._counterDomainMin,Ge._counterDomainMax][Da[1]]))}Kr&&(va=C.getComponentMethod("rangeslider","autoMarginOpts")(je,Ge)),typeof Ge.automargin=="string"&&(Te(Un,Ge.automargin),Te(Fn,Ge.automargin)),a.autoMargin(je,fr(Ge),Un),a.autoMargin(je,yt(Ge),Fn),a.autoMargin(je,ot(Ge),va)}),S.syncOrAsync(sn)}};function Te(je,Ge){if(je){var Ot=Object.keys(N).reduce(function(kt,$t){return Ge.indexOf($t)!==-1&&N[$t].forEach(function(ar){kt[ar]=1}),kt},{});Object.keys(je).forEach(function(kt){Ot[kt]||(kt.length===1?je[kt]=0:delete je[kt])})}}function Be(je,Ge){var Ot=[],kt,$t=function(ar,or){var rr=ar.xbnd[or];rr!==null&&Ot.push(S.extendFlat({},ar,{x:rr}))};if(Ge.length){for(kt=0;kt<Ge.length;kt++)$t(Ge[kt],0);$t(Ge[kt-1],1)}return Ot}function Qe(je,Ge){for(var Ot=[],kt={},$t=0;$t<Ge.length;$t++){var ar=Ge[$t];kt[ar.text2]?kt[ar.text2].push(ar.x):kt[ar.text2]=[ar.x]}for(var or in kt)Ot.push(xt(je,S.interp(kt[or],.5),or));return Ot}function at(je,Ge){var Ot=[],kt,$t,ar=Ge.length&&Ge[Ge.length-1].x<Ge[0].x,or=function(zt,vr){var gr=zt.xbnd[vr];gr!==null&&Ot.push(S.extendFlat({},zt,{x:gr}))};if(je.showdividers&&Ge.length){for(kt=0;kt<Ge.length;kt++){var rr=Ge[kt];rr.text2!==$t&&or(rr,ar?1:0),$t=rr.text2}or(Ge[kt-1],ar?0:1)}return Ot}function it(je,Ge,Ot){var kt,$t,ar,or;if(je._selections[Ge].size())kt=1/0,$t=-1/0,ar=1/0,or=-1/0,je._selections[Ge].each(function(){var zt=yr(this),vr=i.bBox(zt.node().parentNode);kt=Math.min(kt,vr.top),$t=Math.max($t,vr.bottom),ar=Math.min(ar,vr.left),or=Math.max(or,vr.right)});else{var rr=Q.makeLabelFns(je,Ot);kt=$t=rr.yFn({dx:0,dy:0,fontSize:0}),ar=or=rr.xFn({dx:0,dy:0,fontSize:0})}return{top:kt,bottom:$t,left:ar,right:or,height:$t-kt,width:or-ar}}Q.getTickSigns=function(je,Ge){var Ot=je._id.charAt(0),kt={x:"top",y:"right"}[Ot],$t=je.side===kt?1:-1,ar=[-1,1,$t,-$t],or=Ge?(je.minor||{}).ticks:je.ticks;return or!=="inside"==(Ot==="x")&&(ar=ar.map(function(rr){return-rr})),je.side&&ar.push({l:-1,t:-1,r:1,b:1}[je.side.charAt(0)]),ar},Q.makeTransTickFn=function(je){return je._id.charAt(0)==="x"?function(Ge){return v(je._offset+je.l2p(Ge.x),0)}:function(Ge){return v(0,je._offset+je.l2p(Ge.x))}},Q.makeTransTickLabelFn=function(je){var Ge=Yt(je),Ot=Ge[0],kt=Ge[1];return je._id.charAt(0)==="x"?function($t){return v(Ot+je._offset+je.l2p(Wt($t)),kt)}:function($t){return v(kt,Ot+je._offset+je.l2p(Wt($t)))}};function Wt(je){return je.periodX!==void 0?je.periodX:je.x}function Yt(je){var Ge=je.ticklabelposition||"",Ot=function(Hr){return Ge.indexOf(Hr)!==-1},kt=Ot("top"),$t=Ot("left"),ar=Ot("right"),or=Ot("bottom"),rr=Ot("inside"),zt=or||$t||kt||ar;if(!zt&&!rr)return[0,0];var vr=je.side,gr=zt?(je.tickwidth||0)/2:0,Ar=ce,cr=je.tickfont?je.tickfont.size:12;return(or||kt)&&(gr+=cr*q,Ar+=(je.linewidth||0)/2),($t||ar)&&(gr+=(je.linewidth||0)/2,Ar+=ce),rr&&vr==="top"&&(Ar-=cr*(1-q)),($t||kt)&&(gr=-gr),(vr==="bottom"||vr==="right")&&(Ar=-Ar),[zt?gr:0,rr?Ar:0]}Q.makeTickPath=function(je,Ge,Ot,kt){kt||(kt={});var $t=kt.minor;if($t&&!je.minor)return"";var ar=kt.len!==void 0?kt.len:$t?je.minor.ticklen:je.ticklen,or=je._id.charAt(0),rr=(je.linewidth||1)/2;return or==="x"?"M0,"+(Ge+rr*Ot)+"v"+ar*Ot:"M"+(Ge+rr*Ot)+",0h"+ar*Ot},Q.makeLabelFns=function(je,Ge,Ot){var kt=je.ticklabelposition||"",$t=function(Gn){return kt.indexOf(Gn)!==-1},ar=$t("top"),or=$t("left"),rr=$t("right"),zt=$t("bottom"),vr=zt||or||ar||rr,gr=$t("inside"),Ar=kt==="inside"&&je.ticks==="inside"||!gr&&je.ticks==="outside"&&je.tickson!=="boundaries",cr=0,Hr=0,Rr=Ar?je.ticklen:0;if(gr?Rr*=-1:vr&&(Rr=0),Ar&&(cr+=Rr,Ot)){var Ir=S.deg2rad(Ot);cr=Rr*Math.cos(Ir)+1,Hr=Rr*Math.sin(Ir)}je.showticklabels&&(Ar||je.showline)&&(cr+=.2*je.tickfont.size),cr+=(je.linewidth||1)/2*(gr?-1:1);var cn={labelStandoff:cr,labelShift:Hr},Zr,An,Sn,br,Or=0,jr=je.side,zr=je._id.charAt(0),pn=je.tickangle,hn;if(zr==="x")hn=!gr&&jr==="bottom"||gr&&jr==="top",br=hn?1:-1,gr&&(br*=-1),Zr=Hr*br,An=Ge+cr*br,Sn=hn?1:-.2,Math.abs(pn)===90&&(gr?Sn+=X:pn===-90&&jr==="bottom"?Sn=q:pn===90&&jr==="top"?Sn=X:Sn=.5,Or=X/2*(pn/90)),cn.xFn=function(Gn){return Gn.dx+Zr+Or*Gn.fontSize},cn.yFn=function(Gn){return Gn.dy+An+Gn.fontSize*Sn},cn.anchorFn=function(Gn,oa){if(vr){if(or)return"end";if(rr)return"start"}return!R(oa)||oa===0||oa===180?"middle":oa*br<0!==gr?"end":"start"},cn.heightFn=function(Gn,oa,xa){return oa<-60||oa>60?-.5*xa:je.side==="top"!==gr?-xa:0};else if(zr==="y"){if(hn=!gr&&jr==="left"||gr&&jr==="right",br=hn?1:-1,gr&&(br*=-1),Zr=cr,An=Hr*br,Sn=0,!gr&&Math.abs(pn)===90&&(pn===-90&&jr==="left"||pn===90&&jr==="right"?Sn=q:Sn=.5),gr){var Ln=R(pn)?+pn:0;if(Ln!==0){var Rn=S.deg2rad(Ln);Or=Math.abs(Math.sin(Rn))*q*br,Sn=0}}cn.xFn=function(Gn){return Gn.dx+Ge-(Zr+Gn.fontSize*Sn)*br+Or*Gn.fontSize},cn.yFn=function(Gn){return Gn.dy+An+Gn.fontSize*X},cn.anchorFn=function(Gn,oa){return R(oa)&&Math.abs(oa)===90?"middle":hn?"end":"start"},cn.heightFn=function(Gn,oa,xa){return je.side==="right"&&(oa*=-1),oa<-30?-xa:oa<30?-.5*xa:0}}return cn};function Tt(je){return[je.text,je.x,je.axInfo,je.font,je.fontSize,je.fontColor].join("_")}Q.drawTicks=function(je,Ge,Ot){Ot=Ot||{};var kt=Ge._id+"tick",$t=[].concat(Ge.minor&&Ge.minor.ticks?Ot.vals.filter(function(or){return or.minor&&!or.noTick}):[]).concat(Ge.ticks?Ot.vals.filter(function(or){return!or.minor&&!or.noTick}):[]),ar=Ot.layer.selectAll("path."+kt).data($t,Tt);ar.exit().remove(),ar.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",Ot.crisp!==!1).each(function(or){return t.stroke(g.select(this),or.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(or){return i.crispRound(je,or.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",Ot.path).style("display",null),hr(Ge,[F]),ar.attr("transform",Ot.transFn)},Q.drawGrid=function(je,Ge,Ot){if(Ot=Ot||{},Ge.tickmode!=="sync"){var kt=Ge._id+"grid",$t=Ge.minor&&Ge.minor.showgrid,ar=$t?Ot.vals.filter(function(Zr){return Zr.minor}):[],or=Ge.showgrid?Ot.vals.filter(function(Zr){return!Zr.minor}):[],rr=Ot.counterAxis;if(rr&&Q.shouldShowZeroLine(je,Ge,rr))for(var zt=Ge.tickmode==="array",vr=0;vr<or.length;vr++){var gr=or[vr].x;if(zt?!gr:Math.abs(gr)<Ge.dtick/100)if(or=or.slice(0,vr).concat(or.slice(vr+1)),zt)vr--;else break}Ge._gw=i.crispRound(je,Ge.gridwidth,1);for(var Ar=$t?i.crispRound(je,Ge.minor.gridwidth,1):0,cr=Ot.layer,Hr=Ot.minorLayer,Rr=1;Rr>=0;Rr--){var Ir=Rr?cr:Hr;if(Ir){var cn=Ir.selectAll("path."+kt).data(Rr?or:ar,Tt);cn.exit().remove(),cn.enter().append("path").classed(kt,1).classed("crisp",Ot.crisp!==!1),cn.attr("transform",Ot.transFn).attr("d",Ot.path).each(function(Zr){return t.stroke(g.select(this),Zr.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(Zr){return i.dashStyle(Zr.minor?Ge.minor.griddash:Ge.griddash,Zr.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(Zr){return(Zr.minor?Ar:Ge._gw)+"px"}).style("display",null),typeof Ot.path=="function"&&cn.attr("d",Ot.path)}}hr(Ge,[U,z])}},Q.drawZeroLine=function(je,Ge,Ot){Ot=Ot||Ot;var kt=Ge._id+"zl",$t=Q.shouldShowZeroLine(je,Ge,Ot.counterAxis),ar=Ot.layer.selectAll("path."+kt).data($t?[{x:0,id:Ge._id}]:[]);ar.exit().remove(),ar.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",Ot.crisp!==!1).each(function(){Ot.layer.selectAll("path").sort(function(or,rr){return Y(or.id,rr.id)})}),ar.attr("transform",Ot.transFn).attr("d",Ot.path).call(t.stroke,Ge.zerolinecolor||t.defaultLine).style("stroke-width",i.crispRound(je,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),hr(Ge,[_])},Q.drawLabels=function(je,Ge,Ot){Ot=Ot||{};var kt=je._fullLayout,$t=Ge._id,ar=Ot.cls||$t+"tick",or=Ot.vals.filter(function(mr){return mr.text}),rr=Ot.labelFns,zt=Ot.secondary?0:Ge.tickangle,vr=(Ge._prevTickAngles||{})[ar],gr=Ot.layer.selectAll("g."+ar).data(Ge.showticklabels?or:[],Tt),Ar=[];gr.enter().append("g").classed(ar,1).append("text").attr("text-anchor","middle").each(function(mr){var $r=g.select(this),Qr=je._promises.length;$r.call(d.positionText,rr.xFn(mr),rr.yFn(mr)).call(i.font,{family:mr.font,size:mr.fontSize,color:mr.fontColor,weight:mr.fontWeight,style:mr.fontStyle,variant:mr.fontVariant}).text(mr.text).call(d.convertToTspans,je),je._promises[Qr]?Ar.push(je._promises.pop().then(function(){cr($r,zt)})):cr($r,zt)}),hr(Ge,[B]),gr.exit().remove(),Ot.repositionOnUpdate&&gr.each(function(mr){g.select(this).select("text").call(d.positionText,rr.xFn(mr),rr.yFn(mr))});function cr(mr,$r){mr.each(function(Qr){var vn=g.select(this),zn=vn.select(".text-math-group"),bn=rr.anchorFn(Qr,$r),wn=Ot.transFn.call(vn.node(),Qr)+(R($r)&&+$r!=0?" rotate("+$r+","+rr.xFn(Qr)+","+(rr.yFn(Qr)-Qr.fontSize/2)+")":""),Bn=d.lineCount(vn),$n=te*Qr.fontSize,pa=rr.heightFn(Qr,R($r)?+$r:0,(Bn-1)*$n);if(pa&&(wn+=v(0,pa)),zn.empty()){var Oa=vn.select("text");Oa.attr({transform:wn,"text-anchor":bn}),Oa.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var Sr=i.bBox(zn.node()).width,Fr=Sr*{end:-.5,start:.5}[bn];zn.attr("transform",wn+v(Fr,0))}})}Ge._adjustTickLabelsOverflow=function(){var mr=Ge.ticklabeloverflow;if(!(!mr||mr==="allow")){var $r=mr.indexOf("hide")!==-1,Qr=Ge._id.charAt(0)==="x",vn=0,zn=Qr?je._fullLayout.width:je._fullLayout.height;if(mr.indexOf("domain")!==-1){var bn=S.simpleMap(Ge.range,Ge.r2l);vn=Ge.l2p(bn[0])+Ge._offset,zn=Ge.l2p(bn[1])+Ge._offset}var wn=Math.min(vn,zn),Bn=Math.max(vn,zn),$n=Ge.side,pa=1/0,Oa=-1/0;gr.each(function(Nr){var mn=g.select(this),Dn=mn.select(".text-math-group");if(Dn.empty()){var gn=i.bBox(mn.node()),sn=0;Qr?(gn.right>Bn||gn.left<wn)&&(sn=1):(gn.bottom>Bn||gn.top+(Ge.tickangle?0:Nr.fontSize/4)<wn)&&(sn=1);var Cr=mn.select("text");sn?$r&&Cr.style("opacity",0):(Cr.style("opacity",1),$n==="bottom"||$n==="right"?pa=Math.min(pa,Qr?gn.top:gn.left):pa=-1/0,$n==="top"||$n==="left"?Oa=Math.max(Oa,Qr?gn.bottom:gn.right):Oa=1/0)}});for(var Sr in kt._plots){var Fr=kt._plots[Sr];if(!(Ge._id!==Fr.xaxis._id&&Ge._id!==Fr.yaxis._id)){var Mr=Qr?Fr.yaxis:Fr.xaxis;Mr&&(Mr["_visibleLabelMin_"+Ge._id]=pa,Mr["_visibleLabelMax_"+Ge._id]=Oa)}}}},Ge._hideCounterAxisInsideTickLabels=function(mr){var $r=Ge._id.charAt(0)==="x",Qr=[];for(var vn in kt._plots){var zn=kt._plots[vn];Ge._id!==zn.xaxis._id&&Ge._id!==zn.yaxis._id||Qr.push($r?zn.yaxis:zn.xaxis)}Qr.forEach(function(bn,wn){bn&&Jt(bn)&&(mr||[_,z,U,F,B]).forEach(function(Bn){var $n=Bn.K==="tick"&&Bn.L==="text"&&Ge.ticklabelmode==="period",pa=kt._plots[Ge._mainSubplot],Oa;Bn.K===_.K?Oa=pa.zerolinelayer.selectAll("."+Ge._id+"zl"):Bn.K===z.K?Oa=pa.minorGridlayer.selectAll("."+Ge._id):Bn.K===U.K?Oa=pa.gridlayer.selectAll("."+Ge._id):Oa=pa[Ge._id.charAt(0)+"axislayer"],Oa.each(function(){var Sr=g.select(this);Bn.L&&(Sr=Sr.selectAll(Bn.L)),Sr.each(function(Fr){var Mr=Ge.l2p($n?Wt(Fr):Fr.x)+Ge._offset,Nr=g.select(this);Mr<Ge["_visibleLabelMax_"+bn._id]&&Mr>Ge["_visibleLabelMin_"+bn._id]?Nr.style("display","none"):Bn.K==="tick"&&!wn&&Nr.style("display",null)})})})})},cr(gr,vr+1?vr:zt);function Hr(){return Ar.length&&Promise.all(Ar)}var Rr=null;function Ir(){if(cr(gr,zt),or.length&&Ge.autotickangles&&(Ge.type!=="log"||String(Ge.dtick).charAt(0)!=="D")){Rr=Ge.autotickangles[0];var mr=0,$r=[],Qr,vn=1;gr.each(function(Mn){mr=Math.max(mr,Mn.fontSize);var Un=Ge.l2p(Mn.x),Fn=yr(this),va=i.bBox(Fn.node());vn=Math.max(vn,d.lineCount(Fn)),$r.push({top:0,bottom:10,height:10,left:Un-va.width/2,right:Un+va.width/2+2,width:va.width+2})});var zn=(Ge.tickson==="boundaries"||Ge.showdividers)&&!Ot.secondary,bn=or.length,wn=Math.abs((or[bn-1].x-or[0].x)*Ge._m)/(bn-1),Bn=zn?wn/2:wn,$n=zn?Ge.ticklen:mr*1.25*vn,pa=Math.sqrt(Math.pow(Bn,2)+Math.pow($n,2)),Oa=Bn/pa,Sr=Ge.autotickangles.map(function(Mn){return Mn*Math.PI/180}),Fr=Sr.find(function(Mn){return Math.abs(Math.cos(Mn))<=Oa});Fr===void 0&&(Fr=Sr.reduce(function(Mn,Un){return Math.abs(Math.cos(Mn))<Math.abs(Math.cos(Un))?Mn:Un},Sr[0]));var Mr=Fr*(180/Math.PI);if(zn){var Nr=2;for(Ge.ticks&&(Nr+=Ge.tickwidth/2),Qr=0;Qr<$r.length;Qr++){var mn=or[Qr].xbnd,Dn=$r[Qr];if(mn[0]!==null&&Dn.left-Ge.l2p(mn[0])<Nr||mn[1]!==null&&Ge.l2p(mn[1])-Dn.right<Nr){Rr=Mr;break}}}else{var gn=Ge.ticklabelposition||"",sn=function(Mn){return gn.indexOf(Mn)!==-1},Cr=sn("top"),Kr=sn("left"),Gr=sn("right"),tn=sn("bottom"),Tn=tn||Kr||Cr||Gr,On=Tn?(Ge.tickwidth||0)+2*ce:0;for(Qr=0;Qr<$r.length-1;Qr++)if(S.bBoxIntersect($r[Qr],$r[Qr+1],On)){Rr=Mr;break}}Rr&&cr(gr,Rr)}}Ge._selections&&(Ge._selections[ar]=gr);var cn=[Hr];Ge.automargin&&kt._redrawFromAutoMarginCount&&vr===90?(Rr=vr,cn.push(function(){cr(gr,vr)})):cn.push(Ir),Ge._tickAngles&&cn.push(function(){Ge._tickAngles[ar]=Rr===null?R(zt)?zt:0:Rr});var Zr=function(){var mr=0,$r=0;return gr.each(function(Qr,vn){var zn=yr(this),bn=zn.select(".text-math-group");if(bn.empty()){var wn;Ge._vals[vn]&&(wn=Ge._vals[vn].bb||i.bBox(zn.node()),Ge._vals[vn].bb=wn),mr=Math.max(mr,wn.width),$r=Math.max($r,wn.height)}}),{labelsMaxW:mr,labelsMaxH:$r}},An=Ge._anchorAxis;if(An&&(An.autorange||An.insiderange)&&Jt(Ge)&&!oe(kt,Ge._id)&&(kt._insideTickLabelsUpdaterange||(kt._insideTickLabelsUpdaterange={}),An.autorange&&(kt._insideTickLabelsUpdaterange[An._name+".autorange"]=An.autorange,cn.push(Zr)),An.insiderange)){var Sn=Zr(),br=Ge._id.charAt(0)==="y"?Sn.labelsMaxW:Sn.labelsMaxH;br+=2*ce,Ge.ticklabelposition==="inside"&&(br+=Ge.ticklen||0);var Or=Ge.side==="right"||Ge.side==="top"?1:-1,jr=Or===1?1:0,zr=Or===1?0:1,pn=[];pn[zr]=An.range[zr];var hn=An.range,Ln=An.r2p(hn[jr]),Rn=An.r2p(hn[zr]),Gn=kt._insideTickLabelsUpdaterange[An._name+".range"];if(Gn){var oa=An.r2p(Gn[jr]),xa=An.r2p(Gn[zr]),Ta=Or*(Ge._id.charAt(0)==="y"?1:-1);Ta*Ln<Ta*oa&&(Ln=oa,pn[jr]=hn[jr]=Gn[jr]),Ta*Rn>Ta*xa&&(Rn=xa,pn[zr]=hn[zr]=Gn[zr])}var da=Math.abs(Rn-Ln);da-br>0?(da-=br,br*=1+br/da):br=0,Ge._id.charAt(0)!=="y"&&(br=-br),pn[jr]=An.p2r(An.r2p(hn[jr])+Or*br),An.autorange==="min"||An.autorange==="max reversed"?(pn[0]=null,An._rangeInitial0=void 0,An._rangeInitial1=void 0):(An.autorange==="max"||An.autorange==="min reversed")&&(pn[1]=null,An._rangeInitial0=void 0,An._rangeInitial1=void 0),kt._insideTickLabelsUpdaterange[An._name+".range"]=pn}var Hn=S.syncOrAsync(cn);return Hn&&Hn.then&&je._promises.push(Hn),Hn};function Lt(je,Ge,Ot){var kt=Ge._id+"divider",$t=Ot.vals,ar=Ot.layer.selectAll("path."+kt).data($t,Tt);ar.exit().remove(),ar.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(t.stroke,Ge.dividercolor).style("stroke-width",i.crispRound(je,Ge.dividerwidth,1)+"px"),ar.attr("transform",Ot.transFn).attr("d",Ot.path)}Q.getPxPosition=function(je,Ge){var Ot=je._fullLayout._size,kt=Ge._id.charAt(0),$t=Ge.side,ar;if(Ge.anchor!=="free"?ar=Ge._anchorAxis:kt==="x"?ar={_offset:Ot.t+(1-(Ge.position||0))*Ot.h,_length:0}:kt==="y"&&(ar={_offset:Ot.l+(Ge.position||0)*Ot.w+Ge._shift,_length:0}),$t==="top"||$t==="left")return ar._offset;if($t==="bottom"||$t==="right")return ar._offset+ar._length};function Xt(je){var Ge=je.title.font.size,Ot=(je.title.text.match(d.BR_TAG_ALL)||[]).length;return je.title.hasOwnProperty("standoff")?Ge*(q+Ot*te):Ot?Ge*(Ot+1)*te:Ge}function Tr(je,Ge){var Ot=je._fullLayout,kt=Ge._id,$t=kt.charAt(0),ar=Ge.title.font.size,or,rr=(Ge.title.text.match(d.BR_TAG_ALL)||[]).length;if(Ge.title.hasOwnProperty("standoff"))Ge.side==="bottom"||Ge.side==="right"?or=Ge._depth+Ge.title.standoff+ar*q:(Ge.side==="top"||Ge.side==="left")&&(or=Ge._depth+Ge.title.standoff+ar*(X+rr*te));else{var zt=Jt(Ge);if(Ge.type==="multicategory")or=Ge._depth;else{var vr=1.5*ar;zt&&(vr=.5*ar,Ge.ticks==="outside"&&(vr+=Ge.ticklen)),or=10+vr+(Ge.linewidth?Ge.linewidth-1:0)}zt||($t==="x"?or+=Ge.side==="top"?ar*(Ge.showticklabels?1:0):ar*(Ge.showticklabels?1.5:.5):or+=Ge.side==="right"?ar*(Ge.showticklabels?1:.5):ar*(Ge.showticklabels?.5:0))}var gr=Q.getPxPosition(je,Ge),Ar,cr,Hr;$t==="x"?(cr=Ge._offset+Ge._length/2,Hr=Ge.side==="top"?gr-or:gr+or):(Hr=Ge._offset+Ge._length/2,cr=Ge.side==="right"?gr+or:gr-or,Ar={rotate:"-90",offset:0});var Rr;if(Ge.type!=="multicategory"){var Ir=Ge._selections[Ge._id+"tick"];if(Rr={selection:Ir,side:Ge.side},Ir&&Ir.node()&&Ir.node().parentNode){var cn=i.getTranslate(Ir.node().parentNode);Rr.offsetLeft=cn.x,Rr.offsetTop=cn.y}Ge.title.hasOwnProperty("standoff")&&(Rr.pad=0)}return Ge._titleStandoff=or,r.draw(je,kt+"title",{propContainer:Ge,propName:Ge._name+".title.text",placeholder:Ot._dfltTitle[$t],avoid:Rr,transform:Ar,attributes:{x:cr,y:Hr,"text-anchor":"middle"}})}Q.shouldShowZeroLine=function(je,Ge,Ot){var kt=S.simpleMap(Ge.range,Ge.r2l);return kt[0]*kt[1]<=0&&Ge.zeroline&&(Ge.type==="linear"||Ge.type==="-")&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===O)&&(gt(Ge,0)||!Kt(je,Ge,Ot,kt)||Qt(je,Ge))},Q.clipEnds=function(je,Ge){return Ge.filter(function(Ot){return gt(je,Ot.x)})};function gt(je,Ge){var Ot=je.l2p(Ge);return Ot>1&&Ot<je._length-1}function Kt(je,Ge,Ot,kt){var $t=Ot._mainAxis;if(!$t)return;var ar=je._fullLayout,or=Ge._id.charAt(0),rr=Q.counterLetter(Ge._id),zt=Ge._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(or==="x")?0:Ge._length);function vr(Rr){if(!Rr.showline||!Rr.linewidth)return!1;var Ir=Math.max((Rr.linewidth+Ge.zerolinewidth)/2,1);function cn(Sn){return typeof Sn=="number"&&Math.abs(Sn-zt)<Ir}if(cn(Rr._mainLinePosition)||cn(Rr._mainMirrorPosition))return!0;var Zr=Rr._linepositions||{};for(var An in Zr)if(cn(Zr[An][0])||cn(Zr[An][1]))return!0}var gr=ar._plots[Ot._mainSubplot];if(!(gr.mainplotinfo||gr).overlays.length)return vr(Ot);for(var Ar=Q.list(je,rr),cr=0;cr<Ar.length;cr++){var Hr=Ar[cr];if(Hr._mainAxis===$t&&vr(Hr))return!0}}function Qt(je,Ge){for(var Ot=je._fullData,kt=Ge._mainSubplot,$t=Ge._id.charAt(0),ar=0;ar<Ot.length;ar++){var or=Ot[ar];if(or.visible===!0&&or.xaxis+or.yaxis===kt&&(C.traceIs(or,"bar-like")&&or.orientation==={x:"h",y:"v"}[$t]||or.fill&&or.fill.charAt(or.fill.length-1)===$t))return!0}return!1}function yr(je){var Ge=g.select(je),Ot=Ge.select(".text-math-group");return Ot.empty()?Ge.select("text"):Ot}Q.allowAutoMargin=function(je){for(var Ge=Q.list(je,"",!0),Ot=0;Ot<Ge.length;Ot++){var kt=Ge[Ot];kt.automargin&&(a.allowAutoMargin(je,fr(kt)),kt.mirror&&a.allowAutoMargin(je,yt(kt))),C.getComponentMethod("rangeslider","isVisible")(kt)&&a.allowAutoMargin(je,ot(kt))}};function fr(je){return je._id+".automargin"}function yt(je){return fr(je)+".mirror"}function ot(je){return je._id+".rangeslider"}Q.swap=function(je,Ge){for(var Ot=bt(je,Ge),kt=0;kt<Ot.length;kt++)Dt(je,Ot[kt].x,Ot[kt].y)};function bt(je,Ge){var Ot=[],kt,$t;for(kt=0;kt<Ge.length;kt++){var ar=[],or=je._fullData[Ge[kt]].xaxis,rr=je._fullData[Ge[kt]].yaxis;if(!(!or||!rr)){for($t=0;$t<Ot.length;$t++)(Ot[$t].x.indexOf(or)!==-1||Ot[$t].y.indexOf(rr)!==-1)&&ar.push($t);if(!ar.length){Ot.push({x:[or],y:[rr]});continue}var zt=Ot[ar[0]],vr;if(ar.length>1)for($t=1;$t<ar.length;$t++)vr=Ot[ar[$t]],Et(zt.x,vr.x),Et(zt.y,vr.y);Et(zt.x,[or]),Et(zt.y,[rr])}}return Ot}function Et(je,Ge){for(var Ot=0;Ot<Ge.length;Ot++)je.indexOf(Ge[Ot])===-1&&je.push(Ge[Ot])}function Dt(je,Ge,Ot){var kt=[],$t=[],ar=je.layout,or,rr;for(or=0;or<Ge.length;or++)kt.push(Q.getFromId(je,Ge[or]));for(or=0;or<Ot.length;or++)$t.push(Q.getFromId(je,Ot[or]));var zt=Object.keys(n),vr=["anchor","domain","overlaying","position","side","tickangle","editType"],gr=["linear","log"];for(or=0;or<zt.length;or++){var Ar=zt[or],cr=kt[0][Ar],Hr=$t[0][Ar],Rr=!0,Ir=!1,cn=!1;if(!(Ar.charAt(0)==="_"||typeof cr=="function"||vr.indexOf(Ar)!==-1)){for(rr=1;rr<kt.length&&Rr;rr++){var Zr=kt[rr][Ar];Ar==="type"&&gr.indexOf(cr)!==-1&&gr.indexOf(Zr)!==-1&&cr!==Zr?Ir=!0:Zr!==cr&&(Rr=!1)}for(rr=1;rr<$t.length&&Rr;rr++){var An=$t[rr][Ar];Ar==="type"&&gr.indexOf(Hr)!==-1&&gr.indexOf(An)!==-1&&Hr!==An?cn=!0:$t[rr][Ar]!==Hr&&(Rr=!1)}Rr&&(Ir&&(ar[kt[0]._name].type="linear"),cn&&(ar[$t[0]._name].type="linear"),Ht(ar,Ar,kt,$t,je._fullLayout._dfltTitle))}}for(or=0;or<je._fullLayout.annotations.length;or++){var Sn=je._fullLayout.annotations[or];Ge.indexOf(Sn.xref)!==-1&&Ot.indexOf(Sn.yref)!==-1&&S.swapAttrs(ar.annotations[or],["?"])}}function Ht(je,Ge,Ot,kt,$t){var ar=S.nestedProperty,or=ar(je[Ot[0]._name],Ge).get(),rr=ar(je[kt[0]._name],Ge).get(),zt;for(Ge==="title"&&(or&&or.text===$t.x&&(or.text=$t.y),rr&&rr.text===$t.y&&(rr.text=$t.x)),zt=0;zt<Ot.length;zt++)ar(je,Ot[zt]._name+"."+Ge).set(rr);for(zt=0;zt<kt.length;zt++)ar(je,kt[zt]._name+"."+Ge).set(or)}function Bt(je){return je._id==="angularaxis"}function Nt(je,Ge){for(var Ot=Ge._rangebreaks.length,kt=0;kt<Ot;kt++){var $t=Ge._rangebreaks[kt];if(je>=$t.min&&je<$t.max)return $t.max}return je}function Jt(je){return(je.ticklabelposition||"").indexOf("inside")!==-1}function hr(je,Ge){Jt(je._anchorAxis||{})&&je._hideCounterAxisInsideTickLabels&&je._hideCounterAxisInsideTickLabels(Ge)}function Zt(je,Ge,Ot,kt){var $t=je.anchor!=="free"&&(je.overlaying===void 0||je.overlaying===!1)?je._id:je.overlaying,ar;kt?ar=je.side==="right"?Ge:-Ge:ar=Ge,$t in Ot||(Ot[$t]={}),je.side in Ot[$t]||(Ot[$t][je.side]=0),Ot[$t][je.side]+=ar}function dr(je,Ge){return je.autoshift?Ge[je.overlaying][je.side]:je.shift||0}},52976:function(H,G,e){var g=e(38248),R=e(3400),a=e(39032).BADNUM,C=R.isArrayOrTypedArray,S=R.isDateTime,v=R.cleanNumber,d=Math.round;H.exports=function(m,c,A){var h=m,o=A.noMultiCategory;if(C(h)&&!h.length)return"-";if(!o&&u(h))return"multicategory";if(o&&Array.isArray(h[0])){for(var p=[],b=0;b<h.length;b++)if(C(h[b]))for(var T=0;T<h[b].length;T++)p.push(h[b][T]);h=p}if(i(h,c))return"date";var P=A.autotypenumbers!=="strict";return f(h,P)?"category":t(h,P)?"linear":"-"};function r(l,m){return m?g(l):typeof l=="number"}function t(l,m){for(var c=l.length,A=0;A<c;A++)if(r(l[A],m))return!0;return!1}function i(l,m){for(var c=l.length,A=n(c),h=0,o=0,p={},b=0;b<c;b+=A){var T=d(b),P=l[T],x=String(P);p[x]||(p[x]=1,S(P,m)&&h++,g(P)&&o++)}return h>o*2}function n(l){return Math.max(1,(l-1)/1e3)}function f(l,m){for(var c=l.length,A=n(c),h=0,o=0,p={},b=0;b<c;b+=A){var T=d(b),P=l[T],x=String(P);if(!p[x]){p[x]=1;var L=typeof P;L==="boolean"?o++:(m?v(P)!==a:L==="number")?h++:L==="string"&&o++}}return o>h*2}function u(l){return C(l[0])&&C(l[1])}},28336:function(H,G,e){var g=e(38248),R=e(24040),a=e(3400),C=e(31780),S=e(51272),v=e(94724),d=e(26332),r=e(25404),t=e(95936),i=e(42568),n=e(22416),f=e(42136),u=e(96312),l=e(78344),m=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;H.exports=function(b,T,P,x,L){var M=x.letter,s=x.font||{},E=x.splomStash||{},w=P("visible",!x.visibleDflt),O=T._template||{},_=T.type||O.type||"-",U;if(_==="date"){var z=R.getComponentMethod("calendars","handleDefaults");z(b,T,"calendar",x.calendar),x.noTicklabelmode||(U=P("ticklabelmode"))}var F="";(!x.noTicklabelposition||_==="multicategory")&&(F=a.coerce(b,T,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:U==="period"?["outside","inside"]:M==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||P("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":_==="category"||_==="multicategory"?"allow":"hide past div"),l(T,L),u(b,T,P,x),n(b,T,P,x),_!=="category"&&!x.noHover&&P("hoverformat");var B=P("color"),N=B!==v.color.dflt?B:s.color,V=E.label||L._dfltTitle[M];if(i(b,T,P,_,x),!w)return T;P("title.text",V),a.coerceFont(P,"title.font",{family:s.family,weight:s.weight,style:s.style,variant:s.variant,size:a.bigFont(s.size),color:N}),d(b,T,P,_);var X=x.hasMinor;if(X&&(C.newContainer(T,"minor"),d(b,T,P,_,{isMinor:!0})),t(b,T,P,_,x),r(b,T,P,x),X){var q=x.isMinor;x.isMinor=!0,r(b,T,P,x),x.isMinor=q}f(b,T,P,{dfltColor:B,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:X,attributes:v}),X&&!T.minor.ticks&&!T.minor.showgrid&&delete T.minor,(T.showline||T.ticks)&&P("mirror");var te=_==="multicategory";if(!x.noTickson&&(_==="category"||te)&&(T.ticks||T.showgrid)){var ne;te&&(ne="boundaries");var ce=P("tickson",ne);ce==="boundaries"&&delete T.ticklabelposition}if(te){var Q=P("showdividers");Q&&(P("dividercolor"),P("dividerwidth"))}if(_==="date")if(S(b,T,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:A}),!T.rangebreaks.length)delete T.rangebreaks;else{for(var Z=0;Z<T.rangebreaks.length;Z++)if(T.rangebreaks[Z].pattern===m){T._hasDayOfWeekBreaks=!0;break}if(l(T,L),L._has("scattergl")||L._has("splom"))for(var re=0;re<x.data.length;re++){var Y=x.data[re];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,a.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return T};function A(p,b,T){function P(U,z){return a.coerce(p,b,v.rangebreaks,U,z)}var x=P("enabled");if(x){var L=P("bounds");if(L&&L.length>=2){var M="",s,E;if(L.length===2){for(s=0;s<2;s++)if(E=o(L[s]),E){M=m;break}}var w=P("pattern",M);if(w===m)for(s=0;s<2;s++)E=o(L[s]),E&&(b.bounds[s]=L[s]=E-1);if(w)for(s=0;s<2;s++)switch(E=L[s],w){case m:if(!g(E)){b.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){b.enabled=!1;return}b.bounds[s]=L[s]=E;break;case c:if(!g(E)){b.enabled=!1;return}if(E=+E,E<0||E>24){b.enabled=!1;return}b.bounds[s]=L[s]=E;break}if(T.autorange===!1){var O=T.range;if(O[0]<O[1]){if(L[0]<O[0]&&L[1]>O[1]){b.enabled=!1;return}}else if(L[0]>O[0]&&L[1]<O[1]){b.enabled=!1;return}}}else{var _=P("values");if(_&&_.length)P("dvalue");else{b.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(p){if(typeof p=="string")return h[p.substr(0,3).toLowerCase()]}},29736:function(H,G,e){var g=e(26880),R=g.FORMAT_LINK,a=g.DATE_FORMAT_LINK;function C(d,r){return{valType:"string",dflt:"",editType:"none",description:(r?S:v)("hover text",d)+["By default the values are formatted using "+(r?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}}function S(d,r){return["Sets the "+d+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+R+"."].join(" ")}function v(d,r){return S(d,r)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}H.exports={axisHoverFormat:C,descriptionOnlyNumbers:S,descriptionWithDates:v}},79811:function(H,G,e){var g=e(24040),R=e(33816);G.id2name=function(S){if(!(typeof S!="string"||!S.match(R.AX_ID_PATTERN))){var v=S.split(" ")[0].substr(1);return v==="1"&&(v=""),S.charAt(0)+"axis"+v}},G.name2id=function(S){if(S.match(R.AX_NAME_PATTERN)){var v=S.substr(5);return v==="1"&&(v=""),S.charAt(0)+v}},G.cleanId=function(S,v,d){var r=/( domain)$/.test(S);if(!(typeof S!="string"||!S.match(R.AX_ID_PATTERN))&&!(v&&S.charAt(0)!==v)&&!(r&&!d)){var t=S.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),S.charAt(0)+t+(r&&d?" domain":"")}},G.list=function(C,S,v){var d=C._fullLayout;if(!d)return[];var r=G.listIds(C,S),t=new Array(r.length),i;for(i=0;i<r.length;i++){var n=r[i];t[i]=d[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var f=d._subplots.gl3d||[];for(i=0;i<f.length;i++){var u=d[f[i]];S?t.push(u[S+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},G.listIds=function(C,S){var v=C._fullLayout;if(!v)return[];var d=v._subplots;return S?d[S+"axis"]:d.xaxis.concat(d.yaxis)},G.getFromId=function(C,S,v){var d=C._fullLayout;return S=S===void 0||typeof S!="string"?S:S.replace(" domain",""),v==="x"?S=S.replace(/y[0-9]*/,""):v==="y"&&(S=S.replace(/x[0-9]*/,"")),d[G.id2name(S)]},G.getFromTrace=function(C,S,v){var d=C._fullLayout,r=null;if(g.traceIs(S,"gl3d")){var t=S.scene;t.substr(0,5)==="scene"&&(r=d[t][v+"axis"])}else r=G.getFromId(C,S[v+"axis"]||v);return r},G.idSort=function(C,S){var v=C.charAt(0),d=S.charAt(0);return v!==d?v>d?1:-1:+(C.substr(1)||1)-+(S.substr(1)||1)},G.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function a(C,S){if(S&&S.length){for(var v=0;v<S.length;v++)if(S[v][C])return!0}return!1}G.isLinked=function(C,S){return a(S,C._axisMatchGroups)||a(S,C._axisConstraintGroups)}},22416:function(H,G,e){var g=e(38116).isTypedArraySpec;function R(a,C){var S=C.dataAttr||a._id.charAt(0),v={},d,r,t;if(C.axData)d=C.axData;else for(d=[],r=0;r<C.data.length;r++){var i=C.data[r];i[S+"axis"]===a._id&&d.push(i)}for(r=0;r<d.length;r++){var n=d[r][S];for(t=0;t<n.length;t++){var f=n[t];f!=null&&(v[f]=1)}}return Object.keys(v)}H.exports=function(C,S,v,d){if(S.type==="category"){var r=C.categoryarray,t=Array.isArray(r)&&r.length>0||g(r),i;t&&(i="array");var n=v("categoryorder",i),f;n==="array"&&(f=v("categoryarray")),!t&&n==="array"&&(n=S.categoryorder="trace"),n==="trace"?S._initialCategories=[]:n==="array"?S._initialCategories=f.slice():(f=R(S,d).sort(),n==="category ascending"?S._initialCategories=f:n==="category descending"&&(S._initialCategories=f.reverse()))}}},98728:function(H,G,e){var g=e(38248),R=e(3400),a=e(39032),C=a.ONEDAY,S=a.ONEWEEK;G.dtick=function(v,d){var r=d==="log",t=d==="date",i=d==="category",n=t?C:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:i?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var f=v.charAt(0),u=v.substr(1);return u=g(u)?Number(u):0,u<=0||!(t&&f==="M"&&u===Math.round(u)||r&&f==="L"||r&&f==="D"&&(u===1||u===2))?n:v},G.tick0=function(v,d,r,t){if(d==="date")return R.cleanDate(v,R.dateTick0(r,t%S===0?1:0));if(!(t==="D1"||t==="D2"))return g(v)?Number(v):0}},33816:function(H,G,e){var g=e(53756).counter;H.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(H,G,e){var g=e(3400),R=e(19280),a=e(79811).id2name,C=e(94724),S=e(21160),v=e(78344),d=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;G.handleDefaults=function(c,A,h){var o=h.axIds,p=h.axHasImage,b=A._axisConstraintGroups=[],T=A._axisMatchGroups=[],P,x,L,M,s,E,w,O;for(P=0;P<o.length;P++)M=a(o[P]),s=c[M],E=A[M],t(s,E,{axIds:o,layoutOut:A,hasImage:p[M]});function _(te,ne){for(P=0;P<te.length;P++){x=te[P];for(L in x)A[a(L)][ne]=x}}for(_(T,"_matchGroup"),P=0;P<b.length;P++){x=b[P];for(L in x)if(E=A[a(L)],E.fixedrange){for(var U in x){var z=a(U);(c[z]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),A[z].fixedrange=!0}break}}for(P=0;P<b.length;){x=b[P];for(L in x){E=A[a(L)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(x).length&&(b.splice(P,1),P--);break}P++}_(b,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,N=!1;function V(){O=E[w],w==="rangebreaks"&&(N=E._hasDayOfWeekBreaks)}for(P=0;P<T.length;P++){x=T[P];for(var X=0;X<F.length;X++){w=F[X],O=null;var q;for(L in x)if(M=a(L),s=c[M],E=A[M],w in E){if(!E.matches&&(q=E,w in s)){V();break}O===null&&w in s&&V()}if(w==="range"&&O&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(B=!0),w==="autorange"&&O===null&&B&&(O=!1),O===null&&w in q&&(O=q[w]),O!==null)for(L in x)E=A[a(L)],E[w]=w==="range"?O.slice():O,w==="rangebreaks"&&(E._hasDayOfWeekBreaks=N,v(E,A))}}};function t(c,A,h){var o=h.axIds,p=h.layoutOut,b=h.hasImage,T=p._axisConstraintGroups,P=p._axisMatchGroups,x=A._id,L=x.charAt(0),M=((p._splomAxes||{})[L]||{})[x]||{},s=A._id,E=s.charAt(0)==="x";A._matchGroup=null,A._constraintGroup=null;function w(Z,re){return g.coerce(c,A,C,Z,re)}w("constrain",b?"domain":"range"),g.coerce(c,A,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var O=A.type,_,U,z=[];for(_=0;_<o.length;_++)if(U=o[_],U!==s){var F=p[a(U)];F.type===O&&z.push(U)}var B=n(T,s);if(B){var N=[];for(_=0;_<z.length;_++)U=z[_],B[U]||N.push(U);z=N}var V=z.length,X,q;V&&(c.matches||M.matches)&&(X=g.coerce(c,A,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(M.matches)!==-1?M.matches:void 0}},"matches"));var te=b&&!E?A.anchor:void 0;if(V&&!X&&(c.scaleanchor||te)&&(q=g.coerce(c,A,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",te)),X){A._matchGroup=f(P,s,X,1);var ne=p[a(X)],ce=i(p,A)/i(p,ne);E!==(X.charAt(0)==="x")&&(ce=(E?"x":"y")+ce),f(T,s,X,ce)}else c.matches&&o.indexOf(c.matches)!==-1&&g.warn("ignored "+A._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(q){var Q=w("scaleratio");Q||(Q=A.scaleratio=1),f(T,s,q,Q)}else c.scaleanchor&&o.indexOf(c.scaleanchor)!==-1&&g.warn("ignored "+A._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function i(c,A){var h=A.domain;return h||(h=c[a(A.overlaying)].domain),h[1]-h[0]}function n(c,A){for(var h=0;h<c.length;h++)if(c[h][A])return c[h];return null}function f(c,A,h,o){var p,b,T,P,x,L=n(c,A);L===null?(L={},L[A]=1,x=c.length,c.push(L)):x=c.indexOf(L);var M=Object.keys(L);for(p=0;p<c.length;p++)if(T=c[p],p!==x&&T[h]){var s=T[h];for(b=0;b<M.length;b++)P=M[b],T[P]=u(s,u(o,L[P]));c.splice(x,1);return}if(o!==1)for(b=0;b<M.length;b++){var E=M[b];L[E]=u(o,L[E])}L[h]=1}function u(c,A){var h="",o="",p,b;typeof c=="string"&&(h=c.match(/^[xy]*/)[0],p=h.length,c=+c.substr(p)),typeof A=="string"&&(o=A.match(/^[xy]*/)[0],b=o.length,A=+A.substr(b));var T=c*A;return!p&&!b?T:!p||!b||h.charAt(0)===o.charAt(0)?h+o+c*A:p===b?T:(p>b?h.substr(b):o.substr(p))+T}function l(c,A){for(var h=A._size,o=h.h/h.w,p={},b=Object.keys(c),T=0;T<b.length;T++){var P=b[T],x=c[P];if(typeof x=="string"){var L=x.match(/^[xy]*/)[0],M=L.length;x=+x.substr(M);for(var s=L.charAt(0)==="y"?o:1/o,E=0;E<M;E++)x*=s}p[P]=x}return p}G.enforce=function(A){var h=A._fullLayout,o=h._axisConstraintGroups||[],p,b,T,P,x,L,M,s;for(p=0;p<o.length;p++){T=l(o[p],h);var E=Object.keys(T),w=1/0,O=0,_=1/0,U={},z={},F=!1;for(b=0;b<E.length;b++)P=E[b],z[P]=x=h[a(P)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),U[P]=L=Math.abs(x._m)/T[P],w=Math.min(w,L),(x.constrain==="domain"||!x._constraintShrinkable)&&(_=Math.min(_,L)),delete x._constraintShrinkable,O=Math.max(O,L),x.constrain==="domain"&&(F=!0);if(!(w>d*O&&!F)){for(b=0;b<E.length;b++)if(P=E[b],L=U[P],x=z[P],M=x.constrain,L!==_||M==="domain")if(s=L/_,M==="range")S(x,s);else{var B=x._inputDomain,N=(x.domain[1]-x.domain[0])/(B[1]-B[0]),V=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if(s/=N,s*V<1){x.domain=x._input.domain=B.slice(),S(x,s);continue}if(V<1&&(x.range=x._input.range=x._inputRange.slice(),s*=V),x.autorange){var X=x.r2l(x.range[0]),q=x.r2l(x.range[1]),te=(X+q)/2,ne=te,ce=te,Q=Math.abs(q-te),Z=te-Q*s*1.0001,re=te+Q*s*1.0001,Y=R.makePadFn(h,x,0),oe=R.makePadFn(h,x,1);m(x,s);var ue=Math.abs(x._m),K=R.concatExtremes(A,x),$=K.min,le=K.max,ae,he;for(he=0;he<$.length;he++)ae=$[he].val-Y($[he])/ue,ae>Z&&ae<ne&&(ne=ae);for(he=0;he<le.length;he++)ae=le[he].val+oe(le[he])/ue,ae<re&&ae>ce&&(ce=ae);var xe=(ce-ne)/(2*Q);s/=xe,ne=x.l2r(ne),ce=x.l2r(ce),x.range=x._input.range=X<q?[ne,ce]:[ce,ne]}m(x,s)}}}},G.getAxisGroup=function(A,h){for(var o=A._axisMatchGroups,p=0;p<o.length;p++){var b=o[p];if(b[h])return"g"+p}return h},G.clean=function(A,h){if(h._inputDomain){for(var o=!1,p=h._id,b=A._fullLayout._axisConstraintGroups,T=0;T<b.length;T++)if(b[T][p]){o=!0;break}(!o||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function m(c,A){var h=c._inputDomain,o=r[c.constraintoward],p=h[0]+(h[1]-h[0])*o;c.domain=c._input.domain=[p+(h[0]-p)/A,p+(h[1]-p)/A],c.setScale()}},51184:function(H,G,e){var g=e(33428),R=e(3400),a=R.numberFormat,C=e(49760),S=e(89184),v=e(24040),d=R.strTranslate,r=e(72736),t=e(76308),i=e(43616),n=e(93024),f=e(54460),u=e(93972),l=e(86476),m=e(72760),c=m.selectingOrDrawing,A=m.freeMode,h=e(84284).FROM_TL,o=e(73696),p=e(39172).redrawReglTraces,b=e(7316),T=e(79811).getFromId,P=e(22676).prepSelect,x=e(22676).clearOutline,L=e(22676).selectOnClick,M=e(21160),s=e(33816),E=s.MINDRAG,w=s.MINZOOM,O=!0;function _(ae,he,xe,Me,Ae,ke,we,Ee){var be=ae._fullLayout._zoomlayer,Le=we+Ee==="nsew",Ue=(we+Ee).length===1,Ve,Fe,He,st,vt,lt,et,ct,ht,mt,xt,Mt,tt,Oe,Ye,Ze,We,_e,Ie,Xe,De,de,Te;xe+=he.yaxis._shift;function Be(){if(Ve=he.xaxis,Fe=he.yaxis,ht=Ve._length,mt=Fe._length,et=Ve._offset,ct=Fe._offset,He={},He[Ve._id]=Ve,st={},st[Fe._id]=Fe,we&&Ee)for(var rr=he.overlays,zt=0;zt<rr.length;zt++){var vr=rr[zt].xaxis;He[vr._id]=vr;var gr=rr[zt].yaxis;st[gr._id]=gr}vt=le(He),lt=le(st),tt=F(vt,Ee),Oe=F(lt,we),Ye=!Oe&&!tt,Mt=K(ae,ae._fullLayout._axisMatchGroups,He,st),xt=K(ae,ae._fullLayout._axisConstraintGroups,He,st,Mt);var Ar=xt.isSubplotConstrained||Mt.isSubplotConstrained;Ze=Ee||Ar,We=we||Ar;var cr=ae._fullLayout;_e=cr._has("scattergl"),Ie=cr._has("splom"),Xe=cr._has("svg")}Be();var Qe=q(Oe+tt,ae._fullLayout.dragmode,Le),at=z(he,we+Ee+"drag",Qe,xe,Me,Ae,ke);if(Ye&&!Le)return at.onmousedown=null,at.style.pointerEvents="none",at;var it={element:at,gd:ae,plotinfo:he};it.prepFn=function(rr,zt,vr){var gr=it.dragmode,Ar=ae._fullLayout.dragmode;Ar!==gr&&(it.dragmode=Ar),Be(),de=ae._fullLayout._invScaleX,Te=ae._fullLayout._invScaleY,Ye||(Le?rr.shiftKey?Ar==="pan"?Ar="zoom":c(Ar)||(Ar="pan"):rr.ctrlKey&&(Ar="pan"):Ar="pan"),A(Ar)?it.minDrag=1:it.minDrag=void 0,c(Ar)?(it.xaxes=vt,it.yaxes=lt,P(rr,zt,vr,it,Ar)):(it.clickFn=Yt,c(gr)&&Wt(),Ye||(Ar==="zoom"?(it.moveFn=bt,it.doneFn=Dt,it.minDrag=1,ot(rr,zt,vr)):Ar==="pan"&&(it.moveFn=Zt,it.doneFn=Ot))),ae._fullLayout._redrag=function(){var cr=ae._dragdata;if(cr&&cr.element===at){var Hr=ae._fullLayout.dragmode;c(Hr)||(Be(),kt([0,0,ht,mt]),it.moveFn(cr.dx,cr.dy))}}};function Wt(){it.plotinfo.selection=!1,x(ae)}function Yt(rr,zt){var vr=it.gd;if(vr._fullLayout._activeShapeIndex>=0){vr._fullLayout._deactivateShape(vr);return}var gr=vr._fullLayout.clickmode;if(Z(vr),rr===2&&!Ue&&Ge(),Le)gr.indexOf("select")>-1&&L(zt,vr,vt,lt,he.id,it),gr.indexOf("event")>-1&&n.click(vr,zt,he.id);else if(rr===1&&Ue){var Ar=we?Fe:Ve,cr=we==="s"||Ee==="w"?0:1,Hr=Ar._name+".range["+cr+"]",Rr=B(Ar,cr),Ir="left",cn="middle";if(Ar.fixedrange)return;we?(cn=we==="n"?"top":"bottom",Ar.side==="right"&&(Ir="right")):Ee==="e"&&(Ir="right"),vr._context.showAxisRangeEntryBoxes&&g.select(at).call(r.makeEditable,{gd:vr,immediate:!0,background:vr._fullLayout.paper_bgcolor,text:String(Rr),fill:Ar.tickfont?Ar.tickfont.color:"#444",horizontalAlign:Ir,verticalAlign:cn}).on("edit",function(Zr){var An=Ar.d2r(Zr);An!==void 0&&v.call("_guiRelayout",vr,Hr,An)})}}l.init(it);var Tt,Lt,Xt,Tr,gt,Kt,Qt,yr,fr,yt;function ot(rr,zt,vr){var gr=at.getBoundingClientRect();Tt=zt-gr.left,Lt=vr-gr.top,ae._fullLayout._calcInverseTransform(ae);var Ar=R.apply3DTransform(ae._fullLayout._invTransform)(Tt,Lt);Tt=Ar[0],Lt=Ar[1],Xt={l:Tt,r:Tt,w:0,t:Lt,b:Lt,h:0},Tr=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:C(ae._fullLayout.plot_bgcolor).getLuminance(),gt="M0,0H"+ht+"V"+mt+"H0V0",Kt=!1,Qt="xy",yt=!1,yr=te(be,Tr,et,ct,gt),fr=ne(be,et,ct)}function bt(rr,zt){if(ae._transitioningWithDuration)return!1;var vr=Math.max(0,Math.min(ht,de*rr+Tt)),gr=Math.max(0,Math.min(mt,Te*zt+Lt)),Ar=Math.abs(vr-Tt),cr=Math.abs(gr-Lt);Xt.l=Math.min(Tt,vr),Xt.r=Math.max(Tt,vr),Xt.t=Math.min(Lt,gr),Xt.b=Math.max(Lt,gr);function Hr(){Qt="",Xt.r=Xt.l,Xt.t=Xt.b,fr.attr("d","M0,0Z")}if(xt.isSubplotConstrained)Ar>w||cr>w?(Qt="xy",Ar/ht>cr/mt?(cr=Ar*mt/ht,Lt>gr?Xt.t=Lt-cr:Xt.b=Lt+cr):(Ar=cr*ht/mt,Tt>vr?Xt.l=Tt-Ar:Xt.r=Tt+Ar),fr.attr("d",ue(Xt))):Hr();else if(Mt.isSubplotConstrained)if(Ar>w||cr>w){Qt="xy";var Rr=Math.min(Xt.l/ht,(mt-Xt.b)/mt),Ir=Math.max(Xt.r/ht,(mt-Xt.t)/mt);Xt.l=Rr*ht,Xt.r=Ir*ht,Xt.b=(1-Rr)*mt,Xt.t=(1-Ir)*mt,fr.attr("d",ue(Xt))}else Hr();else!Oe||cr<Math.min(Math.max(Ar*.6,E),w)?Ar<E||!tt?Hr():(Xt.t=0,Xt.b=mt,Qt="x",fr.attr("d",Y(Xt,Lt))):!tt||Ar<Math.min(cr*.6,w)?(Xt.l=0,Xt.r=ht,Qt="y",fr.attr("d",oe(Xt,Tt))):(Qt="xy",fr.attr("d",ue(Xt)));Xt.w=Xt.r-Xt.l,Xt.h=Xt.b-Xt.t,Qt&&(yt=!0),ae._dragged=yt,ce(yr,fr,Xt,gt,Kt,Tr),Et(),ae.emit("plotly_relayouting",De),Kt=!0}function Et(){De={},(Qt==="xy"||Qt==="x")&&(N(vt,Xt.l/ht,Xt.r/ht,De,xt.xaxes),dr("x",De)),(Qt==="xy"||Qt==="y")&&(N(lt,(mt-Xt.b)/mt,(mt-Xt.t)/mt,De,xt.yaxes),dr("y",De))}function Dt(){Et(),Z(ae),Ot(),re(ae)}var Ht=[0,0,ht,mt],Bt=null,Nt=s.REDRAWDELAY,Jt=he.mainplot?ae._fullLayout._plots[he.mainplot]:he;function hr(rr){if(!ae._context._scrollZoom.cartesian&&!ae._fullLayout._enablescrollzoom)return;if(Wt(),ae._transitioningWithDuration){rr.preventDefault(),rr.stopPropagation();return}Be(),clearTimeout(Bt);var zt=-rr.deltaY;if(isFinite(zt)||(zt=rr.wheelDelta/10),!isFinite(zt)){R.log("Did not find wheel motion attributes: ",rr);return}var vr=Math.exp(-Math.min(Math.max(zt,-20),20)/200),gr=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ar=(rr.clientX-gr.left)/gr.width,cr=(gr.bottom-rr.clientY)/gr.height,Hr;function Rr(Ir,cn,Zr){if(Ir.fixedrange)return;var An=R.simpleMap(Ir.range,Ir.r2l),Sn=An[0]+(An[1]-An[0])*cn;function br(Or){return Ir.l2r(Sn+(Or-Sn)*Zr)}Ir.range=An.map(br)}if(Ze){for(Ee||(Ar=.5),Hr=0;Hr<vt.length;Hr++)Rr(vt[Hr],Ar,vr);dr("x"),Ht[2]*=vr,Ht[0]+=Ht[2]*Ar*(1/vr-1)}if(We){for(we||(cr=.5),Hr=0;Hr<lt.length;Hr++)Rr(lt[Hr],cr,vr);dr("y"),Ht[3]*=vr,Ht[1]+=Ht[3]*(1-cr)*(1/vr-1)}kt(Ht),je(),ae.emit("plotly_relayouting",De),Bt=setTimeout(function(){ae._fullLayout&&(Ht=[0,0,ht,mt],Ot())},Nt),rr.preventDefault()}we.length*Ee.length!==1&&$(at,hr);function Zt(rr,zt){if(rr=rr*de,zt=zt*Te,ae._transitioningWithDuration)return;if(ae._fullLayout._replotting=!0,tt==="ew"||Oe==="ns"){var vr=tt?-rr:0,gr=Oe?-zt:0;if(Mt.isSubplotConstrained){if(tt&&Oe){var Ar=(rr/ht-zt/mt)/2;rr=Ar*ht,zt=-Ar*mt,vr=-rr,gr=-zt}Oe?vr=-gr*ht/mt:gr=-vr*mt/ht}tt&&(V(vt,rr),dr("x")),Oe&&(V(lt,zt),dr("y")),kt([vr,gr,ht,mt]),je(),ae.emit("plotly_relayouting",De);return}function cr(br,Or,jr){for(var zr=1-Or,pn,hn,Ln=0;Ln<br.length;Ln++){var Rn=br[Ln];if(!Rn.fixedrange){pn=Rn,hn=Rn._rl[zr]+(Rn._rl[Or]-Rn._rl[zr])/X(jr/Rn._length);var Gn=Rn.l2r(hn);Gn!==!1&&Gn!==void 0&&(Rn.range[Or]=Gn)}}return pn._length*(pn._rl[Or]-hn)/(pn._rl[Or]-pn._rl[zr])}var Hr=tt==="w"==(Oe==="n")?1:-1;if(tt&&Oe&&(xt.isSubplotConstrained||Mt.isSubplotConstrained)){var Rr=(rr/ht+Hr*zt/mt)/2;rr=Rr*ht,zt=Hr*Rr*mt}var Ir,cn;if(tt==="w"?rr=cr(vt,0,rr):tt==="e"?rr=cr(vt,1,-rr):tt||(rr=0),Oe==="n"?zt=cr(lt,1,zt):Oe==="s"?zt=cr(lt,0,-zt):Oe||(zt=0),Ir=tt==="w"?rr:0,cn=Oe==="n"?zt:0,xt.isSubplotConstrained&&!Mt.isSubplotConstrained||Mt.isSubplotConstrained&&tt&&Oe&&Hr>0){var Zr;if(Mt.isSubplotConstrained||!tt&&Oe.length===1){for(Zr=0;Zr<vt.length;Zr++)vt[Zr].range=vt[Zr]._r.slice(),M(vt[Zr],1-zt/mt);rr=zt*ht/mt,Ir=rr/2}if(Mt.isSubplotConstrained||!Oe&&tt.length===1){for(Zr=0;Zr<lt.length;Zr++)lt[Zr].range=lt[Zr]._r.slice(),M(lt[Zr],1-rr/ht);zt=rr*mt/ht,cn=zt/2}}(!Mt.isSubplotConstrained||!Oe)&&dr("x"),(!Mt.isSubplotConstrained||!tt)&&dr("y");var An=ht-rr,Sn=mt-zt;Mt.isSubplotConstrained&&!(tt&&Oe)&&(tt?(cn=Ir?0:rr*mt/ht,Sn=An*mt/ht):(Ir=cn?0:zt*ht/mt,An=Sn*ht/mt)),kt([Ir,cn,An,Sn]),je(),ae.emit("plotly_relayouting",De)}function dr(rr,zt){for(var vr=Mt.isSubplotConstrained?{x:lt,y:vt}[rr]:Mt[rr+"axes"],gr=Mt.isSubplotConstrained?{x:vt,y:lt}[rr]:[],Ar=0;Ar<vr.length;Ar++){var cr=vr[Ar],Hr=cr._id,Rr=Mt.xLinks[Hr]||Mt.yLinks[Hr],Ir=gr[0]||He[Rr]||st[Rr];Ir&&(zt?(zt[cr._name+".range[0]"]=zt[Ir._name+".range[0]"],zt[cr._name+".range[1]"]=zt[Ir._name+".range[1]"]):cr.range=Ir.range.slice())}}function je(){var rr=[],zt;function vr(Hr){for(zt=0;zt<Hr.length;zt++)Hr[zt].fixedrange||rr.push(Hr[zt]._id)}function gr(Hr,Rr){for(zt=0;zt<Hr.length;zt++){var Ir=Hr[zt],cn=Ir[Rr];!Ir.fixedrange&&cn.tickmode==="sync"&&rr.push(cn._id)}}for(Ze&&(vr(vt),vr(xt.xaxes),vr(Mt.xaxes),gr(he.overlays,"xaxis")),We&&(vr(lt),vr(xt.yaxes),vr(Mt.yaxes),gr(he.overlays,"yaxis")),De={},zt=0;zt<rr.length;zt++){var Ar=rr[zt],cr=T(ae,Ar);f.drawOne(ae,cr,{skipTitle:!0}),De[cr._name+".range[0]"]=cr.range[0],De[cr._name+".range[1]"]=cr.range[1]}f.redrawComponents(ae,rr)}function Ge(){if(!ae._transitioningWithDuration){var rr=ae._context.doubleClick,zt=[];tt&&(zt=zt.concat(vt)),Oe&&(zt=zt.concat(lt)),Mt.xaxes&&(zt=zt.concat(Mt.xaxes)),Mt.yaxes&&(zt=zt.concat(Mt.yaxes));var vr={},gr,Ar;if(rr==="reset+autosize")for(rr="autosize",Ar=0;Ar<zt.length;Ar++){gr=zt[Ar];var cr=gr._rangeInitial0,Hr=gr._rangeInitial1,Rr=cr!==void 0||Hr!==void 0;if(Rr&&(cr!==void 0&&cr!==gr.range[0]||Hr!==void 0&&Hr!==gr.range[1])||!Rr&&gr.autorange!==!0){rr="reset";break}}if(rr==="autosize")for(Ar=0;Ar<zt.length;Ar++)gr=zt[Ar],gr.fixedrange||(vr[gr._name+".autorange"]=!0);else if(rr==="reset"){for((tt||xt.isSubplotConstrained)&&(zt=zt.concat(xt.xaxes)),Oe&&!xt.isSubplotConstrained&&(zt=zt.concat(xt.yaxes)),xt.isSubplotConstrained&&(tt?Oe||(zt=zt.concat(lt)):zt=zt.concat(vt)),Ar=0;Ar<zt.length;Ar++)if(gr=zt[Ar],!gr.fixedrange){var Ir=gr._name,cn=gr._autorangeInitial;gr._rangeInitial0===void 0&&gr._rangeInitial1===void 0?vr[Ir+".autorange"]=!0:gr._rangeInitial0===void 0?(vr[Ir+".autorange"]=cn,vr[Ir+".range"]=[null,gr._rangeInitial1]):gr._rangeInitial1===void 0?(vr[Ir+".range"]=[gr._rangeInitial0,null],vr[Ir+".autorange"]=cn):vr[Ir+".range"]=[gr._rangeInitial0,gr._rangeInitial1]}}ae.emit("plotly_doubleclick",null),v.call("_guiRelayout",ae,vr)}}function Ot(){kt([0,0,ht,mt]),R.syncOrAsync([b.previousPromises,function(){ae._fullLayout._replotting=!1,v.call("_guiRelayout",ae,De)}],ae)}function kt(rr){var zt=ae._fullLayout,vr=zt._plots,gr=zt._subplots.cartesian,Ar,cr,Hr,Rr;if(Ie&&v.subplotsRegistry.splom.drag(ae),_e){for(Ar=0;Ar<gr.length;Ar++)if(cr=vr[gr[Ar]],Hr=cr.xaxis,Rr=cr.yaxis,cr._scene){var Ir=R.simpleMap(Hr.range,Hr.r2l),cn=R.simpleMap(Rr.range,Rr.r2l);Hr.limitRange&&Hr.limitRange(),Rr.limitRange&&Rr.limitRange(),Ir=Hr.range,cn=Rr.range,cr._scene.update({range:[Ir[0],cn[0],Ir[1],cn[1]]})}}if((Ie||_e)&&(o(ae),p(ae)),Xe){var Zr=rr[2]/Ve._length,An=rr[3]/Fe._length;for(Ar=0;Ar<gr.length;Ar++){cr=vr[gr[Ar]],Hr=cr.xaxis,Rr=cr.yaxis;var Sn=(Ze||Mt.isSubplotConstrained)&&!Hr.fixedrange&&He[Hr._id],br=(We||Mt.isSubplotConstrained)&&!Rr.fixedrange&&st[Rr._id],Or,jr,zr,pn;if(Sn?(Or=Zr,zr=Ee||Mt.isSubplotConstrained?rr[0]:or(Hr,Or)):Mt.xaHash[Hr._id]?(Or=Zr,zr=rr[0]*Hr._length/Ve._length):Mt.yaHash[Hr._id]?(Or=An,zr=Oe==="ns"?-rr[1]*Hr._length/Fe._length:or(Hr,Or,{n:"top",s:"bottom"}[Oe])):(Or=$t(Hr,Zr,An),zr=ar(Hr,Or)),Or>1&&(Hr.maxallowed!==void 0&&Ze===(Hr.range[0]<Hr.range[1]?"e":"w")||Hr.minallowed!==void 0&&Ze===(Hr.range[0]<Hr.range[1]?"w":"e"))&&(Or=1,zr=0),br?(jr=An,pn=we||Mt.isSubplotConstrained?rr[1]:or(Rr,jr)):Mt.yaHash[Rr._id]?(jr=An,pn=rr[1]*Rr._length/Fe._length):Mt.xaHash[Rr._id]?(jr=Zr,pn=tt==="ew"?-rr[0]*Rr._length/Ve._length:or(Rr,jr,{e:"right",w:"left"}[tt])):(jr=$t(Rr,Zr,An),pn=ar(Rr,jr)),jr>1&&(Rr.maxallowed!==void 0&&We===(Rr.range[0]<Rr.range[1]?"n":"s")||Rr.minallowed!==void 0&&We===(Rr.range[0]<Rr.range[1]?"s":"n"))&&(jr=1,pn=0),!(!Or&&!jr)){Or||(Or=1),jr||(jr=1);var hn=Hr._offset-zr/Or,Ln=Rr._offset-pn/jr;cr.clipRect.call(i.setTranslate,zr,pn).call(i.setScale,Or,jr),cr.plot.call(i.setTranslate,hn,Ln).call(i.setScale,1/Or,1/jr),(Or!==cr.xScaleFactor||jr!==cr.yScaleFactor)&&(i.setPointGroupScale(cr.zoomScalePts,Or,jr),i.setTextPointsScale(cr.zoomScaleTxt,Or,jr)),i.hideOutsideRangePoints(cr.clipOnAxisFalseTraces,cr),cr.xScaleFactor=Or,cr.yScaleFactor=jr}}}}function $t(rr,zt,vr){return rr.fixedrange?0:Ze&&xt.xaHash[rr._id]?zt:We&&(xt.isSubplotConstrained?xt.xaHash:xt.yaHash)[rr._id]?vr:0}function ar(rr,zt){return zt?(rr.range=rr._r.slice(),M(rr,zt),or(rr,zt)):0}function or(rr,zt,vr){return rr._length*(1-zt)*h[vr||rr.constraintoward||"middle"]}return at}function U(ae,he,xe,Me){var Ae=R.ensureSingle(ae.draglayer,he,xe,function(ke){ke.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return Ae.call(u,Me),Ae.node()}function z(ae,he,xe,Me,Ae,ke,we){var Ee=U(ae,"rect",he,xe);return g.select(Ee).call(i.setRect,Me,Ae,ke,we),Ee}function F(ae,he){for(var xe=0;xe<ae.length;xe++)if(!ae[xe].fixedrange)return he;return""}function B(ae,he){var xe=ae.range[he],Me=Math.abs(xe-ae.range[1-he]),Ae;return ae.type==="date"?xe:ae.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(Me)/Math.LN10))+3,a("."+Ae+"g")(Math.pow(10,xe))):(Ae=Math.floor(Math.log(Math.abs(xe))/Math.LN10)-Math.floor(Math.log(Me)/Math.LN10)+4,a("."+String(Ae)+"g")(xe))}function N(ae,he,xe,Me,Ae){for(var ke=0;ke<ae.length;ke++){var we=ae[ke];if(!we.fixedrange)if(we.rangebreaks){var Ee=we._id.charAt(0)==="y",be=Ee?1-he:he,Le=Ee?1-xe:xe;Me[we._name+".range[0]"]=we.l2r(we.p2l(be*we._length)),Me[we._name+".range[1]"]=we.l2r(we.p2l(Le*we._length))}else{var Ue=we._rl[0],Ve=we._rl[1]-Ue;Me[we._name+".range[0]"]=we.l2r(Ue+Ve*he),Me[we._name+".range[1]"]=we.l2r(Ue+Ve*xe)}}if(Ae&&Ae.length){var Fe=(he+(1-xe))/2;N(Ae,Fe,1-Fe,Me,[])}}function V(ae,he){for(var xe=0;xe<ae.length;xe++){var Me=ae[xe];if(!Me.fixedrange){if(Me.rangebreaks){var Ae=0,ke=Me._length,we=Me.p2l(Ae+he)-Me.p2l(Ae),Ee=Me.p2l(ke+he)-Me.p2l(ke),be=(we+Ee)/2;Me.range=[Me.l2r(Me._rl[0]-be),Me.l2r(Me._rl[1]-be)]}else Me.range=[Me.l2r(Me._rl[0]-he/Me._m),Me.l2r(Me._rl[1]-he/Me._m)];Me.limitRange&&Me.limitRange()}}}function X(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function q(ae,he,xe){return ae?ae==="nsew"?xe?"":he==="pan"?"move":"crosshair":ae.toLowerCase()+"-resize":"pointer"}function te(ae,he,xe,Me,Ae){return ae.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(xe,Me)).attr("d",Ae+"Z")}function ne(ae,he,xe){return ae.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(he,xe)).attr("d","M0,0Z")}function ce(ae,he,xe,Me,Ae,ke){ae.attr("d",Me+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),Q(ae,he,Ae,ke)}function Q(ae,he,xe,Me){xe||(ae.transition().style("fill",Me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function Z(ae){g.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function re(ae){O&&ae.data&&ae._context.showTips&&(R.notifier(R._(ae,"Double-click to zoom back out"),"long"),O=!1)}function Y(ae,he){return"M"+(ae.l-.5)+","+(he-w-.5)+"h-3v"+(2*w+1)+"h3ZM"+(ae.r+.5)+","+(he-w-.5)+"h3v"+(2*w+1)+"h-3Z"}function oe(ae,he){return"M"+(he-w-.5)+","+(ae.t-.5)+"v-3h"+(2*w+1)+"v3ZM"+(he-w-.5)+","+(ae.b+.5)+"v3h"+(2*w+1)+"v-3Z"}function ue(ae){var he=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,w)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function K(ae,he,xe,Me,Ae){for(var ke=!1,we={},Ee={},be,Le,Ue,Ve,Fe=(Ae||{}).xaHash,He=(Ae||{}).yaHash,st=0;st<he.length;st++){var vt=he[st];for(be in xe)if(vt[be]){for(Ue in vt)!(Ae&&(Fe[Ue]||He[Ue]))&&!(Ue.charAt(0)==="x"?xe:Me)[Ue]&&(we[Ue]=be);for(Le in Me)!(Ae&&(Fe[Le]||He[Le]))&&vt[Le]&&(ke=!0)}for(Le in Me)if(vt[Le])for(Ve in vt)!(Ae&&(Fe[Ve]||He[Ve]))&&!(Ve.charAt(0)==="x"?xe:Me)[Ve]&&(Ee[Ve]=Le)}ke&&(R.extendFlat(we,Ee),Ee={});var lt={},et=[];for(Ue in we){var ct=T(ae,Ue);et.push(ct),lt[ct._id]=ct}var ht={},mt=[];for(Ve in Ee){var xt=T(ae,Ve);mt.push(xt),ht[xt._id]=xt}return{xaHash:lt,yaHash:ht,xaxes:et,yaxes:mt,xLinks:we,yLinks:Ee,isSubplotConstrained:ke}}function $(ae,he){if(!S)ae.onwheel!==void 0?ae.onwheel=he:ae.onmousewheel!==void 0?ae.onmousewheel=he:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",he,{passive:!1}));else{var xe=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(xe,ae._onwheel),ae._onwheel=he,ae.addEventListener(xe,he,{passive:!1})}}function le(ae){var he=[];for(var xe in ae)he.push(ae[xe]);return he}H.exports={makeDragBox:_,makeDragger:U,makeRectDragger:z,makeZoombox:te,makeCorners:ne,updateZoombox:ce,xyCorners:ue,transitionZoombox:Q,removeZoombox:Z,showDoubleClickNotifier:re,attachWheelEventHandler:$}},42464:function(H,G,e){var g=e(33428),R=e(93024),a=e(86476),C=e(93972),S=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;G.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){g.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var i=Object.keys(t._plots||{}).sort(function(f,u){if((t._plots[f].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=f.split("y"),m=u.split("y");return l[0]===m[0]?Number(l[1]||1)-Number(m[1]||1):Number(l[0]||1)-Number(m[0]||1)}return t._plots[f].mainplot?1:-1});i.forEach(function(f){var u=t._plots[f],l=u.xaxis,m=u.yaxis;if(!u.mainplot){var c=S(r,u,l._offset,m._offset,l._length,m._length,"ns","ew");c.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&R.hover(r,o,f)},R.hover(r,o,f),r._fullLayout._lasthover=c,r._fullLayout._hoversubplot=f},c.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,a.unhover(r,o))},r._context.showAxisDragHandles&&(S(r,u,l._offset-v,m._offset-v,v,v,"n","w"),S(r,u,l._offset+l._length,m._offset-v,v,v,"n","e"),S(r,u,l._offset-v,m._offset+m._length,v,v,"s","w"),S(r,u,l._offset+l._length,m._offset+m._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===l._mainSubplot){var A=l._mainLinePosition;l.side==="top"&&(A-=v),S(r,u,l._offset+l._length*.1,A,l._length*.8,v,"","ew"),S(r,u,l._offset,A,l._length*.1,v,"","w"),S(r,u,l._offset+l._length*.9,A,l._length*.1,v,"","e")}if(f===m._mainSubplot){var h=m._mainLinePosition;m.side!=="right"&&(h-=v),S(r,u,h,m._offset+m._length*.1,v,m._length*.8,"ns",""),S(r,u,h,m._offset+m._length*.9,v,m._length*.1,"s",""),S(r,u,h,m._offset,v,m._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(f){f.target=r._fullLayout._lasthover,R.hover(r,f,t._hoversubplot)},n.onclick=function(f){f.target=r._fullLayout._lasthover,R.click(r,f)},n.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},G.updateFx(r)}},G.updateFx=function(d){var r=d._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";C(r._draggers,t)}},36632:function(H,G,e){var g=e(24040),R=e(3400),a=e(79811);H.exports=function(S){return function(d,r){var t=d[S];if(Array.isArray(t))for(var i=g.subplotsRegistry.cartesian,n=i.idRegex,f=r._subplots,u=f.xaxis,l=f.yaxis,m=f.cartesian,c=r._has("cartesian")||r._has("gl2d"),A=0;A<t.length;A++){var h=t[A];if(R.isPlainObject(h)){var o=a.cleanId(h.xref,"x",!1),p=a.cleanId(h.yref,"y",!1),b=n.x.test(o),T=n.y.test(p);if(b||T){c||R.pushUnique(r._basePlotModules,i);var P=!1;b&&u.indexOf(o)===-1&&(u.push(o),P=!0),T&&l.indexOf(p)===-1&&(l.push(p),P=!0),P&&b&&T&&m.push(o+p)}}}}}},57952:function(H,G,e){var g=e(33428),R=e(24040),a=e(3400),C=e(7316),S=e(43616),v=e(84888)._M,d=e(79811),r=e(33816),t=e(9616),i=a.ensureSingle;function n(A,h,o){return a.ensureSingle(A,h,o,function(p){p.datum(o)})}G.name="cartesian",G.attr=["xaxis","yaxis"],G.idRoot=["x","y"],G.idRegex=r.idRegex,G.attrRegex=r.attrRegex,G.attributes=e(26720),G.layoutAttributes=e(94724),G.supplyLayoutDefaults=e(67352),G.transitionAxes=e(73736),G.finalizeSubplots=function(A,h){var o=h._subplots,p=o.xaxis,b=o.yaxis,T=o.cartesian,P=T.concat(o.gl2d||[]),x={},L={},M,s,E;for(M=0;M<P.length;M++){var w=P[M].split("y");x[w[0]]=1,L["y"+w[1]]=1}for(M=0;M<p.length;M++)s=p[M],x[s]||(E=(A[d.id2name(s)]||{}).anchor,r.idRegex.y.test(E)||(E="y"),T.push(s+E),P.push(s+E),L[E]||(L[E]=1,a.pushUnique(b,E)));for(M=0;M<b.length;M++)E=b[M],L[E]||(s=(A[d.id2name(E)]||{}).anchor,r.idRegex.x.test(s)||(s="x"),T.push(s+E),P.push(s+E),x[s]||(x[s]=1,a.pushUnique(p,s)));if(!P.length){s="",E="";for(var O in A)if(r.attrRegex.test(O)){var _=O.charAt(0);_==="x"?(!s||+O.substr(5)<+s.substr(5))&&(s=O):(!E||+O.substr(5)<+E.substr(5))&&(E=O)}s=s?d.name2id(s):"x",E=E?d.name2id(E):"y",p.push(s),b.push(E),T.push(s+E)}},G.plot=function(A,h,o,p){var b=A._fullLayout,T=b._subplots.cartesian,P=A.calcdata,x;if(!Array.isArray(h))for(h=[],x=0;x<P.length;x++)h.push(x);for(x=0;x<T.length;x++){for(var L=T[x],M=b._plots[L],s=[],E,w=0;w<P.length;w++){var O=P[w],_=O[0].trace;_.xaxis+_.yaxis===L&&((h.indexOf(_.index)!==-1||_.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===L&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&s.indexOf(E)===-1&&s.push(E),s.push(O)),E=O)}f(A,M,s,o,p)}};function f(A,h,o,p,b){for(var T=r.traceLayerClasses,P=A._fullLayout,x=P._modules,L,M,s,E={},w=0;w<o.length;w++){var O=o[w][0].trace,_=O.zorder||0;E[_]||(E[_]=[]),E[_].push(o[w])}for(var U=[],z=[],F=Object.keys(E).map(Number).sort(a.sorterAsc),B=0;B<F.length;B++)for(var N=F[B],V=0;V<x.length;V++){L=x[V];var X=L.name,q=R.modules[X].categories;if(q.svg){var te=L.layerName||X+"layer",ne=te+(B?Number(B)+1:""),ce=L.plot;M=v(o,ce,N),s=M[0],o=M[1],s.length&&U.push({i:T.indexOf(te),zorder:B,className:ne,plotMethod:ce,cdModule:s}),q.zoomScale&&z.push("."+ne)}}U.sort(function(re,Y){return(re.zorder||0)-(Y.zorder||0)||re.i-Y.i});var Q=h.plot.selectAll("g.mlayer").data(U,function(re){return re.className});if(Q.enter().append("g").attr("class",function(re){return re.className}).classed("mlayer",!0).classed("rangeplot",h.isRangePlot),Q.exit().remove(),Q.order(),Q.each(function(re){var Y=g.select(this),oe=re.className;re.plotMethod(A,h,re.cdModule,Y,p,b),r.clipOnAxisFalseQuery.indexOf("."+oe)===-1&&S.setClipUrl(Y,h.layerClipId,A)}),P._has("scattergl")&&(L=R.getModule("scattergl"),s=v(o,L)[0],L.plot(A,h,s)),!A._context.staticPlot&&(h._hasClipOnAxisFalse&&(h.clipOnAxisFalseTraces=h.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),z.length)){var Z=h.plot.selectAll(z.join(",")).selectAll(".trace");h.zoomScalePts=Z.selectAll("path.point"),h.zoomScaleTxt=Z.selectAll(".textpoint")}}G.clean=function(A,h,o,p){var b=p._plots||{},T=h._plots||{},P=p._subplots||{},x,L,M;if(p._hasOnlyLargeSploms&&!h._hasOnlyLargeSploms)for(M in b)x=b[M],x.plotgroup&&x.plotgroup.remove();var s=p._has&&p._has("gl"),E=h._has&&h._has("gl");if(s&&!E)for(M in b)x=b[M],x._scene&&x._scene.destroy();if(P.xaxis&&P.yaxis){var w=d.listIds({_fullLayout:p});for(L=0;L<w.length;L++){var O=w[L];h[d.id2name(O)]||p._infolayer.selectAll(".g-"+O+"title").remove()}}var _=p._has&&p._has("cartesian"),U=h._has&&h._has("cartesian");if(_&&!U)m(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(P.cartesian)for(L=0;L<P.cartesian.length;L++){var z=P.cartesian[L];if(!T[z]){var F="."+z+",."+z+"-x,."+z+"-y";p._cartesianlayer.selectAll(F).remove(),c(z,p)}}},G.drawFramework=function(A){var h=A._fullLayout,o=u(A),p=h._cartesianlayer.selectAll(".subplot").data(o,String);p.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),p.order(),p.exit().call(m,h),p.each(function(b){var T=b[0],P=h._plots[T];P.plotgroup=g.select(this),l(A,P),P.draglayer=i(h._draggers,"g",T)})},G.rangePlot=function(A,h,o){l(A,h),f(A,h,o),C.style(A)};function u(A){var h=A._fullLayout,o=h._subplots.cartesian,p=o.length,b,T,P,x,L,M,s=[],E=[];for(b=0;b<p;b++){P=o[b],x=h._plots[P],L=x.xaxis,M=x.yaxis;var w=L._mainAxis,O=M._mainAxis,_=w._id+O._id,U=h._plots[_];x.overlays=[],_!==P&&U?(x.mainplot=_,x.mainplotinfo=U,E.push(P)):(x.mainplot=void 0,x.mainplotinfo=void 0,s.push(P))}for(b=0;b<E.length;b++)P=E[b],x=h._plots[P],x.mainplotinfo.overlays.push(x);var z=s.concat(E),F=new Array(p);for(b=0;b<p;b++){P=z[b],x=h._plots[P],L=x.xaxis,M=x.yaxis;var B=[P,L.layer,M.layer,L.overlaying||"",M.overlaying||""];for(T=0;T<x.overlays.length;T++)B.push(x.overlays[T].id);F[b]=B}return F}function l(A,h){var o=h.plotgroup,p=h.id,b=r.layerValue2layerClass[h.xaxis.layer],T=r.layerValue2layerClass[h.yaxis.layer],P=A._fullLayout._hasOnlyLargeSploms;if(h.mainplot){var M=h.mainplotinfo,s=M.plotgroup,E=p+"-x",w=p+"-y";h.minorGridlayer=M.minorGridlayer,h.gridlayer=M.gridlayer,h.zerolinelayer=M.zerolinelayer,i(M.overlinesBelow,"path",E),i(M.overlinesBelow,"path",w),i(M.overaxesBelow,"g",E),i(M.overaxesBelow,"g",w),h.plot=i(M.overplot,"g",p),i(M.overlinesAbove,"path",E),i(M.overlinesAbove,"path",w),i(M.overaxesAbove,"g",E),i(M.overaxesAbove,"g",w),h.xlines=s.select(".overlines-"+b).select("."+E),h.ylines=s.select(".overlines-"+T).select("."+w),h.xaxislayer=s.select(".overaxes-"+b).select("."+E),h.yaxislayer=s.select(".overaxes-"+T).select("."+w)}else if(P)h.xlines=i(o,"path","xlines-above"),h.ylines=i(o,"path","ylines-above"),h.xaxislayer=i(o,"g","xaxislayer-above"),h.yaxislayer=i(o,"g","yaxislayer-above");else{var x=i(o,"g","layer-subplot");h.shapelayer=i(x,"g","shapelayer"),h.imagelayer=i(x,"g","imagelayer"),h.minorGridlayer=i(o,"g","minor-gridlayer"),h.gridlayer=i(o,"g","gridlayer"),h.zerolinelayer=i(o,"g","zerolinelayer");var L=i(o,"g","layer-between");h.shapelayerBetween=i(L,"g","shapelayer"),h.imagelayerBetween=i(L,"g","imagelayer"),i(o,"path","xlines-below"),i(o,"path","ylines-below"),h.overlinesBelow=i(o,"g","overlines-below"),i(o,"g","xaxislayer-below"),i(o,"g","yaxislayer-below"),h.overaxesBelow=i(o,"g","overaxes-below"),h.plot=i(o,"g","plot"),h.overplot=i(o,"g","overplot"),h.xlines=i(o,"path","xlines-above"),h.ylines=i(o,"path","ylines-above"),h.overlinesAbove=i(o,"g","overlines-above"),i(o,"g","xaxislayer-above"),i(o,"g","yaxislayer-above"),h.overaxesAbove=i(o,"g","overaxes-above"),h.xlines=o.select(".xlines-"+b),h.ylines=o.select(".ylines-"+T),h.xaxislayer=o.select(".xaxislayer-"+b),h.yaxislayer=o.select(".yaxislayer-"+T)}P||(n(h.minorGridlayer,"g",h.xaxis._id),n(h.minorGridlayer,"g",h.yaxis._id),h.minorGridlayer.selectAll("g").map(function(O){return O[0]}).sort(d.idSort),n(h.gridlayer,"g",h.xaxis._id),n(h.gridlayer,"g",h.yaxis._id),h.gridlayer.selectAll("g").map(function(O){return O[0]}).sort(d.idSort)),h.xlines.style("fill","none").classed("crisp",!0),h.ylines.style("fill","none").classed("crisp",!0)}function m(A,h){if(A){var o={};A.each(function(L){var M=L[0],s=g.select(this);s.remove(),c(M,h),o[M]=!0});for(var p in h._plots)for(var b=h._plots[p],T=b.overlays||[],P=0;P<T.length;P++){var x=T[P];o[x.id]&&x.plot.selectAll(".trace").remove()}}}function c(A,h){h._draggers.selectAll("g."+A).remove(),h._defs.select("#clip"+h._uid+A+"plot").remove()}G.toSVG=function(A){var h=A._fullLayout._glimages,o=g.select(A).selectAll(".svg-container"),p=o.filter(function(T,P){return P===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function b(){var T=this,P=T.toDataURL("image/png"),x=h.append("svg:image");x.attr({xmlns:t.svg,"xlink:href":P,preserveAspectRatio:"none",x:0,y:0,width:T.style.width,height:T.style.height})}p.each(b)},G.updateFx=e(42464).updateFx},94724:function(H,G,e){var g=e(25376),R=e(22548),a=e(98192).u,C=e(92880).extendFlat,S=e(31780).templatedArray,v=e(29736).descriptionWithDates,d=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,i=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=C({},n,{values:n.values.slice().concat(["sync"])});function u(L){return{valType:"integer",min:0,dflt:L?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},A={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=5),M}function o(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=1),M}var p={valType:"color",dflt:R.defaultLine,editType:"ticks"},b={valType:"color",dflt:R.lightLine,editType:"ticks"};function T(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=1),M}var P=C({},a,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};H.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:R.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:S("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[i,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:f,nticks:u(),tick0:l,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:A,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:o(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:S("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:R.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:b,gridwidth:T(),griddash:P,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:R.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:R.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:l,dtick:m,tickvals:c,ticks:A,ticklen:h("minor"),tickwidth:o("minor"),tickcolor:p,gridcolor:b,gridwidth:T("minor"),griddash:P,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},67352:function(H,G,e){var g=e(3400),R=e(76308),a=e(10624).isUnifiedHover,C=e(41008),S=e(31780),v=e(64859),d=e(94724),r=e(14944),t=e(28336),i=e(71888),n=e(37668),f=e(79811),u=f.id2name,l=f.name2id,m=e(33816).AX_ID_PATTERN,c=e(24040),A=c.traceIs,h=c.getComponentMethod;function o(p,b,T){Array.isArray(p[b])?p[b].push(T):p[b]=[T]}H.exports=function(b,T,P){var x=T.autotypenumbers,L={},M={},s={},E={},w={},O={},_={},U={},z={},F={},B,N;for(B=0;B<P.length;B++){var V=P[B];if(!(!A(V,"cartesian")&&!A(V,"gl2d"))){var X;if(V.xaxis)X=u(V.xaxis),o(L,X,V);else if(V.xaxes)for(N=0;N<V.xaxes.length;N++)o(L,u(V.xaxes[N]),V);var q;if(V.yaxis)q=u(V.yaxis),o(L,q,V);else if(V.yaxes)for(N=0;N<V.yaxes.length;N++)o(L,u(V.yaxes[N]),V);if(V.type==="funnel"?V.orientation==="h"?(X&&(M[X]=!0),q&&(_[q]=!0)):q&&(s[q]=!0):V.type==="image"?(q&&(U[q]=!0),X&&(U[X]=!0)):(q&&(w[q]=!0,O[q]=!0),(!A(V,"carpet")||V.type==="carpet"&&!V._cheater)&&X&&(E[X]=!0)),V.type==="carpet"&&V._cheater&&X&&(M[X]=!0),A(V,"2dMap")&&(z[X]=!0,z[q]=!0),A(V,"oriented")){var te=V.orientation==="h"?q:X;F[te]=!0}}}var ne=T._subplots,ce=ne.xaxis,Q=ne.yaxis,Z=g.simpleMap(ce,u),re=g.simpleMap(Q,u),Y=Z.concat(re),oe=R.background;ce.length&&Q.length&&(oe=g.coerce(b,T,v,"plot_bgcolor"));var ue=R.combine(oe,T.paper_bgcolor),K,$,le,ae,he;function xe(){var de=L[K]||[];he._traceIndices=de.map(function(Te){return Te._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=K,he._id=$}function Me(de,Te){return g.coerce(ae,he,d,de,Te)}function Ae(de,Te){return g.coerce2(ae,he,d,de,Te)}function ke(de){return de==="x"?Q:ce}function we(de,Te){for(var Be=de==="x"?Z:re,Qe=[],at=0;at<Be.length;at++){var it=Be[at];it!==Te&&!(b[it]||{}).overlaying&&Qe.push(l(it))}return Qe}var Ee={x:ke("x"),y:ke("y")},be=Ee.x.concat(Ee.y),Le={},Ue=[];function Ve(){var de=ae.matches;m.test(de)&&be.indexOf(de)===-1&&(Le[de]=ae.type,Ue=Object.keys(Le))}var Fe=C(b,T),He=a(Fe);for(B=0;B<Y.length;B++){K=Y[B],$=l(K),le=K.charAt(0),g.isPlainObject(b[K])||(b[K]={}),ae=b[K],he=S.newContainer(T,K,le+"axis"),xe();var st=le==="x"&&!E[K]&&M[K]||le==="y"&&!w[K]&&s[K],vt=le==="y"&&(!O[K]&&_[K]||U[K]),lt={hasMinor:!0,letter:le,font:T.font,outerTicks:z[K],showGrid:!F[K],data:L[K]||[],bgColor:ue,calendar:T.calendar,automargin:!0,visibleDflt:st,reverseDflt:vt,autotypenumbersDflt:x,splomStash:((T._splomAxes||{})[le]||{})[$],noAutotickangles:le==="y"};Me("uirevision",T.uirevision),r(ae,he,Me,lt),t(ae,he,Me,lt,T);var et=He&&le===Fe.charAt(0),ct=Ae("spikecolor",He?he.color:void 0),ht=Ae("spikethickness",He?1.5:void 0),mt=Ae("spikedash",He?"dot":void 0),xt=Ae("spikemode",He?"across":void 0),Mt=Ae("spikesnap"),tt=Me("showspikes",!!et||!!ct||!!ht||!!mt||!!xt||!!Mt);tt||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var Oe=u(ae.overlaying),Ye=[0,1];if(T[Oe]!==void 0){var Ze=u(T[Oe].anchor);T[Ze]!==void 0&&(Ye=T[Ze].domain)}n(ae,he,Me,{letter:le,counterAxes:Ee[le],overlayableAxes:we(le,K),grid:T.grid,overlayingDomain:Ye}),Me("title.standoff"),Ve(),he._input=ae}for(B=0;B<Ue.length;){$=Ue[B++],K=u($),le=K.charAt(0),g.isPlainObject(b[K])||(b[K]={}),ae=b[K],he=S.newContainer(T,K,le+"axis"),xe();var We={letter:le,font:T.font,outerTicks:z[K],showGrid:!F[K],data:[],bgColor:ue,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((T._splomAxes||{})[le]||{})[$]};Me("uirevision",T.uirevision),he.type=Le[$]||"linear",t(ae,he,Me,We,T),n(ae,he,Me,{letter:le,counterAxes:Ee[le],overlayableAxes:we(le,K),grid:T.grid}),Me("fixedrange"),Ve(),he._input=ae}var _e=h("rangeslider","handleDefaults"),Ie=h("rangeselector","handleDefaults");for(B=0;B<Z.length;B++)K=Z[B],ae=b[K],he=T[K],_e(b,T,K),he.type==="date"&&Ie(ae,he,T,re,he.calendar),Me("fixedrange");for(B=0;B<re.length;B++){K=re[B],ae=b[K],he=T[K];var Xe=T[u(he.anchor)],De=h("rangeslider","isVisible")(Xe);Me("fixedrange",De)}i.handleDefaults(b,T,{axIds:be.concat(Ue).sort(f.idSort),axHasImage:U})}},42136:function(H,G,e){var g=e(49760).mix,R=e(22548),a=e(3400);H.exports=function(S,v,d,r){r=r||{};var t=r.dfltColor;function i(s,E){return a.coerce2(S,v,r.attributes,s,E)}var n=i("linecolor",t),f=i("linewidth"),u=d("showline",r.showLine||!!n||!!f);u||(delete v.linecolor,delete v.linewidth);var l=g(t,r.bgColor,r.blend||R.lightFraction).toRgbString(),m=i("gridcolor",l),c=i("gridwidth"),A=i("griddash"),h=d("showgrid",r.showGrid||!!m||!!c||!!A);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var o=g(v.gridcolor,r.bgColor,67).toRgbString(),p=i("minor.gridcolor",o),b=i("minor.gridwidth",v.gridwidth||1),T=i("minor.griddash",v.griddash||"solid"),P=d("minor.showgrid",!!p||!!b||!!T);P||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var x=i("zerolinecolor",t),L=i("zerolinewidth"),M=d("zeroline",r.showGrid||!!x||!!L);M||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(H,G,e){var g=e(38248),R=e(3400);H.exports=function(C,S,v,d){var r=d.counterAxes||[],t=d.overlayableAxes||[],i=d.letter,n=d.grid,f=d.overlayingDomain,u,l,m,c,A,h;n&&(l=n._domains[i][n._axisMap[S._id]],u=n._anchors[S._id],l&&(m=n[i+"side"].split(" ")[0],c=n.domain[i][m==="right"||m==="top"?1:0])),l=l||[0,1],u=u||(g(C.position)?"free":r[0]||"free"),m=m||(i==="x"?"bottom":"left"),c=c||0,A=0,h=!1;var o=R.coerce(C,S,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),p=R.coerce(C,S,{side:{valType:"enumerated",values:i==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(o==="free"){if(i==="y"){var b=v("autoshift");b&&(c=p==="left"?f[0]:f[1],h=S.automargin?S.automargin:!0,A=p==="left"?-3:3),v("shift",A)}v("position",c)}v("automargin",h);var T=!1;if(t.length&&(T=R.coerce(C,S,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!T){var P=v("domain",l);P[0]>P[1]-.000244140625&&(S.domain=l),R.noneOrAll(C.domain,S.domain,l),S.tickmode==="sync"&&(S.tickmode="auto")}return v("layer"),S}},42568:function(H,G,e){var g=e(85024);H.exports=function(a,C,S,v,d){d||(d={});var r=d.tickSuffixDflt,t=g(a),i=S("tickprefix");i&&S("showtickprefix",t);var n=S("ticksuffix",r);n&&S("showticksuffix",t)}},96312:function(H,G,e){var g=e(76808);H.exports=function(a,C,S,v){var d=C._template||{},r=C.type||d.type||"-";S("minallowed"),S("maxallowed");var t=S("range");if(!t){var i;!v.noInsiderange&&r!=="log"&&(i=S("insiderange"),i&&(i[0]===null||i[1]===null)&&(C.insiderange=!1,i=void 0),i&&(t=S("range",i)))}var n=C.getAutorangeDflt(t,v),f=S("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(f==="reversed"||f===!0)||t[0]!==null&&(f==="min"||f==="max reversed")||t[1]!==null&&(f==="max"||f==="min reversed"))&&(t=void 0,delete C.range,C.autorange=!0,u=!0),u||(n=C.getAutorangeDflt(t,v),f=S("autorange",n)),f&&(g(S,f,t),(r==="linear"||r==="-")&&S("rangemode")),C.cleanRange()}},21160:function(H,G,e){var g=e(84284).FROM_BL;H.exports=function(a,C,S){S===void 0&&(S=g[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],d=v[0]+(v[1]-v[0])*S;a.range=a._input.range=[a.l2r(d+(v[0]-d)*C),a.l2r(d+(v[1]-d)*C)],a.setScale()}},78344:function(H,G,e){var g=e(33428),R=e(94336).E9,a=e(3400),C=a.numberFormat,S=e(38248),v=a.cleanNumber,d=a.ms2DateTime,r=a.dateTime2ms,t=a.ensureNumber,i=a.isArrayOrTypedArray,n=e(39032),f=n.FP_SAFE,u=n.BADNUM,l=n.LOG_CLIP,m=n.ONEWEEK,c=n.ONEDAY,A=n.ONEHOUR,h=n.ONEMIN,o=n.ONESEC,p=e(79811),b=e(33816),T=b.HOUR_PATTERN,P=b.WEEKDAY_PATTERN;function x(M){return Math.pow(10,M)}function L(M){return M!=null}H.exports=function(s,E){E=E||{};var w=s._id||"x",O=w.charAt(0);function _(Y,oe){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&oe&&s.range&&s.range.length===2){var ue=s.range[0],K=s.range[1];return .5*(ue+K-2*l*Math.abs(ue-K))}else return u}function U(Y,oe,ue,K){if((K||{}).msUTC&&S(Y))return+Y;var $=r(Y,ue||s.calendar);if($===u)if(S(Y)){Y=+Y;var le=Math.floor(a.mod(Y+.05,1)*10),ae=Math.round(Y-le/10);$=r(new Date(ae))+le/10}else return u;return $}function z(Y,oe,ue){return d(Y,oe,ue||s.calendar)}function F(Y){return s._categories[Math.round(Y)]}function B(Y){if(L(Y)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[Y]!==void 0)return s._categoriesMap[Y];s._categories.push(typeof Y=="number"?String(Y):Y);var oe=s._categories.length-1;return s._categoriesMap[Y]=oe,oe}return u}function N(Y,oe){for(var ue=new Array(oe),K=0;K<oe;K++){var $=(Y[0]||[])[K],le=(Y[1]||[])[K];ue[K]=V([$,le])}return ue}function V(Y){if(s._categoriesMap)return s._categoriesMap[Y]}function X(Y){var oe=V(Y);if(oe!==void 0)return oe;if(S(Y))return+Y}function q(Y){return S(Y)?+Y:V(Y)}function te(Y,oe,ue){return g.round(ue+oe*Y,2)}function ne(Y,oe,ue){return(Y-ue)/oe}var ce=function(oe){return S(oe)?te(oe,s._m,s._b):u},Q=function(Y){return ne(Y,s._m,s._b)};if(s.rangebreaks){var Z=O==="y";ce=function(Y){if(!S(Y))return u;var oe=s._rangebreaks.length;if(!oe)return te(Y,s._m,s._b);var ue=Z;s.range[0]>s.range[1]&&(ue=!ue);for(var K=ue?-1:1,$=K*Y,le=0,ae=0;ae<oe;ae++){var he=K*s._rangebreaks[ae].min,xe=K*s._rangebreaks[ae].max;if($<he)break;if($>xe)le=ae+1;else{le=$<(he+xe)/2?ae:ae+1;break}}var Me=s._B[le]||0;return isFinite(Me)?te(Y,s._m2,Me):0},Q=function(Y){var oe=s._rangebreaks.length;if(!oe)return ne(Y,s._m,s._b);for(var ue=0,K=0;K<oe&&!(Y<s._rangebreaks[K].pmin);K++)Y>s._rangebreaks[K].pmax&&(ue=K+1);return ne(Y,s._m2,s._B[ue])}}s.c2l=s.type==="log"?_:t,s.l2c=s.type==="log"?x:t,s.l2p=ce,s.p2l=Q,s.c2p=s.type==="log"?function(Y,oe){return ce(_(Y,oe))}:ce,s.p2c=s.type==="log"?function(Y){return x(Q(Y))}:Q,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(Y){return s.l2p(v(Y))},s.p2d=s.p2r=Q,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(Y,oe){return _(v(Y),oe)},s.r2d=s.r2c=function(Y){return x(v(Y))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=_,s.l2d=x,s.d2p=function(Y,oe){return s.l2p(s.d2r(Y,oe))},s.p2d=function(Y){return x(Q(Y))},s.r2p=function(Y){return s.l2p(v(Y))},s.p2r=Q,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=a.identity,s.d2c=s.r2c=s.d2l=s.r2l=U,s.c2d=s.c2r=s.l2d=s.l2r=z,s.d2p=s.r2p=function(Y,oe,ue){return s.l2p(U(Y,0,ue))},s.p2d=s.p2r=function(Y,oe,ue){return z(Q(Y),oe,ue)},s.cleanPos=function(Y){return a.cleanDate(Y,u,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=B,s.r2d=s.c2d=s.l2d=F,s.d2r=s.d2l_noadd=X,s.r2c=function(Y){var oe=q(Y);return oe!==void 0?oe:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=q,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return F(Q(Y))},s.r2p=s.d2p,s.p2r=Q,s.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=F,s.d2r=s.d2l_noadd=X,s.r2c=function(Y){var oe=X(Y);return oe!==void 0?oe:s.fraction2r(.5)},s.r2c_just_indices=V,s.l2r=s.c2r=t,s.r2l=X,s.d2p=function(Y){return s.l2p(s.r2c(Y))},s.p2d=function(Y){return F(Q(Y))},s.r2p=s.d2p,s.p2r=Q,s.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},s.setupMultiCategory=function(Y){var oe=s._traceIndices,ue,K,$=s._matchGroup;if($&&s._categories.length===0){for(var le in $)if(le!==w){var ae=E[p.id2name(le)];oe=oe.concat(ae._traceIndices)}}var he=[[0,{}],[0,{}]],xe=[];for(ue=0;ue<oe.length;ue++){var Me=Y[oe[ue]];if(O in Me){var Ae=Me[O],ke=Me._length||a.minRowLength(Ae);if(i(Ae[0])&&i(Ae[1]))for(K=0;K<ke;K++){var we=Ae[0][K],Ee=Ae[1][K];L(we)&&L(Ee)&&(xe.push([we,Ee]),we in he[0][1]||(he[0][1][we]=he[0][0]++),Ee in he[1][1]||(he[1][1][Ee]=he[1][0]++))}}}for(xe.sort(function(be,Le){var Ue=he[0][1],Ve=Ue[be[0]]-Ue[Le[0]];if(Ve)return Ve;var Fe=he[1][1];return Fe[be[1]]-Fe[Le[1]]}),ue=0;ue<xe.length;ue++)B(xe[ue])}),s.fraction2r=function(Y){var oe=s.r2l(s.range[0]),ue=s.r2l(s.range[1]);return s.l2r(oe+Y*(ue-oe))},s.r2fraction=function(Y){var oe=s.r2l(s.range[0]),ue=s.r2l(s.range[1]);return(s.r2l(Y)-oe)/(ue-oe)},s.limitRange=function(Y){var oe=s.minallowed,ue=s.maxallowed;if(!(oe===void 0&&ue===void 0)){Y||(Y="range");var K=a.nestedProperty(s,Y).get(),$=a.simpleMap(K,s.r2l),le=$[1]<$[0];le&&$.reverse();var ae=a.simpleMap([oe,ue],s.r2l);if(oe!==void 0&&$[0]<ae[0]&&(K[le?1:0]=oe),ue!==void 0&&$[1]>ae[1]&&(K[le?0:1]=ue),K[0]===K[1]){var he=s.l2r(oe),xe=s.l2r(ue);if(oe!==void 0){var Me=he+1;ue!==void 0&&(Me=Math.min(Me,xe)),K[le?1:0]=Me}if(ue!==void 0){var Ae=xe+1;oe!==void 0&&(Ae=Math.max(Ae,he)),K[le?0:1]=Ae}}}},s.cleanRange=function(Y,oe){s._cleanRange(Y,oe),s.limitRange(Y)},s._cleanRange=function(Y,oe){oe||(oe={}),Y||(Y="range");var ue=a.nestedProperty(s,Y).get(),K,$;if(s.type==="date"?$=a.dfltRange(s.calendar):O==="y"?$=b.DFLTRANGEY:s._name==="realaxis"?$=[0,1]:$=oe.dfltRange||b.DFLTRANGEX,$=$.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&($[0]=0),!ue||ue.length!==2){a.nestedProperty(s,Y).set($);return}var le=ue[0]===null,ae=ue[1]===null;for(s.type==="date"&&!s.autorange&&(ue[0]=a.cleanDate(ue[0],u,s.calendar),ue[1]=a.cleanDate(ue[1],u,s.calendar)),K=0;K<2;K++)if(s.type==="date"){if(!a.isDateTime(ue[K],s.calendar)){s[Y]=$;break}if(s.r2l(ue[0])===s.r2l(ue[1])){var he=a.constrain(s.r2l(ue[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ue[0]=s.l2r(he-1e3),ue[1]=s.l2r(he+1e3);break}}else{if(!S(ue[K]))if(!(le||ae)&&S(ue[1-K]))ue[K]=ue[1-K]*(K?10:.1);else{s[Y]=$;break}if(ue[K]<-f?ue[K]=-f:ue[K]>f&&(ue[K]=f),ue[0]===ue[1]){var xe=Math.max(1,Math.abs(ue[0]*1e-6));ue[0]-=xe,ue[1]+=xe}}},s.setScale=function(Y){var oe=E._size;if(s.overlaying){var ue=p.getFromId({_fullLayout:E},s.overlaying);s.domain=ue.domain}var K=Y&&s._r?"_r":"range",$=s.calendar;s.cleanRange(K);var le=s.r2l(s[K][0],$),ae=s.r2l(s[K][1],$),he=O==="y";if(he?(s._offset=oe.t+(1-s.domain[1])*oe.h,s._length=oe.h*(s.domain[1]-s.domain[0]),s._m=s._length/(le-ae),s._b=-s._m*ae):(s._offset=oe.l+s.domain[0]*oe.w,s._length=oe.w*(s.domain[1]-s.domain[0]),s._m=s._length/(ae-le),s._b=-s._m*le),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var xe,Me;if(s._rangebreaks=s.locateBreaks(Math.min(le,ae),Math.max(le,ae)),s._rangebreaks.length){for(xe=0;xe<s._rangebreaks.length;xe++)Me=s._rangebreaks[xe],s._lBreaks+=Math.abs(Me.max-Me.min);var Ae=he;le>ae&&(Ae=!Ae),Ae&&s._rangebreaks.reverse();var ke=Ae?-1:1;for(s._m2=ke*s._length/(Math.abs(ae-le)-s._lBreaks),s._B.push(-s._m2*(he?ae:le)),xe=0;xe<s._rangebreaks.length;xe++)Me=s._rangebreaks[xe],s._B.push(s._B[s._B.length-1]-ke*s._m2*(Me.max-Me.min));for(xe=0;xe<s._rangebreaks.length;xe++)Me=s._rangebreaks[xe],Me.pmin=ce(Me.min),Me.pmax=ce(Me.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(Y){var oe=s.rangebreaks||[],ue,K,$,le,ae;oe._cachedPatterns||(oe._cachedPatterns=oe.map(function(Ue){return Ue.enabled&&Ue.bounds?a.simpleMap(Ue.bounds,Ue.pattern?v:s.d2c):null})),oe._cachedValues||(oe._cachedValues=oe.map(function(Ue){return Ue.enabled&&Ue.values?a.simpleMap(Ue.values,s.d2c).sort(a.sorterAsc):null}));for(var he=0;he<oe.length;he++){var xe=oe[he];if(xe.enabled){if(xe.bounds){var Me=xe.pattern;switch(ue=oe._cachedPatterns[he],K=ue[0],$=ue[1],Me){case P:ae=new Date(Y),le=ae.getUTCDay(),K>$&&($+=7,le<K&&(le+=7));break;case T:ae=new Date(Y);var Ae=ae.getUTCHours(),ke=ae.getUTCMinutes(),we=ae.getUTCSeconds(),Ee=ae.getUTCMilliseconds();le=Ae+(ke/60+we/3600+Ee/36e5),K>$&&($+=24,le<K&&(le+=24));break;case"":le=Y;break}if(le>=K&&le<$)return u}else for(var be=oe._cachedValues[he],Le=0;Le<be.length;Le++)if(K=be[Le],$=K+xe.dvalue,Y>=K&&Y<$)return u}}return Y},s.locateBreaks=function(Y,oe){var ue,K,$,le,ae=[];if(!s.rangebreaks)return ae;var he=s.rangebreaks.slice().sort(function(Fe,He){return Fe.pattern===P&&He.pattern===T?-1:He.pattern===P&&Fe.pattern===T?1:0}),xe=function(Fe,He){if(Fe=a.constrain(Fe,Y,oe),He=a.constrain(He,Y,oe),Fe!==He){for(var st=!0,vt=0;vt<ae.length;vt++){var lt=ae[vt];Fe<lt.max&&He>=lt.min&&(Fe<lt.min&&(lt.min=Fe),He>lt.max&&(lt.max=He),st=!1)}st&&ae.push({min:Fe,max:He})}};for(ue=0;ue<he.length;ue++){var Me=he[ue];if(Me.enabled)if(Me.bounds){var Ae=Y,ke=oe;Me.pattern&&(Ae=Math.floor(Ae)),K=a.simpleMap(Me.bounds,Me.pattern?v:s.r2l),$=K[0],le=K[1];var we=new Date(Ae),Ee,be;switch(Me.pattern){case P:be=m,Ee=((le<$?7:0)+(le-$))*c,Ae+=$*c-(we.getUTCDay()*c+we.getUTCHours()*A+we.getUTCMinutes()*h+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;case T:be=c,Ee=((le<$?24:0)+(le-$))*A,Ae+=$*A-(we.getUTCHours()*A+we.getUTCMinutes()*h+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;default:Ae=Math.min(K[0],K[1]),ke=Math.max(K[0],K[1]),be=ke-Ae,Ee=be}for(var Le=Ae;Le<ke;Le+=be)xe(Le,Le+Ee)}else for(var Ue=a.simpleMap(Me.values,s.d2c),Ve=0;Ve<Ue.length;Ve++)$=Ue[Ve],le=$+Me.dvalue,xe($,le)}return ae.sort(function(Fe,He){return Fe.min-He.min}),ae},s.makeCalcdata=function(Y,oe,ue){var K,$,le,ae,he=s.type,xe=he==="date"&&Y[oe+"calendar"];if(oe in Y){if(K=Y[oe],ae=Y._length||a.minRowLength(K),a.isTypedArray(K)&&(he==="linear"||he==="log")){if(ae===K.length)return K;if(K.subarray)return K.subarray(0,ae)}if(he==="multicategory")return N(K,ae);for($=new Array(ae),le=0;le<ae;le++)$[le]=s.d2c(K[le],0,xe,ue)}else{var Me=oe+"0"in Y?s.d2c(Y[oe+"0"],0,xe):0,Ae=Y["d"+oe]?Number(Y["d"+oe]):1;for(K=Y[{x:"y",y:"x"}[oe]],ae=Y._length||K.length,$=new Array(ae),le=0;le<ae;le++)$[le]=Me+le*Ae}if(s.rangebreaks)for(le=0;le<ae;le++)$[le]=s.maskBreaks($[le]);return $},s.isValidRange=function(Y,oe){return Array.isArray(Y)&&Y.length===2&&(oe&&Y[0]===null||S(s.r2l(Y[0])))&&(oe&&Y[1]===null||S(s.r2l(Y[1])))},s.getAutorangeDflt=function(Y,oe){var ue=!s.isValidRange(Y,"nullOk");return ue&&oe&&oe.reverseDflt?ue="reversed":Y&&(Y[0]===null&&Y[1]===null?ue=!0:Y[0]===null&&Y[1]!==null?ue="min":Y[0]!==null&&Y[1]===null&&(ue="max")),ue},s.isReversed=function(){var Y=s.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},s.isPtWithinRange=function(Y,oe){var ue=s.c2l(Y[O],null,oe),K=s.r2l(s.range[0]),$=s.r2l(s.range[1]);return K<$?K<=ue&&ue<=$:$<=ue&&ue<=K},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var Y=s._matchGroup;if(Y){var oe=null,ue=null;for(var K in Y){var $=E[p.id2name(K)];if($._categories){oe=$._categories,ue=$._categoriesMap;break}}oe&&ue?(s._categories=oe,s._categoriesMap=ue):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var le=0;le<s._initialCategories.length;le++)B(s._initialCategories[le])},s.sortByInitialCategories=function(){var Y=[];if(s._emptyCategories(),s._initialCategories)for(var oe=0;oe<s._initialCategories.length;oe++)B(s._initialCategories[oe]);Y=Y.concat(s._traceIndices);var ue=s._matchGroup;for(var K in ue)if(w!==K){var $=E[p.id2name(K)];$._categories=s._categories,$._categoriesMap=s._categoriesMap,Y=Y.concat($._traceIndices)}return Y};var re=E._d3locale;s.type==="date"&&(s._dateFormat=re?re.timeFormat:R,s._extraFormat=E._extraFormat),s._separators=E.separators,s._numFormat=re?re.numberFormat:C,delete s._minDtick,delete s._forceTick0}},85024:function(H){H.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],R=g.filter(function(C){return e[C]!==void 0}),a=function(C){return e[C]===e[R[0]]};if(R.every(a)||R.length===1)return e[R[0]]}},95936:function(H,G,e){var g=e(3400),R=e(76308).contrast,a=e(94724),C=e(85024),S=e(51272);H.exports=function(r,t,i,n,f){f||(f={});var u=i("labelalias");g.isPlainObject(u)||delete t.labelalias;var l=C(r),m=i("showticklabels");if(m){var c=f.font||{},A=t.color,h=t.ticklabelposition||"",o=h.indexOf("inside")!==-1?R(f.bgColor):A&&A!==a.color.dflt?A:c.color;if(g.coerceFont(i,"tickfont",{family:c.family,weight:c.weight,style:c.style,variant:c.variant,size:c.size,color:o}),!f.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&i("ticklabelstep"),!f.noAng){var p=i("tickangle");!f.noAutotickangles&&p==="auto"&&i("autotickangles")}if(n!=="category"){var b=i("tickformat");S(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!f.noExp&&!b&&n!=="date"&&(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}};function v(d,r){function t(n,f){return g.coerce(d,r,a.tickformatstops,n,f)}var i=t("enabled");i&&(t("dtickrange"),t("value"))}},25404:function(H,G,e){var g=e(3400),R=e(94724);H.exports=function(C,S,v,d){var r=d.isMinor,t=r?C.minor||{}:C,i=r?S.minor:S,n=r?R.minor:R,f=r?"minor.":"",u=g.coerce2(t,i,n,"ticklen",r?(S.ticklen||5)*.6:void 0),l=g.coerce2(t,i,n,"tickwidth",r?S.tickwidth||1:void 0),m=g.coerce2(t,i,n,"tickcolor",(r?S.tickcolor:void 0)||i.color),c=v(f+"ticks",!r&&d.outerTicks||u||l||m?"outside":"");c||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(H,G,e){var g=e(98728),R=e(3400).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,C=e(38116).decodeTypedArraySpec;H.exports=function(v,d,r,t,i){i||(i={});var n=i.isMinor,f=n?v.minor||{}:v,u=n?d.minor:d,l=n?"minor.":"";function m(P){var x=f[P];return a(x)&&(x=C(x)),x!==void 0?x:(u._template||{})[P]}var c=m("tick0"),A=m("dtick"),h=m("tickvals"),o=R(h)?"array":A?"linear":"auto",p=r(l+"tickmode",o);if(p==="auto"||p==="sync")r(l+"nticks");else if(p==="linear"){var b=u.dtick=g.dtick(A,t);u.tick0=g.tick0(c,t,d.calendar,b)}else if(t!=="multicategory"){var T=r(l+"tickvals");T===void 0?u.tickmode="auto":n||r("ticktext")}}},73736:function(H,G,e){var g=e(33428),R=e(24040),a=e(3400),C=e(43616),S=e(54460);H.exports=function(d,r,t,i){var n=d._fullLayout;if(r.length===0){S.redrawComponents(d);return}function f(T){var P=T.xaxis,x=T.yaxis;n._defs.select("#"+T.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),T.plot.call(C.setTranslate,P._offset,x._offset).call(C.setScale,1,1);var L=T.plot.selectAll(".scatterlayer .trace");L.selectAll(".point").call(C.setPointGroupScale,1,1),L.selectAll(".textpoint").call(C.setTextPointsScale,1,1),L.call(C.hideOutsideRangePoints,T)}function u(T,P){var x=T.plotinfo,L=x.xaxis,M=x.yaxis,s=L._length,E=M._length,w=!!T.xr1,O=!!T.yr1,_=[];if(w){var U=a.simpleMap(T.xr0,L.r2l),z=a.simpleMap(T.xr1,L.r2l),F=U[1]-U[0],B=z[1]-z[0];_[0]=(U[0]*(1-P)+P*z[0]-U[0])/(U[1]-U[0])*s,_[2]=s*(1-P+P*B/F),L.range[0]=L.l2r(U[0]*(1-P)+P*z[0]),L.range[1]=L.l2r(U[1]*(1-P)+P*z[1])}else _[0]=0,_[2]=s;if(O){var N=a.simpleMap(T.yr0,M.r2l),V=a.simpleMap(T.yr1,M.r2l),X=N[1]-N[0],q=V[1]-V[0];_[1]=(N[1]*(1-P)+P*V[1]-N[1])/(N[0]-N[1])*E,_[3]=E*(1-P+P*q/X),M.range[0]=L.l2r(N[0]*(1-P)+P*V[0]),M.range[1]=M.l2r(N[1]*(1-P)+P*V[1])}else _[1]=0,_[3]=E;S.drawOne(d,L,{skipTitle:!0}),S.drawOne(d,M,{skipTitle:!0}),S.redrawComponents(d,[L._id,M._id]);var te=w?s/_[2]:1,ne=O?E/_[3]:1,ce=w?_[0]:0,Q=O?_[1]:0,Z=w?_[0]/_[2]*s:0,re=O?_[1]/_[3]*E:0,Y=L._offset-Z,oe=M._offset-re;x.clipRect.call(C.setTranslate,ce,Q).call(C.setScale,1/te,1/ne),x.plot.call(C.setTranslate,Y,oe).call(C.setScale,te,ne),C.setPointGroupScale(x.zoomScalePts,1/te,1/ne),C.setTextPointsScale(x.zoomScaleTxt,1/te,1/ne)}var l;i&&(l=i());function m(){for(var T={},P=0;P<r.length;P++){var x=r[P],L=x.plotinfo.xaxis,M=x.plotinfo.yaxis;x.xr1&&(T[L._name+".range"]=x.xr1.slice()),x.yr1&&(T[M._name+".range"]=x.yr1.slice())}return l&&l(),R.call("relayout",d,T).then(function(){for(var s=0;s<r.length;s++)f(r[s].plotinfo)})}function c(){for(var T={},P=0;P<r.length;P++){var x=r[P],L=x.plotinfo.xaxis,M=x.plotinfo.yaxis;x.xr0&&(T[L._name+".range"]=x.xr0.slice()),x.yr0&&(T[M._name+".range"]=x.yr0.slice())}return R.call("relayout",d,T).then(function(){for(var s=0;s<r.length;s++)f(r[s].plotinfo)})}var A,h,o,p=g.ease(t.easing);d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,c()});function b(){h=Date.now();for(var T=Math.min(1,(h-A)/t.duration),P=p(T),x=0;x<r.length;x++)u(r[x],P);h-A>t.duration?(m(),o=window.cancelAnimationFrame(b)):o=window.requestAnimationFrame(b)}return A=Date.now(),o=window.requestAnimationFrame(b),Promise.resolve()}},14944:function(H,G,e){var g=e(24040).traceIs,R=e(52976);H.exports=function(r,t,i,n){i("autotypenumbers",n.autotypenumbersDflt);var f=i("type",(n.splomStash||{}).type);f==="-"&&(a(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function a(d,r){if(d.type==="-"){var t=d._id,i=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=i);var f=C(r,t,i);if(f){if(f.type==="histogram"&&i==={v:"y",h:"x"}[f.orientation||"v"]){d.type="linear";return}var u=i+"calendar",l=f[u],m={noMultiCategory:!g(f,"cartesian")||g(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&i==={h:"x",v:"y"}[f.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=d.autotypenumbers,v(f,i)){var c=S(f),A=[];for(n=0;n<r.length;n++){var h=r[n];!g(h,"box-violin")||(h[i+"axis"]||i)!==t||(h[c]!==void 0?A.push(h[c][0]):h.name!==void 0?A.push(h.name):A.push("text"),h[u]!==l&&(l=void 0))}d.type=R(A,l,m)}else if(f.type==="splom"){var o=f.dimensions,p=o[f._axesDim[t]];p.visible&&(d.type=R(p.values,l,m))}else d.type=R(f[i]||[f[i+"0"]],l,m)}}}function C(d,r,t){for(var i=0;i<d.length;i++){var n=d[i];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function S(d){return{v:"x",h:"y"}[d.orientation||"v"]}function v(d,r){var t=S(d),i=g(d,"box-violin"),n=g(d._fullInput||{},"candlestick");return i&&!n&&r===t&&d[t]===void 0&&d[t+"0"]===void 0}},62460:function(H,G,e){var g=e(24040),R=e(3400);G.manageCommandObserver=function(r,t,i,n){var f={},u=!0;t&&t._commandObserver&&(f=t._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var l=G.hasSimpleAPICommandBindings(r,i,f.lookupTable);if(t&&t._commandObserver){if(l)return f;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,f}if(l){a(r,l,f.cache),f.check=function(){if(u){var h=a(r,l,f.cache);return h.changed&&n&&f.lookupTable[h.value]!==void 0&&(f.disable(),Promise.resolve(n({value:h.value,type:l.type,prop:l.prop,traces:l.traces,index:f.lookupTable[h.value]})).then(f.enable,f.enable)),h.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<m.length;c++)r._internalOn(m[c],f.check);f.remove=function(){for(var A=0;A<m.length;A++)r._removeInternalListener(m[A],f.check)}}else R.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){u=!1},f.enable=function(){u=!0},t&&(t._commandObserver=f),f},G.hasSimpleAPICommandBindings=function(r,t,i){var n,f=t.length,u;for(n=0;n<f;n++){var l,m=t[n],c=m.method,A=m.args;if(Array.isArray(A)||(A=[]),!c)return!1;var h=G.computeAPICommandBindings(r,c,A);if(h.length!==1)return!1;if(!u)u=h[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=h[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var o=0;o<u.traces.length;o++)if(u.traces[o]!==l.traces[o])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=h[0];var p=l.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;i&&(i[p]=n)}return u};function a(r,t,i){var n,f,u,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return f=R.nestedProperty(n,t.prop).get(),u=i[t.type]=i[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==f&&(l=!0),u[t.prop]=f,{changed:l,value:f}}G.executeAPICommand=function(r,t,i){if(t==="skip")return Promise.resolve();var n=g.apiMethodRegistry[t],f=[r];Array.isArray(i)||(i=[]);for(var u=0;u<i.length;u++)f.push(i[u]);return n.apply(null,f).catch(function(l){return R.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},G.computeAPICommandBindings=function(r,t,i){var n;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=v(r,i);break;case"relayout":n=S(r,i);break;case"update":n=v(r,[i[0],i[2]]).concat(S(r,[i[1]]));break;case"animate":n=C(r,i);break;default:n=[]}return n};function C(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function S(r,t){var i=[],n=t[0],f={};if(typeof n=="string")f[n]=t[1];else if(R.isPlainObject(n))f=n;else return i;return d(f,function(u,l,m){i.push({type:"layout",prop:u,value:m})},"",0),i}function v(r,t){var i,n,f,u,l=[];if(n=t[0],f=t[1],i=t[2],u={},typeof n=="string")u[n]=f;else if(R.isPlainObject(n))u=n,i===void 0&&(i=f);else return l;return i===void 0&&(i=null),d(u,function(m,c,A){var h,o;if(Array.isArray(A)){o=A.slice();var p=Math.min(o.length,r.data.length);i&&(p=Math.min(p,i.length)),h=[];for(var b=0;b<p;b++)h[b]=i?i[b]:b}else o=A,h=i?i.slice():null;if(h===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(h)){if(!Array.isArray(o)){var T=o;o=[];for(var P=0;P<h.length;P++)o[P]=T}o.length=Math.min(h.length,o.length)}l.push({type:"data",prop:m,traces:h,value:o})},"",0),l}function d(r,t,i,n){Object.keys(r).forEach(function(f){var u=r[f];if(f[0]!=="_"){var l=i+(n>0?".":"")+f;R.isPlainObject(u)?d(u,t,l,n+1):t(l,f,u)}})}},86968:function(H,G,e){var g=e(92880).extendFlat;G.u=function(R,a){R=R||{},a=a||{};var C={valType:"info_array",editType:R.editType,items:[{valType:"number",min:0,max:1,editType:R.editType},{valType:"number",min:0,max:1,editType:R.editType}],dflt:[0,1]};R.name&&R.name+"",R.trace,a.description&&""+a.description;var S={x:g({},C,{}),y:g({},C,{}),editType:R.editType};return R.noGridCell||(S.row={valType:"integer",min:0,dflt:0,editType:R.editType},S.column={valType:"integer",min:0,dflt:0,editType:R.editType}),S},G.Q=function(R,a,C,S){var v=S&&S.x||[0,1],d=S&&S.y||[0,1],r=a.grid;if(r){var t=C("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete R.domain.column);var i=C("domain.row");i!==void 0&&(i<r.rows?d=r._domains.y[i]:delete R.domain.row)}var n=C("domain.x",v),f=C("domain.y",d);n[0]<n[1]||(R.domain.x=v.slice()),f[0]<f[1]||(R.domain.y=d.slice())}},25376:function(H){H.exports=function(G){var e=G.variantValues,g=G.editType,R=G.colorEditType;R===void 0&&(R=g);var a={family:{valType:"string",noBlank:!0,strict:!0,editType:g},size:{valType:"number",min:1,editType:g},color:{valType:"color",editType:R},weight:{editType:g,valType:"enumerated",values:["normal","bold"],dflt:"normal"},style:{editType:g,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:G.noFontVariant?void 0:{editType:g,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},editType:g};return G.autoSize&&(a.size.dflt="auto"),G.autoColor&&(a.color.dflt="auto"),G.arrayOk&&(a.family.arrayOk=!0,a.weight.arrayOk=!0,a.style.arrayOk=!0,a.variant.arrayOk=!0,a.size.arrayOk=!0,a.color.arrayOk=!0),a}},16672:function(H){H.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(H,G){G.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},G.axesNames=["lonaxis","lataxis"],G.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},G.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},G.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},G.clipPad=.001,G.precision=.1,G.landColor="#F0DC82",G.waterColor="#3399FF",G.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},G.sphereSVG={type:"Sphere"},G.fillLayers={ocean:1,land:1,lakes:1},G.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},G.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],G.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],G.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(H,G,e){var g=e(33428),R=e(83356),a=R.geoPath,C=R.geoDistance,S=e(87108),v=e(24040),d=e(3400),r=d.strTranslate,t=e(76308),i=e(43616),n=e(93024),f=e(7316),u=e(54460),l=e(19280).getAutoRange,m=e(86476),c=e(22676).prepSelect,A=e(22676).clearOutline,h=e(22676).selectOnClick,o=e(79248),p=e(79552),b=e(27144),T=e(59972),P=e(55712).NO;function x(w){this.id=w.id,this.graphDiv=w.graphDiv,this.container=w.container,this.topojsonURL=w.topojsonURL,this.isStatic=w.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var L=x.prototype;H.exports=function(O){return new x(O)},L.plot=function(w,O,_,U){var z=this;if(U)return z.update(w,O,!0);z._geoCalcData=w,z._fullLayout=O;var F=O[this.id],B=[],N=!1;for(var V in p.layerNameToAdjective)if(V!=="frame"&&F["show"+V]){N=!0;break}for(var X=!1,q=0;q<w.length;q++){var te=w[0][0].trace;te._geo=z,te.locationmode&&(N=!0);var ne=te.marker;if(ne){var ce=ne.angle,Q=ne.angleref;(ce||Q==="north"||Q==="previous")&&(X=!0)}}if(this._hasMarkerAngles=X,N){var Z=T.getTopojsonName(F);(z.topojson===null||Z!==z.topojsonName)&&(z.topojsonName=Z,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&B.push(z.fetchTopojson()))}B=B.concat(b.fetchTraceGeoData(w)),_.push(new Promise(function(re,Y){Promise.all(B).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(w,O),re()}).catch(Y)}))},L.fetchTopojson=function(){var w=this,O=T.getTopojsonPath(w.topojsonURL,w.topojsonName);return new Promise(function(_,U){g.json(O,function(z,F){if(z)return z.status===404?U(new Error(["plotly.js could not find topojson file at",O+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):U(new Error(["unexpected error while fetching topojson file at",O].join(" ")));PlotlyGeoAssets.topojson[w.topojsonName]=F,_()})})},L.update=function(w,O,_){var U=O[this.id];this.hasChoropleth=!1;for(var z=0;z<w.length;z++){var F=w[z],B=F[0].trace;B.type==="choropleth"&&(this.hasChoropleth=!0),B.visible===!0&&B._length>0&&B._module.calcGeoJSON(F,O)}if(!_){var N=this.updateProjection(w,O);if(N)return;(!this.viewInitial||this.scope!==U.scope)&&this.saveViewInitial(U)}this.scope=U.scope,this.updateBaseLayers(O,U),this.updateDims(O,U),this.updateFx(O,U),f.generalUpdatePerTraceModule(this.graphDiv,this,w,U);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var X=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=X.selectAll("path"),this._render()},L.updateProjection=function(w,O){var _=this.graphDiv,U=O[this.id],z=O._size,F=U.domain,B=U.projection,N=U.lonaxis,V=U.lataxis,X=N._ax,q=V._ax,te=this.projection=M(U),ne=[[z.l+z.w*F.x[0],z.t+z.h*(1-F.y[1])],[z.l+z.w*F.x[1],z.t+z.h*(1-F.y[0])]],ce=U.center||{},Q=B.rotation||{},Z=N.range||[],re=V.range||[];if(U.fitbounds){X._length=ne[1][0]-ne[0][0],q._length=ne[1][1]-ne[0][1],X.range=l(_,X),q.range=l(_,q);var Y=(X.range[0]+X.range[1])/2,oe=(q.range[0]+q.range[1])/2;if(U._isScoped)ce={lon:Y,lat:oe};else if(U._isClipped){ce={lon:Y,lat:oe},Q={lon:Y,lat:oe,roll:Q.roll};var ue=B.type,K=p.lonaxisSpan[ue]/2||180,$=p.lataxisSpan[ue]/2||90;Z=[Y-K,Y+K],re=[oe-$,oe+$]}else ce={lon:Y,lat:oe},Q={lon:Y,lat:Q.lat,roll:Q.roll}}te.center([ce.lon-Q.lon,ce.lat-Q.lat]).rotate([-Q.lon,-Q.lat,Q.roll]).parallels(B.parallels);var le=E(Z,re);te.fitExtent(ne,le);var ae=this.bounds=te.getBounds(le),he=this.fitScale=te.scale(),xe=te.translate();if(U.fitbounds){var Me=te.getBounds(E(X.range,q.range)),Ae=Math.min((ae[1][0]-ae[0][0])/(Me[1][0]-Me[0][0]),(ae[1][1]-ae[0][1])/(Me[1][1]-Me[0][1]));isFinite(Ae)?te.scale(Ae*he):d.warn("Something went wrong during"+this.id+"fitbounds computations.")}else te.scale(B.scale*he);var ke=this.midPt=[(ae[0][0]+ae[1][0])/2,(ae[0][1]+ae[1][1])/2];if(te.translate([xe[0]+(ke[0]-xe[0]),xe[1]+(ke[1]-xe[1])]).clipExtent(ae),U._isAlbersUsa){var we=te([ce.lon,ce.lat]),Ee=te.translate();te.translate([Ee[0]-(we[0]-Ee[0]),Ee[1]-(we[1]-Ee[1])])}},L.updateBaseLayers=function(w,O){var _=this,U=_.topojson,z=_.layers,F=_.basePaths;function B(ne){return ne==="lonaxis"||ne==="lataxis"}function N(ne){return!!p.lineLayers[ne]}function V(ne){return!!p.fillLayers[ne]}var X=this.hasChoropleth?p.layersForChoropleth:p.layers,q=X.filter(function(ne){return N(ne)||V(ne)?O["show"+ne]:B(ne)?O[ne].showgrid:!0}),te=_.framework.selectAll(".layer").data(q,String);te.exit().each(function(ne){delete z[ne],delete F[ne],g.select(this).remove()}),te.enter().append("g").attr("class",function(ne){return"layer "+ne}).each(function(ne){var ce=z[ne]=g.select(this);ne==="bg"?_.bgRect=ce.append("rect").style("pointer-events","all"):B(ne)?F[ne]=ce.append("path").style("fill","none"):ne==="backplot"?ce.append("g").classed("choroplethlayer",!0):ne==="frontplot"?ce.append("g").classed("scatterlayer",!0):N(ne)?F[ne]=ce.append("path").style("fill","none").style("stroke-miterlimit",2):V(ne)&&(F[ne]=ce.append("path").style("stroke","none"))}),te.order(),te.each(function(ne){var ce=F[ne],Q=p.layerNameToAdjective[ne];ne==="frame"?ce.datum(p.sphereSVG):N(ne)||V(ne)?ce.datum(P(U,U.objects[ne])):B(ne)&&ce.datum(s(ne,O,w)).call(t.stroke,O[ne].gridcolor).call(i.dashLine,O[ne].griddash,O[ne].gridwidth),N(ne)?ce.call(t.stroke,O[Q+"color"]).call(i.dashLine,"",O[Q+"width"]):V(ne)&&ce.call(t.fill,O[Q+"color"])})},L.updateDims=function(w,O){var _=this.bounds,U=(O.framewidth||0)/2,z=_[0][0]-U,F=_[0][1]-U,B=_[1][0]-z+U,N=_[1][1]-F+U;i.setRect(this.clipRect,z,F,B,N),this.bgRect.call(i.setRect,z,F,B,N).call(t.fill,O.bgcolor),this.xaxis._offset=z,this.xaxis._length=B,this.yaxis._offset=F,this.yaxis._length=N},L.updateFx=function(w,O){var _=this,U=_.graphDiv,z=_.bgRect,F=w.dragmode,B=w.clickmode;if(_.isStatic)return;function N(){var te=_.viewInitial,ne={};for(var ce in te)ne[_.id+"."+ce]=te[ce];v.call("_guiRelayout",U,ne),U.emit("plotly_doubleclick",null)}function V(te){return _.projection.invert([te[0]+_.xaxis._offset,te[1]+_.yaxis._offset])}var X=function(te,ne){if(ne.isRect){var ce=te.range={};ce[_.id]=[V([ne.xmin,ne.ymin]),V([ne.xmax,ne.ymax])]}else{var Q=te.lassoPoints={};Q[_.id]=ne.map(V)}},q={element:_.bgRect.node(),gd:U,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:X},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(te){te===2&&A(U)}};F==="pan"?(z.node().onmousedown=null,z.call(o(_,O)),z.on("dblclick.zoom",N),U._context._scrollZoom.geo||z.on("wheel.zoom",null)):(F==="select"||F==="lasso")&&(z.on(".zoom",null),q.prepFn=function(te,ne,ce){c(te,ne,ce,q,F)},m.init(q)),z.on("mousemove",function(){var te=_.projection.invert(d.getPositionFromD3Event());if(!te)return m.unhover(U,g.event);_.xaxis.p2c=function(){return te[0]},_.yaxis.p2c=function(){return te[1]},n.hover(U,g.event,_.id)}),z.on("mouseout",function(){U._dragging||m.unhover(U,g.event)}),z.on("click",function(){F!=="select"&&F!=="lasso"&&(B.indexOf("select")>-1&&h(g.event,U,[_.xaxis],[_.yaxis],_.id,q),B.indexOf("event")>-1&&n.click(U,g.event))})},L.makeFramework=function(){var w=this,O=w.graphDiv,_=O._fullLayout,U="clip"+_._uid+w.id;w.clipDef=_._clips.append("clipPath").attr("id",U),w.clipRect=w.clipDef.append("rect"),w.framework=g.select(w.container).append("g").attr("class","geo "+w.id).call(i.setClipUrl,U,O),w.project=function(z){var F=w.projection(z);return F?[F[0]-w.xaxis._offset,F[1]-w.yaxis._offset]:[null,null]},w.xaxis={_id:"x",c2p:function(z){return w.project(z)[0]}},w.yaxis={_id:"y",c2p:function(z){return w.project(z)[1]}},w.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(w.mockAxis,_)},L.saveViewInitial=function(w){var O=w.center||{},_=w.projection,U=_.rotation||{};this.viewInitial={fitbounds:w.fitbounds,"projection.scale":_.scale};var z;w._isScoped?z={"center.lon":O.lon,"center.lat":O.lat}:w._isClipped?z={"projection.rotation.lon":U.lon,"projection.rotation.lat":U.lat}:z={"center.lon":O.lon,"center.lat":O.lat,"projection.rotation.lon":U.lon},d.extendFlat(this.viewInitial,z)},L.render=function(w){this._hasMarkerAngles&&w?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},L._render=function(){var w=this.projection,O=w.getPath(),_;function U(F){var B=w(F.lonlat);return B?r(B[0],B[1]):null}function z(F){return w.isLonLatOverEdges(F.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",O);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(F){return O(F.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",z).attr("transform",U)};function M(w){var O=w.projection,_=O.type,U=p.projNames[_];U="geo"+d.titleCase(U);for(var z=R[U]||S[U],F=z(),B=w._isSatellite?Math.acos(1/O.distance)*180/Math.PI:w._isClipped?p.lonaxisSpan[_]/2:null,N=["center","rotate","parallels","clipExtent"],V=function(te){return te?F:[]},X=0;X<N.length;X++){var q=N[X];typeof F[q]!="function"&&(F[q]=V)}return F.isLonLatOverEdges=function(te){if(F(te)===null)return!0;if(B){var ne=F.rotate(),ce=C(te,[-ne[0],-ne[1]]),Q=B*Math.PI/180;return ce>Q}else return!1},F.getPath=function(){return a().projection(F)},F.getBounds=function(te){return F.getPath().bounds(te)},F.precision(p.precision),w._isSatellite&&F.tilt(O.tilt).distance(O.distance),B&&F.clipAngle(B-p.clipPad),F}function s(w,O,_){var U=1e-6,z=2.5,F=O[w],B=p.scopeDefaults[O.scope],N,V,X;w==="lonaxis"?(N=B.lonaxisRange,V=B.lataxisRange,X=function(oe,ue){return[oe,ue]}):w==="lataxis"&&(N=B.lataxisRange,V=B.lonaxisRange,X=function(oe,ue){return[ue,oe]});var q={type:"linear",range:[N[0],N[1]-U],tick0:F.tick0,dtick:F.dtick};u.setConvert(q,_);var te=u.calcTicks(q);!O.isScoped&&w==="lonaxis"&&te.pop();for(var ne=te.length,ce=new Array(ne),Q=0;Q<ne;Q++)for(var Z=te[Q].x,re=ce[Q]=[],Y=V[0];Y<V[1]+z;Y+=z)re.push(X(Z,Y));return{type:"MultiLineString",coordinates:ce}}function E(w,O){var _=p.clipPad,U=w[0]+_,z=w[1]-_,F=O[0]+_,B=O[1]-_;U>0&&z<0&&(z+=360);var N=(z-U)/4;return{type:"Polygon",coordinates:[[[U,F],[U,B],[U+N,B],[U+2*N,B],[U+3*N,B],[z,B],[z,F],[z-N,F],[z-2*N,F],[z-3*N,F],[U,F]]]}}},10816:function(H,G,e){var g=e(84888).KY,R=e(3400).counterRegex,a=e(43520),C="geo",S=R(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function d(i){for(var n=i._fullLayout,f=i.calcdata,u=n._subplots[C],l=0;l<u.length;l++){var m=u[l],c=g(f,C,m),A=n[m],h=A._subplot;h||(h=a({id:m,graphDiv:i,container:n._geolayer.node(),topojsonURL:i._context.topojsonURL,staticPlot:i._context.staticPlot}),n[m]._subplot=h),h.plot(c,n,i._promises)}}function r(i,n,f,u){for(var l=u._subplots[C]||[],m=0;m<l.length;m++){var c=l[m],A=u[c]._subplot;!n[c]&&A&&(A.framework.remove(),A.clipDef.remove())}}function t(i){for(var n=i._fullLayout,f=n._subplots[C],u=0;u<f.length;u++){var l=n[f[u]],m=l._subplot;m.updateFx(n,l)}}H.exports={attr:C,name:C,idRoot:C,idRegex:S,attrRegex:S,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:d,updateFx:t,clean:r}},40384:function(H,G,e){var g=e(22548),R=e(86968).u,a=e(98192).u,C=e(79552),S=e(67824).overrideAll,v=e(95376),d={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},r=H.exports=S({domain:R({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:d,lataxis:d},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(H,G,e){var g=e(3400),R=e(168),a=e(84888).op,C=e(79552),S=e(40384),v=C.axesNames;H.exports=function(t,i,n){R(t,i,n,{type:"geo",attributes:S,handleDefaults:d,fullData:n,partition:"y"})};function d(r,t,i,n){var f=a(n.fullData,"geo",n.id),u=f.map(function(re){return re._expandedIndex}),l=i("resolution"),m=i("scope"),c=C.scopeDefaults[m],A=i("projection.type",c.projType),h=t._isAlbersUsa=A==="albers usa";h&&(m=t.scope="usa");var o=t._isScoped=m!=="world",p=t._isSatellite=A==="satellite",b=t._isConic=A.indexOf("conic")!==-1||A==="albers",T=t._isClipped=!!C.lonaxisSpan[A];if(r.visible===!1){var P=g.extendDeep({},t._template);P.showcoastlines=!1,P.showcountries=!1,P.showframe=!1,P.showlakes=!1,P.showland=!1,P.showocean=!1,P.showrivers=!1,P.showsubunits=!1,P.lonaxis&&(P.lonaxis.showgrid=!1),P.lataxis&&(P.lataxis.showgrid=!1),t._template=P}for(var x=i("visible"),L,M=0;M<v.length;M++){var s=v[M],E=[30,10][M],w;if(o)w=c[s+"Range"];else{var O=C[s+"Span"],_=(O[A]||O["*"])/2,U=i("projection.rotation."+s.substr(0,3),c.projRotate[M]);w=[U-_,U+_]}var z=i(s+".range",w);i(s+".tick0"),i(s+".dtick",E),L=i(s+".showgrid",x?void 0:!1),L&&(i(s+".gridcolor"),i(s+".gridwidth"),i(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:u,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var F=t.lonaxis.range,B=t.lataxis.range,N=F[0],V=F[1];N>0&&V<0&&(V+=360);var X=(N+V)/2,q;if(!h){var te=o?c.projRotate:[X,0,0];q=i("projection.rotation.lon",te[0]),i("projection.rotation.lat",te[1]),i("projection.rotation.roll",te[2]),L=i("showcoastlines",!o&&x),L&&(i("coastlinecolor"),i("coastlinewidth")),L=i("showocean",x?void 0:!1),L&&i("oceancolor")}var ne,ce;if(h?(ne=-96.6,ce=38.7):(ne=o?X:q,ce=(B[0]+B[1])/2),i("center.lon",ne),i("center.lat",ce),p&&(i("projection.tilt"),i("projection.distance")),b){var Q=c.projParallels||[0,60];i("projection.parallels",Q)}i("projection.scale"),L=i("showland",x?void 0:!1),L&&i("landcolor"),L=i("showlakes",x?void 0:!1),L&&i("lakecolor"),L=i("showrivers",x?void 0:!1),L&&(i("rivercolor"),i("riverwidth")),L=i("showcountries",o&&m!=="usa"&&x),L&&(i("countrycolor"),i("countrywidth")),(m==="usa"||m==="north america"&&l===50)&&(i("showsubunits",x),i("subunitcolor"),i("subunitwidth")),o||(L=i("showframe",x),L&&(i("framecolor"),i("framewidth"))),i("bgcolor");var Z=i("fitbounds");Z&&(delete t.projection.scale,o?(delete t.center.lon,delete t.center.lat):T?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(H,G,e){var g=e(33428),R=e(3400),a=e(24040),C=Math.PI/180,S=180/Math.PI,v={cursor:"pointer"},d={cursor:"auto"};function r(s,E){var w=s.projection,O;return E._isScoped?O=n:E._isClipped?O=u:O=f,O(s,w)}H.exports=r;function t(s,E){return g.behavior.zoom().translate(E.translate()).scale(E.scale())}function i(s,E,w){var O=s.id,_=s.graphDiv,U=_.layout,z=U[O],F=_._fullLayout,B=F[O],N={},V={};function X(q,te){N[O+"."+q]=R.nestedProperty(z,q).get(),a.call("_storeDirectGUIEdit",U,F._preGUI,N);var ne=R.nestedProperty(B,q);ne.get()!==te&&(ne.set(te),R.nestedProperty(z,q).set(te),V[O+"."+q]=te)}w(X),X("projection.scale",E.scale()/s.fitScale),X("fitbounds",!1),_.emit("plotly_relayout",V)}function n(s,E){var w=t(s,E);function O(){g.select(this).style(v)}function _(){E.scale(g.event.scale).translate(g.event.translate),s.render(!0);var F=E.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1]})}function U(F){var B=E.invert(s.midPt);F("center.lon",B[0]),F("center.lat",B[1])}function z(){g.select(this).style(d),i(s,E,U)}return w.on("zoomstart",O).on("zoom",_).on("zoomend",z),w}function f(s,E){var w=t(s,E),O=2,_,U,z,F,B,N,V,X,q;function te(Y){return E.invert(Y)}function ne(Y){var oe=te(Y);if(!oe)return!0;var ue=E(oe);return Math.abs(ue[0]-Y[0])>O||Math.abs(ue[1]-Y[1])>O}function ce(){g.select(this).style(v),_=g.mouse(this),U=E.rotate(),z=E.translate(),F=U,B=te(_)}function Q(){if(N=g.mouse(this),ne(_)){w.scale(E.scale()),w.translate(E.translate());return}E.scale(g.event.scale),E.translate([z[0],g.event.translate[1]]),B?te(N)&&(X=te(N),V=[F[0]+(X[0]-B[0]),U[1],U[2]],E.rotate(V),F=V):(_=N,B=te(_)),q=!0,s.render(!0);var Y=E.rotate(),oe=E.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.center.lon":oe[0],"geo.center.lat":oe[1],"geo.projection.rotation.lon":-Y[0]})}function Z(){g.select(this).style(d),q&&i(s,E,re)}function re(Y){var oe=E.rotate(),ue=E.invert(s.midPt);Y("projection.rotation.lon",-oe[0]),Y("center.lon",ue[0]),Y("center.lat",ue[1])}return w.on("zoomstart",ce).on("zoom",Q).on("zoomend",Z),w}function u(s,E){E.rotate(),E.scale();var w=t(s,E),O=M(w,"zoomstart","zoom","zoomend"),_=0,U=w.on,z;w.on("zoomstart",function(){g.select(this).style(v);var X=g.mouse(this),q=E.rotate(),te=q,ne=E.translate(),ce=m(q);z=l(E,X),U.call(w,"zoom",function(){var Q=g.mouse(this);if(E.scale(g.event.scale),!z)X=Q,z=l(E,X);else if(l(E,Q)){E.rotate(q).translate(ne);var Z=l(E,Q),re=A(z,Z),Y=T(c(ce,re)),oe=h(Y,z,te);(!isFinite(oe[0])||!isFinite(oe[1])||!isFinite(oe[2]))&&(oe=te),E.rotate(oe),te=oe}B(O.of(this,arguments))}),F(O.of(this,arguments))}).on("zoomend",function(){g.select(this).style(d),U.call(w,"zoom",null),N(O.of(this,arguments)),i(s,E,V)}).on("zoom.redraw",function(){s.render(!0);var X=E.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/s.fitScale,"geo.projection.rotation.lon":-X[0],"geo.projection.rotation.lat":-X[1]})});function F(X){_++||X({type:"zoomstart"})}function B(X){X({type:"zoom"})}function N(X){--_||X({type:"zoomend"})}function V(X){var q=E.rotate();X("projection.rotation.lon",-q[0]),X("projection.rotation.lat",-q[1])}return g.rebind(w,O,"on")}function l(s,E){var w=s.invert(E);return w&&isFinite(w[0])&&isFinite(w[1])&&P(w)}function m(s){var E=.5*s[0]*C,w=.5*s[1]*C,O=.5*s[2]*C,_=Math.sin(E),U=Math.cos(E),z=Math.sin(w),F=Math.cos(w),B=Math.sin(O),N=Math.cos(O);return[U*F*N+_*z*B,_*F*N-U*z*B,U*z*N+_*F*B,U*F*B-_*z*N]}function c(s,E){var w=s[0],O=s[1],_=s[2],U=s[3],z=E[0],F=E[1],B=E[2],N=E[3];return[w*z-O*F-_*B-U*N,w*F+O*z+_*N-U*B,w*B-O*N+_*z+U*F,w*N+O*B-_*F+U*z]}function A(s,E){if(!(!s||!E)){var w=L(s,E),O=Math.sqrt(x(w,w)),_=.5*Math.acos(Math.max(-1,Math.min(1,x(s,E)))),U=Math.sin(_)/O;return O&&[Math.cos(_),w[2]*U,-w[1]*U,w[0]*U]}}function h(s,E,w){var O=b(E,2,s[0]);O=b(O,1,s[1]),O=b(O,0,s[2]-w[2]);var _=E[0],U=E[1],z=E[2],F=O[0],B=O[1],N=O[2],V=Math.atan2(U,_)*S,X=Math.sqrt(_*_+U*U),q,te;Math.abs(B)>X?(te=(B>0?90:-90)-V,q=0):(te=Math.asin(B/X)*S-V,q=Math.sqrt(X*X-B*B));var ne=180-te-2*V,ce=(Math.atan2(N,F)-Math.atan2(z,q))*S,Q=(Math.atan2(N,F)-Math.atan2(z,-q))*S,Z=o(w[0],w[1],te,ce),re=o(w[0],w[1],ne,Q);return Z<=re?[te,ce,w[2]]:[ne,Q,w[2]]}function o(s,E,w,O){var _=p(w-s),U=p(O-E);return Math.sqrt(_*_+U*U)}function p(s){return(s%360+540)%360-180}function b(s,E,w){var O=w*C,_=s.slice(),U=E===0?1:0,z=E===2?1:2,F=Math.cos(O),B=Math.sin(O);return _[U]=s[U]*F-s[z]*B,_[z]=s[z]*F+s[U]*B,_}function T(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*S,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*S,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*S]}function P(s){var E=s[0]*C,w=s[1]*C,O=Math.cos(w);return[O*Math.cos(E),O*Math.sin(E),Math.sin(w)]}function x(s,E){for(var w=0,O=0,_=s.length;O<_;++O)w+=s[O]*E[O];return w}function L(s,E){return[s[1]*E[2]-s[2]*E[1],s[2]*E[0]-s[0]*E[2],s[0]*E[1]-s[1]*E[0]]}function M(s){for(var E=0,w=arguments.length,O=[];++E<w;)O.push(arguments[E]);var _=g.dispatch.apply(null,O);return _.of=function(U,z){return function(F){var B;try{B=F.sourceEvent=g.event,F.target=s,g.event=F,_[F.type].apply(U,z)}finally{g.event=B}}},_}},84888:function(H,G,e){var g=e(24040),R=e(33816).SUBPLOT_PATTERN;G.KY=function(a,C,S){var v=g.subplotsRegistry[C];if(!v)return[];for(var d=v.attr,r=[],t=0;t<a.length;t++){var i=a[t],n=i[0].trace;n[d]===S&&r.push(i)}return r},G._M=function(a,C,S){var v=[],d=[],r;if(typeof C=="string"?r=g.getModule(C).plot:typeof C=="function"?r=C:r=C.plot,!r)return[v,a];for(var t=S,i=0;i<a.length;i++){var n=a[i],f=n[0].trace,u=f.zorder!==void 0;f.visible!==!0||f._length===0||(f._module&&f._module.plot===r&&(!u||f.zorder===t)?v.push(n):d.push(n))}return[v,d]},G.op=function(C,S,v){if(!g.subplotsRegistry[S])return[];var d=g.subplotsRegistry[S].attr,r=[],t,i,n;if(S==="gl2d"){var f=v.match(R);i="x"+f[1],n="y"+f[2]}for(var u=0;u<C.length;u++)t=C[u],S==="gl2d"&&g.traceIs(t,"gl2d")?t[d[0]]===i&&t[d[1]]===n&&r.push(t):t[d]===v&&r.push(t);return r}},2428:function(H,G,e){var g=e(62644),R=e(97264),a=e(29128),C=e(33816),S=e(89184);H.exports=d;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function d(r){var t=r.mouseContainer,i=r.glplot,n=new v(t,i);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var m=r.graphDiv._fullLayout._axisConstraintGroups,c=r.xaxis._id,A=r.yaxis._id,h=0;h<m.length;h++)if(m[h][c]!==-1){if(m[h][A]!==-1)return!0;break}return!1}n.mouseListener=g(t,l),t.addEventListener("touchstart",function(m){var c=a(m.changedTouches[0],t);l(0,c[0],c[1]),l(1,c[0],c[1]),m.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchmove",function(m){m.preventDefault();var c=a(m.changedTouches[0],t);l(1,c[0],c[1]),m.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchend",function(m){l(0,n.lastPos[0],n.lastPos[1]),m.preventDefault()},S?{passive:!1}:!1);function l(m,c,A){var h=r.calcDataBox(),o=i.viewBox,p=n.lastPos[0],b=n.lastPos[1],T=C.MINDRAG*i.pixelRatio,P=C.MINZOOM*i.pixelRatio,x,L;c*=i.pixelRatio,A*=i.pixelRatio,A=o[3]-o[1]-A;function M(U,z,F){var B=Math.min(z,F),N=Math.max(z,F);B!==N?(h[U]=B,h[U+2]=N,n.dataBox=h,r.setRanges(h)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(m){var s=c/(o[2]-o[0])*(h[2]-h[0])+h[0],E=A/(o[3]-o[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=s,n.boxStart[1]=E,n.dragStart[0]=c,n.dragStart[1]=A),n.boxEnd[0]=s,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var w=Math.abs(n.dragStart[0]-c)<P,O=Math.abs(n.dragStart[1]-A)<P;if(u()&&!(w&&O)){x=n.boxEnd[0]-n.boxStart[0],L=n.boxEnd[1]-n.boxStart[1];var _=(h[3]-h[1])/(h[2]-h[0]);Math.abs(x*_)>Math.abs(L)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(x)*_*(L>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(_)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(_))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(L)/_*(x>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(_)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(_)))}else w&&(n.boxEnd[0]=n.boxStart[0]),O&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(x=n.boxStart[0]!==n.boxEnd[0],L=n.boxStart[1]!==n.boxEnd[1],x||L?(x&&(M(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),L&&(M(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,m?(n.panning||(n.dragStart[0]=c,n.dragStart[1]=A),Math.abs(n.dragStart[0]-c)<T&&(c=n.dragStart[0]),Math.abs(n.dragStart[1]-A)<T&&(A=n.dragStart[1]),x=(p-c)*(h[2]-h[0])/(i.viewBox[2]-i.viewBox[0]),L=(b-A)*(h[3]-h[1])/(i.viewBox[3]-i.viewBox[1]),h[0]+=x,h[2]+=x,h[1]+=L,h[3]+=L,r.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=c,n.lastPos[1]=A}return n.wheelListener=R(t,function(m,c){if(!r.scrollZoom)return!1;var A=r.calcDataBox(),h=i.viewBox,o=n.lastPos[0],p=n.lastPos[1],b=Math.exp(5*c/(h[3]-h[1])),T=o/(h[2]-h[0])*(A[2]-A[0])+A[0],P=p/(h[3]-h[1])*(A[3]-A[1])+A[1];return A[0]=(A[0]-T)*b+T,A[2]=(A[2]-T)*b+T,A[1]=(A[1]-P)*b+P,A[3]=(A[3]-P)*b+P,r.setRanges(A),n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(H,G,e){var g=e(54460),R=e(43080);function a(d){this.scene=d,this.gl=d.gl,this.pixelRatio=d.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=a.prototype,S=["xaxis","yaxis"];C.merge=function(d){this.titleEnable=!1,this.backgroundColor=R(d.plot_bgcolor);var r,t,i,n,f,u,l,m,c,A,h;for(A=0;A<2;++A){r=S[A];var o=r.charAt(0);for(t=d[this.scene[r]._name],i=t.title.text===this.scene.fullLayout._dfltTitle[o]?"":t.title.text,h=0;h<=2;h+=2)this.labelEnable[A+h]=!1,this.labels[A+h]=i,this.labelColor[A+h]=R(t.title.font.color),this.labelFont[A+h]=t.title.font.family,this.labelSize[A+h]=t.title.font.size,this.labelPad[A+h]=this.getLabelPad(r,t),this.tickEnable[A+h]=!1,this.tickColor[A+h]=R((t.tickfont||{}).color),this.tickAngle[A+h]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[A+h]=this.getTickPad(t),this.tickMarkLength[A+h]=0,this.tickMarkWidth[A+h]=t.tickwidth||0,this.tickMarkColor[A+h]=R(t.tickcolor),this.borderLineEnable[A+h]=!1,this.borderLineColor[A+h]=R(t.linecolor),this.borderLineWidth[A+h]=t.linewidth||0;l=this.hasSharedAxis(t),f=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,m=l?String(n).indexOf("all")!==-1:!!n,c=l?n==="allticks":String(n).indexOf("ticks")!==-1,f?this.labelEnable[A]=!0:u&&(this.labelEnable[A+2]=!0),f?this.tickEnable[A]=t.showticklabels:u&&(this.tickEnable[A+2]=t.showticklabels),(f||m)&&(this.borderLineEnable[A]=t.showline),(u||m)&&(this.borderLineEnable[A+2]=t.showline),(f||c)&&(this.tickMarkLength[A]=this.getTickMarkLength(t)),(u||c)&&(this.tickMarkLength[A+2]=this.getTickMarkLength(t)),this.gridLineEnable[A]=t.showgrid,this.gridLineColor[A]=R(t.gridcolor),this.gridLineWidth[A]=t.gridwidth,this.zeroLineEnable[A]=t.zeroline,this.zeroLineColor[A]=R(t.zerolinecolor),this.zeroLineWidth[A]=t.zerolinewidth}},C.hasSharedAxis=function(d){var r=this.scene,t=r.fullLayout._subplots.gl2d,i=g.findSubplotsWithAxis(t,d);return i.indexOf(r.id)!==0},C.hasAxisInDfltPos=function(d,r){var t=r.side;if(d==="xaxis")return t==="bottom";if(d==="yaxis")return t==="left"},C.hasAxisInAltrPos=function(d,r){var t=r.side;if(d==="xaxis")return t==="top";if(d==="yaxis")return t==="right"},C.getLabelPad=function(d,r){var t=1.5,i=r.title.font.size,n=r.showticklabels;if(d==="xaxis")return r.side==="top"?-10+i*(t+(n?1:0)):-10+i*(t+(n?.5:0));if(d==="yaxis")return r.side==="right"?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0))},C.getTickPad=function(d){return d.ticks==="outside"?10+d.ticklen:15},C.getTickMarkLength=function(d){if(!d.ticks)return 0;var r=d.ticklen;return d.ticks==="inside"?-r:r};function v(d){return new a(d)}H.exports=v},39952:function(H,G,e){var g=e(67824).overrideAll,R=e(17188),a=e(64859),C=e(9616),S=e(33816),v=e(57952),d=e(65460),r=e(84888).op;G.name="gl2d",G.attr=["xaxis","yaxis"],G.idRoot=["x","y"],G.idRegex=S.idRegex,G.attrRegex=S.attrRegex,G.attributes=e(26720),G.supplyLayoutDefaults=function(t,i,n){i._has("cartesian")||v.supplyLayoutDefaults(t,i,n)},G.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),G.baseLayoutAttrOverrides=g({plot_bgcolor:a.plot_bgcolor,hoverlabel:d.hoverlabel},"plot","nested"),G.plot=function(i){for(var n=i._fullLayout,f=i._fullData,u=n._subplots.gl2d,l=0;l<u.length;l++){var m=u[l],c=n._plots[m],A=r(f,"gl2d",m),h=c._scene2d;h===void 0&&(h=new R({id:m,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),c._scene2d=h),h.plot(A,i.calcdata,n,i.layout)}},G.clean=function(t,i,n,f){for(var u=f._subplots.gl2d||[],l=0;l<u.length;l++){var m=u[l],c=f._plots[m];if(c._scene2d){var A=r(t,"gl2d",m);A.length===0&&(c._scene2d.destroy(),delete f._plots[m])}}v.clean.apply(this,arguments)},G.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},G.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,f=0;f<n.length;f++){var u=i._plots[n[f]],l=u._scene2d,m=l.toImage("png"),c=i._glimages.append("svg:image");c.attr({xmlns:C.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},G.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,f=0;f<n.length;f++){var u=i._plots[n[f]]._scene2d;u.updateFx(i.dragmode)}}},17188:function(H,G,e){var g=e(24040),R=e(54460),a=e(93024),C=e(67792).gl_plot2d,S=e(67792).gl_spikes2d,v=e(67792).gl_select_box,d=e(5408),r=e(92568),t=e(2428),i=e(16576),n=e(71888),f=n.enforce,u=n.clean,l=e(19280).doAutoRange,m=e(72760),c=m.drawMode,A=m.selectMode,h=["xaxis","yaxis"],o,p,b=e(33816).SUBPLOT_PATTERN;function T(L,M){this.container=L.container,this.graphDiv=L.graphDiv,this.pixelRatio=L.plotGlPixelRatio||window.devicePixelRatio,this.id=L.id,this.staticPlot=!!L.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(M),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(M),this.glplot=C(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=S(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}H.exports=T;var P=T.prototype;P.makeFramework=function(){if(this.staticPlot){if(!p&&(o=document.createElement("canvas"),p=d({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=p}else{var L=this.container.querySelector(".gl-canvas-focus"),M=d({canvas:L,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!M){i(this),this.stopped=!0;return}this.canvas=L,this.gl=M}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var w=this.mouseContainer=document.createElement("div");w.style.position="absolute",w.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var O=this.container;O.appendChild(E),O.appendChild(w);var _=this;w.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),w.addEventListener("mouseover",function(){_.isMouseOver=!0})},P.toImage=function(L){L||(L="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var M=this.glplot.gl,s=M.drawingBufferWidth,E=M.drawingBufferHeight;M.clearColor(1,1,1,0),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),M.bindFramebuffer(M.FRAMEBUFFER,null);var w=new Uint8Array(s*E*4);M.readPixels(0,0,s,E,M.RGBA,M.UNSIGNED_BYTE,w);for(var O=0,_=E-1;O<_;++O,--_)for(var U=0;U<s;++U)for(var z=0;z<4;++z){var F=w[4*(s*O+U)+z];w[4*(s*O+U)+z]=w[4*(s*_+U)+z],w[4*(s*_+U)+z]=F}var B=document.createElement("canvas");B.width=s,B.height=E;var N=B.getContext("2d",{willReadFrequently:!0}),V=N.createImageData(s,E);V.data.set(w),N.putImageData(V,0,0);var X;switch(L){case"jpeg":X=B.toDataURL("image/jpeg");break;case"webp":X=B.toDataURL("image/webp");break;default:X=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),X},P.updateSize=function(L){L||(L=this.canvas);var M=this.pixelRatio,s=this.fullLayout,E=s.width,w=s.height,O=Math.ceil(M*E)|0,_=Math.ceil(M*w)|0;return(L.width!==O||L.height!==_)&&(L.width=O,L.height=_),L},P.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var L=[R.calcTicks(this.xaxis),R.calcTicks(this.yaxis)],M=0;M<2;++M)for(var s=0;s<L[M].length;++s)L[M][s].text=L[M][s].text+"";return L};function x(L,M){for(var s=0;s<2;++s){var E=L[s],w=M[s];if(E.length!==w.length)return!0;for(var O=0;O<E.length;++O)if(E[O].x!==w[O].x)return!0}return!1}P.updateRefs=function(L){this.fullLayout=L;var M=this.id.match(b),s="xaxis"+M[1],E="yaxis"+M[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[E]},P.relayoutCallback=function(){var L=this.graphDiv,M=this.xaxis,s=this.yaxis,E=L.layout,w={},O=w[M._name+".range"]=M.range.slice(),_=w[s._name+".range"]=s.range.slice();w[M._name+".autorange"]=M.autorange,w[s._name+".autorange"]=s.autorange,g.call("_storeDirectGUIEdit",L.layout,L._fullLayout._preGUI,w);var U=E[M._name];U.range=O,U.autorange=M.autorange;var z=E[s._name];z.range=_,z.autorange=s.autorange,w.lastInputTime=this.camera.lastInputTime,L.emit("plotly_relayout",w)},P.cameraChanged=function(){var L=this.camera;this.glplot.setDataBox(this.calcDataBox());var M=this.computeTickMarks(),s=this.glplotOptions.ticks;x(M,s)&&(this.glplotOptions.ticks=M,this.glplotOptions.dataBox=L.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},P.handleAnnotations=function(){for(var L=this.graphDiv,M=this.fullLayout.annotations,s=0;s<M.length;s++){var E=M[s];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(L,s)}},P.destroy=function(){if(this.glplot){var L=this.traces;L&&Object.keys(L).map(function(M){L[M].dispose(),delete L[M]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},P.plot=function(L,M,s){var E=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(L,M),this.updateFx(s.dragmode);var w=s.width,O=s.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(s),_.screenBox=[0,0,w,O];var U={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};u(U,this.xaxis),u(U,this.yaxis);var z=s._size,F=this.xaxis.domain,B=this.yaxis.domain;_.viewBox=[z.l+F[0]*z.w,z.b+B[0]*z.h,w-z.r-(1-F[1])*z.w,O-z.t-(1-B[1])*z.h],this.mouseContainer.style.width=z.w*(F[1]-F[0])+"px",this.mouseContainer.style.height=z.h*(B[1]-B[0])+"px",this.mouseContainer.height=z.h*(B[1]-B[0]),this.mouseContainer.style.left=z.l+F[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-B[1])*z.h+"px";var N,V;for(V=0;V<2;++V)N=this[h[V]],N._length=_.viewBox[V+2]-_.viewBox[V],l(this.graphDiv,N),N.setScale();f(U),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(s),E.update(_),this.glplot.draw()},P.calcDataBox=function(){var L=this.xaxis,M=this.yaxis,s=L.range,E=M.range,w=L.r2l,O=M.r2l;return[w(s[0]),O(E[0]),w(s[1]),O(E[1])]},P.setRanges=function(L){var M=this.xaxis,s=this.yaxis,E=M.l2r,w=s.l2r;M.range=[E(L[0]),E(L[2])],s.range=[w(L[1]),w(L[3])]},P.updateTraces=function(L,M){var s=Object.keys(this.traces),E,w,O;this.fullData=L;e:for(E=0;E<s.length;E++){var _=s[E],U=this.traces[_];for(w=0;w<L.length;w++)if(O=L[w],O.uid===_&&O.type===U.type)continue e;U.dispose(),delete this.traces[_]}for(E=0;E<L.length;E++){O=L[E];var z=M[E],F=this.traces[O.uid];F?F.update(O,z):(F=O._module.plot(this,O,z),this.traces[O.uid]=F)}this.glplot.objects.sort(function(B,N){return B._trace.index-N._trace.index})},P.updateFx=function(L){A(L)||c(L)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),L==="pan"?this.mouseContainer.style.cursor="move":L==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},P.emitPointAction=function(L,M){for(var s=L.trace.uid,E=L.pointIndex,w,O=0;O<this.fullData.length;O++)this.fullData[O].uid===s&&(w=this.fullData[O]);var _={x:L.traceCoord[0],y:L.traceCoord[1],curveNumber:w.index,pointNumber:E,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(_,w,E),this.graphDiv.emit(M,{points:[_]})},P.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var L=this.glplot,M=this.camera,s=M.mouseListener,E=this.lastButtonState===1&&s.buttons===0,w=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var O=s.x*L.pixelRatio,_=this.canvas.height-L.pixelRatio*s.y,U;if(M.boxEnabled&&w.dragmode==="zoom"){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(M.boxStart[0],M.boxEnd[0]),Math.min(M.boxStart[1],M.boxEnd[1]),Math.max(M.boxStart[0],M.boxEnd[0]),Math.max(M.boxStart[1],M.boxEnd[1])],F=0;F<2;F++)M.boxStart[F]===M.boxEnd[F]&&(z[F]=L.dataBox[F],z[F+2]=L.dataBox[F+2]);L.setDirty()}else if(!M.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=w._size,N=this.xaxis.domain,V=this.yaxis.domain;U=L.pick(O/L.pixelRatio+B.l+N[0]*B.w,_/L.pixelRatio-(B.t+(1-V[1])*B.h));var X=U&&U.object._trace.handlePick(U);if(X&&E&&this.emitPointAction(X,"plotly_click"),U&&U.object._trace.hoverinfo!=="skip"&&w.hovermode&&X&&(!this.lastPickResult||this.lastPickResult.traceUid!==X.trace.uid||this.lastPickResult.dataCoord[0]!==X.dataCoord[0]||this.lastPickResult.dataCoord[1]!==X.dataCoord[1])){var q=X;this.lastPickResult={traceUid:X.trace?X.trace.uid:null,dataCoord:X.dataCoord.slice()},this.spikes.update({center:U.dataCoord}),q.screenCoord=[((L.viewBox[2]-L.viewBox[0])*(U.dataCoord[0]-L.dataBox[0])/(L.dataBox[2]-L.dataBox[0])+L.viewBox[0])/L.pixelRatio,(this.canvas.height-(L.viewBox[3]-L.viewBox[1])*(U.dataCoord[1]-L.dataBox[1])/(L.dataBox[3]-L.dataBox[1])-L.viewBox[1])/L.pixelRatio],this.emitPointAction(X,"plotly_hover");var te=this.fullData[q.trace.index]||{},ne=q.pointIndex,ce=a.castHoverinfo(te,w,ne);if(ce&&ce!=="all"){var Q=ce.split("+");Q.indexOf("x")===-1&&(q.traceCoord[0]=void 0),Q.indexOf("y")===-1&&(q.traceCoord[1]=void 0),Q.indexOf("z")===-1&&(q.traceCoord[2]=void 0),Q.indexOf("text")===-1&&(q.textLabel=void 0),Q.indexOf("name")===-1&&(q.name=void 0)}a.loneHover({x:q.screenCoord[0],y:q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",q.traceCoord[1]),zLabel:q.traceCoord[2],text:q.textLabel,name:q.name,color:a.castHoverOption(te,ne,"bgcolor")||q.color,borderColor:a.castHoverOption(te,ne,"bordercolor"),fontFamily:a.castHoverOption(te,ne,"font.family"),fontSize:a.castHoverOption(te,ne,"font.size"),fontColor:a.castHoverOption(te,ne,"font.color"),nameLength:a.castHoverOption(te,ne,"namelength"),textAlign:a.castHoverOption(te,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}U||this.unhover(),L.draw()}},P.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},P.hoverFormatter=function(L,M){if(M!==void 0){var s=this[L];return R.tickText(s,s.c2l(M),"hover").text}}},12536:function(H,G,e){var g=e(67824).overrideAll,R=e(65460),a=e(98432),C=e(84888).op,S=e(3400),v=e(9616),d="gl3d",r="scene";G.name=d,G.attr=r,G.idRoot=r,G.idRegex=G.attrRegex=S.counterRegex("scene"),G.attributes=e(6636),G.layoutAttributes=e(346),G.baseLayoutAttrOverrides=g({hoverlabel:R.hoverlabel},"plot","nested"),G.supplyLayoutDefaults=e(5208),G.plot=function(i){for(var n=i._fullLayout,f=i._fullData,u=n._subplots[d],l=0;l<u.length;l++){var m=u[l],c=C(f,d,m),A=n[m],h=A.camera,o=A._scene;o||(o=new a({id:m,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:h},n),A._scene=o),o.viewInitial||(o.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),o.plot(c,n,i.layout)}},G.clean=function(t,i,n,f){for(var u=f._subplots[d]||[],l=0;l<u.length;l++){var m=u[l];!i[m]&&f[m]._scene&&(f[m]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+m).remove())}},G.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots[d],f=i._size,u=0;u<n.length;u++){var l=i[n[u]],m=l.domain,c=l._scene,A=c.toImage("png"),h=i._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":A,x:f.l+f.w*m.x[0],y:f.t+f.h*(1-m.y[1]),width:f.w*(m.x[1]-m.x[0]),height:f.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),c.destroy()}},G.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return n==="1"&&(n=""),r+n}},G.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots[d],f=0;f<n.length;f++){var u=i[n[f]]._scene;u.updateFx(i.dragmode,i.hovermode)}}},6636:function(H){H.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(H,G,e){var g=e(76308),R=e(94724),a=e(92880).extendFlat,C=e(67824).overrideAll;H.exports=C({visible:R.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:R.color,categoryorder:R.categoryorder,categoryarray:R.categoryarray,title:{text:R.title.text,font:R.title.font},type:a({},R.type,{values:["-","linear","log","date","category"]}),autotypenumbers:R.autotypenumbers,autorange:R.autorange,autorangeoptions:{minallowed:R.autorangeoptions.minallowed,maxallowed:R.autorangeoptions.maxallowed,clipmin:R.autorangeoptions.clipmin,clipmax:R.autorangeoptions.clipmax,include:R.autorangeoptions.include,editType:"plot"},rangemode:R.rangemode,minallowed:R.minallowed,maxallowed:R.maxallowed,range:a({},R.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:R.minor.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,mirror:R.mirror,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,tickfont:R.tickfont,tickangle:R.tickangle,tickprefix:R.tickprefix,showtickprefix:R.showtickprefix,ticksuffix:R.ticksuffix,showticksuffix:R.showticksuffix,showexponent:R.showexponent,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,tickformat:R.tickformat,tickformatstops:R.tickformatstops,hoverformat:R.hoverformat,showline:R.showline,linecolor:R.linecolor,linewidth:R.linewidth,showgrid:R.showgrid,gridcolor:a({},R.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:R.gridwidth,zeroline:R.zeroline,zerolinecolor:R.zerolinecolor,zerolinewidth:R.zerolinewidth,_deprecated:{title:R._deprecated.title,titlefont:R._deprecated.titlefont}},"plot","from-root")},64380:function(H,G,e){var g=e(49760).mix,R=e(3400),a=e(31780),C=e(86140),S=e(14944),v=e(28336),d=["xaxis","yaxis","zaxis"],r=100*136/187;H.exports=function(i,n,f){var u,l;function m(h,o){return R.coerce(u,l,C,h,o)}for(var c=0;c<d.length;c++){var A=d[c];u=i[A]||{},l=a.newContainer(n,A),l._id=A[0]+f.scene,l._name=A,S(u,l,m,f),v(u,l,m,{font:f.font,letter:A[0],data:f.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),m("gridcolor",g(l.color,f.bgColor,r).toRgbString()),m("title.text",A[0]),l.setScale=R.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",l.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},44728:function(H,G,e){var g=e(43080),R=e(3400),a=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var S=C.prototype;S.merge=function(d,r){for(var t=this,i=0;i<3;++i){var n=r[a[i]];if(!n.visible){t.tickEnable[i]=!1,t.labelEnable[i]=!1,t.lineEnable[i]=!1,t.lineTickEnable[i]=!1,t.gridEnable[i]=!1,t.zeroEnable[i]=!1,t.backgroundEnable[i]=!1;continue}t.labels[i]=d._meta?R.templateString(n.title.text,d._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[i]=g(n.title.font.color)),n.title.font.family&&(t.labelFont[i]=n.title.font.family),n.title.font.size&&(t.labelSize[i]=n.title.font.size),n.title.font.weight&&(t.labelFontWeight[i]=n.title.font.weight),n.title.font.style&&(t.labelFontStyle[i]=n.title.font.style),n.title.font.variant&&(t.labelFontVariant[i]=n.title.font.variant)),"showline"in n&&(t.lineEnable[i]=n.showline),"linecolor"in n&&(t.lineColor[i]=g(n.linecolor)),"linewidth"in n&&(t.lineWidth[i]=n.linewidth),"showgrid"in n&&(t.gridEnable[i]=n.showgrid),"gridcolor"in n&&(t.gridColor[i]=g(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[i]=n.gridwidth),n.type==="log"?t.zeroEnable[i]=!1:"zeroline"in n&&(t.zeroEnable[i]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[i]=g(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[i]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[i]=!0:t.lineTickEnable[i]=!1,"ticklen"in n&&(t.lineTickLength[i]=t._defaultLineTickLength[i]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[i]=g(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[i]=n.tickwidth),"tickangle"in n&&(t.tickAngle[i]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[i]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[i]=g(n.tickfont.color)),n.tickfont.family&&(t.tickFont[i]=n.tickfont.family),n.tickfont.size&&(t.tickSize[i]=n.tickfont.size),n.tickfont.weight&&(t.tickFontWeight[i]=n.tickfont.weight),n.tickfont.style&&(t.tickFontStyle[i]=n.tickfont.style),n.tickfont.variant&&(t.tickFontVariant[i]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[i]=!0,t.lineMirror[i]=!0):n.mirror===!0?(t.lineTickMirror[i]=!1,t.lineMirror[i]=!0):(t.lineTickMirror[i]=!1,t.lineMirror[i]=!1):t.lineMirror[i]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[i]=!0,t.backgroundColor[i]=g(n.backgroundcolor)):t.backgroundEnable[i]=!1}};function v(d,r){var t=new C;return t.merge(d,r),t}H.exports=v},5208:function(H,G,e){var g=e(3400),R=e(76308),a=e(24040),C=e(168),S=e(64380),v=e(346),d=e(84888).op,r="gl3d";H.exports=function(n,f,u){var l=f._basePlotModules.length>1;function m(c){if(!l){var A=g.validate(n[c],v[c]);if(A)return n[c]}}C(n,f,u,{type:r,attributes:v,handleDefaults:t,fullLayout:f,font:f.font,fullData:u,getDfltFromLayout:m,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function t(i,n,f,u){for(var l=f("bgcolor"),m=R.combine(l,u.paper_bgcolor),c=["up","center","eye"],A=0;A<c.length;A++)f("camera."+c[A]+".x"),f("camera."+c[A]+".y"),f("camera."+c[A]+".z");f("camera.projection.type");var h=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),o=h?"manual":"auto",p=f("aspectmode",o);h||(i.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),i.aspectmode=n.aspectmode);var b=d(u.fullData,r,u.id);S(i,n,{font:u.font,scene:u.id,data:b,bgColor:m,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(i,n,u);var T=u.getDfltFromLayout("dragmode");if(T!==!1&&!T)if(T="orbit",i.camera&&i.camera.up){var P=i.camera.up.x,x=i.camera.up.y,L=i.camera.up.z;L!==0&&(!P||!x||!L||L/Math.sqrt(P*P+x*x+L*L)>.999)&&(T="turntable")}else T="turntable";f("dragmode",T),f("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(H,G,e){var g=e(86140),R=e(86968).u,a=e(92880).extendFlat,C=e(3400).counterRegex;function S(v,d,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:d,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}H.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(S(0,0,1),{}),center:a(S(0,0,0),{}),eye:a(S(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:R({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(H,G,e){var g=e(43080),R=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=a.prototype;C.merge=function(v){for(var d=0;d<3;++d){var r=v[R[d]];if(!r.visible){this.enabled[d]=!1,this.drawSides[d]=!1;continue}this.enabled[d]=r.showspikes,this.colors[d]=g(r.spikecolor),this.drawSides[d]=r.spikesides,this.lineWidth[d]=r.spikethickness}};function S(v){var d=new a;return d.merge(v),d}H.exports=S},87152:function(H,G,e){H.exports=S;var g=e(54460),R=e(3400),a=["xaxis","yaxis","zaxis"];function C(v){for(var d=new Array(3),r=0;r<3;++r){for(var t=v[r],i=new Array(t.length),n=0;n<t.length;++n)i[n]=t[n].x;d[r]=i}return d}function S(v){for(var d=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var f=t[a[n]];if(f._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(f._length)===1/0||isNaN(f._length))i[n]=[];else{f._input_range=f.range.slice(),f.range[0]=r[n].lo/v.dataScale[n],f.range[1]=r[n].hi/v.dataScale[n],f._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var u=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var l=f.nticks||R.constrain(f._length/40,4,9);g.autoTicks(f,Math.abs(f.range[1]-f.range[0])/l)}for(var m=g.calcTicks(f,{msUTC:!0}),c=0;c<m.length;++c)m[c].x=m[c].x*v.dataScale[n],f.type==="date"&&(m[c].text=m[c].text.replace(/\<br\>/g," "));i[n]=m,f.tickmode=u}}d.ticks=i;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var c=0;c<2;++c)d.bounds[c][n]=v.glplot.bounds[c][n]}v.contourLevels=C(i)}},94424:function(H){function G(g,R){var a=[0,0,0,0],C,S;for(C=0;C<4;++C)for(S=0;S<4;++S)a[S]+=g[4*C+S]*R[C];return a}function e(g,R){var a=G(g.projection,G(g.view,G(g.model,[R[0],R[1],R[2],1])));return a}H.exports=e},98432:function(H,G,e){var g=e(67792).gl_plot3d,R=g.createCamera,a=g.createScene,C=e(5408),S=e(89184),v=e(24040),d=e(3400),r=d.preserveDrawingBuffer(),t=e(54460),i=e(93024),n=e(43080),f=e(16576),u=e(94424),l=e(44728),m=e(9020),c=e(87152),A=e(19280).applyAutorangeOptions,h,o,p=!1;function b(_,U){var z=document.createElement("div"),F=_.container;this.graphDiv=_.graphDiv;var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.style.position="absolute",B.style.top=B.style.left="0px",B.style.width=B.style.height="100%",B.style["z-index"]=20,B.style["pointer-events"]="none",z.appendChild(B),this.svgContainer=B,z.id=_.id,z.style.position="absolute",z.style.top=z.style.left="0px",z.style.width=z.style.height="100%",F.appendChild(z),this.fullLayout=U,this.id=_.id||"scene",this.fullSceneLayout=U[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(U,U[this.id]),this.spikeOptions=m(U[this.id]),this.container=z,this.staticMode=!!_.staticPlot,this.pixelRatio=this.pixelRatio||_.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var T=b.prototype;T.prepareOptions=function(){var _=this,U={canvas:_.canvas,gl:_.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:_.container,axes:_.axesOptions,spikes:_.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:_.camera,pixelRatio:_.pixelRatio};if(_.staticMode){if(!o&&(h=document.createElement("canvas"),o=C({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");U.gl=o,U.canvas=h}return U};var P=!0;T.tryCreatePlot=function(){var _=this,U=_.prepareOptions(),z=!0;try{_.glplot=a(U)}catch{if(_.staticMode||!P||r)z=!1;else{d.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=U.glOptions.preserveDrawingBuffer=!0,_.glplot=a(U)}catch{r=U.glOptions.preserveDrawingBuffer=!1,z=!1}}}return P=!1,z},T.initializeGLCamera=function(){var _=this,U=_.fullSceneLayout.camera,z=U.projection.type==="orthographic";_.camera=R(_.container,{center:[U.center.x,U.center.y,U.center.z],eye:[U.eye.x,U.eye.y,U.eye.z],up:[U.up.x,U.up.y,U.up.z],_ortho:z,zoomMin:.01,zoomMax:100,mode:"orbit"})},T.initializeGLPlot=function(){var _=this;_.initializeGLCamera();var U=_.tryCreatePlot();if(!U)return f(_);_.traces={},_.make4thDimension();var z=_.graphDiv,F=z.layout,B=function(){var V={};return _.isCameraChanged(F)&&(V[_.id+".camera"]=_.getCamera()),_.isAspectChanged(F)&&(V[_.id+".aspectratio"]=_.glplot.getAspectratio(),F[_.id].aspectmode!=="manual"&&(_.fullSceneLayout.aspectmode=F[_.id].aspectmode=V[_.id+".aspectmode"]="manual")),V},N=function(V){if(V.fullSceneLayout.dragmode!==!1){var X=B();V.saveLayout(F),V.graphDiv.emit("plotly_relayout",X)}};return _.glplot.canvas&&(_.glplot.canvas.addEventListener("mouseup",function(){N(_)}),_.glplot.canvas.addEventListener("touchstart",function(){p=!0}),_.glplot.canvas.addEventListener("wheel",function(V){if(z._context._scrollZoom.gl3d){if(_.camera._ortho){var X=V.deltaX>V.deltaY?1.1:.9090909090909091,q=_.glplot.getAspectratio();_.glplot.setAspectratio({x:X*q.x,y:X*q.y,z:X*q.z})}N(_)}},S?{passive:!1}:!1),_.glplot.canvas.addEventListener("mousemove",function(){if(_.fullSceneLayout.dragmode!==!1&&_.camera.mouseListener.buttons!==0){var V=B();_.graphDiv.emit("plotly_relayouting",V)}}),_.staticMode||_.glplot.canvas.addEventListener("webglcontextlost",function(V){z&&z.emit&&z.emit("plotly_webglcontextlost",{event:V,layer:_.id})},!1)),_.glplot.oncontextloss=function(){_.recoverContext()},_.glplot.onrender=function(){_.render()},!0},T.render=function(){var _=this,U=_.graphDiv,z,F=_.svgContainer,B=_.container.getBoundingClientRect();U._fullLayout._calcInverseTransform(U);var N=U._fullLayout._invScaleX,V=U._fullLayout._invScaleY,X=B.width*N,q=B.height*V;F.setAttributeNS(null,"viewBox","0 0 "+X+" "+q),F.setAttributeNS(null,"width",X),F.setAttributeNS(null,"height",q),c(_),_.glplot.axes.update(_.axesOptions);for(var te=Object.keys(_.traces),ne=null,ce=_.glplot.selection,Q=0;Q<te.length;++Q)z=_.traces[te[Q]],z.data.hoverinfo!=="skip"&&z.handlePick(ce)&&(ne=z),z.setContourLevels&&z.setContourLevels();function Z(ke,we,Ee){var be=_.fullSceneLayout[ke+"axis"];return be.type!=="log"&&(we=be.d2l(we)),t.hoverLabelText(be,we,Ee)}if(ne!==null){var re=u(_.glplot.cameraParams,ce.dataCoordinate);z=ne.data;var Y=U._fullData[z.index],oe=ce.index,ue={xLabel:Z("x",ce.traceCoordinate[0],z.xhoverformat),yLabel:Z("y",ce.traceCoordinate[1],z.yhoverformat),zLabel:Z("z",ce.traceCoordinate[2],z.zhoverformat)},K=i.castHoverinfo(Y,_.fullLayout,oe),$=(K||"").split("+"),le=K&&K==="all";!Y.hovertemplate&&!le&&($.indexOf("x")===-1&&(ue.xLabel=void 0),$.indexOf("y")===-1&&(ue.yLabel=void 0),$.indexOf("z")===-1&&(ue.zLabel=void 0),$.indexOf("text")===-1&&(ce.textLabel=void 0),$.indexOf("name")===-1&&(ne.name=void 0));var ae,he=[];z.type==="cone"||z.type==="streamtube"?(ue.uLabel=Z("x",ce.traceCoordinate[3],z.uhoverformat),(le||$.indexOf("u")!==-1)&&he.push("u: "+ue.uLabel),ue.vLabel=Z("y",ce.traceCoordinate[4],z.vhoverformat),(le||$.indexOf("v")!==-1)&&he.push("v: "+ue.vLabel),ue.wLabel=Z("z",ce.traceCoordinate[5],z.whoverformat),(le||$.indexOf("w")!==-1)&&he.push("w: "+ue.wLabel),ue.normLabel=ce.traceCoordinate[6].toPrecision(3),(le||$.indexOf("norm")!==-1)&&he.push("norm: "+ue.normLabel),z.type==="streamtube"&&(ue.divergenceLabel=ce.traceCoordinate[7].toPrecision(3),(le||$.indexOf("divergence")!==-1)&&he.push("divergence: "+ue.divergenceLabel)),ce.textLabel&&he.push(ce.textLabel),ae=he.join("<br>")):z.type==="isosurface"||z.type==="volume"?(ue.valueLabel=t.hoverLabelText(_._mockAxis,_._mockAxis.d2l(ce.traceCoordinate[3]),z.valuehoverformat),he.push("value: "+ue.valueLabel),ce.textLabel&&he.push(ce.textLabel),ae=he.join("<br>")):ae=ce.textLabel;var xe={x:ce.traceCoordinate[0],y:ce.traceCoordinate[1],z:ce.traceCoordinate[2],data:Y._input,fullData:Y,curveNumber:Y.index,pointNumber:oe};i.appendArrayPointValue(xe,Y,oe),z._module.eventData&&(xe=Y._module.eventData(xe,ce,Y,{},oe));var Me={points:[xe]};if(_.fullSceneLayout.hovermode){var Ae=[];i.loneHover({trace:Y,x:(.5+.5*re[0]/re[3])*X,y:(.5-.5*re[1]/re[3])*q,xLabel:ue.xLabel,yLabel:ue.yLabel,zLabel:ue.zLabel,text:ae,name:ne.name,color:i.castHoverOption(Y,oe,"bgcolor")||ne.color,borderColor:i.castHoverOption(Y,oe,"bordercolor"),fontFamily:i.castHoverOption(Y,oe,"font.family"),fontSize:i.castHoverOption(Y,oe,"font.size"),fontColor:i.castHoverOption(Y,oe,"font.color"),nameLength:i.castHoverOption(Y,oe,"namelength"),textAlign:i.castHoverOption(Y,oe,"align"),hovertemplate:d.castOption(Y,oe,"hovertemplate"),hovertemplateLabels:d.extendFlat({},xe,ue),eventData:[xe]},{container:F,gd:U,inOut_bbox:Ae}),xe.bbox=Ae[0]}ce.distance<5&&(ce.buttons||p)?U.emit("plotly_click",Me):U.emit("plotly_hover",Me),this.oldEventData=Me}else i.loneUnhover(F),this.oldEventData&&U.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;_.drawAnnotations(_)},T.recoverContext=function(){var _=this;_.glplot.dispose();var U=function(){if(_.glplot.gl.isContextLost()){requestAnimationFrame(U);return}if(!_.initializeGLPlot()){d.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}_.plot.apply(_,_.plotArgs)};requestAnimationFrame(U)};var x=["xaxis","yaxis","zaxis"];function L(_,U,z){for(var F=_.fullSceneLayout,B=0;B<3;B++){var N=x[B],V=N.charAt(0),X=F[N],q=U[V],te=U[V+"calendar"],ne=U["_"+V+"length"];if(!d.isArrayOrTypedArray(q))z[0][B]=Math.min(z[0][B],0),z[1][B]=Math.max(z[1][B],ne-1);else for(var ce,Q=0;Q<(ne||q.length);Q++)if(d.isArrayOrTypedArray(q[Q]))for(var Z=0;Z<q[Q].length;++Z)ce=X.d2l(q[Q][Z],0,te),!isNaN(ce)&&isFinite(ce)&&(z[0][B]=Math.min(z[0][B],ce),z[1][B]=Math.max(z[1][B],ce));else ce=X.d2l(q[Q],0,te),!isNaN(ce)&&isFinite(ce)&&(z[0][B]=Math.min(z[0][B],ce),z[1][B]=Math.max(z[1][B],ce))}}function M(_,U){for(var z=_.fullSceneLayout,F=z.annotations||[],B=0;B<3;B++)for(var N=x[B],V=N.charAt(0),X=z[N],q=0;q<F.length;q++){var te=F[q];if(te.visible){var ne=X.r2l(te[V]);!isNaN(ne)&&isFinite(ne)&&(U[0][B]=Math.min(U[0][B],ne),U[1][B]=Math.max(U[1][B],ne))}}}T.plot=function(_,U,z){var F=this;if(F.plotArgs=[_,U,z],!F.glplot.contextLost){var B,N,V,X,q,te,ne=U[F.id],ce=z[F.id];F.fullLayout=U,F.fullSceneLayout=ne,F.axesOptions.merge(U,ne),F.spikeOptions.merge(ne),F.setViewport(ne),F.updateFx(ne.dragmode,ne.hovermode),F.camera.enableWheel=F.graphDiv._context._scrollZoom.gl3d,F.glplot.setClearColor(n(ne.bgcolor)),F.setConvert(q),_?Array.isArray(_)||(_=[_]):_=[];var Q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(V=0;V<_.length;++V)B=_[V],!(B.visible!==!0||B._length===0)&&L(this,B,Q);M(this,Q);var Z=[1,1,1];for(X=0;X<3;++X)Q[1][X]===Q[0][X]?Z[X]=1:Z[X]=1/(Q[1][X]-Q[0][X]);for(F.dataScale=Z,F.convertAnnotations(this),V=0;V<_.length;++V)B=_[V],!(B.visible!==!0||B._length===0)&&(N=F.traces[B.uid],N?N.data.type===B.type?N.update(B):(N.dispose(),N=B._module.plot(this,B),F.traces[B.uid]=N):(N=B._module.plot(this,B),F.traces[B.uid]=N),N.name=B.name);var re=Object.keys(F.traces);e:for(V=0;V<re.length;++V){for(X=0;X<_.length;++X)if(_[X].uid===re[V]&&_[X].visible===!0&&_[X]._length!==0)continue e;N=F.traces[re[V]],N.dispose(),delete F.traces[re[V]]}F.glplot.objects.sort(function(vt,lt){return vt._trace.data.index-lt._trace.data.index});var Y=[[0,0,0],[0,0,0]],oe={};for(V=0;V<3;++V){q=ne[x[V]],te=q.type,te in oe?(oe[te].acc*=Z[V],oe[te].count+=1):oe[te]={acc:Z[V],count:1};var ue;if(q.autorange){Y[0][V]=1/0,Y[1][V]=-1/0;var K=F.glplot.objects,$=F.fullSceneLayout.annotations||[],le=q._name.charAt(0);for(X=0;X<K.length;X++){var ae=K[X],he=ae.bounds,xe=ae._trace.data._pad||0;ae.constructor.name==="ErrorBars"&&q._lowerLogErrorBound?Y[0][V]=Math.min(Y[0][V],q._lowerLogErrorBound):Y[0][V]=Math.min(Y[0][V],he[0][V]/Z[V]-xe),Y[1][V]=Math.max(Y[1][V],he[1][V]/Z[V]+xe)}for(X=0;X<$.length;X++){var Me=$[X];if(Me.visible){var Ae=q.r2l(Me[le]);Y[0][V]=Math.min(Y[0][V],Ae),Y[1][V]=Math.max(Y[1][V],Ae)}}if("rangemode"in q&&q.rangemode==="tozero"&&(Y[0][V]=Math.min(Y[0][V],0),Y[1][V]=Math.max(Y[1][V],0)),Y[0][V]>Y[1][V])Y[0][V]=-1,Y[1][V]=1;else{var ke=Y[1][V]-Y[0][V];Y[0][V]-=ke/32,Y[1][V]+=ke/32}if(ue=[Y[0][V],Y[1][V]],ue=A(ue,q),Y[0][V]=ue[0],Y[1][V]=ue[1],q.isReversed()){var we=Y[0][V];Y[0][V]=Y[1][V],Y[1][V]=we}}else ue=q.range,Y[0][V]=q.r2l(ue[0]),Y[1][V]=q.r2l(ue[1]);Y[0][V]===Y[1][V]&&(Y[0][V]-=1,Y[1][V]+=1),q.range=[Y[0][V],Y[1][V]],q.limitRange(),F.glplot.setBounds(V,{min:q.range[0]*Z[V],max:q.range[1]*Z[V]})}var Ee,be=ne.aspectmode;if(be==="cube")Ee=[1,1,1];else if(be==="manual"){var Le=ne.aspectratio;Ee=[Le.x,Le.y,Le.z]}else if(be==="auto"||be==="data"){var Ue=[1,1,1];for(V=0;V<3;++V){q=ne[x[V]],te=q.type;var Ve=oe[te];Ue[V]=Math.pow(Ve.acc,1/Ve.count)/Z[V]}be==="data"||Math.max.apply(null,Ue)/Math.min.apply(null,Ue)<=4?Ee=Ue:Ee=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ne.aspectratio.x=ce.aspectratio.x=Ee[0],ne.aspectratio.y=ce.aspectratio.y=Ee[1],ne.aspectratio.z=ce.aspectratio.z=Ee[2],F.glplot.setAspectratio(ne.aspectratio),F.viewInitial.aspectratio||(F.viewInitial.aspectratio={x:ne.aspectratio.x,y:ne.aspectratio.y,z:ne.aspectratio.z}),F.viewInitial.aspectmode||(F.viewInitial.aspectmode=ne.aspectmode);var Fe=ne.domain||null,He=U._size||null;if(Fe&&He){var st=F.container.style;st.position="absolute",st.left=He.l+Fe.x[0]*He.w+"px",st.top=He.t+(1-Fe.y[1])*He.h+"px",st.width=He.w*(Fe.x[1]-Fe.x[0])+"px",st.height=He.h*(Fe.y[1]-Fe.y[0])+"px"}F.glplot.redraw()}},T.destroy=function(){var _=this;_.glplot&&(_.camera.mouseListener.enabled=!1,_.container.removeEventListener("wheel",_.camera.wheelListener),_.camera=null,_.glplot.dispose(),_.container.parentNode.removeChild(_.container),_.glplot=null)};function s(_){return[[_.eye.x,_.eye.y,_.eye.z],[_.center.x,_.center.y,_.center.z],[_.up.x,_.up.y,_.up.z]]}function E(_){return{up:{x:_.up[0],y:_.up[1],z:_.up[2]},center:{x:_.center[0],y:_.center[1],z:_.center[2]},eye:{x:_.eye[0],y:_.eye[1],z:_.eye[2]},projection:{type:_._ortho===!0?"orthographic":"perspective"}}}T.getCamera=function(){var _=this;return _.camera.view.recalcMatrix(_.camera.view.lastT()),E(_.camera)},T.setViewport=function(_){var U=this,z=_.camera;U.camera.lookAt.apply(this,s(z)),U.glplot.setAspectratio(_.aspectratio);var F=z.projection.type==="orthographic",B=U.camera._ortho;F!==B&&(U.glplot.redraw(),U.glplot.clearRGBA(),U.glplot.dispose(),U.initializeGLPlot())},T.isCameraChanged=function(_){var U=this,z=U.getCamera(),F=d.nestedProperty(_,U.id+".camera"),B=F.get();function N(te,ne,ce,Q){var Z=["up","center","eye"],re=["x","y","z"];return ne[Z[ce]]&&te[Z[ce]][re[Q]]===ne[Z[ce]][re[Q]]}var V=!1;if(B===void 0)V=!0;else{for(var X=0;X<3;X++)for(var q=0;q<3;q++)if(!N(z,B,X,q)){V=!0;break}(!B.projection||z.projection&&z.projection.type!==B.projection.type)&&(V=!0)}return V},T.isAspectChanged=function(_){var U=this,z=U.glplot.getAspectratio(),F=d.nestedProperty(_,U.id+".aspectratio"),B=F.get();return B===void 0||B.x!==z.x||B.y!==z.y||B.z!==z.z},T.saveLayout=function(_){var U=this,z=U.fullLayout,F,B,N,V,X,q,te=U.isCameraChanged(_),ne=U.isAspectChanged(_),ce=te||ne;if(ce){var Q={};if(te&&(F=U.getCamera(),B=d.nestedProperty(_,U.id+".camera"),N=B.get(),Q[U.id+".camera"]=N),ne&&(V=U.glplot.getAspectratio(),X=d.nestedProperty(_,U.id+".aspectratio"),q=X.get(),Q[U.id+".aspectratio"]=q),v.call("_storeDirectGUIEdit",_,z._preGUI,Q),te){B.set(F);var Z=d.nestedProperty(z,U.id+".camera");Z.set(F)}if(ne){X.set(V);var re=d.nestedProperty(z,U.id+".aspectratio");re.set(V),U.glplot.redraw()}}return ce},T.updateFx=function(_,U){var z=this,F=z.camera;if(F)if(_==="orbit")F.mode="orbit",F.keyBindingMode="rotate";else if(_==="turntable"){F.up=[0,0,1],F.mode="turntable",F.keyBindingMode="rotate";var B=z.graphDiv,N=B._fullLayout,V=z.fullSceneLayout.camera,X=V.up.x,q=V.up.y,te=V.up.z;if(te/Math.sqrt(X*X+q*q+te*te)<.999){var ne=z.id+".camera.up",ce={x:0,y:0,z:1},Q={};Q[ne]=ce;var Z=B.layout;v.call("_storeDirectGUIEdit",Z,N._preGUI,Q),V.up=ce,d.nestedProperty(Z,ne).set(ce)}}else F.keyBindingMode=_;z.fullSceneLayout.hovermode=U};function w(_,U,z){for(var F=0,B=z-1;F<B;++F,--B)for(var N=0;N<U;++N)for(var V=0;V<4;++V){var X=4*(U*F+N)+V,q=4*(U*B+N)+V,te=_[X];_[X]=_[q],_[q]=te}}function O(_,U,z){for(var F=0;F<z;++F)for(var B=0;B<U;++B){var N=4*(U*F+B),V=_[N+3];if(V>0)for(var X=255/V,q=0;q<3;++q)_[N+q]=Math.min(X*_[N+q],255)}}T.toImage=function(_){var U=this;_||(_="png"),U.staticMode&&U.container.appendChild(h),U.glplot.redraw();var z=U.glplot.gl,F=z.drawingBufferWidth,B=z.drawingBufferHeight;z.bindFramebuffer(z.FRAMEBUFFER,null);var N=new Uint8Array(F*B*4);z.readPixels(0,0,F,B,z.RGBA,z.UNSIGNED_BYTE,N),w(N,F,B),O(N,F,B);var V=document.createElement("canvas");V.width=F,V.height=B;var X=V.getContext("2d",{willReadFrequently:!0}),q=X.createImageData(F,B);q.data.set(N),X.putImageData(q,0,0);var te;switch(_){case"jpeg":te=V.toDataURL("image/jpeg");break;case"webp":te=V.toDataURL("image/webp");break;default:te=V.toDataURL("image/png")}return U.staticMode&&U.container.removeChild(h),te},T.setConvert=function(){for(var _=this,U=0;U<3;U++){var z=_.fullSceneLayout[x[U]];t.setConvert(z,_.fullLayout),z.setScale=d.noop}},T.make4thDimension=function(){var _=this,U=_.graphDiv,z=U._fullLayout;_._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(_._mockAxis,z)},H.exports=b},52094:function(H){H.exports=function(e,g,R,a){a=a||e.length;for(var C=new Array(a),S=0;S<a;S++)C[S]=[e[S],g[S],R[S]];return C}},64859:function(H,G,e){var g=e(25376),R=e(85656),a=e(22548),C=e(92872),S=e(34200),v=e(66741),d=e(92880).extendFlat,r=g({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=a.defaultLine,H.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:d(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:S.newselection,activeselection:S.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:d({},R.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},47552:function(H,G,e){var g=e(95376),R="1.13.4",a=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=[' <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),S=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),d={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=g(d);H.exports={requiredVersion:R,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:d,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+R+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(H,G,e){var g=e(3400);H.exports=function(a,C){var S=a.split(" "),v=S[0],d=S[1],r=g.isArrayOrTypedArray(C)?g.mean(C):C,t=.5+r/100,i=1.5+r/100,n=["",""],f=[0,0];switch(v){case"top":n[0]="top",f[1]=-i;break;case"bottom":n[0]="bottom",f[1]=i;break}switch(d){case"left":n[1]="right",f[0]=-t;break;case"right":n[1]="left",f[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:f}}},33688:function(H,G,e){var g=e(3480),R=e(3400),a=R.strTranslate,C=R.strScale,S=e(84888).KY,v=e(9616),d=e(33428),r=e(43616),t=e(72736),i=e(14440),n="mapbox",f=G.constants=e(47552);G.name=n,G.attr="subplot",G.idRoot=n,G.idRegex=G.attrRegex=R.counterRegex(n),G.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},G.layoutAttributes=e(5232),G.supplyLayoutDefaults=e(5976),G.plot=function(c){var A=c._fullLayout,h=c.calcdata,o=A._subplots[n];if(g.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var p=u(c,o);g.accessToken=p;for(var b=0;b<o.length;b++){var T=o[b],P=S(h,n,T),x=A[T],L=x._subplot;L||(L=new i(c,T),A[T]._subplot=L),L.viewInitial||(L.viewInitial={center:R.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),L.plot(P,A,c._promises)}},G.clean=function(m,c,A,h){for(var o=h._subplots[n]||[],p=0;p<o.length;p++){var b=o[p];!c[b]&&h[b]._subplot&&h[b]._subplot.destroy()}},G.toSVG=function(m){for(var c=m._fullLayout,A=c._subplots[n],h=c._size,o=0;o<A.length;o++){var p=c[A[o]],b=p.domain,T=p._subplot,P=T.toImage("png"),x=c._glimages.append("svg:image");x.attr({xmlns:v.svg,"xlink:href":P,x:h.l+h.w*b.x[0],y:h.t+h.h*(1-b.y[1]),width:h.w*(b.x[1]-b.x[0]),height:h.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"});var L=d.select(p._subplot.div),M=L.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!M){var s=c._glimages.append("g");s.attr("transform",a(h.l+h.w*b.x[0]+10,h.t+h.h*(1-b.y[0])-31)),s.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=L.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),w=c._glimages.append("g"),O=w.append("text");O.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var _=r.bBox(O.node()),U=h.w*(b.x[1]-b.x[0]);if(_.width>U/2){var z=E.split("|").join("<br>");O.text(z).attr("data-unformatted",z).call(t.convertToTspans,m),_=r.bBox(O.node())}O.attr("transform",a(-3,-_.height+8)),w.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var F=1;_.width+6>U&&(F=U/(_.width+6));var B=[h.l+h.w*b.x[1],h.t+h.h*(1-b.y[0])];w.attr("transform",a(B[0],B[1])+C(F))}};function u(m,c){var A=m._fullLayout,h=m._context;if(h.mapboxAccessToken==="")return"";for(var o=[],p=[],b=!1,T=!1,P=0;P<c.length;P++){var x=A[c[P]],L=x.accesstoken;l(x.style)&&(L?R.pushUnique(o,L):(l(x._input.style)&&(R.error("Uses Mapbox map style, but did not set an access token."),b=!0),T=!0)),L&&R.pushUnique(p,L)}if(T){var M=b?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw R.error(M),new Error(M)}return o.length?(o.length>1&&R.warn(f.multipleTokensErrorMsg),o[0]):(p.length&&R.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(m){return typeof m=="string"&&(f.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}G.updateFx=function(m){for(var c=m._fullLayout,A=c._subplots[n],h=0;h<A.length;h++){var o=c[A[h]]._subplot;o.updateFx(c)}}},22360:function(H,G,e){var g=e(3400),R=e(72736).sanitizeHTML,a=e(89032),C=e(47552);function S(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=S.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=d(n)},v.needsNewImage=function(i){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},v.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},v.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(i){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(i){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,!!d(i)){var f=t(i);n.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var n=this.subplot.getMapLayers(),f=0;f<n.length;f++){var u=n[f].id;if(typeof u=="string"&&u.indexOf(C.traceLayerPrefix)===0){i=u;break}}return i},v.updateLayer=function(i){var n=this.subplot,f=r(i),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),d(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:f.layout,paint:f.paint},l),this.layerType=i.type,this.below=u},v.updateStyle=function(i){if(d(i)){var n=r(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},v.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)};function d(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var f=0;f<n.length;f++)if(typeof n[f]!="string"||n[f].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(i){var n={},f={};switch(i.type){case"circle":g.extendFlat(f,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":g.extendFlat(f,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":g.extendFlat(f,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var u=i.symbol,l=a(u.textposition,u.iconsize);g.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),g.extendFlat(f,{"icon-color":i.color,"text-color":u.textfont.color,"text-opacity":i.opacity});break;case"raster":g.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":i.opacity});break}return{layout:n,paint:f}}function t(i){var n=i.sourcetype,f=i.source,u={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof f=="string"?"url":"tiles":n==="raster"?(l="tiles",u.tileSize=256):n==="image"&&(l="url",u.coordinates=i.coordinates),u[l]=f,i.sourceattribution&&(u.attribution=R(i.sourceattribution)),u}H.exports=function(n,f,u){var l=new S(n,f);return l.update(u),l}},5232:function(H,G,e){var g=e(3400),R=e(76308).defaultLine,a=e(86968).u,C=e(25376),S=e(52904).textposition,v=e(67824).overrideAll,d=e(31780).templatedArray,r=e(47552),t=C({noFontVariant:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var i=H.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:d("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:R},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:R}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:g.extendFlat({},S,{arrayOk:!1})}})},"plot","from-root");i.uirevision={valType:"any",editType:"none"}},5976:function(H,G,e){var g=e(3400),R=e(168),a=e(51272),C=e(5232);H.exports=function(r,t,i){R(r,t,i,{type:"mapbox",attributes:C,handleDefaults:S,partition:"y",accessToken:t._mapboxAccessToken})};function S(d,r,t,i){t("accesstoken",i.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),f=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(n===void 0||f===void 0||u===void 0||l===void 0)&&delete r.bounds,a(d,r,{name:"layers",handleItemDefaults:v}),r._input=d}function v(d,r){function t(m,c){return g.coerce(d,r,C.layers,m,c)}var i=t("visible");if(i){var n=t("sourcetype"),f=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;f&&(u="raster");var l=t("type",u);f&&l!=="raster"&&(l=r.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),g.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(H,G,e){var g=e(3480),R=e(3400),a=e(27144),C=e(24040),S=e(54460),v=e(86476),d=e(93024),r=e(72760),t=r.drawMode,i=r.selectMode,n=e(22676).prepSelect,f=e(22676).clearOutline,u=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,m=e(47552),c=e(22360);function A(P,x){this.id=x,this.gd=P;var L=P._fullLayout,M=P._context;this.container=L._glcontainer.node(),this.isStatic=M.staticPlot,this.uid=L._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(L),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=A.prototype;h.plot=function(P,x,L){var M=this,s=x[M.id];M.map&&s.accesstoken!==M.accessToken&&(M.map.remove(),M.map=null,M.styleObj=null,M.traceHash={},M.layerList=[]);var E;M.map?E=new Promise(function(w,O){M.updateMap(P,x,w,O)}):E=new Promise(function(w,O){M.createMap(P,x,w,O)}),L.push(E)},h.createMap=function(P,x,L,M){var s=this,E=x[s.id],w=s.styleObj=p(E.style,x);s.accessToken=E.accesstoken;var O=E.bounds,_=O?[[O.west,O.south],[O.east,O.north]]:null,U=s.map=new g.Map({container:s.div,style:w.style,center:T(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:_,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",s.rejectOnError(M),s.isStatic||s.initFx(P,x);var z=[];z.push(new Promise(function(F){U.once("load",F)})),z=z.concat(a.fetchTraceGeoData(P)),Promise.all(z).then(function(){s.fillBelowLookup(P,x),s.updateData(P),s.updateLayout(x),s.resolveOnRender(L)}).catch(M)},h.updateMap=function(P,x,L,M){var s=this,E=s.map,w=x[this.id];s.rejectOnError(M);var O=[],_=p(w.style,x);JSON.stringify(s.styleObj)!==JSON.stringify(_)&&(s.styleObj=_,E.setStyle(_.style),s.traceHash={},O.push(new Promise(function(U){E.once("styledata",U)}))),O=O.concat(a.fetchTraceGeoData(P)),Promise.all(O).then(function(){s.fillBelowLookup(P,x),s.updateData(P),s.updateLayout(x),s.resolveOnRender(L)}).catch(M)},h.fillBelowLookup=function(P,x){var L=x[this.id],M=L.layers,s,E,w=this.belowLookup={},O=!1;for(s=0;s<P.length;s++){var _=P[s][0].trace,U=_._module;typeof _.below=="string"?E=_.below:U.getBelow&&(E=U.getBelow(_,this)),E===""&&(O=!0),w["trace-"+_.uid]=E||""}for(s=0;s<M.length;s++){var z=M[s];typeof z.below=="string"?E=z.below:O?E="traces":E="",w["layout-"+s]=E}var F={},B,N;for(B in w)E=w[B],F[E]?F[E].push(B):F[E]=[B];for(E in F){var V=F[E];if(V.length>1)for(s=0;s<V.length;s++)B=V[s],B.indexOf("trace-")===0?(N=B.split("trace-")[1],this.traceHash[N]&&(this.traceHash[N].below=null)):B.indexOf("layout-")===0&&(N=B.split("layout-")[1],this.layerList[N]&&(this.layerList[N].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(P){var x=this.traceHash,L,M,s,E,w=P.slice().sort(function(F,B){return o[F[0].trace.type]-o[B[0].trace.type]});for(s=0;s<w.length;s++){var O=w[s];M=O[0].trace,L=x[M.uid];var _=!1;L&&(L.type===M.type?(L.update(O),_=!0):L.dispose()),!_&&M._module&&(x[M.uid]=M._module.plot(this,O))}var U=Object.keys(x);e:for(s=0;s<U.length;s++){var z=U[s];for(E=0;E<P.length;E++)if(M=P[E][0].trace,z===M.uid)continue e;L=x[z],L.dispose(),delete x[z]}},h.updateLayout=function(P){var x=this.map,L=P[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(T(L.center)),x.setZoom(L.zoom),x.setBearing(L.bearing),x.setPitch(L.pitch)),this.updateLayers(P),this.updateFramework(P),this.updateFx(P),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},h.resolveOnRender=function(P){var x=this.map;x.on("render",function L(){x.loaded()&&(x.off("render",L),setTimeout(P,10))})},h.rejectOnError=function(P){var x=this.map;function L(){P(new Error(m.mapOnErrorMsg))}x.once("error",L),x.once("style.error",L),x.once("source.error",L),x.once("tile.error",L),x.once("layer.error",L)},h.createFramework=function(P){var x=this,L=x.div=document.createElement("div");L.id=x.uid,L.style.position="absolute",x.container.appendChild(L),x.xaxis={_id:"x",c2p:function(M){return x.project(M).x}},x.yaxis={_id:"y",c2p:function(M){return x.project(M).y}},x.updateFramework(P),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},S.setConvert(x.mockAxis,P)},h.initFx=function(P,x){var L=this,M=L.gd,s=L.map;s.on("moveend",function(O){if(L.map){var _=M._fullLayout;if(O.originalEvent||L.wheeling){var U=_[L.id];C.call("_storeDirectGUIEdit",M.layout,_._preGUI,L.getViewEdits(U));var z=L.getView();U._input.center=U.center=z.center,U._input.zoom=U.zoom=z.zoom,U._input.bearing=U.bearing=z.bearing,U._input.pitch=U.pitch=z.pitch,M.emit("plotly_relayout",L.getViewEditsWithDerived(z))}O.originalEvent&&O.originalEvent.type==="mouseup"?L.dragging=!1:L.wheeling&&(L.wheeling=!1),_._rehover&&_._rehover()}}),s.on("wheel",function(){L.wheeling=!0}),s.on("mousemove",function(O){var _=L.div.getBoundingClientRect(),U=[O.originalEvent.offsetX,O.originalEvent.offsetY];O.target.getBoundingClientRect=function(){return _},L.xaxis.p2c=function(){return s.unproject(U).lng},L.yaxis.p2c=function(){return s.unproject(U).lat},M._fullLayout._rehover=function(){M._fullLayout._hoversubplot===L.id&&M._fullLayout[L.id]&&d.hover(M,O,L.id)},d.hover(M,O,L.id),M._fullLayout._hoversubplot=L.id});function E(){d.loneUnhover(x._hoverlayer)}s.on("dragstart",function(){L.dragging=!0,E()}),s.on("zoomstart",E),s.on("mouseout",function(){M._fullLayout._hoversubplot=null});function w(){var O=L.getView();M.emit("plotly_relayouting",L.getViewEditsWithDerived(O))}s.on("drag",w),s.on("zoom",w),s.on("dblclick",function(){var O=M._fullLayout[L.id];C.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,L.getViewEdits(O));var _=L.viewInitial;s.setCenter(T(_.center)),s.setZoom(_.zoom),s.setBearing(_.bearing),s.setPitch(_.pitch);var U=L.getView();O._input.center=O.center=U.center,O._input.zoom=O.zoom=U.zoom,O._input.bearing=O.bearing=U.bearing,O._input.pitch=O.pitch=U.pitch,M.emit("plotly_doubleclick",null),M.emit("plotly_relayout",L.getViewEditsWithDerived(U))}),L.clearOutline=function(){u(L.dragOptions),f(L.dragOptions.gd)},L.onClickInPanFn=function(O){return function(_){var U=M._fullLayout.clickmode;U.indexOf("select")>-1&&l(_.originalEvent,M,[L.xaxis],[L.yaxis],L.id,O),U.indexOf("event")>-1&&d.click(M,_.originalEvent)}}},h.updateFx=function(P){var x=this,L=x.map,M=x.gd;if(x.isStatic)return;function s(_){var U=x.map.unproject(_);return[U.lng,U.lat]}var E=P.dragmode,w;w=function(_,U){if(U.isRect){var z=_.range={};z[x.id]=[s([U.xmin,U.ymin]),s([U.xmax,U.ymax])]}else{var F=_.lassoPoints={};F[x.id]=U.map(s)}};var O=x.dragOptions;x.dragOptions=R.extendDeep(O||{},{dragmode:P.dragmode,element:x.div,gd:M,plotinfo:{id:x.id,domain:P[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:w},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),L.off("click",x.onClickInPanHandler),i(E)||t(E)?(L.dragPan.disable(),L.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(_,U,z){n(_,U,z,x.dragOptions,E)},v.init(x.dragOptions)):(L.dragPan.enable(),L.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),L.on("click",x.onClickInPanHandler))},h.updateFramework=function(P){var x=P[this.id].domain,L=P._size,M=this.div.style;M.width=L.w*(x.x[1]-x.x[0])+"px",M.height=L.h*(x.y[1]-x.y[0])+"px",M.left=L.l+x.x[0]*L.w+"px",M.top=L.t+(1-x.y[1])*L.h+"px",this.xaxis._offset=L.l+x.x[0]*L.w,this.xaxis._length=L.w*(x.x[1]-x.x[0]),this.yaxis._offset=L.t+(1-x.y[1])*L.h,this.yaxis._length=L.h*(x.y[1]-x.y[0])},h.updateLayers=function(P){var x=P[this.id],L=x.layers,M=this.layerList,s;if(L.length!==M.length){for(s=0;s<M.length;s++)M[s].dispose();for(M=this.layerList=[],s=0;s<L.length;s++)M.push(c(this,s,L[s]))}else for(s=0;s<L.length;s++)M[s].update(L[s])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(P,x,L){for(var M in L)this.map[x](P,M,L[M])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(P,x){var L=this.map;if(typeof x=="string"){if(x===""){L.addLayer(P,x);return}for(var M=this.getMapLayers(),s=0;s<M.length;s++)if(x===M[s].id){L.addLayer(P,x);return}R.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}L.addLayer(P)},h.project=function(P){return this.map.project(new g.LngLat(P[0],P[1]))},h.getView=function(){var P=this.map,x=P.getCenter(),L=x.lng,M=x.lat,s={lon:L,lat:M},E=P.getCanvas(),w=parseInt(E.style.width),O=parseInt(E.style.height);return{center:s,zoom:P.getZoom(),bearing:P.getBearing(),pitch:P.getPitch(),_derived:{coordinates:[P.unproject([0,0]).toArray(),P.unproject([w,0]).toArray(),P.unproject([w,O]).toArray(),P.unproject([0,O]).toArray()]}}},h.getViewEdits=function(P){for(var x=this.id,L=["center","zoom","bearing","pitch"],M={},s=0;s<L.length;s++){var E=L[s];M[x+"."+E]=P[E]}return M},h.getViewEditsWithDerived=function(P){var x=this.id,L=this.getViewEdits(P);return L[x+"._derived"]=P._derived,L};function p(P,x){var L={};if(R.isPlainObject(P))L.id=P.id,L.style=P;else if(typeof P=="string")if(L.id=P,m.styleValuesMapbox.indexOf(P)!==-1)L.style=b(P);else if(m.stylesNonMapbox[P]){L.style=m.stylesNonMapbox[P];var M=L.style.sources["plotly-"+P],s=M?M.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=x._mapboxAccessToken)}else L.style=P;else L.id=m.styleValueDflt,L.style=b(m.styleValueDflt);return L.transition={duration:0,delay:0},L}function b(P){return m.styleUrlPrefix+P+"-"+m.styleUrlSuffix}function T(P){return[P.lon,P.lat]}H.exports=A},66741:function(H){H.exports=function(G){var e=G.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(H,G,e){var g=e(33428),R=e(94336).m_,a=e(57624).SO,C=e(38248),S=e(83160),v=e(24040),d=e(73060),r=e(31780),t=e(3400),i=e(76308),n=e(39032).BADNUM,f=e(79811),u=e(1936).clearOutline,l=e(55308),m=e(85656),c=e(16672),A=e(84888)._M,h=t.relinkPrivateKeys,o=t._,p=H.exports={};t.extendFlat(p,v),p.attributes=e(45464),p.attributes.type.values=p.allTypes,p.fontAttrs=e(25376),p.layoutAttributes=e(64859);var b=p.transformsRegistry,T=e(62460);p.executeAPICommand=T.executeAPICommand,p.computeAPICommandBindings=T.computeAPICommandBindings,p.manageCommandObserver=T.manageCommandObserver,p.hasSimpleAPICommandBindings=T.hasSimpleAPICommandBindings,p.redrawText=function(Y){return Y=t.getGraphDiv(Y),new Promise(function(oe){setTimeout(function(){Y._fullLayout&&(v.getComponentMethod("annotations","draw")(Y),v.getComponentMethod("legend","draw")(Y),v.getComponentMethod("colorbar","draw")(Y),oe(p.previousPromises(Y)))},300)})},p.resize=function(Y){Y=t.getGraphDiv(Y);var oe,ue=new Promise(function(K,$){(!Y||t.isHidden(Y))&&$(new Error("Resize must be passed a displayed plot div element.")),Y._redrawTimer&&clearTimeout(Y._redrawTimer),Y._resolveResize&&(oe=Y._resolveResize),Y._resolveResize=K,Y._redrawTimer=setTimeout(function(){if(!Y.layout||Y.layout.width&&Y.layout.height||t.isHidden(Y)){K(Y);return}delete Y.layout.width,delete Y.layout.height;var le=Y.changed;Y.autoplay=!0,v.call("relayout",Y,{autosize:!0}).then(function(){Y.changed=le,Y._resolveResize===K&&(delete Y._resolveResize,K(Y))})},100)});return oe&&oe(ue),ue},p.previousPromises=function(Y){if((Y._promises||[]).length)return Promise.all(Y._promises).then(function(){Y._promises=[]})},p.addLinks=function(Y){if(!(!Y._context.showLink&&!Y._context.showSources)){var oe=Y._fullLayout,ue=t.ensureSingle(oe._paper,"text","js-plot-link-container",function(xe){xe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var Me=g.select(this);Me.append("tspan").classed("js-link-to-tool",!0),Me.append("tspan").classed("js-link-spacer",!0),Me.append("tspan").classed("js-sourcelinks",!0)})}),K=ue.node(),$={y:oe._paper.attr("height")-9};document.body.contains(K)&&K.getComputedTextLength()>=oe.width-20?($["text-anchor"]="start",$.x=5):($["text-anchor"]="end",$.x=oe._paper.attr("width")-7),ue.attr($);var le=ue.select(".js-link-to-tool"),ae=ue.select(".js-link-spacer"),he=ue.select(".js-sourcelinks");Y._context.showSources&&Y._context.showSources(Y),Y._context.showLink&&P(Y,le),ae.text(le.text()&&he.text()?" - ":"")}};function P(Y,oe){oe.text("");var ue=oe.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Y._context.linkText+" ");if(Y._context.sendData)ue.on("click",function(){p.sendDataToCloud(Y)});else{var K=window.location.pathname.split("/"),$=window.location.search;ue.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+K[2].split(".")[0]+"/"+K[1]+$})}}p.sendDataToCloud=function(Y){var oe=(window.PLOTLYENV||{}).BASE_URL||Y._context.plotlyServerURL;if(oe){Y.emit("plotly_beforeexport");var ue=g.select(Y).append("div").attr("id","hiddenform").style("display","none"),K=ue.append("form").attr({action:oe+"/external",method:"post",target:"_blank"}),$=K.append("input").attr({type:"text",name:"data"});return $.node().value=p.graphJson(Y,!1,"keepdata"),K.node().submit(),ue.remove(),Y.emit("plotly_afterexport"),!1}};var x=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(Y,oe){var ue=oe&&oe.skipUpdateCalc,K=Y._fullLayout||{};if(K._skipDefaults){delete K._skipDefaults;return}var $=Y._fullLayout={},le=Y.layout||{},ae=Y._fullData||[],he=Y._fullData=[],xe=Y.data||[],Me=Y.calcdata||[],Ae=Y._context||{},ke;Y._transitionData||p.createTransitionData(Y),$._dfltTitle={plot:o(Y,"Click to enter Plot title"),x:o(Y,"Click to enter X axis title"),y:o(Y,"Click to enter Y axis title"),colorbar:o(Y,"Click to enter Colorscale title"),annotation:o(Y,"new text")},$._traceWord=o(Y,"trace");var we=E(Y,x);if($._mapboxAccessToken=Ae.mapboxAccessToken,K._initialAutoSizeIsDone){var Ee=K.width,be=K.height;p.supplyLayoutGlobalDefaults(le,$,we),le.width||($.width=Ee),le.height||($.height=be),p.sanitizeMargins($)}else{p.supplyLayoutGlobalDefaults(le,$,we);var Le=!le.width||!le.height,Ue=$.autosize,Ve=Ae.autosizable,Fe=Le&&(Ue||Ve);Fe?p.plotAutoSize(Y,le,$):Le&&p.sanitizeMargins($),!Ue&&Le&&(le.width=$.width,le.height=$.height)}$._d3locale=w(we,$.separators),$._extraFormat=E(Y,L),$._initialAutoSizeIsDone=!0,$._dataLength=xe.length,$._modules=[],$._visibleModules=[],$._basePlotModules=[];var He=$._subplots=s(),st=$._splomAxes={x:{},y:{}},vt=$._splomSubplots={};$._splomGridDflt={},$._scatterStackOpts={},$._firstScatter={},$._alignmentOpts={},$._colorAxes={},$._requestRangeslider={},$._traceUids=M(ae,xe),$._globalTransforms=(Y._context||{}).globalTransforms,p.supplyDataDefaults(xe,he,le,$);var lt=Object.keys(st.x),et=Object.keys(st.y);if(lt.length>1&&et.length>1){for(v.getComponentMethod("grid","sizeDefaults")(le,$),ke=0;ke<lt.length;ke++)t.pushUnique(He.xaxis,lt[ke]);for(ke=0;ke<et.length;ke++)t.pushUnique(He.yaxis,et[ke]);for(var ct in vt)t.pushUnique(He.cartesian,ct)}if($._has=p._hasPlotType.bind($),ae.length===he.length)for(ke=0;ke<he.length;ke++)h(he[ke],ae[ke]);p.supplyLayoutModuleDefaults(le,$,he,Y._transitionData);var ht=$._visibleModules,mt=[];for(ke=0;ke<ht.length;ke++){var xt=ht[ke].crossTraceDefaults;xt&&t.pushUnique(mt,xt)}for(ke=0;ke<mt.length;ke++)mt[ke](he,$);$._hasOnlyLargeSploms=$._basePlotModules.length===1&&$._basePlotModules[0].name==="splom"&&lt.length>15&&et.length>15&&$.shapes.length===0&&$.images.length===0,p.linkSubplots(he,$,ae,K),p.cleanPlot(he,$,ae,K);var Mt=!!(K._has&&K._has("gl2d")),tt=!!($._has&&$._has("gl2d")),Oe=!!(K._has&&K._has("cartesian")),Ye=!!($._has&&$._has("cartesian")),Ze=Oe||Mt,We=Ye||tt;Ze&&!We?K._bgLayer.remove():We&&!Ze&&($._shouldCreateBgLayer=!0),K._zoomlayer&&!Y._dragging&&u({_fullLayout:K}),O(he,$),h($,K),v.getComponentMethod("colorscale","crossTraceDefaults")(he,$),$._preGUI||($._preGUI={}),$._tracePreGUI||($._tracePreGUI={});var _e=$._tracePreGUI,Ie={},Xe;for(Xe in _e)Ie[Xe]="old";for(ke=0;ke<he.length;ke++)Xe=he[ke]._fullInput.uid,Ie[Xe]||(_e[Xe]={}),Ie[Xe]="new";for(Xe in Ie)Ie[Xe]==="old"&&delete _e[Xe];B($),v.getComponentMethod("rangeslider","makeData")($),!ue&&Me.length===he.length&&p.supplyDefaultsUpdateCalc(Me,he)},p.supplyDefaultsUpdateCalc=function(Y,oe){for(var ue=0;ue<oe.length;ue++){var K=oe[ue],$=(Y[ue]||[])[0];if($&&$.trace){var le=$.trace;if(le._hasCalcTransform){var ae=le._arrayAttrs,he,xe,Me;for(he=0;he<ae.length;he++)xe=ae[he],Me=t.nestedProperty(le,xe).get().slice(),t.nestedProperty(K,xe).set(Me)}$.trace=K}}};function M(Y,oe){var ue=oe.length,K=[],$,le;for($=0;$<Y.length;$++){var ae=Y[$]._fullInput;ae!==le&&K.push(ae),le=ae}var he=K.length,xe=new Array(ue),Me={};function Ae(Ee,be){xe[be]=Ee,Me[Ee]=1}function ke(Ee,be){if(Ee&&typeof Ee=="string"&&!Me[Ee])return Ae(Ee,be),!0}for($=0;$<ue;$++){var we=oe[$].uid;typeof we=="number"&&(we=String(we)),!ke(we,$)&&($<he&&ke(K[$].uid,$)||Ae(t.randstr(Me),$))}return xe}function s(){var Y=v.collectableSubplotTypes,oe={},ue,K;if(!Y){Y=[];var $=v.subplotsRegistry;for(var le in $){var ae=$[le],he=ae.attr;if(he&&(Y.push(le),Array.isArray(he)))for(K=0;K<he.length;K++)t.pushUnique(Y,he[K])}}for(ue=0;ue<Y.length;ue++)oe[Y[ue]]=[];return oe}function E(Y,oe){var ue=Y._context.locale;ue||(ue="en-US");var K=!1,$={};function le(ke){for(var we=!0,Ee=0;Ee<oe.length;Ee++){var be=oe[Ee];$[be]||(ke[be]?$[be]=ke[be]:we=!1)}we&&(K=!0)}for(var ae=0;ae<2;ae++){for(var he=Y._context.locales,xe=0;xe<2;xe++){var Me=(he[ue]||{}).format;if(Me&&(le(Me),K))break;he=v.localeRegistry}var Ae=ue.split("-")[0];if(K||Ae===ue)break;ue=Ae}return K||le(v.localeRegistry.en.format),$}function w(Y,oe){return Y.decimal=oe.charAt(0),Y.thousands=oe.charAt(1),{numberFormat:function(ue){try{ue=a(Y).format(t.adjustFormat(ue))}catch{return t.warnBadFormat(ue),t.noFormat}return ue},timeFormat:R(Y).utcFormat}}function O(Y,oe){var ue,K=[];oe.meta&&(ue=oe._meta={meta:oe.meta,layout:{meta:oe.meta}});for(var $=0;$<Y.length;$++){var le=Y[$];le.meta?K[le.index]=le._meta={meta:le.meta}:oe.meta&&(le._meta={meta:oe.meta}),oe.meta&&(le._meta.layout={meta:oe.meta})}K.length&&(ue||(ue=oe._meta={}),ue.data=K)}p.createTransitionData=function(Y){Y._transitionData||(Y._transitionData={}),Y._transitionData._frames||(Y._transitionData._frames=[]),Y._transitionData._frameHash||(Y._transitionData._frameHash={}),Y._transitionData._counter||(Y._transitionData._counter=0),Y._transitionData._interruptCallbacks||(Y._transitionData._interruptCallbacks=[])},p._hasPlotType=function(Y){var oe,ue=this._basePlotModules||[];for(oe=0;oe<ue.length;oe++)if(ue[oe].name===Y)return!0;var K=this._modules||[];for(oe=0;oe<K.length;oe++){var $=K[oe].name;if($===Y)return!0;var le=v.modules[$];if(le&&le.categories[Y])return!0}return!1},p.cleanPlot=function(Y,oe,ue,K){var $,le,ae=K._basePlotModules||[];for($=0;$<ae.length;$++){var he=ae[$];he.clean&&he.clean(Y,oe,ue,K)}var xe=K._has&&K._has("gl"),Me=oe._has&&oe._has("gl");xe&&!Me&&K._glcontainer!==void 0&&(K._glcontainer.selectAll(".gl-canvas").remove(),K._glcontainer.selectAll(".no-webgl").remove(),K._glcanvas=null);var Ae=!!K._infolayer;e:for($=0;$<ue.length;$++){var ke=ue[$],we=ke.uid;for(le=0;le<Y.length;le++){var Ee=Y[le];if(we===Ee.uid)continue e}Ae&&K._infolayer.select(".cb"+we).remove()}},p.linkSubplots=function(Y,oe,ue,K){var $,le,ae=K._plots||{},he=oe._plots={},xe=oe._subplots,Me={_fullData:Y,_fullLayout:oe},Ae=xe.cartesian.concat(xe.gl2d||[]);for($=0;$<Ae.length;$++){var ke=Ae[$],we=ae[ke],Ee=f.getFromId(Me,ke,"x"),be=f.getFromId(Me,ke,"y"),Le;for(we?Le=he[ke]=we:(Le=he[ke]={},Le.id=ke),Ee._counterAxes.push(be._id),be._counterAxes.push(Ee._id),Ee._subplotsWith.push(ke),be._subplotsWith.push(ke),Le.xaxis=Ee,Le.yaxis=be,Le._hasClipOnAxisFalse=!1,le=0;le<Y.length;le++){var Ue=Y[le];if(Ue.xaxis===Le.xaxis._id&&Ue.yaxis===Le.yaxis._id&&Ue.cliponaxis===!1){Le._hasClipOnAxisFalse=!0;break}}}var Ve=f.list(Me,null,!0),Fe;for($=0;$<Ve.length;$++){Fe=Ve[$];var He=null;Fe.overlaying&&(He=f.getFromId(Me,Fe.overlaying),He&&He.overlaying&&(Fe.overlaying=!1,He=null)),Fe._mainAxis=He||Fe,He&&(Fe.domain=He.domain.slice()),Fe._anchorAxis=Fe.anchor==="free"?null:f.getFromId(Me,Fe.anchor)}for($=0;$<Ve.length;$++)if(Fe=Ve[$],Fe._counterAxes.sort(f.idSort),Fe._subplotsWith.sort(t.subplotSort),Fe._mainSubplot=_(Fe,oe),Fe._counterAxes.length&&(Fe.spikemode&&Fe.spikemode.indexOf("across")!==-1||Fe.automargin&&Fe.mirror&&Fe.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Fe))){var st=1,vt=0;for(le=0;le<Fe._counterAxes.length;le++){var lt=f.getFromId(Me,Fe._counterAxes[le]);st=Math.min(st,lt.domain[0]),vt=Math.max(vt,lt.domain[1])}st<vt&&(Fe._counterDomainMin=st,Fe._counterDomainMax=vt)}};function _(Y,oe){var ue={_fullLayout:oe},K=Y._id.charAt(0)==="x",$=Y._mainAxis._anchorAxis,le="",ae="",he="";if($&&(he=$._mainAxis._id,le=K?Y._id+he:he+Y._id),!le||!oe._plots[le]){le="";for(var xe=Y._counterAxes,Me=0;Me<xe.length;Me++){var Ae=xe[Me],ke=K?Y._id+Ae:Ae+Y._id;ae||(ae=ke);var we=f.getFromId(ue,Ae);if(he&&we.overlaying===he){le=ke;break}}}return le||ae}p.clearExpandedTraceDefaultColors=function(Y){var oe,ue,K;function $(ae,he,xe,Me){ue[Me]=he,ue.length=Me+1,ae.valType==="color"&&ae.dflt===void 0&&oe.push(ue.join("."))}for(ue=[],oe=Y._module._colorAttrs,oe||(Y._module._colorAttrs=oe=[],d.crawl(Y._module.attributes,$)),K=0;K<oe.length;K++){var le=t.nestedProperty(Y,"_input."+oe[K]);le.get()||t.nestedProperty(Y,oe[K]).set(null)}},p.supplyDataDefaults=function(Y,oe,ue,K){var $=K._modules,le=K._visibleModules,ae=K._basePlotModules,he=0,xe=0,Me,Ae,ke;K._transformModules=[];function we(et){oe.push(et);var ct=et._module;ct&&(t.pushUnique($,ct),et.visible===!0&&t.pushUnique(le,ct),t.pushUnique(ae,et._module.basePlotModule),he++,et._input.visible!==!1&&xe++)}var Ee={},be=[],Le=(ue.template||{}).data||{},Ue=r.traceTemplater(Le);for(Me=0;Me<Y.length;Me++){if(ke=Y[Me],Ae=Ue.newTrace(ke),Ae.uid=K._traceUids[Me],p.supplyTraceDefaults(ke,Ae,xe,K,Me),Ae.index=Me,Ae._input=ke,Ae._expandedIndex=he,Ae.transforms&&Ae.transforms.length)for(var Ve=ke.visible!==!1&&Ae.visible===!1,Fe=z(Ae,oe,ue,K),He=0;He<Fe.length;He++){var st=Fe[He],vt={_template:Ae._template,type:Ae.type,uid:Ae.uid+He};Ve&&st.visible===!1&&delete st.visible,p.supplyTraceDefaults(st,vt,he,K,Me),h(vt,st),vt.index=Me,vt._input=ke,vt._fullInput=Ae,vt._expandedIndex=he,vt._expandedInput=st,we(vt)}else Ae._fullInput=Ae,Ae._expandedInput=Ae,we(Ae);v.traceIs(Ae,"carpetAxis")&&(Ee[Ae.carpet]=Ae),v.traceIs(Ae,"carpetDependent")&&be.push(Me)}for(Me=0;Me<be.length;Me++)if(Ae=oe[be[Me]],!!Ae.visible){var lt=Ee[Ae.carpet];if(Ae._carpet=lt,!lt||!lt.visible){Ae.visible=!1;continue}Ae.xaxis=lt.xaxis,Ae.yaxis=lt.yaxis}},p.supplyAnimationDefaults=function(Y){Y=Y||{};var oe,ue={};function K($,le){return t.coerce(Y||{},ue,m,$,le)}if(K("mode"),K("direction"),K("fromcurrent"),Array.isArray(Y.frame))for(ue.frame=[],oe=0;oe<Y.frame.length;oe++)ue.frame[oe]=p.supplyAnimationFrameDefaults(Y.frame[oe]||{});else ue.frame=p.supplyAnimationFrameDefaults(Y.frame||{});if(Array.isArray(Y.transition))for(ue.transition=[],oe=0;oe<Y.transition.length;oe++)ue.transition[oe]=p.supplyAnimationTransitionDefaults(Y.transition[oe]||{});else ue.transition=p.supplyAnimationTransitionDefaults(Y.transition||{});return ue},p.supplyAnimationFrameDefaults=function(Y){var oe={};function ue(K,$){return t.coerce(Y||{},oe,m.frame,K,$)}return ue("duration"),ue("redraw"),oe},p.supplyAnimationTransitionDefaults=function(Y){var oe={};function ue(K,$){return t.coerce(Y||{},oe,m.transition,K,$)}return ue("duration"),ue("easing"),oe},p.supplyFrameDefaults=function(Y){var oe={};function ue(K,$){return t.coerce(Y,oe,c,K,$)}return ue("group"),ue("name"),ue("traces"),ue("baseframe"),ue("data"),ue("layout"),oe},p.supplyTraceDefaults=function(Y,oe,ue,K,$){var le=K.colorway||i.defaults,ae=le[ue%le.length],he;function xe(He,st){return t.coerce(Y,oe,p.attributes,He,st)}var Me=xe("visible");xe("type"),xe("name",K._traceWord+" "+$),xe("uirevision",K.uirevision);var Ae=p.getModule(oe);if(oe._module=Ae,Ae){var ke=Ae.basePlotModule,we=ke.attr,Ee=ke.attributes;if(we&&Ee){var be=K._subplots,Le="";if(Me||ke.name!=="gl2d"){if(Array.isArray(we))for(he=0;he<we.length;he++){var Ue=we[he],Ve=t.coerce(Y,oe,Ee,Ue);be[Ue]&&t.pushUnique(be[Ue],Ve),Le+=Ve}else Le=t.coerce(Y,oe,Ee,we);be[ke.name]&&t.pushUnique(be[ke.name],Le)}}}if(Me){if(xe("customdata"),xe("ids"),xe("meta"),v.traceIs(oe,"showLegend")?(t.coerce(Y,oe,Ae.attributes.showlegend?Ae.attributes:p.attributes,"showlegend"),xe("legend"),xe("legendwidth"),xe("legendgroup"),xe("legendgrouptitle.text"),xe("legendrank"),oe._dfltShowLegend=!0):oe._dfltShowLegend=!1,Ae&&Ae.supplyDefaults(Y,oe,ae,K),v.traceIs(oe,"noOpacity")||xe("opacity"),v.traceIs(oe,"notLegendIsolatable")&&(oe.visible=!!oe.visible),v.traceIs(oe,"noHover")||(oe.hovertemplate||t.coerceHoverinfo(Y,oe,K),oe.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(Y,oe,ae,K)),Ae&&Ae.selectPoints){var Fe=xe("selectedpoints");t.isTypedArray(Fe)&&(oe.selectedpoints=Array.from(Fe))}p.supplyTransformDefaults(Y,oe,K)}return oe};function U(Y){var oe=Y.transforms;if(Array.isArray(oe)&&oe.length)for(var ue=0;ue<oe.length;ue++){var K=oe[ue],$=K._module||b[K.type];if($&&$.makesData)return!0}return!1}p.hasMakesDataTransform=U,p.supplyTransformDefaults=function(Y,oe,ue){if(oe._length||U(Y)){var K=ue._globalTransforms||[],$=ue._transformModules||[];if(!(!Array.isArray(Y.transforms)&&K.length===0))for(var le=Y.transforms||[],ae=K.concat(le),he=oe.transforms=[],xe=0;xe<ae.length;xe++){var Me=ae[xe],Ae=Me.type,ke=b[Ae],we,Ee=!(Me._module&&Me._module===ke),be=ke&&typeof ke.transform=="function";ke||t.warn("Unrecognized transform type "+Ae+"."),ke&&ke.supplyDefaults&&(Ee||be)?(we=ke.supplyDefaults(Me,oe,ue,Y),we.type=Ae,we._module=ke,t.pushUnique($,ke)):we=t.extendFlat({},Me),he.push(we)}}};function z(Y,oe,ue,K){for(var $=Y.transforms,le=[Y],ae=0;ae<$.length;ae++){var he=$[ae],xe=b[he.type];xe&&xe.transform&&(le=xe.transform(le,{transform:he,fullTrace:Y,fullData:oe,layout:ue,fullLayout:K,transformIndex:ae}))}return le}p.supplyLayoutGlobalDefaults=function(Y,oe,ue){function K(ke,we){return t.coerce(Y,oe,p.layoutAttributes,ke,we)}var $=Y.template;t.isPlainObject($)&&(oe.template=$,oe._template=$.layout,oe._dataTemplate=$.data),K("autotypenumbers");var le=t.coerceFont(K,"font"),ae=le.size;t.coerceFont(K,"title.font",t.extendFlat({},le,{size:Math.round(ae*1.4)})),K("title.text",oe._dfltTitle.plot),K("title.xref");var he=K("title.yref");K("title.pad.t"),K("title.pad.r"),K("title.pad.b"),K("title.pad.l");var xe=K("title.automargin");K("title.x"),K("title.xanchor"),K("title.y"),K("title.yanchor"),xe&&(he==="paper"&&(oe.title.y!==0&&(oe.title.y=1),oe.title.yanchor==="auto"&&(oe.title.yanchor=oe.title.y===0?"top":"bottom")),he==="container"&&(oe.title.y==="auto"&&(oe.title.y=1),oe.title.yanchor==="auto"&&(oe.title.yanchor=oe.title.y<.5?"bottom":"top")));var Me=K("uniformtext.mode");Me&&K("uniformtext.minsize"),K("autosize",!(Y.width&&Y.height)),K("width"),K("height"),K("minreducedwidth"),K("minreducedheight"),K("margin.l"),K("margin.r"),K("margin.t"),K("margin.b"),K("margin.pad"),K("margin.autoexpand"),Y.width&&Y.height&&p.sanitizeMargins(oe),v.getComponentMethod("grid","sizeDefaults")(Y,oe),K("paper_bgcolor"),K("separators",ue.decimal+ue.thousands),K("hidesources"),K("colorway"),K("datarevision");var Ae=K("uirevision");K("editrevision",Ae),K("selectionrevision",Ae),v.getComponentMethod("modebar","supplyLayoutDefaults")(Y,oe),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Y,oe,K),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Y,oe,K),K("meta"),t.isPlainObject(Y.transition)&&(K("transition.duration"),K("transition.easing"),K("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(Y,oe,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Y,oe,K),t.coerce(Y,oe,l,"scattermode")};function F(Y){return typeof Y=="string"&&Y.substr(Y.length-2)==="px"&&parseFloat(Y)}p.plotAutoSize=function(oe,ue,K){var $=oe._context||{},le=$.frameMargins,ae,he,xe=t.isPlotDiv(oe);if(xe&&oe.emit("plotly_autosize"),$.fillFrame)ae=window.innerWidth,he=window.innerHeight,document.body.style.overflow="hidden";else{var Me=xe?window.getComputedStyle(oe):{};if(ae=F(Me.width)||F(Me.maxWidth)||K.width,he=F(Me.height)||F(Me.maxHeight)||K.height,C(le)&&le>0){var Ae=1-2*le;ae=Math.round(Ae*ae),he=Math.round(Ae*he)}}var ke=p.layoutAttributes.width.min,we=p.layoutAttributes.height.min;ae<ke&&(ae=ke),he<we&&(he=we);var Ee=!ue.width&&Math.abs(K.width-ae)>1,be=!ue.height&&Math.abs(K.height-he)>1;(be||Ee)&&(Ee&&(K.width=ae),be&&(K.height=he)),oe._initialAutoSize||(oe._initialAutoSize={width:ae,height:he}),p.sanitizeMargins(K)},p.supplyLayoutModuleDefaults=function(Y,oe,ue,K){var $=v.componentsRegistry,le=oe._basePlotModules,ae,he,xe,Me=v.subplotsRegistry.cartesian;for(ae in $)xe=$[ae],xe.includeBasePlot&&xe.includeBasePlot(Y,oe);le.length||le.push(Me),oe._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(Y,oe),Me.finalizeSubplots(Y,oe));for(var Ae in oe._subplots)oe._subplots[Ae].sort(t.subplotSort);for(he=0;he<le.length;he++)xe=le[he],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults(Y,oe,ue);var ke=oe._modules;for(he=0;he<ke.length;he++)xe=ke[he],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults(Y,oe,ue);var we=oe._transformModules;for(he=0;he<we.length;he++)xe=we[he],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults(Y,oe,ue,K);for(ae in $)xe=$[ae],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults(Y,oe,ue)},p.purge=function(Y){var oe=Y._fullLayout||{};oe._glcontainer!==void 0&&(oe._glcontainer.selectAll(".gl-canvas").remove(),oe._glcontainer.remove(),oe._glcanvas=null),oe._modeBar&&oe._modeBar.destroy(),Y._transitionData&&(Y._transitionData._interruptCallbacks&&(Y._transitionData._interruptCallbacks.length=0),Y._transitionData._animationRaf&&window.cancelAnimationFrame(Y._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Y),delete Y.data,delete Y.layout,delete Y._fullData,delete Y._fullLayout,delete Y.calcdata,delete Y.empty,delete Y.fid,delete Y.undoqueue,delete Y.undonum,delete Y.autoplay,delete Y.changed,delete Y._promises,delete Y._redrawTimer,delete Y._hmlumcount,delete Y._hmpixcount,delete Y._transitionData,delete Y._transitioning,delete Y._initialAutoSize,delete Y._transitioningWithDuration,delete Y._dragging,delete Y._dragged,delete Y._dragdata,delete Y._hoverdata,delete Y._snapshotInProgress,delete Y._editing,delete Y._mouseDownTime,delete Y._legendMouseDownTime,Y.removeAllListeners&&Y.removeAllListeners()},p.style=function(Y){var oe=Y._fullLayout._visibleModules,ue=[],K;for(K=0;K<oe.length;K++){var $=oe[K];$.style&&t.pushUnique(ue,$.style)}for(K=0;K<ue.length;K++)ue[K](Y)},p.sanitizeMargins=function(Y){if(!(!Y||!Y.margin)){var oe=Y.width,ue=Y.height,K=Y.margin,$=oe-(K.l+K.r),le=ue-(K.t+K.b),ae;$<0&&(ae=(oe-1)/(K.l+K.r),K.l=Math.floor(ae*K.l),K.r=Math.floor(ae*K.r)),le<0&&(ae=(ue-1)/(K.t+K.b),K.t=Math.floor(ae*K.t),K.b=Math.floor(ae*K.b))}},p.clearAutoMarginIds=function(Y){Y._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(Y,oe){Y._fullLayout._pushmarginIds[oe]=1};function B(Y){var oe=Y.margin;if(!Y._size){var ue=Y._size={l:Math.round(oe.l),r:Math.round(oe.r),t:Math.round(oe.t),b:Math.round(oe.b),p:Math.round(oe.pad)};ue.w=Math.round(Y.width)-ue.l-ue.r,ue.h=Math.round(Y.height)-ue.t-ue.b}Y._pushmargin||(Y._pushmargin={}),Y._pushmarginIds||(Y._pushmarginIds={}),Y._reservedMargin||(Y._reservedMargin={})}var N=2,V=2;p.autoMargin=function(Y,oe,ue){var K=Y._fullLayout,$=K.width,le=K.height,ae=K.margin,he=K.minreducedwidth,xe=K.minreducedheight,Me=t.constrain($-ae.l-ae.r,N,he),Ae=t.constrain(le-ae.t-ae.b,V,xe),ke=Math.max(0,$-Me),we=Math.max(0,le-Ae),Ee=K._pushmargin,be=K._pushmarginIds;if(ae.autoexpand!==!1){if(!ue)delete Ee[oe],delete be[oe];else{var Le=ue.pad;if(Le===void 0&&(Le=Math.min(12,ae.l,ae.r,ae.t,ae.b)),ke){var Ue=(ue.l+ue.r)/ke;Ue>1&&(ue.l/=Ue,ue.r/=Ue)}if(we){var Ve=(ue.t+ue.b)/we;Ve>1&&(ue.t/=Ve,ue.b/=Ve)}var Fe=ue.xl!==void 0?ue.xl:ue.x,He=ue.xr!==void 0?ue.xr:ue.x,st=ue.yt!==void 0?ue.yt:ue.y,vt=ue.yb!==void 0?ue.yb:ue.y;Ee[oe]={l:{val:Fe,size:ue.l+Le},r:{val:He,size:ue.r+Le},b:{val:vt,size:ue.b+Le},t:{val:st,size:ue.t+Le}},be[oe]=1}if(!K._replotting)return p.doAutoMargin(Y)}};function X(Y){if("_redrawFromAutoMarginCount"in Y._fullLayout)return!1;var oe=f.list(Y,"",!0);for(var ue in oe)if(oe[ue].autoshift||oe[ue].shift)return!0;return!1}p.doAutoMargin=function(Y){var oe=Y._fullLayout,ue=oe.width,K=oe.height;oe._size||(oe._size={}),B(oe);var $=oe._size,le=oe.margin,ae={t:0,b:0,l:0,r:0},he=t.extendFlat({},$),xe=le.l,Me=le.r,Ae=le.t,ke=le.b,we=oe._pushmargin,Ee=oe._pushmarginIds,be=oe.minreducedwidth,Le=oe.minreducedheight;if(le.autoexpand!==!1){for(var Ue in we)Ee[Ue]||delete we[Ue];var Ve=Y._fullLayout._reservedMargin;for(var Fe in Ve)for(var He in Ve[Fe]){var st=Ve[Fe][He];ae[He]=Math.max(ae[He],st)}we.base={l:{val:0,size:xe},r:{val:1,size:Me},t:{val:1,size:Ae},b:{val:0,size:ke}};for(var vt in ae){var lt=0;for(var et in we)et!=="base"&&C(we[et][vt].size)&&(lt=we[et][vt].size>lt?we[et][vt].size:lt);var ct=Math.max(0,le[vt]-lt);ae[vt]=Math.max(0,ae[vt]-ct)}for(var ht in we){var mt=we[ht].l||{},xt=we[ht].b||{},Mt=mt.val,tt=mt.size,Oe=xt.val,Ye=xt.size,Ze=ue-ae.r-ae.l,We=K-ae.t-ae.b;for(var _e in we){if(C(tt)&&we[_e].r){var Ie=we[_e].r.val,Xe=we[_e].r.size;if(Ie>Mt){var De=(tt*Ie+(Xe-Ze)*Mt)/(Ie-Mt),de=(Xe*(1-Mt)+(tt-Ze)*(1-Ie))/(Ie-Mt);De+de>xe+Me&&(xe=De,Me=de)}}if(C(Ye)&&we[_e].t){var Te=we[_e].t.val,Be=we[_e].t.size;if(Te>Oe){var Qe=(Ye*Te+(Be-We)*Oe)/(Te-Oe),at=(Be*(1-Oe)+(Ye-We)*(1-Te))/(Te-Oe);Qe+at>ke+Ae&&(ke=Qe,Ae=at)}}}}}var it=t.constrain(ue-le.l-le.r,N,be),Wt=t.constrain(K-le.t-le.b,V,Le),Yt=Math.max(0,ue-it),Tt=Math.max(0,K-Wt);if(Yt){var Lt=(xe+Me)/Yt;Lt>1&&(xe/=Lt,Me/=Lt)}if(Tt){var Xt=(ke+Ae)/Tt;Xt>1&&(ke/=Xt,Ae/=Xt)}if($.l=Math.round(xe)+ae.l,$.r=Math.round(Me)+ae.r,$.t=Math.round(Ae)+ae.t,$.b=Math.round(ke)+ae.b,$.p=Math.round(le.pad),$.w=Math.round(ue)-$.l-$.r,$.h=Math.round(K)-$.t-$.b,!oe._replotting&&(p.didMarginChange(he,$)||X(Y))){"_redrawFromAutoMarginCount"in oe?oe._redrawFromAutoMarginCount++:oe._redrawFromAutoMarginCount=1;var Tr=3*(1+Object.keys(Ee).length);if(oe._redrawFromAutoMarginCount<Tr)return v.call("_doPlot",Y);oe._size=he,t.warn("Too many auto-margin redraws.")}q(Y)};function q(Y){var oe=f.list(Y,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ue){for(var K=0;K<oe.length;K++){var $=oe[K][ue];$&&$()}})}var te=["l","r","t","b","p","w","h"];p.didMarginChange=function(Y,oe){for(var ue=0;ue<te.length;ue++){var K=te[ue],$=Y[K],le=oe[K];if(!C($)||Math.abs(le-$)>1)return!0}return!1},p.graphJson=function(Y,oe,ue,K,$,le){($&&oe&&!Y._fullData||$&&!oe&&!Y._fullLayout)&&p.supplyDefaults(Y);var ae=$?Y._fullData:Y.data,he=$?Y._fullLayout:Y.layout,xe=(Y._transitionData||{})._frames;function Me(we,Ee){if(typeof we=="function")return Ee?"_function_":null;if(t.isPlainObject(we)){var be={},Le;return Object.keys(we).sort().forEach(function(He){if(["_","["].indexOf(He.charAt(0))===-1){if(typeof we[He]=="function"){Ee&&(be[He]="_function");return}if(ue==="keepdata"){if(He.substr(He.length-3)==="src")return}else if(ue==="keepstream"){if(Le=we[He+"src"],typeof Le=="string"&&Le.indexOf(":")>0&&!t.isPlainObject(we.stream))return}else if(ue!=="keepall"&&(Le=we[He+"src"],typeof Le=="string"&&Le.indexOf(":")>0))return;be[He]=Me(we[He],Ee)}}),be}var Ue=Array.isArray(we),Ve=t.isTypedArray(we);if((Ue||Ve)&&we.dtype&&we.shape){var Fe=we.bdata;return Me({dtype:we.dtype,shape:we.shape,bdata:t.isArrayBuffer(Fe)?S.encode(Fe):Fe},Ee)}return Ue?we.map(function(He){return Me(He,Ee)}):Ve?t.simpleMap(we,t.identity):t.isJSDate(we)?t.ms2DateTimeLocal(+we):we}var Ae={data:(ae||[]).map(function(we){var Ee=Me(we);return oe&&delete Ee.fit,Ee})};if(!oe&&(Ae.layout=Me(he),$)){var ke=he._size;Ae.layout.computed={margin:{b:ke.b,l:ke.l,r:ke.r,t:ke.t}}}return xe&&(Ae.frames=Me(xe)),le&&(Ae.config=Me(Y._context,!0)),K==="object"?Ae:JSON.stringify(Ae)},p.modifyFrames=function(Y,oe){var ue,K,$,le=Y._transitionData._frames,ae=Y._transitionData._frameHash;for(ue=0;ue<oe.length;ue++)switch(K=oe[ue],K.type){case"replace":$=K.value;var he=(le[K.index]||{}).name,xe=$.name;le[K.index]=ae[xe]=$,xe!==he&&(delete ae[he],ae[xe]=$);break;case"insert":$=K.value,ae[$.name]=$,le.splice(K.index,0,$);break;case"delete":$=le[K.index],delete ae[$.name],le.splice(K.index,1);break}return Promise.resolve()},p.computeFrame=function(Y,oe){var ue=Y._transitionData._frameHash,K,$,le,ae;if(!oe)throw new Error("computeFrame must be given a string frame name");var he=ue[oe.toString()];if(!he)return!1;for(var xe=[he],Me=[he.name];he.baseframe&&(he=ue[he.baseframe.toString()])&&Me.indexOf(he.name)===-1;)xe.push(he),Me.push(he.name);for(var Ae={};he=xe.pop();)if(he.layout&&(Ae.layout=p.extendLayout(Ae.layout,he.layout)),he.data){if(Ae.data||(Ae.data=[]),$=he.traces,!$)for($=[],K=0;K<he.data.length;K++)$[K]=K;for(Ae.traces||(Ae.traces=[]),K=0;K<he.data.length;K++)le=$[K],le!=null&&(ae=Ae.traces.indexOf(le),ae===-1&&(ae=Ae.data.length,Ae.traces[ae]=le),Ae.data[ae]=p.extendTrace(Ae.data[ae],he.data[K]))}return Ae},p.recomputeFrameHash=function(Y){for(var oe=Y._transitionData._frameHash={},ue=Y._transitionData._frames,K=0;K<ue.length;K++){var $=ue[K];$&&$.name&&(oe[$.name]=$)}},p.extendObjectWithContainers=function(Y,oe,ue){var K,$,le,ae,he,xe,Me,Ae,ke=t.extendDeepNoArrays({},oe||{}),we=t.expandObjectPaths(ke),Ee={};if(ue&&ue.length)for(le=0;le<ue.length;le++)K=t.nestedProperty(we,ue[le]),$=K.get(),$===void 0?t.nestedProperty(Ee,ue[le]).set(null):(K.set(null),t.nestedProperty(Ee,ue[le]).set($));if(Y=t.extendDeepNoArrays(Y||{},we),ue&&ue.length){for(le=0;le<ue.length;le++)if(he=t.nestedProperty(Ee,ue[le]),Me=he.get(),!!Me){for(xe=t.nestedProperty(Y,ue[le]),Ae=xe.get(),Array.isArray(Ae)||(Ae=[],xe.set(Ae)),ae=0;ae<Me.length;ae++){var be=Me[ae];be===null?Ae[ae]=null:Ae[ae]=p.extendObjectWithContainers(Ae[ae],be)}xe.set(Ae)}}return Y},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=v.layoutArrayContainers,p.extendTrace=function(Y,oe){return p.extendObjectWithContainers(Y,oe,p.dataArrayContainers)},p.extendLayout=function(Y,oe){return p.extendObjectWithContainers(Y,oe,p.layoutArrayContainers)},p.transition=function(Y,oe,ue,K,$,le){var ae={redraw:$.redraw},he={},xe=[];return ae.prepareFn=function(){for(var Me=Array.isArray(oe)?oe.length:0,Ae=K.slice(0,Me),ke=0;ke<Ae.length;ke++){var we=Ae[ke],Ee=Y._fullData[we],be=Ee._module;if(be){if(be.animatable){var Le=be.basePlotModule.name;he[Le]||(he[Le]=[]),he[Le].push(we)}Y.data[Ae[ke]]=p.extendTrace(Y.data[Ae[ke]],oe[ke])}}var Ue=t.expandObjectPaths(t.extendDeepNoArrays({},ue)),Ve=/^[xy]axis[0-9]*$/;for(var Fe in Ue)Ve.test(Fe)&&delete Ue[Fe].range;p.extendLayout(Y.layout,Ue),delete Y.calcdata,p.supplyDefaults(Y),p.doCalcdata(Y);var He=t.expandObjectPaths(ue);if(He){var st=Y._fullLayout._plots;for(var vt in st){var lt=st[vt],et=lt.xaxis,ct=lt.yaxis,ht=et.range.slice(),mt=ct.range.slice(),xt=null,Mt=null,tt=null,Oe=null;Array.isArray(He[et._name+".range"])?xt=He[et._name+".range"].slice():Array.isArray((He[et._name]||{}).range)&&(xt=He[et._name].range.slice()),Array.isArray(He[ct._name+".range"])?Mt=He[ct._name+".range"].slice():Array.isArray((He[ct._name]||{}).range)&&(Mt=He[ct._name].range.slice()),ht&&xt&&(et.r2l(ht[0])!==et.r2l(xt[0])||et.r2l(ht[1])!==et.r2l(xt[1]))&&(tt={xr0:ht,xr1:xt}),mt&&Mt&&(ct.r2l(mt[0])!==ct.r2l(Mt[0])||ct.r2l(mt[1])!==ct.r2l(Mt[1]))&&(Oe={yr0:mt,yr1:Mt}),(tt||Oe)&&xe.push(t.extendFlat({plotinfo:lt},tt,Oe))}}return Promise.resolve()},ae.runFn=function(Me){var Ae,ke=Y._fullLayout._basePlotModules,we=xe.length,Ee;if(ue)for(Ee=0;Ee<ke.length;Ee++)ke[Ee].transitionAxes&&ke[Ee].transitionAxes(Y,xe,le,Me);we?(Ae=t.extendFlat({},le),Ae.duration=0,delete he.cartesian):Ae=le;for(var be in he){var Le=he[be],Ue=Y._fullData[Le[0]]._module;Ue.basePlotModule.plot(Y,Le,Ae,Me)}},ne(Y,le,ae)},p.transitionFromReact=function(Y,oe,ue,K){var $=Y._fullLayout,le=$.transition,ae={},he=[];return ae.prepareFn=function(){var xe=$._plots;ae.redraw=!1,oe.anim==="some"&&(ae.redraw=!0),ue.anim==="some"&&(ae.redraw=!0);for(var Me in xe){var Ae=xe[Me],ke=Ae.xaxis,we=Ae.yaxis,Ee=K[ke._name].range.slice(),be=K[we._name].range.slice(),Le=ke.range.slice(),Ue=we.range.slice();ke.setScale(),we.setScale();var Ve=null,Fe=null;(ke.r2l(Ee[0])!==ke.r2l(Le[0])||ke.r2l(Ee[1])!==ke.r2l(Le[1]))&&(Ve={xr0:Ee,xr1:Le}),(we.r2l(be[0])!==we.r2l(Ue[0])||we.r2l(be[1])!==we.r2l(Ue[1]))&&(Fe={yr0:be,yr1:Ue}),(Ve||Fe)&&he.push(t.extendFlat({plotinfo:Ae},Ve,Fe))}return Promise.resolve()},ae.runFn=function(xe){for(var Me=Y._fullData,Ae=Y._fullLayout,ke=Ae._basePlotModules,we,Ee,be,Le=[],Ue=0;Ue<Me.length;Ue++)Le.push(Ue);function Ve(){if(Y._fullLayout)for(var He=0;He<ke.length;He++)ke[He].transitionAxes&&ke[He].transitionAxes(Y,he,we,xe)}function Fe(){if(Y._fullLayout)for(var He=0;He<ke.length;He++)ke[He].plot(Y,be,Ee,xe)}he.length&&oe.anim?le.ordering==="traces first"?(we=t.extendFlat({},le,{duration:0}),be=Le,Ee=le,setTimeout(Ve,le.duration),Fe()):(we=le,be=null,Ee=t.extendFlat({},le,{duration:0}),setTimeout(Fe,we.duration),Ve()):he.length?(we=le,Ve()):oe.anim&&(be=Le,Ee=le,Fe())},ne(Y,le,ae)};function ne(Y,oe,ue){var K=!1;function $(ke){var we=Promise.resolve();if(!ke)return we;for(;ke.length;)we=we.then(ke.shift());return we}function le(ke){if(ke)for(;ke.length;)ke.shift()}function ae(){return Y.emit("plotly_transitioning",[]),new Promise(function(ke){Y._transitioning=!0,oe.duration>0&&(Y._transitioningWithDuration=!0),Y._transitionData._interruptCallbacks.push(function(){K=!0}),ue.redraw&&Y._transitionData._interruptCallbacks.push(function(){return v.call("redraw",Y)}),Y._transitionData._interruptCallbacks.push(function(){Y.emit("plotly_transitioninterrupted",[])});var we=0,Ee=0;function be(){return we++,function(){Ee++,!K&&Ee===we&&he(ke)}}ue.runFn(be),setTimeout(be())})}function he(ke){if(Y._transitionData)return le(Y._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ue.redraw)return v.call("redraw",Y)}).then(function(){Y._transitioning=!1,Y._transitioningWithDuration=!1,Y.emit("plotly_transitioned",[])}).then(ke)}function xe(){if(Y._transitionData)return Y._transitioning=!1,$(Y._transitionData._interruptCallbacks)}var Me=[p.previousPromises,xe,ue.prepareFn,p.rehover,p.reselect,ae],Ae=t.syncOrAsync(Me,Y);return(!Ae||!Ae.then)&&(Ae=Promise.resolve()),Ae.then(function(){return Y})}p.doCalcdata=function(Y,oe){var ue=f.list(Y),K=Y._fullData,$=Y._fullLayout,le,ae,he,xe,Me=new Array(K.length),Ae=(Y.calcdata||[]).slice();for(Y.calcdata=Me,$._numBoxes=0,$._numViolins=0,$._violinScaleGroupStats={},Y._hmpixcount=0,Y._hmlumcount=0,$._piecolormap={},$._sunburstcolormap={},$._treemapcolormap={},$._iciclecolormap={},$._funnelareacolormap={},he=0;he<K.length;he++)if(Array.isArray(oe)&&oe.indexOf(he)===-1){Me[he]=Ae[he];continue}for(he=0;he<K.length;he++)le=K[he],le._arrayAttrs=d.findArrayAttributes(le),le._extremes={};var ke=$._subplots.polar||[];for(he=0;he<ke.length;he++)ue.push($[ke[he]].radialaxis,$[ke[he]].angularaxis);for(var we in $._colorAxes){var Ee=$[we];Ee.cauto!==!1&&(delete Ee.cmin,delete Ee.cmax)}var be=!1;function Le(Fe){if(le=K[Fe],ae=le._module,le.visible===!0&&le.transforms){if(ae&&ae.calc){var He=ae.calc(Y,le);He[0]&&He[0].t&&He[0].t._scene&&delete He[0].t._scene.dirty}for(xe=0;xe<le.transforms.length;xe++){var st=le.transforms[xe];ae=b[st.type],ae&&ae.calcTransform&&(le._hasCalcTransform=!0,be=!0,ae.calcTransform(Y,le,st))}}}function Ue(Fe,He){if(le=K[Fe],ae=le._module,!!ae.isContainer===He){var st=[];if(le.visible===!0&&le._length!==0){delete le._indexToPoints;var vt=le.transforms||[];for(xe=vt.length-1;xe>=0;xe--)if(vt[xe].enabled){le._indexToPoints=vt[xe]._indexToPoints;break}ae&&ae.calc&&(st=ae.calc(Y,le))}(!Array.isArray(st)||!st[0])&&(st=[{x:n,y:n}]),st[0].t||(st[0].t={}),st[0].trace=le,Me[Fe]=st}}for(Z(ue,K,$),he=0;he<K.length;he++)Ue(he,!0);for(he=0;he<K.length;he++)Le(he);for(be&&Z(ue,K,$),he=0;he<K.length;he++)Ue(he,!0);for(he=0;he<K.length;he++)Ue(he,!1);re(Y);var Ve=Q(ue,Y);if(Ve.length){for($._numBoxes=0,$._numViolins=0,he=0;he<Ve.length;he++)Ue(Ve[he],!0);for(he=0;he<Ve.length;he++)Ue(Ve[he],!1);re(Y)}v.getComponentMethod("fx","calc")(Y),v.getComponentMethod("errorbars","calc")(Y)};var ce=/(total|sum|min|max|mean|median) (ascending|descending)/;function Q(Y,oe){var ue=[],K,$,le,ae,he;function xe(_e,Ie,Xe){var De=Ie._id.charAt(0);if(_e==="histogram2dcontour"){var de=Ie._counterAxes[0],Te=f.getFromId(oe,de),Be=De==="x"||de==="x"&&Te.type==="category",Qe=De==="y"||de==="y"&&Te.type==="category";return function(at,it){return at===0||it===0||Be&&at===Xe[it].length-1||Qe&&it===Xe.length-1?-1:(De==="y"?it:at)-1}}else return function(at,it){return De==="y"?it:at}}var Me={min:function(_e){return t.aggNums(Math.min,null,_e)},max:function(_e){return t.aggNums(Math.max,null,_e)},sum:function(_e){return t.aggNums(function(Ie,Xe){return Ie+Xe},null,_e)},total:function(_e){return t.aggNums(function(Ie,Xe){return Ie+Xe},null,_e)},mean:function(_e){return t.mean(_e)},median:function(_e){return t.median(_e)}};function Ae(_e,Ie){return _e[1]-Ie[1]}function ke(_e,Ie){return Ie[1]-_e[1]}for(K=0;K<Y.length;K++){var we=Y[K];if(we.type==="category"){var Ee=we.categoryorder.match(ce);if(Ee){var be=Ee[1],Le=Ee[2],Ue=we._id.charAt(0),Ve=Ue==="x",Fe=[];for($=0;$<we._categories.length;$++)Fe.push([we._categories[$],[]]);for($=0;$<we._traceIndices.length;$++){var He=we._traceIndices[$],st=oe._fullData[He];if(st.visible===!0){var vt=st.type;v.traceIs(st,"histogram")&&(delete st._xautoBinFinished,delete st._yautoBinFinished);var lt=vt==="splom",et=vt==="scattergl",ct=oe.calcdata[He];for(le=0;le<ct.length;le++){var ht=ct[le],mt,xt;if(lt){var Mt=st._axesDim[we._id];if(!Ve){var tt=st._diag[Mt][0];tt&&(we=oe._fullLayout[f.id2name(tt)])}var Oe=ht.trace.dimensions[Mt].values;for(ae=0;ae<Oe.length;ae++)for(mt=we._categoriesMap[Oe[ae]],he=0;he<ht.trace.dimensions.length;he++)if(he!==Mt){var Ye=ht.trace.dimensions[he];Fe[mt][1].push(Ye.values[ae])}}else if(et){for(ae=0;ae<ht.t.x.length;ae++)Ve?(mt=ht.t.x[ae],xt=ht.t.y[ae]):(mt=ht.t.y[ae],xt=ht.t.x[ae]),Fe[mt][1].push(xt);ht.t&&ht.t._scene&&delete ht.t._scene.dirty}else if(ht.hasOwnProperty("z")){xt=ht.z;var Ze=xe(st.type,we,xt);for(ae=0;ae<xt.length;ae++)for(he=0;he<xt[ae].length;he++)mt=Ze(he,ae),mt+1&&Fe[mt][1].push(xt[ae][he])}else for(mt=ht.p,mt===void 0&&(mt=ht[Ue]),xt=ht.s,xt===void 0&&(xt=ht.v),xt===void 0&&(xt=Ve?ht.y:ht.x),Array.isArray(xt)||(xt===void 0?xt=[]:xt=[xt]),ae=0;ae<xt.length;ae++)Fe[mt][1].push(xt[ae])}}}we._categoriesValue=Fe;var We=[];for($=0;$<Fe.length;$++)We.push([Fe[$][0],Me[be](Fe[$][1])]);We.sort(Le==="descending"?ke:Ae),we._categoriesAggregatedValue=We,we._initialCategories=We.map(function(_e){return _e[0]}),ue=ue.concat(we.sortByInitialCategories())}}}return ue}function Z(Y,oe,ue){var K={};function $(xe){xe.clearCalc(),xe.type==="multicategory"&&xe.setupMultiCategory(oe),K[xe._id]=1}t.simpleMap(Y,$);for(var le=ue._axisMatchGroups||[],ae=0;ae<le.length;ae++)for(var he in le[ae])K[he]||$(ue[f.id2name(he)])}function re(Y){var oe=Y._fullLayout,ue=oe._visibleModules,K={},$,le,ae;for(le=0;le<ue.length;le++){var he=ue[le],xe=he.crossTraceCalc;if(xe){var Me=he.basePlotModule.name;K[Me]?t.pushUnique(K[Me],xe):K[Me]=[xe]}}for(ae in K){var Ae=K[ae],ke=oe._subplots[ae];if(Array.isArray(ke))for($=0;$<ke.length;$++){var we=ke[$],Ee=ae==="cartesian"?oe._plots[we]:oe[we];for(le=0;le<Ae.length;le++)Ae[le](Y,Ee,we)}else for(le=0;le<Ae.length;le++)Ae[le](Y)}}p.rehover=function(Y){Y._fullLayout._rehover&&Y._fullLayout._rehover()},p.redrag=function(Y){Y._fullLayout._redrag&&Y._fullLayout._redrag()},p.reselect=function(Y){var oe=Y._fullLayout,ue=(Y.layout||{}).selections,K=oe._previousSelections;oe._previousSelections=ue;var $=oe._reselect||JSON.stringify(ue)!==JSON.stringify(K);v.getComponentMethod("selections","reselect")(Y,$)},p.generalUpdatePerTraceModule=function(Y,oe,ue,K){var $=oe.traceHash,le={},ae;for(ae=0;ae<ue.length;ae++){var he=ue[ae],xe=he[0].trace;xe.visible&&(le[xe.type]=le[xe.type]||[],le[xe.type].push(he))}for(var Me in $)if(!le[Me]){var Ae=$[Me][0],ke=Ae[0].trace;ke.visible=!1,le[Me]=[Ae]}for(var we in le){var Ee=le[we],be=Ee[0][0].trace._module;be.plot(Y,oe,t.filterVisible(Ee),K)}oe.traceHash=le},p.plotBasePlot=function(Y,oe,ue,K,$){var le=v.getModule(Y),ae=A(oe.calcdata,le)[0];le.plot(oe,ae,K,$)},p.cleanBasePlot=function(Y,oe,ue,K,$){var le=$._has&&$._has(Y),ae=ue._has&&ue._has(Y);le&&!ae&&$["_"+Y+"layer"].selectAll("g.trace").remove()}},39360:function(H){H.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(H,G,e){var g=e(3400),R=e(92065).tester,a=g.findIndexOfMin,C=g.isAngleInsideSector,S=g.angleDelta,v=g.angleDist;function d(o,p,b,T,P){if(!C(p,T))return!1;var x,L;b[0]<b[1]?(x=b[0],L=b[1]):(x=b[1],L=b[0]);var M=R(f(x,T[0],T[1],P)),s=R(f(L,T[0],T[1],P)),E=[o*Math.cos(p),o*Math.sin(p)];return s.contains(E)&&!M.contains(E)}function r(o,p,b,T){var P,x,L=T[0],M=T[1],s=m(Math.sin(p)-Math.sin(o)),E=m(Math.cos(p)-Math.cos(o)),w=Math.tan(b),O=m(1/w),_=s/E,U=M-_*L;return O?s&&E?(P=U/(w-_),x=w*P):E?(P=M*O,x=M):(P=L,x=L*w):s&&E?(P=0,x=U):E?(P=0,x=M):P=x=NaN,[P,x]}function t(o,p,b,T){var P=-p*b,x=p*p+1,L=2*(p*P-b),M=P*P+b*b-o*o,s=Math.sqrt(L*L-4*x*M),E=(-L+s)/(2*x),w=(-L-s)/(2*x);return[[E,p*E+P+T],[w,p*w+P+T]]}function i(o,p){var b=p.length,T=new Array(b+1),P;for(P=0;P<b;P++){var x=p[P];T[P]=[o*Math.cos(x),o*Math.sin(x)]}return T[P]=T[0].slice(),T}function n(o,p,b,T){var P=T.length,x=[],L,M;function s(N){return[o*Math.cos(N),o*Math.sin(N)]}function E(N,V,X){return r(N,V,X,s(N))}function w(N){return g.mod(N,P)}function O(N){return C(N,[p,b])}var _=a(T,function(N){return O(N)?v(N,p):1/0}),U=E(T[_],T[w(_-1)],p);for(x.push(U),L=_,M=0;M<P;L++,M++){var z=T[w(L)];if(!O(z))break;x.push(s(z))}var F=a(T,function(N){return O(N)?v(N,b):1/0}),B=E(T[F],T[w(F+1)],b);return x.push(B),x.push([0,0]),x.push(x[0].slice()),x}function f(o,p,b,T){return g.isFullCircle([p,b])?i(o,T):n(o,p,b,T)}function u(o,p,b,T){for(var P=1/0,x=1/0,L=f(o,p,b,T),M=0;M<L.length;M++){var s=L[M];P=Math.min(P,s[0]),x=Math.min(x,-s[1])}return[P,x]}function l(o,p){var b=function(x){var L=S(x,o);return L>0?L:1/0},T=a(p,b),P=g.mod(T+1,p.length);return[p[T],p[P]]}function m(o){return Math.abs(o)>1e-10?o:0}function c(o,p,b){p=p||0,b=b||0;for(var T=o.length,P=new Array(T),x=0;x<T;x++){var L=o[x];P[x]=[p+L[0],b-L[1]]}return P}function A(o,p,b,T,P,x){var L=f(o,p,b,T);return"M"+c(L,P,x).join("L")}function h(o,p,b,T,P,x,L){var M,s;o<p?(M=o,s=p):(M=p,s=o);var E=c(f(M,b,T,P),x,L),w=c(f(s,b,T,P),x,L);return"M"+w.reverse().join("L")+"M"+E.join("L")}H.exports={isPtInsidePolygon:d,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:m,pathPolygon:A,pathPolygonAnnulus:h}},40872:function(H,G,e){var g=e(84888).KY,R=e(3400).counterRegex,a=e(62400),C=e(39360),S=C.attr,v=C.name,d=R(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],m=0;m<l.length;m++){var c=l[m],A=g(u,v,c),h=f[c]._subplot;h||(h=a(n,c),f[c]._subplot=h),h.plot(A,f,n._promises)}}function i(n,f,u,l){for(var m=l._subplots[v]||[],c=l._has&&l._has("gl"),A=f._has&&f._has("gl"),h=c&&!A,o=0;o<m.length;o++){var p=m[o],b=l[p]._subplot;if(!f[p]&&b){b.framework.remove(),b.layers["radial-axis-title"].remove();for(var T in b.clipPaths)b.clipPaths[T].remove()}h&&b._scene&&(b._scene.destroy(),b._scene=null)}}H.exports={attr:S,name:v,idRoot:v,idRegex:d,attrRegex:d,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:i,toSVG:e(57952).toSVG}},95300:function(H,G,e){var g=e(22548),R=e(94724),a=e(86968).u,C=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:R.color,showline:C({},R.showline,{dflt:!0}),linecolor:R.linecolor,linewidth:R.linewidth,showgrid:C({},R.showgrid,{dflt:!0}),gridcolor:R.gridcolor,gridwidth:R.gridwidth,griddash:R.griddash},"plot","from-root"),d=S({tickmode:R.minor.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,ticklabelstep:R.ticklabelstep,showticklabels:R.showticklabels,labelalias:R.labelalias,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,showexponent:R.showexponent,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,tickfont:R.tickfont,tickangle:R.tickangle,tickformat:R.tickformat,tickformatstops:R.tickformatstops,layer:R.layer},"plot","from-root"),r={visible:C({},R.visible,{dflt:!0}),type:C({},R.type,{values:["-","linear","log","date","category"]}),autotypenumbers:R.autotypenumbers,autorangeoptions:{minallowed:R.autorangeoptions.minallowed,maxallowed:R.autorangeoptions.maxallowed,clipmin:R.autorangeoptions.clipmin,clipmax:R.autorangeoptions.clipmax,include:R.autorangeoptions.include,editType:"plot"},autorange:C({},R.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},R.minallowed,{editType:"plot"}),maxallowed:C({},R.maxallowed,{editType:"plot"}),range:C({},R.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:R.categoryorder,categoryarray:R.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:R.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},R.title.text,{editType:"plot",dflt:""}),font:C({},R.title.font,{editType:"plot"}),editType:"plot"},hoverformat:R.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:R._deprecated.title,titlefont:R._deprecated.titlefont}};C(r,v,d);var t={visible:C({},R.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:R.autotypenumbers,categoryorder:R.categoryorder,categoryarray:R.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:R.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(t,v,d),H.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(H,G,e){var g=e(3400),R=e(76308),a=e(31780),C=e(168),S=e(84888).op,v=e(26332),d=e(25404),r=e(95936),t=e(42568),i=e(22416),n=e(42136),f=e(76808),u=e(52976),l=e(95300),m=e(57696),c=e(39360),A=c.axisNames;function h(p,b,T,P){var x=T("bgcolor");P.bgColor=R.combine(x,P.paper_bgcolor);var L=T("sector");T("hole");var M=S(P.fullData,c.name,P.id),s=P.layoutOut,E;function w($,le){return T(E+"."+$,le)}for(var O=0;O<A.length;O++){E=A[O],g.isPlainObject(p[E])||(p[E]={});var _=p[E],U=a.newContainer(b,E);U._id=U._name=E,U._attr=P.id+"."+E,U._traceIndices=M.map(function($){return $._expandedIndex});var z=c.axisName2dataArray[E],F=o(_,U,w,M,z,P);i(_,U,w,{axData:M,dataAttr:z});var B=w("visible");switch(m(U,b,s),w("uirevision",b.uirevision),U._m=1,E){case"radialaxis":w("minallowed"),w("maxallowed");var N=w("range"),V=U.getAutorangeDflt(N),X=w("autorange",V),q;N&&(N[0]===null&&N[1]===null||(N[0]===null||N[1]===null)&&(X==="reversed"||X===!0)||N[0]!==null&&(X==="min"||X==="max reversed")||N[1]!==null&&(X==="max"||X==="min reversed"))&&(N=void 0,delete U.range,U.autorange=!0,q=!0),q||(V=U.getAutorangeDflt(N),X=w("autorange",V)),_.autorange=X,X&&(f(w,X,N),(F==="linear"||F==="-")&&w("rangemode"),U.isReversed()&&(U._m=-1)),U.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(F==="date"){g.log("Polar plots do not support date angular axes yet.");for(var te=0;te<M.length;te++)M[te].visible=!1;F=_.type=U.type="linear"}w(F==="linear"?"thetaunit":"period");var ne=w("direction");w("rotation",{counterclockwise:0,clockwise:90}[ne]);break}if(t(_,U,w,U.type,{tickSuffixDflt:U.thetaunit==="degrees"?"":void 0}),B){var ce,Q,Z,re,Y,oe,ue,K=P.font||{};ce=w("color"),Q=ce===_.color?ce:K.color,Z=K.size,re=K.family,Y=K.weight,oe=K.style,ue=K.variant,v(_,U,w,U.type),r(_,U,w,U.type,{font:{weight:Y,style:oe,variant:ue,color:Q,size:Z,family:re},noAutotickangles:E==="angularaxis"}),d(_,U,w,{outerTicks:!0}),n(_,U,w,{dfltColor:ce,bgColor:P.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[E]}),w("layer"),E==="radialaxis"&&(w("side"),w("angle",L[0]),w("title.text"),g.coerceFont(w,"title.font",{weight:Y,style:oe,variant:ue,color:Q,size:g.bigFont(Z),family:re}))}F!=="category"&&w("hoverformat"),U._input=_}b.angularaxis.type==="category"&&T("gridshape")}function o(p,b,T,P,x,L){var M=T("autotypenumbers",L.autotypenumbersDflt),s=T("type");if(s==="-"){for(var E,w=0;w<P.length;w++)if(P[w].visible){E=P[w];break}E&&E[x]&&(b.type=u(E[x],"gregorian",{noMultiCategory:!0,autotypenumbers:M})),b.type==="-"?b.type="linear":p.type=b.type}return b.type}H.exports=function(b,T,P){C(b,T,P,{type:c.name,attributes:l,handleDefaults:h,font:T.font,autotypenumbersDflt:T.autotypenumbers,paper_bgcolor:T.paper_bgcolor,fullData:P,layoutOut:T})}},62400:function(H,G,e){var g=e(33428),R=e(49760),a=e(24040),C=e(3400),S=C.strRotate,v=C.strTranslate,d=e(76308),r=e(43616),t=e(7316),i=e(54460),n=e(78344),f=e(57696),u=e(19280).doAutoRange,l=e(51184),m=e(86476),c=e(93024),A=e(81668),h=e(22676).prepSelect,o=e(22676).selectOnClick,p=e(22676).clearOutline,b=e(93972),T=e(73696),P=e(39172).redrawReglTraces,x=e(84284).MID_SHIFT,L=e(39360),M=e(57384),s=e(36416),E=s.smith,w=s.reactanceArc,O=s.resistanceArc,_=s.smithTransform,U=C._,z=C.mod,F=C.deg2rad,B=C.rad2deg;function N(ce,Q,Z){this.isSmith=Z||!1,this.id=Q,this.gd=ce,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var re=ce._fullLayout,Y="clip"+re._uid+Q;this.clipIds.forTraces=Y+"-for-traces",this.clipPaths.forTraces=re._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=re["_"+(Z?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(oe){return this.isSmith?0:oe.hole},this.getSector=function(oe){return this.isSmith?[0,360]:oe.sector},this.getRadial=function(oe){return this.isSmith?oe.realaxis:oe.radialaxis},this.getAngular=function(oe){return this.isSmith?oe.imaginaryaxis:oe.angularaxis},Z||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=N.prototype;H.exports=function(Q,Z,re){return new N(Q,Z,re)},V.plot=function(ce,Q){for(var Z=this,re=Q[Z.id],Y=!1,oe=0;oe<ce.length;oe++){var ue=ce[oe][0].trace;if(ue.cliponaxis===!1){Y=!0;break}}Z._hasClipOnAxisFalse=Y,Z.updateLayers(Q,re),Z.updateLayout(Q,re),t.generalUpdatePerTraceModule(Z.gd,Z,ce,re),Z.updateFx(Q,re),Z.isSmith&&(delete re.realaxis.range,delete re.imaginaryaxis.range)},V.updateLayers=function(ce,Q){var Z=this,re=Z.isSmith,Y=Z.layers,oe=Z.getRadial(Q),ue=Z.getAngular(Q),K=L.layerNames,$=K.indexOf("frontplot"),le=K.slice(0,$),ae=ue.layer==="below traces",he=oe.layer==="below traces";ae&&le.push("angular-line"),he&&le.push("radial-line"),ae&&le.push("angular-axis"),he&&le.push("radial-axis"),le.push("frontplot"),ae||le.push("angular-line"),he||le.push("radial-line"),ae||le.push("angular-axis"),he||le.push("radial-axis");var xe=(re?"smith":"polar")+"sublayer",Me=Z.framework.selectAll("."+xe).data(le,String);Me.enter().append("g").attr("class",function(Ae){return xe+" "+Ae}).each(function(Ae){var ke=Y[Ae]=g.select(this);switch(Ae){case"frontplot":re||ke.append("g").classed("barlayer",!0),ke.append("g").classed("scatterlayer",!0);break;case"backplot":ke.append("g").classed("maplayer",!0);break;case"plotbg":Y.bg=ke.append("path");break;case"radial-grid":ke.style("fill","none");break;case"angular-grid":ke.style("fill","none");break;case"radial-line":ke.append("line").style("fill","none");break;case"angular-line":ke.append("path").style("fill","none");break}}),Me.order()},V.updateLayout=function(ce,Q){var Z=this,re=Z.layers,Y=ce._size,oe=Z.getRadial(Q),ue=Z.getAngular(Q),K=Q.domain.x,$=Q.domain.y;Z.xOffset=Y.l+Y.w*K[0],Z.yOffset=Y.t+Y.h*(1-$[1]);var le=Z.xLength=Y.w*(K[1]-K[0]),ae=Z.yLength=Y.h*($[1]-$[0]),he=Z.getSector(Q);Z.sectorInRad=he.map(F);var xe=Z.sectorBBox=q(he),Me=xe[2]-xe[0],Ae=xe[3]-xe[1],ke=ae/le,we=Math.abs(Ae/Me),Ee,be,Le,Ue,Ve;ke>we?(Ee=le,be=le*we,Ve=(ae-be)/Y.h/2,Le=[K[0],K[1]],Ue=[$[0]+Ve,$[1]-Ve]):(Ee=ae/we,be=ae,Ve=(le-Ee)/Y.w/2,Le=[K[0]+Ve,K[1]-Ve],Ue=[$[0],$[1]]),Z.xLength2=Ee,Z.yLength2=be,Z.xDomain2=Le,Z.yDomain2=Ue;var Fe=Z.xOffset2=Y.l+Y.w*Le[0],He=Z.yOffset2=Y.t+Y.h*(1-Ue[1]),st=Z.radius=Ee/Me,vt=Z.innerRadius=Z.getHole(Q)*st,lt=Z.cx=Fe-st*xe[0],et=Z.cy=He+st*xe[3],ct=Z.cxx=lt-Fe,ht=Z.cyy=et-He,mt=oe.side,xt;mt==="counterclockwise"?(xt=mt,mt="top"):mt==="clockwise"&&(xt=mt,mt="bottom"),Z.radialAxis=Z.mockAxis(ce,Q,oe,{_id:"x",side:mt,_trueSide:xt,domain:[vt/Y.w,st/Y.w]}),Z.angularAxis=Z.mockAxis(ce,Q,ue,{side:"right",domain:[0,Math.PI],autorange:!1}),Z.doAutoRange(ce,Q),Z.updateAngularAxis(ce,Q),Z.updateRadialAxis(ce,Q),Z.updateRadialAxisTitle(ce,Q),Z.xaxis=Z.mockCartesianAxis(ce,Q,{_id:"x",domain:Le}),Z.yaxis=Z.mockCartesianAxis(ce,Q,{_id:"y",domain:Ue});var Mt=Z.pathSubplot();Z.clipPaths.forTraces.select("path").attr("d",Mt).attr("transform",v(ct,ht)),re.frontplot.attr("transform",v(Fe,He)).call(r.setClipUrl,Z._hasClipOnAxisFalse?null:Z.clipIds.forTraces,Z.gd),re.bg.attr("d",Mt).attr("transform",v(lt,et)).call(d.fill,Q.bgcolor)},V.mockAxis=function(ce,Q,Z,re){var Y=C.extendFlat({},Z,re);return f(Y,Q,ce),Y},V.mockCartesianAxis=function(ce,Q,Z){var re=this,Y=re.isSmith,oe=Z._id,ue=C.extendFlat({type:"linear"},Z);n(ue,ce);var K={x:[0,2],y:[1,3]};return ue.setRange=function(){var $=re.sectorBBox,le=K[oe],ae=re.radialAxis._rl,he=(ae[1]-ae[0])/(1-re.getHole(Q));ue.range=[$[le[0]]*he,$[le[1]]*he]},ue.isPtWithinRange=oe==="x"&&!Y?function($){return re.isPtInside($)}:function(){return!0},ue.setRange(),ue.setScale(),ue},V.doAutoRange=function(ce,Q){var Z=this,re=Z.gd,Y=Z.radialAxis,oe=Z.getRadial(Q);u(re,Y);var ue=Y.range;if(oe.range=ue.slice(),oe._input.range=ue.slice(),Y._rl=[Y.r2l(ue[0],null,"gregorian"),Y.r2l(ue[1],null,"gregorian")],Y.minallowed!==void 0){var K=Y.r2l(Y.minallowed);Y._rl[0]>Y._rl[1]?Y._rl[1]=Math.max(Y._rl[1],K):Y._rl[0]=Math.max(Y._rl[0],K)}if(Y.maxallowed!==void 0){var $=Y.r2l(Y.maxallowed);Y._rl[0]<Y._rl[1]?Y._rl[1]=Math.min(Y._rl[1],$):Y._rl[0]=Math.min(Y._rl[0],$)}},V.updateRadialAxis=function(ce,Q){var Z=this,re=Z.gd,Y=Z.layers,oe=Z.radius,ue=Z.innerRadius,K=Z.cx,$=Z.cy,le=Z.getRadial(Q),ae=z(Z.getSector(Q)[0],360),he=Z.radialAxis,xe=ue<oe,Me=Z.isSmith;Me||(Z.fillViewInitialKey("radialaxis.angle",le.angle),Z.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&ae>90&&ae<=270&&(he.tickangle=180);var Ae=Me?function(st){var vt=_(Z,E([st.x,0]));return v(vt[0]-K,vt[1]-$)}:function(st){return v(he.l2p(st.x)+ue,0)},ke=Me?function(st){return O(Z,st.x,-1/0,1/0)}:function(st){return Z.pathArc(he.r2p(st.x)+ue)},we=X(le);if(Z.radialTickLayout!==we&&(Y["radial-axis"].selectAll(".xtick").remove(),Z.radialTickLayout=we),xe){he.setScale();var Ee=0,be=Me?(he.tickvals||[]).filter(function(st){return st>=0}).map(function(st){return i.tickText(he,st,!0,!1)}):i.calcTicks(he),Le=Me?be:i.clipEnds(he,be),Ue=i.getTickSigns(he)[2];Me&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(Ue=-Ue),he.ticks==="top"&&he.side==="top"&&(Ee=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Ee=he.ticklen)),i.drawTicks(re,he,{vals:be,layer:Y["radial-axis"],path:i.makeTickPath(he,0,Ue),transFn:Ae,crisp:!1}),i.drawGrid(re,he,{vals:Le,layer:Y["radial-grid"],path:ke,transFn:C.noop,crisp:!1}),i.drawLabels(re,he,{vals:be,layer:Y["radial-axis"],transFn:Ae,labelFns:i.makeLabelFns(he,Ee)})}var Ve=Z.radialAxisAngle=Z.vangles?B(te(F(le.angle),Z.vangles)):le.angle,Fe=v(K,$),He=Fe+S(-Ve);ne(Y["radial-axis"],xe&&(le.showticklabels||le.ticks),{transform:He}),ne(Y["radial-grid"],xe&&le.showgrid,{transform:Me?"":Fe}),ne(Y["radial-line"].select("line"),xe&&le.showline,{x1:Me?-oe:ue,y1:0,x2:oe,y2:0,transform:He}).attr("stroke-width",le.linewidth).call(d.stroke,le.linecolor)},V.updateRadialAxisTitle=function(ce,Q,Z){if(!this.isSmith){var re=this,Y=re.gd,oe=re.radius,ue=re.cx,K=re.cy,$=re.getRadial(Q),le=re.id+"title",ae=0;if($.title){var he=r.bBox(re.layers["radial-axis"].node()).height,xe=$.title.font.size,Me=$.side;ae=Me==="top"?xe:Me==="counterclockwise"?-(he+xe*.4):he+xe*.8}var Ae=Z!==void 0?Z:re.radialAxisAngle,ke=F(Ae),we=Math.cos(ke),Ee=Math.sin(ke),be=ue+oe/2*we+ae*Ee,Le=K-oe/2*Ee+ae*we;re.layers["radial-axis-title"]=A.draw(Y,le,{propContainer:$,propName:re.id+".radialaxis.title",placeholder:U(Y,"Click to enter radial axis title"),attributes:{x:be,y:Le,"text-anchor":"middle"},transform:{rotate:-Ae}})}},V.updateAngularAxis=function(ce,Q){var Z=this,re=Z.gd,Y=Z.layers,oe=Z.radius,ue=Z.innerRadius,K=Z.cx,$=Z.cy,le=Z.getAngular(Q),ae=Z.angularAxis,he=Z.isSmith;he||(Z.fillViewInitialKey("angularaxis.rotation",le.rotation),ae.setGeometry(),ae.setScale());var xe=he?function(vt){var lt=_(Z,E([0,vt.x]));return Math.atan2(lt[0]-K,lt[1]-$)-Math.PI/2}:function(vt){return ae.t2g(vt.x)};ae.type==="linear"&&ae.thetaunit==="radians"&&(ae.tick0=B(ae.tick0),ae.dtick=B(ae.dtick));var Me=function(vt){return v(K+oe*Math.cos(vt),$-oe*Math.sin(vt))},Ae=he?function(vt){var lt=_(Z,E([0,vt.x]));return v(lt[0],lt[1])}:function(vt){return Me(xe(vt))},ke=he?function(vt){var lt=_(Z,E([0,vt.x])),et=Math.atan2(lt[0]-K,lt[1]-$)-Math.PI/2;return v(lt[0],lt[1])+S(-B(et))}:function(vt){var lt=xe(vt);return Me(lt)+S(-B(lt))},we=he?function(vt){return w(Z,vt.x,0,1/0)}:function(vt){var lt=xe(vt),et=Math.cos(lt),ct=Math.sin(lt);return"M"+[K+ue*et,$-ue*ct]+"L"+[K+oe*et,$-oe*ct]},Ee=i.makeLabelFns(ae,0),be=Ee.labelStandoff,Le={};Le.xFn=function(vt){var lt=xe(vt);return Math.cos(lt)*be},Le.yFn=function(vt){var lt=xe(vt),et=Math.sin(lt)>0?.2:1;return-Math.sin(lt)*(be+vt.fontSize*et)+Math.abs(Math.cos(lt))*(vt.fontSize*x)},Le.anchorFn=function(vt){var lt=xe(vt),et=Math.cos(lt);return Math.abs(et)<.1?"middle":et>0?"start":"end"},Le.heightFn=function(vt,lt,et){var ct=xe(vt);return-.5*(1+Math.sin(ct))*et};var Ue=X(le);Z.angularTickLayout!==Ue&&(Y["angular-axis"].selectAll("."+ae._id+"tick").remove(),Z.angularTickLayout=Ue);var Ve=he?[1/0].concat(ae.tickvals||[]).map(function(vt){return i.tickText(ae,vt,!0,!1)}):i.calcTicks(ae);he&&(Ve[0].text="",Ve[0].fontSize*=1.75);var Fe;if(Q.gridshape==="linear"?(Fe=Ve.map(xe),C.angleDelta(Fe[0],Fe[1])<0&&(Fe=Fe.slice().reverse())):Fe=null,Z.vangles=Fe,ae.type==="category"&&(Ve=Ve.filter(function(vt){return C.isAngleInsideSector(xe(vt),Z.sectorInRad)})),ae.visible){var He=ae.ticks==="inside"?-1:1,st=(ae.linewidth||1)/2;i.drawTicks(re,ae,{vals:Ve,layer:Y["angular-axis"],path:"M"+He*st+",0h"+He*ae.ticklen,transFn:ke,crisp:!1}),i.drawGrid(re,ae,{vals:Ve,layer:Y["angular-grid"],path:we,transFn:C.noop,crisp:!1}),i.drawLabels(re,ae,{vals:Ve,layer:Y["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Le})}ne(Y["angular-line"].select("path"),le.showline,{d:Z.pathSubplot(),transform:v(K,$)}).attr("stroke-width",le.linewidth).call(d.stroke,le.linecolor)},V.updateFx=function(ce,Q){if(!this.gd._context.staticPlot){var Z=!this.isSmith;Z&&(this.updateAngularDrag(ce),this.updateRadialDrag(ce,Q,0),this.updateRadialDrag(ce,Q,1)),this.updateHoverAndMainDrag(ce)}},V.updateHoverAndMainDrag=function(ce){var Q=this,Z=Q.isSmith,re=Q.gd,Y=Q.layers,oe=ce._zoomlayer,ue=L.MINZOOM,K=L.OFFEDGE,$=Q.radius,le=Q.innerRadius,ae=Q.cx,he=Q.cy,xe=Q.cxx,Me=Q.cyy,Ae=Q.sectorInRad,ke=Q.vangles,we=Q.radialAxis,Ee=M.clampTiny,be=M.findXYatLength,Le=M.findEnclosingVertexAngles,Ue=L.cornerHalfWidth,Ve=L.cornerLen/2,Fe,He,st=l.makeDragger(Y,"path","maindrag",ce.dragmode===!1?"none":"crosshair");g.select(st).attr("d",Q.pathSubplot()).attr("transform",v(ae,he)),st.onmousemove=function(Tt){c.hover(re,Tt,Q.id),re._fullLayout._lasthover=st,re._fullLayout._hoversubplot=Q.id},st.onmouseout=function(Tt){re._dragging||m.unhover(re,Tt)};var vt={element:st,gd:re,subplot:Q.id,plotinfo:{id:Q.id,xaxis:Q.xaxis,yaxis:Q.yaxis},xaxes:[Q.xaxis],yaxes:[Q.yaxis]},lt,et,ct,ht,mt,xt,Mt,tt,Oe;function Ye(Tt,Lt){return Math.sqrt(Tt*Tt+Lt*Lt)}function Ze(Tt,Lt){return Ye(Tt-xe,Lt-Me)}function We(Tt,Lt){return Math.atan2(Me-Lt,Tt-xe)}function _e(Tt,Lt){return[Tt*Math.cos(Lt),Tt*Math.sin(-Lt)]}function Ie(Tt,Lt){if(Tt===0)return Q.pathSector(2*Ue);var Xt=Ve/Tt,Tr=Lt-Xt,gt=Lt+Xt,Kt=Math.max(0,Math.min(Tt,$)),Qt=Kt-Ue,yr=Kt+Ue;return"M"+_e(Qt,Tr)+"A"+[Qt,Qt]+" 0,0,0 "+_e(Qt,gt)+"L"+_e(yr,gt)+"A"+[yr,yr]+" 0,0,1 "+_e(yr,Tr)+"Z"}function Xe(Tt,Lt,Xt){if(Tt===0)return Q.pathSector(2*Ue);var Tr=_e(Tt,Lt),gt=_e(Tt,Xt),Kt=Ee((Tr[0]+gt[0])/2),Qt=Ee((Tr[1]+gt[1])/2),yr,fr;if(Kt&&Qt){var yt=Qt/Kt,ot=-1/yt,bt=be(Ue,yt,Kt,Qt);yr=be(Ve,ot,bt[0][0],bt[0][1]),fr=be(Ve,ot,bt[1][0],bt[1][1])}else{var Et,Dt;Qt?(Et=Ve,Dt=Ue):(Et=Ue,Dt=Ve),yr=[[Kt-Et,Qt-Dt],[Kt+Et,Qt-Dt]],fr=[[Kt-Et,Qt+Dt],[Kt+Et,Qt+Dt]]}return"M"+yr.join("L")+"L"+fr.reverse().join("L")+"Z"}function De(){ct=null,ht=null,mt=Q.pathSubplot(),xt=!1;var Tt=re._fullLayout[Q.id];Mt=R(Tt.bgcolor).getLuminance(),tt=l.makeZoombox(oe,Mt,ae,he,mt),tt.attr("fill-rule","evenodd"),Oe=l.makeCorners(oe,ae,he),p(re)}function de(Tt,Lt){return Lt=Math.max(Math.min(Lt,$),le),Tt<K?Tt=0:$-Tt<K?Tt=$:Lt<K?Lt=0:$-Lt<K&&(Lt=$),Math.abs(Lt-Tt)>ue?(Tt<Lt?(ct=Tt,ht=Lt):(ct=Lt,ht=Tt),!0):(ct=null,ht=null,!1)}function Te(Tt,Lt){Tt=Tt||mt,Lt=Lt||"M0,0Z",tt.attr("d",Tt),Oe.attr("d",Lt),l.transitionZoombox(tt,Oe,xt,Mt),xt=!0;var Xt={};Wt(Xt),re.emit("plotly_relayouting",Xt)}function Be(Tt,Lt){Tt=Tt*Fe,Lt=Lt*He;var Xt=lt+Tt,Tr=et+Lt,gt=Ze(lt,et),Kt=Math.min(Ze(Xt,Tr),$),Qt=We(lt,et),yr,fr;de(gt,Kt)&&(yr=mt+Q.pathSector(ht),ct&&(yr+=Q.pathSector(ct)),fr=Ie(ct,Qt)+Ie(ht,Qt)),Te(yr,fr)}function Qe(Tt,Lt,Xt,Tr){var gt=M.findIntersectionXY(Xt,Tr,Xt,[Tt-xe,Me-Lt]);return Ye(gt[0],gt[1])}function at(Tt,Lt){var Xt=lt+Tt,Tr=et+Lt,gt=We(lt,et),Kt=We(Xt,Tr),Qt=Le(gt,ke),yr=Le(Kt,ke),fr=Qe(lt,et,Qt[0],Qt[1]),yt=Math.min(Qe(Xt,Tr,yr[0],yr[1]),$),ot,bt;de(fr,yt)&&(ot=mt+Q.pathSector(ht),ct&&(ot+=Q.pathSector(ct)),bt=[Xe(ct,Qt[0],Qt[1]),Xe(ht,Qt[0],Qt[1])].join(" ")),Te(ot,bt)}function it(){if(l.removeZoombox(re),!(ct===null||ht===null)){var Tt={};Wt(Tt),l.showDoubleClickNotifier(re),a.call("_guiRelayout",re,Tt)}}function Wt(Tt){var Lt=we._rl,Xt=(Lt[1]-Lt[0])/(1-le/$)/$,Tr=[Lt[0]+(ct-le)*Xt,Lt[0]+(ht-le)*Xt];Tt[Q.id+".radialaxis.range"]=Tr}function Yt(Tt,Lt){var Xt=re._fullLayout.clickmode;if(l.removeZoombox(re),Tt===2){var Tr={};for(var gt in Q.viewInitial)Tr[Q.id+"."+gt]=Q.viewInitial[gt];re.emit("plotly_doubleclick",null),a.call("_guiRelayout",re,Tr)}Xt.indexOf("select")>-1&&Tt===1&&o(Lt,re,[Q.xaxis],[Q.yaxis],Q.id,vt),Xt.indexOf("event")>-1&&c.click(re,Lt,Q.id)}vt.prepFn=function(Tt,Lt,Xt){var Tr=re._fullLayout.dragmode,gt=st.getBoundingClientRect();re._fullLayout._calcInverseTransform(re);var Kt=re._fullLayout._invTransform;Fe=re._fullLayout._invScaleX,He=re._fullLayout._invScaleY;var Qt=C.apply3DTransform(Kt)(Lt-gt.left,Xt-gt.top);if(lt=Qt[0],et=Qt[1],ke){var yr=M.findPolygonOffset($,Ae[0],Ae[1],ke);lt+=xe+yr[0],et+=Me+yr[1]}switch(Tr){case"zoom":vt.clickFn=Yt,Z||(ke?vt.moveFn=at:vt.moveFn=Be,vt.doneFn=it,De());break;case"select":case"lasso":h(Tt,Lt,Xt,vt,Tr);break}},m.init(vt)},V.updateRadialDrag=function(ce,Q,Z){var re=this,Y=re.gd,oe=re.layers,ue=re.radius,K=re.innerRadius,$=re.cx,le=re.cy,ae=re.radialAxis,he=L.radialDragBoxSize,xe=he/2;if(!ae.visible)return;var Me=F(re.radialAxisAngle),Ae=ae._rl,ke=Ae[0],we=Ae[1],Ee=Ae[Z],be=.75*(Ae[1]-Ae[0])/(1-re.getHole(Q))/ue,Le,Ue,Ve;Z?(Le=$+(ue+xe)*Math.cos(Me),Ue=le-(ue+xe)*Math.sin(Me),Ve="radialdrag"):(Le=$+(K-xe)*Math.cos(Me),Ue=le-(K-xe)*Math.sin(Me),Ve="radialdrag-inner");var Fe=l.makeRectDragger(oe,Ve,"crosshair",-xe,-xe,he,he),He={element:Fe,gd:Y};ce.dragmode===!1&&(He.dragmode=!1),ne(g.select(Fe),ae.visible&&K<ue,{transform:v(Le,Ue)});var st,vt,lt;function et(Mt,tt){if(st)st(Mt,tt);else{var Oe=[Mt,-tt],Ye=[Math.cos(Me),Math.sin(Me)],Ze=Math.abs(C.dot(Oe,Ye)/Math.sqrt(C.dot(Oe,Oe)));isNaN(Ze)||(st=Ze<.5?mt:xt)}var We={};ct(We),Y.emit("plotly_relayouting",We)}function ct(Mt){vt!==null?Mt[re.id+".radialaxis.angle"]=vt:lt!==null&&(Mt[re.id+".radialaxis.range["+Z+"]"]=lt)}function ht(){vt!==null?a.call("_guiRelayout",Y,re.id+".radialaxis.angle",vt):lt!==null&&a.call("_guiRelayout",Y,re.id+".radialaxis.range["+Z+"]",lt)}function mt(Mt,tt){if(Z!==0){var Oe=Le+Mt,Ye=Ue+tt;vt=Math.atan2(le-Ye,Oe-$),re.vangles&&(vt=te(vt,re.vangles)),vt=B(vt);var Ze=v($,le)+S(-vt);oe["radial-axis"].attr("transform",Ze),oe["radial-line"].select("line").attr("transform",Ze);var We=re.gd._fullLayout,_e=We[re.id];re.updateRadialAxisTitle(We,_e,vt)}}function xt(Mt,tt){var Oe=C.dot([Mt,-tt],[Math.cos(Me),Math.sin(Me)]);if(lt=Ee-be*Oe,be>0!=(Z?lt>ke:lt<we)){lt=null;return}var Ye=Y._fullLayout,Ze=Ye[re.id];ae.range[Z]=lt,ae._rl[Z]=lt,re.updateRadialAxis(Ye,Ze),re.xaxis.setRange(),re.xaxis.setScale(),re.yaxis.setRange(),re.yaxis.setScale();var We=!1;for(var _e in re.traceHash){var Ie=re.traceHash[_e],Xe=C.filterVisible(Ie),De=Ie[0][0].trace._module;De.plot(Y,re,Xe,Ze),a.traceIs(_e,"gl")&&Xe.length&&(We=!0)}We&&(T(Y),P(Y))}He.prepFn=function(){st=null,vt=null,lt=null,He.moveFn=et,He.doneFn=ht,p(Y)},He.clampFn=function(Mt,tt){return Math.sqrt(Mt*Mt+tt*tt)<L.MINDRAG&&(Mt=0,tt=0),[Mt,tt]},m.init(He)},V.updateAngularDrag=function(ce){var Q=this,Z=Q.gd,re=Q.layers,Y=Q.radius,oe=Q.angularAxis,ue=Q.cx,K=Q.cy,$=Q.cxx,le=Q.cyy,ae=L.angularDragBoxSize,he=l.makeDragger(re,"path","angulardrag",ce.dragmode===!1?"none":"move"),xe={element:he,gd:Z};ce.dragmode===!1?xe.dragmode=!1:g.select(he).attr("d",Q.pathAnnulus(Y,Y+ae)).attr("transform",v(ue,K)).call(b,"move");function Me(lt,et){return Math.atan2(le+ae-et,lt-$-ae)}var Ae=re.frontplot.select(".scatterlayer").selectAll(".trace"),ke=Ae.selectAll(".point"),we=Ae.selectAll(".textpoint"),Ee,be,Le,Ue,Ve,Fe;function He(lt,et){var ct=Q.gd._fullLayout,ht=ct[Q.id],mt=Ee+lt*ce._invScaleX,xt=be+et*ce._invScaleY,Mt=Me(mt,xt),tt=B(Mt-Fe);if(Ue=Le+tt,re.frontplot.attr("transform",v(Q.xOffset2,Q.yOffset2)+S([-tt,$,le])),Q.vangles){Ve=Q.radialAxisAngle+tt;var Oe=v(ue,K)+S(-tt),Ye=v(ue,K)+S(-Ve);re.bg.attr("transform",Oe),re["radial-grid"].attr("transform",Oe),re["radial-axis"].attr("transform",Ye),re["radial-line"].select("line").attr("transform",Ye),Q.updateRadialAxisTitle(ct,ht,Ve)}else Q.clipPaths.forTraces.select("path").attr("transform",v($,le)+S(tt));ke.each(function(){var de=g.select(this),Te=r.getTranslate(de);de.attr("transform",v(Te.x,Te.y)+S([tt]))}),we.each(function(){var de=g.select(this),Te=de.select("text"),Be=r.getTranslate(de);de.attr("transform",S([tt,Te.attr("x"),Te.attr("y")])+v(Be.x,Be.y))}),oe.rotation=C.modHalf(Ue,360),Q.updateAngularAxis(ct,ht),Q._hasClipOnAxisFalse&&!C.isFullCircle(Q.sectorInRad)&&Ae.call(r.hideOutsideRangePoints,Q);var Ze=!1;for(var We in Q.traceHash)if(a.traceIs(We,"gl")){var _e=Q.traceHash[We],Ie=C.filterVisible(_e),Xe=_e[0][0].trace._module;Xe.plot(Z,Q,Ie,ht),Ie.length&&(Ze=!0)}Ze&&(T(Z),P(Z));var De={};st(De),Z.emit("plotly_relayouting",De)}function st(lt){lt[Q.id+".angularaxis.rotation"]=Ue,Q.vangles&&(lt[Q.id+".radialaxis.angle"]=Ve)}function vt(){we.select("text").attr("transform",null);var lt={};st(lt),a.call("_guiRelayout",Z,lt)}xe.prepFn=function(lt,et,ct){var ht=ce[Q.id];Le=ht.angularaxis.rotation;var mt=he.getBoundingClientRect();Ee=et-mt.left,be=ct-mt.top,Z._fullLayout._calcInverseTransform(Z);var xt=C.apply3DTransform(ce._invTransform)(Ee,be);Ee=xt[0],be=xt[1],Fe=Me(Ee,be),xe.moveFn=He,xe.doneFn=vt,p(Z)},Q.vangles&&!C.isFullCircle(Q.sectorInRad)&&(xe.prepFn=C.noop,b(g.select(he),null)),m.init(xe)},V.isPtInside=function(ce){if(this.isSmith)return!0;var Q=this.sectorInRad,Z=this.vangles,re=this.angularAxis.c2g(ce.theta),Y=this.radialAxis,oe=Y.c2l(ce.r),ue=Y._rl,K=Z?M.isPtInsidePolygon:C.isPtInsideSector;return K(oe,re,ue,Q,Z)},V.pathArc=function(ce){var Q=this.sectorInRad,Z=this.vangles,re=Z?M.pathPolygon:C.pathArc;return re(ce,Q[0],Q[1],Z)},V.pathSector=function(ce){var Q=this.sectorInRad,Z=this.vangles,re=Z?M.pathPolygon:C.pathSector;return re(ce,Q[0],Q[1],Z)},V.pathAnnulus=function(ce,Q){var Z=this.sectorInRad,re=this.vangles,Y=re?M.pathPolygonAnnulus:C.pathAnnulus;return Y(ce,Q,Z[0],Z[1],re)},V.pathSubplot=function(){var ce=this.innerRadius,Q=this.radius;return ce?this.pathAnnulus(ce,Q):this.pathSector(Q)},V.fillViewInitialKey=function(ce,Q){ce in this.viewInitial||(this.viewInitial[ce]=Q)};function X(ce){var Q=ce.ticks+String(ce.ticklen)+String(ce.showticklabels);return"side"in ce&&(Q+=ce.side),Q}function q(ce){var Q=ce[0],Z=ce[1],re=Z-Q,Y=z(Q,360),oe=Y+re,ue=Math.cos(F(Y)),K=Math.sin(F(Y)),$=Math.cos(F(oe)),le=Math.sin(F(oe)),ae,he,xe,Me;return Y<=90&&oe>=90||Y>90&&oe>=450?Me=1:K<=0&&le<=0?Me=0:Me=Math.max(K,le),Y<=180&&oe>=180||Y>180&&oe>=540?ae=-1:ue>=0&&$>=0?ae=0:ae=Math.min(ue,$),Y<=270&&oe>=270||Y>270&&oe>=630?he=-1:K>=0&&le>=0?he=0:he=Math.min(K,le),oe>=360?xe=1:ue<=0&&$<=0?xe=0:xe=Math.max(ue,$),[ae,he,xe,Me]}function te(ce,Q){var Z=function(Y){return C.angleDist(ce,Y)},re=C.findIndexOfMin(Q,Z);return Q[re]}function ne(ce,Q,Z){return Q?(ce.attr("display",null),ce.attr(Z)):ce&&ce.attr("display","none"),ce}},57696:function(H,G,e){var g=e(3400),R=e(78344),a=g.deg2rad,C=g.rad2deg;H.exports=function(i,n,f){switch(R(i,f),i._id){case"x":case"radialaxis":S(i,n);break;case"angularaxis":r(i,n);break}};function S(t,i){var n=i._subplot;t.setGeometry=function(){var f=t._rl[0],u=t._rl[1],l=n.innerRadius,m=(n.radius-l)/(u-f),c=l/m,A=f>u?function(h){return h<=0}:function(h){return h>=0};t.c2g=function(h){var o=t.c2l(h)-f;return(A(o)?o:0)+c},t.g2c=function(h){return t.l2c(h+f-c)},t.g2p=function(h){return h*m},t.c2p=function(h){return t.g2p(t.c2g(h))}}}function v(t,i){return i==="degrees"?a(t):t}function d(t,i){return i==="degrees"?C(t):t}function r(t,i){var n=t.type;if(n==="linear"){var f=t.d2c,u=t.c2d;t.d2c=function(l,m){return v(f(l),m)},t.c2d=function(l,m){return u(d(l,m))}}t.makeCalcdata=function(l,m){var c=l[m],A=l._length,h,o,p=function(L){return t.d2c(L,l.thetaunit)};if(c)for(h=new Array(A),o=0;o<A;o++)h[o]=p(c[o]);else{var b=m+"0",T="d"+m,P=b in l?p(l[b]):0,x=l[T]?p(l[T]):(t.period||2*Math.PI)/A;for(h=new Array(A),o=0;o<A;o++)h[o]=P+o*x}return h},t.setGeometry=function(){var l=i.sector,m=l.map(a),c={clockwise:-1,counterclockwise:1}[t.direction],A=a(t.rotation),h=function(M){return c*M+A},o=function(M){return(M-A)/c},p,b,T,P;switch(n){case"linear":b=p=g.identity,P=a,T=C,t.range=g.isFullCircle(m)?[l[0],l[0]+360]:m.map(o).map(C);break;case"category":var x=t._categories.length,L=t.period?Math.max(t.period,x):x;L===0&&(L=1),b=P=function(M){return M*2*Math.PI/L},p=T=function(M){return M*L/Math.PI/2},t.range=[0,L];break}t.c2g=function(M){return h(b(M))},t.g2c=function(M){return p(o(M))},t.t2g=function(M){return h(P(M))},t.g2t=function(M){return T(o(M))}}}},55012:function(H){H.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(H){function G(S){return S<0?-1:S>0?1:0}function e(S){var v=S[0],d=S[1];if(!isFinite(v)||!isFinite(d))return[1,0];var r=(v+1)*(v+1)+d*d;return[(v*v+d*d-1)/r,2*d/r]}function g(S,v){var d=v[0],r=v[1];return[d*S.radius+S.cx,-r*S.radius+S.cy]}function R(S,v){return v*S.radius}function a(S,v,d,r){var t=g(S,e([d,v])),i=t[0],n=t[1],f=g(S,e([r,v])),u=f[0],l=f[1];if(v===0)return["M"+i+","+n,"L"+u+","+l].join(" ");var m=R(S,1/Math.abs(v));return["M"+i+","+n,"A"+m+","+m+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function C(S,v,d,r){var t=R(S,1/(v+1)),i=g(S,e([v,d])),n=i[0],f=i[1],u=g(S,e([v,r])),l=u[0],m=u[1];if(G(d)!==G(r)){var c=g(S,e([v,0])),A=c[0],h=c[1];return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(0<d?0:1)+" "+A+","+h,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+m].join(" ")}return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(r<d?0:1)+" "+l+","+m].join(" ")}H.exports={smith:e,reactanceArc:a,resistanceArc:C,smithTransform:g}},47788:function(H,G,e){var g=e(84888).KY,R=e(3400).counterRegex,a=e(62400),C=e(55012),S=C.attr,v=C.name,d=R(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],m=0;m<l.length;m++){var c=l[m],A=g(u,v,c),h=f[c]._subplot;h||(h=a(n,c,!0),f[c]._subplot=h),h.plot(A,f,n._promises)}}function i(n,f,u,l){for(var m=l._subplots[v]||[],c=0;c<m.length;c++){var A=m[c],h=l[A]._subplot;if(!f[A]&&h){h.framework.remove();for(var o in h.clipPaths)h.clipPaths[o].remove()}}}H.exports={attr:S,name:v,idRoot:v,idRegex:d,attrRegex:d,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:i,toSVG:e(57952).toSVG}},6183:function(H,G,e){var g=e(22548),R=e(94724),a=e(86968).u,C=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:R.color,showline:C({},R.showline,{dflt:!0}),linecolor:R.linecolor,linewidth:R.linewidth,showgrid:C({},R.showgrid,{dflt:!0}),gridcolor:R.gridcolor,gridwidth:R.gridwidth,griddash:R.griddash},"plot","from-root"),d=S({ticklen:R.ticklen,tickwidth:C({},R.tickwidth,{dflt:2}),tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,tickfont:R.tickfont,tickformat:R.tickformat,hoverformat:R.hoverformat,layer:R.layer},"plot","from-root"),r=C({visible:C({},R.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},R.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,d),t=C({visible:C({},R.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:R.ticks,editType:"calc"},v,d);H.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(H,G,e){var g=e(3400),R=e(76308),a=e(31780),C=e(168),S=e(84888).op,v=e(42568),d=e(95936),r=e(42136),t=e(78344),i=e(6183),n=e(55012),f=n.axisNames,u=m(function(c){return g.isTypedArray(c)&&(c=Array.from(c)),c.slice().reverse().map(function(A){return-A}).concat([0]).concat(c)},String);function l(c,A,h,o){var p=h("bgcolor");o.bgColor=R.combine(p,o.paper_bgcolor);var b=S(o.fullData,n.name,o.id),T=o.layoutOut,P;function x(V,X){return h(P+"."+V,X)}for(var L=0;L<f.length;L++){P=f[L],g.isPlainObject(c[P])||(c[P]={});var M=c[P],s=a.newContainer(A,P);s._id=s._name=P,s._attr=o.id+"."+P,s._traceIndices=b.map(function(V){return V._expandedIndex});var E=x("visible");if(s.type="linear",t(s,T),v(M,s,x,s.type),E){var w=P==="realaxis";if(w&&x("side"),w)x("tickvals");else{var O=u(A.realaxis.tickvals||i.realaxis.tickvals.dflt);x("tickvals",O)}g.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var _,U,z,F,B=o.font||{};E&&(_=x("color"),U=_===M.color?_:B.color,z=B.size,F=B.family),d(M,s,x,s.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!w,noExp:!0,font:{color:U,size:z,family:F}}),g.coerce2(c,A,i,P+".ticklen"),g.coerce2(c,A,i,P+".tickwidth"),g.coerce2(c,A,i,P+".tickcolor",A.color);var N=x("ticks");N||(delete A[P].ticklen,delete A[P].tickwidth,delete A[P].tickcolor),r(M,s,x,{dfltColor:_,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[P]}),x("layer")}x("hoverformat"),delete s.type,s._input=M}}H.exports=function(A,h,o){C(A,h,o,{noUirevision:!0,type:n.name,attributes:i,handleDefaults:l,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:o,layoutOut:h})};function m(c,A){var h={};return function(o){var p=A?A(o):o;if(p in h)return h[p];var b=c(o);return h[p]=b,b}}},168:function(H,G,e){var g=e(3400),R=e(31780),a=e(86968).Q;H.exports=function(S,v,d,r){var t=r.type,i=r.attributes,n=r.handleDefaults,f=r.partition||"x",u=v._subplots[t],l=u.length,m=l&&u[0].replace(/\d+$/,""),c,A;function h(T,P){return g.coerce(c,A,i,T,P)}for(var o=0;o<l;o++){var p=u[o];S[p]?c=S[p]:c=S[p]={},A=R.newContainer(v,p,m),r.noUirevision||h("uirevision",v.uirevision);var b={};b[f]=[o/l,(o+1)/l],a(A,v,h,b),r.id=p,n(c,A,h,r)}}},21776:function(H,G,e){var g=e(26880);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function R(a){var C=a.description?" "+a.description:"",S=a.keys||[];if(S.length>0){for(var v=[],d=0;d<S.length;d++)v[d]="`"+S[d]+"`";C=C+"Finally, the template string has access to ",S.length===1?C=C+"variable "+v[0]:C=C+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}G.Ks=function(a,C){a=a||{},C=C||{},R(C);var S={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(S.arrayOk=!0),S},G.Gw=function(a,C){a=a||{},C=C||{},R(C);var S={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(S.arrayOk=!0),S},G.ye=function(a,C){a=a||{},C=C||{},a.newshape,R(C);var S={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return S}},19352:function(H,G,e){var g=e(24696),R=e(84888).KY,a=e(3400).counterRegex,C="ternary";G.name=C;var S=G.attr="subplot";G.idRoot=C,G.idRegex=G.attrRegex=a(C);var v=G.attributes={};v[S]={valType:"subplotid",dflt:"ternary",editType:"calc"},G.layoutAttributes=e(86379),G.supplyLayoutDefaults=e(38536),G.plot=function(r){for(var t=r._fullLayout,i=r.calcdata,n=t._subplots[C],f=0;f<n.length;f++){var u=n[f],l=R(i,C,u),m=t[u]._subplot;m||(m=new g({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=m),m.plot(l,t,r._promises)}},G.clean=function(d,r,t,i){for(var n=i._subplots[C]||[],f=0;f<n.length;f++){var u=n[f],l=i[u]._subplot;!r[u]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(H,G,e){var g=e(22548),R=e(86968).u,a=e(94724),C=e(67824).overrideAll,S=e(92880).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:S({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:S({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:S({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},d=H.exports=C({domain:R({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");d.uirevision={valType:"any",editType:"none"},d.aaxis.uirevision=d.baxis.uirevision=d.caxis.uirevision={valType:"any",editType:"none"}},38536:function(H,G,e){var g=e(76308),R=e(31780),a=e(3400),C=e(168),S=e(95936),v=e(42568),d=e(25404),r=e(26332),t=e(42136),i=e(86379),n=["aaxis","baxis","caxis"];H.exports=function(m,c,A){C(m,c,A,{type:"ternary",attributes:i,handleDefaults:f,font:c.font,paper_bgcolor:c.paper_bgcolor})};function f(l,m,c,A){var h=c("bgcolor"),o=c("sum");A.bgColor=g.combine(h,A.paper_bgcolor);for(var p,b,T,P=0;P<n.length;P++)p=n[P],b=l[p]||{},T=R.newContainer(m,p),T._name=p,u(b,T,A,m);var x=m.aaxis,L=m.baxis,M=m.caxis;x.min+L.min+M.min>=o&&(x.min=0,L.min=0,M.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,m,c,A){var h=i[m._name];function o(s,E){return a.coerce(l,m,h,s,E)}o("uirevision",A.uirevision),m.type="linear";var p=o("color"),b=p!==h.color.dflt?p:c.font.color,T=m._name,P=T.charAt(0).toUpperCase(),x="Component "+P,L=o("title.text",x);m._hovertitle=L===x?L:P,a.coerceFont(o,"title.font",{weight:c.font.weight,style:c.font.style,variant:c.font.variant,family:c.font.family,size:a.bigFont(c.font.size),color:b}),o("min"),r(l,m,o,"linear"),v(l,m,o,"linear"),S(l,m,o,"linear",{noAutotickangles:!0}),d(l,m,o,{outerTicks:!0});var M=o("showticklabels");M&&(a.coerceFont(o,"tickfont",{weight:c.font.weight,style:c.font.style,variant:c.font.variant,family:c.font.family,size:c.font.size,color:b}),o("tickangle"),o("tickformat")),t(l,m,o,{dfltColor:p,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),o("hoverformat"),o("layer")}},24696:function(H,G,e){var g=e(33428),R=e(49760),a=e(24040),C=e(3400),S=C.strTranslate,v=C._,d=e(76308),r=e(43616),t=e(78344),i=e(92880).extendFlat,n=e(7316),f=e(54460),u=e(86476),l=e(93024),m=e(72760),c=m.freeMode,A=m.rectMode,h=e(81668),o=e(22676).prepSelect,p=e(22676).selectOnClick,b=e(22676).clearOutline,T=e(22676).clearSelectionsCache,P=e(33816);function x(B,N){this.id=B.id,this.graphDiv=B.graphDiv,this.init(N),this.makeFramework(N),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}H.exports=x;var L=x.prototype;L.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},L.plot=function(B,N){var V=this,X=N[V.id],q=N._size;V._hasClipOnAxisFalse=!1;for(var te=0;te<B.length;te++){var ne=B[te][0].trace;if(ne.cliponaxis===!1){V._hasClipOnAxisFalse=!0;break}}V.updateLayers(X),V.adjustLayout(X,q),n.generalUpdatePerTraceModule(V.graphDiv,V,B,X),V.layers.plotbg.select("path").call(d.fill,X.bgcolor)},L.makeFramework=function(B){var N=this,V=N.graphDiv,X=B[N.id],q=N.clipId="clip"+N.layoutId+N.id,te=N.clipIdRelative="clip-relative"+N.layoutId+N.id;N.clipDef=C.ensureSingleById(B._clips,"clipPath",q,function(ne){ne.append("path").attr("d","M0,0Z")}),N.clipDefRelative=C.ensureSingleById(B._clips,"clipPath",te,function(ne){ne.append("path").attr("d","M0,0Z")}),N.plotContainer=C.ensureSingle(N.container,"g",N.id),N.updateLayers(X),r.setClipUrl(N.layers.backplot,q,V),r.setClipUrl(N.layers.grids,q,V)},L.updateLayers=function(B){var N=this,V=N.layers,X=["draglayer","plotbg","backplot","grids"];B.aaxis.layer==="below traces"&&X.push("aaxis","aline"),B.baxis.layer==="below traces"&&X.push("baxis","bline"),B.caxis.layer==="below traces"&&X.push("caxis","cline"),X.push("frontplot"),B.aaxis.layer==="above traces"&&X.push("aaxis","aline"),B.baxis.layer==="above traces"&&X.push("baxis","bline"),B.caxis.layer==="above traces"&&X.push("caxis","cline");var q=N.plotContainer.selectAll("g.toplevel").data(X,String),te=["agrid","bgrid","cgrid"];q.enter().append("g").attr("class",function(ne){return"toplevel "+ne}).each(function(ne){var ce=g.select(this);V[ne]=ce,ne==="frontplot"?ce.append("g").classed("scatterlayer",!0):ne==="backplot"?ce.append("g").classed("maplayer",!0):ne==="plotbg"?ce.append("path").attr("d","M0,0Z"):ne==="aline"||ne==="bline"||ne==="cline"?ce.append("path"):ne==="grids"&&te.forEach(function(Q){V[Q]=ce.append("g").classed("grid "+Q,!0)})}),q.order()};var M=Math.sqrt(4/3);L.adjustLayout=function(B,N){var V=this,X=B.domain,q=(X.x[0]+X.x[1])/2,te=(X.y[0]+X.y[1])/2,ne=X.x[1]-X.x[0],ce=X.y[1]-X.y[0],Q=ne*N.w,Z=ce*N.h,re=B.sum,Y=B.aaxis.min,oe=B.baxis.min,ue=B.caxis.min,K,$,le,ae,he,xe;Q>M*Z?(ae=Z,le=ae*M):(le=Q,ae=le/M),he=ne*le/Q,xe=ce*ae/Z,K=N.l+N.w*q-le/2,$=N.t+N.h*(1-te)-ae/2,V.x0=K,V.y0=$,V.w=le,V.h=ae,V.sum=re,V.xaxis={type:"linear",range:[Y+2*ue-re,re-Y-2*oe],domain:[q-he/2,q+he/2],_id:"x"},t(V.xaxis,V.graphDiv._fullLayout),V.xaxis.setScale(),V.xaxis.isPtWithinRange=function(He){return He.a>=V.aaxis.range[0]&&He.a<=V.aaxis.range[1]&&He.b>=V.baxis.range[1]&&He.b<=V.baxis.range[0]&&He.c>=V.caxis.range[1]&&He.c<=V.caxis.range[0]},V.yaxis={type:"linear",range:[Y,re-oe-ue],domain:[te-xe/2,te+xe/2],_id:"y"},t(V.yaxis,V.graphDiv._fullLayout),V.yaxis.setScale(),V.yaxis.isPtWithinRange=function(){return!0};var Me=V.yaxis.domain[0],Ae=V.aaxis=i({},B.aaxis,{range:[Y,re-oe-ue],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[Me,Me+xe*M],anchor:"free",position:0,_id:"y",_length:le});t(Ae,V.graphDiv._fullLayout),Ae.setScale();var ke=V.baxis=i({},B.baxis,{range:[re-Y-ue,oe],side:"bottom",domain:V.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});t(ke,V.graphDiv._fullLayout),ke.setScale();var we=V.caxis=i({},B.caxis,{range:[re-Y-oe,ue],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[Me,Me+xe*M],anchor:"free",position:0,_id:"y",_length:le});t(we,V.graphDiv._fullLayout),we.setScale();var Ee="M"+K+","+($+ae)+"h"+le+"l-"+le/2+",-"+ae+"Z";V.clipDef.select("path").attr("d",Ee),V.layers.plotbg.select("path").attr("d",Ee);var be="M0,"+ae+"h"+le+"l-"+le/2+",-"+ae+"Z";V.clipDefRelative.select("path").attr("d",be);var Le=S(K,$);V.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Le),V.clipDefRelative.select("path").attr("transform",null);var Ue=S(K-ke._offset,$+ae);V.layers.baxis.attr("transform",Ue),V.layers.bgrid.attr("transform",Ue);var Ve=S(K+le/2,$)+"rotate(30)"+S(0,-Ae._offset);V.layers.aaxis.attr("transform",Ve),V.layers.agrid.attr("transform",Ve);var Fe=S(K+le/2,$)+"rotate(-30)"+S(0,-we._offset);V.layers.caxis.attr("transform",Fe),V.layers.cgrid.attr("transform",Fe),V.drawAxes(!0),V.layers.aline.select("path").attr("d",Ae.showline?"M"+K+","+($+ae)+"l"+le/2+",-"+ae:"M0,0").call(d.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),V.layers.bline.select("path").attr("d",ke.showline?"M"+K+","+($+ae)+"h"+le:"M0,0").call(d.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),V.layers.cline.select("path").attr("d",we.showline?"M"+(K+le/2)+","+$+"l"+le/2+","+ae:"M0,0").call(d.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),V.graphDiv._context.staticPlot||V.initInteractions(),r.setClipUrl(V.layers.frontplot,V._hasClipOnAxisFalse?null:V.clipId,V.graphDiv)},L.drawAxes=function(B){var N=this,V=N.graphDiv,X=N.id.substr(7)+"title",q=N.layers,te=N.aaxis,ne=N.baxis,ce=N.caxis;if(N.drawAx(te),N.drawAx(ne),N.drawAx(ce),B){var Q=Math.max(te.showticklabels?te.tickfont.size/2:0,(ce.showticklabels?ce.tickfont.size*.75:0)+(ce.ticks==="outside"?ce.ticklen*.87:0)),Z=(ne.showticklabels?ne.tickfont.size:0)+(ne.ticks==="outside"?ne.ticklen:0)+3;q["a-title"]=h.draw(V,"a"+X,{propContainer:te,propName:N.id+".aaxis.title",placeholder:v(V,"Click to enter Component A title"),attributes:{x:N.x0+N.w/2,y:N.y0-te.title.font.size/3-Q,"text-anchor":"middle"}}),q["b-title"]=h.draw(V,"b"+X,{propContainer:ne,propName:N.id+".baxis.title",placeholder:v(V,"Click to enter Component B title"),attributes:{x:N.x0-Z,y:N.y0+N.h+ne.title.font.size*.83+Z,"text-anchor":"middle"}}),q["c-title"]=h.draw(V,"c"+X,{propContainer:ce,propName:N.id+".caxis.title",placeholder:v(V,"Click to enter Component C title"),attributes:{x:N.x0+N.w+Z,y:N.y0+N.h+ce.title.font.size*.83+Z,"text-anchor":"middle"}})}},L.drawAx=function(B){var N=this,V=N.graphDiv,X=B._name,q=X.charAt(0),te=B._id,ne=N.layers[X],ce=30,Q=q+"tickLayout",Z=s(B);N[Q]!==Z&&(ne.selectAll("."+te+"tick").remove(),N[Q]=Z),B.setScale();var re=f.calcTicks(B),Y=f.clipEnds(B,re),oe=f.makeTransTickFn(B),ue=f.getTickSigns(B)[2],K=C.deg2rad(ce),$=ue*(B.linewidth||1)/2,le=ue*B.ticklen,ae=N.w,he=N.h,xe=q==="b"?"M0,"+$+"l"+Math.sin(K)*le+","+Math.cos(K)*le:"M"+$+",0l"+Math.cos(K)*le+","+-Math.sin(K)*le,Me={a:"M0,0l"+he+",-"+ae/2,b:"M0,0l-"+ae/2+",-"+he,c:"M0,0l-"+he+","+ae/2}[q];f.drawTicks(V,B,{vals:B.ticks==="inside"?Y:re,layer:ne,path:xe,transFn:oe,crisp:!1}),f.drawGrid(V,B,{vals:Y,layer:N.layers[q+"grid"],path:Me,transFn:oe,crisp:!1}),f.drawLabels(V,B,{vals:re,layer:ne,transFn:oe,labelFns:f.makeLabelFns(B,0,ce)})};function s(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}var E=P.MINZOOM/2+.87,w="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",O="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",_="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",U="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",z=!0;L.clearOutline=function(){T(this.dragOptions),b(this.dragOptions.gd)},L.initInteractions=function(){var B=this,N=B.layers.plotbg.select("path").node(),V=B.graphDiv,X=V._fullLayout._zoomlayer,q,te;this.dragOptions={element:N,gd:V,plotinfo:{id:B.id,domain:V._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(Ue,Ve,Fe){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],q=V._fullLayout._invScaleX,te=V._fullLayout._invScaleY;var He=B.dragOptions.dragmode=V._fullLayout.dragmode;c(He)?B.dragOptions.minDrag=1:B.dragOptions.minDrag=void 0,He==="zoom"?(B.dragOptions.moveFn=ke,B.dragOptions.clickFn=ae,B.dragOptions.doneFn=we,he(Ue,Ve,Fe)):He==="pan"?(B.dragOptions.moveFn=be,B.dragOptions.clickFn=ae,B.dragOptions.doneFn=Le,Ee(),B.clearOutline(V)):(A(He)||c(He))&&o(Ue,Ve,Fe,B.dragOptions,He)}};var ne,ce,Q,Z,re,Y,oe,ue,K,$;function le(Ue){var Ve={};return Ve[B.id+".aaxis.min"]=Ue.a,Ve[B.id+".baxis.min"]=Ue.b,Ve[B.id+".caxis.min"]=Ue.c,Ve}function ae(Ue,Ve){var Fe=V._fullLayout.clickmode;F(V),Ue===2&&(V.emit("plotly_doubleclick",null),a.call("_guiRelayout",V,le({a:0,b:0,c:0}))),Fe.indexOf("select")>-1&&Ue===1&&p(Ve,V,[B.xaxis],[B.yaxis],B.id,B.dragOptions),Fe.indexOf("event")>-1&&l.click(V,Ve,B.id)}function he(Ue,Ve,Fe){var He=N.getBoundingClientRect();ne=Ve-He.left,ce=Fe-He.top,V._fullLayout._calcInverseTransform(V);var st=V._fullLayout._invTransform,vt=C.apply3DTransform(st)(ne,ce);ne=vt[0],ce=vt[1],Q={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},re=Q,Z=B.aaxis.range[1]-Q.a,Y=R(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),oe="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",ue=!1,K=X.append("path").attr("class","zoombox").attr("transform",S(B.x0,B.y0)).style({fill:Y>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",oe),$=X.append("path").attr("class","zoombox-corners").attr("transform",S(B.x0,B.y0)).style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(V)}function xe(Ue,Ve){return 1-Ve/B.h}function Me(Ue,Ve){return 1-(Ue+(B.h-Ve)/Math.sqrt(3))/B.w}function Ae(Ue,Ve){return(Ue-(B.h-Ve)/Math.sqrt(3))/B.w}function ke(Ue,Ve){var Fe=ne+Ue*q,He=ce+Ve*te,st=Math.max(0,Math.min(1,xe(ne,ce),xe(Fe,He))),vt=Math.max(0,Math.min(1,Me(ne,ce),Me(Fe,He))),lt=Math.max(0,Math.min(1,Ae(ne,ce),Ae(Fe,He))),et=(st/2+lt)*B.w,ct=(1-st/2-vt)*B.w,ht=(et+ct)/2,mt=ct-et,xt=(1-st)*B.h,Mt=xt-mt/M;mt<P.MINZOOM?(re=Q,K.attr("d",oe),$.attr("d","M0,0Z")):(re={a:Q.a+st*Z,b:Q.b+vt*Z,c:Q.c+lt*Z},K.attr("d",oe+"M"+et+","+xt+"H"+ct+"L"+ht+","+Mt+"L"+et+","+xt+"Z"),$.attr("d","M"+ne+","+ce+U+"M"+et+","+xt+w+"M"+ct+","+xt+O+"M"+ht+","+Mt+_)),ue||(K.transition().style("fill",Y>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),$.transition().style("opacity",1).duration(200),ue=!0),V.emit("plotly_relayouting",le(re))}function we(){F(V),re!==Q&&(a.call("_guiRelayout",V,le(re)),z&&V.data&&V._context.showTips&&(C.notifier(v(V,"Double-click to zoom back out"),"long"),z=!1))}function Ee(){Q={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},re=Q}function be(Ue,Ve){var Fe=Ue/B.xaxis._m,He=Ve/B.yaxis._m;re={a:Q.a-He,b:Q.b+(Fe+He)/2,c:Q.c-(Fe-He)/2};var st=[re.a,re.b,re.c].sort(C.sorterAsc),vt={a:st.indexOf(re.a),b:st.indexOf(re.b),c:st.indexOf(re.c)};st[0]<0&&(st[1]+st[0]/2<0?(st[2]+=st[0]+st[1],st[0]=st[1]=0):(st[2]+=st[0]/2,st[1]+=st[0]/2,st[0]=0),re={a:st[vt.a],b:st[vt.b],c:st[vt.c]},Ve=(Q.a-re.a)*B.yaxis._m,Ue=(Q.c-re.c-Q.b+re.b)*B.xaxis._m);var lt=S(B.x0+Ue,B.y0+Ve);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",lt);var et=S(-Ue,-Ve);B.clipDefRelative.select("path").attr("transform",et),B.aaxis.range=[re.a,B.sum-re.b-re.c],B.baxis.range=[B.sum-re.a-re.c,re.b],B.caxis.range=[B.sum-re.a-re.b,re.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,B),V.emit("plotly_relayouting",le(re))}function Le(){a.call("_guiRelayout",V,le(re))}N.onmousemove=function(Ue){l.hover(V,Ue,B.id),V._fullLayout._lasthover=N,V._fullLayout._hoversubplot=B.id},N.onmouseout=function(Ue){V._dragging||u.unhover(V,Ue)},u.init(this.dragOptions)};function F(B){g.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(H,G,e){var g=e(24248),R=e(16628),a=e(52416),C=e(63620),S=e(52200).addStyleRule,v=e(92880),d=e(45464),r=e(64859),t=v.extendFlat,i=v.extendDeepAll;G.modules={},G.allCategories={},G.allTypes=[],G.subplotsRegistry={},G.transformsRegistry={},G.componentsRegistry={},G.layoutArrayContainers=[],G.layoutArrayRegexes=[],G.traceLayoutAttributes={},G.localeRegistry={},G.apiMethodRegistry={},G.collectableSubplotTypes=null,G.register=function(T){if(G.collectableSubplotTypes=null,T)T&&!Array.isArray(T)&&(T=[T]);else throw new Error("No argument passed to Plotly.register.");for(var P=0;P<T.length;P++){var x=T[P];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":n(x);break;case"transform":l(x);break;case"component":u(x);break;case"locale":m(x);break;case"apiMethod":var L=x.name;G.apiMethodRegistry[L]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},G.getModule=function(b){var T=G.modules[p(b)];return T?T._module:!1},G.traceIs=function(b,T){if(b=p(b),b==="various")return!1;var P=G.modules[b];return P||(b&&g.log("Unrecognized trace type "+b+"."),P=G.modules[d.type.dflt]),!!P.categories[T]},G.getTransformIndices=function(b,T){for(var P=[],x=b.transforms||[],L=0;L<x.length;L++)x[L].type===T&&P.push(L);return P},G.hasTransform=function(b,T){for(var P=b.transforms||[],x=0;x<P.length;x++)if(P[x].type===T)return!0;return!1},G.getComponentMethod=function(b,T){var P=G.componentsRegistry[b];return P&&P[T]||R},G.call=function(){var b=arguments[0],T=[].slice.call(arguments,1);return G.apiMethodRegistry[b].apply(null,T)};function n(b){var T=b.name,P=b.categories,x=b.meta;if(G.modules[T]){g.log("Type "+T+" already registered");return}G.subplotsRegistry[b.basePlotModule.name]||f(b.basePlotModule);for(var L={},M=0;M<P.length;M++)L[P[M]]=!0,G.allCategories[P[M]]=!0;G.modules[T]={_module:b,categories:L},x&&Object.keys(x).length&&(G.modules[T].meta=x),G.allTypes.push(T);for(var s in G.componentsRegistry)A(s,T);b.layoutAttributes&&t(G.traceLayoutAttributes,b.layoutAttributes);var E=b.basePlotModule,w=E.name;if(w==="mapbox"){var O=E.constants.styleRules;for(var _ in O)S(".js-plotly-plot .plotly .mapboxgl-"+_,O[_])}(w==="geo"||w==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(b){var T=b.name;if(G.subplotsRegistry[T]){g.log("Plot type "+T+" already registered.");return}c(b),G.subplotsRegistry[T]=b;for(var P in G.componentsRegistry)o(P,b.name)}function u(b){if(typeof b.name!="string")throw new Error("Component module *name* must be a string.");var T=b.name;G.componentsRegistry[T]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&a(G.layoutArrayContainers,T),c(b));for(var P in G.modules)A(T,P);for(var x in G.subplotsRegistry)o(T,x);for(var L in G.transformsRegistry)h(T,L);b.schema&&b.schema.layout&&i(r,b.schema.layout)}function l(b){if(typeof b.name!="string")throw new Error("Transform module *name* must be a string.");var T="Transform module "+b.name,P=typeof b.transform=="function",x=typeof b.calcTransform=="function";if(!P&&!x)throw new Error(T+" is missing a *transform* or *calcTransform* method.");P&&x&&g.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(b.attributes)||g.log(T+" registered without an *attributes* object."),typeof b.supplyDefaults!="function"&&g.log(T+" registered without a *supplyDefaults* method."),G.transformsRegistry[b.name]=b;for(var L in G.componentsRegistry)h(L,b.name)}function m(b){var T=b.name,P=T.split("-")[0],x=b.dictionary,L=b.format,M=x&&Object.keys(x).length,s=L&&Object.keys(L).length,E=G.localeRegistry,w=E[T];if(w||(E[T]=w={}),P!==T){var O=E[P];O||(E[P]=O={}),M&&O.dictionary===w.dictionary&&(O.dictionary=x),s&&O.format===w.format&&(O.format=L)}M&&(w.dictionary=x),s&&(w.format=L)}function c(b){if(b.layoutAttributes){var T=b.layoutAttributes._arrayAttrRegexps;if(T)for(var P=0;P<T.length;P++)a(G.layoutArrayRegexes,T[P])}}function A(b,T){var P=G.componentsRegistry[b].schema;if(!(!P||!P.traces)){var x=P.traces[T];x&&i(G.modules[T]._module.attributes,x)}}function h(b,T){var P=G.componentsRegistry[b].schema;if(!(!P||!P.transforms)){var x=P.transforms[T];x&&i(G.transformsRegistry[T].attributes,x)}}function o(b,T){var P=G.componentsRegistry[b].schema;if(!(!P||!P.subplots)){var x=G.subplotsRegistry[T],L=x.layoutAttributes,M=x.attr==="subplot"?x.name:x.attr;Array.isArray(M)&&(M=M[0]);var s=P.subplots[M];L&&s&&i(L,s)}}function p(b){return typeof b=="object"&&(b=b.type),b}},91536:function(H,G,e){var g=e(24040),R=e(3400),a=R.extendFlat,C=R.extendDeep;function S(d){var r;switch(d){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(d){var r=["xaxis","yaxis","zaxis"];return r.indexOf(d.slice(0,5))>-1}H.exports=function(r,t){var i,n=r.data,f=r.layout,u=C([],n),l=C({},f,S(t.tileClass)),m=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var c=Object.keys(l);for(i=0;i<c.length;i++)v(c[i])&&(l[c[i]].title={text:""});for(i=0;i<u.length;i++){var A=u[i];A.showscale=!1,A.marker&&(A.marker.showscale=!1),g.traceIs(A,"pie-like")&&(A.textposition="none")}}if(Array.isArray(t.annotations))for(i=0;i<t.annotations.length;i++)l.annotations.push(t.annotations[i]);var h=Object.keys(l).filter(function(P){return P.match(/^scene\d*$/)});if(h.length){var o={};for(t.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<h.length;i++){var p=l[h[i]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),a(p.xaxis,o),a(p.yaxis,o),a(p.zaxis,o),p._scene=null}}var b=document.createElement("div");t.tileClass&&(b.className=t.tileClass);var T={gd:b,td:b,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return t.setBackground!=="transparent"&&(T.config.setBackground=t.setBackground||"opaque"),T.gd.defaultLayout=S(t.tileClass),T}},39792:function(H,G,e){var g=e(3400),R=e(67024),a=e(48616),C=e(81792);function S(v,d){var r;return g.isPlainObject(v)||(r=g.getGraphDiv(v)),d=d||{},d.format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(t,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),g.isIE()&&d.format!=="svg"&&i(new Error(C.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=R(v,d),f=d.filename||v.fn||"newplot";f+="."+d.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),a(u,f,d.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),i(u)})})}H.exports=S},48616:function(H,G,e){var g=e(3400),R=e(81792);function a(C,S,v){var d=document.createElement("a"),r="download"in d,t=new Promise(function(i,n){var f,u;if(g.isIE())return f=R.createBlob(C,"svg"),window.navigator.msSaveBlob(f,S),f=null,i(S);if(r)return f=R.createBlob(C,v),u=R.createObjectURL(f),d.href=u,d.download=S,document.body.appendChild(d),d.click(),document.body.removeChild(d),R.revokeObjectURL(u),f=null,i(S);if(g.isSafari()){var l=v==="svg"?",":";base64,";return R.octetStream(l+encodeURIComponent(C)),i(S)}n(new Error("download error"))});return t}H.exports=a},81792:function(H,G,e){var g=e(24040);G.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},G.getRedrawFunc=function(C){return function(){g.getComponentMethod("colorbar","draw")(C)}},G.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},G.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var R=window.URL||window.webkitURL;G.createObjectURL=function(C){return R.createObjectURL(C)},G.revokeObjectURL=function(C){return R.revokeObjectURL(C)},G.createBlob=function(C,S){if(S==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(S==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=a(window.atob(C));return new window.Blob([v],{type:"image/"+S})},G.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function a(C){for(var S=C.length,v=new ArrayBuffer(S),d=new Uint8Array(v),r=0;r<S;r++)d[r]=C.charCodeAt(r);return v}G.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,G.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(H,G,e){var g=e(81792),R={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};H.exports=R},63268:function(H,G,e){var g=e(3400),R=e(61252).EventEmitter,a=e(81792);function C(S){var v=S.emitter||new R,d=new Promise(function(r,t){var i=window.Image,n=S.svg,f=S.format||"png";if(g.isIE()&&f!=="svg"){var u=new Error(a.MSG_IE_BAD_FORMAT);return t(u),S.promise?d:v.emit("error",u)}var l=S.canvas,m=S.scale||1,c=S.width||300,A=S.height||150,h=m*c,o=m*A,p=l.getContext("2d",{willReadFrequently:!0}),b=new i,T,P;f==="svg"||g.isSafari()?P=a.encodeSVG(n):(T=a.createBlob(n,"svg"),P=a.createObjectURL(T)),l.width=h,l.height=o,b.onload=function(){var x;switch(T=null,a.revokeObjectURL(P),f!=="svg"&&p.drawImage(b,0,0,h,o),f){case"jpeg":x=l.toDataURL("image/jpeg");break;case"png":x=l.toDataURL("image/png");break;case"webp":x=l.toDataURL("image/webp");break;case"svg":x=P;break;default:var L="Image format is not jpeg, png, svg or webp.";if(t(new Error(L)),!S.promise)return v.emit("error",L)}r(x),S.promise||v.emit("success",x)},b.onerror=function(x){if(T=null,a.revokeObjectURL(P),t(x),!S.promise)return v.emit("error",x)},b.src=P});return S.promise?d:v}H.exports=C},61808:function(H,G,e){var g=e(61252).EventEmitter,R=e(24040),a=e(3400),C=e(81792),S=e(91536),v=e(37164),d=e(63268);function r(t,i){var n=new g,f=S(t,{format:"png"}),u=f.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var c=C.getDelay(u._fullLayout);setTimeout(function(){var A=v(u),h=document.createElement("canvas");h.id=a.randstr(),n=d({format:i.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:h,emitter:n,svg:A}),n.clean=function(){u&&document.body.removeChild(u)}},c)}var m=C.getRedrawFunc(u);return R.call("_doPlot",u,f.data,f.layout,f.config).then(m).then(l).catch(function(c){n.emit("error",c)}),n}H.exports=r},37164:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=e(76308),S=e(9616),v=/"/g,d="TOBESTRIPPED",r=new RegExp('("'+d+")|("+d+'")',"g");function t(n){var f=g.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":f.html(l).text()});return f.remove(),u}function i(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}H.exports=function(f,u,l){var m=f._fullLayout,c=m._paper,A=m._toppaper,h=m.width,o=m.height,p;c.insert("rect",":first-child").call(a.setRect,0,0,h,o).call(C.fill,m.paper_bgcolor);var b=m._basePlotModules||[];for(p=0;p<b.length;p++){var T=b[p];T.toSVG&&T.toSVG(f)}if(A){var P=A.node().childNodes,x=Array.prototype.slice.call(P);for(p=0;p<x.length;p++){var L=x[p];L.childNodes.length&&c.node().appendChild(L)}}m._draggers&&m._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&s.style("font-family",E.replace(v,d));var w=this.style.fontWeight;w&&w==="normal"&&s.style("font-weight",void 0);var O=this.style.fontStyle;O&&O==="normal"&&s.style("font-style",void 0);var _=this.style.fontVariant;_&&_==="normal"&&s.style("font-variant",void 0)}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=g.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&s.style("fill",E.replace(v,d));var w=this.style.stroke;w&&w.indexOf("url(")!==-1&&s.style("stroke",w.replace(v,d))}),(u==="pdf"||u==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(S.xmlns,"xmlns",S.svg),c.node().setAttributeNS(S.xmlns,"xmlns:xlink",S.xlink),u==="svg"&&l&&(c.attr("width",l*h),c.attr("height",l*o),c.attr("viewBox","0 0 "+h+" "+o));var M=new window.XMLSerializer().serializeToString(c.node());return M=t(M),M=i(M),M=M.replace(r,"'"),R.isIE()&&(M=M.replace(/"/gi,"'"),M=M.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),M=M.replace(/(\\')/gi,'"')),M}},84664:function(H,G,e){var g=e(3400);H.exports=function(a,C){for(var S=0;S<a.length;S++)a[S].i=S;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.hovertext,a,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,a,"mo",!0),g.mergeArray(v.color,a,"mc");var d=v.line;d&&(g.mergeArray(d.color,a,"mlc"),g.mergeArrayCastPositive(d.width,a,"mlw"))}}},20832:function(H,G,e){var g=e(52904),R=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(21776).Gw,S=e(49084),v=e(25376),d=e(78048),r=e(98192).c,t=e(92880).extendFlat,i=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,f=n.line,u=t({},f.width,{dflt:0}),l=t({width:u,editType:"calc"},S("marker.line")),m=t({line:l,editType:"calc"},S("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});H.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),text:g.text,texttemplate:C({editType:"plot"},{keys:d.eventDataKeys}),hovertext:g.hovertext,hovertemplate:a({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},i,{}),insidetextfont:t({},i,{}),outsidetextfont:t({},i,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},zorder:g.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(H,G,e){var g=e(54460),R=e(1220),a=e(94288).hasColorscale,C=e(47128),S=e(84664),v=e(4500);H.exports=function(r,t){var i=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),f,u,l,m,c,A,h={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(f=i.makeCalcdata(t,"x",h),l=n.makeCalcdata(t,"y"),m=R(t,n,"y",l),c=!!t.yperiodalignment,A="y"):(f=n.makeCalcdata(t,"y",h),l=i.makeCalcdata(t,"x"),m=R(t,i,"x",l),c=!!t.xperiodalignment,A="x"),u=m.vals;for(var o=Math.min(u.length,f.length),p=new Array(o),b=0;b<o;b++)p[b]={p:u[b],s:f[b]},c&&(p[b].orig_p=l[b],p[b][A+"End"]=m.ends[b],p[b][A+"Start"]=m.starts[b]),t.ids&&(p[b].id=String(t.ids[b]));return a(t,"marker")&&C(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&C(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),S(p,t),v(p,t),p}},78048:function(H){H.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(H,G,e){var g=e(38248),R=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,C=e(24040),S=e(54460),v=e(71888).getAxisGroup,d=e(72592);function r(w,O){for(var _=O.xaxis,U=O.yaxis,z=w._fullLayout,F=w._fullData,B=w.calcdata,N=[],V=[],X=0;X<F.length;X++){var q=F[X];if(q.visible===!0&&C.traceIs(q,"bar")&&q.xaxis===_._id&&q.yaxis===U._id&&(q.orientation==="h"?N.push(B[X]):V.push(B[X]),q._computePh))for(var te=w.calcdata[X],ne=0;ne<te.length;ne++)typeof te[ne].ph0=="function"&&(te[ne].ph0=te[ne].ph0()),typeof te[ne].ph1=="function"&&(te[ne].ph1=te[ne].ph1())}var ce={xCat:_.type==="category"||_.type==="multicategory",yCat:U.type==="category"||U.type==="multicategory",mode:z.barmode,norm:z.barnorm,gap:z.bargap,groupgap:z.bargroupgap};t(w,_,U,V,ce),t(w,U,_,N,ce)}function t(w,O,_,U,z){if(U.length){var F,B,N,V,X;switch(f(_,U),z.mode){case"overlay":u(O,_,U,z);break;case"group":for(F=[],B=[],N=0;N<U.length;N++)V=U[N],X=V[0].trace,X.offset===void 0?B.push(V):F.push(V);B.length&&l(w,O,_,B,z),F.length&&u(O,_,F,z);break;case"stack":case"relative":for(F=[],B=[],N=0;N<U.length;N++)V=U[N],X=V[0].trace,X.base===void 0?B.push(V):F.push(V);n(B),B.length&&m(w,O,_,B,z),F.length&&u(O,_,F,z);break}i(U),s(U,O)}}function i(w){var O,_,U,z,F,B,N;for(O=0;O<w.length;O++)_=w[O],U=_[0].trace,z=_[0].t,z.cornerradiusvalue===void 0&&(F=U.marker?U.marker.cornerradius:void 0,F!==void 0&&(B=g(F)?+F:+F.slice(0,-1),N=g(F)?"px":"%",z.cornerradiusvalue=B,z.cornerradiusform=N))}function n(w){if(!(w.length<2)){var O,_,U,z,F,B,N;for(O=0;O<w.length&&(_=w[O],U=_[0].trace,F=U.marker?U.marker.cornerradius:void 0,F===void 0);O++);if(F!==void 0)for(B=g(F)?+F:+F.slice(0,-1),N=g(F)?"px":"%",O=0;O<w.length;O++)_=w[O],z=_[0].t,z.cornerradiusvalue=B,z.cornerradiusform=N}}function f(w,O){var _,U;for(_=0;_<O.length;_++){var z=O[_],F=z[0].trace,B=F.type==="funnel"?F._base:F.base,N,V=F.orientation==="h"?F.xcalendar:F.ycalendar,X=w.type==="category"||w.type==="multicategory"?function(){return null}:w.d2c;if(R(B)){for(U=0;U<Math.min(B.length,z.length);U++)N=X(B[U],0,V),g(N)?(z[U].b=+N,z[U].hasB=1):z[U].b=0;for(;U<z.length;U++)z[U].b=0}else{N=X(B,0,V);var q=g(N);for(N=q?N:0,U=0;U<z.length;U++)z[U].b=N,q&&(z[U].hasB=1)}}}function u(w,O,_,U){for(var z=0;z<_.length;z++){var F=_[z],B=new d([F],{posAxis:w,sepNegVal:!1,overlapNoMerge:!U.norm});c(w,B,U),U.norm?(P(B),L(O,B,U)):b(O,B)}}function l(w,O,_,U,z){var F=new d(U,{posAxis:O,sepNegVal:!1,overlapNoMerge:!z.norm});A(w,O,F,z),x(F,O),z.norm?(P(F),L(_,F,z)):b(_,F)}function m(w,O,_,U,z){var F=new d(U,{posAxis:O,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});c(O,F,z),T(_,F,z);for(var B=0;B<U.length;B++)for(var N=U[B],V=0;V<N.length;V++){var X=N[V];if(X.s!==a){var q=X.b+X.s===F.get(X.p,X.s);q&&(X._outmost=!0)}}z.norm&&L(_,F,z)}function c(w,O,_){for(var U=O.minDiff,z=O.traces,F=U*(1-_.gap),B=F,N=B*(1-(_.groupgap||0)),V=-N/2,X=0;X<z.length;X++){var q=z[X],te=q[0].t;te.barwidth=N,te.poffset=V,te.bargroupwidth=F,te.bardelta=U}O.binWidth=z[0][0].t.barwidth/100,h(O),o(w,O),p(w,O)}function A(w,O,_,U){for(var z=w._fullLayout,F=_.positions,B=_.distinctPositions,N=_.minDiff,V=_.traces,X=V.length,q=F.length!==B.length,te=N*(1-U.gap),ne=v(z,O._id)+V[0][0].trace.orientation,ce=z._alignmentOpts[ne]||{},Q=0;Q<X;Q++){var Z=V[Q],re=Z[0].trace,Y=ce[re.alignmentgroup]||{},oe=Object.keys(Y.offsetGroups||{}).length,ue;oe?ue=te/oe:ue=q?te/X:te;var K=ue*(1-(U.groupgap||0)),$;oe?$=((2*re._offsetIndex+1-oe)*ue-K)/2:$=q?((2*Q+1-X)*ue-K)/2:-K/2;var le=Z[0].t;le.barwidth=K,le.poffset=$,le.bargroupwidth=te,le.bardelta=N}_.binWidth=V[0][0].t.barwidth/100,h(_),o(O,_),p(O,_,q)}function h(w){var O=w.traces,_,U;for(_=0;_<O.length;_++){var z=O[_],F=z[0],B=F.trace,N=F.t,V=B._offset||B.offset,X=N.poffset,q;if(R(V)){for(q=Array.prototype.slice.call(V,0,z.length),U=0;U<q.length;U++)g(q[U])||(q[U]=X);for(U=q.length;U<z.length;U++)q.push(X);N.poffset=q}else V!==void 0&&(N.poffset=V);var te=B._width||B.width,ne=N.barwidth;if(R(te)){var ce=Array.prototype.slice.call(te,0,z.length);for(U=0;U<ce.length;U++)g(ce[U])||(ce[U]=ne);for(U=ce.length;U<z.length;U++)ce.push(ne);if(N.barwidth=ce,V===void 0){for(q=[],U=0;U<z.length;U++)q.push(X+(ne-ce[U])/2);N.poffset=q}}else te!==void 0&&(N.barwidth=te,V===void 0&&(N.poffset=X+(ne-te)/2))}}function o(w,O){for(var _=O.traces,U=E(w),z=0;z<_.length;z++)for(var F=_[z],B=F[0].t,N=B.poffset,V=R(N),X=B.barwidth,q=R(X),te=0;te<F.length;te++){var ne=F[te],ce=ne.w=q?X[te]:X;ne.p===void 0&&(ne.p=ne[U],ne["orig_"+U]=ne[U]);var Q=(V?N[te]:N)+ce/2;ne[U]=ne.p+Q}}function p(w,O,_){var U=O.traces,z=O.minDiff,F=z/2;S.minDtick(w,O.minDiff,O.distinctPositions[0],_);for(var B=0;B<U.length;B++){var N=U[B],V=N[0],X=V.trace,q=[],te,ne,ce,Q;for(Q=0;Q<N.length;Q++)te=N[Q],ne=te.p-F,ce=te.p+F,q.push(ne,ce);if(X.width||X.offset){var Z=V.t,re=Z.poffset,Y=Z.barwidth,oe=R(re),ue=R(Y);for(Q=0;Q<N.length;Q++){te=N[Q];var K=oe?re[Q]:re,$=ue?Y[Q]:Y;ne=te.p+K,ce=ne+$,q.push(ne,ce)}}X._extremes[w._id]=S.findExtremes(w,q,{padded:!1})}}function b(w,O){for(var _=O.traces,U=E(w),z=0;z<_.length;z++){for(var F=_[z],B=F[0].trace,N=B.type==="scatter",V=B.orientation==="v",X=[],q=!1,te=0;te<F.length;te++){var ne=F[te],ce=N?0:ne.b,Q=N?V?ne.y:ne.x:ce+ne.s;ne[U]=Q,X.push(Q),ne.hasB&&X.push(ce),(!ne.hasB||!ne.b)&&(q=!0)}B._extremes[w._id]=S.findExtremes(w,X,{tozero:q,padded:!0})}}function T(w,O,_){var U=E(w),z=O.traces,F,B,N,V,X,q;for(V=0;V<z.length;V++)if(F=z[V],B=F[0].trace,B.type==="funnel")for(X=0;X<F.length;X++)q=F[X],q.s!==a&&O.put(q.p,-.5*q.s);for(V=0;V<z.length;V++){F=z[V],B=F[0].trace,N=B.type==="funnel";var te=[];for(X=0;X<F.length;X++)if(q=F[X],q.s!==a){var ne;N?ne=q.s:ne=q.s+q.b;var ce=O.put(q.p,ne),Q=ce+ne;q.b=ce,q[U]=Q,_.norm||(te.push(Q),q.hasB&&te.push(ce))}_.norm||(B._extremes[w._id]=S.findExtremes(w,te,{tozero:!0,padded:!0}))}}function P(w){for(var O=w.traces,_=0;_<O.length;_++)for(var U=O[_],z=0;z<U.length;z++){var F=U[z];F.s!==a&&w.put(F.p,F.b+F.s)}}function x(w,O){for(var _=w.traces,U=0;U<_.length;U++){var z=_[U],F=z[0].trace;if(F.base===void 0)for(var B=new d([z],{posAxis:O,sepNegVal:!0,overlapNoMerge:!0}),N=0;N<z.length;N++){var V=z[N];if(V.p!==a){var X=B.put(V.p,V.b+V.s);X&&(V.b=X)}}}}function L(w,O,_){var U=O.traces,z=E(w),F=_.norm==="fraction"?1:100,B=F/1e9,N=w.l2c(w.c2l(0)),V=_.mode==="stack"?F:N;function X($){return g(w.c2l($))&&($<N-B||$>V+B||!g(N))}for(var q=0;q<U.length;q++){for(var te=U[q],ne=te[0].trace,ce=[],Q=!1,Z=!1,re=0;re<te.length;re++){var Y=te[re];if(Y.s!==a){var oe=Math.abs(F/O.get(Y.p,Y.s));Y.b*=oe,Y.s*=oe;var ue=Y.b,K=ue+Y.s;Y[z]=K,ce.push(K),Z=Z||X(K),Y.hasB&&(ce.push(ue),Z=Z||X(ue)),(!Y.hasB||!Y.b)&&(Q=!0)}}ne._extremes[w._id]=S.findExtremes(w,ce,{tozero:Q,padded:Z})}}function M(w,O,_,U){for(var z=E(U),F=0;F<w.length;F++)for(var B=w[F],N=0;N<B.length;N++){var V=B[N],X=V[z];V._sMin=O[X],V._sMax=_[X]}}function s(w,O){var _=E(O),U={},z,F,B,N=1/0,V=-1/0;for(z=0;z<w.length;z++)for(B=w[z],F=0;F<B.length;F++){var X=B[F].p;g(X)&&(N=Math.min(N,X),V=Math.max(V,X))}var q=1e4/(V-N),te=U.round=function(he){return String(Math.round(q*(he-N)))},ne={},ce={},Q=w.some(function(he){var xe=he[0].trace;return"marker"in xe&&xe.marker.cornerradius});for(z=0;z<w.length;z++){B=w[z],B[0].t.extents=U;var Z=B[0].t.poffset,re=R(Z);for(F=0;F<B.length;F++){var Y=B[F],oe=Y[_]-Y.w/2;if(g(oe)){var ue=Y[_]+Y.w/2,K=te(Y.p);U[K]?U[K]=[Math.min(oe,U[K][0]),Math.max(ue,U[K][1])]:U[K]=[oe,ue]}if(Y.p0=Y.p+(re?Z[F]:Z),Y.p1=Y.p0+Y.w,Y.s0=Y.b,Y.s1=Y.s0+Y.s,Q){var $=Math.min(Y.s0,Y.s1)||0,le=Math.max(Y.s0,Y.s1)||0,ae=Y[_];ne[ae]=ae in ne?Math.min(ne[ae],$):$,ce[ae]=ae in ce?Math.max(ce[ae],le):le}}}Q&&M(w,ne,ce,O)}function E(w){return w._id.charAt(0)}H.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(H,G,e){var g=e(38248),R=e(3400),a=e(76308),C=e(24040),S=e(43980),v=e(31147),d=e(55592),r=e(20011),t=e(20832),i=R.coerceFont;function n(m,c,A,h){function o(x,L){return R.coerce(m,c,t,x,L)}var p=S(m,c,h,o);if(!p){c.visible=!1;return}v(m,c,h,o),o("xhoverformat"),o("yhoverformat"),o("zorder"),o("orientation",c.x&&!c.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var b=o("textposition");l(m,c,h,o,b,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d(m,c,o,A,h);var T=(c.marker.line||{}).color,P=C.getComponentMethod("errorbars","supplyDefaults");P(m,c,T||a.defaultLine,{axis:"y"}),P(m,c,T||a.defaultLine,{axis:"x",inherit:"y"}),R.coerceSelectionMarkerOpacity(c,o)}function f(m,c){var A,h;function o(T,P){return R.coerce(h._input,h,t,T,P)}for(var p=0;p<m.length;p++)if(h=m[p],h.type==="bar"){A=h._input;var b=o("marker.cornerradius",c.barcornerradius);h.marker&&(h.marker.cornerradius=u(b)),c.barmode==="group"&&r(A,h,c,o)}}function u(m){if(g(m)){if(m=+m,m>=0)return m}else if(typeof m=="string"&&(m=m.trim(),m.slice(-1)==="%"&&g(m.slice(0,-1))&&(m=+m.slice(0,-1),m>=0)))return m+"%"}function l(m,c,A,h,o,p){p=p||{};var b=p.moduleHasSelected!==!1,T=p.moduleHasUnselected!==!1,P=p.moduleHasConstrain!==!1,x=p.moduleHasCliponaxis!==!1,L=p.moduleHasTextangle!==!1,M=p.moduleHasInsideanchor!==!1,s=!!p.hasPathbar,E=Array.isArray(o)||o==="auto",w=E||o==="inside",O=E||o==="outside";if(w||O){var _=i(h,"textfont",A.font),U=R.extendFlat({},_),z=m.textfont&&m.textfont.color,F=!z;if(F&&delete U.color,i(h,"insidetextfont",U),s){var B=R.extendFlat({},_);F&&delete B.color,i(h,"pathbar.textfont",B)}O&&i(h,"outsidetextfont",_),b&&h("selected.textfont.color"),T&&h("unselected.textfont.color"),P&&h("constraintext"),x&&h("cliponaxis"),L&&h("textangle"),h("texttemplate")}w&&M&&h("insidetextanchor")}H.exports={supplyDefaults:n,crossTraceDefaults:f,handleText:l,validateCornerradius:u}},52160:function(H){H.exports=function(e,g,R){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),R.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(H,G,e){var g=e(38248),R=e(49760),a=e(3400).isArrayOrTypedArray;G.coerceString=function(C,S,v){if(typeof S=="string"){if(S||!C.noBlank)return S}else if((typeof S=="number"||S===!0)&&!C.strict)return String(S);return v!==void 0?v:C.dflt},G.coerceNumber=function(C,S,v){if(g(S)){S=+S;var d=C.min,r=C.max,t=d!==void 0&&S<d||r!==void 0&&S>r;if(!t)return S}return v!==void 0?v:C.dflt},G.coerceColor=function(C,S,v){return R(S).isValid()?S:v!==void 0?v:C.dflt},G.coerceEnumerated=function(C,S,v){return C.coerceNumber&&(S=+S),C.values.indexOf(S)!==-1?S:v!==void 0?v:C.dflt},G.getValue=function(C,S){var v;return a(C)?S<C.length&&(v=C[S]):v=C,v},G.getLineWidth=function(C,S){var v=0<S.mlw?S.mlw:a(C.marker.line.width)?0:C.marker.line.width;return v}},63400:function(H,G,e){var g=e(93024),R=e(24040),a=e(76308),C=e(3400).fillText,S=e(60444).getLineWidth,v=e(54460).hoverLabelText,d=e(39032).BADNUM;function r(n,f,u,l,m){var c=t(n,f,u,l,m);if(c){var A=c.cd,h=A[0].trace,o=A[c.index];return c.color=i(h,o),R.getComponentMethod("errorbars","hoverInfo")(o,h,c),[c]}}function t(n,f,u,l,m){var c=n.cd,A=c[0].trace,h=c[0].t,o=l==="closest",p=A.type==="waterfall",b=n.maxHoverDistance,T=n.maxSpikeDistance,P,x,L,M,s,E,w;A.orientation==="h"?(P=u,x=f,L="y",M="x",s=ce,E=q):(P=f,x=u,L="x",M="y",E=ce,s=q);var O=A[L+"period"],_=o||O;function U(he){return F(he,-1)}function z(he){return F(he,1)}function F(he,xe){var Me=he.w;return he[L]+xe*Me/2}function B(he){return he[L+"End"]-he[L+"Start"]}var N=o?U:O?function(he){return he.p-B(he)/2}:function(he){return Math.min(U(he),he.p-h.bardelta/2)},V=o?z:O?function(he){return he.p+B(he)/2}:function(he){return Math.max(z(he),he.p+h.bardelta/2)};function X(he,xe,Me){return m.finiteRange&&(Me=0),g.inbox(he-P,xe-P,Me+Math.min(1,Math.abs(xe-he)/w)-1)}function q(he){return X(N(he),V(he),b)}function te(he){return X(U(he),z(he),T)}function ne(he){var xe=he[M];if(p){var Me=Math.abs(he.rawS)||0;x>0?xe+=Me:x<0&&(xe-=Me)}return xe}function ce(he){var xe=x,Me=he.b,Ae=ne(he);return g.inbox(Me-xe,Ae-xe,b+(Ae-xe)/(Ae-Me)-1)}function Q(he){var xe=x,Me=he.b,Ae=ne(he);return g.inbox(Me-xe,Ae-xe,T+(Ae-xe)/(Ae-Me)-1)}var Z=n[L+"a"],re=n[M+"a"];w=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));function Y(he){return(s(he)+E(he))/2}var oe=g.getDistanceFunction(l,s,E,Y);if(g.getClosest(c,oe,n),n.index!==!1&&c[n.index].p!==d){_||(N=function(he){return Math.min(U(he),he.p-h.bargroupwidth/2)},V=function(he){return Math.max(z(he),he.p+h.bargroupwidth/2)});var ue=n.index,K=c[ue],$=A.base?K.b+K.s:K.s;n[M+"0"]=n[M+"1"]=re.c2p(K[M],!0),n[M+"LabelVal"]=$;var le=h.extents[h.extents.round(K.p)];n[L+"0"]=Z.c2p(o?N(K):le[0],!0),n[L+"1"]=Z.c2p(o?V(K):le[1],!0);var ae=K.orig_p!==void 0;return n[L+"LabelVal"]=ae?K.orig_p:K.p,n.labelLabel=v(Z,n[L+"LabelVal"],A[L+"hoverformat"]),n.valueLabel=v(re,n[M+"LabelVal"],A[M+"hoverformat"]),n.baseLabel=v(re,K.b,A[M+"hoverformat"]),n.spikeDistance=(Q(K)+te(K))/2,n[L+"Spike"]=Z.c2p(K.p,!0),C(K,A,n),n.hovertemplate=A.hovertemplate,n}}function i(n,f){var u=f.mcc||n.marker.color,l=f.mlcc||n.marker.line.color,m=S(n,f);if(a.opacity(u))return u;if(a.opacity(l)&&m)return l}H.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:i}},51132:function(H,G,e){H.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(H,G,e){var g=e(24040),R=e(54460),a=e(3400),C=e(39324),S=e(31508).validateCornerradius;H.exports=function(v,d,r){function t(p,b){return a.coerce(v,d,C,p,b)}for(var i=!1,n=!1,f=!1,u={},l=t("barmode"),m=0;m<r.length;m++){var c=r[m];if(g.traceIs(c,"bar")&&c.visible)i=!0;else continue;if(l==="group"){var A=c.xaxis+c.yaxis;u[A]&&(f=!0),u[A]=!0}if(c.visible&&c.type==="histogram"){var h=R.getFromId({_fullLayout:d},c[c.orientation==="v"?"xaxis":"yaxis"]);h.type!=="category"&&(n=!0)}}if(!i){delete d.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!f?0:.2),t("bargroupgap");var o=t("barcornerradius");d.barcornerradius=S(o)}},98184:function(H,G,e){var g=e(33428),R=e(38248),a=e(3400),C=e(72736),S=e(76308),v=e(43616),d=e(24040),r=e(54460).tickText,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,f=e(60100),u=e(60444),l=e(78048),m=e(20832),c=m.text,A=m.textposition,h=e(10624).appendArrayPointValue,o=l.TEXTPAD;function p(q){return q.id}function b(q){if(q.ids)return p}function T(q){return(q>0)-(q<0)}function P(q,te){return q<te?1:-1}function x(q,te,ne,ce){var Q=[],Z=[],re=ce?te:ne,Y=ce?ne:te;return Q[0]=re.c2p(q.s0,!0),Z[0]=Y.c2p(q.p0,!0),Q[1]=re.c2p(q.s1,!0),Z[1]=Y.c2p(q.p1,!0),ce?[Q,Z]:[Z,Q]}function L(q,te,ne,ce){if(!te.uniformtext.mode&&M(ne)){var Q;return ce&&(Q=ce()),q.transition().duration(ne.duration).ease(ne.easing).each("end",function(){Q&&Q()}).each("interrupt",function(){Q&&Q()})}else return q}function M(q){return q&&q.duration>0}function s(q,te,ne,ce,Q,Z){var re=te.xaxis,Y=te.yaxis,oe=q._fullLayout,ue=q._context.staticPlot;Q||(Q={mode:oe.barmode,norm:oe.barmode,gap:oe.bargap,groupgap:oe.bargroupgap},n("bar",oe));var K=a.makeTraceGroups(ce,ne,"trace bars").each(function($){var le=g.select(this),ae=$[0].trace,he=$[0].t,xe=ae.type==="waterfall",Me=ae.type==="funnel",Ae=ae.type==="histogram",ke=ae.type==="bar",we=ke||Me,Ee=0;xe&&ae.connector.visible&&ae.connector.mode==="between"&&(Ee=ae.connector.line.width/2);var be=ae.orientation==="h",Le=M(Q),Ue=a.ensureSingle(le,"g","points"),Ve=b(ae),Fe=Ue.selectAll("g.point").data(a.identity,Ve);Fe.enter().append("g").classed("point",!0),Fe.exit().remove(),Fe.each(function(st,vt){var lt=g.select(this),et=x(st,re,Y,be),ct=et[0][0],ht=et[0][1],mt=et[1][0],xt=et[1][1],Mt=(be?ht-ct:xt-mt)===0;Mt&&we&&u.getLineWidth(ae,st)&&(Mt=!1),Mt||(Mt=!R(ct)||!R(ht)||!R(mt)||!R(xt)),st.isBlank=Mt,Mt&&(be?ht=ct:xt=mt),Ee&&!Mt&&(be?(ct-=P(ct,ht)*Ee,ht+=P(ct,ht)*Ee):(mt-=P(mt,xt)*Ee,xt+=P(mt,xt)*Ee));var tt,Oe;if(ae.type==="waterfall"){if(!Mt){var Ye=ae[st.dir].marker;tt=Ye.line.width,Oe=Ye.color}}else tt=u.getLineWidth(ae,st),Oe=st.mc||ae.marker.color;function Ze(ot){var bt=g.round(tt/2%1,2);return Q.gap===0&&Q.groupgap===0?g.round(Math.round(ot)-bt,2):ot}function We(ot,bt,Et){return Et&&ot===bt?ot:Math.abs(ot-bt)>=2?Ze(ot):ot>bt?Math.ceil(ot):Math.floor(ot)}var _e=S.opacity(Oe),Ie=_e<1||tt>.01?Ze:We;q._context.staticPlot||(ct=Ie(ct,ht,be),ht=Ie(ht,ct,be),mt=Ie(mt,xt,!be),xt=Ie(xt,mt,!be));var Xe=be?re.c2p:Y.c2p,De;st.s0>0?De=st._sMax:st.s0<0?De=st._sMin:De=st.s1>0?st._sMax:st._sMin;function de(ot,bt){if(!ot)return 0;var Et=Math.abs(be?xt-mt:ht-ct),Dt=Math.abs(be?ht-ct:xt-mt),Ht=Ie(Math.abs(Xe(De,!0)-Xe(0,!0))),Bt=st.hasB?Math.min(Et/2,Dt/2):Math.min(Et/2,Ht),Nt;if(bt==="%"){var Jt=Math.min(50,ot);Nt=Et*(Jt/100)}else Nt=ot;return Ie(Math.max(Math.min(Nt,Bt),0))}var Te=ke||Ae?de(he.cornerradiusvalue,he.cornerradiusform):0,Be,Qe,at="M"+ct+","+mt+"V"+xt+"H"+ht+"V"+mt+"Z",it=0;if(Te&&st.s){var Wt=T(st.s0)===0||T(st.s)===T(st.s0)?st.s1:st.s0;if(it=Ie(st.hasB?0:Math.abs(Xe(De,!0)-Xe(Wt,!0))),it<Te){var Yt=P(ct,ht),Tt=P(mt,xt),Lt=Yt===-Tt?1:0;if(be)if(st.hasB)Be="M"+(ct+Te*Yt)+","+mt+"A "+Te+","+Te+" 0 0 "+Lt+" "+ct+","+(mt+Te*Tt)+"V"+(xt-Te*Tt)+"A "+Te+","+Te+" 0 0 "+Lt+" "+(ct+Te*Yt)+","+xt+"H"+(ht-Te*Yt)+"A "+Te+","+Te+" 0 0 "+Lt+" "+ht+","+(xt-Te*Tt)+"V"+(mt+Te*Tt)+"A "+Te+","+Te+" 0 0 "+Lt+" "+(ht-Te*Yt)+","+mt+"Z";else{Qe=Math.abs(ht-ct)+it;var Xt=Qe<Te?Te-Math.sqrt(Qe*(2*Te-Qe)):0,Tr=it>0?Math.sqrt(it*(2*Te-it)):0,gt=Yt>0?Math.max:Math.min;Be="M"+ct+","+mt+"V"+(xt-Xt*Tt)+"H"+gt(ht-(Te-it)*Yt,ct)+"A "+Te+","+Te+" 0 0 "+Lt+" "+ht+","+(xt-Te*Tt-Tr)+"V"+(mt+Te*Tt+Tr)+"A "+Te+","+Te+" 0 0 "+Lt+" "+gt(ht-(Te-it)*Yt,ct)+","+(mt+Xt*Tt)+"Z"}else if(st.hasB)Be="M"+(ct+Te*Yt)+","+mt+"A "+Te+","+Te+" 0 0 "+Lt+" "+ct+","+(mt+Te*Tt)+"V"+(xt-Te*Tt)+"A "+Te+","+Te+" 0 0 "+Lt+" "+(ct+Te*Yt)+","+xt+"H"+(ht-Te*Yt)+"A "+Te+","+Te+" 0 0 "+Lt+" "+ht+","+(xt-Te*Tt)+"V"+(mt+Te*Tt)+"A "+Te+","+Te+" 0 0 "+Lt+" "+(ht-Te*Yt)+","+mt+"Z";else{Qe=Math.abs(xt-mt)+it;var Kt=Qe<Te?Te-Math.sqrt(Qe*(2*Te-Qe)):0,Qt=it>0?Math.sqrt(it*(2*Te-it)):0,yr=Tt>0?Math.max:Math.min;Be="M"+(ct+Kt*Yt)+","+mt+"V"+yr(xt-(Te-it)*Tt,mt)+"A "+Te+","+Te+" 0 0 "+Lt+" "+(ct+Te*Yt-Qt)+","+xt+"H"+(ht-Te*Yt+Qt)+"A "+Te+","+Te+" 0 0 "+Lt+" "+(ht-Kt*Yt)+","+yr(xt-(Te-it)*Tt,mt)+"V"+mt+"Z"}}else Be=at}else Be=at;var fr=L(a.ensureSingle(lt,"path"),oe,Q,Z);if(fr.style("vector-effect",ue?"none":"non-scaling-stroke").attr("d",isNaN((ht-ct)*(xt-mt))||Mt&&q._context.staticPlot?"M0,0Z":Be).call(v.setClipUrl,te.layerClipId,q),!oe.uniformtext.mode&&Le){var yt=v.makePointStyleFns(ae);v.singlePointStyle(st,fr,ae,yt,q)}E(q,te,lt,$,vt,ct,ht,mt,xt,Te,it,Q,Z),te.layerClipId&&v.hideOutsideRangePoint(st,lt.select("text"),re,Y,ae.xcalendar,ae.ycalendar)});var He=ae.cliponaxis===!1;v.setClipUrl(le,He?null:te.layerClipId,q)});d.getComponentMethod("errorbars","plot")(q,K,te,Q)}function E(q,te,ne,ce,Q,Z,re,Y,oe,ue,K,$,le){var ae=te.xaxis,he=te.yaxis,xe=q._fullLayout,Me;function Ae(Qe,at,it){var Wt=a.ensureSingle(Qe,"text").text(at).attr({class:"bartext bartext-"+Me,"text-anchor":"middle","data-notex":1}).call(v.font,it).call(C.convertToTspans,q);return Wt}var ke=ce[0].trace,we=ke.orientation==="h",Ee=B(xe,ce,Q,ae,he);Me=N(ke,Q);var be=$.mode==="stack"||$.mode==="relative",Le=ce[Q],Ue=!be||Le._outmost,Ve=Le.hasB,Fe=ue&&ue-K>o;if(!Ee||Me==="none"||(Le.isBlank||Z===re||Y===oe)&&(Me==="auto"||Me==="inside")){ne.select("text").remove();return}var He=xe.font,st=f.getBarColor(ce[Q],ke),vt=f.getInsideTextFont(ke,Q,He,st),lt=f.getOutsideTextFont(ke,Q,He),et=ke.insidetextanchor||"end",ct=ne.datum();we?ae.type==="log"&&ct.s0<=0&&(ae.range[0]<ae.range[1]?Z=0:Z=ae._length):he.type==="log"&&ct.s0<=0&&(he.range[0]<he.range[1]?Y=he._length:Y=0);var ht=Math.abs(re-Z),mt=Math.abs(oe-Y),xt=ht-2*o,Mt=mt-2*o,tt,Oe,Ye,Ze,We;if(Me==="outside"&&!Ue&&!Le.hasB&&(Me="inside"),Me==="auto")if(Ue){Me="inside",We=a.ensureUniformFontSize(q,vt),tt=Ae(ne,Ee,We),Oe=v.bBox(tt.node()),Ye=Oe.width,Ze=Oe.height;var _e=Ye>0&&Ze>0,Ie;Fe?Ve?Ie=w(xt-2*ue,Mt,Ye,Ze,we)||w(xt,Mt-2*ue,Ye,Ze,we):we?Ie=w(xt-(ue-K),Mt,Ye,Ze,we)||w(xt,Mt-2*(ue-K),Ye,Ze,we):Ie=w(xt,Mt-(ue-K),Ye,Ze,we)||w(xt-2*(ue-K),Mt,Ye,Ze,we):Ie=w(xt,Mt,Ye,Ze,we),_e&&Ie?Me="inside":(Me="outside",tt.remove(),tt=null)}else Me="inside";if(!tt){We=a.ensureUniformFontSize(q,Me==="outside"?lt:vt),tt=Ae(ne,Ee,We);var Xe=tt.attr("transform");if(tt.attr("transform",""),Oe=v.bBox(tt.node()),Ye=Oe.width,Ze=Oe.height,tt.attr("transform",Xe),Ye<=0||Ze<=0){tt.remove();return}}var De=ke.textangle,de,Te;Me==="outside"?(Te=ke.constraintext==="both"||ke.constraintext==="outside",de=F(Z,re,Y,oe,Oe,{isHorizontal:we,constrained:Te,angle:De})):(Te=ke.constraintext==="both"||ke.constraintext==="inside",de=U(Z,re,Y,oe,Oe,{isHorizontal:we,constrained:Te,angle:De,anchor:et,hasB:Ve,r:ue,overhead:K})),de.fontSize=We.size,i(ke.type==="histogram"?"bar":ke.type,de,xe),Le.transform=de;var Be=L(tt,xe,$,le);a.setTransormAndDisplay(Be,de)}function w(q,te,ne,ce,Q){if(q<0||te<0)return!1;var Z=ne<=q&&ce<=te,re=ne<=te&&ce<=q,Y=Q?q>=ne*(te/ce):te>=ce*(q/ne);return Z||re||Y}function O(q){return q==="auto"?0:q}function _(q,te){var ne=Math.PI/180*te,ce=Math.abs(Math.sin(ne)),Q=Math.abs(Math.cos(ne));return{x:q.width*Q+q.height*ce,y:q.width*ce+q.height*Q}}function U(q,te,ne,ce,Q,Z){var re=!!Z.isHorizontal,Y=!!Z.constrained,oe=Z.angle||0,ue=Z.anchor,K=ue==="end",$=ue==="start",le=Z.leftToRight||0,ae=(le+1)/2,he=1-ae,xe=Z.hasB,Me=Z.r,Ae=Z.overhead,ke=Q.width,we=Q.height,Ee=Math.abs(te-q),be=Math.abs(ce-ne),Le=Ee>2*o&&be>2*o?o:0;Ee-=2*Le,be-=2*Le;var Ue=O(oe);oe==="auto"&&!(ke<=Ee&&we<=be)&&(ke>Ee||we>be)&&(!(ke>be||we>Ee)||ke<we!=Ee<be)&&(Ue+=90);var Ve=_(Q,Ue),Fe,He;if(Me&&Me-Ae>o){var st=z(q,te,ne,ce,Ve,Me,Ae,re,xe);Fe=st.scale,He=st.pad}else Fe=1,Y&&(Fe=Math.min(1,Ee/Ve.x,be/Ve.y)),He=0;var vt=Q.left*he+Q.right*ae,lt=(Q.top+Q.bottom)/2,et=(q+o)*he+(te-o)*ae,ct=(ne+ce)/2,ht=0,mt=0;if($||K){var xt=(re?Ve.x:Ve.y)/2;Me&&(K||xe)&&(Le+=He);var Mt=re?P(q,te):P(ne,ce);re?$?(et=q+Mt*Le,ht=-Mt*xt):(et=te-Mt*Le,ht=Mt*xt):$?(ct=ne+Mt*Le,mt=-Mt*xt):(ct=ce-Mt*Le,mt=Mt*xt)}return{textX:vt,textY:lt,targetX:et,targetY:ct,anchorX:ht,anchorY:mt,scale:Fe,rotate:Ue}}function z(q,te,ne,ce,Q,Z,re,Y,oe){var ue=Math.max(0,Math.abs(te-q)-2*o),K=Math.max(0,Math.abs(ce-ne)-2*o),$=Z-o,le=re?$-Math.sqrt($*$-($-re)*($-re)):$,ae=oe?$*2:Y?$-re:2*le,he=oe?$*2:Y?2*le:$-re,xe,Me,Ae,ke,we;return Q.y/Q.x>=K/(ue-ae)?ke=K/Q.y:Q.y/Q.x<=(K-he)/ue?ke=ue/Q.x:!oe&&Y?(xe=Q.x*Q.x+Q.y*Q.y/4,Me=-2*Q.x*(ue-$)-Q.y*(K/2-$),Ae=(ue-$)*(ue-$)+(K/2-$)*(K/2-$)-$*$,ke=(-Me+Math.sqrt(Me*Me-4*xe*Ae))/(2*xe)):oe?(xe=(Q.x*Q.x+Q.y*Q.y)/4,Me=-Q.x*(ue/2-$)-Q.y*(K/2-$),Ae=(ue/2-$)*(ue/2-$)+(K/2-$)*(K/2-$)-$*$,ke=(-Me+Math.sqrt(Me*Me-4*xe*Ae))/(2*xe)):(xe=Q.x*Q.x/4+Q.y*Q.y,Me=-Q.x*(ue/2-$)-2*Q.y*(K-$),Ae=(ue/2-$)*(ue/2-$)+(K-$)*(K-$)-$*$,ke=(-Me+Math.sqrt(Me*Me-4*xe*Ae))/(2*xe)),ke=Math.min(1,ke),Y?we=Math.max(0,$-Math.sqrt(Math.max(0,$*$-($-(K-Q.y*ke)/2)*($-(K-Q.y*ke)/2)))-re):we=Math.max(0,$-Math.sqrt(Math.max(0,$*$-($-(ue-Q.x*ke)/2)*($-(ue-Q.x*ke)/2)))-re),{scale:ke,pad:we}}function F(q,te,ne,ce,Q,Z){var re=!!Z.isHorizontal,Y=!!Z.constrained,oe=Z.angle||0,ue=Q.width,K=Q.height,$=Math.abs(te-q),le=Math.abs(ce-ne),ae;re?ae=le>2*o?o:0:ae=$>2*o?o:0;var he=1;Y&&(he=re?Math.min(1,le/K):Math.min(1,$/ue));var xe=O(oe),Me=_(Q,xe),Ae=(re?Me.x:Me.y)/2,ke=(Q.left+Q.right)/2,we=(Q.top+Q.bottom)/2,Ee=(q+te)/2,be=(ne+ce)/2,Le=0,Ue=0,Ve=re?P(te,q):P(ne,ce);return re?(Ee=te-Ve*ae,Le=Ve*Ae):(be=ce+Ve*ae,Ue=-Ve*Ae),{textX:ke,textY:we,targetX:Ee,targetY:be,anchorX:Le,anchorY:Ue,scale:he,rotate:xe}}function B(q,te,ne,ce,Q){var Z=te[0].trace,re=Z.texttemplate,Y;return re?Y=V(q,te,ne,ce,Q):Z.textinfo?Y=X(te,ne,ce,Q):Y=u.getValue(Z.text,ne),u.coerceString(c,Y)}function N(q,te){var ne=u.getValue(q.textposition,te);return u.coerceEnumerated(A,ne)}function V(q,te,ne,ce,Q){var Z=te[0].trace,re=a.castOption(Z,ne,"texttemplate");if(!re)return"";var Y=Z.type==="histogram",oe=Z.type==="waterfall",ue=Z.type==="funnel",K=Z.orientation==="h",$,le,ae,he;K?($="y",le=Q,ae="x",he=ce):($="x",le=ce,ae="y",he=Q);function xe(Le){return r(le,le.c2l(Le),!0).text}function Me(Le){return r(he,he.c2l(Le),!0).text}var Ae=te[ne],ke={};ke.label=Ae.p,ke.labelLabel=ke[$+"Label"]=xe(Ae.p);var we=a.castOption(Z,Ae.i,"text");(we===0||we)&&(ke.text=we),ke.value=Ae.s,ke.valueLabel=ke[ae+"Label"]=Me(Ae.s);var Ee={};h(Ee,Z,Ae.i),(Y||Ee.x===void 0)&&(Ee.x=K?ke.value:ke.label),(Y||Ee.y===void 0)&&(Ee.y=K?ke.label:ke.value),(Y||Ee.xLabel===void 0)&&(Ee.xLabel=K?ke.valueLabel:ke.labelLabel),(Y||Ee.yLabel===void 0)&&(Ee.yLabel=K?ke.labelLabel:ke.valueLabel),oe&&(ke.delta=+Ae.rawS||Ae.s,ke.deltaLabel=Me(ke.delta),ke.final=Ae.v,ke.finalLabel=Me(ke.final),ke.initial=ke.final-ke.delta,ke.initialLabel=Me(ke.initial)),ue&&(ke.value=Ae.s,ke.valueLabel=Me(ke.value),ke.percentInitial=Ae.begR,ke.percentInitialLabel=a.formatPercent(Ae.begR),ke.percentPrevious=Ae.difR,ke.percentPreviousLabel=a.formatPercent(Ae.difR),ke.percentTotal=Ae.sumR,ke.percenTotalLabel=a.formatPercent(Ae.sumR));var be=a.castOption(Z,Ae.i,"customdata");return be&&(ke.customdata=be),a.texttemplateString(re,ke,q._d3locale,Ee,ke,Z._meta||{})}function X(q,te,ne,ce){var Q=q[0].trace,Z=Q.orientation==="h",re=Q.type==="waterfall",Y=Q.type==="funnel";function oe(be){var Le=Z?ce:ne;return r(Le,be,!0).text}function ue(be){var Le=Z?ne:ce;return r(Le,+be,!0).text}var K=Q.textinfo,$=q[te],le=K.split("+"),ae=[],he,xe=function(be){return le.indexOf(be)!==-1};if(xe("label")&&ae.push(oe(q[te].p)),xe("text")&&(he=a.castOption(Q,$.i,"text"),(he===0||he)&&ae.push(he)),re){var Me=+$.rawS||$.s,Ae=$.v,ke=Ae-Me;xe("initial")&&ae.push(ue(ke)),xe("delta")&&ae.push(ue(Me)),xe("final")&&ae.push(ue(Ae))}if(Y){xe("value")&&ae.push(ue($.s));var we=0;xe("percent initial")&&we++,xe("percent previous")&&we++,xe("percent total")&&we++;var Ee=we>1;xe("percent initial")&&(he=a.formatPercent($.begR),Ee&&(he+=" of initial"),ae.push(he)),xe("percent previous")&&(he=a.formatPercent($.difR),Ee&&(he+=" of previous"),ae.push(he)),xe("percent total")&&(he=a.formatPercent($.sumR),Ee&&(he+=" of total"),ae.push(he))}return ae.join("<br>")}H.exports={plot:s,toMoveInsideBar:U}},45784:function(H){H.exports=function(g,R){var a=g.cd,C=g.xaxis,S=g.yaxis,v=a[0].trace,d=v.type==="funnel",r=v.orientation==="h",t=[],i;if(R===!1)for(i=0;i<a.length;i++)a[i].selected=0;else for(i=0;i<a.length;i++){var n=a[i],f="ct"in n?n.ct:G(n,C,S,r,d);R.contains(f,!1,i,g)?(t.push({pointNumber:i,x:C.c2d(n.x),y:S.c2d(n.y)}),n.selected=1):n.selected=0}return t};function G(e,g,R,a,C){var S=g.c2p(a?e.s0:e.p0,!0),v=g.c2p(a?e.s1:e.p1,!0),d=R.c2p(a?e.p0:e.s0,!0),r=R.c2p(a?e.p1:e.s1,!0);return C?[(S+v)/2,(d+r)/2]:a?[v,(d+r)/2]:[(S+v)/2,r]}},72592:function(H,G,e){H.exports=R;var g=e(3400).distinctVals;function R(a,C){this.traces=a,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var S=1/0,v=C.posAxis._id.charAt(0),d=[],r=0;r<a.length;r++){for(var t=a[r],i=0;i<t.length;i++){var n=t[i],f=n.p;f===void 0&&(f=n[v]),f!==void 0&&d.push(f)}t[0]&&t[0].width1&&(S=Math.min(t[0].width1,S))}this.positions=d;var u=g(d);this.distinctPositions=u.vals,u.vals.length===1&&S!==1/0?this.minDiff=S:this.minDiff=Math.min(u.minDiff,S);var l=(C.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}R.prototype.put=function(C,S){var v=this.getLabel(C,S),d=this.bins[v]||0;return this.bins[v]=d+S,d},R.prototype.get=function(C,S){var v=this.getLabel(C,S);return this.bins[v]||0},R.prototype.getLabel=function(C,S){var v=S<0&&this.sepNegVal?"v":"^",d=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+d}},60100:function(H,G,e){var g=e(33428),R=e(76308),a=e(43616),C=e(3400),S=e(24040),v=e(82744).resizeText,d=e(20832),r=d.textfont,t=d.insidetextfont,i=d.outsidetextfont,n=e(60444);function f(x){var L=g.select(x).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(x,L,"bar");var M=L.size(),s=x._fullLayout;L.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(s.barmode==="stack"&&M>1||s.bargap===0&&s.bargroupgap===0&&!E[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),L.selectAll("g.points").each(function(E){var w=g.select(this),O=E[0].trace;u(w,O,x)}),S.getComponentMethod("errorbars","style")(L)}function u(x,L,M){a.pointStyle(x.selectAll("path"),L,M),l(x,L,M)}function l(x,L,M){x.selectAll("text").each(function(s){var E=g.select(this),w=C.ensureUniformFontSize(M,h(E,s,L,M));a.font(E,w)})}function m(x,L,M){var s=L[0].trace;s.selectedpoints?c(M,s,x):(u(M,s,x),S.getComponentMethod("errorbars","style")(M))}function c(x,L,M){a.selectedPointStyle(x.selectAll("path"),L),A(x.selectAll("text"),L,M)}function A(x,L,M){x.each(function(s){var E=g.select(this),w;if(s.selected){w=C.ensureUniformFontSize(M,h(E,s,L,M));var O=L.selected.textfont&&L.selected.textfont.color;O&&(w.color=O),a.font(E,w)}else a.selectedTextStyle(E,L)})}function h(x,L,M,s){var E=s._fullLayout.font,w=M.textfont;if(x.classed("bartext-inside")){var O=P(L,M);w=p(M,L.i,E,O)}else x.classed("bartext-outside")&&(w=b(M,L.i,E));return w}function o(x,L,M){return T(r,x.textfont,L,M)}function p(x,L,M,s){var E=o(x,L,M),w=x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[L]===void 0;return w&&(E={color:R.contrast(s),family:E.family,size:E.size,weight:E.weight,style:E.style,variant:E.variant}),T(t,x.insidetextfont,L,E)}function b(x,L,M){var s=o(x,L,M);return T(i,x.outsidetextfont,L,s)}function T(x,L,M,s){L=L||{};var E=n.getValue(L.family,M),w=n.getValue(L.size,M),O=n.getValue(L.color,M),_=n.getValue(L.weight,M),U=n.getValue(L.style,M),z=n.getValue(L.variant,M);return{family:n.coerceString(x.family,E,s.family),size:n.coerceNumber(x.size,w,s.size),color:n.coerceColor(x.color,O,s.color),weight:n.coerceString(x.weight,_,s.weight),style:n.coerceString(x.style,U,s.style),variant:n.coerceString(x.variant,z,s.variant)}}function P(x,L){return L.type==="waterfall"?L[x.dir].marker.color:x.mcc||x.mc||L.marker.color}H.exports={style:f,styleTextPoints:l,styleOnSelect:m,getInsideTextFont:p,getOutsideTextFont:b,getBarColor:P,resizeText:v}},55592:function(H,G,e){var g=e(76308),R=e(94288).hasColorscale,a=e(27260),C=e(3400).coercePattern;H.exports=function(v,d,r,t,i){var n=r("marker.color",t),f=R(v,"marker");f&&a(v,d,i,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",g.defaultLine),R(v,"marker.line")&&a(v,d,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),C(r,"marker.pattern",n,f),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(H,G,e){var g=e(33428),R=e(3400);function a(d,r,t){var i=d._fullLayout,n=i["_"+t+"Text_minsize"];if(n){var f=i.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var m=l.transform;if(m){m.scale=f&&m.hide?0:n/m.fontSize;var c=g.select(this).select("text");R.setTransormAndDisplay(c,m)}})}}function C(d,r,t){if(t.uniformtext.mode){var i=v(d),n=t.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<n,t[i]=t[i]||1/0,r.hide||(t[i]=Math.min(t[i],Math.max(f,n)))}}function S(d,r){var t=v(d);r[t]=void 0}function v(d){return"_"+d+"Text_minsize"}H.exports={recordMinTextSize:C,clearMinTextSize:S,resizeText:a}},78100:function(H,G,e){var g=e(21776).Ks,R=e(92880).extendFlat,a=e(8319),C=e(20832);H.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:R({},C.base,{}),offset:R({},C.offset,{}),width:R({},C.width,{}),text:R({},C.text,{}),hovertext:R({},C.hovertext,{}),marker:S(),hoverinfo:a.hoverinfo,hovertemplate:g(),selected:C.selected,unselected:C.unselected};function S(){var v=R({},C.marker);return delete v.cornerradius,v}},47056:function(H,G,e){var g=e(94288).hasColorscale,R=e(47128),a=e(3400).isArrayOrTypedArray,C=e(84664),S=e(96376).setGroupPositions,v=e(4500),d=e(24040).traceIs,r=e(3400).extendFlat;function t(n,f){for(var u=n._fullLayout,l=f.subplot,m=u[l].radialaxis,c=u[l].angularaxis,A=m.makeCalcdata(f,"r"),h=c.makeCalcdata(f,"theta"),o=f._length,p=new Array(o),b=A,T=h,P=0;P<o;P++)p[P]={p:T[P],s:b[P]};function x(L){var M=f[L];M!==void 0&&(f["_"+L]=a(M)?c.makeCalcdata(f,L):c.d2c(M,f.thetaunit))}return c.type==="linear"&&(x("width"),x("offset")),g(f,"marker")&&R(n,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),g(f,"marker.line")&&R(n,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(p,f),v(p,f),p}function i(n,f,u){for(var l=n.calcdata,m=[],c=0;c<l.length;c++){var A=l[c],h=A[0].trace;h.visible===!0&&d(h,"bar")&&h.subplot===u&&m.push(A)}var o=r({},f.radialaxis,{_id:"x"}),p=f.angularaxis;S(n,p,o,m,{mode:f.barmode,norm:f.barnorm,gap:f.bargap,groupgap:f.bargroupgap})}H.exports={calc:t,crossTraceCalc:i}},70384:function(H,G,e){var g=e(3400),R=e(85968).handleRThetaDefaults,a=e(55592),C=e(78100);H.exports=function(v,d,r,t){function i(f,u){return g.coerce(v,d,C,f,u)}var n=R(v,d,t,i);if(!n){d.visible=!1;return}i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(v,d,i,r,t),g.coerceSelectionMarkerOpacity(d,i)}},68896:function(H,G,e){var g=e(93024),R=e(3400),a=e(63400).getTraceColor,C=R.fillText,S=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;H.exports=function(r,t,i){var n=r.cd,f=n[0].trace,u=r.subplot,l=u.radialAxis,m=u.angularAxis,c=u.vangles,A=c?v:R.isPtInsideSector,h=r.maxHoverDistance,o=m._period||2*Math.PI,p=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),b=Math.atan2(i,t);l.range[0]>l.range[1]&&(b+=Math.PI);var T=function(M){return A(p,b,[M.rp0,M.rp1],[M.thetag0,M.thetag1],c)?h+Math.min(1,Math.abs(M.thetag1-M.thetag0)/o)-1+(M.rp1-p)/(M.rp1-M.rp0)-1:1/0};if(g.getClosest(n,T,r),r.index!==!1){var P=r.index,x=n[P];r.x0=r.x1=x.ct[0],r.y0=r.y1=x.ct[1];var L=R.extendFlat({},x,{r:x.s,theta:x.p});return C(x,f,r),S(L,f,u,r),r.hovertemplate=f.hovertemplate,r.color=a(f,x),r.xLabelVal=r.yLabelVal=void 0,x.s<0&&(r.idealAlign="left"),[r]}}},94456:function(H,G,e){H.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(H){H.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(H,G,e){var g=e(3400),R=e(9320);H.exports=function(a,C,S){var v={},d;function r(n,f){return g.coerce(a[d]||{},C[d],R,n,f)}for(var t=0;t<S.length;t++){var i=S[t];i.type==="barpolar"&&i.visible===!0&&(d=i.subplot,v[d]||(r("barmode"),r("bargap"),v[d]=1))}}},42040:function(H,G,e){var g=e(33428),R=e(38248),a=e(3400),C=e(43616),S=e(57384);H.exports=function(r,t,i){var n=r._context.staticPlot,f=t.xaxis,u=t.yaxis,l=t.radialAxis,m=t.angularAxis,c=v(t),A=t.layers.frontplot.select("g.barlayer");a.makeTraceGroups(A,i,"trace bars").each(function(){var h=g.select(this),o=a.ensureSingle(h,"g","points"),p=o.selectAll("g.point").data(a.identity);p.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),p.exit().remove(),p.each(function(b){var T=g.select(this),P=b.rp0=l.c2p(b.s0),x=b.rp1=l.c2p(b.s1),L=b.thetag0=m.c2g(b.p0),M=b.thetag1=m.c2g(b.p1),s;if(!R(P)||!R(x)||!R(L)||!R(M)||P===x||L===M)s="M0,0Z";else{var E=l.c2g(b.s1),w=(L+M)/2;b.ct=[f.c2p(E*Math.cos(w)),u.c2p(E*Math.sin(w))],s=c(P,x,L,M)}a.ensureSingle(T,"path").attr("d",s)}),C.setClipUrl(h,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(d){var r=d.cxx,t=d.cyy;return d.vangles?function(i,n,f,u){var l,m;a.angleDelta(f,u)>0?(l=f,m=u):(l=u,m=f);var c=S.findEnclosingVertexAngles(l,d.vangles)[0],A=S.findEnclosingVertexAngles(m,d.vangles)[1],h=[c,(l+m)/2,A];return S.pathPolygonAnnulus(i,n,l,m,h,r,t)}:function(i,n,f,u){return a.pathAnnulus(i,n,f,u,r,t)}}},63188:function(H,G,e){var g=e(98304),R=e(52904),a=e(20832),C=e(22548),S=e(29736).axisHoverFormat,v=e(21776).Ks,d=e(92880).extendFlat,r=R.marker,t=r.line;H.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:R.xperiod,yperiod:R.yperiod,xperiod0:R.xperiod0,yperiod0:R.yperiod0,xperiodalignment:R.xperiodalignment,yperiodalignment:R.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:d({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:d({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:d({},r.angle,{arrayOk:!1,editType:"calc"}),size:d({},r.size,{arrayOk:!1,editType:"calc"}),color:d({},r.color,{arrayOk:!1,editType:"style"}),line:{color:d({},t.color,{arrayOk:!1,dflt:C.defaultLine,editType:"style"}),width:d({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:R.selected.marker,editType:"style"},unselected:{marker:R.unselected.marker,editType:"style"},text:d({},R.text,{}),hovertext:d({},R.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:R.zorder}},62555:function(H,G,e){var g=e(38248),R=e(54460),a=e(1220),C=e(3400),S=e(39032).BADNUM,v=C._;H.exports=function(b,T){var P=b._fullLayout,x=R.getFromId(b,T.xaxis||"x"),L=R.getFromId(b,T.yaxis||"y"),M=[],s=T.type==="violin"?"_numViolins":"_numBoxes",E,w,O,_,U,z,F;T.orientation==="h"?(O=x,_="x",U=L,z="y",F=!!T.yperiodalignment):(O=L,_="y",U=x,z="x",F=!!T.xperiodalignment);var B=d(T,z,U,P[s]),N=B[0],V=B[1],X=C.distinctVals(N,U),q=X.vals,te=X.minDiff/2,ne,ce,Q,Z,re,Y,oe=(T.boxpoints||T.points)==="all"?C.identity:function(Mt){return Mt.v<ne.lf||Mt.v>ne.uf};if(T._hasPreCompStats){var ue=T[_],K=function(Mt){return O.d2c((T[Mt]||[])[E])},$=1/0,le=-1/0;for(E=0;E<T._length;E++){var ae=N[E];if(g(ae)){if(ne={},ne.pos=ne[z]=ae,F&&V&&(ne.orig_p=V[E]),ne.q1=K("q1"),ne.med=K("median"),ne.q3=K("q3"),ce=[],ue&&C.isArrayOrTypedArray(ue[E]))for(w=0;w<ue[E].length;w++)Y=O.d2c(ue[E][w]),Y!==S&&(re={v:Y,i:[E,w]},n(re,T,[E,w]),ce.push(re));if(ne.pts=ce.sort(u),Q=ne[_]=ce.map(l),Z=Q.length,ne.med!==S&&ne.q1!==S&&ne.q3!==S&&ne.med>=ne.q1&&ne.q3>=ne.med){var he=K("lowerfence");ne.lf=he!==S&&he<=ne.q1?he:m(ne,Q,Z);var xe=K("upperfence");ne.uf=xe!==S&&xe>=ne.q3?xe:c(ne,Q,Z);var Me=K("mean");ne.mean=Me!==S?Me:Z?C.mean(Q,Z):(ne.q1+ne.q3)/2;var Ae=K("sd");ne.sd=Me!==S&&Ae>=0?Ae:Z?C.stdev(Q,Z,ne.mean):ne.q3-ne.q1,ne.lo=A(ne),ne.uo=h(ne);var ke=K("notchspan");ke=ke!==S&&ke>0?ke:o(ne,Z),ne.ln=ne.med-ke,ne.un=ne.med+ke;var we=ne.lf,Ee=ne.uf;T.boxpoints&&Q.length&&(we=Math.min(we,Q[0]),Ee=Math.max(Ee,Q[Z-1])),T.notched&&(we=Math.min(we,ne.ln),Ee=Math.max(Ee,ne.un)),ne.min=we,ne.max=Ee}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ne.q1,"median = "+ne.med,"q3 = "+ne.q3].join(`
`));var be;ne.med!==S?be=ne.med:ne.q1!==S?ne.q3!==S?be=(ne.q1+ne.q3)/2:be=ne.q1:ne.q3!==S?be=ne.q3:be=0,ne.med=be,ne.q1=ne.q3=be,ne.lf=ne.uf=be,ne.mean=ne.sd=be,ne.ln=ne.un=be,ne.min=ne.max=be}$=Math.min($,ne.min),le=Math.max(le,ne.max),ne.pts2=ce.filter(oe),M.push(ne)}}T._extremes[O._id]=R.findExtremes(O,[$,le],{padded:!0})}else{var Le=O.makeCalcdata(T,_),Ue=r(q,te),Ve=q.length,Fe=t(Ve);for(E=0;E<T._length;E++)if(Y=Le[E],!!g(Y)){var He=C.findBin(N[E],Ue);He>=0&&He<Ve&&(re={v:Y,i:E},n(re,T,E),Fe[He].push(re))}var st=1/0,vt=-1/0,lt=T.quartilemethod,et=lt==="exclusive",ct=lt==="inclusive";for(E=0;E<Ve;E++)if(Fe[E].length>0){if(ne={},ne.pos=ne[z]=q[E],ce=ne.pts=Fe[E].sort(u),Q=ne[_]=ce.map(l),Z=Q.length,ne.min=Q[0],ne.max=Q[Z-1],ne.mean=C.mean(Q,Z),ne.sd=C.stdev(Q,Z,ne.mean)*T.sdmultiple,ne.med=C.interp(Q,.5),Z%2&&(et||ct)){var ht,mt;et?(ht=Q.slice(0,Z/2),mt=Q.slice(Z/2+1)):ct&&(ht=Q.slice(0,Z/2+1),mt=Q.slice(Z/2)),ne.q1=C.interp(ht,.5),ne.q3=C.interp(mt,.5)}else ne.q1=C.interp(Q,.25),ne.q3=C.interp(Q,.75);ne.lf=m(ne,Q,Z),ne.uf=c(ne,Q,Z),ne.lo=A(ne),ne.uo=h(ne);var xt=o(ne,Z);ne.ln=ne.med-xt,ne.un=ne.med+xt,st=Math.min(st,ne.ln),vt=Math.max(vt,ne.un),ne.pts2=ce.filter(oe),M.push(ne)}T.notched&&C.isTypedArray(Le)&&(Le=Array.from(Le)),T._extremes[O._id]=R.findExtremes(O,T.notched?Le.concat([st,vt]):Le,{padded:!0})}return f(M,T),M.length>0?(M[0].t={num:P[s],dPos:te,posLetter:z,valLetter:_,labels:{med:v(b,"median:"),min:v(b,"min:"),q1:v(b,"q1:"),q3:v(b,"q3:"),max:v(b,"max:"),mean:T.boxmean==="sd"||T.sizemode==="sd"?v(b,"mean  :").replace("",T.sdmultiple===1?"":T.sdmultiple+""):v(b,"mean:"),lf:v(b,"lower fence:"),uf:v(b,"upper fence:")}},P[s]++,M):[{t:{empty:!0}}]};function d(p,b,T,P){var x=b in p,L=b+"0"in p,M="d"+b in p;if(x||L&&M){var s=T.makeCalcdata(p,b),E=a(p,T,b,s).vals;return[E,s]}var w;L?w=p[b+"0"]:"name"in p&&(T.type==="category"||g(p.name)&&["linear","log"].indexOf(T.type)!==-1||C.isDateTime(p.name)&&T.type==="date")?w=p.name:w=P;for(var O=T.type==="multicategory"?T.r2c_just_indices(w):T.d2c(w,0,p[b+"calendar"]),_=p._length,U=new Array(_),z=0;z<_;z++)U[z]=O;return[U]}function r(p,b){for(var T=p.length,P=new Array(T+1),x=0;x<T;x++)P[x]=p[x]-b;return P[T]=p[T-1]+b,P}function t(p){for(var b=new Array(p),T=0;T<p;T++)b[T]=[];return b}var i={text:"tx",hovertext:"htx"};function n(p,b,T){for(var P in i)C.isArrayOrTypedArray(b[P])&&(Array.isArray(T)?C.isArrayOrTypedArray(b[P][T[0]])&&(p[i[P]]=b[P][T[0]][T[1]]):p[i[P]]=b[P][T])}function f(p,b){if(C.isArrayOrTypedArray(b.selectedpoints))for(var T=0;T<p.length;T++){for(var P=p[T].pts||[],x={},L=0;L<P.length;L++)x[P[L].i]=L;C.tagSelected(P,b,x)}}function u(p,b){return p.v-b.v}function l(p){return p.v}function m(p,b,T){return T===0?p.q1:Math.min(p.q1,b[Math.min(C.findBin(2.5*p.q1-1.5*p.q3,b,!0)+1,T-1)])}function c(p,b,T){return T===0?p.q3:Math.max(p.q3,b[Math.max(C.findBin(2.5*p.q3-1.5*p.q1,b),0)])}function A(p){return 4*p.q1-3*p.q3}function h(p){return 4*p.q3-3*p.q1}function o(p,b){return b===0?0:1.57*(p.q3-p.q1)/Math.sqrt(b)}},96404:function(H,G,e){var g=e(54460),R=e(3400),a=e(71888).getAxisGroup,C=["v","h"];function S(d,r){for(var t=d.calcdata,i=r.xaxis,n=r.yaxis,f=0;f<C.length;f++){for(var u=C[f],l=u==="h"?n:i,m=[],c=0;c<t.length;c++){var A=t[c],h=A[0].t,o=A[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!h.empty&&(o.orientation||"v")===u&&o.xaxis===i._id&&o.yaxis===n._id&&m.push(c)}v("box",d,m,l)}}function v(d,r,t,i){var n=r.calcdata,f=r._fullLayout,u=i._id,l=u.charAt(0),m,c,A,h=[],o=0;for(m=0;m<t.length;m++)for(A=n[t[m]],c=0;c<A.length;c++)h.push(i.c2l(A[c].pos,!0)),o+=(A[c].pts2||[]).length;if(h.length){var p=R.distinctVals(h);(i.type==="category"||i.type==="multicategory")&&(p.minDiff=1);var b=p.minDiff/2;g.minDtick(i,p.minDiff,p.vals[0],!0);var T=d==="violin"?"_numViolins":"_numBoxes",P=f[T],x=f[d+"mode"]==="group"&&P>1,L=1-f[d+"gap"],M=1-f[d+"groupgap"];for(m=0;m<t.length;m++){A=n[t[m]];var s=A[0].trace,E=A[0].t,w=s.width,O=s.side,_,U,z,F;if(w)_=U=F=w/2,z=0;else if(_=b,x){var B=a(f,i._id)+s.orientation,N=f._alignmentOpts[B]||{},V=N[s.alignmentgroup]||{},X=Object.keys(V.offsetGroups||{}).length,q=X||P,te=X?s._offsetIndex:E.num;U=_*L*M/q,z=2*_*(-.5+(te+.5)/q)*L,F=_*L/q}else U=_*L*M,z=0,F=_;E.dPos=_,E.bPos=z,E.bdPos=U,E.wHover=F;var ne,ce,Q=z+U,Z,re,Y,oe,ue,K,$=!!w,le=(s.boxpoints||s.points)&&o>0;if(O==="positive"?(ne=_*(w?1:.5),Z=Q,ce=Z=z):O==="negative"?(ne=Z=z,ce=_*(w?1:.5),re=Q):(ne=ce=_,Z=re=Q),le){var ae=s.pointpos,he=s.jitter,xe=s.marker.size/2,Me=0;ae+he>=0&&(Me=Q*(ae+he),Me>ne?($=!0,ue=xe,Y=Me):Me>Z&&(ue=xe,Y=ne)),Me<=ne&&(Y=ne);var Ae=0;ae-he<=0&&(Ae=-Q*(ae-he),Ae>ce?($=!0,K=xe,oe=Ae):Ae>re&&(K=xe,oe=ce)),Ae<=ce&&(oe=ce)}else Y=ne,oe=ce;var ke=new Array(A.length);for(c=0;c<A.length;c++)ke[c]=A[c].pos;s._extremes[u]=g.findExtremes(i,ke,{padded:$,vpadminus:oe,vpadplus:Y,vpadLinearized:!0,ppadminus:{x:K,y:ue}[l],ppadplus:{x:ue,y:K}[l]})}}}H.exports={crossTraceCalc:S,setPositionOffset:v}},90624:function(H,G,e){var g=e(3400),R=e(24040),a=e(76308),C=e(31147),S=e(20011),v=e(52976),d=e(63188);function r(f,u,l,m){function c(M,s){return g.coerce(f,u,d,M,s)}if(t(f,u,c,m),u.visible!==!1){C(f,u,m,c),c("xhoverformat"),c("yhoverformat");var A=u._hasPreCompStats;A&&(c("lowerfence"),c("upperfence")),c("line.color",(f.marker||{}).color||l),c("line.width"),c("fillcolor",a.addOpacity(u.line.color,.5));var h=!1;if(A){var o=c("mean"),p=c("sd");o&&o.length&&(h=!0,p&&p.length&&(h="sd"))}c("whiskerwidth");var b=c("sizemode"),T;b==="quartiles"&&(T=c("boxmean",h)),c("showwhiskers",b==="quartiles"),(b==="sd"||T==="sd")&&c("sdmultiple"),c("width"),c("quartilemethod");var P=!1;if(A){var x=c("notchspan");x&&x.length&&(P=!0)}else g.validate(f.notchwidth,d.notchwidth)&&(P=!0);var L=c("notched",P);L&&c("notchwidth"),i(f,u,c,{prefix:"box"}),c("zorder")}}function t(f,u,l,m){function c(X){var q=0;return X&&X.length&&(q+=1,g.isArrayOrTypedArray(X[0])&&X[0].length&&(q+=1)),q}function A(X){return g.validate(f[X],d[X])}var h=l("y"),o=l("x"),p;if(u.type==="box"){var b=l("q1"),T=l("median"),P=l("q3");u._hasPreCompStats=b&&b.length&&T&&T.length&&P&&P.length,p=Math.min(g.minRowLength(b),g.minRowLength(T),g.minRowLength(P))}var x=c(h),L=c(o),M=x&&g.minRowLength(h),s=L&&g.minRowLength(o),E=m.calendar,w={autotypenumbers:m.autotypenumbers},O,_;if(u._hasPreCompStats)switch(String(L)+String(x)){case"00":var U=A("x0")||A("dx"),z=A("y0")||A("dy");z&&!U?O="h":O="v",_=p;break;case"10":O="v",_=Math.min(p,s);break;case"20":O="h",_=Math.min(p,o.length);break;case"01":O="h",_=Math.min(p,M);break;case"02":O="v",_=Math.min(p,h.length);break;case"12":O="v",_=Math.min(p,s,h.length);break;case"21":O="h",_=Math.min(p,o.length,M);break;case"11":_=0;break;case"22":var F=!1,B;for(B=0;B<o.length;B++)if(v(o[B],E,w)==="category"){F=!0;break}if(F)O="v",_=Math.min(p,s,h.length);else{for(B=0;B<h.length;B++)if(v(h[B],E,w)==="category"){F=!0;break}F?(O="h",_=Math.min(p,o.length,M)):(O="v",_=Math.min(p,s,h.length))}break}else x>0?(O="v",L>0?_=Math.min(s,M):_=Math.min(M)):L>0?(O="h",_=Math.min(s)):_=0;if(!_){u.visible=!1;return}u._length=_;var N=l("orientation",O);u._hasPreCompStats?N==="v"&&L===0?(l("x0",0),l("dx",1)):N==="h"&&x===0&&(l("y0",0),l("dy",1)):N==="v"&&L===0?l("x0"):N==="h"&&x===0&&l("y0");var V=R.getComponentMethod("calendars","handleTraceDefaults");V(f,u,["x","y"],m)}function i(f,u,l,m){var c=m.prefix,A=g.coerce2(f,u,d,"marker.outliercolor"),h=l("marker.line.outliercolor"),o="outliers";u._hasPreCompStats?o="all":(A||h)&&(o="suspectedoutliers");var p=l(c+"points",o);p?(l("jitter",p==="all"?.3:0),l("pointpos",p==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),p==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var b=l("hoveron");(b==="all"||b.indexOf("points")!==-1)&&l("hovertemplate"),g.coerceSelectionMarkerOpacity(u,l)}function n(f,u){var l,m;function c(o){return g.coerce(m._input,m,d,o)}for(var A=0;A<f.length;A++){m=f[A];var h=m.type;(h==="box"||h==="violin")&&(l=m._input,u[h+"mode"]==="group"&&S(l,m,u,c))}}H.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(H){H.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},27576:function(H,G,e){var g=e(54460),R=e(3400),a=e(93024),C=e(76308),S=R.fillText;function v(t,i,n,f){var u=t.cd,l=u[0].trace,m=l.hoveron,c=[],A;return m.indexOf("boxes")!==-1&&(c=c.concat(d(t,i,n,f))),m.indexOf("points")!==-1&&(A=r(t,i,n)),f==="closest"?A?[A]:c:(A&&c.push(A),c)}function d(t,i,n,f){var u=t.cd,l=t.xa,m=t.ya,c=u[0].trace,A=u[0].t,h=c.type==="violin",o,p,b,T,P,x,L,M,s,E,w,O=A.bdPos,_,U,z=A.wHover,F=function(Ae){return b.c2l(Ae.pos)+A.bPos-b.c2l(x)};h&&c.side!=="both"?(c.side==="positive"&&(s=function(Ae){var ke=F(Ae);return a.inbox(ke,ke+z,E)},_=O,U=0),c.side==="negative"&&(s=function(Ae){var ke=F(Ae);return a.inbox(ke-z,ke,E)},_=0,U=O)):(s=function(Ae){var ke=F(Ae);return a.inbox(ke-z,ke+z,E)},_=U=O);var B;h?B=function(Ae){return a.inbox(Ae.span[0]-P,Ae.span[1]-P,E)}:B=function(Ae){return a.inbox(Ae.min-P,Ae.max-P,E)},c.orientation==="h"?(P=i,x=n,L=B,M=s,o="y",b=m,p="x",T=l):(P=n,x=i,L=s,M=B,o="x",b=l,p="y",T=m);var N=Math.min(1,O/Math.abs(b.r2c(b.range[1])-b.r2c(b.range[0])));E=t.maxHoverDistance-N,w=t.maxSpikeDistance-N;function V(Ae){return(L(Ae)+M(Ae))/2}var X=a.getDistanceFunction(f,L,M,V);if(a.getClosest(u,X,t),t.index===!1)return[];var q=u[t.index],te=c.line.color,ne=(c.marker||{}).color;C.opacity(te)&&c.line.width?t.color=te:C.opacity(ne)&&c.boxpoints?t.color=ne:t.color=c.fillcolor,t[o+"0"]=b.c2p(q.pos+A.bPos-U,!0),t[o+"1"]=b.c2p(q.pos+A.bPos+_,!0),t[o+"LabelVal"]=q.orig_p!==void 0?q.orig_p:q.pos;var ce=o+"Spike";t.spikeDistance=V(q)*w/E,t[ce]=b.c2p(q.pos,!0);var Q=c.boxmean||c.sizemode==="sd"||(c.meanline||{}).visible,Z=c.boxpoints||c.points,re=Z&&Q?["max","uf","q3","med","mean","q1","lf","min"]:Z&&!Q?["max","uf","q3","med","q1","lf","min"]:!Z&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Y=T.range[1]<T.range[0];c.orientation===(Y?"v":"h")&&re.reverse();for(var oe=t.spikeDistance,ue=t[ce],K=[],$=0;$<re.length;$++){var le=re[$];if(le in q){var ae=q[le],he=T.c2p(ae,!0),xe=R.extendFlat({},t);xe.attr=le,xe[p+"0"]=xe[p+"1"]=he,xe[p+"LabelVal"]=ae,xe[p+"Label"]=(A.labels?A.labels[le]+" ":"")+g.hoverLabelText(T,ae,c[p+"hoverformat"]),xe.hoverOnBox=!0,le==="mean"&&"sd"in q&&(c.boxmean==="sd"||c.sizemode==="sd")&&(xe[p+"err"]=q.sd),xe.hovertemplate=!1,K.push(xe)}}t.name="",t.spikeDistance=void 0,t[ce]=void 0;for(var Me=0;Me<K.length;Me++)K[Me].attr!=="med"?(K[Me].name="",K[Me].spikeDistance=void 0,K[Me][ce]=void 0):(K[Me].spikeDistance=oe,K[Me][ce]=ue);return K}function r(t,i,n){for(var f=t.cd,u=t.xa,l=t.ya,m=f[0].trace,c=u.c2p(i),A=l.c2p(n),h,o=function(B){var N=Math.max(3,B.mrc||0);return Math.max(Math.abs(u.c2p(B.x)-c)-N,1-3/N)},p=function(B){var N=Math.max(3,B.mrc||0);return Math.max(Math.abs(l.c2p(B.y)-A)-N,1-3/N)},b=a.quadrature(o,p),T=!1,P,x,L=0;L<f.length;L++){P=f[L];for(var M=0;M<(P.pts||[]).length;M++){x=P.pts[M];var s=b(x);s<=t.distance&&(t.distance=s,T=[L,M])}}if(!T)return!1;P=f[T[0]],x=P.pts[T[1]];var E=u.c2p(x.x,!0),w=l.c2p(x.y,!0),O=x.mrc||1;h=R.extendFlat({},t,{index:x.i,color:(m.marker||{}).color,name:m.name,x0:E-O,x1:E+O,y0:w-O,y1:w+O,spikeDistance:t.distance,hovertemplate:m.hovertemplate});var _=P.orig_p,U=_!==void 0?_:P.pos,z;m.orientation==="h"?(z=l,h.xLabelVal=x.x,h.yLabelVal=U):(z=u,h.xLabelVal=U,h.yLabelVal=x.y);var F=z._id.charAt(0);return h[F+"Spike"]=z.c2p(P.pos,!0),S(x,m,h),h}H.exports={hoverPoints:v,hoverOnBoxes:d,hoverOnPoints:r}},67244:function(H,G,e){H.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(H){H.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(H,G,e){var g=e(24040),R=e(3400),a=e(16560);function C(v,d,r,t,i){for(var n=i+"Layout",f=!1,u=0;u<r.length;u++){var l=r[u];if(g.traceIs(l,n)){f=!0;break}}f&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}function S(v,d,r){function t(i,n){return R.coerce(v,d,a,i,n)}C(v,d,r,t,"box")}H.exports={supplyLayoutDefaults:S,_supply:C}},18728:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=5,S=.01;function v(i,n,f,u){var l=i._context.staticPlot,m=n.xaxis,c=n.yaxis;R.makeTraceGroups(u,f,"trace boxes").each(function(A){var h=g.select(this),o=A[0],p=o.t,b=o.trace;if(p.wdPos=p.bdPos*b.whiskerwidth,b.visible!==!0||p.empty){h.remove();return}var T,P;b.orientation==="h"?(T=c,P=m):(T=m,P=c),d(h,{pos:T,val:P},b,p,l),r(h,{x:m,y:c},b,p),t(h,{pos:T,val:P},b,p)})}function d(i,n,f,u,l){var m=f.orientation==="h",c=n.val,A=n.pos,h=!!A.rangebreaks,o=u.bPos,p=u.wdPos||0,b=u.bPosPxOffset||0,T=f.whiskerwidth||0,P=f.showwhiskers!==!1,x=f.notched||!1,L=x?1-2*f.notchwidth:1,M,s;Array.isArray(u.bdPos)?(M=u.bdPos[0],s=u.bdPos[1]):(M=u.bdPos,s=u.bdPos);var E=i.selectAll("path.box").data(f.type!=="violin"||f.box.visible?R.identity:[]);E.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),E.exit().remove(),E.each(function(w){if(w.empty)return g.select(this).attr("d","M0,0Z");var O=A.c2l(w.pos+o,!0),_=A.l2p(O-M)+b,U=A.l2p(O+s)+b,z=h?(_+U)/2:A.l2p(O)+b,F=f.whiskerwidth,B=h?_*F+(1-F)*z:A.l2p(O-p)+b,N=h?U*F+(1-F)*z:A.l2p(O+p)+b,V=A.l2p(O-M*L)+b,X=A.l2p(O+s*L)+b,q=f.sizemode==="sd",te=c.c2p(q?w.mean-w.sd:w.q1,!0),ne=q?c.c2p(w.mean+w.sd,!0):c.c2p(w.q3,!0),ce=R.constrain(q?c.c2p(w.mean,!0):c.c2p(w.med,!0),Math.min(te,ne)+1,Math.max(te,ne)-1),Q=w.lf===void 0||f.boxpoints===!1||q,Z=c.c2p(Q?w.min:w.lf,!0),re=c.c2p(Q?w.max:w.uf,!0),Y=c.c2p(w.ln,!0),oe=c.c2p(w.un,!0);m?g.select(this).attr("d","M"+ce+","+V+"V"+X+"M"+te+","+_+"V"+U+(x?"H"+Y+"L"+ce+","+X+"L"+oe+","+U:"")+"H"+ne+"V"+_+(x?"H"+oe+"L"+ce+","+V+"L"+Y+","+_:"")+"Z"+(P?"M"+te+","+z+"H"+Z+"M"+ne+","+z+"H"+re+(T===0?"":"M"+Z+","+B+"V"+N+"M"+re+","+B+"V"+N):"")):g.select(this).attr("d","M"+V+","+ce+"H"+X+"M"+_+","+te+"H"+U+(x?"V"+Y+"L"+X+","+ce+"L"+U+","+oe:"")+"V"+ne+"H"+_+(x?"V"+oe+"L"+V+","+ce+"L"+_+","+Y:"")+"Z"+(P?"M"+z+","+te+"V"+Z+"M"+z+","+ne+"V"+re+(T===0?"":"M"+B+","+Z+"H"+N+"M"+B+","+re+"H"+N):""))})}function r(i,n,f,u){var l=n.x,m=n.y,c=u.bdPos,A=u.bPos,h=f.boxpoints||f.points;R.seedPseudoRandom();var o=function(T){return T.forEach(function(P){P.t=u,P.trace=f}),T},p=i.selectAll("g.points").data(h?o:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var b=p.selectAll("path").data(function(T){var P,x=T.pts2,L=Math.max((T.max-T.min)/10,T.q3-T.q1),M=L*1e-9,s=L*S,E=[],w=0,O;if(f.jitter){if(L===0)for(w=1,E=new Array(x.length),P=0;P<x.length;P++)E[P]=1;else for(P=0;P<x.length;P++){var _=Math.max(0,P-C),U=x[_].v,z=Math.min(x.length-1,P+C),F=x[z].v;h!=="all"&&(x[P].v<T.lf?F=Math.min(F,T.lf):U=Math.max(U,T.uf));var B=Math.sqrt(s*(z-_)/(F-U+M))||0;B=R.constrain(Math.abs(B),0,1),E.push(B),w=Math.max(B,w)}O=f.jitter*2/(w||1)}for(P=0;P<x.length;P++){var N=x[P],V=N.v,X=f.jitter?O*E[P]*(R.pseudoRandom()-.5):0,q=T.pos+A+c*(f.pointpos+X);f.orientation==="h"?(N.y=q,N.x=V):(N.x=q,N.y=V),h==="suspectedoutliers"&&V<T.uo&&V>T.lo&&(N.so=!0)}return x});b.enter().append("path").classed("point",!0),b.exit().remove(),b.call(a.translatePoints,l,m)}function t(i,n,f,u){var l=n.val,m=n.pos,c=!!m.rangebreaks,A=u.bPos,h=u.bPosPxOffset||0,o=f.boxmean||(f.meanline||{}).visible,p,b;Array.isArray(u.bdPos)?(p=u.bdPos[0],b=u.bdPos[1]):(p=u.bdPos,b=u.bdPos);var T=i.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?R.identity:[]);T.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),T.exit().remove(),T.each(function(P){var x=m.c2l(P.pos+A,!0),L=m.l2p(x-p)+h,M=m.l2p(x+b)+h,s=c?(L+M)/2:m.l2p(x)+h,E=l.c2p(P.mean,!0),w=l.c2p(P.mean-P.sd,!0),O=l.c2p(P.mean+P.sd,!0);f.orientation==="h"?g.select(this).attr("d","M"+E+","+L+"V"+M+(o==="sd"?"m0,0L"+w+","+s+"L"+E+","+L+"L"+O+","+s+"Z":"")):g.select(this).attr("d","M"+L+","+E+"H"+M+(o==="sd"?"m0,0L"+s+","+w+"L"+L+","+E+"L"+s+","+O+"Z":""))})}H.exports={plot:v,plotBoxAndWhiskers:d,plotPoints:r,plotBoxMean:t}},8264:function(H){H.exports=function(e,g){var R=e.cd,a=e.xaxis,C=e.yaxis,S=[],v,d;if(g===!1)for(v=0;v<R.length;v++)for(d=0;d<(R[v].pts||[]).length;d++)R[v].pts[d].selected=0;else for(v=0;v<R.length;v++)for(d=0;d<(R[v].pts||[]).length;d++){var r=R[v].pts[d],t=a.c2p(r.x),i=C.c2p(r.y);g.contains([t,i],null,r.i,e)?(S.push({pointNumber:r.i,x:a.c2d(r.x),y:C.c2d(r.y)}),r.selected=1):r.selected=0}return S}},25776:function(H,G,e){var g=e(33428),R=e(76308),a=e(43616);function C(v,d,r){var t=r||g.select(v).selectAll("g.trace.boxes");t.style("opacity",function(i){return i[0].trace.opacity}),t.each(function(i){var n=g.select(this),f=i[0].trace,u=f.line.width;function l(A,h,o,p){A.style("stroke-width",h+"px").call(R.stroke,o).call(R.fill,p)}var m=n.selectAll("path.box");if(f.type==="candlestick")m.each(function(A){if(!A.empty){var h=g.select(this),o=f[A.dir];l(h,o.line.width,o.line.color,o.fillcolor),h.style("opacity",f.selectedpoints&&!A.selected?.3:1)}});else{l(m,u,f.line.color,f.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(R.stroke,f.line.color);var c=n.selectAll("path.point");a.pointStyle(c,f,v)}})}function S(v,d,r){var t=d[0].trace,i=r.selectAll("path.point");t.selectedpoints?a.selectedPointStyle(i,t):a.pointStyle(i,t,v)}H.exports={style:C,styleOnSelect:S}},64216:function(H,G,e){var g=e(3400).extendFlat,R=e(29736).axisHoverFormat,a=e(20279),C=e(63188);function S(v){return{line:{color:g({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}H.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:g({},C.line.width,{}),editType:"style"},increasing:S(a.increasing.line.color.dflt),decreasing:S(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:g({},C.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel,zorder:C.zorder}},46283:function(H,G,e){var g=e(3400),R=e(54460),a=e(1220),C=e(42812).calcCommon;H.exports=function(v,d){var r=v._fullLayout,t=R.getFromId(v,d.xaxis),i=R.getFromId(v,d.yaxis),n=t.makeCalcdata(d,"x"),f=a(d,t,"x",n).vals,u=C(v,d,n,f,i,S);return u.length?(g.extendFlat(u[0].t,{num:r._numBoxes,dPos:g.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function S(v,d,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:d}}},64588:function(H,G,e){var g=e(3400),R=e(76308),a=e(52744),C=e(31147),S=e(64216);H.exports=function(r,t,i,n){function f(l,m){return g.coerce(r,t,S,l,m)}var u=a(r,t,f,n);if(!u){t.visible=!1;return}C(r,t,n,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(r,t,f,"increasing"),v(r,t,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,f("zorder")};function v(d,r,t,i){var n=t(i+".line.color");t(i+".line.width",r.line.width),t(i+".fillcolor",R.addOpacity(n,.5))}},61712:function(H,G,e){H.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(H,G,e){var g=e(63856),R=e(31780);H.exports=function(S,v,d,r,t){var i=r("a");i||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),a(S,v,d,t)};function a(C,S,v,d){var r=["aaxis","baxis"];r.forEach(function(t){var i=t.charAt(0),n=C[t]||{},f=R.newContainer(S,t),u={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:i+"axis",letter:i,font:S.font,name:t,data:C[i],calendar:S.calendar,dfltColor:d,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,f,u),f._categories=f._categories||[],!C[t]&&n.type!=="-"&&(C[t]={type:n.type})})}},51676:function(H,G,e){var g=e(3400).isArrayOrTypedArray;H.exports=function(a){return R(a,0)};function R(a,C){if(!g(a)||C>=10)return null;for(var S=1/0,v=-1/0,d=a.length,r=0;r<d;r++){var t=a[r];if(g(t)){var i=R(t,C+1);i&&(S=Math.min(i[0],S),v=Math.max(i[1],v))}else S=Math.min(t,S),v=Math.max(t,v)}return[S,v]}},85720:function(H,G,e){var g=e(25376),R=e(98692),a=e(22548),C=g({editType:"calc"}),S=e(52904).zorder;C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=a.defaultLine,H.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:R,baxis:R,font:C,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0,zorder:S}},77712:function(H,G,e){var g=e(3400).isArrayOrTypedArray;H.exports=function(R,a,C,S){var v,d,r,t,i,n,f,u,l,m,c,A,h,o=g(C)?"a":"b",p=o==="a"?R.aaxis:R.baxis,b=p.smoothing,T=o==="a"?R.a2i:R.b2j,P=o==="a"?C:S,x=o==="a"?S:C,L=o==="a"?a.a.length:a.b.length,M=o==="a"?a.b.length:a.a.length,s=Math.floor(o==="a"?R.b2j(x):R.a2i(x)),E=o==="a"?function(te){return R.evalxy([],te,s)}:function(te){return R.evalxy([],s,te)};b&&(r=Math.max(0,Math.min(M-2,s)),t=s-r,d=o==="a"?function(te,ne){return R.dxydi([],te,r,ne,t)}:function(te,ne){return R.dxydj([],r,te,t,ne)});var w=T(P[0]),O=T(P[1]),_=w<O?1:-1,U=(O-w)*1e-8,z=_>0?Math.floor:Math.ceil,F=_>0?Math.ceil:Math.floor,B=_>0?Math.min:Math.max,N=_>0?Math.max:Math.min,V=z(w+U),X=F(O-U);f=E(w);var q=[[f]];for(v=V;v*_<X*_;v+=_)i=[],c=N(w,v),A=B(O,v+_),h=A-c,n=Math.max(0,Math.min(L-2,Math.floor(.5*(c+A)))),u=E(A),b&&(l=d(n,c-n),m=d(n,A-n),i.push([f[0]+l[0]/3*h,f[1]+l[1]/3*h]),i.push([u[0]-m[0]/3*h,u[1]-m[1]/3*h])),i.push(u),q.push(i),f=u;return q}},98692:function(H,G,e){var g=e(25376),R=e(22548),a=e(94724),C=e(29736).descriptionWithDates,S=e(67824).overrideAll,v=e(98192).u,d=e(92880).extendFlat;H.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:d({},a.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:S(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:R.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:d({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:d({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:R.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(H,G,e){var g=e(85720),R=e(76308).addOpacity,a=e(24040),C=e(3400),S=e(26332),v=e(95936),d=e(42568),r=e(22416),t=e(78344),i=e(52976);H.exports=function(u,l,m){var c=m.letter,A=m.font||{},h=g[c+"axis"];function o(V,X){return C.coerce(u,l,h,V,X)}function p(V,X){return C.coerce2(u,l,h,V,X)}m.name&&(l._name=m.name,l._id=m.name),o("autotypenumbers",m.autotypenumbersDflt);var b=o("type");if(b==="-"&&(m.data&&n(l,m.data),l.type==="-"?l.type="linear":b=u.type=l.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",c+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),l.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),l._hovertitle=c,b==="date"){var T=a.getComponentMethod("calendars","handleDefaults");T(u,l,"calendar",m.calendar)}t(l,m.fullLayout),l.c2p=C.identity;var P=o("color",m.dfltColor),x=P===u.color?P:A.color,L=o("title.text");L&&(C.coerceFont(o,"title.font",{weight:A.weight,style:A.style,variant:A.variant,family:A.family,size:C.bigFont(A.size),color:x}),o("title.offset")),o("tickangle");var M=o("autorange",!l.isValidRange(u.range));M&&o("rangemode"),o("range"),l.cleanRange(),o("fixedrange"),S(u,l,o,b),d(u,l,o,b,m),v(u,l,o,b,m),r(u,l,o,{data:m.data,dataAttr:c});var s=p("gridcolor",R(P,.3)),E=p("gridwidth"),w=p("griddash"),O=o("showgrid");O||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var _=p("startlinecolor",P),U=p("startlinewidth",E),z=o("startline",l.showgrid||!!_||!!U);z||(delete l.startlinecolor,delete l.startlinewidth);var F=p("endlinecolor",P),B=p("endlinewidth",E),N=o("endline",l.showgrid||!!F||!!B);return N||(delete l.endlinecolor,delete l.endlinewidth),O?(o("minorgridcount"),o("minorgridwidth",E),o("minorgriddash",w),o("minorgridcolor",R(s,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,o("tickmode"),l};function n(f,u){if(f.type==="-"){var l=f._id,m=l.charAt(0),c=m+"calendar",A=f[c];f.type=i(u,A,{autotypenumbers:f.autotypenumbers})}}},58744:function(H,G,e){var g=e(54460),R=e(3400).isArray1D,a=e(60776),C=e(51676),S=e(19216),v=e(14724),d=e(24944),r=e(26136),t=e(51512),i=e(2872),n=e(81e3);H.exports=function(u,l){var m=g.getFromId(u,l.xaxis),c=g.getFromId(u,l.yaxis),A=l.aaxis,h=l.baxis,o=l.x,p=l.y,b=[];o&&R(o)&&b.push("x"),p&&R(p)&&b.push("y"),b.length&&i(l,A,h,"a","b",b);var T=l._a=l._a||l.a,P=l._b=l._b||l.b;o=l._x||l.x,p=l._y||l.y;var x={};if(l._cheater){var L=A.cheatertype==="index"?T.length:T,M=h.cheatertype==="index"?P.length:P;o=a(L,M,l.cheaterslope)}l._x=o=r(o),l._y=p=r(p),t(o,T,P),t(p,T,P),n(l),l.setScale();var s=C(o),E=C(p),w=.5*(s[1]-s[0]),O=.5*(s[1]+s[0]),_=.5*(E[1]-E[0]),U=.5*(E[1]+E[0]),z=1.3;return s=[O-w*z,O+w*z],E=[U-_*z,U+_*z],l._extremes[m._id]=g.findExtremes(m,s,{padded:!0}),l._extremes[c._id]=g.findExtremes(c,E,{padded:!0}),S(l,"a","b"),S(l,"b","a"),v(l,A),v(l,h),x.clipsegments=d(l._xctrl,l._yctrl,A,h),x.x=o,x.y=p,x.a=T,x.b=P,[x]}},24944:function(H){H.exports=function(e,g,R,a){var C,S,v,d=[],r=!!R.smoothing,t=!!a.smoothing,i=e[0].length-1,n=e.length-1;for(C=0,S=[],v=[];C<=i;C++)S[C]=e[0][C],v[C]=g[0][C];for(d.push({x:S,y:v,bicubic:r}),C=0,S=[],v=[];C<=n;C++)S[C]=e[C][i],v[C]=g[C][i];for(d.push({x:S,y:v,bicubic:t}),C=i,S=[],v=[];C>=0;C--)S[i-C]=e[n][C],v[i-C]=g[n][C];for(d.push({x:S,y:v,bicubic:r}),C=n,S=[],v=[];C>=0;C--)S[n-C]=e[C][0],v[n-C]=g[C][0];return d.push({x:S,y:v,bicubic:t}),d}},19216:function(H,G,e){var g=e(54460),R=e(92880).extendFlat;H.exports=function(C,S,v){var d,r,t,i,n,f,u,l,m,c,A,h,o,p,b=C["_"+S],T=C[S+"axis"],P=T._gridlines=[],x=T._minorgridlines=[],L=T._boundarylines=[],M=C["_"+v],s=C[v+"axis"];T.tickmode==="array"&&(T.tickvals=b.slice());var E=C._xctrl,w=C._yctrl,O=E[0].length,_=E.length,U=C._a.length,z=C._b.length;g.prepTicks(T),T.tickmode==="array"&&delete T.tickvals;var F=T.smoothing?3:1;function B(V){var X,q,te,ne,ce,Q,Z,re,Y,oe,ue,K,$=[],le=[],ae={};if(S==="b")for(q=C.b2j(V),te=Math.floor(Math.max(0,Math.min(z-2,q))),ne=q-te,ae.length=z,ae.crossLength=U,ae.xy=function(he){return C.evalxy([],he,q)},ae.dxy=function(he,xe){return C.dxydi([],he,te,xe,ne)},X=0;X<U;X++)Q=Math.min(U-2,X),Z=X-Q,re=C.evalxy([],X,q),s.smoothing&&X>0&&(Y=C.dxydi([],X-1,te,0,ne),$.push(ce[0]+Y[0]/3),le.push(ce[1]+Y[1]/3),oe=C.dxydi([],X-1,te,1,ne),$.push(re[0]-oe[0]/3),le.push(re[1]-oe[1]/3)),$.push(re[0]),le.push(re[1]),ce=re;else for(X=C.a2i(V),Q=Math.floor(Math.max(0,Math.min(U-2,X))),Z=X-Q,ae.length=U,ae.crossLength=z,ae.xy=function(he){return C.evalxy([],X,he)},ae.dxy=function(he,xe){return C.dxydj([],Q,he,Z,xe)},q=0;q<z;q++)te=Math.min(z-2,q),ne=q-te,re=C.evalxy([],X,q),s.smoothing&&q>0&&(ue=C.dxydj([],Q,q-1,Z,0),$.push(ce[0]+ue[0]/3),le.push(ce[1]+ue[1]/3),K=C.dxydj([],Q,q-1,Z,1),$.push(re[0]-K[0]/3),le.push(re[1]-K[1]/3)),$.push(re[0]),le.push(re[1]),ce=re;return ae.axisLetter=S,ae.axis=T,ae.crossAxis=s,ae.value=V,ae.constvar=v,ae.index=l,ae.x=$,ae.y=le,ae.smoothing=s.smoothing,ae}function N(V){var X,q,te,ne,ce,Q=[],Z=[],re={};if(re.length=b.length,re.crossLength=M.length,S==="b")for(te=Math.max(0,Math.min(z-2,V)),ce=Math.min(1,Math.max(0,V-te)),re.xy=function(Y){return C.evalxy([],Y,V)},re.dxy=function(Y,oe){return C.dxydi([],Y,te,oe,ce)},X=0;X<O;X++)Q[X]=E[V*F][X],Z[X]=w[V*F][X];else for(q=Math.max(0,Math.min(U-2,V)),ne=Math.min(1,Math.max(0,V-q)),re.xy=function(Y){return C.evalxy([],V,Y)},re.dxy=function(Y,oe){return C.dxydj([],q,Y,ne,oe)},X=0;X<_;X++)Q[X]=E[X][V*F],Z[X]=w[X][V*F];return re.axisLetter=S,re.axis=T,re.crossAxis=s,re.value=b[V],re.constvar=v,re.index=V,re.x=Q,re.y=Z,re.smoothing=s.smoothing,re}if(T.tickmode==="array"){for(i=5e-15,n=[Math.floor((b.length-1-T.arraytick0)/T.arraydtick*(1+i)),Math.ceil(-T.arraytick0/T.arraydtick/(1+i))].sort(function(V,X){return V-X}),f=n[0]-1,u=n[1]+1,l=f;l<u;l++)r=T.arraytick0+T.arraydtick*l,!(r<0||r>b.length-1)&&P.push(R(N(r),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(l=f;l<u;l++)if(t=T.arraytick0+T.arraydtick*l,A=Math.min(t+T.arraydtick,b.length-1),!(t<0||t>b.length-1)&&!(A<0||A>b.length-1))for(h=b[t],o=b[A],d=0;d<T.minorgridcount;d++)p=A-t,!(p<=0)&&(c=h+(o-h)*(d+1)/(T.minorgridcount+1)*(T.arraydtick/p),!(c<b[0]||c>b[b.length-1])&&x.push(R(B(c),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash})));T.startline&&L.push(R(N(0),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&L.push(R(N(b.length-1),{color:T.endlinecolor,width:T.endlinewidth}))}else{for(i=5e-15,n=[Math.floor((b[b.length-1]-T.tick0)/T.dtick*(1+i)),Math.ceil((b[0]-T.tick0)/T.dtick/(1+i))].sort(function(V,X){return V-X}),f=n[0],u=n[1],l=f;l<=u;l++)m=T.tick0+T.dtick*l,P.push(R(B(m),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(l=f-1;l<u+1;l++)for(m=T.tick0+T.dtick*l,d=0;d<T.minorgridcount;d++)c=m+T.dtick*(d+1)/(T.minorgridcount+1),!(c<b[0]||c>b[b.length-1])&&x.push(R(B(c),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&L.push(R(B(b[0]),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&L.push(R(B(b[b.length-1]),{color:T.endlinecolor,width:T.endlinewidth}))}}},14724:function(H,G,e){var g=e(54460),R=e(92880).extendFlat;H.exports=function(C,S){var v,d,r,t,i,n=S._labels=[],f=S._gridlines;for(v=0;v<f.length;v++)i=f[v],["start","both"].indexOf(S.showticklabels)!==-1&&(d=g.tickText(S,i.value),R(d,{prefix:r,suffix:t,endAnchor:!0,xy:i.xy(0),dxy:i.dxy(0,0),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(d)),["end","both"].indexOf(S.showticklabels)!==-1&&(d=g.tickText(S,i.value),R(d,{endAnchor:!1,xy:i.xy(i.crossLength-1),dxy:i.dxy(i.crossLength-2,1),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(d))}},62284:function(H){var G=.5;H.exports=function(g,R,a,C){var S=g[0]-R[0],v=g[1]-R[1],d=a[0]-R[0],r=a[1]-R[1],t=Math.pow(S*S+v*v,G/2),i=Math.pow(d*d+r*r,G/2),n=(i*i*S-t*t*d)*C,f=(i*i*v-t*t*r)*C,u=i*(t+i)*3,l=t*(t+i)*3;return[[R[0]+(u&&n/u),R[1]+(u&&f/u)],[R[0]-(l&&n/l),R[1]-(l&&f/l)]]}},60776:function(H,G,e){var g=e(3400).isArrayOrTypedArray;H.exports=function(R,a,C){var S,v,d,r,t,i,n=[],f=g(R)?R.length:R,u=g(a)?a.length:a,l=g(R)?R:null,m=g(a)?a:null;l&&(d=(l.length-1)/(l[l.length-1]-l[0])/(f-1)),m&&(r=(m.length-1)/(m[m.length-1]-m[0])/(u-1));var c,A=1/0,h=-1/0;for(v=0;v<u;v++)for(n[v]=[],i=m?(m[v]-m[0])*r:v/(u-1),S=0;S<f;S++)t=l?(l[S]-l[0])*d:S/(f-1),c=t-i*C,A=Math.min(c,A),h=Math.max(c,h),n[v][S]=c;var o=1/(h-A),p=-A*o;for(v=0;v<u;v++)for(S=0;S<f;S++)n[v][S]=o*n[v][S]+p;return n}},30180:function(H,G,e){var g=e(62284),R=e(3400).ensureArray;function a(C,S,v){var d=-.5*v[0]+1.5*S[0],r=-.5*v[1]+1.5*S[1];return[(2*d+C[0])/3,(2*r+C[1])/3]}H.exports=function(S,v,d,r,t,i){var n,f,u,l,m,c,A,h,o,p,b=d[0].length,T=d.length,P=t?3*b-2:b,x=i?3*T-2:T;for(S=R(S,x),v=R(v,x),u=0;u<x;u++)S[u]=R(S[u],P),v[u]=R(v[u],P);for(f=0,l=0;f<T;f++,l+=i?3:1)for(m=S[l],c=v[l],A=d[f],h=r[f],n=0,u=0;n<b;n++,u+=t?3:1)m[u]=A[n],c[u]=h[n];if(t)for(f=0,l=0;f<T;f++,l+=i?3:1){for(n=1,u=3;n<b-1;n++,u+=3)o=g([d[f][n-1],r[f][n-1]],[d[f][n],r[f][n]],[d[f][n+1],r[f][n+1]],t),S[l][u-1]=o[0][0],v[l][u-1]=o[0][1],S[l][u+1]=o[1][0],v[l][u+1]=o[1][1];p=a([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=p[0],v[l][1]=p[1],p=a([S[l][P-1],v[l][P-1]],[S[l][P-3],v[l][P-3]],[S[l][P-4],v[l][P-4]]),S[l][P-2]=p[0],v[l][P-2]=p[1]}if(i)for(u=0;u<P;u++){for(l=3;l<x-3;l+=3)o=g([S[l-3][u],v[l-3][u]],[S[l][u],v[l][u]],[S[l+3][u],v[l+3][u]],i),S[l-1][u]=o[0][0],v[l-1][u]=o[0][1],S[l+1][u]=o[1][0],v[l+1][u]=o[1][1];p=a([S[0][u],v[0][u]],[S[2][u],v[2][u]],[S[3][u],v[3][u]]),S[1][u]=p[0],v[1][u]=p[1],p=a([S[x-1][u],v[x-1][u]],[S[x-3][u],v[x-3][u]],[S[x-4][u],v[x-4][u]]),S[x-2][u]=p[0],v[x-2][u]=p[1]}if(t&&i)for(l=1;l<x;l+=(l+1)%3===0?2:1){for(u=3;u<P-3;u+=3)o=g([S[l][u-3],v[l][u-3]],[S[l][u],v[l][u]],[S[l][u+3],v[l][u+3]],t),S[l][u-1]=.5*(S[l][u-1]+o[0][0]),v[l][u-1]=.5*(v[l][u-1]+o[0][1]),S[l][u+1]=.5*(S[l][u+1]+o[1][0]),v[l][u+1]=.5*(v[l][u+1]+o[1][1]);p=a([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=.5*(S[l][1]+p[0]),v[l][1]=.5*(v[l][1]+p[1]),p=a([S[l][P-1],v[l][P-1]],[S[l][P-3],v[l][P-3]],[S[l][P-4],v[l][P-4]]),S[l][P-2]=.5*(S[l][P-2]+p[0]),v[l][P-2]=.5*(v[l][P-2]+p[1])}return[S,v]}},24588:function(H){H.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(H){H.exports=function(G,e,g){return e&&g?function(R,a,C,S,v){R||(R=[]);var d,r,t,i,n,f;a*=3,C*=3;var u=S*S,l=1-S,m=l*l,c=l*S*2,A=-3*m,h=3*(m-c),o=3*(c-u),p=3*u,b=v*v,T=b*v,P=1-v,x=P*P,L=x*P;for(f=0;f<G.length;f++)n=G[f],d=A*n[C][a]+h*n[C][a+1]+o*n[C][a+2]+p*n[C][a+3],r=A*n[C+1][a]+h*n[C+1][a+1]+o*n[C+1][a+2]+p*n[C+1][a+3],t=A*n[C+2][a]+h*n[C+2][a+1]+o*n[C+2][a+2]+p*n[C+2][a+3],i=A*n[C+3][a]+h*n[C+3][a+1]+o*n[C+3][a+2]+p*n[C+3][a+3],R[f]=L*d+3*(x*v*r+P*b*t)+T*i;return R}:e?function(R,a,C,S,v){R||(R=[]);var d,r,t,i;a*=3;var n=S*S,f=1-S,u=f*f,l=f*S*2,m=-3*u,c=3*(u-l),A=3*(l-n),h=3*n,o=1-v;for(t=0;t<G.length;t++)i=G[t],d=m*i[C][a]+c*i[C][a+1]+A*i[C][a+2]+h*i[C][a+3],r=m*i[C+1][a]+c*i[C+1][a+1]+A*i[C+1][a+2]+h*i[C+1][a+3],R[t]=o*d+v*r;return R}:g?function(R,a,C,S,v){R||(R=[]);var d,r,t,i,n,f;C*=3;var u=v*v,l=u*v,m=1-v,c=m*m,A=c*m;for(n=0;n<G.length;n++)f=G[n],d=f[C][a+1]-f[C][a],r=f[C+1][a+1]-f[C+1][a],t=f[C+2][a+1]-f[C+2][a],i=f[C+3][a+1]-f[C+3][a],R[n]=A*d+3*(c*v*r+m*u*t)+l*i;return R}:function(R,a,C,S,v){R||(R=[]);var d,r,t,i,n=1-v;for(t=0;t<G.length;t++)i=G[t],d=i[C][a+1]-i[C][a],r=i[C+1][a+1]-i[C+1][a],R[t]=n*d+v*r;return R}}},24464:function(H){H.exports=function(G,e,g){return e&&g?function(R,a,C,S,v){R||(R=[]);var d,r,t,i,n,f;a*=3,C*=3;var u=S*S,l=u*S,m=1-S,c=m*m,A=c*m,h=v*v,o=1-v,p=o*o,b=o*v*2,T=-3*p,P=3*(p-b),x=3*(b-h),L=3*h;for(f=0;f<G.length;f++)n=G[f],d=T*n[C][a]+P*n[C+1][a]+x*n[C+2][a]+L*n[C+3][a],r=T*n[C][a+1]+P*n[C+1][a+1]+x*n[C+2][a+1]+L*n[C+3][a+1],t=T*n[C][a+2]+P*n[C+1][a+2]+x*n[C+2][a+2]+L*n[C+3][a+2],i=T*n[C][a+3]+P*n[C+1][a+3]+x*n[C+2][a+3]+L*n[C+3][a+3],R[f]=A*d+3*(c*S*r+m*u*t)+l*i;return R}:e?function(R,a,C,S,v){R||(R=[]);var d,r,t,i,n,f;a*=3;var u=v*v,l=u*v,m=1-v,c=m*m,A=c*m;for(n=0;n<G.length;n++)f=G[n],d=f[C+1][a]-f[C][a],r=f[C+1][a+1]-f[C][a+1],t=f[C+1][a+2]-f[C][a+2],i=f[C+1][a+3]-f[C][a+3],R[n]=A*d+3*(c*v*r+m*u*t)+l*i;return R}:g?function(R,a,C,S,v){R||(R=[]);var d,r,t,i;C*=3;var n=1-S,f=v*v,u=1-v,l=u*u,m=u*v*2,c=-3*l,A=3*(l-m),h=3*(m-f),o=3*f;for(t=0;t<G.length;t++)i=G[t],d=c*i[C][a]+A*i[C+1][a]+h*i[C+2][a]+o*i[C+3][a],r=c*i[C][a+1]+A*i[C+1][a+1]+h*i[C+2][a+1]+o*i[C+3][a+1],R[t]=n*d+S*r;return R}:function(R,a,C,S,v){R||(R=[]);var d,r,t,i,n=1-S;for(t=0;t<G.length;t++)i=G[t],d=i[C+1][a]-i[C][a],r=i[C+1][a+1]-i[C][a+1],R[t]=n*d+S*r;return R}}},29056:function(H){H.exports=function(G,e,g,R,a){var C=e-2,S=g-2;return R&&a?function(v,d,r){v||(v=[]);var t,i,n,f,u,l,m=Math.max(0,Math.min(Math.floor(d),C)),c=Math.max(0,Math.min(Math.floor(r),S)),A=Math.max(0,Math.min(1,d-m)),h=Math.max(0,Math.min(1,r-c));m*=3,c*=3;var o=A*A,p=o*A,b=1-A,T=b*b,P=T*b,x=h*h,L=x*h,M=1-h,s=M*M,E=s*M;for(l=0;l<G.length;l++)u=G[l],t=P*u[c][m]+3*(T*A*u[c][m+1]+b*o*u[c][m+2])+p*u[c][m+3],i=P*u[c+1][m]+3*(T*A*u[c+1][m+1]+b*o*u[c+1][m+2])+p*u[c+1][m+3],n=P*u[c+2][m]+3*(T*A*u[c+2][m+1]+b*o*u[c+2][m+2])+p*u[c+2][m+3],f=P*u[c+3][m]+3*(T*A*u[c+3][m+1]+b*o*u[c+3][m+2])+p*u[c+3][m+3],v[l]=E*t+3*(s*h*i+M*x*n)+L*f;return v}:R?function(v,d,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(d),C)),i=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,d-t)),f=Math.max(0,Math.min(1,r-i)),u,l,m,c,A,h;t*=3;var o=n*n,p=o*n,b=1-n,T=b*b,P=T*b,x=1-f;for(A=0;A<G.length;A++)h=G[A],u=x*h[i][t]+f*h[i+1][t],l=x*h[i][t+1]+f*h[i+1][t+1],m=x*h[i][t+2]+f*h[i+1][t+1],c=x*h[i][t+3]+f*h[i+1][t+1],v[A]=P*u+3*(T*n*l+b*o*m)+p*c;return v}:a?function(v,d,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(d),C)),i=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,d-t)),f=Math.max(0,Math.min(1,r-i)),u,l,m,c,A,h;i*=3;var o=f*f,p=o*f,b=1-f,T=b*b,P=T*b,x=1-n;for(A=0;A<G.length;A++)h=G[A],u=x*h[i][t]+n*h[i][t+1],l=x*h[i+1][t]+n*h[i+1][t+1],m=x*h[i+2][t]+n*h[i+2][t+1],c=x*h[i+3][t]+n*h[i+3][t+1],v[A]=P*u+3*(T*f*l+b*o*m)+p*c;return v}:function(v,d,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(d),C)),i=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,d-t)),f=Math.max(0,Math.min(1,r-i)),u,l,m,c,A=1-f,h=1-n;for(m=0;m<G.length;m++)c=G[m],u=h*c[i][t]+n*c[i][t+1],l=h*c[i+1][t]+n*c[i+1][t+1],v[m]=A*u+f*l;return v}}},38356:function(H,G,e){var g=e(3400),R=e(86411),a=e(93504),C=e(85720),S=e(22548);H.exports=function(d,r,t,i){function n(l,m){return g.coerce(d,r,C,l,m)}r._clipPathId="clip"+r.uid+"carpet";var f=n("color",S.defaultLine);if(g.coerceFont(n,"font",i.font),n("carpet"),a(d,r,i,n,f),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=R(d,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(H,G,e){H.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(H){H.exports=function(G,e){for(var g=G._fullData.length,R,a=0;a<g;a++){var C=G._fullData[a];if(C.index!==e.index&&C.type==="carpet"&&(R||(R=C),C.carpet===e.carpet))return C}return R}},53416:function(H){H.exports=function(e,g,R){if(e.length===0)return"";var a,C=[],S=R?3:1;for(a=0;a<e.length;a+=S)C.push(e[a]+","+g[a]),R&&a<e.length-S&&(C.push("C"),C.push([e[a+1]+","+g[a+1],e[a+2]+","+g[a+2]+" "].join(" ")));return C.join(R?"":"L")}},87072:function(H,G,e){var g=e(3400).isArrayOrTypedArray;H.exports=function(a,C,S){var v;for(g(a)?a.length>C.length&&(a=a.slice(0,C.length)):a=[],v=0;v<C.length;v++)a[v]=S(C[v]);return a}},15584:function(H){H.exports=function(e,g,R,a,C,S){var v=C[0]*e.dpdx(g),d=C[1]*e.dpdy(R),r=1,t=1;if(S){var i=Math.sqrt(C[0]*C[0]+C[1]*C[1]),n=Math.sqrt(S[0]*S[0]+S[1]*S[1]),f=(C[0]*S[0]+C[1]*S[1])/i/n;t=Math.max(0,f)}var u=Math.atan2(d,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(a,g,R),offsetMultplier:t}}},164:function(H,G,e){var g=e(33428),R=e(43616),a=e(87072),C=e(53416),S=e(15584),v=e(72736),d=e(3400),r=d.strRotate,t=d.strTranslate,i=e(84284);H.exports=function(o,p,b,T){var P=o._context.staticPlot,x=p.xaxis,L=p.yaxis,M=o._fullLayout,s=M._clips;d.makeTraceGroups(T,b,"trace").each(function(E){var w=g.select(this),O=E[0],_=O.trace,U=_.aaxis,z=_.baxis,F=d.ensureSingle(w,"g","minorlayer"),B=d.ensureSingle(w,"g","majorlayer"),N=d.ensureSingle(w,"g","boundarylayer"),V=d.ensureSingle(w,"g","labellayer");w.style("opacity",_.opacity),f(x,L,B,U,"a",U._gridlines,!0),f(x,L,B,z,"b",z._gridlines,!0),f(x,L,F,U,"a",U._minorgridlines,!0),f(x,L,F,z,"b",z._minorgridlines,!0),f(x,L,N,U,"a-boundary",U._boundarylines,P),f(x,L,N,z,"b-boundary",z._boundarylines,P);var X=u(o,x,L,_,O,V,U._labels,"a-label"),q=u(o,x,L,_,O,V,z._labels,"b-label");l(o,V,_,O,x,L,X,q),n(_,O,s,x,L)})};function n(h,o,p,b,T){var P,x,L,M,s=p.select("#"+h._clipPathId);s.size()||(s=p.append("clipPath").classed("carpetclip",!0));var E=d.ensureSingle(s,"path","carpetboundary"),w=o.clipsegments,O=[];for(M=0;M<w.length;M++)P=w[M],x=a([],P.x,b.c2p),L=a([],P.y,T.c2p),O.push(C(x,L,P.bicubic));var _="M"+O.join("L")+"Z";s.attr("id",h._clipPathId),E.attr("d",_)}function f(h,o,p,b,T,P,x){var L="const-"+T+"-lines",M=p.selectAll("."+L).data(P);M.enter().append("path").classed(L,!0).style("vector-effect",x?"none":"non-scaling-stroke"),M.each(function(s){var E=s,w=E.x,O=E.y,_=a([],w,h.c2p),U=a([],O,o.c2p),z="M"+C(_,U,E.smoothing),F=g.select(this);F.attr("d",z).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",R.dashStyle(E.dash,E.width)).style("fill","none")}),M.exit().remove()}function u(h,o,p,b,T,P,x,L){var M=P.selectAll("text."+L).data(x);M.enter().append("text").classed(L,!0);var s=0,E={};return M.each(function(w,O){var _;if(w.axis.tickangle==="auto")_=S(b,o,p,w.xy,w.dxy);else{var U=(w.axis.tickangle+180)*Math.PI/180;_=S(b,o,p,w.xy,[Math.cos(U),Math.sin(U)])}O||(E={angle:_.angle,flip:_.flip});var z=(w.endAnchor?-1:1)*_.flip,F=g.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(R.font,w.font).text(w.text).call(v.convertToTspans,h),B=R.bBox(this);F.attr("transform",t(_.p[0],_.p[1])+r(_.angle)+t(w.axis.labelpadding*z,B.height*.3)),s=Math.max(s,B.width+w.axis.labelpadding)}),M.exit().remove(),E.maxExtent=s,E}function l(h,o,p,b,T,P,x,L){var M,s,E,w,O=d.aggNums(Math.min,null,p.a),_=d.aggNums(Math.max,null,p.a),U=d.aggNums(Math.min,null,p.b),z=d.aggNums(Math.max,null,p.b);M=.5*(O+_),s=U,E=p.ab2xy(M,s,!0),w=p.dxyda_rough(M,s),x.angle===void 0&&d.extendFlat(x,S(p,T,P,E,p.dxydb_rough(M,s))),A(h,o,p,b,E,w,p.aaxis,T,P,x,"a-title"),M=O,s=.5*(U+z),E=p.ab2xy(M,s,!0),w=p.dxydb_rough(M,s),L.angle===void 0&&d.extendFlat(L,S(p,T,P,E,p.dxyda_rough(M,s))),A(h,o,p,b,E,w,p.baxis,T,P,L,"b-title")}var m=i.LINE_SPACING,c=(1-i.MID_SHIFT)/m+1;function A(h,o,p,b,T,P,x,L,M,s,E){var w=[];x.title.text&&w.push(x.title.text);var O=o.selectAll("text."+E).data(w),_=s.maxExtent;O.enter().append("text").classed(E,!0),O.each(function(){var U=S(p,L,M,T,P);["start","both"].indexOf(x.showticklabels)===-1&&(_=0);var z=x.title.font.size;_+=z+x.title.offset;var F=s.angle+(s.flip<0?180:0),B=(F-U.angle+450)%360,N=B>90&&B<270,V=g.select(this);V.text(x.title.text).call(v.convertToTspans,h),N&&(_=(-v.lineCount(V)+c)*m*z-_),V.attr("transform",t(U.p[0],U.p[1])+r(U.angle)+t(0,_)).attr("text-anchor","middle").call(R.font,x.title.font)}),O.exit().remove()}},81e3:function(H,G,e){var g=e(24588),R=e(14952).findBin,a=e(30180),C=e(29056),S=e(26435),v=e(24464);H.exports=function(r){var t=r._a,i=r._b,n=t.length,f=i.length,u=r.aaxis,l=r.baxis,m=t[0],c=t[n-1],A=i[0],h=i[f-1],o=t[t.length-1]-t[0],p=i[i.length-1]-i[0],b=o*g.RELATIVE_CULL_TOLERANCE,T=p*g.RELATIVE_CULL_TOLERANCE;m-=b,c+=b,A-=T,h+=T,r.isVisible=function(P,x){return P>m&&P<c&&x>A&&x<h},r.isOccluded=function(P,x){return P<m||P>c||x<A||x>h},r.setScale=function(){var P=r._x,x=r._y,L=a(r._xctrl,r._yctrl,P,x,u.smoothing,l.smoothing);r._xctrl=L[0],r._yctrl=L[1],r.evalxy=C([r._xctrl,r._yctrl],n,f,u.smoothing,l.smoothing),r.dxydi=S([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(P){var x=Math.max(0,Math.floor(P[0]),n-2),L=P[0]-x;return(1-L)*t[x]+L*t[x+1]},r.j2b=function(P){var x=Math.max(0,Math.floor(P[1]),n-2),L=P[1]-x;return(1-L)*i[x]+L*i[x+1]},r.ij2ab=function(P){return[r.i2a(P[0]),r.j2b(P[1])]},r.a2i=function(P){var x=Math.max(0,Math.min(R(P,t),n-2)),L=t[x],M=t[x+1];return Math.max(0,Math.min(n-1,x+(P-L)/(M-L)))},r.b2j=function(P){var x=Math.max(0,Math.min(R(P,i),f-2)),L=i[x],M=i[x+1];return Math.max(0,Math.min(f-1,x+(P-L)/(M-L)))},r.ab2ij=function(P){return[r.a2i(P[0]),r.b2j(P[1])]},r.i2c=function(P,x){return r.evalxy([],P,x)},r.ab2xy=function(P,x,L){if(!L&&(P<t[0]||P>t[n-1]|x<i[0]||x>i[f-1]))return[!1,!1];var M=r.a2i(P),s=r.b2j(x),E=r.evalxy([],M,s);if(L){var w=0,O=0,_=[],U,z,F,B;P<t[0]?(U=0,z=0,w=(P-t[0])/(t[1]-t[0])):P>t[n-1]?(U=n-2,z=1,w=(P-t[n-1])/(t[n-1]-t[n-2])):(U=Math.max(0,Math.min(n-2,Math.floor(M))),z=M-U),x<i[0]?(F=0,B=0,O=(x-i[0])/(i[1]-i[0])):x>i[f-1]?(F=f-2,B=1,O=(x-i[f-1])/(i[f-1]-i[f-2])):(F=Math.max(0,Math.min(f-2,Math.floor(s))),B=s-F),w&&(r.dxydi(_,U,F,z,B),E[0]+=_[0]*w,E[1]+=_[1]*w),O&&(r.dxydj(_,U,F,z,B),E[0]+=_[0]*O,E[1]+=_[1]*O)}return E},r.c2p=function(P,x,L){return[x.c2p(P[0]),L.c2p(P[1])]},r.p2x=function(P,x,L){return[x.p2c(P[0]),L.p2c(P[1])]},r.dadi=function(P){var x=Math.max(0,Math.min(t.length-2,P));return t[x+1]-t[x]},r.dbdj=function(P){var x=Math.max(0,Math.min(i.length-2,P));return i[x+1]-i[x]},r.dxyda=function(P,x,L,M){var s=r.dxydi(null,P,x,L,M),E=r.dadi(P,L);return[s[0]/E,s[1]/E]},r.dxydb=function(P,x,L,M){var s=r.dxydj(null,P,x,L,M),E=r.dbdj(x,M);return[s[0]/E,s[1]/E]},r.dxyda_rough=function(P,x,L){var M=o*(L||.1),s=r.ab2xy(P+M,x,!0),E=r.ab2xy(P-M,x,!0);return[(s[0]-E[0])*.5/M,(s[1]-E[1])*.5/M]},r.dxydb_rough=function(P,x,L){var M=p*(L||.1),s=r.ab2xy(P,x+M,!0),E=r.ab2xy(P,x-M,!0);return[(s[0]-E[0])*.5/M,(s[1]-E[1])*.5/M]},r.dpdx=function(P){return P._m},r.dpdy=function(P){return P._m}}},51512:function(H,G,e){var g=e(3400);H.exports=function(a,C,S){var v,d,r,t=[],i=[],n=a[0].length,f=a.length;function u(q,te){var ne=0,ce,Q=0;return q>0&&(ce=a[te][q-1])!==void 0&&(Q++,ne+=ce),q<n-1&&(ce=a[te][q+1])!==void 0&&(Q++,ne+=ce),te>0&&(ce=a[te-1][q])!==void 0&&(Q++,ne+=ce),te<f-1&&(ce=a[te+1][q])!==void 0&&(Q++,ne+=ce),ne/Math.max(1,Q)}var l=0;for(v=0;v<n;v++)for(d=0;d<f;d++)a[d][v]===void 0&&(t.push(v),i.push(d),a[d][v]=u(v,d)),l=Math.max(l,Math.abs(a[d][v]));if(!t.length)return a;var m,c,A,h,o,p,b,T,P,x,L,M=1e-5,s=0,E=100,w=0,O=t.length;do{for(s=0,r=0;r<O;r++){v=t[r],d=i[r];var _=0,U=0,z,F,B,N,V,X;v===0?(V=Math.min(n-1,2),B=C[V],N=C[1],z=a[d][V],F=a[d][1],U+=F+(F-z)*(C[0]-N)/(N-B),_++):v===n-1&&(V=Math.max(0,n-3),B=C[V],N=C[n-2],z=a[d][V],F=a[d][n-2],U+=F+(F-z)*(C[n-1]-N)/(N-B),_++),(v===0||v===n-1)&&d>0&&d<f-1&&(m=S[d+1]-S[d],c=S[d]-S[d-1],U+=(c*a[d+1][v]+m*a[d-1][v])/(c+m),_++),d===0?(X=Math.min(f-1,2),B=S[X],N=S[1],z=a[X][v],F=a[1][v],U+=F+(F-z)*(S[0]-N)/(N-B),_++):d===f-1&&(X=Math.max(0,f-3),B=S[X],N=S[f-2],z=a[X][v],F=a[f-2][v],U+=F+(F-z)*(S[f-1]-N)/(N-B),_++),(d===0||d===f-1)&&v>0&&v<n-1&&(m=C[v+1]-C[v],c=C[v]-C[v-1],U+=(c*a[d][v+1]+m*a[d][v-1])/(c+m),_++),_?U/=_:(A=C[v+1]-C[v],h=C[v]-C[v-1],o=S[d+1]-S[d],p=S[d]-S[d-1],b=A*h*(A+h),T=o*p*(o+p),U=(b*(p*a[d+1][v]+o*a[d-1][v])+T*(h*a[d][v+1]+A*a[d][v-1]))/(T*(h+A)+b*(p+o))),P=U-a[d][v],x=P/l,s+=x*x,L=_?0:.85,a[d][v]+=P*(1+L)}s=Math.sqrt(s)}while(w++<E&&s>M);return g.log("Smoother converged to",s,"after",w,"iterations"),a}},86411:function(H,G,e){var g=e(3400).isArray1D;H.exports=function(a,C,S){var v=S("x"),d=v&&v.length,r=S("y"),t=r&&r.length;if(!d&&!t)return!1;if(C._cheater=!v,(!d||g(v))&&(!t||g(r))){var i=d?v.length:1/0;t&&(i=Math.min(i,r.length)),C.a&&C.a.length&&(i=Math.min(i,C.a.length)),C.b&&C.b.length&&(i=Math.min(i,C.b.length)),C._length=i}else C._length=null;return!0}},83372:function(H,G,e){var g=e(21776).Ks,R=e(6096),a=e(49084),C=e(45464),S=e(22548).defaultLine,v=e(92880).extendFlat,d=R.marker.line;H.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:R.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},R.geojson,{}),featureidkey:R.featureidkey,text:v({},R.text,{}),hovertext:v({},R.hovertext,{}),marker:{line:{color:v({},d.color,{dflt:S}),width:v({},d.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:R.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:R.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},C.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(H,G,e){var g=e(38248),R=e(39032).BADNUM,a=e(47128),C=e(20148),S=e(4500);function v(d){return d&&typeof d=="string"}H.exports=function(r,t){var i=t._length,n=new Array(i),f;t.geojson?f=function(A){return v(A)||g(A)}:f=v;for(var u=0;u<i;u++){var l=n[u]={},m=t.locations[u],c=t.z[u];f(m)&&g(c)?(l.loc=m,l.z=c):(l.loc=null,l.z=R),l.index=u}return C(n,t),a(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),S(n,t),n}},30972:function(H,G,e){var g=e(3400),R=e(27260),a=e(83372);H.exports=function(S,v,d,r){function t(c,A){return g.coerce(S,v,a,c,A)}var i=t("locations"),n=t("z");if(!(i&&i.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(i.length,n.length);var f=t("geojson"),u;(typeof f=="string"&&f!==""||g.isPlainObject(f))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var m=t("marker.line.width");m&&t("marker.line.color"),t("marker.opacity"),R(S,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},52428:function(H){H.exports=function(e,g,R,a,C){e.location=g.location,e.z=g.z;var S=a[C];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e.ct=S.ct,e}},69224:function(H,G,e){var g=e(54460),R=e(83372),a=e(3400).fillText;H.exports=function(v,d,r){var t=v.cd,i=t[0].trace,n=v.subplot,f,u,l,m,c=[d,r],A=[d+360,r];for(u=0;u<t.length;u++)if(f=t[u],m=!1,f._polygons){for(l=0;l<f._polygons.length;l++)f._polygons[l].contains(c)&&(m=!m),f._polygons[l].contains(A)&&(m=!m);if(m)break}if(!(!m||!f))return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,C(v,i,f),[v]};function C(S,v,d){if(!v.hovertemplate){var r=d.hi||v.hoverinfo,t=String(d.loc),i=r==="all"?R.hoverinfo.flags:r.split("+"),n=i.indexOf("name")!==-1,f=i.indexOf("location")!==-1,u=i.indexOf("z")!==-1,l=i.indexOf("text")!==-1,m=!n&&f,c=[];m?S.nameOverride=t:(n&&(S.nameOverride=v.name),f&&c.push(t)),u&&c.push(S.zLabel),l&&a(d,v,c),S.extraText=c.join("<br>")}}},54272:function(H,G,e){H.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(H,G,e){var g=e(33428),R=e(3400),a=e(27144),C=e(59972).getTopojsonFeatures,S=e(19280).findExtremes,v=e(7947).style;function d(t,i,n){var f=i.layers.backplot.select(".choroplethlayer");R.makeTraceGroups(f,n,"trace choropleth").each(function(u){var l=g.select(this),m=l.selectAll("path.choroplethlocation").data(R.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),v(t,u)})}function r(t,i){for(var n=t[0].trace,f=i[n.geo],u=f._subplot,l=n.locationmode,m=n._length,c=l==="geojson-id"?a.extractTraceFeature(t):C(n,u.topojson),A=[],h=[],o=0;o<m;o++){var p=t[o],b=l==="geojson-id"?p.fOut:a.locationToFeature(l,p.loc,c);if(b){p.geojson=b,p.ct=b.properties.ct,p._polygons=a.feature2polygons(b);var T=a.computeBbox(b);A.push(T[0],T[2]),h.push(T[1],T[3])}else p.geojson=null}if(f.fitbounds==="geojson"&&l==="geojson-id"){var P=a.computeBbox(a.getTraceGeojson(n));A=[P[0],P[2]],h=[P[1],P[3]]}var x={padded:!0};n._extremes.lon=S(f.lonaxis._ax,A,x),n._extremes.lat=S(f.lataxis._ax,h,x)}H.exports={calcGeoJSON:r,plot:d}},17328:function(H){H.exports=function(e,g){var R=e.cd,a=e.xaxis,C=e.yaxis,S=[],v,d,r,t,i;if(g===!1)for(v=0;v<R.length;v++)R[v].selected=0;else for(v=0;v<R.length;v++)d=R[v],r=d.ct,r&&(t=a.c2p(r),i=C.c2p(r),g.contains([t,i],null,v,e)?(S.push({pointNumber:v,lon:r[0],lat:r[1]}),d.selected=1):d.selected=0);return S}},7947:function(H,G,e){var g=e(33428),R=e(76308),a=e(43616),C=e(8932);function S(r,t){t&&v(r,t)}function v(r,t){var i=t[0].trace,n=t[0].node3,f=n.selectAll(".choroplethlocation"),u=i.marker||{},l=u.line||{},m=C.makeColorScaleFuncFromTrace(i);f.each(function(c){g.select(this).attr("fill",m(c.z)).call(R.stroke,c.mlc||l.color).call(a.dashLine,"",c.mlw||l.width||0).style("opacity",u.opacity)}),a.selectedPointStyle(f,i)}function d(r,t){var i=t[0].node3,n=t[0].trace;n.selectedpoints?a.selectedPointStyle(i.selectAll(".choroplethlocation"),n):v(r,t)}H.exports={style:S,styleOnSelect:d}},45608:function(H,G,e){var g=e(83372),R=e(49084),a=e(21776).Ks,C=e(45464),S=e(92880).extendFlat;H.exports=S({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:S({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:S({},g.marker.line.color,{editType:"plot"}),width:S({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:S({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:S({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:S({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:S({},C.showlegend,{dflt:!1})},R("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(H,G,e){var g=e(38248),R=e(3400),a=e(8932),C=e(43616),S=e(44808).makeBlank,v=e(27144);function d(t){var i=t[0].trace,n=i.visible===!0&&i._length!==0,f={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=i._opts={fill:f,line:u,geojson:S()};if(!n)return l;var m=v.extractTraceFeature(t);if(!m)return l;var c=a.makeColorScaleFuncFromTrace(i),A=i.marker,h=A.line||{},o;R.isArrayOrTypedArray(A.opacity)&&(o=function(s){var E=s.mo;return g(E)?+R.constrain(E,0,1):0});var p;R.isArrayOrTypedArray(h.color)&&(p=function(s){return s.mlc});var b;R.isArrayOrTypedArray(h.width)&&(b=function(s){return s.mlw});for(var T=0;T<t.length;T++){var P=t[T],x=P.fOut;if(x){var L=x.properties;L.fc=c(P.z),o&&(L.mo=o(P)),p&&(L.mlc=p(P)),b&&(L.mlw=b(P)),P.ct=L.ct,P._polygons=v.feature2polygons(x)}}var M=o?{type:"identity",property:"mo"}:A.opacity;return R.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":M}),R.extendFlat(u.paint,{"line-color":p?{type:"identity",property:"mlc"}:h.color,"line-width":b?{type:"identity",property:"mlw"}:h.width,"line-opacity":M}),f.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:m},r(t),l}function r(t){var i=t[0].trace,n=i._opts,f;if(i.selectedpoints){for(var u=C.makeSelectedPointStyleFns(i),l=0;l<t.length;l++){var m=t[l];m.fOut&&(m.fOut.properties.mo2=u.selectedOpacityFn(m))}f={type:"identity",property:"mo2"}}else f=R.isArrayOrTypedArray(i.marker.opacity)?{type:"identity",property:"mo"}:i.marker.opacity;return R.extendFlat(n.fill.paint,{"fill-opacity":f}),R.extendFlat(n.line.paint,{"line-opacity":f}),n}H.exports={convert:d,convertOnSelect:r}},9352:function(H,G,e){var g=e(3400),R=e(27260),a=e(45608);H.exports=function(S,v,d,r){function t(l,m){return g.coerce(S,v,a,l,m)}var i=t("locations"),n=t("z"),f=t("geojson");if(!g.isArrayOrTypedArray(i)||!i.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof f=="string"&&f!==""||g.isPlainObject(f))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),R(S,v,r,t,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,t)}},85404:function(H,G,e){H.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(g,R){if(R){var a=R[0].trace;a._glTrace.updateOnSelect(R)}},getBelow:function(g,R){for(var a=R.getMapLayers(),C=a.length-2;C>=0;C--){var S=a[C].id;if(typeof S=="string"&&S.indexOf("water")===0){for(var v=C+1;v<a.length;v++)if(S=a[v].id,typeof S=="string"&&S.indexOf("plotly-")===-1)return S}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(H,G,e){var g=e(13504).convert,R=e(13504).convertOnSelect,a=e(47552).traceLayerPrefix;function C(v,d){this.type="choroplethmapbox",this.subplot=v,this.uid=d,this.sourceId="source-"+d,this.layerList=[["fill",a+d+"-fill"],["line",a+d+"-line"]],this.below=null}var S=C.prototype;S.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},S.updateOnSelect=function(v){this._update(R(v))},S._update=function(v){var d=this.subplot,r=this.layerList,t=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var i=0;i<r.length;i++){var n=r[i],f=n[0],u=n[1],l=v[f];d.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&d.setOptions(u,"setPaintProperty",l.paint)}},S._addLayers=function(v,d){for(var r=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var f=t[n],u=f[0],l=v[u];r.addLayer({type:u,id:f[1],source:i,layout:l.layout,paint:l.paint},d)}},S._removeLayers=function(){for(var v=this.subplot.map,d=this.layerList,r=d.length-1;r>=0;r--)v.removeLayer(d[r][1])},S.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},H.exports=function(d,r){var t=r[0].trace,i=new C(d,t.uid),n=i.sourceId,f=g(r),u=i.below=d.belowLookup["trace-"+t.uid];return d.map.addSource(n,{type:"geojson",data:f.geojson}),i._addLayers(f,u),r[0].trace._glTrace=i,i}},86040:function(H,G,e){var g=e(49084),R=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:R("u",1),vhoverformat:R("v",1),whoverformat:R("w",1),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(d,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){d[t]=C[t]}),d.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,H.exports=d},83344:function(H,G,e){var g=e(47128);H.exports=function(a,C){for(var S=C.u,v=C.v,d=C.w,r=Math.min(C.x.length,C.y.length,C.z.length,S.length,v.length,d.length),t=-1/0,i=1/0,n=0;n<r;n++){var f=S[n],u=v[n],l=d[n],m=Math.sqrt(f*f+u*u+l*l);t=Math.max(t,m),i=Math.min(i,m)}C._len=r,C._normMax=t,g(a,C,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(H,G,e){var g=e(67792).gl_cone3d,R=e(67792).gl_cone3d.createConeMesh,a=e(3400).simpleMap,C=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,d=e(52094);function r(m,c){this.scene=m,this.uid=c,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(m){if(m.object===this.mesh){var c=m.index=m.data.index,A=this.data.x[c],h=this.data.y[c],o=this.data.z[c],p=this.data.u[c],b=this.data.v[c],T=this.data.w[c];m.traceCoordinate=[A,h,o,p,b,T,Math.sqrt(p*p+b*b+T*T)];var P=this.data.hovertext||this.data.text;return v(P)&&P[c]!==void 0?m.textLabel=P[c]:P&&(m.textLabel=P),!0}};var i={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function u(m,c){var A=m.fullSceneLayout,h=m.dataScale,o={};function p(L,M){var s=A[M],E=h[i[M]];return a(L,function(w){return s.d2l(w)*E})}o.vectors=d(p(c.u,"xaxis"),p(c.v,"yaxis"),p(c.w,"zaxis"),c._len),o.positions=d(p(c.x,"xaxis"),p(c.y,"yaxis"),p(c.z,"zaxis"),c._len);var b=S(c);o.colormap=C(c),o.vertexIntensityBounds=[b.min/c._normMax,b.max/c._normMax],o.coneOffset=n[c.anchor];var T=c.sizemode;T==="scaled"?o.coneSize=c.sizeref||.5:T==="absolute"?o.coneSize=c.sizeref&&c._normMax?c.sizeref/c._normMax:.5:T==="raw"&&(o.coneSize=c.sizeref),o.coneSizemode=T;var P=g(o),x=c.lightposition;return P.lightPosition=[x.x,x.y,x.z],P.ambient=c.lighting.ambient,P.diffuse=c.lighting.diffuse,P.specular=c.lighting.specular,P.roughness=c.lighting.roughness,P.fresnel=c.lighting.fresnel,P.opacity=c.opacity,c._pad=f[c.anchor]*P.vectorScale*P.coneScale*c._normMax,P}t.update=function(m){this.data=m;var c=u(this.scene,m);this.mesh.update(c)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(m,c){var A=m.glplot.gl,h=u(m,c),o=R(A,h),p=new r(m,c.uid);return p.mesh=o,p.data=c,o._trace=p,m.glplot.add(o),p}H.exports=l},86096:function(H,G,e){var g=e(3400),R=e(27260),a=e(86040);H.exports=function(S,v,d,r){function t(A,h){return g.coerce(S,v,a,A,h)}var i=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),m=t("z");if(!i||!i.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!m||!m.length){v.visible=!1;return}var c=t("sizemode");t("sizeref",c==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),R(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(H,G,e){H.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(g,R){return g.norm=R.traceCoordinate[6],g},meta:{}}},67104:function(H,G,e){var g=e(83328),R=e(52904),a=e(29736),C=a.axisHoverFormat,S=a.descriptionOnlyNumbers,v=e(49084),d=e(98192).u,r=e(25376),t=e(92880).extendFlat,i=e(69104),n=i.COMPARISON_OPS2,f=i.INTERVAL_OPS,u=R.line;H.exports=t({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:R.xperiod0,yperiod0:R.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:t({},g.texttemplate,{}),textfont:t({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:t({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:S("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:d,smoothing:t({},u.smoothing,{}),editType:"plot"},zorder:R.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(H,G,e){var g=e(8932),R=e(19512),a=e(54444),C=e(46960);H.exports=function(v,d){var r=R(v,d),t=r[0].z;a(d,t);var i=d.contours,n=g.extractOpts(d),f;if(i.coloring==="heatmap"&&n.auto&&d.autocontour===!1){var u=i.start,l=C(i),m=i.size||1,c=Math.floor((l-u)/m)+1;isFinite(m)||(m=1,c=1);var A=u-m/2,h=A+c*m;f=[A,h]}else f=t;return g.calc(v,d,{vals:f,cLetter:"z"}),r}},56008:function(H){H.exports=function(G,e){var g=G[0],R=g.z,a;switch(e.type){case"levels":var C=Math.min(R[0][0],R[0][1]);for(a=0;a<G.length;a++){var S=G[a];S.prefixBoundary=!S.edgepaths.length&&(C>S.level||S.starts.length&&C===S.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,d=g.y.length,r=-1/0,t=1/0;for(a=0;a<d;a++)t=Math.min(t,R[a][0]),t=Math.min(t,R[a][v-1]),r=Math.max(r,R[a][0]),r=Math.max(r,R[a][v-1]);for(a=1;a<v-1;a++)t=Math.min(t,R[0][a]),t=Math.min(t,R[d-1][a]),r=Math.max(r,R[0][a]),r=Math.max(r,R[d-1][a]);var i=e.value,n,f;switch(e._operation){case">":i>r&&(g.prefixBoundary=!0);break;case"<":(i<t||g.starts.length&&i===t)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(i[0],i[1]),f=Math.max(i[0],i[1]),(f<t||n>r||g.starts.length&&f===t)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(i[0],i[1]),f=Math.max(i[0],i[1]),n<t&&f>r&&(g.prefixBoundary=!0);break}break}}},55296:function(H,G,e){var g=e(8932),R=e(41076),a=e(46960);function C(S,v,d){var r=v.contours,t=v.line,i=r.size||1,n=r.coloring,f=R(v,{isColorbar:!0});if(n==="heatmap"){var u=g.extractOpts(v);d._fillgradient=u.reversescale?g.flipScale(u.colorscale):u.colorscale,d._zrange=[u.min,u.max]}else n==="fill"&&(d._fillcolor=f);d._line={color:n==="lines"?f:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},d._levels={start:r.start,end:a(r),size:i}}H.exports={min:"zmin",max:"zmax",calc:C}},93252:function(H){H.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(H,G,e){var g=e(38248),R=e(17428),a=e(76308),C=a.addOpacity,S=a.opacity,v=e(69104),d=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;H.exports=function(f,u,l,m,c,A){var h=u.contours,o,p,b,T=l("contours.operation");if(h._operation=r[T],i(l,h),T==="="?o=h.showlines=!0:(o=l("contours.showlines"),b=l("fillcolor",C((f.line||{}).color||c,.5))),o){var P=b&&S(b)?C(u.fillcolor,1):c;p=l("line.color",P),l("line.width",2),l("line.dash")}l("line.smoothing"),R(l,m,p,A)};function i(n,f){var u;t.indexOf(f.operation)===-1?(n("contours.value",[0,1]),d(f.value)?f.value.length>2?f.value=f.value.slice(2):f.length===0?f.value=[0,1]:f.length<2?(u=parseFloat(f.value[0]),f.value=[u,u+1]):f.value=[parseFloat(f.value[0]),parseFloat(f.value[1])]:g(f.value)&&(u=parseFloat(f.value),f.value=[u,u+1])):(n("contours.value",0),g(f.value)||(d(f.value)?f.value=parseFloat(f.value[0]):f.value=0))}},3212:function(H,G,e){var g=e(69104),R=e(38248);H.exports={"[]":C("[]"),"][":C("]["),">":S(">"),"<":S("<"),"=":S("=")};function a(v,d){var r=Array.isArray(d),t;function i(n){return R(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?t=i(r?d[0]:d):g.INTERVAL_OPS.indexOf(v)!==-1?t=r?[i(d[0]),i(d[1])]:[i(d),i(d)]:g.SET_OPS.indexOf(v)!==-1&&(t=r?d.map(i):[i(d)]),t}function C(v){return function(d){d=a(v,d);var r=Math.min(d[0],d[1]),t=Math.max(d[0],d[1]);return{start:r,end:t,size:t-r}}}function S(v){return function(d){return d=a(v,d),{start:d,end:1/0,size:1/0}}}},84952:function(H){H.exports=function(e,g,R,a){var C=a("contours.start"),S=a("contours.end"),v=C===!1||S===!1,d=R("contours.size"),r;v?r=g.autocontour=!0:r=R("autocontour",!1),(r||!d)&&R("ncontours")}},82172:function(H,G,e){var g=e(3400);H.exports=function(a,C){var S,v,d,r=function(n){return n.reverse()},t=function(n){return n};switch(C){case"=":case"<":return a;case">":for(a.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=a[0],S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);return a;case"][":var i=r;r=t,t=i;case"[]":for(a.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=R(a[0]),d=R(a[1]),S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);for(;d.edgepaths.length;)v.edgepaths.push(t(d.edgepaths.shift()));for(;d.paths.length;)v.paths.push(t(d.paths.shift()));for(;d.starts.length;)v.starts.push(t(d.starts.shift()));return[v]}};function R(a){return g.extendFlat({},a,{edgepaths:g.extendDeep([],a.edgepaths),paths:g.extendDeep([],a.paths),starts:g.extendDeep([],a.starts)})}},57004:function(H,G,e){var g=e(3400),R=e(51264),a=e(31147),C=e(95536),S=e(84952),v=e(97680),d=e(39096),r=e(67104);H.exports=function(i,n,f,u){function l(h,o){return g.coerce(i,n,r,h,o)}function m(h){return g.coerce2(i,n,r,h)}var c=R(i,n,l,u);if(!c){n.visible=!1;return}a(i,n,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var A=l("contours.type")==="constraint";l("connectgaps",g.isArray1D(n.z)),A?C(i,n,l,u,f):(S(i,n,l,m),v(i,n,l,u)),n.contours&&n.contours.coloring==="heatmap"&&d(l,u),l("zorder")}},61512:function(H,G,e){var g=e(3400),R=e(3212),a=e(46960);H.exports=function(S,v,d){for(var r=S.type==="constraint"?R[S._operation](S.value):S,t=r.size,i=[],n=a(r),f=d.trace._carpetTrace,u=f?{xaxis:f.aaxis,yaxis:f.baxis,x:d.a,y:d.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:d.x,y:d.y},l=r.start;l<n;l+=t)if(i.push(g.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:d.z,smoothing:d.trace.line.smoothing},u)),i.length>1e3){g.warn("Too many contours, clipping at 1000",S);break}return i}},46960:function(H){H.exports=function(e){return e.end+e.size/1e6}},88748:function(H,G,e){var g=e(3400),R=e(93252);H.exports=function(t,i,n){var f,u,l,m,c;for(i=i||.01,n=n||.01,l=0;l<t.length;l++){for(m=t[l],c=0;c<m.starts.length;c++)u=m.starts[c],S(m,u,"edge",i,n);for(f=0;Object.keys(m.crossings).length&&f<1e4;)f++,u=Object.keys(m.crossings)[0].split(",").map(Number),S(m,u,void 0,i,n);f===1e4&&g.log("Infinite loop in contour?")}};function a(r,t,i,n){return Math.abs(r[0]-t[0])<i&&Math.abs(r[1]-t[1])<n}function C(r,t){var i=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(i*i+n*n)}function S(r,t,i,n,f){var u=t.join(","),l=r.crossings[u],m=v(l,i,t),c=[d(r,t,[-m[0],-m[1]])],A=r.z.length,h=r.z[0].length,o=t.slice(),p=m.slice(),b;for(b=0;b<1e4;b++){if(l>20?(l=R.CHOOSESADDLE[l][(m[0]||m[1])<0?0:1],r.crossings[u]=R.SADDLEREMAINDER[l]):delete r.crossings[u],m=R.NEWDELTA[l],!m){g.log("Found bad marching index:",l,t,r.level);break}c.push(d(r,t,m)),t[0]+=m[0],t[1]+=m[1],u=t.join(","),a(c[c.length-1],c[c.length-2],n,f)&&c.pop();var T=m[0]&&(t[0]<0||t[0]>h-2)||m[1]&&(t[1]<0||t[1]>A-2),P=t[0]===o[0]&&t[1]===o[1]&&m[0]===p[0]&&m[1]===p[1];if(P||i&&T)break;l=r.crossings[u]}b===1e4&&g.log("Infinite loop in contour?");var x=a(c[0],c[c.length-1],n,f),L=0,M=.2*r.smoothing,s=[],E=0,w,O,_,U,z,F,B,N,V,X,q;for(b=1;b<c.length;b++)B=C(c[b],c[b-1]),L+=B,s.push(B);var te=L/s.length*M;function ne(Z){return c[Z%c.length]}for(b=c.length-2;b>=E;b--)if(w=s[b],w<te){for(_=0,O=b-1;O>=E&&w+s[O]<te;O--)w+=s[O];if(x&&b===c.length-2)for(_=0;_<O&&w+s[_]<te;_++)w+=s[_];z=b-O+_+1,F=Math.floor((b+O+_+2)/2),!x&&b===c.length-2?U=c[c.length-1]:!x&&O===-1?U=c[0]:z%2?U=ne(F):U=[(ne(F)[0]+ne(F+1)[0])/2,(ne(F)[1]+ne(F+1)[1])/2],c.splice(O+1,b-O+1,U),b=O+1,_&&(E=_),x&&(b===c.length-2?c[_]=c[c.length-1]:b===0&&(c[c.length-1]=c[0]))}for(c.splice(0,E),b=0;b<c.length;b++)c[b].length=2;if(!(c.length<2))if(x)c.pop(),r.paths.push(c);else{i||g.log("Unclosed interior contour?",r.level,o.join(","),c.join("L"));var ce=!1;for(N=0;N<r.edgepaths.length;N++)if(X=r.edgepaths[N],!ce&&a(X[0],c[c.length-1],n,f)){c.pop(),ce=!0;var Q=!1;for(V=0;V<r.edgepaths.length;V++)if(q=r.edgepaths[V],a(q[q.length-1],c[0],n,f)){Q=!0,c.shift(),r.edgepaths.splice(N,1),V===N?r.paths.push(c.concat(q)):(V>N&&V--,r.edgepaths[V]=q.concat(c,X));break}Q||(r.edgepaths[N]=c.concat(X))}for(N=0;N<r.edgepaths.length&&!ce;N++)X=r.edgepaths[N],a(X[X.length-1],c[0],n,f)&&(c.shift(),r.edgepaths[N]=X.concat(c),ce=!0);ce||r.edgepaths.push(c)}}function v(r,t,i){var n=0,f=0;return r>20&&t?r===208||r===1114?n=i[0]===0?1:-1:f=i[1]===0?1:-1:R.BOTTOMSTART.indexOf(r)!==-1?f=1:R.LEFTSTART.indexOf(r)!==-1?n=1:R.TOPSTART.indexOf(r)!==-1?f=-1:n=-1,[n,f]}function d(r,t,i){var n=t[0]+Math.max(i[0],0),f=t[1]+Math.max(i[1],0),u=r.z[f][n],l=r.xaxis,m=r.yaxis;if(i[1]){var c=(r.level-u)/(r.z[f][n+1]-u),A=(c!==1?(1-c)*l.c2l(r.x[n]):0)+(c!==0?c*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(A),!0),m.c2p(r.y[f],!0),n+c,f]}else{var h=(r.level-u)/(r.z[f+1][n]-u),o=(h!==1?(1-h)*m.c2l(r.y[f]):0)+(h!==0?h*m.c2l(r.y[f+1]):0);return[l.c2p(r.x[n],!0),m.c2p(m.l2c(o),!0),n,f+h]}}},38200:function(H,G,e){var g=e(76308),R=e(55512);H.exports=function(C,S,v,d,r){r||(r={}),r.isContour=!0;var t=R(C,S,v,d,r);return t&&t.forEach(function(i){var n=i.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?i.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(i.color=g.addOpacity(n.line.color,1)))}),t}},66240:function(H,G,e){H.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(H,G,e){var g=e(3400);H.exports=function(a,C,S,v){v||(v={});var d=a("contours.showlabels");if(d){var r=C.font;g.coerceFont(a,"contours.labelfont",{weight:r.weight,style:r.style,variant:r.variant,family:r.family,size:r.size,color:S}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},41076:function(H,G,e){var g=e(33428),R=e(8932),a=e(46960);H.exports=function(S){var v=S.contours,d=v.start,r=a(v),t=v.size||1,i=Math.floor((r-d)/t)+1,n=v.coloring==="lines"?0:1,f=R.extractOpts(S);isFinite(t)||(t=1,i=1);var u=f.reversescale?R.flipScale(f.colorscale):f.colorscale,l=u.length,m=new Array(l),c=new Array(l),A,h,o=f.min,p=f.max;if(v.coloring==="heatmap"){for(h=0;h<l;h++)A=u[h],m[h]=A[0]*(p-o)+o,c[h]=A[1];var b=g.extent([o,p,v.start,v.start+t*(i-1)]),T=b[o<p?0:1],P=b[o<p?1:0];T!==o&&(m.splice(0,0,T),c.splice(0,0,c[0])),P!==p&&(m.push(P),c.push(c[c.length-1]))}else{var x=S._input&&typeof S._input.zmin=="number"&&typeof S._input.zmax=="number";for(x&&(d<=o||r>=p)&&(d<=o&&(d=o),r>=p&&(r=p),i=Math.floor((r-d)/t)+1,n=0),h=0;h<l;h++)A=u[h],m[h]=(A[0]*(i+n-1)-n/2)*t+d,c[h]=A[1];(x||S.autocontour)&&(m[0]>o&&(m.unshift(o),c.unshift(c[0])),m[m.length-1]<p&&(m.push(p),c.push(c[c.length-1])))}return R.makeColorScaleFunc({domain:m,range:c},{noNumericCheck:!0})}},72424:function(H,G,e){var g=e(93252);H.exports=function(C){var S=C[0].z,v=S.length,d=S[0].length,r=v===2||d===2,t,i,n,f,u,l,m,c,A;for(i=0;i<v-1;i++)for(f=[],i===0&&(f=f.concat(g.BOTTOMSTART)),i===v-2&&(f=f.concat(g.TOPSTART)),t=0;t<d-1;t++)for(n=f.slice(),t===0&&(n=n.concat(g.LEFTSTART)),t===d-2&&(n=n.concat(g.RIGHTSTART)),u=t+","+i,l=[[S[i][t],S[i][t+1]],[S[i+1][t],S[i+1][t+1]]],A=0;A<C.length;A++)c=C[A],m=R(c.level,l),m&&(c.crossings[u]=m,n.indexOf(m)!==-1&&(c.starts.push([t,i]),r&&n.indexOf(m,n.indexOf(m)+1)!==-1&&c.starts.push([t,i])))};function R(a,C){var S=(C[0][0]>a?0:1)+(C[0][1]>a?0:2)+(C[1][1]>a?0:4)+(C[1][0]>a?0:8);if(S===5||S===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return a>v?S===5?713:1114:S===5?104:208}return S===15?0:S}},23676:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=e(8932),S=e(72736),v=e(54460),d=e(78344),r=e(41420),t=e(72424),i=e(88748),n=e(61512),f=e(82172),u=e(56008),l=e(93252),m=l.LABELOPTIMIZER;G.plot=function(x,L,M,s){var E=L.xaxis,w=L.yaxis;R.makeTraceGroups(s,M,"contour").each(function(O){var _=g.select(this),U=O[0],z=U.trace,F=U.x,B=U.y,N=z.contours,V=n(N,L,U),X=R.ensureSingle(_,"g","heatmapcoloring"),q=[];N.coloring==="heatmap"&&(q=[O]),r(x,L,q,X),t(V),i(V);var te=E.c2p(F[0],!0),ne=E.c2p(F[F.length-1],!0),ce=w.c2p(B[0],!0),Q=w.c2p(B[B.length-1],!0),Z=[[te,Q],[ne,Q],[ne,ce],[te,ce]],re=V;N.type==="constraint"&&(re=f(V,N._operation)),c(_,Z,N),A(_,re,Z,N),o(_,V,x,U,N),b(_,L,x,U,Z)})};function c(P,x,L){var M=R.ensureSingle(P,"g","contourbg"),s=M.selectAll("path").data(L.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+x.join("L")+"Z").style("stroke","none")}function A(P,x,L,M){var s=M.coloring==="fill"||M.type==="constraint"&&M._operation!=="=",E="M"+L.join("L")+"Z";s&&u(x,M);var w=R.ensureSingle(P,"g","contourfill"),O=w.selectAll("path").data(s?x:[]);O.enter().append("path"),O.exit().remove(),O.each(function(_){var U=(_.prefixBoundary?E:"")+h(_,L);U?g.select(this).attr("d",U).style("stroke","none"):g.select(this).remove()})}function h(P,x){var L="",M=0,s=P.edgepaths.map(function(te,ne){return ne}),E=!0,w,O,_,U,z,F;function B(te){return Math.abs(te[1]-x[0][1])<.01}function N(te){return Math.abs(te[1]-x[2][1])<.01}function V(te){return Math.abs(te[0]-x[0][0])<.01}function X(te){return Math.abs(te[0]-x[2][0])<.01}for(;s.length;){for(F=a.smoothopen(P.edgepaths[M],P.smoothing),L+=E?F:F.replace(/^M/,"L"),s.splice(s.indexOf(M),1),w=P.edgepaths[M][P.edgepaths[M].length-1],U=-1,_=0;_<4;_++){if(!w){R.log("Missing end?",M,P);break}for(B(w)&&!X(w)?O=x[1]:V(w)?O=x[0]:N(w)?O=x[3]:X(w)&&(O=x[2]),z=0;z<P.edgepaths.length;z++){var q=P.edgepaths[z][0];Math.abs(w[0]-O[0])<.01?Math.abs(w[0]-q[0])<.01&&(q[1]-w[1])*(O[1]-q[1])>=0&&(O=q,U=z):Math.abs(w[1]-O[1])<.01?Math.abs(w[1]-q[1])<.01&&(q[0]-w[0])*(O[0]-q[0])>=0&&(O=q,U=z):R.log("endpt to newendpt is not vert. or horz.",w,O,q)}if(w=O,U>=0)break;L+="L"+O}if(U===P.edgepaths.length){R.log("unclosed perimeter path");break}M=U,E=s.indexOf(M)===-1,E&&(M=s[0],L+="Z")}for(M=0;M<P.paths.length;M++)L+=a.smoothclosed(P.paths[M],P.smoothing);return L}function o(P,x,L,M,s){var E=L._context.staticPlot,w=R.ensureSingle(P,"g","contourlines"),O=s.showlines!==!1,_=s.showlabels,U=O&&_,z=G.createLines(w,O||_,x,E),F=G.createLineClip(w,U,L,M.trace.uid),B=P.selectAll("g.contourlabels").data(_?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),_){var N=[],V=[];R.clearLocationCache();var X=G.labelFormatter(L,M),q=a.tester.append("text").attr("data-notex",1).call(a.font,s.labelfont),te=x[0].xaxis,ne=x[0].yaxis,ce=te._length,Q=ne._length,Z=te.range,re=ne.range,Y=R.aggNums(Math.min,null,M.x),oe=R.aggNums(Math.max,null,M.x),ue=R.aggNums(Math.min,null,M.y),K=R.aggNums(Math.max,null,M.y),$=Math.max(te.c2p(Y,!0),0),le=Math.min(te.c2p(oe,!0),ce),ae=Math.max(ne.c2p(K,!0),0),he=Math.min(ne.c2p(ue,!0),Q),xe={};Z[0]<Z[1]?(xe.left=$,xe.right=le):(xe.left=le,xe.right=$),re[0]<re[1]?(xe.top=ae,xe.bottom=he):(xe.top=he,xe.bottom=ae),xe.middle=(xe.top+xe.bottom)/2,xe.center=(xe.left+xe.right)/2,N.push([[xe.left,xe.top],[xe.right,xe.top],[xe.right,xe.bottom],[xe.left,xe.bottom]]);var Me=Math.sqrt(ce*ce+Q*Q),Ae=l.LABELDISTANCE*Me/Math.max(1,x.length/l.LABELINCREASE);z.each(function(ke){var we=G.calcTextOpts(ke.level,X,q,L);g.select(this).selectAll("path").each(function(){var Ee=this,be=R.getVisibleSegment(Ee,xe,we.height/2);if(be&&!(be.len<(we.width+we.height)*l.LABELMIN))for(var Le=Math.min(Math.ceil(be.len/Ae),l.LABELMAX),Ue=0;Ue<Le;Ue++){var Ve=G.findBestTextLocation(Ee,be,we,V,xe);if(!Ve)break;G.addLabelData(Ve,we,V,N)}})}),q.remove(),G.drawLabels(B,V,L,F,U?N:null)}_&&!O&&z.remove()}G.createLines=function(P,x,L,M){var s=L[0].smoothing,E=P.selectAll("g.contourlevel").data(x?L:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),x){var w=E.selectAll("path.openline").data(function(_){return _.pedgepaths||_.edgepaths});w.exit().remove(),w.enter().append("path").classed("openline",!0),w.attr("d",function(_){return a.smoothopen(_,s)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke");var O=E.selectAll("path.closedline").data(function(_){return _.ppaths||_.paths});O.exit().remove(),O.enter().append("path").classed("closedline",!0),O.attr("d",function(_){return a.smoothclosed(_,s)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke")}return E},G.createLineClip=function(P,x,L,M){var s=L._fullLayout._clips,E=x?"clipline"+M:null,w=s.selectAll("#"+E).data(x?[0]:[]);return w.exit().remove(),w.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),a.setClipUrl(P,E,L),w},G.labelFormatter=function(P,x){var L=P._fullLayout,M=x.trace,s=M.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)E.tickformat=s.labelformat,d(E,L);else{var w=C.extractOpts(M);if(w&&w.colorbar&&w.colorbar._axis)E=w.colorbar._axis;else{if(s.type==="constraint"){var O=s.value;R.isArrayOrTypedArray(O)?E.range=[O[0],O[O.length-1]]:E.range=[O,O]}else E.range=[s.start,s.end],E.nticks=(s.end-s.start)/s.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),d(E,L),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(_){return v.tickText(E,_).text}},G.calcTextOpts=function(P,x,L,M){var s=x(P);L.text(s).call(S.convertToTspans,M);var E=L.node(),w=a.bBox(E,!0);return{text:s,width:w.width,height:w.height,fontSize:+E.style["font-size"].replace("px",""),level:P,dy:(w.top+w.bottom)/2}},G.findBestTextLocation=function(P,x,L,M,s){var E=L.width,w,O,_,U,z;x.isClosed?(O=x.len/m.INITIALSEARCHPOINTS,w=x.min+O/2,_=x.max):(O=(x.len-E)/(m.INITIALSEARCHPOINTS+1),w=x.min+O+E/2,_=x.max-(O+E)/2);for(var F=1/0,B=0;B<m.ITERATIONS;B++){for(var N=w;N<_;N+=O){var V=R.getTextLocation(P,x.total,N,E),X=p(V,L,M,s);X<F&&(F=X,z=V,U=N)}if(F>m.MAXCOST*2)break;B&&(O/=2),w=U-O/2,_=w+O*1.5}if(F<=m.MAXCOST)return z};function p(P,x,L,M){var s=x.width/2,E=x.height/2,w=P.x,O=P.y,_=P.theta,U=Math.cos(_)*s,z=Math.sin(_)*s,F=(w>M.center?M.right-w:w-M.left)/(U+Math.abs(Math.sin(_)*E)),B=(O>M.middle?M.bottom-O:O-M.top)/(Math.abs(z)+Math.cos(_)*E);if(F<1||B<1)return 1/0;var N=m.EDGECOST*(1/(F-1)+1/(B-1));N+=m.ANGLECOST*_*_;for(var V=w-U,X=O-z,q=w+U,te=O+z,ne=0;ne<L.length;ne++){var ce=L[ne],Q=Math.cos(ce.theta)*ce.width/2,Z=Math.sin(ce.theta)*ce.width/2,re=R.segmentDistance(V,X,q,te,ce.x-Q,ce.y-Z,ce.x+Q,ce.y+Z)*2/(x.height+ce.height),Y=ce.level===x.level,oe=Y?m.SAMELEVELDISTANCE:1;if(re<=oe)return 1/0;var ue=m.NEIGHBORCOST*(Y?m.SAMELEVELFACTOR:1);N+=ue/(re-oe)}return N}G.addLabelData=function(P,x,L,M){var s=x.fontSize,E=x.width+s/3,w=Math.max(0,x.height-s/3),O=P.x,_=P.y,U=P.theta,z=Math.sin(U),F=Math.cos(U),B=function(V,X){return[O+V*F-X*z,_+V*z+X*F]},N=[B(-E/2,-w/2),B(-E/2,w/2),B(E/2,w/2),B(E/2,-w/2)];L.push({text:x.text,x:O,y:_,dy:x.dy,theta:U,level:x.level,width:E,height:w}),M.push(N)},G.drawLabels=function(P,x,L,M,s){var E=P.selectAll("text").data(x,function(U){return U.text+","+U.x+","+U.y+","+U.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(U){var z=U.x+Math.sin(U.theta)*U.dy,F=U.y-Math.cos(U.theta)*U.dy;g.select(this).text(U.text).attr({x:z,y:F,transform:"rotate("+180*U.theta/Math.PI+" "+z+" "+F+")"}).call(S.convertToTspans,L)}),s){for(var w="",O=0;O<s.length;O++)w+="M"+s[O].join("L")+"Z";var _=R.ensureSingle(M,"path","");_.attr("d",w)}};function b(P,x,L,M,s){var E=M.trace,w=L._fullLayout._clips,O="clip"+E.uid,_=w.selectAll("#"+O).data(E.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",O),_.exit().remove(),E.connectgaps===!1){var U={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:M.x,y:M.y,z:T(M),smoothing:0};t([U]),i([U]),u([U],{type:"levels"});var z=R.ensureSingle(_,"path","");z.attr("d",(U.prefixBoundary?"M"+s.join("L")+"Z":"")+h(U,s))}else O=null;a.setClipUrl(P,O,L)}function T(P){var x=P.trace._emptypoints,L=[],M=P.z.length,s=P.z[0].length,E,w=[],O;for(E=0;E<s;E++)w.push(1);for(E=0;E<M;E++)L.push(w.slice());for(E=0;E<x.length;E++)O=x[E],L[O[0]][O[1]]=0;return P.zmask=L,L}},54444:function(H,G,e){var g=e(54460),R=e(3400);H.exports=function(S,v){var d=S.contours;if(S.autocontour){var r=S.zmin,t=S.zmax;(S.zauto||r===void 0)&&(r=R.aggNums(Math.min,null,v)),(S.zauto||t===void 0)&&(t=R.aggNums(Math.max,null,v));var i=a(r,t,S.ncontours);d.size=i.dtick,d.start=g.tickFirst(i),i.range.reverse(),d.end=g.tickFirst(i),d.start===r&&(d.start+=d.size),d.end===t&&(d.end-=d.size),d.start>d.end&&(d.start=d.end=(d.start+d.end)/2),S._input.contours||(S._input.contours={}),R.extendFlat(S._input.contours,{start:d.start,end:d.end,size:d.size}),S._input.autocontour=!0}else if(d.type!=="constraint"){var n=d.start,f=d.end,u=S._input.contours;if(n>f&&(d.start=u.start=f,f=d.end=u.end=n,n=d.start),!(d.size>0)){var l;n===f?l=1:l=a(n,f,S.ncontours).dtick,u.size=d.size=l}}};function a(C,S,v){var d={type:"linear",range:[C,S]};return g.autoTicks(d,(S-C)/(v||15)),d}},52440:function(H,G,e){var g=e(33428),R=e(43616),a=e(41648),C=e(41076);H.exports=function(v){var d=g.select(v).selectAll("g.contour");d.style("opacity",function(r){return r[0].trace.opacity}),d.each(function(r){var t=g.select(this),i=r[0].trace,n=i.contours,f=i.line,u=n.size||1,l=n.start,m=n.type==="constraint",c=!m&&n.coloring==="lines",A=!m&&n.coloring==="fill",h=c||A?C(i):null;t.selectAll("g.contourlevel").each(function(b){g.select(this).selectAll("path").call(R.lineGroupStyle,f.width,c?h(b.level):f.color,f.dash)});var o=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(b){R.font(g.select(this),{weight:o.weight,style:o.style,variant:o.variant,family:o.family,size:o.size,color:o.color||(c?h(b.level):f.color)})}),m)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(A){var p;t.selectAll("g.contourfill path").style("fill",function(b){return p===void 0&&(p=b.level),h(b.level+.5*u)}),p===void 0&&(p=l),t.selectAll("g.contourbg path").style("fill",h(p-.5*u))}}),a(v)}},97680:function(H,G,e){var g=e(27260),R=e(17428);H.exports=function(C,S,v,d,r){var t=v("contours.coloring"),i,n="";t==="fill"&&(i=v("contours.showlines")),i!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(C.showlegend!==!0&&(S.showlegend=!1),S._dfltShowLegend=!1,g(C,S,d,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),R(v,d,n,r)}},37960:function(H,G,e){var g=e(83328),R=e(67104),a=e(49084),C=e(92880).extendFlat,S=R.contours;H.exports=C({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:R.fillcolor,autocontour:R.autocontour,ncontours:R.ncontours,contours:{type:S.type,start:S.start,end:S.end,size:S.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:S.showlines,showlabels:S.showlabels,labelfont:S.labelfont,labelformat:S.labelformat,operation:S.operation,value:S.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:R.line.color,width:R.line.width,dash:R.line.dash,smoothing:R.line.smoothing,editType:"plot"},zorder:R.zorder,transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},30572:function(H,G,e){var g=e(47128),R=e(3400),a=e(2872),C=e(26136),S=e(70448),v=e(11240),d=e(35744),r=e(3252),t=e(50948),i=e(54444);H.exports=function(u,l){var m=l._carpetTrace=t(u,l);if(!(!m||!m.visible||m.visible==="legendonly")){if(!l.a||!l.b){var c=u.data[m.index],A=u.data[l.index];A.a||(A.a=c.a),A.b||(A.b=c.b),r(A,l,l._defaultColor,u._fullLayout)}var h=n(u,l);return i(l,l._z),h}};function n(f,u){var l=u._carpetTrace,m=l.aaxis,c=l.baxis,A,h,o,p,b,T,P;m._minDtick=0,c._minDtick=0,R.isArray1D(u.z)&&a(u,m,c,"a","b",["z"]),A=u._a=u._a||u.a,p=u._b=u._b||u.b,A=A?m.makeCalcdata(u,"_a"):[],p=p?c.makeCalcdata(u,"_b"):[],h=u.a0||0,o=u.da||1,b=u.b0||0,T=u.db||1,P=u._z=C(u._z||u.z,u.transpose),u._emptypoints=v(P),S(P,u._emptypoints);var x=R.maxRowLength(P),L=u.xtype==="scaled"?"":A,M=d(u,L,h,o,x,m),s=u.ytype==="scaled"?"":p,E=d(u,s,b,T,P.length,c),w={a:M,b:E,z:P};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&g(f,u,{vals:P,containerStr:"",cLetter:"z"}),[w]}},3252:function(H,G,e){var g=e(3400),R=e(51264),a=e(37960),C=e(95536),S=e(84952),v=e(97680);H.exports=function(r,t,i,n){function f(c,A){return g.coerce(r,t,a,c,A)}function u(c){return g.coerce2(r,t,a,c)}if(f("carpet"),r.a&&r.b){var l=R(r,t,f,n,"a","b");if(!l){t.visible=!1;return}f("text");var m=f("contours.type")==="constraint";m?C(r,t,f,n,i,{hasHover:!1}):(S(r,t,f,u),v(r,t,f,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null;f("zorder")}},40448:function(H,G,e){H.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(H,G,e){var g=e(33428),R=e(87072),a=e(53416),C=e(43616),S=e(3400),v=e(72424),d=e(88748),r=e(23676),t=e(93252),i=e(82172),n=e(61512),f=e(56008),u=e(50948),l=e(77712);H.exports=function(L,M,s,E){var w=M.xaxis,O=M.yaxis;S.makeTraceGroups(E,s,"contour").each(function(_){var U=g.select(this),z=_[0],F=z.trace,B=F._carpetTrace=u(L,F),N=L.calcdata[B.index][0];if(!B.visible||B.visible==="legendonly")return;var V=z.a,X=z.b,q=F.contours,te=n(q,M,z),ne=q.type==="constraint",ce=q._operation,Q=ne?ce==="="?"lines":"fill":q.coloring;function Z(Me){var Ae=B.ab2xy(Me[0],Me[1],!0);return[w.c2p(Ae[0]),O.c2p(Ae[1])]}var re=[[V[0],X[X.length-1]],[V[V.length-1],X[X.length-1]],[V[V.length-1],X[0]],[V[0],X[0]]];v(te);var Y=(V[V.length-1]-V[0])*1e-8,oe=(X[X.length-1]-X[0])*1e-8;d(te,Y,oe);var ue=te;q.type==="constraint"&&(ue=i(te,ce)),m(te,Z);var K,$,le,ae,he=[];for(ae=N.clipsegments.length-1;ae>=0;ae--)K=N.clipsegments[ae],$=R([],K.x,w.c2p),le=R([],K.y,O.c2p),$.reverse(),le.reverse(),he.push(a($,le,K.bicubic));var xe="M"+he.join("L")+"Z";b(U,N.clipsegments,w,O,ne,Q),T(F,U,w,O,ue,re,Z,B,N,Q,xe),c(U,te,L,z,q,M,B),C.setClipUrl(U,B._clipPathId,L)})};function m(x,L){var M,s,E,w,O,_,U,z,F;for(M=0;M<x.length;M++){for(w=x[M],O=w.pedgepaths=[],_=w.ppaths=[],s=0;s<w.edgepaths.length;s++){for(F=w.edgepaths[s],U=[],E=0;E<F.length;E++)U[E]=L(F[E]);O.push(U)}for(s=0;s<w.paths.length;s++){for(F=w.paths[s],z=[],E=0;E<F.length;E++)z[E]=L(F[E]);_.push(z)}}}function c(x,L,M,s,E,w,O){var _=M._context.staticPlot,U=S.ensureSingle(x,"g","contourlines"),z=E.showlines!==!1,F=E.showlabels,B=z&&F,N=r.createLines(U,z||F,L,_),V=r.createLineClip(U,B,M,s.trace.uid),X=x.selectAll("g.contourlabels").data(F?[0]:[]);if(X.exit().remove(),X.enter().append("g").classed("contourlabels",!0),F){var q=w.xaxis,te=w.yaxis,ne=q._length,ce=te._length,Q=[[[0,0],[ne,0],[ne,ce],[0,ce]]],Z=[];S.clearLocationCache();var re=r.labelFormatter(M,s),Y=C.tester.append("text").attr("data-notex",1).call(C.font,E.labelfont),oe={left:0,right:ne,center:ne/2,top:0,bottom:ce,middle:ce/2},ue=Math.sqrt(ne*ne+ce*ce),K=t.LABELDISTANCE*ue/Math.max(1,L.length/t.LABELINCREASE);N.each(function($){var le=r.calcTextOpts($.level,re,Y,M);g.select(this).selectAll("path").each(function(ae){var he=this,xe=S.getVisibleSegment(he,oe,le.height/2);if(xe&&(A(he,ae,$,xe,O,le.height),!(xe.len<(le.width+le.height)*t.LABELMIN)))for(var Me=Math.min(Math.ceil(xe.len/K),t.LABELMAX),Ae=0;Ae<Me;Ae++){var ke=r.findBestTextLocation(he,xe,le,Z,oe);if(!ke)break;r.addLabelData(ke,le,Z,Q)}})}),Y.remove(),r.drawLabels(X,Z,M,V,B?Q:null)}F&&!z&&N.remove()}function A(x,L,M,s,E,w){for(var O,_=0;_<M.pedgepaths.length;_++)L===M.pedgepaths[_]&&(O=M.edgepaths[_]);if(!O)return;var U=E.a[0],z=E.a[E.a.length-1],F=E.b[0],B=E.b[E.b.length-1];function N(ne,ce){var Q=0,Z,re=.1;return(Math.abs(ne[0]-U)<re||Math.abs(ne[0]-z)<re)&&(Z=o(E.dxydb_rough(ne[0],ne[1],re)),Q=Math.max(Q,w*p(ce,Z)/2)),(Math.abs(ne[1]-F)<re||Math.abs(ne[1]-B)<re)&&(Z=o(E.dxyda_rough(ne[0],ne[1],re)),Q=Math.max(Q,w*p(ce,Z)/2)),Q}var V=h(x,0,1),X=h(x,s.total,s.total-1),q=N(O[0],V),te=s.total-N(O[O.length-1],X);s.min<q&&(s.min=q),s.max>te&&(s.max=te),s.len=s.max-s.min}function h(x,L,M){var s=x.getPointAtLength(L),E=x.getPointAtLength(M),w=E.x-s.x,O=E.y-s.y,_=Math.sqrt(w*w+O*O);return[w/_,O/_]}function o(x){var L=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/L,x[1]/L]}function p(x,L){var M=Math.abs(x[0]*L[0]+x[1]*L[1]),s=Math.sqrt(1-M*M);return s/M}function b(x,L,M,s,E,w){var O,_,U,z,F=S.ensureSingle(x,"g","contourbg"),B=F.selectAll("path").data(w==="fill"&&!E?[0]:[]);B.enter().append("path"),B.exit().remove();var N=[];for(z=0;z<L.length;z++)O=L[z],_=R([],O.x,M.c2p),U=R([],O.y,s.c2p),N.push(a(_,U,O.bicubic));B.attr("d","M"+N.join("L")+"Z").style("stroke","none")}function T(x,L,M,s,E,w,O,_,U,z,F){var B=z==="fill";B&&f(E,x.contours);var N=S.ensureSingle(L,"g","contourfill"),V=N.selectAll("path").data(B?E:[]);V.enter().append("path"),V.exit().remove(),V.each(function(X){var q=(X.prefixBoundary?F:"")+P(x,X,w,O,_,U,M,s);q?g.select(this).attr("d",q).style("stroke","none"):g.select(this).remove()})}function P(x,L,M,s,E,w,O,_){var U,z="",F=L.edgepaths.map(function(le,ae){return ae}),B=!0,N,V,X,q,te,ne,ce=Math.abs(M[0][0]-M[2][0])*1e-4,Q=Math.abs(M[0][1]-M[2][1])*1e-4;function Z(le){return Math.abs(le[1]-M[0][1])<Q}function re(le){return Math.abs(le[1]-M[2][1])<Q}function Y(le){return Math.abs(le[0]-M[0][0])<ce}function oe(le){return Math.abs(le[0]-M[2][0])<ce}function ue(le,ae){var he,xe,Me,Ae,ke="";for(Z(le)&&!oe(le)||re(le)&&!Y(le)?(Ae=E.aaxis,Me=l(E,w,[le[0],ae[0]],.5*(le[1]+ae[1]))):(Ae=E.baxis,Me=l(E,w,.5*(le[0]+ae[0]),[le[1],ae[1]])),he=1;he<Me.length;he++)for(ke+=Ae.smoothing?"C":"L",xe=0;xe<Me[he].length;xe++){var we=Me[he][xe];ke+=[O.c2p(we[0]),_.c2p(we[1])]+" "}return ke}for(U=0,N=null;F.length;){var K=L.edgepaths[U][0];for(N&&(z+=ue(N,K)),ne=C.smoothopen(L.edgepaths[U].map(s),L.smoothing),z+=B?ne:ne.replace(/^M/,"L"),F.splice(F.indexOf(U),1),N=L.edgepaths[U][L.edgepaths[U].length-1],q=-1,X=0;X<4;X++){if(!N){S.log("Missing end?",U,L);break}for(Z(N)&&!oe(N)?V=M[1]:Y(N)?V=M[0]:re(N)?V=M[3]:oe(N)&&(V=M[2]),te=0;te<L.edgepaths.length;te++){var $=L.edgepaths[te][0];Math.abs(N[0]-V[0])<ce?Math.abs(N[0]-$[0])<ce&&($[1]-N[1])*(V[1]-$[1])>=0&&(V=$,q=te):Math.abs(N[1]-V[1])<Q?Math.abs(N[1]-$[1])<Q&&($[0]-N[0])*(V[0]-$[0])>=0&&(V=$,q=te):S.log("endpt to newendpt is not vert. or horz.",N,V,$)}if(q>=0)break;z+=ue(N,V),N=V}if(q===L.edgepaths.length){S.log("unclosed perimeter path");break}U=q,B=F.indexOf(U)===-1,B&&(U=F[0],z+=ue(N,V)+"Z",N=null)}for(U=0;U<L.paths.length;U++)z+=C.smoothclosed(L.paths[U].map(s),L.smoothing);return z}},33928:function(H,G,e){var g=e(49084),R=e(21776).Ks,a=e(45464),C=e(31512),S=e(92880).extendFlat;H.exports=S({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:S({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:R(),showlegend:S({},a.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(H,G,e){var g=e(38248),R=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,C=e(47128),S=e(3400)._;H.exports=function(d,r){for(var t=r._length,i=new Array(t),n=r.z,f=R(n)&&n.length,u=0;u<t;u++){var l=i[u]={},m=r.lon[u],c=r.lat[u];if(l.lonlat=g(m)&&g(c)?[+m,+c]:[a,a],f){var A=n[u];l.z=g(A)?A:a}}return C(d,r,{vals:f?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:S(d,"lat:")+" ",lon:S(d,"lon:")+" "}}),i}},4629:function(H,G,e){var g=e(38248),R=e(3400),a=e(76308),C=e(8932),S=e(39032).BADNUM,v=e(44808).makeBlank;H.exports=function(r){var t=r[0].trace,i=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},f=t._opts={heatmap:n,geojson:v()};if(!i)return f;var u=[],l,m=t.z,c=t.radius,A=R.isArrayOrTypedArray(m)&&m.length,h=R.isArrayOrTypedArray(c);for(l=0;l<r.length;l++){var o=r[l],p=o.lonlat;if(p[0]!==S){var b={};if(A){var T=o.z;b.z=T!==S?T:0}h&&(b.r=g(c[l])&&c[l]>0?+c[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:b})}}var P=C.extractOpts(t),x=P.reversescale?C.flipScale(P.colorscale):P.colorscale,L=x[0][1],M=a.opacity(L)<1?L:a.addOpacity(L,0),s=["interpolate",["linear"],["heatmap-density"],0,M];for(l=1;l<x.length;l++)s.push(x[l][0],x[l][1]);var E=["interpolate",["linear"],["get","z"],P.min,0,P.max,1];return R.extendFlat(f.heatmap.paint,{"heatmap-weight":A?E:1/(P.max-P.min),"heatmap-color":s,"heatmap-radius":h?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),f.geojson={type:"FeatureCollection",features:u},f.heatmap.layout.visibility="visible",f}},97664:function(H,G,e){var g=e(3400),R=e(27260),a=e(33928);H.exports=function(S,v,d,r){function t(u,l){return g.coerce(S,v,a,u,l)}var i=t("lon")||[],n=t("lat")||[],f=Math.min(i.length,n.length);if(!f){v.visible=!1;return}v._length=f,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),R(S,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(H){H.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},25336:function(H,G,e){var g=e(54460),R=e(63312).hoverPoints,a=e(63312).getExtraText;H.exports=function(S,v,d){var r=R(S,v,d);if(r){var t=r[0],i=t.cd,n=i[0].trace,f=i[t.index];if(delete t.color,"z"in f){var u=t.subplot.mockAxis;t.z=f.z,t.zLabel=g.tickText(u,u.c2l(f.z),"hover").text}return t.extraText=a(n,f,i[0].t.labels),[t]}}},15088:function(H,G,e){H.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(g,R){for(var a=R.getMapLayers(),C=0;C<a.length;C++){var S=a[C],v=S.id;if(S.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(H,G,e){var g=e(4629),R=e(47552).traceLayerPrefix;function a(S,v){this.type="densitymapbox",this.subplot=S,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",R+v+"-heatmap"]],this.below=null}var C=a.prototype;C.update=function(S){var v=this.subplot,d=this.layerList,r=g(S),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var i=0;i<d.length;i++){var n=d[i],f=n[0],u=n[1],l=r[f];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},C._addLayers=function(S,v){for(var d=this.subplot,r=this.layerList,t=this.sourceId,i=0;i<r.length;i++){var n=r[i],f=n[0],u=S[f];d.addLayer({type:f,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},C._removeLayers=function(){for(var S=this.subplot.map,v=this.layerList,d=v.length-1;d>=0;d--)S.removeLayer(v[d][1])},C.dispose=function(){var S=this.subplot.map;this._removeLayers(),S.removeSource(this.sourceId)},H.exports=function(v,d){var r=d[0].trace,t=new a(v,r.uid),i=t.sourceId,n=g(d),f=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,f),t}},74248:function(H,G,e){var g=e(3400);H.exports=function(a,C){for(var S=0;S<a.length;S++)a[S].i=S;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.hovertext,a,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,a,"mo"),g.mergeArray(v.color,a,"mc");var d=v.line;d&&(g.mergeArray(d.color,a,"mlc"),g.mergeArrayCastPositive(d.width,a,"mlw"))}}},20088:function(H,G,e){var g=e(20832),R=e(52904).line,a=e(45464),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,d=e(74732),r=e(92880).extendFlat,t=e(76308);H.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:S({},{keys:d.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:r({},g.insidetextanchor,{dflt:"middle"}),textangle:r({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:r({},g.orientation,{}),offset:r({},g.offset,{arrayOk:!1}),width:r({},g.width,{arrayOk:!1}),marker:i(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},R.color,{dflt:t.defaultLine}),width:r({},R.width,{dflt:0,editType:"plot"}),dash:R.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,zorder:g.zorder};function i(){var n=r({},g.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(H,G,e){var g=e(54460),R=e(1220),a=e(74248),C=e(4500),S=e(39032).BADNUM;H.exports=function(r,t){var i=g.getFromId(r,t.xaxis||"x"),n=g.getFromId(r,t.yaxis||"y"),f,u,l,m,c,A,h,o;t.orientation==="h"?(f=i.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),m=R(t,n,"y",l),c=!!t.yperiodalignment,A="y"):(f=n.makeCalcdata(t,"y"),l=i.makeCalcdata(t,"x"),m=R(t,i,"x",l),c=!!t.xperiodalignment,A="x"),u=m.vals;var p=Math.min(u.length,f.length),b=new Array(p);for(t._base=[],h=0;h<p;h++){f[h]<0&&(f[h]=S);var T=!1;f[h]!==S&&h+1<p&&f[h+1]!==S&&(T=!0),o=b[h]={p:u[h],s:f[h],cNext:T},t._base[h]=-.5*o.s,c&&(b[h].orig_p=l[h],b[h][A+"End"]=m.ends[h],b[h][A+"Start"]=m.starts[h]),t.ids&&(o.id=String(t.ids[h])),h===0&&(b[0].vTotal=0),b[0].vTotal+=v(o.s),o.begR=v(o.s)/v(b[0].s)}var P;for(h=0;h<p;h++)o=b[h],o.s!==S&&(o.sumR=o.s/b[0].vTotal,o.difR=P!==void 0?o.s/P:1,P=o.s);return a(b,t),C(b,t),b};function v(d){return d===S?0:d}},74732:function(H){H.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(H,G,e){var g=e(96376).setGroupPositions;H.exports=function(a,C){var S=a._fullLayout,v=a._fullData,d=a.calcdata,r=C.xaxis,t=C.yaxis,i=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var m=v[l],c=m.orientation==="h";m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="funnel"&&(u=d[l],c?f.push(u):n.push(u),i.push(u))}var A={mode:S.funnelmode,norm:S.funnelnorm,gap:S.funnelgap,groupgap:S.funnelgroupgap};for(g(a,r,t,n,A),g(a,t,r,f,A),l=0;l<i.length;l++){u=i[l];for(var h=0;h<u.length;h++)h+1<u.length&&(u[h].nextP0=u[h+1].p0,u[h].nextS0=u[h+1].s0,u[h].nextP1=u[h+1].p1,u[h].nextS1=u[h+1].s1)}}},45432:function(H,G,e){var g=e(3400),R=e(20011),a=e(31508).handleText,C=e(43980),S=e(31147),v=e(20088),d=e(76308);function r(n,f,u,l){function m(T,P){return g.coerce(n,f,v,T,P)}var c=C(n,f,l,m);if(!c){f.visible=!1;return}S(n,f,l,m),m("xhoverformat"),m("yhoverformat"),m("orientation",f.y&&!f.x?"v":"h"),m("offset"),m("width");var A=m("text");m("hovertext"),m("hovertemplate");var h=m("textposition");a(n,f,l,m,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&m("textinfo",g.isArrayOrTypedArray(A)?"text+value":"value");var o=m("marker.color",u);m("marker.line.color",d.defaultLine),m("marker.line.width");var p=m("connector.visible");if(p){m("connector.fillcolor",t(o));var b=m("connector.line.width");b&&(m("connector.line.color"),m("connector.line.dash"))}m("zorder")}function t(n){var f=g.isArrayOrTypedArray(n)?"#000":n;return d.addOpacity(f,.5*d.opacity(f))}function i(n,f){var u,l;function m(A){return g.coerce(l._input,l,v,A)}if(f.funnelmode==="group")for(var c=0;c<n.length;c++)l=n[c],u=l._input,R(u,l,f,m)}H.exports={supplyDefaults:r,crossTraceDefaults:i}},34580:function(H){H.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},31488:function(H,G,e){var g=e(76308).opacity,R=e(63400).hoverOnBars,a=e(3400).formatPercent;H.exports=function(v,d,r,t,i){var n=R(v,d,r,t,i);if(n){var f=n.cd,u=f[0].trace,l=u.orientation==="h",m=n.index,c=f[m],A=l?"x":"y";n[A+"LabelVal"]=c.s,n.percentInitial=c.begR,n.percentInitialLabel=a(c.begR,1),n.percentPrevious=c.difR,n.percentPreviousLabel=a(c.difR,1),n.percentTotal=c.sumR,n.percentTotalLabel=a(c.sumR,1);var h=c.hi||u.hoverinfo,o=[];if(h&&h!=="none"&&h!=="skip"){var p=h==="all",b=h.split("+"),T=function(P){return p||b.indexOf(P)!==-1};T("percent initial")&&o.push(n.percentInitialLabel+" of initial"),T("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),T("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=C(u,c),[n]}};function C(S,v){var d=S.marker,r=v.mc||d.color,t=v.mlc||d.line.color,i=v.mlw||d.line.width;if(g(r))return r;if(g(t)&&i)return t}},94704:function(H,G,e){H.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(H){H.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(H,G,e){var g=e(3400),R=e(7076);H.exports=function(a,C,S){var v=!1;function d(i,n){return g.coerce(a,C,R,i,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(d("funnelmode"),d("funnelgap",.2),d("funnelgroupgap"))}},42200:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;H.exports=function(n,f,u,l){var m=n._fullLayout;v("funnel",m),d(n,f,u,l),r(n,f,u,l),S.plot(n,f,u,l,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function d(i,n,f,u){var l=n.xaxis,m=n.yaxis;R.makeTraceGroups(u,f,"trace bars").each(function(c){var A=g.select(this),h=c[0].trace,o=R.ensureSingle(A,"g","regions");if(!h.connector||!h.connector.visible){o.remove();return}var p=h.orientation==="h",b=o.selectAll("g.region").data(R.identity);b.enter().append("g").classed("region",!0),b.exit().remove();var T=b.size();b.each(function(P,x){if(!(x!==T-1&&!P.cNext)){var L=t(P,l,m,p),M=L[0],s=L[1],E="";M[0]!==C&&s[0]!==C&&M[1]!==C&&s[1]!==C&&M[2]!==C&&s[2]!==C&&M[3]!==C&&s[3]!==C&&(p?E+="M"+M[0]+","+s[1]+"L"+M[2]+","+s[2]+"H"+M[3]+"L"+M[1]+","+s[1]+"Z":E+="M"+M[1]+","+s[1]+"L"+M[2]+","+s[3]+"V"+s[2]+"L"+M[1]+","+s[0]+"Z"),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(a.setClipUrl,n.layerClipId,i)}})})}function r(i,n,f,u){var l=n.xaxis,m=n.yaxis;R.makeTraceGroups(u,f,"trace bars").each(function(c){var A=g.select(this),h=c[0].trace,o=R.ensureSingle(A,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){o.remove();return}var p=h.orientation==="h",b=o.selectAll("g.line").data(R.identity);b.enter().append("g").classed("line",!0),b.exit().remove();var T=b.size();b.each(function(P,x){if(!(x!==T-1&&!P.cNext)){var L=t(P,l,m,p),M=L[0],s=L[1],E="";M[3]!==void 0&&s[3]!==void 0&&(p?(E+="M"+M[0]+","+s[1]+"L"+M[2]+","+s[2],E+="M"+M[1]+","+s[1]+"L"+M[3]+","+s[2]):(E+="M"+M[1]+","+s[1]+"L"+M[2]+","+s[3],E+="M"+M[1]+","+s[0]+"L"+M[2]+","+s[2])),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(a.setClipUrl,n.layerClipId,i)}})})}function t(i,n,f,u){var l=[],m=[],c=u?n:f,A=u?f:n;return l[0]=c.c2p(i.s0,!0),m[0]=A.c2p(i.p0,!0),l[1]=c.c2p(i.s1,!0),m[1]=A.c2p(i.p1,!0),l[2]=c.c2p(i.nextS0,!0),m[2]=A.c2p(i.nextP0,!0),l[3]=c.c2p(i.nextS1,!0),m[3]=A.c2p(i.nextP1,!0),u?[l,m]:[m,l]}},44544:function(H,G,e){var g=e(33428),R=e(43616),a=e(76308),C=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,d=S.styleTextPoints;function r(t,i,n){var f=n||g.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,f,"funnel"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=g.select(this),m=u[0].trace;l.selectAll(".point > path").each(function(c){if(!c.isBlank){var A=m.marker;g.select(this).call(a.fill,c.mc||A.color).call(a.stroke,c.mlc||A.line.color).call(R.dashLine,A.line.dash,c.mlw||A.line.width).style("opacity",m.selectedpoints&&!c.selected?C:1)}}),d(l,m,t),l.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(a.fill,m.connector.fillcolor)}),l.selectAll(".lines").each(function(){var c=m.connector.line;R.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}H.exports={style:r}},22332:function(H,G,e){var g=e(74996),R=e(45464),a=e(86968).u,C=e(21776).Ks,S=e(21776).Gw,v=e(92880).extendFlat;H.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:S({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},R.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(H,G,e){var g=e(7316);G.name="funnelarea",G.plot=function(R,a,C,S){g.plotBasePlot(G.name,R,a,C,S)},G.clean=function(R,a,C,S){g.cleanBasePlot(G.name,R,a,C,S)}},54e3:function(H,G,e){var g=e(45768);function R(C,S){return g.calc(C,S)}function a(C){g.crossTraceCalc(C,{type:"funnelarea"})}H.exports={calc:R,crossTraceCalc:a}},92688:function(H,G,e){var g=e(3400),R=e(22332),a=e(86968).Q,C=e(31508).handleText,S=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;H.exports=function(r,t,i,n){function f(T,P){return g.coerce(r,t,R,T,P)}var u=f("labels"),l=f("values"),m=S(u,l),c=m.len;if(t._hasLabels=m.hasLabels,t._hasValues=m.hasValues,!t._hasLabels&&t._hasValues&&(f("label0"),f("dlabel")),!c){t.visible=!1;return}t._length=c,v(r,t,n,f),f("scalegroup");var A=f("text"),h=f("texttemplate"),o;if(h||(o=f("textinfo",Array.isArray(A)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),h||o&&o!=="none"){var p=f("textposition");C(r,t,n,f,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else o==="none"&&f("textposition","none");a(t,n,f);var b=f("title.text");b&&(f("title.position"),g.coerceFont(f,"title.font",n.font)),f("aspectratio"),f("baseratio")}},62396:function(H,G,e){H.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(H,G,e){var g=e(85204).hiddenlabels;H.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(H,G,e){var g=e(3400),R=e(61280);H.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("hiddenlabels"),v("funnelareacolorway",S.colorway),v("extendfunnelareacolors")}},39472:function(H,G,e){var g=e(33428),R=e(43616),a=e(3400),C=a.strScale,S=a.strTranslate,v=e(72736),d=e(98184),r=d.toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,f=e(69656),u=e(37820),l=u.attachFxHandlers,m=u.determineInsideTextFont,c=u.layoutAreas,A=u.prerenderTitles,h=u.positionTitleOutside,o=u.formatSliceLabel;H.exports=function(x,L){var M=x._context.staticPlot,s=x._fullLayout;n("funnelarea",s),A(L,x),c(L,s._size),a.makeTraceGroups(s._funnelarealayer,L,"trace").each(function(E){var w=g.select(this),O=E[0],_=O.trace;T(E),w.each(function(){var U=g.select(this).selectAll("g.slice").data(E);U.enter().append("g").classed("slice",!0),U.exit().remove(),U.each(function(F,B){if(F.hidden){g.select(this).selectAll("path,g").remove();return}F.pointNumber=F.i,F.curveNumber=_.index;var N=O.cx,V=O.cy,X=g.select(this),q=X.selectAll("path.surface").data([F]);q.enter().append("path").classed("surface",!0).style({"pointer-events":M?"none":"all"}),X.call(l,x,E);var te="M"+(N+F.TR[0])+","+(V+F.TR[1])+p(F.TR,F.BR)+p(F.BR,F.BL)+p(F.BL,F.TL)+"Z";q.attr("d",te),o(x,F,O);var ne=f.castOption(_.textposition,F.pts),ce=X.selectAll("g.slicetext").data(F.text&&ne!=="none"?[0]:[]);ce.enter().append("g").classed("slicetext",!0),ce.exit().remove(),ce.each(function(){var Q=a.ensureSingle(g.select(this),"text","",function(le){le.attr("data-notex",1)}),Z=a.ensureUniformFontSize(x,m(_,F,s.font));Q.text(F.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(R.font,Z).call(v.convertToTspans,x);var re=R.bBox(Q.node()),Y,oe,ue,K=Math.min(F.BL[1],F.BR[1])+V,$=Math.max(F.TL[1],F.TR[1])+V;oe=Math.max(F.TL[0],F.BL[0])+N,ue=Math.min(F.TR[0],F.BR[0])+N,Y=r(oe,ue,K,$,re,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Y.fontSize=Z.size,i(_.type,Y,s),E[B].transform=Y,a.setTransormAndDisplay(Q,Y)})});var z=g.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);z.enter().append("g").classed("titletext",!0),z.exit().remove(),z.each(function(){var F=a.ensureSingle(g.select(this),"text","",function(V){V.attr("data-notex",1)}),B=_.title.text;_._meta&&(B=a.templateString(B,_._meta)),F.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(R.font,_.title.font).call(v.convertToTspans,x);var N=h(O,s._size);F.attr("transform",S(N.x,N.y)+C(Math.min(1,N.scale))+S(N.tx,N.ty))})})})};function p(P,x){var L=x[0]-P[0],M=x[1]-P[1];return"l"+L+","+M}function b(P,x){return[.5*(P[0]+x[0]),.5*(P[1]+x[1])]}function T(P){if(!P.length)return;var x=P[0],L=x.trace,M=L.aspectratio,s=L.baseratio;s>.999&&(s=.999);var E=Math.pow(s,2),w=x.vTotal,O=w*E/(1-E),_=w,U=O/w;function z(){var ae=Math.sqrt(U);return{x:ae,y:-ae}}function F(){var ae=z();return[ae.x,ae.y]}var B,N=[];N.push(F());var V,X;for(V=P.length-1;V>-1;V--)if(X=P[V],!X.hidden){var q=X.v/_;U+=q,N.push(F())}var te=1/0,ne=-1/0;for(V=0;V<N.length;V++)B=N[V],te=Math.min(te,B[1]),ne=Math.max(ne,B[1]);for(V=0;V<N.length;V++)N[V][1]-=(ne+te)/2;var ce=N[N.length-1][0],Q=x.r,Z=(ne-te)/2,re=Q/ce,Y=Q/Z*M;for(x.r=Y*Z,V=0;V<N.length;V++)N[V][0]*=re,N[V][1]*=Y;B=N[0];var oe=[-B[0],B[1]],ue=[B[0],B[1]],K=0;for(V=P.length-1;V>-1;V--)if(X=P[V],!X.hidden){K+=1;var $=N[K][0],le=N[K][1];X.TL=[-$,le],X.TR=[$,le],X.BL=oe,X.BR=ue,X.pxmid=b(X.TR,X.BR),oe=X.TL,ue=X.TR}}},62096:function(H,G,e){var g=e(33428),R=e(10528),a=e(82744).resizeText;H.exports=function(S){var v=S._fullLayout._funnelarealayer.selectAll(".trace");a(S,v,"funnelarea"),v.each(function(d){var r=d[0],t=r.trace,i=g.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){g.select(this).call(R,n,t,S)})})}},83328:function(H,G,e){var g=e(52904),R=e(45464),a=e(25376),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,d=e(49084),r=e(92880).extendFlat;H.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},g.x,{impliedEdits:{xtype:"array"}}),x0:r({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},g.y,{impliedEdits:{ytype:"array"}}),y0:r({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:S(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},R.showlegend,{dflt:!1}),zorder:g.zorder},{transforms:void 0},d("",{cLetter:"z",autoColorDflt:!1}))},19512:function(H,G,e){var g=e(24040),R=e(3400),a=e(54460),C=e(1220),S=e(55480),v=e(47128),d=e(2872),r=e(26136),t=e(70448),i=e(11240),n=e(35744),f=e(39032).BADNUM;H.exports=function(c,A){var h=a.getFromId(c,A.xaxis||"x"),o=a.getFromId(c,A.yaxis||"y"),p=g.traceIs(A,"contour"),b=g.traceIs(A,"histogram"),T=g.traceIs(A,"gl2d"),P=p?"best":A.zsmooth,x,L,M,s,E,w,O,_,U,z,F;if(h._minDtick=0,o._minDtick=0,b)F=S(c,A),s=F.orig_x,x=F.x,L=F.x0,M=F.dx,_=F.orig_y,E=F.y,w=F.y0,O=F.dy,U=F.z;else{var B=A.z;R.isArray1D(B)?(d(A,h,o,"x","y",["z"]),x=A._x,E=A._y,B=A._z):(s=A.x?h.makeCalcdata(A,"x"):[],_=A.y?o.makeCalcdata(A,"y"):[],x=C(A,h,"x",s).vals,E=C(A,o,"y",_).vals,A._x=x,A._y=E),L=A.x0,M=A.dx,w=A.y0,O=A.dy,U=r(B,A,h,o)}(h.rangebreaks||o.rangebreaks)&&(U=l(x,E,U),b||(x=u(x),E=u(E),A._x=x,A._y=E)),!b&&(p||A.connectgaps)&&(A._emptypoints=i(U),t(U,A._emptypoints));function N(re){P=A._input.zsmooth=A.zsmooth=!1,R.warn('cannot use zsmooth: "fast": '+re)}function V(re){if(re.length>1){var Y=(re[re.length-1]-re[0])/(re.length-1),oe=Math.abs(Y/100);for(z=0;z<re.length-1;z++)if(Math.abs(re[z+1]-re[z]-Y)>oe)return!1}return!0}A._islinear=!1,h.type==="log"||o.type==="log"?P==="fast"&&N("log axis found"):V(x)?V(E)?A._islinear=!0:P==="fast"&&N("y scale is not linear"):P==="fast"&&N("x scale is not linear");var X=R.maxRowLength(U),q=A.xtype==="scaled"?"":x,te=n(A,q,L,M,X,h),ne=A.ytype==="scaled"?"":E,ce=n(A,ne,w,O,U.length,o);T||(A._extremes[h._id]=a.findExtremes(h,te),A._extremes[o._id]=a.findExtremes(o,ce));var Q={x:te,y:ce,z:U,text:A._text||A.text,hovertext:A._hovertext||A.hovertext};if(A.xperiodalignment&&s&&(Q.orig_x=s),A.yperiodalignment&&_&&(Q.orig_y=_),q&&q.length===te.length-1&&(Q.xCenter=q),ne&&ne.length===ce.length-1&&(Q.yCenter=ne),b&&(Q.xRanges=F.xRanges,Q.yRanges=F.yRanges,Q.pts=F.pts),p||v(c,A,{vals:U,cLetter:"z"}),p&&A.contours&&A.contours.coloring==="heatmap"){var Z={type:A.type==="contour"?"heatmap":"histogram2d",xcalendar:A.xcalendar,ycalendar:A.ycalendar};Q.xfill=n(Z,q,L,M,X,h),Q.yfill=n(Z,ne,w,O,U.length,o)}return[Q]};function u(m){for(var c=[],A=m.length,h=0;h<A;h++){var o=m[h];o!==f&&c.push(o)}return c}function l(m,c,A){for(var h=[],o=-1,p=0;p<A.length;p++)if(c[p]!==f){o++,h[o]=[];for(var b=0;b<A[p].length;b++)m[b]!==f&&h[o].push(A[p][b])}return h}},26136:function(H,G,e){var g=e(38248),R=e(3400),a=e(39032).BADNUM;H.exports=function(S,v,d,r){var t,i,n,f,u,l;function m(b){if(g(b))return+b}if(v&&v.transpose){for(t=0,u=0;u<S.length;u++)t=Math.max(t,S[u].length);if(t===0)return!1;n=function(b){return b.length},f=function(b,T,P){return(b[P]||[])[T]}}else t=S.length,n=function(b,T){return b[T].length},f=function(b,T,P){return(b[T]||[])[P]};var c=function(b,T,P){return T===a||P===a?a:f(b,T,P)};function A(b){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&b&&b.type==="category"&&v["_"+b._id.charAt(0)].length){var T=b._id.charAt(0),P={},x=v["_"+T+"CategoryMap"]||v[T];for(u=0;u<x.length;u++)P[x[u]]=u;return function(L){var M=P[b._categories[L]];return M+1?M:a}}else return R.identity}var h=A(d),o=A(r);r&&r.type==="category"&&(t=r._categories.length);var p=new Array(t);for(u=0;u<t;u++)for(d&&d.type==="category"?i=d._categories.length:i=n(S,u),p[u]=new Array(i),l=0;l<i;l++)p[u][l]=m(c(S,o(u),h(l)));return p}},96288:function(H){H.exports={min:"zmin",max:"zmax"}},2872:function(H,G,e){var g=e(3400),R=e(39032).BADNUM,a=e(1220);H.exports=function(S,v,d,r,t,i){var n=S._length,f=v.makeCalcdata(S,r),u=d.makeCalcdata(S,t);f=a(S,v,r,f).vals,u=a(S,d,t,u).vals;var l=S.text,m=l!==void 0&&g.isArray1D(l),c=S.hovertext,A=c!==void 0&&g.isArray1D(c),h,o,p=g.distinctVals(f),b=p.vals,T=g.distinctVals(u),P=T.vals,x=[],L,M,s=P.length,E=b.length;for(h=0;h<i.length;h++)x[h]=g.init2dArray(s,E);m&&(L=g.init2dArray(s,E)),A&&(M=g.init2dArray(s,E));var w=g.init2dArray(s,E);for(h=0;h<n;h++)if(f[h]!==R&&u[h]!==R){var O=g.findBin(f[h]+p.minDiff/2,b),_=g.findBin(u[h]+T.minDiff/2,P);for(o=0;o<i.length;o++){var U=i[o],z=S[U],F=x[o];F[_][O]=z[h],w[_][O]=h}m&&(L[_][O]=l[h]),A&&(M[_][O]=c[h])}for(S["_"+r]=b,S["_"+t]=P,o=0;o<i.length;o++)S["_"+i[o]]=x[o];m&&(S._text=L),A&&(S._hovertext=M),v&&v.type==="category"&&(S["_"+r+"CategoryMap"]=b.map(function(B){return v._categories[B]})),d&&d.type==="category"&&(S["_"+t+"CategoryMap"]=P.map(function(B){return d._categories[B]})),S._after2before=w}},24480:function(H,G,e){var g=e(3400),R=e(51264),a=e(39096),C=e(31147),S=e(82748),v=e(27260),d=e(83328);H.exports=function(t,i,n,f){function u(m,c){return g.coerce(t,i,d,m,c)}var l=R(t,i,u,f);if(!l){i.visible=!1;return}C(t,i,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),a(u,f),S(t,i,u,f),u("hoverongaps"),u("connectgaps",g.isArray1D(i.z)&&i.zsmooth!==!1),v(t,i,f,u,{prefix:"",cLetter:"z"}),u("zorder")}},11240:function(H,G,e){var g=e(3400).maxRowLength;H.exports=function(a){var C=[],S={},v=[],d=a[0],r=[],t=[0,0,0],i=g(a),n,f,u,l,m,c,A,h;for(f=0;f<a.length;f++)for(n=r,r=d,d=a[f+1]||[],u=0;u<i;u++)r[u]===void 0&&(c=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(d[u]!==void 0?1:0),c?(f===0&&c++,u===0&&c++,f===a.length-1&&c++,u===r.length-1&&c++,c<4&&(S[[f,u]]=[f,u,c]),C.push([f,u,c])):v.push([f,u]));for(;v.length;){for(A={},h=!1,m=v.length-1;m>=0;m--)l=v[m],f=l[0],u=l[1],c=((S[[f-1,u]]||t)[2]+(S[[f+1,u]]||t)[2]+(S[[f,u-1]]||t)[2]+(S[[f,u+1]]||t)[2])/20,c&&(A[l]=[f,u,c],v.splice(m,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(l in A)S[l]=A[l],C.push(A[l])}return C.sort(function(o,p){return p[2]-o[2]})}},55512:function(H,G,e){var g=e(93024),R=e(3400),a=R.isArrayOrTypedArray,C=e(54460),S=e(8932).extractOpts;H.exports=function(d,r,t,i,n){n||(n={});var f=n.isContour,u=d.cd[0],l=u.trace,m=d.xa,c=d.ya,A=u.x,h=u.y,o=u.z,p=u.xCenter,b=u.yCenter,T=u.zmask,P=l.zhoverformat,x=A,L=h,M,s,E,w;if(d.index!==!1){try{E=Math.round(d.index[1]),w=Math.round(d.index[0])}catch{R.error("Error hovering on heatmap, pointNumber must be [row,col], found:",d.index);return}if(E<0||E>=o[0].length||w<0||w>o.length)return}else{if(g.inbox(r-A[0],r-A[A.length-1],0)>0||g.inbox(t-h[0],t-h[h.length-1],0)>0)return;if(f){var O;for(x=[2*A[0]-A[1]],O=1;O<A.length;O++)x.push((A[O]+A[O-1])/2);for(x.push([2*A[A.length-1]-A[A.length-2]]),L=[2*h[0]-h[1]],O=1;O<h.length;O++)L.push((h[O]+h[O-1])/2);L.push([2*h[h.length-1]-h[h.length-2]])}E=Math.max(0,Math.min(x.length-2,R.findBin(r,x))),w=Math.max(0,Math.min(L.length-2,R.findBin(t,L)))}var _=m.c2p(A[E]),U=m.c2p(A[E+1]),z=c.c2p(h[w]),F=c.c2p(h[w+1]),B,N;f?(B=u.orig_x||A,N=u.orig_y||h,U=_,M=B[E],F=z,s=N[w]):(B=u.orig_x||p||A,N=u.orig_y||b||h,M=p?B[E]:(B[E]+B[E+1])/2,s=b?N[w]:(N[w]+N[w+1])/2,m&&m.type==="category"&&(M=A[E]),c&&c.type==="category"&&(s=h[w]),l.zsmooth&&(_=U=m.c2p(M),z=F=c.c2p(s)));var V=o[w][E];if(T&&!T[w][E]&&(V=void 0),!(V===void 0&&!l.hoverongaps)){var X;a(u.hovertext)&&a(u.hovertext[w])?X=u.hovertext[w][E]:a(u.text)&&a(u.text[w])&&(X=u.text[w][E]);var q=S(l),te={type:"linear",range:[q.min,q.max],hoverformat:P,_separators:m._separators,_numFormat:m._numFormat},ne=C.tickText(te,V,"hover").text;return[R.extendFlat(d,{index:l._after2before?l._after2before[w][E]:[w,E],distance:d.maxHoverDistance,spikeDistance:d.maxSpikeDistance,x0:_,x1:U,y0:z,y1:F,xLabelVal:M,yLabelVal:s,zLabelVal:V,zLabel:ne,text:X})]}}},81932:function(H,G,e){H.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(H,G,e){var g=e(3400),R=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}H.exports=function(d,r){var t=1,i;for(S(d,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&t>R;i++)t=S(d,r,C(t));return t>R&&g.log("interp2d didn't converge quickly",t),d};function S(v,d,r){var t=0,i,n,f,u,l,m,c,A,h,o,p,b,T;for(u=0;u<d.length;u++){for(i=d[u],n=i[0],f=i[1],p=v[n][f],o=0,h=0,l=0;l<4;l++)m=a[l],c=v[n+m[0]],c&&(A=c[f+m[1]],A!==void 0&&(o===0?b=T=A:(b=Math.min(b,A),T=Math.max(T,A)),h++,o+=A));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][f]=o/h,p===void 0?h<4&&(t=1):(v[n][f]=(1+r)*v[n][f]-r*p,T>b&&(t=Math.max(t,Math.abs(v[n][f]-p)/(T-b))))}return t}},39096:function(H,G,e){var g=e(3400);H.exports=function(a,C){a("texttemplate");var S=g.extendFlat({},C.font,{color:"auto",size:"auto"});g.coerceFont(a,"textfont",S)}},35744:function(H,G,e){var g=e(24040),R=e(3400).isArrayOrTypedArray;H.exports=function(C,S,v,d,r,t){var i=[],n=g.traceIs(C,"contour"),f=g.traceIs(C,"histogram"),u=g.traceIs(C,"gl2d"),l,m,c,A=R(S)&&S.length>1;if(A&&!f&&t.type!=="category"){var h=S.length;if(h<=r){if(n||u)i=Array.from(S).slice(0,r);else if(r===1)t.type==="log"?i=[.5*S[0],2*S[0]]:i=[S[0]-.5,S[0]+.5];else if(t.type==="log"){for(i=[Math.pow(S[0],1.5)/Math.pow(S[1],.5)],c=1;c<h;c++)i.push(Math.sqrt(S[c-1]*S[c]));i.push(Math.pow(S[h-1],1.5)/Math.pow(S[h-2],.5))}else{for(i=[1.5*S[0]-.5*S[1]],c=1;c<h;c++)i.push((S[c-1]+S[c])*.5);i.push(1.5*S[h-1]-.5*S[h-2])}if(h<r){var o=i[i.length-1],p;if(t.type==="log")for(p=o/i[i.length-2],c=h;c<r;c++)o*=p,i.push(o);else for(p=o-i[i.length-2],c=h;c<r;c++)o+=p,i.push(o)}}else return n?S.slice(0,r):S.slice(0,r+1)}else{var b=C[t._id.charAt(0)+"calendar"];if(f)l=t.r2c(v,0,b);else if(R(S)&&S.length===1)l=S[0];else if(v===void 0)l=0;else{var T=t.type==="log"?t.d2c:t.r2c;l=T(v,0,b)}for(m=d||1,c=n||u?0:-.5;c<r;c++)i.push(l+m*c)}return i}},41420:function(H,G,e){var g=e(33428),R=e(49760),a=e(24040),C=e(43616),S=e(54460),v=e(3400),d=e(72736),r=e(76688),t=e(76308),i=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,f=e(9616),u=e(84284),l=u.LINE_SPACING,m=e(9188),c=e(2264).STYLE,A="heatmap-label";function h(P){return P.selectAll("g."+A)}function o(P){h(P).remove()}H.exports=function(P,x,L,M){var s=x.xaxis,E=x.yaxis;v.makeTraceGroups(M,L,"hm").each(function(w){var O=g.select(this),_=w[0],U=_.trace,z=U.xgap||0,F=U.ygap||0,B=_.z,N=_.x,V=_.y,X=_.xCenter,q=_.yCenter,te=a.traceIs(U,"contour"),ne=te?"best":U.zsmooth,ce=B.length,Q=v.maxRowLength(B),Z=!1,re=!1,Y,oe,ue,K,$,le,ae,he;for(le=0;Y===void 0&&le<N.length-1;)Y=s.c2p(N[le]),le++;for(le=N.length-1;oe===void 0&&le>0;)oe=s.c2p(N[le]),le--;for(oe<Y&&(ue=oe,oe=Y,Y=ue,Z=!0),le=0;K===void 0&&le<V.length-1;)K=E.c2p(V[le]),le++;for(le=V.length-1;$===void 0&&le>0;)$=E.c2p(V[le]),le--;$<K&&(ue=K,K=$,$=ue,re=!0),te&&(X=N,q=V,N=_.xfill,V=_.yfill);var xe="default";if(ne?xe=ne==="best"?"smooth":"fast":U._islinear&&z===0&&F===0&&m()&&(xe="fast"),xe!=="fast"){var Me=ne==="best"?0:.5;Y=Math.max(-Me*s._length,Y),oe=Math.min((1+Me)*s._length,oe),K=Math.max(-Me*E._length,K),$=Math.min((1+Me)*E._length,$)}var Ae=Math.round(oe-Y),ke=Math.round($-K),we=Y>=s._length||oe<=0||K>=E._length||$<=0;if(we){var Ee=O.selectAll("image").data([]);Ee.exit().remove(),o(O);return}var be,Le;xe==="fast"?(be=Q,Le=ce):(be=Ae,Le=ke);var Ue=document.createElement("canvas");Ue.width=be,Ue.height=Le;var Ve=Ue.getContext("2d",{willReadFrequently:!0}),Fe=n(U,{noNumericCheck:!0,returnArray:!0}),He,st;xe==="fast"?(He=Z?function(zr){return Q-1-zr}:v.identity,st=re?function(zr){return ce-1-zr}:v.identity):(He=function(zr){return v.constrain(Math.round(s.c2p(N[zr])-Y),0,Ae)},st=function(zr){return v.constrain(Math.round(E.c2p(V[zr])-K),0,ke)});var vt=st(0),lt=[vt,vt],et=Z?0:1,ct=re?0:1,ht=0,mt=0,xt=0,Mt=0,tt,Oe,Ye,Ze,We;function _e(zr,pn){if(zr!==void 0){var hn=Fe(zr);return hn[0]=Math.round(hn[0]),hn[1]=Math.round(hn[1]),hn[2]=Math.round(hn[2]),ht+=pn,mt+=hn[0]*pn,xt+=hn[1]*pn,Mt+=hn[2]*pn,hn}return[0,0,0,0]}function Ie(zr,pn,hn,Ln){var Rn=zr[hn.bin0];if(Rn===void 0)return _e(void 0,1);var Gn=zr[hn.bin1],oa=pn[hn.bin0],xa=pn[hn.bin1],Ta=Gn-Rn||0,da=oa-Rn||0,Hn;return Gn===void 0?xa===void 0?Hn=0:oa===void 0?Hn=2*(xa-Rn):Hn=(2*xa-oa-Rn)*2/3:xa===void 0?oa===void 0?Hn=0:Hn=(2*Rn-Gn-oa)*2/3:oa===void 0?Hn=(2*xa-Gn-Rn)*2/3:Hn=xa+Rn-Gn-oa,_e(Rn+hn.frac*Ta+Ln.frac*(da+hn.frac*Hn))}if(xe!=="default"){var Xe=0,De;try{De=new Uint8Array(be*Le*4)}catch{De=new Array(be*Le*4)}if(xe==="smooth"){var de=X||N,Te=q||V,Be=new Array(de.length),Qe=new Array(Te.length),at=new Array(Ae),it=X?b:p,Wt=q?b:p,Yt,Tt,Lt;for(le=0;le<de.length;le++)Be[le]=Math.round(s.c2p(de[le])-Y);for(le=0;le<Te.length;le++)Qe[le]=Math.round(E.c2p(Te[le])-K);for(le=0;le<Ae;le++)at[le]=it(le,Be);for(ae=0;ae<ke;ae++)for(Yt=Wt(ae,Qe),Tt=B[Yt.bin0],Lt=B[Yt.bin1],le=0;le<Ae;le++,Xe+=4)We=Ie(Tt,Lt,at[le],Yt),T(De,Xe,We)}else for(ae=0;ae<ce;ae++)for(Ze=B[ae],lt=st(ae),le=0;le<Q;le++)We=_e(Ze[le],1),Xe=(lt*Q+He(le))*4,T(De,Xe,We);var Xt=Ve.createImageData(be,Le);try{Xt.data.set(De)}catch{var Tr=Xt.data,gt=Tr.length;for(ae=0;ae<gt;ae++)Tr[ae]=De[ae]}Ve.putImageData(Xt,0,0)}else{var Kt=Math.floor(z/2),Qt=Math.floor(F/2);for(ae=0;ae<ce;ae++)if(Ze=B[ae],lt.reverse(),lt[ct]=st(ae+1),!(lt[0]===lt[1]||lt[0]===void 0||lt[1]===void 0))for(Oe=He(0),tt=[Oe,Oe],le=0;le<Q;le++)tt.reverse(),tt[et]=He(le+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0)&&(Ye=Ze[le],We=_e(Ye,(tt[1]-tt[0])*(lt[1]-lt[0])),Ve.fillStyle="rgba("+We.join(",")+")",Ve.fillRect(tt[0]+Kt,lt[0]+Qt,tt[1]-tt[0]-z,lt[1]-lt[0]-F))}mt=Math.round(mt/ht),xt=Math.round(xt/ht),Mt=Math.round(Mt/ht);var yr=R("rgb("+mt+","+xt+","+Mt+")");P._hmpixcount=(P._hmpixcount||0)+ht,P._hmlumcount=(P._hmlumcount||0)+ht*yr.getLuminance();var fr=O.selectAll("image").data(w);fr.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),fr.attr({height:ke,width:Ae,x:Y,y:K,"xlink:href":Ue.toDataURL("image/png")}),xe==="fast"&&!ne&&fr.attr("style",c),o(O);var yt=U.texttemplate;if(yt){var ot=i(U),bt={type:"linear",range:[ot.min,ot.max],_separators:s._separators,_numFormat:s._numFormat},Et=U.type==="histogram2dcontour",Dt=U.type==="contour",Ht=Dt?1:0,Bt=Dt?ce-1:ce,Nt=Dt?1:0,Jt=Dt?Q-1:Q,hr=[];for(le=Ht;le<Bt;le++){var Zt;if(Dt)Zt=_.y[le];else if(Et){if(le===0||le===ce-1)continue;Zt=_.y[le]}else if(_.yCenter)Zt=_.yCenter[le];else{if(le+1===ce&&_.y[le+1]===void 0)continue;Zt=(_.y[le]+_.y[le+1])/2}var dr=Math.round(E.c2p(Zt));if(!(0>dr||dr>E._length))for(ae=Nt;ae<Jt;ae++){var je;if(Dt)je=_.x[ae];else if(Et){if(ae===0||ae===Q-1)continue;je=_.x[ae]}else if(_.xCenter)je=_.xCenter[ae];else{if(ae+1===Q&&_.x[ae+1]===void 0)continue;je=(_.x[ae]+_.x[ae+1])/2}var Ge=Math.round(s.c2p(je));if(!(0>Ge||Ge>s._length)){var Ot=r({x:je,y:Zt},U,P._fullLayout);Ot.x=je,Ot.y=Zt;var kt=_.z[le][ae];kt===void 0?(Ot.z="",Ot.zLabel=""):(Ot.z=kt,Ot.zLabel=S.tickText(bt,kt,"hover").text);var $t=_.text&&_.text[le]&&_.text[le][ae];($t===void 0||$t===!1)&&($t=""),Ot.text=$t;var ar=v.texttemplateString(yt,Ot,P._fullLayout._d3locale,Ot,U._meta||{});if(ar){var or=ar.split("<br>"),rr=or.length,zt=0;for(he=0;he<rr;he++)zt=Math.max(zt,or[he].length);hr.push({l:rr,c:zt,t:ar,x:Ge,y:dr,z:kt})}}}}var vr=U.textfont,gr=vr.size,Ar=P._fullLayout.font.size;if(!gr||gr==="auto"){var cr=1/0,Hr=1/0,Rr=0,Ir=0;for(he=0;he<hr.length;he++){var cn=hr[he];if(Rr=Math.max(Rr,cn.l),Ir=Math.max(Ir,cn.c),he<hr.length-1){var Zr=hr[he+1],An=Math.abs(Zr.x-cn.x),Sn=Math.abs(Zr.y-cn.y);An&&(cr=Math.min(cr,An)),Sn&&(Hr=Math.min(Hr,Sn))}}!isFinite(cr)||!isFinite(Hr)?gr=Ar:(cr-=z,Hr-=F,cr/=Ir,Hr/=Rr,cr/=l/2,Hr/=l,gr=Math.min(Math.floor(cr),Math.floor(Hr),Ar))}if(gr<=0||!isFinite(gr))return;var br=function(zr){return zr.x},Or=function(zr){return zr.y-gr*(zr.l*l/2-1)},jr=h(O).data(hr);jr.enter().append("g").classed(A,1).append("text").attr("text-anchor","middle").each(function(zr){var pn=g.select(this),hn=vr.color;(!hn||hn==="auto")&&(hn=t.contrast(zr.z===void 0?P._fullLayout.plot_bgcolor:"rgba("+Fe(zr.z).join()+")")),pn.attr("data-notex",1).call(d.positionText,br(zr),Or(zr)).call(C.font,{family:vr.family,size:gr,color:hn,weight:vr.weight,style:vr.style,variant:vr.variant}).text(zr.t).call(d.convertToTspans,P)})}})};function p(P,x){var L=x.length-2,M=v.constrain(v.findBin(P,x),0,L),s=x[M],E=x[M+1],w=v.constrain(M+(P-s)/(E-s)-.5,0,L),O=Math.round(w),_=Math.abs(w-O);return!w||w===L||!_?{bin0:O,bin1:O,frac:0}:{bin0:O,frac:_,bin1:Math.round(O+_/(w-O))}}function b(P,x){var L=x.length-1,M=v.constrain(v.findBin(P,x),0,L),s=x[M],E=x[M+1],w=(P-s)/(E-s)||0;return w<=0?{bin0:M,bin1:M,frac:0}:w<.5?{bin0:M,bin1:M+1,frac:w}:{bin0:M+1,bin1:M,frac:1-w}}function T(P,x,L){P[x]=L[0],P[x+1]=L[1],P[x+2]=L[2],P[x+3]=Math.round(L[3]*255)}},41648:function(H,G,e){var g=e(33428);H.exports=function(a){g.select(a).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},82748:function(H){H.exports=function(e,g,R){var a=R("zsmooth");a===!1&&(R("xgap"),R("ygap")),R("zhoverformat")}},51264:function(H,G,e){var g=e(38248),R=e(3400),a=e(24040);H.exports=function(d,r,t,i,n,f){var u=t("z");n=n||"x",f=f||"y";var l,m;if(u===void 0||!u.length)return 0;if(R.isArray1D(u)){l=t(n),m=t(f);var c=R.minRowLength(l),A=R.minRowLength(m);if(c===0||A===0)return 0;r._length=Math.min(c,A,u.length)}else{if(l=C(n,t),m=C(f,t),!S(u))return 0;t("transpose"),r._length=null}if(d.type==="heatmapgl")return!0;var h=a.getComponentMethod("calendars","handleTraceDefaults");return h(d,r,[n,f],i),!0};function C(v,d){var r=d(v),t=r?d(v+"type","array"):"scaled";return t==="scaled"&&(d(v+"0"),d("d"+v)),r}function S(v){for(var d=!0,r=!1,t=!1,i,n=0;n<v.length;n++){if(i=v[n],!R.isArrayOrTypedArray(i)){d=!1;break}i.length>0&&(r=!0);for(var f=0;f<i.length;f++)if(g(i[f])){t=!0;break}}return d&&r&&t}},74512:function(H,G,e){for(var g=e(83328),R=e(49084),a=e(92880).extendFlat,C=e(67824).overrideAll,S=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},d=0;d<S.length;d++){var r=S[d];v[r]=g[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,R("",{cLetter:"z",autoColorDflt:!1})),H.exports=C(v,"calc","nested")},84656:function(H,G,e){var g=e(67792).gl_heatmap2d,R=e(54460),a=e(43080);function C(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(r.glplot,this.options),this.heatmap._trace=this}var S=C.prototype;S.handlePick=function(r){var t=this.options,i=t.shape,n=r.pointId,f=n%i[0],u=Math.floor(n/i[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[f],t.y[u],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,f],hoverinfo:this.hoverinfo}},S.update=function(r,t){var i=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=i.z;this.options.z=[].concat.apply([],n);var f=n[0].length,u=n.length;this.options.shape=[f,u],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var m=this.scene.xaxis,c=this.scene.yaxis,A,h;r.zsmooth===!1&&(A={ppad:i.x[1]-i.x[0]},h={ppad:i.y[1]-i.y[0]}),r._extremes[m._id]=R.findExtremes(m,i.x,A),r._extremes[c._id]=R.findExtremes(c,i.y,h)},S.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,i=r.zmin,n=r.zmax,f=t.length,u=new Array(f),l=new Array(4*f),m=0;m<f;m++){var c=t[m],A=a(c[1]);u[m]=i+c[0]*(n-i);for(var h=0;h<4;h++)l[4*m+h]=A[h]}return{colorLevels:u,colorValues:l}}function d(r,t,i){var n=new C(r,t.uid);return n.update(t,i),n}H.exports=d},86464:function(H,G,e){var g=e(3400),R=e(51264),a=e(27260),C=e(74512);H.exports=function(v,d,r,t){function i(f,u){return g.coerce(v,d,C,f,u)}var n=R(v,d,i,t);if(!n){d.visible=!1;return}i("text"),i("zsmooth"),a(v,d,t,i,{prefix:"",cLetter:"z"})}},45536:function(H,G,e){H.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(H,G,e){var g=e(20832),R=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(21776).Gw,S=e(25376),v=e(11120),d=e(73316),r=e(92880).extendFlat;H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:R("x"),yhoverformat:R("y"),text:r({},g.text,{}),hovertext:r({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:d.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},g.textposition,{arrayOk:!1}),textfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir},zorder:g.zorder}},2e3:function(H){H.exports=function(e,g){for(var R=e.length,a=0,C=0;C<R;C++)g[C]?(e[C]/=g[C],a+=e[C]):e[C]=null;return a}},11120:function(H){H.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(H,G,e){var g=e(38248);H.exports={count:function(R,a,C){return C[R]++,1},sum:function(R,a,C,S){var v=S[a];return g(v)?(v=Number(v),C[R]+=v,v):0},avg:function(R,a,C,S,v){var d=S[a];return g(d)&&(d=Number(d),C[R]+=d,v[R]++),0},min:function(R,a,C,S){var v=S[a];if(g(v))if(v=Number(v),g(C[R])){if(C[R]>v){var d=v-C[R];return C[R]=v,d}}else return C[R]=v,v;return 0},max:function(R,a,C,S){var v=S[a];if(g(v))if(v=Number(v),g(C[R])){if(C[R]<v){var d=v-C[R];return C[R]=v,d}}else return C[R]=v,v;return 0}}},67712:function(H,G,e){var g=e(39032),R=g.ONEAVGYEAR,a=g.ONEAVGMONTH,C=g.ONEDAY,S=g.ONEHOUR,v=g.ONEMIN,d=g.ONESEC,r=e(54460).tickIncrement;H.exports=function(l,m,c,A,h){var o=-1.1*m,p=-.1*m,b=l-p,T=c[0],P=c[1],x=Math.min(t(T+p,T+b,A,h),t(P+p,P+b,A,h)),L=Math.min(t(T+o,T+p,A,h),t(P+o,P+p,A,h)),M,s;if(x>L&&L<Math.abs(P-T)/4e3?(M=x,s=!1):(M=Math.min(x,L),s=!0),A.type==="date"&&M>C){var E=M===R?1:6,w=M===R?"M12":"M1";return function(O,_){var U=A.c2d(O,R,h),z=U.indexOf("-",E);z>0&&(U=U.substr(0,z));var F=A.d2c(U,0,h);if(F<O){var B=r(F,w,!1,h);(F+B)/2<O+l&&(F=B)}return _&&s?r(F,w,!0,h):F}}return function(O,_){var U=M*Math.round(O/M);return U+M/10<O&&U+M*.9<O+l&&(U+=M),_&&s&&(U-=M),U}};function t(u,l,m,c){if(u*l<=0)return 1/0;for(var A=Math.abs(l-u),h=m.type==="date",o=i(A,h),p=0;p<10;p++){var b=i(o*80,h);if(o===b)break;if(n(b,u,l,h,m,c))o=b;else break}return o}function i(u,l){return l&&u>d?u>C?u>R*1.1?R:u>a*1.1?a:C:u>S?S:u>v?v:d:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,l,m,c,A,h){if(c&&u>C){var o=f(l,A,h),p=f(m,A,h),b=u===R?0:1;return o[b]!==p[b]}return Math.floor(m/u)-Math.floor(l/u)>.1}function f(u,l,m){var c=l.c2d(u,R,m).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}},35852:function(H,G,e){var g=e(38248),R=e(3400),a=e(24040),C=e(54460),S=e(84664),v=e(16964),d=e(10648),r=e(2e3),t=e(67712);function i(m,c){var A=[],h=[],o=c.orientation==="h",p=C.getFromId(m,o?c.yaxis:c.xaxis),b=o?"y":"x",T={x:"y",y:"x"}[b],P=c[b+"calendar"],x=c.cumulative,L,M=n(m,c,p,b),s=M[0],E=M[1],w=typeof s.size=="string",O=[],_=w?O:s,U=[],z=[],F=[],B=0,N=c.histnorm,V=c.histfunc,X=N.indexOf("density")!==-1,q,te,ne;x.enabled&&X&&(N=N.replace(/ ?density$/,""),X=!1);var ce=V==="max"||V==="min",Q=ce?null:0,Z=v.count,re=d[N],Y=!1,oe=function(Ve){return p.r2c(Ve,0,P)},ue;for(R.isArrayOrTypedArray(c[T])&&V!=="count"&&(ue=c[T],Y=V==="avg",Z=v[V]),L=oe(s.start),te=oe(s.end)+(L-C.tickIncrement(L,s.size,!1,P))/1e6;L<te&&A.length<1e6&&(q=C.tickIncrement(L,s.size,!1,P),A.push((L+q)/2),h.push(Q),F.push([]),O.push(L),X&&U.push(1/(q-L)),Y&&z.push(0),!(q<=L));)L=q;O.push(L),!w&&p.type==="date"&&(_={start:oe(_.start),end:oe(_.end),size:_.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var K=c["_"+b+"bingroup"],$={leftGap:1/0,rightGap:1/0};K&&(m._fullLayout._roundFnOpts[K]||(m._fullLayout._roundFnOpts[K]=$),$=m._fullLayout._roundFnOpts[K]);var le=h.length,ae=!0,he=$.leftGap,xe=$.rightGap,Me={};for(L=0;L<E.length;L++){var Ae=E[L];ne=R.findBin(Ae,_),ne>=0&&ne<le&&(B+=Z(ne,L,h,ue,z),ae&&F[ne].length&&Ae!==E[F[ne][0]]&&(ae=!1),F[ne].push(L),Me[L]=ne,he=Math.min(he,Ae-O[ne]),xe=Math.min(xe,O[ne+1]-Ae))}$.leftGap=he,$.rightGap=xe;var ke;ae||(ke=function(Ve,Fe){return function(){var He=m._fullLayout._roundFnOpts[K];return t(He.leftGap,He.rightGap,O,p,P)(Ve,Fe)}}),Y&&(B=r(h,z)),re&&re(h,B,U),x.enabled&&l(h,x.direction,x.currentbin);var we=Math.min(A.length,h.length),Ee=[],be=0,Le=we-1;for(L=0;L<we;L++)if(h[L]){be=L;break}for(L=we-1;L>=be;L--)if(h[L]){Le=L;break}for(L=be;L<=Le;L++)if(g(A[L])&&g(h[L])){var Ue={p:A[L],s:h[L],b:0};x.enabled||(Ue.pts=F[L],ae?Ue.ph0=Ue.ph1=F[L].length?E[F[L][0]]:A[L]:(c._computePh=!0,Ue.ph0=ke(O[L]),Ue.ph1=ke(O[L+1],!0))),Ee.push(Ue)}return Ee.length===1&&(Ee[0].width1=C.tickIncrement(Ee[0].p,s.size,!1,P)-Ee[0].p),S(Ee,c),R.isArrayOrTypedArray(c.selectedpoints)&&R.tagSelected(Ee,c,Me),Ee}function n(m,c,A,h,o){var p=h+"bins",b=m._fullLayout,T=c["_"+h+"bingroup"],P=b._histogramBinOpts[T],x=b.barmode==="overlay",L,M,s,E,w,O,_,U=function(Ae){return A.r2c(Ae,0,E)},z=function(Ae){return A.c2r(Ae,0,E)},F=A.type==="date"?function(Ae){return Ae||Ae===0?R.cleanDate(Ae,null,E):null}:function(Ae){return g(Ae)?Number(Ae):null};function B(Ae,ke,we){ke[Ae+"Found"]?(ke[Ae]=F(ke[Ae]),ke[Ae]===null&&(ke[Ae]=we[Ae])):(O[Ae]=ke[Ae]=we[Ae],R.nestedProperty(M[0],p+"."+Ae).set(we[Ae]))}if(c["_"+h+"autoBinFinished"])delete c["_"+h+"autoBinFinished"];else{M=P.traces;var N=[],V=!0,X=!1,q=!1;for(L=0;L<M.length;L++)if(s=M[L],s.visible){var te=P.dirs[L];w=s["_"+te+"pos0"]=A.makeCalcdata(s,te),N=R.concat(N,w),delete s["_"+h+"autoBinFinished"],c.visible===!0&&(V?V=!1:(delete s._autoBin,s["_"+h+"autoBinFinished"]=1),a.traceIs(s,"2dMap")&&(X=!0),s.type==="histogram2dcontour"&&(q=!0))}E=M[0][h+"calendar"];var ne=C.autoBin(N,A,P.nbins,X,E,P.sizeFound&&P.size),ce=M[0]._autoBin={};if(O=ce[P.dirs[0]]={},q&&(P.size||(ne.start=z(C.tickIncrement(U(ne.start),ne.size,!0,E))),P.end===void 0&&(ne.end=z(C.tickIncrement(U(ne.end),ne.size,!1,E)))),x&&!a.traceIs(c,"2dMap")&&ne._dataSpan===0&&A.type!=="category"&&A.type!=="multicategory"&&c.bingroup===""&&typeof c.xbins>"u"){if(o)return[ne,w,!0];ne=f(m,c,A,h,p)}_=s.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?ne.start=z(C.tickIncrement(U(ne.start),ne.size,!0,E)):ne.end=z(C.tickIncrement(U(ne.end),ne.size,!1,E))),P.size=ne.size,P.sizeFound||(O.size=ne.size,R.nestedProperty(M[0],p+".size").set(ne.size)),B("start",P,ne),B("end",P,ne)}w=c["_"+h+"pos0"],delete c["_"+h+"pos0"];var Q=c._input[p]||{},Z=R.extendFlat({},P),re=P.start,Y=A.r2l(Q.start),oe=Y!==void 0;if((P.startFound||oe)&&Y!==A.r2l(re)){var ue=oe?Y:R.aggNums(Math.min,null,w),K={type:A.type==="category"||A.type==="multicategory"?"linear":A.type,r2l:A.r2l,dtick:P.size,tick0:re,calendar:E,range:[ue,C.tickIncrement(ue,P.size,!1,E)].map(A.l2r)},$=C.tickFirst(K);$>A.r2l(ue)&&($=C.tickIncrement($,P.size,!0,E)),Z.start=A.l2r($),oe||R.nestedProperty(c,p+".start").set(Z.start)}var le=P.end,ae=A.r2l(Q.end),he=ae!==void 0;if((P.endFound||he)&&ae!==A.r2l(le)){var xe=he?ae:R.aggNums(Math.max,null,w);Z.end=A.l2r(xe),he||R.nestedProperty(c,p+".start").set(Z.end)}var Me="autobin"+h;return c._input[Me]===!1&&(c._input[p]=R.extendFlat({},c[p]||{}),delete c._input[Me],delete c[Me]),[Z,w]}function f(m,c,A,h,o){var p=m._fullLayout,b=u(m,c),T=!1,P=1/0,x=[c],L,M,s;for(L=0;L<b.length;L++)if(M=b[L],M===c)T=!0;else if(!T)s=p._histogramBinOpts[M["_"+h+"bingroup"]],P=Math.min(P,s.size||M[o].size);else{var E=n(m,M,A,h,!0),w=E[0],O=E[2];M["_"+h+"autoBinFinished"]=1,M["_"+h+"pos0"]=E[1],O?x.push(M):P=Math.min(P,w.size)}var _=new Array(x.length);for(L=0;L<x.length;L++)for(var U=x[L]["_"+h+"pos0"],z=0;z<U.length;z++)if(U[z]!==void 0){_[L]=U[z];break}for(isFinite(P)||(P=R.distinctVals(_).minDiff),L=0;L<x.length;L++){M=x[L];var F=M[h+"calendar"],B={start:A.c2r(_[L]-P/2,0,F),end:A.c2r(_[L]+P/2,0,F),size:P};M._input[o]=M[o]=B,s=p._histogramBinOpts[M["_"+h+"bingroup"]],s&&R.extendFlat(s,B)}return c[o]}function u(m,c){for(var A=c.xaxis,h=c.yaxis,o=c.orientation,p=[],b=m._fullData,T=0;T<b.length;T++){var P=b[T];P.type==="histogram"&&P.visible===!0&&P.orientation===o&&P.xaxis===A&&P.yaxis===h&&p.push(P)}return p}function l(m,c,A){var h,o,p;function b(P){p=m[P],m[P]/=2}function T(P){o=m[P],m[P]=p+o/2,p+=o}if(A==="half")if(c==="increasing")for(b(0),h=1;h<m.length;h++)T(h);else for(b(m.length-1),h=m.length-2;h>=0;h--)T(h);else if(c==="increasing"){for(h=1;h<m.length;h++)m[h]+=m[h-1];A==="exclude"&&(m.unshift(0),m.pop())}else{for(h=m.length-2;h>=0;h--)m[h]+=m[h+1];A==="exclude"&&(m.push(0),m.shift())}}H.exports={calc:i,calcAllAutoBins:n}},73316:function(H){H.exports={eventDataKeys:["binNumber"]}},80536:function(H,G,e){var g=e(3400),R=e(79811),a=e(24040).traceIs,C=e(20011),S=e(31508).validateCornerradius,v=g.nestedProperty,d=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];H.exports=function(n,f){var u=f._histogramBinOpts={},l=[],m={},c=[],A,h,o,p,b,T,P;function x(ne,ce){return g.coerce(A._input,A,A._module.attributes,ne,ce)}function L(ne){return ne.orientation==="v"?"x":"y"}function M(ne,ce){var Q=R.getFromTrace({_fullLayout:f},ne,ce);return Q.type}function s(ne,ce,Q){var Z=ne.uid+"__"+Q;ce||(ce=Z);var re=M(ne,Q),Y=ne[Q+"calendar"]||"",oe=u[ce],ue=!0;oe&&(re===oe.axType&&Y===oe.calendar?(ue=!1,oe.traces.push(ne),oe.dirs.push(Q)):(ce=Z,re!==oe.axType&&g.warn(["Attempted to group the bins of trace",ne.index,"set on a","type:"+re,"axis","with bins on","type:"+oe.axType,"axis."].join(" ")),Y!==oe.calendar&&g.warn(["Attempted to group the bins of trace",ne.index,"set with a",Y,"calendar","with bins",oe.calendar?"on a "+oe.calendar+" calendar":"w/o a set calendar"].join(" ")))),ue&&(u[ce]={traces:[ne],dirs:[Q],axType:re,calendar:ne[Q+"calendar"]||""}),ne["_"+Q+"bingroup"]=ce}for(b=0;b<n.length;b++)if(A=n[b],a(A,"histogram")){if(l.push(A),delete A._xautoBinFinished,delete A._yautoBinFinished,A.type==="histogram"){var E=x("marker.cornerradius",f.barcornerradius);A.marker&&(A.marker.cornerradius=S(E))}a(A,"2dMap")||C(A._input,A,f,x)}var w=f._alignmentOpts||{};for(b=0;b<l.length;b++){if(A=l[b],o="",!a(A,"2dMap")){if(p=L(A),f.barmode==="group"&&A.alignmentgroup){var O=A[p+"axis"],_=d(f,O)+A.orientation;(w[_]||{})[A.alignmentgroup]&&(o=_)}!o&&f.barmode!=="overlay"&&(o=d(f,A.xaxis)+d(f,A.yaxis)+L(A))}o?(m[o]||(m[o]=[]),m[o].push(A)):c.push(A)}for(o in m){if(h=m[o],h.length===1){c.push(h[0]);continue}var U=!1;for(h.length&&(A=h[0],U=x("bingroup")),o=U||o,b=0;b<h.length;b++){A=h[b];var z=A._input.bingroup;z&&z!==o&&g.warn(["Trace",A.index,"must match","within bingroup",o+".","Ignoring its bingroup:",z,"setting."].join(" ")),A.bingroup=o,s(A,o,L(A))}}for(b=0;b<c.length;b++){A=c[b];var F=x("bingroup");if(a(A,"2dMap"))for(P=0;P<2;P++){p=t[P];var B=x(p+"bingroup",F?F+"__"+p:null);s(A,B,p)}else s(A,F,L(A))}for(o in u){var N=u[o];for(h=N.traces,T=0;T<r.length;T++){var V=r[T],X=V.name,q,te;if(!(X==="nbins"&&N.sizeFound)){for(b=0;b<h.length;b++){if(A=h[b],p=N.dirs[b],q=V.aStr[p],v(A._input,q).get()!==void 0){N[X]=x(q),N[X+"Found"]=!0;break}te=(A._autoBin||{})[p]||{},te[X]&&v(A,q).set(te[X])}if(X==="start"||X==="end")for(;b<h.length;b++)A=h[b],A["_"+p+"bingroup"]&&(te=(A._autoBin||{})[p]||{},x(q,te[X]));X==="nbins"&&!N.sizeFound&&!N.nbinsFound&&(A=h[0],N[X]=x(q))}}}}},6616:function(H,G,e){var g=e(24040),R=e(3400),a=e(76308),C=e(31508).handleText,S=e(55592),v=e(40196);H.exports=function(r,t,i,n){function f(L,M){return R.coerce(r,t,v,L,M)}var u=f("x"),l=f("y"),m=f("cumulative.enabled");m&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var c=f("textposition");C(r,t,n,f,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var A=f("orientation",l&&!u?"h":"v"),h=A==="v"?"x":"y",o=A==="v"?"y":"x",p=u&&l?Math.min(R.minRowLength(u)&&R.minRowLength(l)):R.minRowLength(t[h]||[]);if(!p){t.visible=!1;return}t._length=p;var b=g.getComponentMethod("calendars","handleTraceDefaults");b(r,t,["x","y"],n);var T=t[o];T&&f("histfunc"),f("histnorm"),f("autobin"+h),S(r,t,f,i,n),R.coerceSelectionMarkerOpacity(t,f);var P=(t.marker.line||{}).color,x=g.getComponentMethod("errorbars","supplyDefaults");x(r,t,P||a.defaultLine,{axis:"y"}),x(r,t,P||a.defaultLine,{axis:"x",inherit:"y"}),f("zorder")}},84980:function(H){H.exports=function(e,g,R,a,C){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(R.cumulative||{}).enabled){var S=Array.isArray(C)?a[0].pts[C[0]][C[1]]:a[C].pts;e.pointNumbers=S,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(R._indexToPoints){v=[];for(var d=0;d<S.length;d++)v=v.concat(R._indexToPoints[S[d]])}else v=S;e.pointIndices=v}return e}},43339:function(H,G,e){var g=e(63400).hoverPoints,R=e(54460).hoverLabelText;H.exports=function(C,S,v,d,r){var t=g(C,S,v,d,r);if(t){C=t[0];var i=C.cd[C.index],n=C.cd[0].trace;if(!n.cumulative.enabled){var f=n.orientation==="h"?"y":"x";C[f+"Label"]=R(C[f+"a"],[i.ph0,i.ph1],n[f+"hoverformat"])}return t}}},42600:function(H,G,e){H.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(H){H.exports={percent:function(G,e){for(var g=G.length,R=100/e,a=0;a<g;a++)G[a]*=R},probability:function(G,e){for(var g=G.length,R=0;R<g;R++)G[R]/=e},density:function(G,e,g,R){var a=G.length;R=R||1;for(var C=0;C<a;C++)G[C]*=g[C]*R},"probability density":function(G,e,g,R){var a=G.length;R&&(e/=R);for(var C=0;C<a;C++)G[C]*=g[C]/e}}},37008:function(H,G,e){var g=e(40196),R=e(11120),a=e(83328),C=e(45464),S=e(29736).axisHoverFormat,v=e(21776).Ks,d=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;H.exports=t({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:R("x"),nbinsy:g.nbinsy,ybins:R("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:t({},g.bingroup,{}),xbingroup:t({},g.bingroup,{}),ybingroup:t({},g.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:t({},C.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(H,G,e){var g=e(3400),R=e(54460),a=e(16964),C=e(10648),S=e(2e3),v=e(67712),d=e(35852).calcAllAutoBins;H.exports=function(f,u){var l=R.getFromId(f,u.xaxis),m=R.getFromId(f,u.yaxis),c=u.xcalendar,A=u.ycalendar,h=function(We){return l.r2c(We,0,c)},o=function(We){return m.r2c(We,0,A)},p=function(We){return l.c2r(We,0,c)},b=function(We){return m.c2r(We,0,A)},T,P,x,L,M=d(f,u,l,"x"),s=M[0],E=M[1],w=d(f,u,m,"y"),O=w[0],_=w[1],U=u._length;E.length>U&&E.splice(U,E.length-U),_.length>U&&_.splice(U,_.length-U);var z=[],F=[],B=[],N=typeof s.size=="string",V=typeof O.size=="string",X=[],q=[],te=N?X:s,ne=V?q:O,ce=0,Q=[],Z=[],re=u.histnorm,Y=u.histfunc,oe=re.indexOf("density")!==-1,ue=Y==="max"||Y==="min",K=ue?null:0,$=a.count,le=C[re],ae=!1,he=[],xe=[],Me="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";Me&&Y!=="count"&&(ae=Y==="avg",$=a[Y]);var Ae=s.size,ke=h(s.start),we=h(s.end)+(ke-R.tickIncrement(ke,Ae,!1,c))/1e6;for(T=ke;T<we;T=R.tickIncrement(T,Ae,!1,c))F.push(K),X.push(T),ae&&B.push(0);X.push(T);var Ee=F.length,be=(T-ke)/Ee,Le=p(ke+be/2),Ue=O.size,Ve=o(O.start),Fe=o(O.end)+(Ve-R.tickIncrement(Ve,Ue,!1,A))/1e6;for(T=Ve;T<Fe;T=R.tickIncrement(T,Ue,!1,A)){z.push(F.slice()),q.push(T);var He=new Array(Ee);for(P=0;P<Ee;P++)He[P]=[];Z.push(He),ae&&Q.push(B.slice())}q.push(T);var st=z.length,vt=(T-Ve)/st,lt=b(Ve+vt/2);oe&&(he=r(F.length,te,be,N),xe=r(z.length,ne,vt,V)),!N&&l.type==="date"&&(te=t(h,te)),!V&&m.type==="date"&&(ne=t(o,ne));var et=!0,ct=!0,ht=new Array(Ee),mt=new Array(st),xt=1/0,Mt=1/0,tt=1/0,Oe=1/0;for(T=0;T<U;T++){var Ye=E[T],Ze=_[T];x=g.findBin(Ye,te),L=g.findBin(Ze,ne),x>=0&&x<Ee&&L>=0&&L<st&&(ce+=$(x,T,z[L],Me,Q[L]),Z[L][x].push(T),et&&(ht[x]===void 0?ht[x]=Ye:ht[x]!==Ye&&(et=!1)),ct&&(mt[L]===void 0?mt[L]=Ze:mt[L]!==Ze&&(ct=!1)),xt=Math.min(xt,Ye-X[x]),Mt=Math.min(Mt,X[x+1]-Ye),tt=Math.min(tt,Ze-q[L]),Oe=Math.min(Oe,q[L+1]-Ze))}if(ae)for(L=0;L<st;L++)ce+=S(z[L],Q[L]);if(le)for(L=0;L<st;L++)le(z[L],ce,he,xe[L]);return{x:E,xRanges:i(X,et&&ht,xt,Mt,l,c),x0:Le,dx:be,y:_,yRanges:i(q,ct&&mt,tt,Oe,m,A),y0:lt,dy:vt,z,pts:Z}};function r(n,f,u,l){var m=new Array(n),c;if(l)for(c=0;c<n;c++)m[c]=1/(f[c+1]-f[c]);else{var A=1/u;for(c=0;c<n;c++)m[c]=A}return m}function t(n,f){return{start:n(f.start),end:n(f.end),size:f.size}}function i(n,f,u,l,m,c){var A,h=n.length-1,o=new Array(h),p=v(u,l,n,m,c);for(A=0;A<h;A++){var b=(f||[])[A];o[A]=b===void 0?[p(n[A]),p(n[A+1],!0)]:[b,b]}return o}},99784:function(H,G,e){var g=e(3400),R=e(56408),a=e(82748),C=e(27260),S=e(39096),v=e(37008);H.exports=function(r,t,i,n){function f(u,l){return g.coerce(r,t,v,u,l)}R(r,t,f,n),t.visible!==!1&&(a(r,t,f,n),C(r,t,n,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),S(f,n),f("xhoverformat"),f("yhoverformat"))}},59576:function(H,G,e){var g=e(55512),R=e(54460).hoverLabelText;H.exports=function(C,S,v,d,r){var t=g(C,S,v,d,r);if(t){C=t[0];var i=C.index,n=i[0],f=i[1],u=C.cd[0],l=u.trace,m=u.xRanges[f],c=u.yRanges[n];return C.xLabel=R(C.xa,[m[0],m[1]],l.xhoverformat),C.yLabel=R(C.ya,[c[0],c[1]],l.yhoverformat),t}}},21536:function(H,G,e){H.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(H,G,e){var g=e(24040),R=e(3400);H.exports=function(C,S,v,d){var r=v("x"),t=v("y"),i=R.minRowLength(r),n=R.minRowLength(t);if(!i||!n){S.visible=!1;return}S._length=Math.min(i,n);var f=g.getComponentMethod("calendars","handleTraceDefaults");f(C,S,["x","y"],d);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(H,G,e){var g=e(37008),R=e(67104),a=e(49084),C=e(29736).axisHoverFormat,S=e(92880).extendFlat;H.exports=S({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:R.autocontour,ncontours:R.ncontours,contours:R.contours,line:{color:R.line.color,width:S({},R.line.width,{dflt:.5}),dash:R.line.dash,smoothing:R.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:R.texttemplate,textfont:R.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(H,G,e){var g=e(3400),R=e(56408),a=e(84952),C=e(97680),S=e(39096),v=e(81220);H.exports=function(r,t,i,n){function f(l,m){return g.coerce(r,t,v,l,m)}function u(l){return g.coerce2(r,t,v,l)}R(r,t,f,n),t.visible!==!1&&(a(r,t,f,u),C(r,t,f,n),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&S(f,n))}},65664:function(H,G,e){H.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(H,G,e){var g=e(21776).Ks,R=e(21776).Gw,a=e(49084),C=e(86968).u,S=e(74996),v=e(424),d=e(40516),r=e(32984),t=e(92880).extendFlat,i=e(98192).c;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:d.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:i,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:d.pathbar,text:S.text,textinfo:v.textinfo,texttemplate:R({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:r.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:d.outsidetextfont,textposition:d.textposition,sort:S.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},59564:function(H,G,e){var g=e(7316);G.name="icicle",G.plot=function(R,a,C,S){g.plotBasePlot(G.name,R,a,C,S)},G.clean=function(R,a,C,S){g.cleanBasePlot(G.name,R,a,C,S)}},73876:function(H,G,e){var g=e(3776);G.r=function(R,a){return g.calc(R,a)},G.q=function(R){return g._runCrossTraceCalc("icicle",R)}},7045:function(H,G,e){var g=e(3400),R=e(97376),a=e(76308),C=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,d=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;H.exports=function(f,u,l,m){function c(x,L){return g.coerce(f,u,R,x,L)}var A=c("labels"),h=c("parents");if(!A||!A.length||!h||!h.length){u.visible=!1;return}var o=c("values");o&&o.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var p=c("text");c("texttemplate"),u.texttemplate||c("textinfo",g.isArrayOrTypedArray(p)?"text+label":"label"),c("hovertext"),c("hovertemplate");var b=c("pathbar.visible"),T="auto";S(f,u,m,c,T,{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),d(f,u,m,c);var P=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;P&&i(f,u,m,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",P?1:.7),u._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},b&&(c("pathbar.thickness",u.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),C(u,m,c),u._length=null}},67880:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=e(72736),S=e(25132),v=e(47192).styleOne,d=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,n=!1;H.exports=function(u,l,m,c,A){var h=A.width,o=A.height,p=A.viewX,b=A.viewY,T=A.pathSlice,P=A.toMoveInsideSlice,x=A.strTransform,L=A.hasTransition,M=A.handleSlicesExit,s=A.makeUpdateSliceInterpolator,E=A.makeUpdateTextInterpolator,w=A.prevEntry,O={},_=u._context.staticPlot,U=u._fullLayout,z=l[0],F=z.trace,B=F.textposition.indexOf("left")!==-1,N=F.textposition.indexOf("right")!==-1,V=F.textposition.indexOf("bottom")!==-1,X=S(m,[h,o],{flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,orientation:F.tiling.orientation,pad:{inner:F.tiling.pad},maxDepth:F._maxDepth}),q=X.descendants(),te=1/0,ne=-1/0;q.forEach(function(Y){var oe=Y.depth;oe>=F._maxDepth?(Y.x0=Y.x1=(Y.x0+Y.x1)/2,Y.y0=Y.y1=(Y.y0+Y.y1)/2):(te=Math.min(te,oe),ne=Math.max(ne,oe))}),c=c.data(q,r.getPtId),F._maxVisibleLayers=isFinite(ne)?ne-te+1:0,c.enter().append("g").classed("slice",!0),M(c,n,O,[h,o],T),c.order();var ce=null;if(L&&w){var Q=r.getPtId(w);c.each(function(Y){ce===null&&r.getPtId(Y)===Q&&(ce={x0:Y.x0,x1:Y.x1,y0:Y.y0,y1:Y.y1})})}var Z=function(){return ce||{x0:0,x1:h,y0:0,y1:o}},re=c;return L&&(re=re.transition().each("end",function(){var Y=g.select(this);r.setSliceCursor(Y,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),re.each(function(Y){Y._x0=p(Y.x0),Y._x1=p(Y.x1),Y._y0=b(Y.y0),Y._y1=b(Y.y1),Y._hoverX=p(Y.x1-F.tiling.pad),Y._hoverY=b(V?Y.y1-F.tiling.pad/2:Y.y0+F.tiling.pad/2);var oe=g.select(this),ue=R.ensureSingle(oe,"path","surface",function(ae){ae.style("pointer-events",_?"none":"all")});L?ue.transition().attrTween("d",function(ae){var he=s(ae,n,Z(),[h,o],{orientation:F.tiling.orientation,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1});return function(xe){return T(he(xe))}}):ue.attr("d",T),oe.call(t,m,u,l,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),ue.call(v,Y,F,u,{hovered:!1}),Y.x0===Y.x1||Y.y0===Y.y1?Y._text="":Y._text=i(Y,m,F,l,U)||"";var K=R.ensureSingle(oe,"g","slicetext"),$=R.ensureSingle(K,"text","",function(ae){ae.attr("data-notex",1)}),le=R.ensureUniformFontSize(u,r.determineTextFont(F,Y,U.font));$.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor",N?"end":B?"start":"middle").call(a.font,le).call(C.convertToTspans,u),Y.textBB=a.bBox($.node()),Y.transform=P(Y,{fontSize:le.size}),Y.transform.fontSize=le.size,L?$.transition().attrTween("transform",function(ae){var he=E(ae,n,Z(),[h,o]);return function(xe){return x(he(xe))}}):$.attr("transform",x(Y))}),ce}},29044:function(H,G,e){H.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(H){H.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(H,G,e){var g=e(3400),R=e(90676);H.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("iciclecolorway",S.colorway),v("extendiciclecolors")}},25132:function(H,G,e){var g=e(74148),R=e(83024);H.exports=function(C,S,v){var d=v.flipX,r=v.flipY,t=v.orientation==="h",i=v.maxDepth,n=S[0],f=S[1];i&&(n=(C.height+1)*S[0]/Math.min(C.height+1,i),f=(C.height+1)*S[1]/Math.min(C.height+1,i));var u=g.partition().padding(v.pad.inner).size(t?[S[1],n]:[S[0],f])(C);return(t||d||r)&&R(u,S,{swapXY:t,flipX:d,flipY:r}),u}},38364:function(H,G,e){var g=e(95808),R=e(67880);H.exports=function(C,S,v,d){return g(C,S,v,d,{type:"icicle",drawDescendants:R})}},47192:function(H,G,e){var g=e(33428),R=e(76308),a=e(3400),C=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");C(r,t,"icicle"),t.each(function(i){var n=g.select(this),f=i[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(d,l,u,r)})})}function d(r,t,i,n){var f=t.data.data,u=!t.children,l=f.i,m=a.castOption(i,l,"marker.line.color")||R.defaultLine,c=a.castOption(i,l,"marker.line.width")||0;r.call(S,t,i,n).style("stroke-width",c).call(R.stroke,m).style("opacity",u?i.leaf.opacity:null)}H.exports={style:v,styleOne:d}},95188:function(H,G,e){for(var g=e(45464),R=e(52904).zorder,a=e(21776).Ks,C=e(92880).extendFlat,S=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],d=[],r=[],t=0;t<v.length;t++){var i=S[v[t]];d.push("For the `"+v[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}H.exports=C({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:C({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:a({},{keys:["z","color","colormodel"]}),zorder:R,transforms:void 0})},93336:function(H,G,e){var g=e(3400),R=e(47797),a=e(38248),C=e(54460),S=e(3400).maxRowLength,v=e(18712).i;H.exports=function(n,f){var u,l;if(f._hasZ)u=f.z.length,l=S(f.z);else if(f._hasSource){var m=v(f.source);u=m.height,l=m.width}var c=C.getFromId(n,f.xaxis||"x"),A=C.getFromId(n,f.yaxis||"y"),h=c.d2c(f.x0)-f.dx/2,o=A.d2c(f.y0)-f.dy/2,p,b=[h,h+l*f.dx],T=[o,o+u*f.dy];if(c&&c.type==="log")for(p=0;p<l;p++)b.push(h+p*f.dx);if(A&&A.type==="log")for(p=0;p<u;p++)T.push(o+p*f.dy);f._extremes[c._id]=C.findExtremes(c,b),f._extremes[A._id]=C.findExtremes(A,T),f._scaler=t(f);var P={x0:h,y0:o,z:f.z,w:l,h:u};return[P]};function d(i,n,f,u){return function(l){return g.constrain((l-i)*n,f,u)}}function r(i,n){return function(f){return g.constrain(f,i,n)}}function t(i){var n=R.colormodel[i.colormodel],f=n.colormodel||i.colormodel,u=f.length;i._sArray=[];for(var l=0;l<u;l++)n.min[l]!==i.zmin[l]||n.max[l]!==i.zmax[l]?i._sArray.push(d(i.zmin[l],(n.max[l]-n.min[l])/(i.zmax[l]-i.zmin[l]),n.min[l],n.max[l])):i._sArray.push(r(n.min[l],n.max[l]));return function(m){for(var c=m.slice(0,u),A=0;A<u;A++){var h=c[A];if(!a(h))return!1;c[A]=i._sArray[A](h)}return c}}},47797:function(H){H.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(G){return G.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(G){return G.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(G){return G.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(G){var e=G.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(G){var e=G.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(H,G,e){var g=e(3400),R=e(95188),a=e(47797),C=e(81792).IMAGE_URL_PREFIX;H.exports=function(v,d){function r(n,f){return g.coerce(v,d,R,n,f)}r("source"),d.source&&!d.source.match(C)&&delete d.source,d._hasSource=!!d.source;var t=r("z");if(d._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!d._hasZ&&!d._hasSource){d.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var i;d._hasZ?(r("colormodel","rgb"),i=a.colormodel[d.colormodel],r("zmin",i.zminDflt||i.min),r("zmax",i.zmaxDflt||i.max)):d._hasSource&&(d.colormodel="rgba256",i=a.colormodel[d.colormodel],d.zmin=i.zminDflt,d.zmax=i.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),d._length=null,r("zorder")}},79972:function(H){H.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},18712:function(H,G,e){var g=e(19480),R=e(81792).IMAGE_URL_PREFIX,a=e(33576).Buffer;G.i=function(C){var S=C.replace(R,""),v=new a(S,"base64");return g(v)}},24892:function(H,G,e){var g=e(93024),R=e(3400),a=R.isArrayOrTypedArray,C=e(47797);H.exports=function(v,d,r){var t=v.cd[0],i=t.trace,n=v.xa,f=v.ya;if(!(g.inbox(d-t.x0,d-(t.x0+t.w*i.dx),0)>0||g.inbox(r-t.y0,r-(t.y0+t.h*i.dy),0)>0)){var u=Math.floor((d-t.x0)/i.dx),l=Math.floor(Math.abs(r-t.y0)/i.dy),m;if(i._hasZ?m=t.z[l][u]:i._hasSource&&(m=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!m){var c=t.hi||i.hoverinfo,A;if(c){var h=c.split("+");h.indexOf("all")!==-1&&(h=["color"]),h.indexOf("color")!==-1&&(A=!0)}var o=C.colormodel[i.colormodel],p=o.colormodel||i.colormodel,b=p.length,T=i._scaler(m),P=o.suffix,x=[];(i.hovertemplate||A)&&(x.push("["+[T[0]+P[0],T[1]+P[1],T[2]+P[2]].join(", ")),b===4&&x.push(", "+T[3]+P[3]),x.push("]"),x=x.join(""),v.extraText=p.toUpperCase()+": "+x);var L;a(i.hovertext)&&a(i.hovertext[l])?L=i.hovertext[l][u]:a(i.text)&&a(i.text[l])&&(L=i.text[l][u]);var M=f.c2p(t.y0+(l+.5)*i.dy),s=t.x0+(u+.5)*i.dx,E=t.y0+(l+.5)*i.dy,w="["+m.slice(0,i.colormodel.length).join(", ")+"]";return[R.extendFlat(v,{index:[l,u],x0:n.c2p(t.x0+u*i.dx),x1:n.c2p(t.x0+(u+1)*i.dx),y0:M,y1:M,color:T,xVal:s,xLabelVal:s,yVal:E,yLabelVal:E,zLabelVal:w,text:L,hovertemplateLabels:{zLabel:w,colorLabel:x,"color[0]Label":T[0]+P[0],"color[1]Label":T[1]+P[1],"color[2]Label":T[2]+P[2],"color[3]Label":T[3]+P[3]}})]}}}},48928:function(H,G,e){H.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(H,G,e){var g=e(33428),R=e(3400),a=R.strTranslate,C=e(9616),S=e(47797),v=e(9188),d=e(2264).STYLE;H.exports=function(t,i,n,f){var u=i.xaxis,l=i.yaxis,m=!t._context._exportedPlot&&v();R.makeTraceGroups(f,n,"im").each(function(c){var A=g.select(this),h=c[0],o=h.trace,p=(o.zsmooth==="fast"||o.zsmooth===!1&&m)&&!o._hasZ&&o._hasSource&&u.type==="linear"&&l.type==="linear";o._realImage=p;var b=h.z,T=h.x0,P=h.y0,x=h.w,L=h.h,M=o.dx,s=o.dy,E,w,O,_,U,z;for(z=0;E===void 0&&z<x;)E=u.c2p(T+z*M),z++;for(z=x;w===void 0&&z>0;)w=u.c2p(T+z*M),z--;for(z=0;_===void 0&&z<L;)_=l.c2p(P+z*s),z++;for(z=L;U===void 0&&z>0;)U=l.c2p(P+z*s),z--;if(w<E&&(O=w,w=E,E=O),U<_&&(O=_,_=U,U=O),!p){var F=.5;E=Math.max(-F*u._length,E),w=Math.min((1+F)*u._length,w),_=Math.max(-F*l._length,_),U=Math.min((1+F)*l._length,U)}var B=Math.round(w-E),N=Math.round(U-_),V=B<=0||N<=0;if(V){var X=A.selectAll("image").data([]);X.exit().remove();return}function q(K){var $=document.createElement("canvas");$.width=B,$.height=N;var le=$.getContext("2d",{willReadFrequently:!0}),ae=function(Ve){return R.constrain(Math.round(u.c2p(T+Ve*M)-E),0,B)},he=function(Ve){return R.constrain(Math.round(l.c2p(P+Ve*s)-_),0,N)},xe=S.colormodel[o.colormodel],Me=xe.colormodel||o.colormodel,Ae=xe.fmt,ke;for(z=0;z<h.w;z++){var we=ae(z),Ee=ae(z+1);if(!(Ee===we||isNaN(Ee)||isNaN(we)))for(var be=0;be<h.h;be++){var Le=he(be),Ue=he(be+1);Ue===Le||isNaN(Ue)||isNaN(Le)||!K(z,be)||(ke=o._scaler(K(z,be)),ke?le.fillStyle=Me+"("+Ae(ke).join(",")+")":le.fillStyle="rgba(0,0,0,0)",le.fillRect(we,Le,Ee-we,Ue-Le))}}return $}var te=A.selectAll("image").data([c]);te.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),te.exit().remove();var ne=o.zsmooth===!1?d:"";if(p){var ce=R.simpleMap(u.range,u.r2l),Q=R.simpleMap(l.range,l.r2l),Z=ce[1]<ce[0],re=Q[1]>Q[0];if(Z||re){var Y=E+B/2,oe=_+N/2;ne+="transform:"+a(Y+"px",oe+"px")+"scale("+(Z?-1:1)+","+(re?-1:1)+")"+a(-Y+"px",-oe+"px")+";"}}te.attr("style",ne);var ue=new Promise(function(K){if(o._hasZ)K();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===x&&o._canvas.el.height===L&&o._canvas.source===o.source)K();else{var $=document.createElement("canvas");$.width=x,$.height=L;var le=$.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ae=o._image;ae.onload=function(){le.drawImage(ae,0,0),o._canvas={el:$,source:o.source},K()},ae.setAttribute("src",o.source)}}).then(function(){var K,$;if(o._hasZ)$=q(function(he,xe){var Me=b[xe][he];return R.isTypedArray(Me)&&(Me=Array.from(Me)),Me}),K=$.toDataURL("image/png");else if(o._hasSource)if(p)K=o.source;else{var le=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ae=le.getImageData(0,0,x,L).data;$=q(function(he,xe){var Me=4*(xe*x+he);return[ae[Me],ae[Me+1],ae[Me+2],ae[Me+3]]}),K=$.toDataURL("image/png")}te.attr({"xlink:href":K,height:N,width:B,x:E,y:_})});t._promises.push(ue)})}},28576:function(H,G,e){var g=e(33428);H.exports=function(a){g.select(a).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},89864:function(H,G,e){var g=e(92880).extendFlat,R=e(92880).extendDeep,a=e(67824).overrideAll,C=e(25376),S=e(22548),v=e(86968).u,d=e(94724),r=e(31780).templatedArray,t=e(48164),i=e(29736).descriptionOnlyNumbers,n=C({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:S.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",R({},f,{range:u}));H.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:i("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:i("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:R({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:u,visible:g({},d.visible,{dflt:!0}),tickmode:d.minor.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:g({},d.ticks,{dflt:"outside"}),ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,ticklabelstep:d.ticklabelstep,showticklabels:d.showticklabels,labelalias:d.labelalias,tickfont:C({}),tickangle:d.tickangle,tickformat:d.tickformat,tickformatstops:d.tickformatstops,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,separatethousands:d.separatethousands,exponentformat:d.exponentformat,minexponent:d.minexponent,showexponent:d.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:g({},f.line.color,{}),width:g({},f.line.width,{dflt:1}),editType:"plot"},thickness:g({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(H,G,e){var g=e(7316);G.name="indicator",G.plot=function(R,a,C,S){g.plotBasePlot(G.name,R,a,C,S)},G.clean=function(R,a,C,S){g.cleanBasePlot(G.name,R,a,C,S)}},79136:function(H){function G(e,g){var R=[],a=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var C=g._lastValue,S=C;return g._hasDelta&&typeof g.delta.reference=="number"&&(S=g.delta.reference),R[0]={y:a,lastY:C,delta:a-S,relativeDelta:(a-S)/S},R}H.exports={calc:G}},12096:function(H){H.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(H,G,e){var g=e(3400),R=e(89864),a=e(86968).Q,C=e(31780),S=e(51272),v=e(12096),d=e(26332),r=e(25404),t=e(95936),i=e(42568);function n(u,l,m,c){function A(B,N){return g.coerce(u,l,R,B,N)}a(l,c,A),A("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var h=A("value");l._range=[0,typeof h=="number"?1.5*h:1];var o=new Array(2),p;if(l._hasNumber){A("number.valueformat");var b=g.extendFlat({},c.font);b.size=void 0,g.coerceFont(A,"number.font",b),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,o[0]=!0),A("number.prefix"),A("number.suffix"),p=l.number.font.size}var T;if(l._hasDelta){var P=g.extendFlat({},c.font);P.size=void 0,g.coerceFont(A,"delta.font",P),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(p||v.defaultNumberFontSize),o[1]=!0),A("delta.reference",l.value),A("delta.relative"),A("delta.valueformat",l.delta.relative?"2%":""),A("delta.increasing.symbol"),A("delta.increasing.color"),A("delta.decreasing.symbol"),A("delta.decreasing.color"),A("delta.position"),A("delta.prefix"),A("delta.suffix"),T=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||o[0])&&(!l._hasDelta||o[1])||!1;var x=g.extendFlat({},c.font);x.size=.25*(p||T||v.defaultNumberFontSize),g.coerceFont(A,"title.font",x),A("title.text");var L,M,s,E;function w(B,N){return g.coerce(L,M,R.gauge,B,N)}function O(B,N){return g.coerce(s,E,R.gauge.axis,B,N)}if(l._hasGauge){L=u.gauge,L||(L={}),M=C.newContainer(l,"gauge"),w("shape");var _=l._isBullet=l.gauge.shape==="bullet";_||A("title.align","center");var U=l._isAngular=l.gauge.shape==="angular";U||A("align","center"),w("bgcolor",c.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width");var z=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);w("bar.thickness",z),S(L,M,{name:"steps",handleItemDefaults:f}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),s={},L&&(s=L.axis||{}),E=C.newContainer(M,"axis"),O("visible"),l._range=O("range",l._range);var F={font:c.font,noAutotickangles:!0,outerTicks:!0};d(s,E,O,"linear"),i(s,E,O,"linear",F),t(s,E,O,"linear",F),r(s,E,O,F)}else A("title.align","center"),A("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function f(u,l){function m(c,A){return g.coerce(u,l,R.gauge.steps,c,A)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}H.exports={supplyDefaults:n}},43480:function(H,G,e){H.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(H,G,e){var g=e(33428),R=e(67756).qy,a=e(67756).Gz,C=e(3400),S=C.strScale,v=C.strTranslate,d=C.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),i=e(12096),n=e(72736),f=e(54460),u=e(28336),l=e(37668),m=e(94724),c=e(76308),A={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},o=/[yzafpnmkMGTPEZY]/;function p(_){return _&&_.duration>0}H.exports=function(U,z,F,B){var N=U._fullLayout,V;p(F)&&B&&(V=B()),C.makeTraceGroups(N._indicatorlayer,z,"trace").each(function(X){var q=X[0],te=q.trace,ne=g.select(this),ce=te._hasGauge,Q=te._isAngular,Z=te._isBullet,re=te.domain,Y={w:N._size.w*(re.x[1]-re.x[0]),h:N._size.h*(re.y[1]-re.y[0]),l:N._size.l+N._size.w*re.x[0],r:N._size.r+N._size.w*(1-re.x[1]),t:N._size.t+N._size.h*(1-re.y[1]),b:N._size.b+N._size.h*re.y[0]},oe=Y.l+Y.w/2,ue=Y.t+Y.h/2,K=Math.min(Y.w/2,Y.h),$=i.innerRadius*K,le,ae,he,xe=te.align||"center";if(ae=ue,!ce)le=Y.l+h[xe]*Y.w,he=function(Fe){return s(Fe,Y.w,Y.h)};else if(Q&&(le=oe,ae=ue+K/2,he=function(Fe){return E(Fe,.9*$)}),Z){var Me=i.bulletPadding,Ae=1-i.bulletNumberDomainSize+Me;le=Y.l+(Ae+(1-Ae)*h[xe])*Y.w,he=function(Fe){return s(Fe,(i.bulletNumberDomainSize-Me)*Y.w,Y.h)}}P(U,ne,X,{numbersX:le,numbersY:ae,numbersScaler:he,transitionOpts:F,onComplete:V});var ke,we;ce&&(ke={range:te.gauge.axis.range,color:te.gauge.bgcolor,line:{color:te.gauge.bordercolor,width:0},thickness:1},we={range:te.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:te.gauge.bordercolor,width:te.gauge.borderwidth},thickness:1});var Ee=ne.selectAll("g.angular").data(Q?X:[]);Ee.exit().remove();var be=ne.selectAll("g.angularaxis").data(Q?X:[]);be.exit().remove(),Q&&T(U,ne,X,{radius:K,innerRadius:$,gauge:Ee,layer:be,size:Y,gaugeBg:ke,gaugeOutline:we,transitionOpts:F,onComplete:V});var Le=ne.selectAll("g.bullet").data(Z?X:[]);Le.exit().remove();var Ue=ne.selectAll("g.bulletaxis").data(Z?X:[]);Ue.exit().remove(),Z&&b(U,ne,X,{gauge:Le,layer:Ue,size:Y,gaugeBg:ke,gaugeOutline:we,transitionOpts:F,onComplete:V});var Ve=ne.selectAll("text.title").data(X);Ve.exit().remove(),Ve.enter().append("text").classed("title",!0),Ve.attr("text-anchor",function(){return Z?A.right:A[te.title.align]}).text(te.title.text).call(t.font,te.title.font).call(n.convertToTspans,U),Ve.attr("transform",function(){var Fe=Y.l+Y.w*h[te.title.align],He,st=i.titlePadding,vt=t.bBox(Ve.node());if(ce){if(Q)if(te.gauge.axis.visible){var lt=t.bBox(be.node());He=lt.top-st-vt.bottom}else He=Y.t+Y.h/2-K/2-vt.bottom-st;Z&&(He=ae-(vt.top+vt.bottom)/2,Fe=Y.l-i.bulletPadding*Y.w)}else He=te._numbersTop-st-vt.bottom;return v(Fe,He)})})};function b(_,U,z,F){var B=z[0].trace,N=F.gauge,V=F.layer,X=F.gaugeBg,q=F.gaugeOutline,te=F.size,ne=B.domain,ce=F.transitionOpts,Q=F.onComplete,Z,re,Y,oe,ue;N.enter().append("g").classed("bullet",!0),N.attr("transform",v(te.l,te.t)),V.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),V.selectAll("g.xbulletaxistick,path,text").remove();var K=te.h,$=B.gauge.bar.thickness*K,le=ne.x[0],ae=ne.x[0]+(ne.x[1]-ne.x[0])*(B._hasNumber||B._hasDelta?1-i.bulletNumberDomainSize:1);Z=M(_,B.gauge.axis),Z._id="xbulletaxis",Z.domain=[le,ae],Z.setScale(),re=f.calcTicks(Z),Y=f.makeTransTickFn(Z),oe=f.getTickSigns(Z)[2],ue=te.t+te.h,Z.visible&&(f.drawTicks(_,Z,{vals:Z.ticks==="inside"?f.clipEnds(Z,re):re,layer:V,path:f.makeTickPath(Z,ue,oe),transFn:Y}),f.drawLabels(_,Z,{vals:re,layer:V,transFn:Y,labelFns:f.makeLabelFns(Z,ue)}));function he(be){be.attr("width",function(Le){return Math.max(0,Z.c2p(Le.range[1])-Z.c2p(Le.range[0]))}).attr("x",function(Le){return Z.c2p(Le.range[0])}).attr("y",function(Le){return .5*(1-Le.thickness)*K}).attr("height",function(Le){return Le.thickness*K})}var xe=[X].concat(B.gauge.steps),Me=N.selectAll("g.bg-bullet").data(xe);Me.enter().append("g").classed("bg-bullet",!0).append("rect"),Me.select("rect").call(he).call(x),Me.exit().remove();var Ae=N.selectAll("g.value-bullet").data([B.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",$).attr("y",(K-$)/2).call(x),p(ce)?Ae.select("rect").transition().duration(ce.duration).ease(ce.easing).each("end",function(){Q&&Q()}).each("interrupt",function(){Q&&Q()}).attr("width",Math.max(0,Z.c2p(Math.min(B.gauge.axis.range[1],z[0].y)))):Ae.select("rect").attr("width",typeof z[0].y=="number"?Math.max(0,Z.c2p(Math.min(B.gauge.axis.range[1],z[0].y))):0),Ae.exit().remove();var ke=z.filter(function(){return B.gauge.threshold.value||B.gauge.threshold.value===0}),we=N.selectAll("g.threshold-bullet").data(ke);we.enter().append("g").classed("threshold-bullet",!0).append("line"),we.select("line").attr("x1",Z.c2p(B.gauge.threshold.value)).attr("x2",Z.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*K).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*K).call(c.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),we.exit().remove();var Ee=N.selectAll("g.gauge-outline").data([q]);Ee.enter().append("g").classed("gauge-outline",!0).append("rect"),Ee.select("rect").call(he).call(x),Ee.exit().remove()}function T(_,U,z,F){var B=z[0].trace,N=F.size,V=F.radius,X=F.innerRadius,q=F.gaugeBg,te=F.gaugeOutline,ne=[N.l+N.w/2,N.t+N.h/2+V/2],ce=F.gauge,Q=F.layer,Z=F.transitionOpts,re=F.onComplete,Y=Math.PI/2;function oe(et){var ct=B.gauge.axis.range[0],ht=B.gauge.axis.range[1],mt=(et-ct)/(ht-ct)*Math.PI-Y;return mt<-Y?-Y:mt>Y?Y:mt}function ue(et){return g.svg.arc().innerRadius((X+V)/2-et/2*(V-X)).outerRadius((X+V)/2+et/2*(V-X)).startAngle(-Y)}function K(et){et.attr("d",function(ct){return ue(ct.thickness).startAngle(oe(ct.range[0])).endAngle(oe(ct.range[1]))()})}var $,le,ae,he;ce.enter().append("g").classed("angular",!0),ce.attr("transform",v(ne[0],ne[1])),Q.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Q.selectAll("g.xangularaxistick,path,text").remove(),$=M(_,B.gauge.axis),$.type="linear",$.range=B.gauge.axis.range,$._id="xangularaxis",$.ticklabeloverflow="allow",$.setScale();var xe=function(et){return($.range[0]-et.x)/($.range[1]-$.range[0])*Math.PI+Math.PI},Me={},Ae=f.makeLabelFns($,0),ke=Ae.labelStandoff;Me.xFn=function(et){var ct=xe(et);return Math.cos(ct)*ke},Me.yFn=function(et){var ct=xe(et),ht=Math.sin(ct)>0?.2:1;return-Math.sin(ct)*(ke+et.fontSize*ht)+Math.abs(Math.cos(ct))*(et.fontSize*r)},Me.anchorFn=function(et){var ct=xe(et),ht=Math.cos(ct);return Math.abs(ht)<.1?"middle":ht>0?"start":"end"},Me.heightFn=function(et,ct,ht){var mt=xe(et);return-.5*(1+Math.sin(mt))*ht};var we=function(et){return v(ne[0]+V*Math.cos(et),ne[1]-V*Math.sin(et))};ae=function(et){return we(xe(et))};var Ee=function(et){var ct=xe(et);return we(ct)+"rotate("+-d(ct)+")"};if(le=f.calcTicks($),he=f.getTickSigns($)[2],$.visible){he=$.ticks==="inside"?-1:1;var be=($.linewidth||1)/2;f.drawTicks(_,$,{vals:le,layer:Q,path:"M"+he*be+",0h"+he*$.ticklen,transFn:Ee}),f.drawLabels(_,$,{vals:le,layer:Q,transFn:ae,labelFns:Me})}var Le=[q].concat(B.gauge.steps),Ue=ce.selectAll("g.bg-arc").data(Le);Ue.enter().append("g").classed("bg-arc",!0).append("path"),Ue.select("path").call(K).call(x),Ue.exit().remove();var Ve=ue(B.gauge.bar.thickness),Fe=ce.selectAll("g.value-arc").data([B.gauge.bar]);Fe.enter().append("g").classed("value-arc",!0).append("path");var He=Fe.select("path");p(Z)?(He.transition().duration(Z.duration).ease(Z.easing).each("end",function(){re&&re()}).each("interrupt",function(){re&&re()}).attrTween("d",L(Ve,oe(z[0].lastY),oe(z[0].y))),B._lastValue=z[0].y):He.attr("d",typeof z[0].y=="number"?Ve.endAngle(oe(z[0].y)):"M0,0Z"),He.call(x),Fe.exit().remove(),Le=[];var st=B.gauge.threshold.value;(st||st===0)&&Le.push({range:[st,st],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var vt=ce.selectAll("g.threshold-arc").data(Le);vt.enter().append("g").classed("threshold-arc",!0).append("path"),vt.select("path").call(K).call(x),vt.exit().remove();var lt=ce.selectAll("g.gauge-outline").data([te]);lt.enter().append("g").classed("gauge-outline",!0).append("path"),lt.select("path").call(K).call(x),lt.exit().remove()}function P(_,U,z,F){var B=z[0].trace,N=F.numbersX,V=F.numbersY,X=B.align||"center",q=A[X],te=F.transitionOpts,ne=F.onComplete,ce=C.ensureSingle(U,"g","numbers"),Q,Z,re,Y=[];B._hasNumber&&Y.push("number"),B._hasDelta&&(Y.push("delta"),B.delta.position==="left"&&Y.reverse());var oe=ce.selectAll("text").data(Y);oe.enter().append("text"),oe.attr("text-anchor",function(){return q}).attr("class",function(we){return we}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),oe.exit().remove();function ue(we,Ee,be,Le){if(we.match("s")&&be>=0!=Le>=0&&!Ee(be).slice(-1).match(o)&&!Ee(Le).slice(-1).match(o)){var Ue=we.slice().replace("s","f").replace(/\d+/,function(Fe){return parseInt(Fe)-1}),Ve=M(_,{tickformat:Ue});return function(Fe){return Math.abs(Fe)<1?f.tickText(Ve,Fe).text:Ee(Fe)}}else return Ee}function K(){var we=M(_,{tickformat:B.number.valueformat},B._range);we.setScale(),f.prepTicks(we);var Ee=function(Fe){return f.tickText(we,Fe).text},be=B.number.suffix,Le=B.number.prefix,Ue=ce.select("text.number");function Ve(){var Fe=typeof z[0].y=="number"?Le+Ee(z[0].y)+be:"-";Ue.text(Fe).call(t.font,B.number.font).call(n.convertToTspans,_)}return p(te)?Ue.transition().duration(te.duration).ease(te.easing).each("end",function(){Ve(),ne&&ne()}).each("interrupt",function(){Ve(),ne&&ne()}).attrTween("text",function(){var Fe=g.select(this),He=a(z[0].lastY,z[0].y);B._lastValue=z[0].y;var st=ue(B.number.valueformat,Ee,z[0].lastY,z[0].y);return function(vt){Fe.text(Le+st(He(vt))+be)}}):Ve(),Q=w(Le+Ee(z[0].y)+be,B.number.font,q,_),Ue}function $(){var we=M(_,{tickformat:B.delta.valueformat},B._range);we.setScale(),f.prepTicks(we);var Ee=function(vt){return f.tickText(we,vt).text},be=B.delta.suffix,Le=B.delta.prefix,Ue=function(vt){var lt=B.delta.relative?vt.relativeDelta:vt.delta;return lt},Ve=function(vt,lt){return vt===0||typeof vt!="number"||isNaN(vt)?"-":(vt>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+Le+lt(vt)+be},Fe=function(vt){return vt.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};B._deltaLastValue===void 0&&(B._deltaLastValue=Ue(z[0]));var He=ce.select("text.delta");He.call(t.font,B.delta.font).call(c.fill,Fe({delta:B._deltaLastValue}));function st(){He.text(Ve(Ue(z[0]),Ee)).call(c.fill,Fe(z[0])).call(n.convertToTspans,_)}return p(te)?He.transition().duration(te.duration).ease(te.easing).tween("text",function(){var vt=g.select(this),lt=Ue(z[0]),et=B._deltaLastValue,ct=ue(B.delta.valueformat,Ee,et,lt),ht=a(et,lt);return B._deltaLastValue=lt,function(mt){vt.text(Ve(ht(mt),ct)),vt.call(c.fill,Fe({delta:ht(mt)}))}}).each("end",function(){st(),ne&&ne()}).each("interrupt",function(){st(),ne&&ne()}):st(),Z=w(Ve(Ue(z[0]),Ee),B.delta.font,q,_),He}var le=B.mode+B.align,ae;if(B._hasDelta&&(ae=$(),le+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,le+=B.delta.increasing.symbol+B.delta.decreasing.symbol,re=Z),B._hasNumber&&(K(),le+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,re=Q),B._hasDelta&&B._hasNumber){var he=[(Q.left+Q.right)/2,(Q.top+Q.bottom)/2],xe=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],Me,Ae,ke=.75*B.delta.font.size;B.delta.position==="left"&&(Me=O(B,"deltaPos",0,-1*(Q.width*h[B.align]+Z.width*(1-h[B.align])+ke),le,Math.min),Ae=he[1]-xe[1],re={width:Q.width+Z.width+ke,height:Math.max(Q.height,Z.height),left:Z.left+Me,right:Q.right,top:Math.min(Q.top,Z.top+Ae),bottom:Math.max(Q.bottom,Z.bottom+Ae)}),B.delta.position==="right"&&(Me=O(B,"deltaPos",0,Q.width*(1-h[B.align])+Z.width*h[B.align]+ke,le,Math.max),Ae=he[1]-xe[1],re={width:Q.width+Z.width+ke,height:Math.max(Q.height,Z.height),left:Q.left,right:Z.right+Me,top:Math.min(Q.top,Z.top+Ae),bottom:Math.max(Q.bottom,Z.bottom+Ae)}),B.delta.position==="bottom"&&(Me=null,Ae=Z.height,re={width:Math.max(Q.width,Z.width),height:Q.height+Z.height,left:Math.min(Q.left,Z.left),right:Math.max(Q.right,Z.right),top:Q.bottom-Q.height,bottom:Q.bottom+Z.height}),B.delta.position==="top"&&(Me=null,Ae=Q.top,re={width:Math.max(Q.width,Z.width),height:Q.height+Z.height,left:Math.min(Q.left,Z.left),right:Math.max(Q.right,Z.right),top:Q.bottom-Q.height-Z.height,bottom:Q.bottom}),ae.attr({dx:Me,dy:Ae})}(B._hasNumber||B._hasDelta)&&ce.attr("transform",function(){var we=F.numbersScaler(re);le+=we[2];var Ee=O(B,"numbersScale",1,we[0],le,Math.min),be;B._scaleNumbers||(Ee=1),B._isAngular?be=V-Ee*re.bottom:be=V-Ee*(re.top+re.bottom)/2,B._numbersTop=Ee*re.top+be;var Le=re[X];X==="center"&&(Le=(re.left+re.right)/2);var Ue=N-Ee*Le;return Ue=O(B,"numbersTranslate",0,Ue,le,Math.max),v(Ue,be)+S(Ee)})}function x(_){_.each(function(U){c.stroke(g.select(this),U.line.color)}).each(function(U){c.fill(g.select(this),U.color)}).style("stroke-width",function(U){return U.line.width})}function L(_,U,z){return function(){var F=R(U,z);return function(B){return _.endAngle(F(B))()}}}function M(_,U,z){var F=_._fullLayout,B=C.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},U),N={type:"linear",_id:"x"+U._id},V={letter:"x",font:F.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function X(q,te){return C.coerce(B,N,m,q,te)}return u(B,N,X,V,F),l(B,N,X,V),N}function s(_,U,z){var F=Math.min(U/_.width,z/_.height);return[F,_,U+"x"+z]}function E(_,U){var z=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),F=U/z;return[F,_,U]}function w(_,U,z,F){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),N=g.select(B);return N.text(_).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",_).call(n.convertToTspans,F).call(t.font,U),t.bBox(N.node())}function O(_,U,z,F,B,N){var V="_cache"+U;_[V]&&_[V].key===B||(_[V]={key:B,value:z});var X=C.aggNums(N,null,[_[V].value,F],2);return _[V].value=X,X}},50048:function(H,G,e){var g=e(49084),R=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,d=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var i=H.exports=d(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),valuehoverformat:R("value",1),showlegend:v({},S.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},S.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},62624:function(H,G,e){var g=e(47128),R=e(3832).processGrid,a=e(3832).filter;H.exports=function(S,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var d=R(v);v._gridFill=d.fill,v._Xs=d.Xs,v._Ys=d.Ys,v._Zs=d.Zs,v._len=d.len;for(var r=1/0,t=-1/0,i=0;i<v._len;i++){var n=v._value[i];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,g(S,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(H,G,e){var g=e(67792).gl_mesh3d,R=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,C=e(43080),S=e(8932).extractOpts,v=e(52094),d=function(u,l){for(var m=l.length-1;m>0;m--){var c=Math.min(l[m],l[m-1]),A=Math.max(l[m],l[m-1]);if(A>c&&c<u&&u<=A)return{id:m,distRatio:(A-u)/(A-c)}}return{id:0,distRatio:0}};function r(u,l,m){this.scene=u,this.uid=m,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,m=this.data._meshX[l],c=this.data._meshY[l],A=this.data._meshZ[l],h=this.data._Ys.length,o=this.data._Zs.length,p=d(m,this.data._Xs).id,b=d(c,this.data._Ys).id,T=d(A,this.data._Zs).id,P=u.index=T+o*b+o*h*p;u.traceCoordinate=[this.data._meshX[P],this.data._meshY[P],this.data._meshZ[P],this.data._value[P]];var x=this.data.hovertext||this.data.text;return a(x)&&x[P]!==void 0?u.textLabel=x[P]:x&&(u.textLabel=x),!0}},t.update=function(u){var l=this.scene,m=l.fullSceneLayout;this.data=n(u);function c(b,T,P,x){return T.map(function(L){return b.d2l(L,0,x)*P})}var A=v(c(m.xaxis,u._meshX,l.dataScale[0],u.xcalendar),c(m.yaxis,u._meshY,l.dataScale[1],u.ycalendar),c(m.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),h=v(u._meshI,u._meshJ,u._meshK),o={positions:A,cells:h,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:C(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},p=S(u);o.vertexIntensity=u._meshIntensity,o.vertexIntensityBounds=[p.min,p.max],o.colormap=R(u),this.mesh.update(o)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,m=u.spaceframe.show,c=u.surface.fill,A=u.spaceframe.fill,h=!1,o=!1,p=0,b,T,P=u._Xs,x=u._Ys,L=u._Zs,M=P.length,s=x.length,E=L.length,w=i.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),O=function(Ze,We,_e){switch(w){case 5:return _e+E*We+E*s*Ze;case 4:return _e+E*Ze+E*M*We;case 3:return We+s*_e+s*E*Ze;case 2:return We+s*Ze+s*M*_e;case 1:return Ze+M*_e+M*E*We;default:return Ze+M*We+M*s*_e}},_=u._minValues,U=u._maxValues,z=u._vMin,F=u._vMax,B,N,V,X;function q(Ze,We,_e){for(var Ie=X.length,Xe=T;Xe<Ie;Xe++)if(Ze===B[Xe]&&We===N[Xe]&&_e===V[Xe])return Xe;return-1}function te(){T=b}function ne(){B=[],N=[],V=[],X=[],b=0,te()}function ce(Ze,We,_e,Ie){return B.push(Ze),N.push(We),V.push(_e),X.push(Ie),b++,b-1}function Q(Ze,We,_e){return u._meshI.push(Ze),u._meshJ.push(We),u._meshK.push(_e),p++,p-1}function Z(Ze,We,_e){for(var Ie=[],Xe=0;Xe<Ze.length;Xe++)Ie[Xe]=(Ze[Xe]+We[Xe]+_e[Xe])/3;return Ie}function re(Ze,We,_e){for(var Ie=[],Xe=0;Xe<Ze.length;Xe++)Ie[Xe]=Ze[Xe]*(1-_e)+_e*We[Xe];return Ie}var Y;function oe(Ze){Y=Ze}function ue(Ze,We){var _e=Ze[0],Ie=Ze[1],Xe=Ze[2],De=Z(_e,Ie,Xe),de=Math.sqrt(1-Y),Te=re(De,_e,de),Be=re(De,Ie,de),Qe=re(De,Xe,de),at=We[0],it=We[1],Wt=We[2];return{xyzv:[[_e,Ie,Be],[Be,Te,_e],[Ie,Xe,Qe],[Qe,Be,Ie],[Xe,_e,Te],[Te,Qe,Xe]],abc:[[at,it,-1],[-1,-1,at],[it,Wt,-1],[-1,-1,it],[Wt,at,-1],[-1,-1,Wt]]}}function K(Ze,We){return Ze==="all"||Ze===null?!0:Ze.indexOf(We)>-1}function $(Ze,We){return Ze===null?We:Ze}function le(Ze,We,_e){te();var Ie=[We],Xe=[_e];if(Y>=1)Ie=[We],Xe=[_e];else if(Y>0){var De=ue(We,_e);Ie=De.xyzv,Xe=De.abc}for(var de=0;de<Ie.length;de++){We=Ie[de],_e=Xe[de];for(var Te=[],Be=0;Be<3;Be++){var Qe=We[Be][0],at=We[Be][1],it=We[Be][2],Wt=We[Be][3],Yt=_e[Be]>-1?_e[Be]:q(Qe,at,it);Yt>-1?Te[Be]=Yt:Te[Be]=ce(Qe,at,it,$(Ze,Wt))}Q(Te[0],Te[1],Te[2])}}function ae(Ze,We,_e){var Ie=function(Xe,De,de){le(Ze,[We[Xe],We[De],We[de]],[_e[Xe],_e[De],_e[de]])};Ie(0,1,2),Ie(2,3,0)}function he(Ze,We,_e){var Ie=function(Xe,De,de){le(Ze,[We[Xe],We[De],We[de]],[_e[Xe],_e[De],_e[de]])};Ie(0,1,2),Ie(3,0,1),Ie(2,3,0),Ie(1,2,3)}function xe(Ze,We,_e,Ie){var Xe=Ze[3];Xe<_e&&(Xe=_e),Xe>Ie&&(Xe=Ie);for(var De=(Ze[3]-Xe)/(Ze[3]-We[3]+1e-9),de=[],Te=0;Te<4;Te++)de[Te]=(1-De)*Ze[Te]+De*We[Te];return de}function Me(Ze,We,_e){return Ze>=We&&Ze<=_e}function Ae(Ze){var We=.001*(F-z);return Ze>=z-We&&Ze<=F+We}function ke(Ze){for(var We=[],_e=0;_e<4;_e++){var Ie=Ze[_e];We.push([u._x[Ie],u._y[Ie],u._z[Ie],u._value[Ie]])}return We}var we=3;function Ee(Ze,We,_e,Ie,Xe,De){De||(De=1),_e=[-1,-1,-1];var de=!1,Te=[Me(We[0][3],Ie,Xe),Me(We[1][3],Ie,Xe),Me(We[2][3],Ie,Xe)];if(!Te[0]&&!Te[1]&&!Te[2])return!1;var Be=function(at,it,Wt){return Ae(it[0][3])&&Ae(it[1][3])&&Ae(it[2][3])?(le(at,it,Wt),!0):De<we?Ee(at,it,Wt,z,F,++De):!1};if(Te[0]&&Te[1]&&Te[2])return Be(Ze,We,_e)||de;var Qe=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(at){if(Te[at[0]]&&Te[at[1]]&&!Te[at[2]]){var it=We[at[0]],Wt=We[at[1]],Yt=We[at[2]],Tt=xe(Yt,it,Ie,Xe),Lt=xe(Yt,Wt,Ie,Xe);de=Be(Ze,[Lt,Tt,it],[-1,-1,_e[at[0]]])||de,de=Be(Ze,[it,Wt,Lt],[_e[at[0]],_e[at[1]],-1])||de,Qe=!0}}),Qe||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(at){if(Te[at[0]]&&!Te[at[1]]&&!Te[at[2]]){var it=We[at[0]],Wt=We[at[1]],Yt=We[at[2]],Tt=xe(Wt,it,Ie,Xe),Lt=xe(Yt,it,Ie,Xe);de=Be(Ze,[Lt,Tt,it],[-1,-1,_e[at[0]]])||de,Qe=!0}}),de}function be(Ze,We,_e,Ie){var Xe=!1,De=ke(We),de=[Me(De[0][3],_e,Ie),Me(De[1][3],_e,Ie),Me(De[2][3],_e,Ie),Me(De[3][3],_e,Ie)];if(!de[0]&&!de[1]&&!de[2]&&!de[3])return Xe;if(de[0]&&de[1]&&de[2]&&de[3])return o&&(Xe=he(Ze,De,We)||Xe),Xe;var Te=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Be){if(de[Be[0]]&&de[Be[1]]&&de[Be[2]]&&!de[Be[3]]){var Qe=De[Be[0]],at=De[Be[1]],it=De[Be[2]],Wt=De[Be[3]];if(o)Xe=le(Ze,[Qe,at,it],[We[Be[0]],We[Be[1]],We[Be[2]]])||Xe;else{var Yt=xe(Wt,Qe,_e,Ie),Tt=xe(Wt,at,_e,Ie),Lt=xe(Wt,it,_e,Ie);Xe=le(null,[Yt,Tt,Lt],[-1,-1,-1])||Xe}Te=!0}}),Te||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Be){if(de[Be[0]]&&de[Be[1]]&&!de[Be[2]]&&!de[Be[3]]){var Qe=De[Be[0]],at=De[Be[1]],it=De[Be[2]],Wt=De[Be[3]],Yt=xe(it,Qe,_e,Ie),Tt=xe(it,at,_e,Ie),Lt=xe(Wt,at,_e,Ie),Xt=xe(Wt,Qe,_e,Ie);o?(Xe=le(Ze,[Qe,Xt,Yt],[We[Be[0]],-1,-1])||Xe,Xe=le(Ze,[at,Tt,Lt],[We[Be[1]],-1,-1])||Xe):Xe=ae(null,[Yt,Tt,Lt,Xt],[-1,-1,-1,-1])||Xe,Te=!0}}),Te)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Be){if(de[Be[0]]&&!de[Be[1]]&&!de[Be[2]]&&!de[Be[3]]){var Qe=De[Be[0]],at=De[Be[1]],it=De[Be[2]],Wt=De[Be[3]],Yt=xe(at,Qe,_e,Ie),Tt=xe(it,Qe,_e,Ie),Lt=xe(Wt,Qe,_e,Ie);o?(Xe=le(Ze,[Qe,Yt,Tt],[We[Be[0]],-1,-1])||Xe,Xe=le(Ze,[Qe,Tt,Lt],[We[Be[0]],-1,-1])||Xe,Xe=le(Ze,[Qe,Lt,Yt],[We[Be[0]],-1,-1])||Xe):Xe=le(null,[Yt,Tt,Lt],[-1,-1,-1])||Xe,Te=!0}}),Xe}function Le(Ze,We,_e,Ie,Xe,De,de,Te,Be,Qe,at){var it=!1;return h&&(K(Ze,"A")&&(it=be(null,[We,_e,Ie,De],Qe,at)||it),K(Ze,"B")&&(it=be(null,[_e,Ie,Xe,Be],Qe,at)||it),K(Ze,"C")&&(it=be(null,[_e,De,de,Be],Qe,at)||it),K(Ze,"D")&&(it=be(null,[Ie,De,Te,Be],Qe,at)||it),K(Ze,"E")&&(it=be(null,[_e,Ie,De,Be],Qe,at)||it)),o&&(it=be(Ze,[_e,Ie,De,Be],Qe,at)||it),it}function Ue(Ze,We,_e,Ie,Xe,De,de,Te){return[Te[0]===!0?!0:Ee(Ze,ke([We,_e,Ie]),[We,_e,Ie],De,de),Te[1]===!0?!0:Ee(Ze,ke([Ie,Xe,We]),[Ie,Xe,We],De,de)]}function Ve(Ze,We,_e,Ie,Xe,De,de,Te,Be){return Te?Ue(Ze,We,_e,Xe,Ie,De,de,Be):Ue(Ze,_e,Xe,Ie,We,De,de,Be)}function Fe(Ze,We,_e,Ie,Xe,De,de){var Te=!1,Be,Qe,at,it,Wt=function(){Te=Ee(Ze,[Be,Qe,at],[-1,-1,-1],Xe,De)||Te,Te=Ee(Ze,[at,it,Be],[-1,-1,-1],Xe,De)||Te},Yt=de[0],Tt=de[1],Lt=de[2];return Yt&&(Be=re(ke([O(We,_e-0,Ie-0)])[0],ke([O(We-1,_e-0,Ie-0)])[0],Yt),Qe=re(ke([O(We,_e-0,Ie-1)])[0],ke([O(We-1,_e-0,Ie-1)])[0],Yt),at=re(ke([O(We,_e-1,Ie-1)])[0],ke([O(We-1,_e-1,Ie-1)])[0],Yt),it=re(ke([O(We,_e-1,Ie-0)])[0],ke([O(We-1,_e-1,Ie-0)])[0],Yt),Wt()),Tt&&(Be=re(ke([O(We-0,_e,Ie-0)])[0],ke([O(We-0,_e-1,Ie-0)])[0],Tt),Qe=re(ke([O(We-0,_e,Ie-1)])[0],ke([O(We-0,_e-1,Ie-1)])[0],Tt),at=re(ke([O(We-1,_e,Ie-1)])[0],ke([O(We-1,_e-1,Ie-1)])[0],Tt),it=re(ke([O(We-1,_e,Ie-0)])[0],ke([O(We-1,_e-1,Ie-0)])[0],Tt),Wt()),Lt&&(Be=re(ke([O(We-0,_e-0,Ie)])[0],ke([O(We-0,_e-0,Ie-1)])[0],Lt),Qe=re(ke([O(We-0,_e-1,Ie)])[0],ke([O(We-0,_e-1,Ie-1)])[0],Lt),at=re(ke([O(We-1,_e-1,Ie)])[0],ke([O(We-1,_e-1,Ie-1)])[0],Lt),it=re(ke([O(We-1,_e-0,Ie)])[0],ke([O(We-1,_e-0,Ie-1)])[0],Lt),Wt()),Te}function He(Ze,We,_e,Ie,Xe,De,de,Te,Be,Qe,at,it){var Wt=Ze;return it?(h&&Ze==="even"&&(Wt=null),Le(Wt,We,_e,Ie,Xe,De,de,Te,Be,Qe,at)):(h&&Ze==="odd"&&(Wt=null),Le(Wt,Be,Te,de,De,Xe,Ie,_e,We,Qe,at))}function st(Ze,We,_e,Ie,Xe){for(var De=[],de=0,Te=0;Te<We.length;Te++)for(var Be=We[Te],Qe=1;Qe<E;Qe++)for(var at=1;at<s;at++)De.push(Ve(Ze,O(Be,at-1,Qe-1),O(Be,at-1,Qe),O(Be,at,Qe-1),O(Be,at,Qe),_e,Ie,(Be+at+Qe)%2,Xe&&Xe[de]?Xe[de]:[])),de++;return De}function vt(Ze,We,_e,Ie,Xe){for(var De=[],de=0,Te=0;Te<We.length;Te++)for(var Be=We[Te],Qe=1;Qe<M;Qe++)for(var at=1;at<E;at++)De.push(Ve(Ze,O(Qe-1,Be,at-1),O(Qe,Be,at-1),O(Qe-1,Be,at),O(Qe,Be,at),_e,Ie,(Qe+Be+at)%2,Xe&&Xe[de]?Xe[de]:[])),de++;return De}function lt(Ze,We,_e,Ie,Xe){for(var De=[],de=0,Te=0;Te<We.length;Te++)for(var Be=We[Te],Qe=1;Qe<s;Qe++)for(var at=1;at<M;at++)De.push(Ve(Ze,O(at-1,Qe-1,Be),O(at-1,Qe,Be),O(at,Qe-1,Be),O(at,Qe,Be),_e,Ie,(at+Qe+Be)%2,Xe&&Xe[de]?Xe[de]:[])),de++;return De}function et(Ze,We,_e){for(var Ie=1;Ie<E;Ie++)for(var Xe=1;Xe<s;Xe++)for(var De=1;De<M;De++)He(Ze,O(De-1,Xe-1,Ie-1),O(De-1,Xe-1,Ie),O(De-1,Xe,Ie-1),O(De-1,Xe,Ie),O(De,Xe-1,Ie-1),O(De,Xe-1,Ie),O(De,Xe,Ie-1),O(De,Xe,Ie),We,_e,(De+Xe+Ie)%2)}function ct(Ze,We,_e){o=!0,et(Ze,We,_e),o=!1}function ht(Ze,We,_e){h=!0,et(Ze,We,_e),h=!1}function mt(Ze,We,_e,Ie,Xe,De){for(var de=[],Te=0,Be=0;Be<We.length;Be++)for(var Qe=We[Be],at=1;at<E;at++)for(var it=1;it<s;it++)de.push(Fe(Ze,Qe,it,at,_e,Ie,Xe[Be],De&&De[Te]?De[Te]:[])),Te++;return de}function xt(Ze,We,_e,Ie,Xe,De){for(var de=[],Te=0,Be=0;Be<We.length;Be++)for(var Qe=We[Be],at=1;at<M;at++)for(var it=1;it<E;it++)de.push(Fe(Ze,at,Qe,it,_e,Ie,Xe[Be],De&&De[Te]?De[Te]:[])),Te++;return de}function Mt(Ze,We,_e,Ie,Xe,De){for(var de=[],Te=0,Be=0;Be<We.length;Be++)for(var Qe=We[Be],at=1;at<s;at++)for(var it=1;it<M;it++)de.push(Fe(Ze,it,at,Qe,_e,Ie,Xe[Be],De&&De[Te]?De[Te]:[])),Te++;return de}function tt(Ze,We){for(var _e=[],Ie=Ze;Ie<We;Ie++)_e.push(Ie);return _e}function Oe(){for(var Ze=0;Ze<M;Ze++)for(var We=0;We<s;We++)for(var _e=0;_e<E;_e++){var Ie=O(Ze,We,_e);ce(u._x[Ie],u._y[Ie],u._z[Ie],u._value[Ie])}}function Ye(){ne(),Oe();var Ze=null;if(m&&A&&(oe(A),ct(Ze,z,F)),l&&c){oe(c);for(var We=u.surface.pattern,_e=u.surface.count,Ie=0;Ie<_e;Ie++){var Xe=_e===1?.5:Ie/(_e-1),De=(1-Xe)*z+Xe*F,de=Math.abs(De-_),Te=Math.abs(De-U),Be=de>Te?[_,De]:[De,U];ht(We,Be[0],Be[1])}}var Qe=[[Math.min(z,U),Math.max(z,U)],[Math.min(_,F),Math.max(_,F)]];["x","y","z"].forEach(function(at){for(var it=[],Wt=0;Wt<Qe.length;Wt++){var Yt=0,Tt=Qe[Wt][0],Lt=Qe[Wt][1],Xt=u.slices[at];if(Xt.show&&Xt.fill){oe(Xt.fill);var Tr=[],gt=[],Kt=[];if(Xt.locations.length)for(var Qt=0;Qt<Xt.locations.length;Qt++){var yr=d(Xt.locations[Qt],at==="x"?P:at==="y"?x:L);yr.distRatio===0?Tr.push(yr.id):yr.id>0&&(gt.push(yr.id),at==="x"?Kt.push([yr.distRatio,0,0]):at==="y"?Kt.push([0,yr.distRatio,0]):Kt.push([0,0,yr.distRatio]))}else at==="x"?Tr=tt(1,M-1):at==="y"?Tr=tt(1,s-1):Tr=tt(1,E-1);gt.length>0&&(at==="x"?it[Yt]=mt(Ze,gt,Tt,Lt,Kt,it[Yt]):at==="y"?it[Yt]=xt(Ze,gt,Tt,Lt,Kt,it[Yt]):it[Yt]=Mt(Ze,gt,Tt,Lt,Kt,it[Yt]),Yt++),Tr.length>0&&(at==="x"?it[Yt]=st(Ze,Tr,Tt,Lt,it[Yt]):at==="y"?it[Yt]=vt(Ze,Tr,Tt,Lt,it[Yt]):it[Yt]=lt(Ze,Tr,Tt,Lt,it[Yt]),Yt++)}var fr=u.caps[at];fr.show&&fr.fill&&(oe(fr.fill),at==="x"?it[Yt]=st(Ze,[0,M-1],Tt,Lt,it[Yt]):at==="y"?it[Yt]=vt(Ze,[0,s-1],Tt,Lt,it[Yt]):it[Yt]=lt(Ze,[0,E-1],Tt,Lt,it[Yt]),Yt++)}}),p===0&&ne(),u._meshX=B,u._meshY=N,u._meshZ=V,u._meshIntensity=X,u._Xs=P,u._Ys=x,u._Zs=L}return Ye(),u}function f(u,l){var m=u.glplot.gl,c=g({gl:m}),A=new r(u,c,l.uid);return c._trace=A,A.update(l),u.glplot.add(c),A}H.exports={findNearestOnAxis:d,generateIsoMeshes:n,createIsosurfaceTrace:f}},70548:function(H,G,e){var g=e(3400),R=e(24040),a=e(50048),C=e(27260);function S(d,r,t,i){function n(f,u){return g.coerce(d,r,a,f,u)}v(d,r,t,i,n)}function v(d,r,t,i,n){var f=n("isomin"),u=n("isomax");u!=null&&f!==void 0&&f!==null&&f>u&&(r.isomin=null,r.isomax=null);var l=n("x"),m=n("y"),c=n("z"),A=n("value");if(!l||!l.length||!m||!m.length||!c||!c.length||!A||!A.length){r.visible=!1;return}var h=R.getComponentMethod("calendars","handleTraceDefaults");h(d,r,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(T){n(T+"hoverformat");var P="caps."+T,x=n(P+".show");x&&n(P+".fill");var L="slices."+T,M=n(L+".show");M&&(n(L+".fill"),n(L+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var p=n("surface.show");p&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var b=n("contour.show");b&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){n(T)}),C(d,r,i,n,{prefix:"",cLetter:"c"}),r._length=null}H.exports={supplyDefaults:S,supplyIsoDefaults:v}},6296:function(H,G,e){H.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(H,G,e){var g=e(49084),R=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(16716),S=e(45464),v=e(92880).extendFlat;H.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},S.hoverinfo,{editType:"calc"}),showlegend:v({},S.showlegend,{dflt:!1})})},1876:function(H,G,e){var g=e(47128);H.exports=function(a,C){C.intensity&&g(a,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},576:function(H,G,e){var g=e(67792).gl_mesh3d,R=e(67792).delaunay_triangulate,a=e(67792).alpha_shape,C=e(67792).convex_hull,S=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,d=e(43080),r=e(8932).extractOpts,t=e(52094);function i(h,o,p){this.scene=h,this.uid=p,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(h){if(h.object===this.mesh){var o=h.index=h.data.index;h.data._cellCenter?h.traceCoordinate=h.data.dataCoordinate:h.traceCoordinate=[this.data.x[o],this.data.y[o],this.data.z[o]];var p=this.data.hovertext||this.data.text;return v(p)&&p[o]!==void 0?h.textLabel=p[o]:p&&(h.textLabel=p),!0}};function f(h){for(var o=[],p=h.length,b=0;b<p;b++)o[b]=d(h[b]);return o}function u(h,o,p,b){for(var T=[],P=o.length,x=0;x<P;x++)T[x]=h.d2l(o[x],0,b)*p;return T}function l(h){for(var o=[],p=h.length,b=0;b<p;b++)o[b]=Math.round(h[b]);return o}function m(h,o){for(var p=["x","y","z"].indexOf(h),b=[],T=o.length,P=0;P<T;P++)b[P]=[o[P][(p+1)%3],o[P][(p+2)%3]];return R(b)}function c(h,o){for(var p=h.length,b=0;b<p;b++)if(h[b]<=-.5||h[b]>=o-.5)return!1;return!0}n.update=function(h){var o=this.scene,p=o.fullSceneLayout;this.data=h;var b=h.x.length,T=t(u(p.xaxis,h.x,o.dataScale[0],h.xcalendar),u(p.yaxis,h.y,o.dataScale[1],h.ycalendar),u(p.zaxis,h.z,o.dataScale[2],h.zcalendar)),P;if(h.i&&h.j&&h.k){if(h.i.length!==h.j.length||h.j.length!==h.k.length||!c(h.i,b)||!c(h.j,b)||!c(h.k,b))return;P=t(l(h.i),l(h.j),l(h.k))}else h.alphahull===0?P=C(T):h.alphahull>0?P=a(h.alphahull,T):P=m(h.delaunayaxis,T);var x={positions:T,cells:P,lightPosition:[h.lightposition.x,h.lightposition.y,h.lightposition.z],ambient:h.lighting.ambient,diffuse:h.lighting.diffuse,specular:h.lighting.specular,roughness:h.lighting.roughness,fresnel:h.lighting.fresnel,vertexNormalsEpsilon:h.lighting.vertexnormalsepsilon,faceNormalsEpsilon:h.lighting.facenormalsepsilon,opacity:h.opacity,contourEnable:h.contour.show,contourColor:d(h.contour.color).slice(0,3),contourWidth:h.contour.width,useFacetNormals:h.flatshading};if(h.intensity){var L=r(h);this.color="#fff";var M=h.intensitymode;x[M+"Intensity"]=h.intensity,x[M+"IntensityBounds"]=[L.min,L.max],x.colormap=S(h)}else h.vertexcolor?(this.color=h.vertexcolor[0],x.vertexColors=f(h.vertexcolor)):h.facecolor?(this.color=h.facecolor[0],x.cellColors=f(h.facecolor)):(this.color=h.color,x.meshColor=d(h.color));this.mesh.update(x)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function A(h,o){var p=h.glplot.gl,b=g({gl:p}),T=new i(h,b,o.uid);return b._trace=T,T.update(o),h.glplot.add(b),T}H.exports=A},74212:function(H,G,e){var g=e(24040),R=e(3400),a=e(27260),C=e(52948);H.exports=function(v,d,r,t){function i(m,c){return R.coerce(v,d,C,m,c)}function n(m){var c=m.map(function(A){var h=i(A);return h&&R.isArrayOrTypedArray(h)?h:null});return c.every(function(A){return A&&A.length===c[0].length})&&c}var f=n(["x","y","z"]);if(!f){d.visible=!1;return}if(n(["i","j","k"]),d.i&&(!d.j||!d.k)||d.j&&(!d.k||!d.i)||d.k&&(!d.i||!d.j)){d.visible=!1;return}var u=g.getComponentMethod("calendars","handleTraceDefaults");u(v,d,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){i(m)});var l=i("contour.show");l&&(i("contour.color"),i("contour.width")),"intensity"in v?(i("intensity"),i("intensitymode"),a(v,d,t,i,{prefix:"",cLetter:"c"})):(d.showscale=!1,"facecolor"in v?i("facecolor"):"vertexcolor"in v?i("vertexcolor"):i("color",r)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),d._length=null}},7404:function(H,G,e){H.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(H,G,e){var g=e(3400).extendFlat,R=e(52904),a=e(29736).axisHoverFormat,C=e(98192).u,S=e(55756),v=e(48164),d=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=R.line;function i(n){return{line:{color:g({},t.color,{dflt:n}),width:t.width,dash:C,editType:"style"},editType:"style"}}H.exports={xperiod:R.xperiod,xperiod0:R.xperiod0,xperiodalignment:R.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},t.width,{}),dash:g({},C,{}),editType:"style"},increasing:i(d),decreasing:i(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},S.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:R.zorder}},42812:function(H,G,e){var g=e(3400),R=g._,a=e(54460),C=e(1220),S=e(39032).BADNUM;function v(i,n){var f=a.getFromId(i,n.xaxis),u=a.getFromId(i,n.yaxis),l=t(i,f,n),m=n._minDiff;n._minDiff=null;var c=n._origX;n._origX=null;var A=n._xcalc;n._xcalc=null;var h=r(i,n,c,A,u,d);return n._extremes[f._id]=a.findExtremes(f,A,{vpad:m/2}),h.length?(g.extendFlat(h[0].t,{wHover:m/2,tickLen:l}),h):[{t:{empty:!0}}]}function d(i,n,f,u){return{o:i,h:n,l:f,c:u}}function r(i,n,f,u,l,m){for(var c=l.makeCalcdata(n,"open"),A=l.makeCalcdata(n,"high"),h=l.makeCalcdata(n,"low"),o=l.makeCalcdata(n,"close"),p=g.isArrayOrTypedArray(n.text),b=g.isArrayOrTypedArray(n.hovertext),T=!0,P=null,x=!!n.xperiodalignment,L=[],M=0;M<u.length;M++){var s=u[M],E=c[M],w=A[M],O=h[M],_=o[M];if(s!==S&&E!==S&&w!==S&&O!==S&&_!==S){_===E?P!==null&&_!==P&&(T=_>P):T=_>E,P=_;var U=m(E,w,O,_);U.pos=s,U.yc=(E+_)/2,U.i=M,U.dir=T?"increasing":"decreasing",U.x=U.pos,U.y=[O,w],x&&(U.orig_p=f[M]),p&&(U.tx=n.text[M]),b&&(U.htx=n.hovertext[M]),L.push(U)}else L.push({pos:s,empty:!0})}return n._extremes[l._id]=a.findExtremes(l,g.concat(h,A),{padded:!0}),L.length&&(L[0].t={labels:{open:R(i,"open:")+" ",high:R(i,"high:")+" ",low:R(i,"low:")+" ",close:R(i,"close:")+" "}}),L}function t(i,n,f){var u=f._minDiff;if(!u){var l=i._fullData,m=[];u=1/0;var c;for(c=0;c<l.length;c++){var A=l[c];if(A.type==="ohlc"&&A.visible===!0&&A.xaxis===n._id){m.push(A);var h=n.makeCalcdata(A,"x");A._origX=h;var o=C(f,n,"x",h).vals;A._xcalc=o;var p=g.distinctVals(o).minDiff;p&&isFinite(p)&&(u=Math.min(u,p))}}for(u===1/0&&(u=1),c=0;c<m.length;c++)m[c]._minDiff=u}return u*f.tickwidth}H.exports={calc:v,calcCommon:r}},23860:function(H,G,e){var g=e(3400),R=e(52744),a=e(31147),C=e(20279);H.exports=function(d,r,t,i){function n(u,l){return g.coerce(d,r,C,u,l)}var f=R(d,r,n,i);if(!f){r.visible=!1;return}a(d,r,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),S(d,r,n,"increasing"),S(d,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[r.xaxis]=!0,n("zorder")};function S(v,d,r,t){r(t+".line.color"),r(t+".line.width",d.line.width),r(t+".line.dash",d.line.dash)}},18720:function(H,G,e){var g=e(54460),R=e(3400),a=e(93024),C=e(76308),S=e(3400).fillText,v=e(48164),d={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(f,u,l,m){var c=f.cd,A=c[0].trace;return A.hoverlabel.split?i(f,u,l,m):n(f,u,l,m)}function t(f,u,l,m){var c=f.cd,A=f.xa,h=c[0].trace,o=c[0].t,p=h.type,b=p==="ohlc"?"l":"min",T=p==="ohlc"?"h":"max",P,x,L=o.bPos||0,M=function(X){return X.pos+L-u},s=o.bdPos||o.tickLen,E=o.wHover,w=Math.min(1,s/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));P=f.maxHoverDistance-w,x=f.maxSpikeDistance-w;function O(X){var q=M(X);return a.inbox(q-E,q+E,P)}function _(X){var q=X[b],te=X[T];return q===te||a.inbox(q-l,te-l,P)}function U(X){return(O(X)+_(X))/2}var z=a.getDistanceFunction(m,O,_,U);if(a.getClosest(c,z,f),f.index===!1)return null;var F=c[f.index];if(F.empty)return null;var B=F.dir,N=h[B],V=N.line.color;return C.opacity(V)&&N.line.width?f.color=V:f.color=N.fillcolor,f.x0=A.c2p(F.pos+L-s,!0),f.x1=A.c2p(F.pos+L+s,!0),f.xLabelVal=F.orig_p!==void 0?F.orig_p:F.pos,f.spikeDistance=U(F)*x/P,f.xSpike=A.c2p(F.pos,!0),f}function i(f,u,l,m){var c=f.cd,A=f.ya,h=c[0].trace,o=c[0].t,p=[],b=t(f,u,l,m);if(!b)return[];var T=b.index,P=c[T],x=P.hi||h.hoverinfo,L=x.split("+"),M=x==="all",s=M||L.indexOf("y")!==-1;if(!s)return[];for(var E=["high","open","close","low"],w={},O=0;O<E.length;O++){var _=E[O],U=h[_][b.index],z=A.c2p(U,!0),F;U in w?(F=w[U],F.yLabel+="<br>"+o.labels[_]+g.hoverLabelText(A,U,h.yhoverformat)):(F=R.extendFlat({},b),F.y0=F.y1=z,F.yLabelVal=U,F.yLabel=o.labels[_]+g.hoverLabelText(A,U,h.yhoverformat),F.name="",p.push(F),w[U]=F)}return p}function n(f,u,l,m){var c=f.cd,A=f.ya,h=c[0].trace,o=c[0].t,p=t(f,u,l,m);if(!p)return[];var b=p.index,T=c[b],P=p.index=T.i,x=T.dir;function L(U){return o.labels[U]+g.hoverLabelText(A,h[U][P],h.yhoverformat)}var M=T.hi||h.hoverinfo,s=M.split("+"),E=M==="all",w=E||s.indexOf("y")!==-1,O=E||s.indexOf("text")!==-1,_=w?[L("open"),L("high"),L("low"),L("close")+"  "+d[x]]:[];return O&&S(T,h,_),p.extraText=_.join("<br>"),p.y0=p.y1=A.c2p(T.yc,!0),[p]}H.exports={hoverPoints:r,hoverSplit:i,hoverOnPoints:n}},65456:function(H,G,e){H.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(H,G,e){var g=e(24040),R=e(3400);H.exports=function(C,S,v,d){var r=v("x"),t=v("open"),i=v("high"),n=v("low"),f=v("close");v("hoverlabel.split");var u=g.getComponentMethod("calendars","handleTraceDefaults");if(u(C,S,["x"],d),!!(t&&i&&n&&f)){var l=Math.min(t.length,i.length,n.length,f.length);return r&&(l=Math.min(l,R.minRowLength(r))),S._length=l,l}}},36664:function(H,G,e){var g=e(33428),R=e(3400);H.exports=function(C,S,v,d){var r=S.yaxis,t=S.xaxis,i=!!t.rangebreaks;R.makeTraceGroups(d,v,"trace ohlc").each(function(n){var f=g.select(this),u=n[0],l=u.t,m=u.trace;if(m.visible!==!0||l.empty){f.remove();return}var c=l.tickLen,A=f.selectAll("path").data(R.identity);A.enter().append("path"),A.exit().remove(),A.attr("d",function(h){if(h.empty)return"M0,0Z";var o=t.c2p(h.pos-c,!0),p=t.c2p(h.pos+c,!0),b=i?(o+p)/2:t.c2p(h.pos,!0),T=r.c2p(h.o,!0),P=r.c2p(h.h,!0),x=r.c2p(h.l,!0),L=r.c2p(h.c,!0);return"M"+o+","+T+"H"+b+"M"+b+","+P+"V"+x+"M"+p+","+L+"H"+b})})}},97384:function(H){H.exports=function(e,g){var R=e.cd,a=e.xaxis,C=e.yaxis,S=[],v,d=R[0].t.bPos||0;if(g===!1)for(v=0;v<R.length;v++)R[v].selected=0;else for(v=0;v<R.length;v++){var r=R[v];g.contains([a.c2p(r.pos+d),C.c2p(r.yc)],null,r.i,e)?(S.push({pointNumber:r.i,x:a.c2d(r.pos),y:C.c2d(r.yc)}),r.selected=1):r.selected=0}return S}},14008:function(H,G,e){var g=e(33428),R=e(43616),a=e(76308);H.exports=function(S,v,d){var r=d||g.select(S).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var i=t[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var f=i[n.dir].line;g.select(this).style("fill","none").call(a.stroke,f.color).call(R.dashLine,f.dash,f.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(H,G,e){var g=e(92880).extendFlat,R=e(45464),a=e(25376),C=e(49084),S=e(21776).Ks,v=e(86968).u,d=g({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});H.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},R.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:d,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(H,G,e){var g=e(84888)._M,R=e(60268),a="parcats";G.name=a,G.plot=function(C,S,v,d){var r=g(C.calcdata,a);if(r.length){var t=r[0];R(C,t,v,d)}},G.clean=function(C,S,v,d){var r=d._has&&d._has("parcats"),t=S._has&&S._has("parcats");r&&!t&&d._paperdiv.selectAll(".parcats").remove()}},69136:function(H,G,e){var g=e(71688).wrap,R=e(94288).hasColorscale,a=e(47128),C=e(68944),S=e(43616),v=e(3400),d=e(38248);H.exports=function(o,p){var b=v.filterVisible(p.dimensions);if(b.length===0)return[];var T=b.map(function(Q){var Z;if(Q.categoryorder==="trace")Z=null;else if(Q.categoryorder==="array")Z=Q.categoryarray;else{Z=C(Q.values);for(var re=!0,Y=0;Y<Z.length;Y++)if(!d(Z[Y])){re=!1;break}Z.sort(re?v.sorterAsc:void 0),Q.categoryorder==="category descending"&&(Z=Z.reverse())}return l(Q.values,Z)}),P,x,L;v.isArrayOrTypedArray(p.counts)?P=p.counts:P=[p.counts],m(b),b.forEach(function(Q,Z){c(Q,T[Z])});var M=p.line,s;M?(R(p,"line")&&a(o,p,{vals:p.line.color,containerStr:"line",cLetter:"c"}),s=S.tryColorscale(M)):s=v.identity;function E(Q){var Z,re;return v.isArrayOrTypedArray(M.color)?(Z=M.color[Q%M.color.length],re=Z):Z=M.color,{color:s(Z),rawColor:re}}var w=b[0].values.length,O={},_=T.map(function(Q){return Q.inds});L=0;var U,z;for(U=0;U<w;U++){var F=[];for(z=0;z<_.length;z++)F.push(_[z][U]);x=P[U%P.length],L+=x;var B=E(U),N=F+"-"+B.rawColor;O[N]===void 0&&(O[N]=f(F,B.color,B.rawColor)),u(O[N],U,x)}var V=b.map(function(Q,Z){return t(Z,Q._index,Q._displayindex,Q.label,L)});for(U=0;U<w;U++)for(x=P[U%P.length],z=0;z<V.length;z++){var X=V[z].containerInd,q=T[z].inds[U],te=V[z].categories;if(te[q]===void 0){var ne=p.dimensions[X]._categoryarray[q],ce=p.dimensions[X]._ticktext[q];te[q]=i(z,q,ne,ce)}n(te[q],U,x)}return g(r(V,O,L))};function r(h,o,p){var b=h.map(function(T){return T.categories.length}).reduce(function(T,P){return Math.max(T,P)});return{dimensions:h,paths:o,trace:void 0,maxCats:b,count:p}}function t(h,o,p,b,T){return{dimensionInd:h,containerInd:o,displayInd:p,dimensionLabel:b,count:T,categories:[],dragX:null}}function i(h,o,p,b){return{dimensionInd:h,categoryInd:o,categoryValue:p,displayInd:o,categoryLabel:b,valueInds:[],count:0,dragY:null}}function n(h,o,p){h.valueInds.push(o),h.count+=p}function f(h,o,p){return{categoryInds:h,color:o,rawColor:p,valueInds:[],count:0}}function u(h,o,p){h.valueInds.push(o),h.count+=p}function l(h,o){o==null?o=[]:o=o.map(function(s){return s});var p={},b={},T=[];o.forEach(function(s,E){p[s]=0,b[s]=E});for(var P=0;P<h.length;P++){var x=h[P],L;p[x]===void 0?(p[x]=1,L=o.push(x)-1,b[x]=L):(p[x]++,L=b[x]),T.push(L)}var M=o.map(function(s){return p[s]});return{uniqueValues:o,uniqueCounts:M,inds:T}}function m(h){var o=h.map(function(b){return b.displayindex}),p;if(A(o))for(p=0;p<h.length;p++)h[p]._displayindex=h[p].displayindex;else for(p=0;p<h.length;p++)h[p]._displayindex=p}function c(h,o){h._categoryarray=o.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var p=h._ticktext.length;p<o.uniqueValues.length;p++)h._ticktext.push(o.uniqueValues[p])}function A(h){for(var o=new Array(h.length),p=0;p<h.length;p++){if(h[p]<0||h[p]>=h.length||o[h[p]]!==void 0)return!1;o[h[p]]=!0}return!0}},76671:function(H,G,e){var g=e(3400),R=e(94288).hasColorscale,a=e(27260),C=e(86968).Q,S=e(51272),v=e(72140),d=e(26284),r=e(38116).isTypedArraySpec;function t(n,f,u,l,m){m("line.shape"),m("line.hovertemplate");var c=m("line.color",l.colorway[0]);if(R(n,"line")&&g.isArrayOrTypedArray(c)){if(c.length)return m("line.colorscale"),a(n,f,l,m,{prefix:"line.",cLetter:"c"}),c.length;f.line.color=u}return 1/0}function i(n,f){function u(p,b){return g.coerce(n,f,v.dimensions,p,b)}var l=u("values"),m=u("visible");if(l&&l.length||(m=f.visible=!1),m){u("label"),u("displayindex",f._index);var c=n.categoryarray,A=g.isArrayOrTypedArray(c)&&c.length>0||r(c),h;A&&(h="array");var o=u("categoryorder",h);o==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!A&&o==="array"&&(f.categoryorder="trace")}}H.exports=function(f,u,l,m){function c(b,T){return g.coerce(f,u,v,b,T)}var A=S(f,u,{name:"dimensions",handleItemDefaults:i}),h=t(f,u,l,m,c);C(u,m,c),(!Array.isArray(A)||!A.length)&&(u.visible=!1),d(u,A,"values",h),c("hoveron"),c("hovertemplate"),c("arrangement"),c("bundlecolors"),c("sortpaths"),c("counts");var o={weight:m.font.weight,style:m.font.style,variant:m.font.variant,family:m.font.family,size:Math.round(m.font.size),color:m.font.color};g.coerceFont(c,"labelfont",o);var p={weight:m.font.weight,style:m.font.style,variant:m.font.variant,family:m.font.family,size:Math.round(m.font.size/1.2),color:m.font.color};g.coerceFont(c,"tickfont",p)}},22020:function(H,G,e){H.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(H,G,e){var g=e(33428),R=e(67756).Gz,a=e(36424),C=e(93024),S=e(3400),v=S.strTranslate,d=e(43616),r=e(49760),t=e(72736);function i(Y,oe,ue,K){var $=oe._context.staticPlot,le=Y.map(ne.bind(0,oe,ue)),ae=K.selectAll("g.parcatslayer").data([null]);ae.enter().append("g").attr("class","parcatslayer").style("pointer-events",$?"none":"all");var he=ae.selectAll("g.trace.parcats").data(le,n),xe=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(He){return v(He.x,He.y)}),xe.append("g").attr("class","paths");var Me=he.select("g.paths"),Ae=Me.selectAll("path.path").data(function(He){return He.paths},n);Ae.attr("fill",function(He){return He.model.color});var ke=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(He){return He.model.color}).attr("fill-opacity",0);o(ke),Ae.attr("d",function(He){return He.svgD}),ke.empty()||Ae.sort(u),Ae.exit().remove(),Ae.on("mouseover",l).on("mouseout",m).on("click",h),xe.append("g").attr("class","dimensions");var we=he.select("g.dimensions"),Ee=we.selectAll("g.dimension").data(function(He){return He.dimensions},n);Ee.enter().append("g").attr("class","dimension"),Ee.attr("transform",function(He){return v(He.x,0)}),Ee.exit().remove();var be=Ee.selectAll("g.category").data(function(He){return He.categories},n),Le=be.enter().append("g").attr("class","category");be.attr("transform",function(He){return v(0,He.y)}),Le.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(He){return He.width}).attr("height",function(He){return He.height}),T(Le);var Ue=be.selectAll("rect.bandrect").data(function(He){return He.bands},n);Ue.each(function(){S.raiseToTop(this)}),Ue.attr("fill",function(He){return He.color});var Ve=Ue.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(He){return He.color}).attr("fill-opacity",0);Ue.attr("fill",function(He){return He.color}).attr("width",function(He){return He.width}).attr("height",function(He){return He.height}).attr("y",function(He){return He.y}).attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":He.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(Ve),Ue.exit().remove(),Le.append("text").attr("class","catlabel").attr("pointer-events","none");var Fe=oe._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(He){return f(He)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(Fe)).style("fill","rgb(0, 0, 0)").attr("x",function(He){return f(He)?He.width+5:-5}).attr("y",function(He){return He.height/2}).text(function(He){return He.model.categoryLabel}).each(function(He){d.font(g.select(this),He.parcatsViewModel.categorylabelfont),t.convertToTspans(g.select(this),oe)}),Le.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(He){return He.width/2}).attr("y",-5).text(function(He,st){return st===0?He.parcatsViewModel.model.dimensions[He.model.dimensionInd].dimensionLabel:null}).each(function(He){d.font(g.select(this),He.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",F),be.exit().remove(),Ee.call(g.behavior.drag().origin(function(He){return{x:He.x,y:0}}).on("dragstart",B).on("drag",N).on("dragend",V)),he.each(function(He){He.traceSelection=g.select(this),He.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),He.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}H.exports=function(Y,oe,ue,K){i(ue,Y,K,oe)};function n(Y){return Y.key}function f(Y){var oe=Y.parcatsViewModel.dimensions.length,ue=Y.parcatsViewModel.dimensions[oe-1].model.dimensionInd;return Y.model.dimensionInd===ue}function u(Y,oe){return Y.model.rawColor>oe.model.rawColor?1:Y.model.rawColor<oe.model.rawColor?-1:0}function l(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){S.raiseToTop(this),p(g.select(this));var oe=c(Y),ue=A(Y);if(Y.parcatsViewModel.graphDiv.emit("plotly_hover",{points:oe,event:g.event,constraints:ue}),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var K=g.mouse(this)[0],$=Y.parcatsViewModel.graphDiv,le=Y.parcatsViewModel.trace,ae=$._fullLayout,he=ae._paperdiv.node().getBoundingClientRect(),xe=Y.parcatsViewModel.graphDiv.getBoundingClientRect(),Me,Ae,ke;for(ke=0;ke<Y.leftXs.length-1;ke++)if(Y.leftXs[ke]+Y.dimWidths[ke]-2<=K&&K<=Y.leftXs[ke+1]+2){var we=Y.parcatsViewModel.dimensions[ke],Ee=Y.parcatsViewModel.dimensions[ke+1];Me=(we.x+we.width+Ee.x)/2,Ae=(Y.topYs[ke]+Y.topYs[ke+1]+Y.height)/2;break}var be=Y.parcatsViewModel.x+Me,Le=Y.parcatsViewModel.y+Ae,Ue=r.mostReadable(Y.model.color,["black","white"]),Ve=Y.model.count,Fe=Ve/Y.parcatsViewModel.model.count,He={countLabel:Ve,probabilityLabel:Fe.toFixed(3)},st=[];Y.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&st.push(["Count:",He.countLabel].join(" ")),Y.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&st.push(["P:",He.probabilityLabel].join(" "));var vt=st.join("<br>"),lt=g.mouse($)[0];C.loneHover({trace:le,x:be-he.left+xe.left,y:Le-he.top+xe.top,text:vt,color:Y.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ue,idealAlign:lt<be?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:He,eventData:[{data:le._input,fullData:le,count:Ve,probability:Fe}]},{container:ae._hoverlayer.node(),outerContainer:ae._paper.node(),gd:$})}}}function m(Y){if(!Y.parcatsViewModel.dragDimension&&(o(g.select(this)),C.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Y.parcatsViewModel.pathSelection.sort(u),Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var oe=c(Y),ue=A(Y);Y.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:oe,event:g.event,constraints:ue})}}function c(Y){for(var oe=[],ue=X(Y.parcatsViewModel),K=0;K<Y.model.valueInds.length;K++){var $=Y.model.valueInds[K];oe.push({curveNumber:ue,pointNumber:$})}return oe}function A(Y){for(var oe={},ue=Y.parcatsViewModel.model.dimensions,K=0;K<ue.length;K++){var $=ue[K],le=$.categories[Y.model.categoryInds[K]];oe[$.containerInd]=le.categoryValue}return Y.model.rawColor!==void 0&&(oe.color=Y.model.rawColor),oe}function h(Y){if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var oe=c(Y),ue=A(Y);Y.parcatsViewModel.graphDiv.emit("plotly_click",{points:oe,event:g.event,constraints:ue})}}function o(Y){Y.attr("fill",function(oe){return oe.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(Y){Y.attr("fill-opacity",.8).attr("stroke",function(oe){return r.mostReadable(oe.model.color,["black","white"])}).attr("stroke-width",.3)}function b(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function T(Y){Y.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function P(Y){Y.attr("stroke","black").attr("stroke-width",1.5)}function x(Y){Y.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function L(Y){var oe=Y.parcatsViewModel.pathSelection,ue=Y.categoryViewModel.model.dimensionInd,K=Y.categoryViewModel.model.categoryInd;return oe.filter(function($){return $.model.categoryInds[ue]===K&&$.model.color===Y.color})}function M(Y){var oe=g.select(Y.parentNode).selectAll("rect.bandrect");oe.each(function(ue){var K=L(ue);p(K),K.each(function(){S.raiseToTop(this)})}),b(g.select(Y.parentNode))}function s(Y){var oe=g.select(Y).datum(),ue=L(oe);p(ue),ue.each(function(){S.raiseToTop(this)}),g.select(Y.parentNode).selectAll("rect.bandrect").filter(function(K){return K.color===oe.color}).each(function(){S.raiseToTop(this),P(g.select(this))})}function E(Y,oe,ue){var K=g.select(Y).datum(),$=K.categoryViewModel.model,le=K.parcatsViewModel.graphDiv,ae=g.select(Y.parentNode).selectAll("rect.bandrect"),he=[];ae.each(function(Me){var Ae=L(Me);Ae.each(function(ke){Array.prototype.push.apply(he,c(ke))})});var xe={};xe[$.dimensionInd]=$.categoryValue,le.emit(oe,{points:he,event:ue,constraints:xe})}function w(Y,oe,ue){var K=g.select(Y).datum(),$=K.categoryViewModel.model,le=K.parcatsViewModel.graphDiv,ae=L(K),he=[];ae.each(function(Me){Array.prototype.push.apply(he,c(Me))});var xe={};xe[$.dimensionInd]=$.categoryValue,K.rawColor!==void 0&&(xe.color=K.rawColor),le.emit(oe,{points:he,event:ue,constraints:xe})}function O(Y,oe,ue){Y._fullLayout._calcInverseTransform(Y);var K=Y._fullLayout._invScaleX,$=Y._fullLayout._invScaleY,le=g.select(ue.parentNode).select("rect.catrect"),ae=le.node().getBoundingClientRect(),he=le.datum(),xe=he.parcatsViewModel,Me=xe.model.dimensions[he.model.dimensionInd],Ae=xe.trace,ke=ae.top+ae.height/2,we,Ee;xe.dimensions.length>1&&Me.displayInd===xe.dimensions.length-1?(we=ae.left,Ee="left"):(we=ae.left+ae.width,Ee="right");var be=he.model.count,Le=he.model.categoryLabel,Ue=be/he.parcatsViewModel.model.count,Ve={countLabel:be,categoryLabel:Le,probabilityLabel:Ue.toFixed(3)},Fe=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Fe.push(["Count:",Ve.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Fe.push(["P("+Ve.categoryLabel+"):",Ve.probabilityLabel].join(" "));var He=Fe.join("<br>");return{trace:Ae,x:K*(we-oe.left),y:$*(ke-oe.top),text:He,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ee,hovertemplate:Ae.hovertemplate,hovertemplateLabels:Ve,eventData:[{data:Ae._input,fullData:Ae,count:be,category:Le,probability:Ue}]}}function _(Y,oe,ue){var K=[];return g.select(ue.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var $=this;K.push(O(Y,oe,$))}),K}function U(Y,oe,ue){Y._fullLayout._calcInverseTransform(Y);var K=Y._fullLayout._invScaleX,$=Y._fullLayout._invScaleY,le=ue.getBoundingClientRect(),ae=g.select(ue).datum(),he=ae.categoryViewModel,xe=he.parcatsViewModel,Me=xe.model.dimensions[he.model.dimensionInd],Ae=xe.trace,ke=le.y+le.height/2,we,Ee;xe.dimensions.length>1&&Me.displayInd===xe.dimensions.length-1?(we=le.left,Ee="left"):(we=le.left+le.width,Ee="right");var be=he.model.categoryLabel,Le=ae.parcatsViewModel.model.count,Ue=0;ae.categoryViewModel.bands.forEach(function(mt){mt.color===ae.color&&(Ue+=mt.count)});var Ve=he.model.count,Fe=0;xe.pathSelection.each(function(mt){mt.model.color===ae.color&&(Fe+=mt.model.count)});var He=Ue/Le,st=Ue/Fe,vt=Ue/Ve,lt={countLabel:Ue,categoryLabel:be,probabilityLabel:He.toFixed(3)},et=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&et.push(["Count:",lt.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(et.push("P(color  "+be+"): "+lt.probabilityLabel),et.push("P("+be+" | color): "+st.toFixed(3)),et.push("P(color | "+be+"): "+vt.toFixed(3)));var ct=et.join("<br>"),ht=r.mostReadable(ae.color,["black","white"]);return{trace:Ae,x:K*(we-oe.left),y:$*(ke-oe.top),text:ct,color:ae.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ht,fontSize:10,idealAlign:Ee,hovertemplate:Ae.hovertemplate,hovertemplateLabels:lt,eventData:[{data:Ae._input,fullData:Ae,category:be,count:Le,probability:He,categorycount:Ve,colorcount:Fe,bandcolorcount:Ue}]}}function z(Y){if(!Y.parcatsViewModel.dragDimension&&Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var oe=g.mouse(this)[1];if(oe<-1)return;var ue=Y.parcatsViewModel.graphDiv,K=ue._fullLayout,$=K._paperdiv.node().getBoundingClientRect(),le=Y.parcatsViewModel.hoveron,ae=this;if(le==="color"?(s(ae),w(ae,"plotly_hover",g.event)):(M(ae),E(ae,"plotly_hover",g.event)),Y.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;le==="category"?he=O(ue,$,ae):le==="color"?he=U(ue,$,ae):le==="dimension"&&(he=_(ue,$,ae)),he&&C.loneHover(he,{container:K._hoverlayer.node(),outerContainer:K._paper.node(),gd:ue})}}}function F(Y){var oe=Y.parcatsViewModel;if(!oe.dragDimension&&(o(oe.pathSelection),T(oe.dimensionSelection.selectAll("g.category")),x(oe.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(oe.graphDiv._fullLayout._hoverlayer.node()),oe.pathSelection.sort(u),oe.hoverinfoItems.indexOf("skip")===-1)){var ue=Y.parcatsViewModel.hoveron,K=this;ue==="color"?w(K,"plotly_unhover",g.event):E(K,"plotly_unhover",g.event)}}function B(Y){Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragDimensionDisplayInd=Y.model.displayInd,Y.initialDragDimensionDisplayInds=Y.parcatsViewModel.model.dimensions.map(function(oe){return oe.displayInd}),Y.dragHasMoved=!1,Y.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(oe){var ue=g.mouse(this)[0],K=g.mouse(this)[1];-2<=ue&&ue<=oe.width+2&&-2<=K&&K<=oe.height+2&&(Y.dragCategoryDisplayInd=oe.model.displayInd,Y.initialDragCategoryDisplayInds=Y.model.categories.map(function($){return $.displayInd}),oe.model.dragY=oe.y,S.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function($){$.y<K&&K<=$.y+$.height&&(Y.potentialClickBand=this)}))}),Y.parcatsViewModel.dragDimension=Y,C.loneUnhover(Y.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function N(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&(Y.dragHasMoved=!0,Y.dragDimensionDisplayInd!==null)){var oe=Y.dragDimensionDisplayInd,ue=oe-1,K=oe+1,$=Y.parcatsViewModel.dimensions[oe];if(Y.dragCategoryDisplayInd!==null){var le=$.categories[Y.dragCategoryDisplayInd];le.model.dragY+=g.event.dy;var ae=le.model.dragY,he=le.model.displayInd,xe=$.categories,Me=xe[he-1],Ae=xe[he+1];Me!==void 0&&ae<Me.y+Me.height/2&&(le.model.displayInd=Me.model.displayInd,Me.model.displayInd=he),Ae!==void 0&&ae+le.height>Ae.y+Ae.height/2&&(le.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=he),Y.dragCategoryDisplayInd=le.model.displayInd}if(Y.dragCategoryDisplayInd===null||Y.parcatsViewModel.arrangement==="freeform"){$.model.dragX=g.event.x;var ke=Y.parcatsViewModel.dimensions[ue],we=Y.parcatsViewModel.dimensions[K];ke!==void 0&&$.model.dragX<ke.x+ke.width&&($.model.displayInd=ke.model.displayInd,ke.model.displayInd=oe),we!==void 0&&$.model.dragX+$.width>we.x&&($.model.displayInd=we.model.displayInd,we.model.displayInd=Y.dragDimensionDisplayInd),Y.dragDimensionDisplayInd=$.model.displayInd}Z(Y.parcatsViewModel),Q(Y.parcatsViewModel),te(Y.parcatsViewModel),q(Y.parcatsViewModel)}}function V(Y){if(Y.parcatsViewModel.arrangement!=="fixed"&&Y.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var oe={},ue=X(Y.parcatsViewModel),K=Y.parcatsViewModel.model.dimensions.map(function(we){return we.displayInd}),$=Y.initialDragDimensionDisplayInds.some(function(we,Ee){return we!==K[Ee]});$&&K.forEach(function(we,Ee){var be=Y.parcatsViewModel.model.dimensions[Ee].containerInd;oe["dimensions["+be+"].displayindex"]=we});var le=!1;if(Y.dragCategoryDisplayInd!==null){var ae=Y.model.categories.map(function(we){return we.displayInd});if(le=Y.initialDragCategoryDisplayInds.some(function(we,Ee){return we!==ae[Ee]}),le){var he=Y.model.categories.slice().sort(function(we,Ee){return we.displayInd-Ee.displayInd}),xe=he.map(function(we){return we.categoryValue}),Me=he.map(function(we){return we.categoryLabel});oe["dimensions["+Y.model.containerInd+"].categoryarray"]=[xe],oe["dimensions["+Y.model.containerInd+"].ticktext"]=[Me],oe["dimensions["+Y.model.containerInd+"].categoryorder"]="array"}}if(Y.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Y.dragHasMoved&&Y.potentialClickBand&&(Y.parcatsViewModel.hoveron==="color"?w(Y.potentialClickBand,"plotly_click",g.event.sourceEvent):E(Y.potentialClickBand,"plotly_click",g.event.sourceEvent)),Y.model.dragX=null,Y.dragCategoryDisplayInd!==null){var Ae=Y.parcatsViewModel.dimensions[Y.dragDimensionDisplayInd].categories[Y.dragCategoryDisplayInd];Ae.model.dragY=null,Y.dragCategoryDisplayInd=null}Y.dragDimensionDisplayInd=null,Y.parcatsViewModel.dragDimension=null,Y.dragHasMoved=null,Y.potentialClickBand=null,Z(Y.parcatsViewModel),Q(Y.parcatsViewModel);var ke=g.transition().duration(300).ease("cubic-in-out");ke.each(function(){te(Y.parcatsViewModel,!0),q(Y.parcatsViewModel,!0)}).each("end",function(){($||le)&&a.restyle(Y.parcatsViewModel.graphDiv,oe,[ue])})}}function X(Y){for(var oe,ue=Y.graphDiv._fullData,K=0;K<ue.length;K++)if(Y.key===ue[K].uid){oe=K;break}return oe}function q(Y,oe){oe===void 0&&(oe=!1);function ue(K){return oe?K.transition():K}Y.pathSelection.data(function(K){return K.paths},n),ue(Y.pathSelection).attr("d",function(K){return K.svgD})}function te(Y,oe){oe===void 0&&(oe=!1);function ue(xe){return oe?xe.transition():xe}Y.dimensionSelection.data(function(xe){return xe.dimensions},n);var K=Y.dimensionSelection.selectAll("g.category").data(function(xe){return xe.categories},n);ue(Y.dimensionSelection).attr("transform",function(xe){return v(xe.x,0)}),ue(K).attr("transform",function(xe){return v(0,xe.y)});var $=K.select(".dimlabel");$.text(function(xe,Me){return Me===0?xe.parcatsViewModel.model.dimensions[xe.model.dimensionInd].dimensionLabel:null});var le=K.select(".catlabel");le.attr("text-anchor",function(xe){return f(xe)?"start":"end"}).attr("x",function(xe){return f(xe)?xe.width+5:-5}).each(function(xe){var Me,Ae;f(xe)?(Me=xe.width+5,Ae="start"):(Me=-5,Ae="end"),g.select(this).selectAll("tspan").attr("x",Me).attr("text-anchor",Ae)});var ae=K.selectAll("rect.bandrect").data(function(xe){return xe.bands},n),he=ae.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(xe){return xe.color}).attr("fill-opacity",0);ae.attr("fill",function(xe){return xe.color}).attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}).attr("y",function(xe){return xe.y}),x(he),ae.each(function(){S.raiseToTop(this)}),ae.exit().remove()}function ne(Y,oe,ue){var K=ue[0],$=oe.margin||{l:80,r:80,t:100,b:80},le=K.trace,ae=le.domain,he=oe.width,xe=oe.height,Me=Math.floor(he*(ae.x[1]-ae.x[0])),Ae=Math.floor(xe*(ae.y[1]-ae.y[0])),ke=ae.x[0]*he+$.l,we=oe.height-ae.y[1]*oe.height+$.t,Ee=le.line.shape,be;le.hoverinfo==="all"?be=["count","probability"]:be=(le.hoverinfo||"").split("+");var Le={trace:le,key:le.uid,model:K,x:ke,y:we,width:Me,height:Ae,hoveron:le.hoveron,hoverinfoItems:be,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Ee,dragDimension:null,margin:$,paths:[],dimensions:[],graphDiv:Y,traceSelection:null,pathSelection:null,dimensionSelection:null};return K.dimensions&&(Z(Le),Q(Le)),Le}function ce(Y,oe,ue,K,$){var le=[],ae=[],he,xe;for(xe=0;xe<ue.length-1;xe++)he=R(ue[xe]+Y[xe],Y[xe+1]),le.push(he($)),ae.push(he(1-$));var Me="M "+Y[0]+","+oe[0];for(Me+="l"+ue[0]+",0 ",xe=1;xe<ue.length;xe++)Me+="C"+le[xe-1]+","+oe[xe-1]+" "+ae[xe-1]+","+oe[xe]+" "+Y[xe]+","+oe[xe],Me+="l"+ue[xe]+",0 ";for(Me+="l0,"+K+" ",Me+="l -"+ue[ue.length-1]+",0 ",xe=ue.length-2;xe>=0;xe--)Me+="C"+ae[xe]+","+(oe[xe+1]+K)+" "+le[xe]+","+(oe[xe]+K)+" "+(Y[xe]+ue[xe])+","+(oe[xe]+K),Me+="l-"+ue[xe]+",0 ";return Me+="Z",Me}function Q(Y){var oe=Y.dimensions,ue=Y.model,K=oe.map(function(tt){return tt.categories.map(function(Oe){return Oe.y})}),$=Y.model.dimensions.map(function(tt){return tt.categories.map(function(Oe){return Oe.displayInd})}),le=Y.model.dimensions.map(function(tt){return tt.displayInd}),ae=Y.dimensions.map(function(tt){return tt.model.dimensionInd}),he=oe.map(function(tt){return tt.x}),xe=oe.map(function(tt){return tt.width}),Me=[];for(var Ae in ue.paths)ue.paths.hasOwnProperty(Ae)&&Me.push(ue.paths[Ae]);function ke(tt){var Oe=tt.categoryInds.map(function(Ze,We){return $[We][Ze]}),Ye=ae.map(function(Ze){return Oe[Ze]});return Ye}Me.sort(function(tt,Oe){var Ye=ke(tt),Ze=ke(Oe);return Y.sortpaths==="backward"&&(Ye.reverse(),Ze.reverse()),Ye.push(tt.valueInds[0]),Ze.push(Oe.valueInds[0]),Y.bundlecolors&&(Ye.unshift(tt.rawColor),Ze.unshift(Oe.rawColor)),Ye<Ze?-1:Ye>Ze?1:0});for(var we=new Array(Me.length),Ee=oe[0].model.count,be=oe[0].categories.map(function(tt){return tt.height}).reduce(function(tt,Oe){return tt+Oe}),Le=0;Le<Me.length;Le++){var Ue=Me[Le],Ve;Ee>0?Ve=be*(Ue.count/Ee):Ve=0;for(var Fe=new Array(K.length),He=0;He<Ue.categoryInds.length;He++){var st=Ue.categoryInds[He],vt=$[He][st],lt=le[He];Fe[lt]=K[lt][vt],K[lt][vt]+=Ve;var et=Y.dimensions[lt].categories[vt],ct=et.bands.length,ht=et.bands[ct-1];if(ht===void 0||Ue.rawColor!==ht.rawColor){var mt=ht===void 0?0:ht.y+ht.height;et.bands.push({key:mt,color:Ue.color,rawColor:Ue.rawColor,height:Ve,width:et.width,count:Ue.count,y:mt,categoryViewModel:et,parcatsViewModel:Y})}else{var xt=et.bands[ct-1];xt.height+=Ve,xt.count+=Ue.count}}var Mt;Y.pathShape==="hspline"?Mt=ce(he,Fe,xe,Ve,.5):Mt=ce(he,Fe,xe,Ve,0),we[Le]={key:Ue.valueInds[0],model:Ue,height:Ve,leftXs:he,topYs:Fe,dimWidths:xe,svgD:Mt,parcatsViewModel:Y}}Y.paths=we}function Z(Y){var oe=Y.model.dimensions.map(function(ae){return{displayInd:ae.displayInd,dimensionInd:ae.dimensionInd}});oe.sort(function(ae,he){return ae.displayInd-he.displayInd});var ue=[];for(var K in oe){var $=oe[K].dimensionInd,le=Y.model.dimensions[$];ue.push(re(Y,le))}Y.dimensions=ue}function re(Y,oe){var ue=40,K=16,$=Y.model.dimensions.length,le=oe.displayInd,ae,he,xe;$>1?ae=(Y.width-2*ue-K)/($-1):ae=0,he=ue,xe=he+ae*le;var Me=[],Ae=Y.model.maxCats,ke=oe.categories.length,we=8,Ee=oe.count,be=Y.height-we*(Ae-1),Le,Ue,Ve,Fe,He,st=(Ae-ke)*we/2,vt=oe.categories.map(function(lt){return{displayInd:lt.displayInd,categoryInd:lt.categoryInd}});for(vt.sort(function(lt,et){return lt.displayInd-et.displayInd}),He=0;He<ke;He++)Fe=vt[He].categoryInd,Ue=oe.categories[Fe],Ee>0?Le=Ue.count/Ee*be:Le=0,Ve={key:Ue.valueInds[0],model:Ue,width:K,height:Le,y:Ue.dragY!==null?Ue.dragY:st,bands:[],parcatsViewModel:Y},st=st+Le+we,Me.push(Ve);return{key:oe.dimensionInd,x:oe.dragX!==null?oe.dragX:xe,y:0,width:K,model:oe,categories:Me,parcatsViewModel:Y,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(H,G,e){var g=e(51036);H.exports=function(a,C,S,v){var d=a._fullLayout,r=d._paper,t=d._size;g(a,r,C,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},S,v)}},82296:function(H,G,e){var g=e(49084),R=e(94724),a=e(25376),C=e(86968).u,S=e(92880).extendFlat,v=e(31780).templatedArray;H.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:S({},R.tickvals,{editType:"plot"}),ticktext:S({},R.ticktext,{editType:"plot"}),tickformat:S({},R.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:S({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(H,G,e){var g=e(30140),R=e(33428),a=e(71688).keyFun,C=e(71688).repeat,S=e(3400).sorterAsc,v=e(3400).strTranslate,d=g.bar.snapRatio;function r(V,X){return V*(1-d)+X*d}var t=g.bar.snapClose;function i(V,X){return V*(1-t)+X*t}function n(V,X,q,te){if(f(q,te))return q;var ne=V?-1:1,ce=0,Q=X.length-1;if(ne<0){var Z=ce;ce=Q,Q=Z}for(var re=X[ce],Y=re,oe=ce;ne*oe<ne*Q;oe+=ne){var ue=oe+ne,K=X[ue];if(ne*q<ne*i(re,K))return r(re,Y);if(ne*q<ne*K||ue===Q)return r(K,re);Y=re,re=K}}function f(V,X){for(var q=0;q<X.length;q++)if(V>=X[q][0]&&V<=X[q][1])return!0;return!1}function u(V){V.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function l(V){V.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(V){if(!V.brush.filterSpecified)return"0,"+V.height;for(var X=c(V.brush.filter.getConsolidated(),V.height),q=[0],te,ne,ce,Q=X.length?X[0][0]:null,Z=0;Z<X.length;Z++)te=X[Z],ne=te[1]-te[0],q.push(Q),q.push(ne),ce=Z+1,ce<X.length&&(Q=X[ce][0]-te[1]);return q.push(V.height),q}function c(V,X){return V.map(function(q){return q.map(function(te){return Math.max(0,te*X)}).sort(S)})}function A(V,X){var q=g.bar.handleHeight;if(!(X>V[1]+q||X<V[0]-q))return X>=.9*V[1]+.1*V[0]?"n":X<=.9*V[0]+.1*V[1]?"s":"ns"}function h(){R.select(document.body).style("cursor",null)}function o(V){V.attr("stroke-dasharray",m)}function p(V,X){var q=R.select(V).selectAll(".highlight, .highlight-shadow"),te=X?q.transition().duration(g.bar.snapDuration).each("end",X):q;o(te)}function b(V,X){var q=V.brush,te=q.filterSpecified,ne=NaN,ce={},Q;if(te){var Z=V.height,re=q.filter.getConsolidated(),Y=c(re,Z),oe=NaN,ue=NaN,K=NaN;for(Q=0;Q<=Y.length;Q++){var $=Y[Q];if($&&$[0]<=X&&X<=$[1]){oe=Q;break}else if(ue=Q?Q-1:NaN,$&&$[0]>X){K=Q;break}}if(ne=oe,isNaN(ne)&&(isNaN(ue)||isNaN(K)?ne=isNaN(ue)?K:ue:ne=X-Y[ue][1]<Y[K][0]-X?ue:K),!isNaN(ne)){var le=Y[ne],ae=A(le,X);ae&&(ce.interval=re[ne],ce.intervalPix=le,ce.region=ae)}}if(V.ordinal&&!ce.region){var he=V.unitTickvals,xe=V.unitToPaddedPx.invert(X);for(Q=0;Q<he.length;Q++){var Me=[he[Math.max(Q-1,0)]*.25+he[Q]*.75,he[Math.min(Q+1,he.length-1)]*.25+he[Q]*.75];if(xe>=Me[0]&&xe<=Me[1]){ce.clickableOrdinalRange=Me;break}}}return ce}function T(V,X){R.event.sourceEvent.stopPropagation();var q=X.height-R.mouse(V)[1]-2*g.verticalPadding,te=X.unitToPaddedPx.invert(q),ne=X.brush,ce=b(X,q),Q=ce.interval,Z=ne.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=ce.region==="ns",Z.grabbingBar){var re=Q.map(X.unitToPaddedPx);Z.grabPoint=q-re[0]-g.verticalPadding,Z.barLength=re[1]-re[0]}Z.clickableOrdinalRange=ce.clickableOrdinalRange,Z.stayingIntervals=X.multiselect&&ne.filterSpecified?ne.filter.getConsolidated():[],Q&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(Y){return Y[0]!==Q[0]&&Y[1]!==Q[1]})),Z.startExtent=ce.region?Q[ce.region==="s"?1:0]:te,X.parent.inBrushDrag=!0,Z.brushStartCallback()}function P(V,X){R.event.sourceEvent.stopPropagation();var q=X.height-R.mouse(V)[1]-2*g.verticalPadding,te=X.brush.svgBrush;te.wasDragged=!0,te._dragging=!0,te.grabbingBar?te.newExtent=[q-te.grabPoint,q+te.barLength-te.grabPoint].map(X.unitToPaddedPx.invert):te.newExtent=[te.startExtent,X.unitToPaddedPx.invert(q)].sort(S),X.brush.filterSpecified=!0,te.extent=te.stayingIntervals.concat([te.newExtent]),te.brushCallback(X),p(V.parentNode)}function x(V,X){var q=X.brush,te=q.filter,ne=q.svgBrush;ne._dragging||(L(V,X),P(V,X),X.brush.svgBrush.wasDragged=!1),ne._dragging=!1;var ce=R.event;ce.sourceEvent.stopPropagation();var Q=ne.grabbingBar;if(ne.grabbingBar=!1,ne.grabLocation=void 0,X.parent.inBrushDrag=!1,h(),!ne.wasDragged){ne.wasDragged=void 0,ne.clickableOrdinalRange?q.filterSpecified&&X.multiselect?ne.extent.push(ne.clickableOrdinalRange):(ne.extent=[ne.clickableOrdinalRange],q.filterSpecified=!0):Q?(ne.extent=ne.stayingIntervals,ne.extent.length===0&&_(q)):_(q),ne.brushCallback(X),p(V.parentNode),ne.brushEndCallback(q.filterSpecified?te.getConsolidated():[]);return}var Z=function(){te.set(te.getConsolidated())};if(X.ordinal){var re=X.unitTickvals;re[re.length-1]<re[0]&&re.reverse(),ne.newExtent=[n(0,re,ne.newExtent[0],ne.stayingIntervals),n(1,re,ne.newExtent[1],ne.stayingIntervals)];var Y=ne.newExtent[1]>ne.newExtent[0];ne.extent=ne.stayingIntervals.concat(Y?[ne.newExtent]:[]),ne.extent.length||_(q),ne.brushCallback(X),Y?p(V.parentNode,Z):(Z(),p(V.parentNode))}else Z();ne.brushEndCallback(q.filterSpecified?te.getConsolidated():[])}function L(V,X){var q=X.height-R.mouse(V)[1]-2*g.verticalPadding,te=b(X,q),ne="crosshair";te.clickableOrdinalRange?ne="pointer":te.region&&(ne=te.region+"-resize"),R.select(document.body).style("cursor",ne)}function M(V){V.on("mousemove",function(X){R.event.preventDefault(),X.parent.inBrushDrag||L(this,X)}).on("mouseleave",function(X){X.parent.inBrushDrag||h()}).call(R.behavior.drag().on("dragstart",function(X){T(this,X)}).on("drag",function(X){P(this,X)}).on("dragend",function(X){x(this,X)}))}function s(V,X){return V[0]-X[0]}function E(V,X,q){var te=q._context.staticPlot,ne=V.selectAll(".background").data(C);ne.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",te?"none":"auto").attr("transform",v(0,g.verticalPadding)),ne.call(M).attr("height",function(Z){return Z.height-g.verticalPadding});var ce=V.selectAll(".highlight-shadow").data(C);ce.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",X).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),ce.attr("y1",function(Z){return Z.height}).call(o);var Q=V.selectAll(".highlight").data(C);Q.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),Q.attr("y1",function(Z){return Z.height}).call(o)}function w(V,X,q){var te=V.selectAll("."+g.cn.axisBrush).data(C,a);te.enter().append("g").classed(g.cn.axisBrush,!0),E(te,X,q)}function O(V){return V.svgBrush.extent.map(function(X){return X.slice()})}function _(V){V.filterSpecified=!1,V.svgBrush.extent=[[-1/0,1/0]]}function U(V){return function(q){var te=q.brush,ne=O(te),ce=ne.slice();te.filter.set(ce),V()}}function z(V){for(var X=V.slice(),q=[],te,ne=X.shift();ne;){for(te=ne.slice();(ne=X.shift())&&ne[0]<=te[1];)te[1]=Math.max(te[1],ne[1]);q.push(te)}return q.length===1&&q[0][0]>q[0][1]&&(q=[]),q}function F(){var V=[],X,q;return{set:function(te){V=te.map(function(ne){return ne.slice().sort(S)}).sort(s),V.length===1&&V[0][0]===-1/0&&V[0][1]===1/0&&(V=[[0,-1]]),X=z(V),q=V.reduce(function(ne,ce){return[Math.min(ne[0],ce[0]),Math.max(ne[1],ce[1])]},[1/0,-1/0])},get:function(){return V.slice()},getConsolidated:function(){return X},getBounds:function(){return q}}}function B(V,X,q,te,ne,ce){var Q=F();return Q.set(q),{filter:Q,filterSpecified:X,svgBrush:{extent:[],brushStartCallback:te,brushCallback:U(ne),brushEndCallback:ce}}}function N(V,X){if(Array.isArray(V[0])?(V=V.map(function(te){return te.sort(S)}),X.multiselect?V=z(V.sort(s)):V=[V[0]]):V=[V.sort(S)],X.tickvals){var q=X.tickvals.slice().sort(S);if(V=V.map(function(te){var ne=[n(0,q,te[0],[]),n(1,q,te[1],[])];if(ne[1]>ne[0])return ne}).filter(function(te){return te}),!V.length)return}return V.length>1?V:V[0]}H.exports={makeBrush:B,ensureAxisBrush:w,cleanRanges:N}},61664:function(H,G,e){H.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(H,G,e){var g=e(33428),R=e(84888)._M,a=e(24196),C=e(9616);G.name="parcoords",G.plot=function(S){var v=R(S.calcdata,"parcoords")[0];v.length&&a(S,v)},G.clean=function(S,v,d,r){var t=r._has&&r._has("parcoords"),i=v._has&&v._has("parcoords");t&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},G.toSVG=function(S){var v=S._fullLayout._glimages,d=g.select(S).selectAll(".svg-container"),r=d.filter(function(i,n){return n===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var i=this,n=i.toDataURL("image/png"),f=v.append("svg:image");f.attr({xmlns:C.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}r.each(t),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(H,G,e){var g=e(3400).isArrayOrTypedArray,R=e(8932),a=e(71688).wrap;H.exports=function(v,d){var r,t;return R.hasColorscale(d,"line")&&g(d.line.color)?(r=d.line.color,t=R.extractOpts(d.line).colorscale,R.calc(v,d,{vals:r,containerStr:"line",cLetter:"c"})):(r=C(d._length),t=[[0,d.line.color],[1,d.line.color]]),a({lineColor:r,cscale:t})};function C(S){for(var v=new Array(S),d=0;d<S;d++)v[d]=.5;return v}},30140:function(H){H.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(H,G,e){var g=e(3400),R=e(94288).hasColorscale,a=e(27260),C=e(86968).Q,S=e(51272),v=e(54460),d=e(82296),r=e(71864),t=e(30140).maxDimensionCount,i=e(26284);function n(u,l,m,c,A){var h=A("line.color",m);if(R(u,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return A("line.colorscale"),a(u,l,c,A,{prefix:"line.",cLetter:"c"}),h.length;l.line.color=m}return 1/0}function f(u,l,m,c){function A(T,P){return g.coerce(u,l,d.dimensions,T,P)}var h=A("values"),o=A("visible");if(h&&h.length||(o=l.visible=!1),o){A("label"),A("tickvals"),A("ticktext"),A("tickformat");var p=A("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},v.setConvert(l._ax,c.layout),A("multiselect");var b=A("constraintrange");b&&(l.constraintrange=r.cleanRanges(b,l))}}H.exports=function(l,m,c,A){function h(P,x){return g.coerce(l,m,d,P,x)}var o=l.dimensions;Array.isArray(o)&&o.length>t&&(g.log("parcoords traces support up to "+t+" dimensions at the moment"),o.splice(t));var p=S(l,m,{name:"dimensions",layout:A,handleItemDefaults:f}),b=n(l,m,c,A,h);C(m,A,h),(!Array.isArray(p)||!p.length)&&(m.visible=!1),i(m,p,"values",b);var T={weight:A.font.weight,style:A.font.style,variant:A.font.variant,family:A.font.family,size:Math.round(A.font.size/1.2),color:A.font.color};g.coerceFont(h,"labelfont",T),g.coerceFont(h,"tickfont",T),g.coerceFont(h,"rangefont",T),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},95724:function(H,G,e){var g=e(3400).isTypedArray;G.convertTypedArray=function(R){return g(R)?Array.prototype.slice.call(R):R},G.isOrdinal=function(R){return!!R.tickvals},G.isVisible=function(R){return R.visible||!("visible"in R)}},29928:function(H,G,e){var g=e(61664);g.plot=e(24196),H.exports=g},51352:function(H,G,e){var g=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),R=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),a=e(30140).maxDimensionCount,C=e(3400),S=1e-6,v=2048,d=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(x){x.read({x:0,y:0,width:1,height:1,data:d})}function n(x,L,M,s,E){var w=x._gl;w.enable(w.SCISSOR_TEST),w.scissor(L,M,s,E),x.clear({color:[0,0,0,0],depth:1})}function f(x,L,M,s,E,w){var O=w.key;function _(U){var z=Math.min(s,E-U*s);U===0&&(window.cancelAnimationFrame(M.currentRafs[O]),delete M.currentRafs[O],n(x,w.scissorX,w.scissorY,w.scissorWidth,w.viewBoxSize[1])),!M.clearOnly&&(w.count=2*z,w.offset=2*U*s,L(w),U*s+z<E&&(M.currentRafs[O]=window.requestAnimationFrame(function(){_(U+1)})),M.drawCompleted=!1)}M.drawCompleted||(i(x),M.drawCompleted=!0),_(0)}function u(x){return Math.max(S,Math.min(1-S,x))}function l(x,L){for(var M=new Array(256),s=0;s<256;s++)M[s]=x(s/255).concat(L);return M}function m(x,L){return(x>>>8*L)%256/255}function c(x,L,M){for(var s=new Array(x*(a+4)),E=0,w=0;w<x;w++){for(var O=0;O<a;O++)s[E++]=O<L.length?L[O].paddedUnitValues[w]:.5;s[E++]=m(w,2),s[E++]=m(w,1),s[E++]=m(w,0),s[E++]=u(M[w])}return s}function A(x,L,M){for(var s=new Array(L*8),E=0,w=0;w<L;w++)for(var O=0;O<2;O++)for(var _=0;_<4;_++){var U=x*4+_,z=M[w*64+U];U===63&&O===0&&(z*=-1),s[E++]=z}return s}function h(x){var L="0"+x;return L.substr(L.length-2)}function o(x){return x<a?"p"+h(x+1)+"_"+h(x+4):"colors"}function p(x,L,M){for(var s=0;s<=a;s+=4)x[o(s)](A(s/4,L,M))}function b(x){for(var L={},M=0;M<=a;M+=4)L[o(M)]=x.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return L}function T(x,L,M,s,E,w,O,_,U,z,F,B,N,V){for(var X=[[],[]],q=0;q<64;q++)X[0][q]=q===E?1:0,X[1][q]=q===w?1:0;O*=V,_*=V,U*=V,z*=V;var te=x.lines.canvasOverdrag*V,ne=x.domain,ce=x.canvasWidth*V,Q=x.canvasHeight*V,Z=x.pad.l*V,re=x.pad.b*V,Y=x.layoutHeight*V,oe=x.layoutWidth*V,ue=x.deselectedLines.color,K=x.deselectedLines.opacity,$=C.extendFlat({key:F,resolution:[ce,Q],viewBoxPos:[O+te,_],viewBoxSize:[U,z],i0:E,i1:w,dim0A:X[0].slice(0,16),dim0B:X[0].slice(16,32),dim0C:X[0].slice(32,48),dim0D:X[0].slice(48,64),dim1A:X[1].slice(0,16),dim1B:X[1].slice(16,32),dim1C:X[1].slice(32,48),dim1D:X[1].slice(48,64),drwLayer:B,contextColor:[ue[0]/255,ue[1]/255,ue[2]/255,K!=="auto"?ue[3]*K:Math.max(1/255,Math.pow(1/x.lines.color.length,1/3))],scissorX:(s===L?0:O+te)+(Z-te)+oe*ne.x[0],scissorWidth:(s===M?ce-O+te:U+.5)+(s===L?O+te:0),scissorY:_+re+Y*ne.y[0],scissorHeight:z,viewportX:Z-te+oe*ne.x[0],viewportY:re+Y*ne.y[0],viewportWidth:ce,viewportHeight:Q},N);return $}function P(x){var L=v-1,M=Math.max(0,Math.floor(x[0]*L),0),s=Math.min(L,Math.ceil(x[1]*L),L);return[Math.min(M,s),Math.max(M,s)]}H.exports=function(x,L){var M=L.context,s=L.pick,E=L.regl,w=E._gl,O=w.getParameter(w.ALIASED_LINE_WIDTH_RANGE),_=Math.max(O[0],Math.min(O[1],L.viewModel.plotGlPixelRatio)),U={currentRafs:{},drawCompleted:!0,clearOnly:!1},z,F,B,N,V=b(E),X,q=E.texture(t),te=[];ce(L);var ne=E({profile:!1,blend:{enable:M,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!M,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:E.prop("scissorX"),y:E.prop("scissorY"),width:E.prop("scissorWidth"),height:E.prop("scissorHeight")}},viewport:{x:E.prop("viewportX"),y:E.prop("viewportY"),width:E.prop("viewportWidth"),height:E.prop("viewportHeight")},dither:!1,vert:g,frag:R,primitive:"lines",lineWidth:_,attributes:V,uniforms:{resolution:E.prop("resolution"),viewBoxPos:E.prop("viewBoxPos"),viewBoxSize:E.prop("viewBoxSize"),dim0A:E.prop("dim0A"),dim1A:E.prop("dim1A"),dim0B:E.prop("dim0B"),dim1B:E.prop("dim1B"),dim0C:E.prop("dim0C"),dim1C:E.prop("dim1C"),dim0D:E.prop("dim0D"),dim1D:E.prop("dim1D"),loA:E.prop("loA"),hiA:E.prop("hiA"),loB:E.prop("loB"),hiB:E.prop("hiB"),loC:E.prop("loC"),hiC:E.prop("hiC"),loD:E.prop("loD"),hiD:E.prop("hiD"),palette:q,contextColor:E.prop("contextColor"),maskTexture:E.prop("maskTexture"),drwLayer:E.prop("drwLayer"),maskHeight:E.prop("maskHeight")},offset:E.prop("offset"),count:E.prop("count")});function ce(ue){z=ue.model,F=ue.viewModel,B=F.dimensions.slice(),N=B[0]?B[0].values.length:0;var K=z.lines,$=s?K.color.map(function(ae,he){return he/K.color.length}):K.color,le=c(N,B,$);p(V,N,le),!M&&!s&&(q=E.texture(C.extendFlat({data:l(z.unitToColor,255)},t)))}function Q(ue){var K,$,le,ae=[[],[]];for(le=0;le<64;le++){var he=!ue&&le<B.length?B[le].brush.filter.getBounds():[-1/0,1/0];ae[0][le]=he[0],ae[1][le]=he[1]}var xe=v*8,Me=new Array(xe);for(K=0;K<xe;K++)Me[K]=255;if(!ue)for(K=0;K<B.length;K++){var Ae=K%8,ke=(K-Ae)/8,we=Math.pow(2,Ae),Ee=B[K],be=Ee.brush.filter.get();if(!(be.length<2)){var Le=P(be[0])[1];for($=1;$<be.length;$++){var Ue=P(be[$]);for(le=Le+1;le<Ue[0];le++)Me[le*8+ke]&=~we;Le=Math.max(Le,Ue[1])}}}var Ve={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Me};return X?X(Ve):X=E.texture(Ve),{maskTexture:X,maskHeight:v,loA:ae[0].slice(0,16),loB:ae[0].slice(16,32),loC:ae[0].slice(32,48),loD:ae[0].slice(48,64),hiA:ae[1].slice(0,16),hiB:ae[1].slice(16,32),hiC:ae[1].slice(32,48),hiD:ae[1].slice(48,64)}}function Z(ue,K,$){var le=ue.length,ae,he,xe,Me=1/0,Ae=-1/0;for(ae=0;ae<le;ae++)ue[ae].dim0.canvasX<Me&&(Me=ue[ae].dim0.canvasX,he=ae),ue[ae].dim1.canvasX>Ae&&(Ae=ue[ae].dim1.canvasX,xe=ae);le===0&&n(E,0,0,z.canvasWidth,z.canvasHeight);var ke=Q(M);for(ae=0;ae<le;ae++){var we=ue[ae],Ee=we.dim0.crossfilterDimensionIndex,be=we.dim1.crossfilterDimensionIndex,Le=we.canvasX,Ue=we.canvasY,Ve=Le+we.panelSizeX,Fe=we.plotGlPixelRatio;if(K||!te[Ee]||te[Ee][0]!==Le||te[Ee][1]!==Ve){te[Ee]=[Le,Ve];var He=T(z,he,xe,ae,Ee,be,Le,Ue,we.panelSizeX,we.panelSizeY,we.dim0.crossfilterDimensionIndex,M?0:s?2:1,ke,Fe);U.clearOnly=$;var st=K?z.lines.blockLineCount:N;f(E,ne,U,st,N,He)}}}function re(ue,K){return E.read({x:ue,y:K,width:1,height:1,data:r}),r}function Y(ue,K,$,le){var ae=new Uint8Array(4*$*le);return E.read({x:ue,y:K,width:$,height:le,data:ae}),ae}function oe(){x.style["pointer-events"]="none",q.destroy(),X&&X.destroy();for(var ue in V)V[ue].destroy()}return{render:Z,readPixel:re,readPixels:Y,destroy:oe,update:ce}}},26284:function(H){H.exports=function(G,e,g,R){R||(R=1/0);var a,C;for(a=0;a<e.length;a++)C=e[a],C.visible&&(R=Math.min(R,C[g].length));for(R===1/0&&(R=0),G._length=R,a=0;a<e.length;a++)C=e[a],C.visible&&(C._length=R);return R}},36336:function(H,G,e){var g=e(33428),R=e(3400),a=R.isArrayOrTypedArray,C=R.numberFormat,S=e(96824),v=e(54460),d=R.strRotate,r=R.strTranslate,t=e(72736),i=e(43616),n=e(8932),f=e(71688),u=f.keyFun,l=f.repeat,m=f.unwrap,c=e(95724),A=e(30140),h=e(71864),o=e(51352);function p(te,ne,ce){return R.aggNums(te,null,ne,ce)}function b(te,ne){return P(p(Math.min,te,ne),p(Math.max,te,ne))}function T(te){var ne=te.range;return ne?P(ne[0],ne[1]):b(te.values,te._length)}function P(te,ne){return(isNaN(te)||!isFinite(te))&&(te=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),te===ne&&(te===0?(te-=1,ne+=1):(te*=.9,ne*=1.1)),[te,ne]}function x(te,ne){return ne?function(ce,Q){var Z=ne[Q];return Z??te(ce)}:te}function L(te,ne,ce,Q,Z){var re=T(ce);return Q?g.scale.ordinal().domain(Q.map(x(C(ce.tickformat),Z))).range(Q.map(function(Y){var oe=(Y-re[0])/(re[1]-re[0]);return te-ne+oe*(2*ne-te)})):g.scale.linear().domain(re).range([te-ne,ne])}function M(te,ne){return g.scale.linear().range([ne,te-ne])}function s(te,ne){return g.scale.linear().domain(T(te)).range([ne,1-ne])}function E(te){if(te.tickvals){var ne=T(te);return g.scale.ordinal().domain(te.tickvals).range(te.tickvals.map(function(ce){return(ce-ne[0])/(ne[1]-ne[0])}))}}function w(te){var ne=te.map(function(re){return re[0]}),ce=te.map(function(re){var Y=S(re[1]);return g.rgb("rgb("+Y[0]+","+Y[1]+","+Y[2]+")")}),Q=function(re){return function(Y){return Y[re]}},Z="rgb".split("").map(function(re){return g.scale.linear().clamp(!0).domain(ne).range(ce.map(Q(re)))});return function(re){return Z.map(function(Y){return Y(re)})}}function O(te){return te.dimensions.some(function(ne){return ne.brush.filterSpecified})}function _(te,ne,ce){var Q=m(ne),Z=Q.trace,re=c.convertTypedArray(Q.lineColor),Y=Z.line,oe={color:S(Z.unselected.line.color),opacity:Z.unselected.line.opacity},ue=n.extractOpts(Y),K=ue.reversescale?n.flipScale(Q.cscale):Q.cscale,$=Z.domain,le=Z.dimensions,ae=te.width,he=Z.labelangle,xe=Z.labelside,Me=Z.labelfont,Ae=Z.tickfont,ke=Z.rangefont,we=R.extendDeepNoArrays({},Y,{color:re.map(g.scale.linear().domain(T({values:re,range:[ue.min,ue.max],_length:Z._length}))),blockLineCount:A.blockLineCount,canvasOverdrag:A.overdrag*A.canvasPixelRatio}),Ee=Math.floor(ae*($.x[1]-$.x[0])),be=Math.floor(te.height*($.y[1]-$.y[0])),Le=te.margin||{l:80,r:80,t:100,b:80},Ue=Ee,Ve=be;return{key:ce,colCount:le.filter(c.isVisible).length,dimensions:le,tickDistance:A.tickDistance,unitToColor:w(K),lines:we,deselectedLines:oe,labelAngle:he,labelSide:xe,labelFont:Me,tickFont:Ae,rangeFont:ke,layoutWidth:ae,layoutHeight:te.height,domain:$,translateX:$.x[0]*ae,translateY:te.height-$.y[1]*te.height,pad:Le,canvasWidth:Ue*A.canvasPixelRatio+2*we.canvasOverdrag,canvasHeight:Ve*A.canvasPixelRatio,width:Ue,height:Ve,canvasPixelRatio:A.canvasPixelRatio}}function U(te,ne,ce){var Q=ce.width,Z=ce.height,re=ce.dimensions,Y=ce.canvasPixelRatio,oe=function(ae){return Q*ae/Math.max(1,ce.colCount-1)},ue=A.verticalPadding/Z,K=M(Z,A.verticalPadding),$={key:ce.key,xScale:oe,model:ce,inBrushDrag:!1},le={};return $.dimensions=re.filter(c.isVisible).map(function(ae,he){var xe=s(ae,ue),Me=le[ae.label];le[ae.label]=(Me||0)+1;var Ae=ae.label+(Me?"__"+Me:""),ke=ae.constraintrange,we=ke&&ke.length;we&&!a(ke[0])&&(ke=[ke]);var Ee=we?ke.map(function(et){return et.map(xe)}):[[-1/0,1/0]],be=function(){var et=$;et.focusLayer&&et.focusLayer.render(et.panels,!0);var ct=O(et);!te.contextShown()&&ct?(et.contextLayer&&et.contextLayer.render(et.panels,!0),te.contextShown(!0)):te.contextShown()&&!ct&&(et.contextLayer&&et.contextLayer.render(et.panels,!0,!0),te.contextShown(!1))},Le=ae.values;Le.length>ae._length&&(Le=Le.slice(0,ae._length));var Ue=ae.tickvals,Ve;function Fe(et,ct){return{val:et,text:Ve[ct]}}function He(et,ct){return et.val-ct.val}if(a(Ue)&&Ue.length){R.isTypedArray(Ue)&&(Ue=Array.from(Ue)),Ve=ae.ticktext,!a(Ve)||!Ve.length?Ve=Ue.map(C(ae.tickformat)):Ve.length>Ue.length?Ve=Ve.slice(0,Ue.length):Ue.length>Ve.length&&(Ue=Ue.slice(0,Ve.length));for(var st=1;st<Ue.length;st++)if(Ue[st]<Ue[st-1]){for(var vt=Ue.map(Fe).sort(He),lt=0;lt<Ue.length;lt++)Ue[lt]=vt[lt].val,Ve[lt]=vt[lt].text;break}}else Ue=void 0;return Le=c.convertTypedArray(Le),{key:Ae,label:ae.label,tickFormat:ae.tickformat,tickvals:Ue,ticktext:Ve,ordinal:c.isOrdinal(ae),multiselect:ae.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:ae._index,height:Z,values:Le,paddedUnitValues:Le.map(xe),unitTickvals:Ue&&Ue.map(xe),xScale:oe,x:oe(he),canvasX:oe(he)*Y,unitToPaddedPx:K,domainScale:L(Z,A.verticalPadding,ae,Ue,Ve),ordinalScale:E(ae),parent:$,model:ce,brush:h.makeBrush(te,we,Ee,function(){te.linePickActive(!1)},be,function(et){if($.focusLayer.render($.panels,!0),$.pickLayer&&$.pickLayer.render($.panels,!0),te.linePickActive(!0),ne&&ne.filterChanged){var ct=xe.invert,ht=et.map(function(mt){return mt.map(ct).sort(R.sorterAsc)}).sort(function(mt,xt){return mt[0]-xt[0]});ne.filterChanged($.key,ae._index,ht)}})}}),$}function z(te){te.classed(A.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(){var te=!0,ne=!1;return{linePickActive:function(ce){return arguments.length?te=!!ce:te},contextShown:function(ce){return arguments.length?ne=!!ce:ne}}}function B(te,ne){var ce=ne==="top"?1:-1,Q=te*Math.PI/180,Z=Math.sin(Q),re=Math.cos(Q);return{dir:ce,dx:Z,dy:re,degrees:te}}function N(te,ne,ce){for(var Q=ne.panels||(ne.panels=[]),Z=te.data(),re=0;re<Z.length-1;re++){var Y=Q[re]||(Q[re]={}),oe=Z[re],ue=Z[re+1];Y.dim0=oe,Y.dim1=ue,Y.canvasX=oe.canvasX,Y.panelSizeX=ue.canvasX-oe.canvasX,Y.panelSizeY=ne.model.canvasHeight,Y.y=0,Y.canvasY=0,Y.plotGlPixelRatio=ce}}function V(te){for(var ne=0;ne<te.length;ne++)for(var ce=0;ce<te[ne].length;ce++)for(var Q=te[ne][ce].trace,Z=Q.dimensions,re=0;re<Z.length;re++){var Y=Z[re].values,oe=Z[re]._ax;oe&&(oe.range?oe.range=P(oe.range[0],oe.range[1]):oe.range=b(Y,Q._length),oe.dtick||(oe.dtick=.01*(Math.abs(oe.range[1]-oe.range[0])||1)),oe.tickformat=Z[re].tickformat,v.calcTicks(oe),oe.cleanRange())}}function X(te,ne){return v.tickText(te._ax,ne,!1).text}function q(te,ne){if(te.ordinal)return"";var ce=te.domainScale.domain(),Q=ce[ne?ce.length-1:0];return X(te.model.dimensions[te.visibleIndex],Q)}H.exports=function(ne,ce,Q,Z){var re=ne._context.staticPlot,Y=ne._fullLayout,oe=Y._toppaper,ue=Y._glcontainer,K=ne._context.plotGlPixelRatio,$=ne._fullLayout.paper_bgcolor;V(ce);var le=F(),ae=ce.filter(function(lt){return m(lt).trace.visible}).map(_.bind(0,Q)).map(U.bind(0,le,Z));ue.each(function(lt,et){return R.extendFlat(lt,ae[et])});var he=ue.selectAll(".gl-canvas").each(function(lt){lt.viewModel=ae[0],lt.viewModel.plotGlPixelRatio=K,lt.viewModel.paperColor=$,lt.model=lt.viewModel?lt.viewModel.model:null}),xe=null,Me=he.filter(function(lt){return lt.pick});Me.style("pointer-events",re?"none":"auto").on("mousemove",function(lt){if(le.linePickActive()&&lt.lineLayer&&Z&&Z.hover){var et=g.event,ct=this.width,ht=this.height,mt=g.mouse(this),xt=mt[0],Mt=mt[1];if(xt<0||Mt<0||xt>=ct||Mt>=ht)return;var tt=lt.lineLayer.readPixel(xt,ht-1-Mt),Oe=tt[3]!==0,Ye=Oe?tt[2]+256*(tt[1]+256*tt[0]):null,Ze={x:xt,y:Mt,clientX:et.clientX,clientY:et.clientY,dataIndex:lt.model.key,curveNumber:Ye};Ye!==xe&&(Oe?Z.hover(Ze):Z.unhover&&Z.unhover(Ze),xe=Ye)}}),he.style("opacity",function(lt){return lt.pick?0:1}),oe.style("background","rgba(255, 255, 255, 0)");var Ae=oe.selectAll("."+A.cn.parcoords).data(ae,u);Ae.exit().remove(),Ae.enter().append("g").classed(A.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(lt){return r(lt.model.translateX,lt.model.translateY)});var ke=Ae.selectAll("."+A.cn.parcoordsControlView).data(l,u);ke.enter().append("g").classed(A.cn.parcoordsControlView,!0),ke.attr("transform",function(lt){return r(lt.model.pad.l,lt.model.pad.t)});var we=ke.selectAll("."+A.cn.yAxis).data(function(lt){return lt.dimensions},u);we.enter().append("g").classed(A.cn.yAxis,!0),ke.each(function(lt){N(we,lt,K)}),he.each(function(lt){if(lt.viewModel){!lt.lineLayer||Z?lt.lineLayer=o(this,lt):lt.lineLayer.update(lt),(lt.key||lt.key===0)&&(lt.viewModel[lt.key]=lt.lineLayer);var et=!lt.context||Z;lt.lineLayer.render(lt.viewModel.panels,et)}}),we.attr("transform",function(lt){return r(lt.xScale(lt.xIndex),0)}),we.call(g.behavior.drag().origin(function(lt){return lt}).on("drag",function(lt){var et=lt.parent;le.linePickActive(!1),lt.x=Math.max(-A.overdrag,Math.min(lt.model.width+A.overdrag,g.event.x)),lt.canvasX=lt.x*lt.model.canvasPixelRatio,we.sort(function(ct,ht){return ct.x-ht.x}).each(function(ct,ht){ct.xIndex=ht,ct.x=lt===ct?ct.x:ct.xScale(ct.xIndex),ct.canvasX=ct.x*ct.model.canvasPixelRatio}),N(we,et,K),we.filter(function(ct){return Math.abs(lt.xIndex-ct.xIndex)!==0}).attr("transform",function(ct){return r(ct.xScale(ct.xIndex),0)}),g.select(this).attr("transform",r(lt.x,0)),we.each(function(ct,ht,mt){mt===lt.parent.key&&(et.dimensions[ht]=ct)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!O(et)),et.focusLayer.render&&et.focusLayer.render(et.panels)}).on("dragend",function(lt){var et=lt.parent;lt.x=lt.xScale(lt.xIndex),lt.canvasX=lt.x*lt.model.canvasPixelRatio,N(we,et,K),g.select(this).attr("transform",function(ct){return r(ct.x,0)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!O(et)),et.focusLayer&&et.focusLayer.render(et.panels),et.pickLayer&&et.pickLayer.render(et.panels,!0),le.linePickActive(!0),Z&&Z.axesMoved&&Z.axesMoved(et.key,et.dimensions.map(function(ct){return ct.crossfilterDimensionIndex}))})),we.exit().remove();var Ee=we.selectAll("."+A.cn.axisOverlays).data(l,u);Ee.enter().append("g").classed(A.cn.axisOverlays,!0),Ee.selectAll("."+A.cn.axis).remove();var be=Ee.selectAll("."+A.cn.axis).data(l,u);be.enter().append("g").classed(A.cn.axis,!0),be.each(function(lt){var et=lt.model.height/lt.model.tickDistance,ct=lt.domainScale,ht=ct.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(et,lt.tickFormat).tickValues(lt.ordinal?ht:null).tickFormat(function(mt){return c.isOrdinal(lt)?mt:X(lt.model.dimensions[lt.visibleIndex],mt)}).scale(ct)),i.font(be.selectAll("text"),lt.model.tickFont)}),be.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),be.selectAll("text").style("text-shadow",t.makeTextShadow($)).style("cursor","default");var Le=Ee.selectAll("."+A.cn.axisHeading).data(l,u);Le.enter().append("g").classed(A.cn.axisHeading,!0);var Ue=Le.selectAll("."+A.cn.axisTitle).data(l,u);Ue.enter().append("text").classed(A.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",re?"none":"auto"),Ue.text(function(lt){return lt.label}).each(function(lt){var et=g.select(this);i.font(et,lt.model.labelFont),t.convertToTspans(et,ne)}).attr("transform",function(lt){var et=B(lt.model.labelAngle,lt.model.labelSide),ct=A.axisTitleOffset;return(et.dir>0?"":r(0,2*ct+lt.model.height))+d(et.degrees)+r(-ct*et.dx,-ct*et.dy)}).attr("text-anchor",function(lt){var et=B(lt.model.labelAngle,lt.model.labelSide),ct=Math.abs(et.dx),ht=Math.abs(et.dy);return 2*ct>ht?et.dir*et.dx<0?"start":"end":"middle"});var Ve=Ee.selectAll("."+A.cn.axisExtent).data(l,u);Ve.enter().append("g").classed(A.cn.axisExtent,!0);var Fe=Ve.selectAll("."+A.cn.axisExtentTop).data(l,u);Fe.enter().append("g").classed(A.cn.axisExtentTop,!0),Fe.attr("transform",r(0,-A.axisExtentOffset));var He=Fe.selectAll("."+A.cn.axisExtentTopText).data(l,u);He.enter().append("text").classed(A.cn.axisExtentTopText,!0).call(z),He.text(function(lt){return q(lt,!0)}).each(function(lt){i.font(g.select(this),lt.model.rangeFont)});var st=Ve.selectAll("."+A.cn.axisExtentBottom).data(l,u);st.enter().append("g").classed(A.cn.axisExtentBottom,!0),st.attr("transform",function(lt){return r(0,lt.model.height+A.axisExtentOffset)});var vt=st.selectAll("."+A.cn.axisExtentBottomText).data(l,u);vt.enter().append("text").classed(A.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(z),vt.text(function(lt){return q(lt,!1)}).each(function(lt){i.font(g.select(this),lt.model.rangeFont)}),h.ensureAxisBrush(Ee,$,ne)}},24196:function(H,G,e){var g=e(36336),R=e(5048),a=e(95724).isVisible,C={};function S(r,t,i){var n=t.indexOf(i),f=r.indexOf(n);return f===-1&&(f+=t.length),f}function v(r,t){return function(n,f){return S(r,t,n)-S(r,t,f)}}var d=H.exports=function(t,i){var n=t._fullLayout,f=R(t,[],C);if(f){var u={},l={},m={},c={},A=n._size;i.forEach(function(T,P){var x=T[0].trace;m[P]=x.index;var L=c[P]=x._fullInput.index;u[P]=t.data[L].dimensions,l[P]=t.data[L].dimensions.slice()});var h=function(T,P,x){var L=l[T][P],M=x.map(function(U){return U.slice()}),s="dimensions["+P+"].constraintrange",E=n._tracePreGUI[t._fullData[m[T]]._fullInput.uid];if(E[s]===void 0){var w=L.constraintrange;E[s]=w||null}var O=t._fullData[m[T]].dimensions[P];M.length?(M.length===1&&(M=M[0]),L.constraintrange=M,O.constraintrange=M.slice(),M=[M]):(delete L.constraintrange,delete O.constraintrange,M=null);var _={};_[s]=M,t.emit("plotly_restyle",[_,[c[T]]])},o=function(T){t.emit("plotly_hover",T)},p=function(T){t.emit("plotly_unhover",T)},b=function(T,P){var x=v(P,l[T].filter(a));u[T].sort(x),l[T].filter(function(L){return!a(L)}).sort(function(L){return l[T].indexOf(L)}).forEach(function(L){u[T].splice(u[T].indexOf(L),1),u[T].splice(l[T].indexOf(L),0,L)}),t.emit("plotly_restyle",[{dimensions:[u[T]]},[c[T]]])};g(t,i,{width:A.w,height:A.h,margin:{t:A.t,r:A.r,b:A.b,l:A.l}},{filterChanged:h,hover:o,unhover:p,axesMoved:b})}};d.reglPrecompiled=C},74996:function(H,G,e){var g=e(45464),R=e(86968).u,a=e(25376),C=e(22548),S=e(21776).Ks,v=e(21776).Gw,d=e(92880).extendFlat,r=e(98192).c,t=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});H.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},t,{}),outsidetextfont:d({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:R({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(H,G,e){var g=e(7316);G.name="pie",G.plot=function(R,a,C,S){g.plotBasePlot(G.name,R,a,C,S)},G.clean=function(R,a,C,S){g.cleanBasePlot(G.name,R,a,C,S)}},45768:function(H,G,e){var g=e(38248),R=e(49760),a=e(76308),C={};function S(t,i){var n=[],f=t._fullLayout,u=f.hiddenlabels||[],l=i.labels,m=i.marker.colors||[],c=i.values,A=i._length,h=i._hasValues&&A,o,p;if(i.dlabel)for(l=new Array(A),o=0;o<A;o++)l[o]=String(i.label0+o*i.dlabel);var b={},T=v(f["_"+i.type+"colormap"]),P=0,x=!1;for(o=0;o<A;o++){var L,M,s;if(h){if(L=c[o],!g(L))continue;L=+L}else L=1;M=l[o],(M===void 0||M==="")&&(M=o),M=String(M);var E=b[M];E===void 0?(b[M]=n.length,s=u.indexOf(M)!==-1,s||(P+=L),n.push({v:L,label:M,color:T(m[o],M),i:o,pts:[o],hidden:s})):(x=!0,p=n[E],p.v+=L,p.pts.push(o),p.hidden||(P+=L),p.color===!1&&m[o]&&(p.color=T(m[o],M)))}n=n.filter(function(O){return O.v>=0});var w=i.type==="funnelarea"?x:i.sort;return w&&n.sort(function(O,_){return _.v-O.v}),n[0]&&(n[0].vTotal=P),n}function v(t){return function(n,f){return!n||(n=R(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),t[f]||(t[f]=n),n)}}function d(t,i){var n=(i||{}).type;n||(n="pie");var f=t._fullLayout,u=t.calcdata,l=f[n+"colorway"],m=f["_"+n+"colormap"];f["extend"+n+"colors"]&&(l=r(l,C));for(var c=0,A=0;A<u.length;A++){var h=u[A],o=h[0].trace.type;if(o===n)for(var p=0;p<h.length;p++){var b=h[p];b.color===!1&&(m[b.label]?b.color=m[b.label]:(m[b.label]=b.color=l[c%l.length],c++))}}}function r(t,i){var n,f=JSON.stringify(t),u=i[f];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(R(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(R(t[n]).darken(20).toHexString());i[f]=u}return u}H.exports={calc:S,crossTraceCalc:d,makePullColorFn:v,generateExtendedColors:r}},74174:function(H,G,e){var g=e(38248),R=e(3400),a=e(74996),C=e(86968).Q,S=e(31508).handleText,v=e(3400).coercePattern;function d(i,n){var f=R.isArrayOrTypedArray(i),u=R.isArrayOrTypedArray(n),l=Math.min(f?i.length:1/0,u?n.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var m,c=0;c<l;c++){var A=n[c];if(g(A)&&A>0){m=!0;break}}m||(l=0)}return{hasLabels:f,hasValues:u,len:l}}function r(i,n,f,u,l){var m=u("marker.line.width");m&&u("marker.line.color",l?void 0:f.paper_bgcolor);var c=u("marker.colors");v(u,"marker.pattern",c),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=f.paper_bgcolor)}function t(i,n,f,u){function l(E,w){return R.coerce(i,n,a,E,w)}var m=l("labels"),c=l("values"),A=d(m,c),h=A.len;if(n._hasLabels=A.hasLabels,n._hasValues=A.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!h){n.visible=!1;return}n._length=h,r(i,n,u,l,!0),l("scalegroup");var o=l("text"),p=l("texttemplate"),b;if(p||(b=l("textinfo",R.isArrayOrTypedArray(o)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),p||b&&b!=="none"){var T=l("textposition");S(i,n,u,l,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var P=Array.isArray(T)||T==="auto",x=P||T==="outside";x&&l("automargin"),(T==="inside"||T==="auto"||Array.isArray(T))&&l("insidetextorientation")}else b==="none"&&l("textposition","none");C(n,u,l);var L=l("hole"),M=l("title.text");if(M){var s=l("title.position",L?"middle center":"top center");!L&&s==="middle center"&&(n.title.position="top center"),R.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}H.exports={handleLabelsAndValues:d,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(H,G,e){var g=e(10624).appendArrayMultiPointValues;H.exports=function(a,C){var S={curveNumber:C.index,pointNumbers:a.pts,data:C._input,fullData:C,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(S.pointNumber=S.i=a.pts[0]),g(S,C,a.pts),C.type==="funnelarea"&&(delete S.v,delete S.i),S}},21552:function(H,G,e){var g=e(43616),R=e(76308);H.exports=function(C,S,v,d){var r=v.marker.pattern;r&&r.shape?g.pointStyle(C,v,d,S):R.fill(C,S.color)}},69656:function(H,G,e){var g=e(3400);function R(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}G.formatPiePercent=function(C,S){var v=R((C*100).toPrecision(3));return g.numSeparate(v,S)+"%"},G.formatPieValue=function(C,S){var v=R(C.toPrecision(10));return g.numSeparate(v,S)},G.getFirstFilled=function(C,S){if(g.isArrayOrTypedArray(C))for(var v=0;v<S.length;v++){var d=C[S[v]];if(d||d===0||d==="")return d}},G.castOption=function(C,S){if(g.isArrayOrTypedArray(C))return G.getFirstFilled(C,S);if(C)return C},G.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},75792:function(H,G,e){H.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(H){H.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(H,G,e){var g=e(3400),R=e(85204);H.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("hiddenlabels"),v("piecolorway",S.colorway),v("extendpiecolors")}},37820:function(H,G,e){var g=e(33428),R=e(7316),a=e(93024),C=e(76308),S=e(43616),v=e(3400),d=v.strScale,r=v.strTranslate,t=e(72736),i=e(82744),n=i.recordMinTextSize,f=i.clearMinTextSize,u=e(78048).TEXTPAD,l=e(69656),m=e(53644),c=e(3400).isValidTextValue;function A(Z,re){var Y=Z._context.staticPlot,oe=Z._fullLayout,ue=oe._size;f("pie",oe),T(re,Z),X(re,ue);var K=v.makeTraceGroups(oe._pielayer,re,"trace").each(function($){var le=g.select(this),ae=$[0],he=ae.trace;te($),le.attr("stroke-linejoin","round"),le.each(function(){var xe=g.select(this).selectAll("g.slice").data($);xe.enter().append("g").classed("slice",!0),xe.exit().remove();var Me=[[[],[]],[[],[]]],Ae=!1;xe.each(function(Fe,He){if(Fe.hidden){g.select(this).selectAll("path,g").remove();return}Fe.pointNumber=Fe.i,Fe.curveNumber=he.index,Me[Fe.pxmid[1]<0?0:1][Fe.pxmid[0]<0?0:1].push(Fe);var st=ae.cx,vt=ae.cy,lt=g.select(this),et=lt.selectAll("path.surface").data([Fe]);if(et.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),lt.call(o,Z,$),he.pull){var ct=+l.castOption(he.pull,Fe.pts)||0;ct>0&&(st+=ct*Fe.pxmid[0],vt+=ct*Fe.pxmid[1])}Fe.cxFinal=st,Fe.cyFinal=vt;function ht(Ze,We,_e,Ie){var Xe=Ie*(We[0]-Ze[0]),De=Ie*(We[1]-Ze[1]);return"a"+Ie*ae.r+","+Ie*ae.r+" 0 "+Fe.largeArc+(_e?" 1 ":" 0 ")+Xe+","+De}var mt=he.hole;if(Fe.v===ae.vTotal){var xt="M"+(st+Fe.px0[0])+","+(vt+Fe.px0[1])+ht(Fe.px0,Fe.pxmid,!0,1)+ht(Fe.pxmid,Fe.px0,!0,1)+"Z";mt?et.attr("d","M"+(st+mt*Fe.px0[0])+","+(vt+mt*Fe.px0[1])+ht(Fe.px0,Fe.pxmid,!1,mt)+ht(Fe.pxmid,Fe.px0,!1,mt)+"Z"+xt):et.attr("d",xt)}else{var Mt=ht(Fe.px0,Fe.px1,!0,1);if(mt){var tt=1-mt;et.attr("d","M"+(st+mt*Fe.px1[0])+","+(vt+mt*Fe.px1[1])+ht(Fe.px1,Fe.px0,!1,mt)+"l"+tt*Fe.px0[0]+","+tt*Fe.px0[1]+Mt+"Z")}else et.attr("d","M"+st+","+vt+"l"+Fe.px0[0]+","+Fe.px0[1]+Mt+"Z")}ce(Z,Fe,ae);var Oe=l.castOption(he.textposition,Fe.pts),Ye=lt.selectAll("g.slicetext").data(Fe.text&&Oe!=="none"?[0]:[]);Ye.enter().append("g").classed("slicetext",!0),Ye.exit().remove(),Ye.each(function(){var Ze=v.ensureSingle(g.select(this),"text","",function(Be){Be.attr("data-notex",1)}),We=v.ensureUniformFontSize(Z,Oe==="outside"?p(he,Fe,oe.font):b(he,Fe,oe.font));Ze.text(Fe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(S.font,We).call(t.convertToTspans,Z);var _e=S.bBox(Ze.node()),Ie;if(Oe==="outside")Ie=_(_e,Fe);else if(Ie=P(_e,Fe,ae),Oe==="auto"&&Ie.scale<1){var Xe=v.ensureUniformFontSize(Z,he.outsidetextfont);Ze.call(S.font,Xe),_e=S.bBox(Ze.node()),Ie=_(_e,Fe)}var De=Ie.textPosAngle,de=De===void 0?Fe.pxmid:ne(ae.r,De);if(Ie.targetX=st+de[0]*Ie.rCenter+(Ie.x||0),Ie.targetY=vt+de[1]*Ie.rCenter+(Ie.y||0),Q(Ie,_e),Ie.outside){var Te=Ie.targetY;Fe.yLabelMin=Te-_e.height/2,Fe.yLabelMid=Te,Fe.yLabelMax=Te+_e.height/2,Fe.labelExtraX=0,Fe.labelExtraY=0,Ae=!0}Ie.fontSize=We.size,n(he.type,Ie,oe),$[He].transform=Ie,v.setTransormAndDisplay(Ze,Ie)})});var ke=g.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(ke.enter().append("g").classed("titletext",!0),ke.exit().remove(),ke.each(function(){var Fe=v.ensureSingle(g.select(this),"text","",function(vt){vt.attr("data-notex",1)}),He=he.title.text;he._meta&&(He=v.templateString(He,he._meta)),Fe.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(S.font,he.title.font).call(t.convertToTspans,Z);var st;he.title.position==="middle center"?st=U(ae):st=z(ae,ue),Fe.attr("transform",r(st.x,st.y)+d(Math.min(1,st.scale))+r(st.tx,st.ty))}),Ae&&V(Me,he),h(xe,he),Ae&&he.automargin){var we=S.bBox(le.node()),Ee=he.domain,be=ue.w*(Ee.x[1]-Ee.x[0]),Le=ue.h*(Ee.y[1]-Ee.y[0]),Ue=(.5*be-ae.r)/ue.w,Ve=(.5*Le-ae.r)/ue.h;R.autoMargin(Z,"pie."+he.uid+".automargin",{xl:Ee.x[0]-Ue,xr:Ee.x[1]+Ue,yb:Ee.y[0]-Ve,yt:Ee.y[1]+Ve,l:Math.max(ae.cx-ae.r-we.left,0),r:Math.max(we.right-(ae.cx+ae.r),0),b:Math.max(we.bottom-(ae.cy+ae.r),0),t:Math.max(ae.cy-ae.r-we.top,0),pad:5})}})});setTimeout(function(){K.selectAll("tspan").each(function(){var $=g.select(this);$.attr("dy")&&$.attr("dy",$.attr("dy"))})},0)}function h(Z,re){Z.each(function(Y){var oe=g.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){oe.select("path.textline").remove();return}var ue=oe.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,v.setTransormAndDisplay(ue,Y.transform);var K=Y.cxFinal+Y.pxmid[0],$=Y.cyFinal+Y.pxmid[1],le="M"+K+","+$,ae=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var he=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],xe=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(he)>Math.abs(xe)?le+="l"+xe*Y.pxmid[0]/Y.pxmid[1]+","+xe+"H"+(K+Y.labelExtraX+ae):le+="l"+Y.labelExtraX+","+he+"v"+(xe-he)+"h"+ae}else le+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+ae;v.ensureSingle(oe,"path","textline").call(C.stroke,re.outsidetextfont.color).attr({"stroke-width":Math.min(2,re.outsidetextfont.size/8),d:le,fill:"none"})})}function o(Z,re,Y){var oe=Y[0],ue=oe.cx,K=oe.cy,$=oe.trace,le=$.type==="funnelarea";"_hasHoverLabel"in $||($._hasHoverLabel=!1),"_hasHoverEvent"in $||($._hasHoverEvent=!1),Z.on("mouseover",function(ae){var he=re._fullLayout,xe=re._fullData[$.index];if(!(re._dragging||he.hovermode===!1)){var Me=xe.hoverinfo;if(Array.isArray(Me)&&(Me=a.castHoverinfo({hoverinfo:[l.castOption(Me,ae.pts)],_module:$._module},he,0)),Me==="all"&&(Me="label+text+value+percent+name"),xe.hovertemplate||Me!=="none"&&Me!=="skip"&&Me){var Ae=ae.rInscribed||0,ke=ue+ae.pxmid[0]*(1-Ae),we=K+ae.pxmid[1]*(1-Ae),Ee=he.separators,be=[];if(Me&&Me.indexOf("label")!==-1&&be.push(ae.label),ae.text=l.castOption(xe.hovertext||xe.text,ae.pts),Me&&Me.indexOf("text")!==-1){var Le=ae.text;v.isValidTextValue(Le)&&be.push(Le)}ae.value=ae.v,ae.valueLabel=l.formatPieValue(ae.v,Ee),Me&&Me.indexOf("value")!==-1&&be.push(ae.valueLabel),ae.percent=ae.v/oe.vTotal,ae.percentLabel=l.formatPiePercent(ae.percent,Ee),Me&&Me.indexOf("percent")!==-1&&be.push(ae.percentLabel);var Ue=xe.hoverlabel,Ve=Ue.font,Fe=[];a.loneHover({trace:$,x0:ke-Ae*oe.r,x1:ke+Ae*oe.r,y:we,_x0:le?ue+ae.TL[0]:ke-Ae*oe.r,_x1:le?ue+ae.TR[0]:ke+Ae*oe.r,_y0:le?K+ae.TL[1]:we-Ae*oe.r,_y1:le?K+ae.BL[1]:we+Ae*oe.r,text:be.join("<br>"),name:xe.hovertemplate||Me.indexOf("name")!==-1?xe.name:void 0,idealAlign:ae.pxmid[0]<0?"left":"right",color:l.castOption(Ue.bgcolor,ae.pts)||ae.color,borderColor:l.castOption(Ue.bordercolor,ae.pts),fontFamily:l.castOption(Ve.family,ae.pts),fontSize:l.castOption(Ve.size,ae.pts),fontColor:l.castOption(Ve.color,ae.pts),nameLength:l.castOption(Ue.namelength,ae.pts),textAlign:l.castOption(Ue.align,ae.pts),hovertemplate:l.castOption(xe.hovertemplate,ae.pts),hovertemplateLabels:ae,eventData:[m(ae,xe)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:re,inOut_bbox:Fe}),ae.bbox=Fe[0],$._hasHoverLabel=!0}$._hasHoverEvent=!0,re.emit("plotly_hover",{points:[m(ae,xe)],event:g.event})}}),Z.on("mouseout",function(ae){var he=re._fullLayout,xe=re._fullData[$.index],Me=g.select(this).datum();$._hasHoverEvent&&(ae.originalEvent=g.event,re.emit("plotly_unhover",{points:[m(Me,xe)],event:g.event}),$._hasHoverEvent=!1),$._hasHoverLabel&&(a.loneUnhover(he._hoverlayer.node()),$._hasHoverLabel=!1)}),Z.on("click",function(ae){var he=re._fullLayout,xe=re._fullData[$.index];re._dragging||he.hovermode===!1||(re._hoverdata=[m(ae,xe)],a.click(re,g.event))})}function p(Z,re,Y){var oe=l.castOption(Z.outsidetextfont.color,re.pts)||l.castOption(Z.textfont.color,re.pts)||Y.color,ue=l.castOption(Z.outsidetextfont.family,re.pts)||l.castOption(Z.textfont.family,re.pts)||Y.family,K=l.castOption(Z.outsidetextfont.size,re.pts)||l.castOption(Z.textfont.size,re.pts)||Y.size,$=l.castOption(Z.outsidetextfont.weight,re.pts)||l.castOption(Z.textfont.weight,re.pts)||Y.weight,le=l.castOption(Z.outsidetextfont.style,re.pts)||l.castOption(Z.textfont.style,re.pts)||Y.style,ae=l.castOption(Z.outsidetextfont.variant,re.pts)||l.castOption(Z.textfont.variant,re.pts)||Y.variant;return{color:oe,family:ue,size:K,weight:$,style:le,variant:ae}}function b(Z,re,Y){var oe=l.castOption(Z.insidetextfont.color,re.pts);!oe&&Z._input.textfont&&(oe=l.castOption(Z._input.textfont.color,re.pts));var ue=l.castOption(Z.insidetextfont.family,re.pts)||l.castOption(Z.textfont.family,re.pts)||Y.family,K=l.castOption(Z.insidetextfont.size,re.pts)||l.castOption(Z.textfont.size,re.pts)||Y.size,$=l.castOption(Z.insidetextfont.weight,re.pts)||l.castOption(Z.textfont.weight,re.pts)||Y.weight,le=l.castOption(Z.insidetextfont.style,re.pts)||l.castOption(Z.textfont.style,re.pts)||Y.style,ae=l.castOption(Z.insidetextfont.variant,re.pts)||l.castOption(Z.textfont.variant,re.pts)||Y.variant;return{color:oe||C.contrast(re.color),family:ue,size:K,weight:$,style:le,variant:ae}}function T(Z,re){for(var Y,oe,ue=0;ue<Z.length;ue++)if(Y=Z[ue][0],oe=Y.trace,oe.title.text){var K=oe.title.text;oe._meta&&(K=v.templateString(K,oe._meta));var $=S.tester.append("text").attr("data-notex",1).text(K).call(S.font,oe.title.font).call(t.convertToTspans,re),le=S.bBox($.node(),!0);Y.titleBox={width:le.width,height:le.height},$.remove()}}function P(Z,re,Y){var oe=Y.r||re.rpx1,ue=re.rInscribed,K=re.startangle===re.stopangle;if(K)return{rCenter:1-ue,scale:0,rotate:0,textPosAngle:0};var $=re.ring,le=$===1&&Math.abs(re.startangle-re.stopangle)===Math.PI*2,ae=re.halfangle,he=re.midangle,xe=Y.trace.insidetextorientation,Me=xe==="horizontal",Ae=xe==="tangential",ke=xe==="radial",we=xe==="auto",Ee=[],be;if(!we){var Le=function(lt,et){if(x(re,lt)){var ct=Math.abs(lt-re.startangle),ht=Math.abs(lt-re.stopangle),mt=ct<ht?ct:ht;et==="tan"?be=M(Z,oe,$,mt,0):be=L(Z,oe,$,mt,Math.PI/2),be.textPosAngle=lt,Ee.push(be)}},Ue;if(Me||Ae){for(Ue=4;Ue>=-4;Ue-=2)Le(Math.PI*Ue,"tan");for(Ue=4;Ue>=-4;Ue-=2)Le(Math.PI*(Ue+1),"tan")}if(Me||ke){for(Ue=4;Ue>=-4;Ue-=2)Le(Math.PI*(Ue+1.5),"rad");for(Ue=4;Ue>=-4;Ue-=2)Le(Math.PI*(Ue+.5),"rad")}}if(le||we||Me){var Ve=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if(be={scale:ue*oe*2/Ve,rCenter:1-ue,rotate:0},be.textPosAngle=(re.startangle+re.stopangle)/2,be.scale>=1)return be;Ee.push(be)}(we||ke)&&(be=L(Z,oe,$,ae,he),be.textPosAngle=(re.startangle+re.stopangle)/2,Ee.push(be)),(we||Ae)&&(be=M(Z,oe,$,ae,he),be.textPosAngle=(re.startangle+re.stopangle)/2,Ee.push(be));for(var Fe=0,He=0,st=0;st<Ee.length;st++){var vt=Ee[st].scale;if(He<vt&&(He=vt,Fe=st),!we&&He>=1)break}return Ee[Fe]}function x(Z,re){var Y=Z.startangle,oe=Z.stopangle;return Y>re&&re>oe||Y<re&&re<oe}function L(Z,re,Y,oe,ue){re=Math.max(0,re-2*u);var K=Z.width/Z.height,$=w(K,oe,re,Y);return{scale:$*2/Z.height,rCenter:s(K,$/re),rotate:E(ue)}}function M(Z,re,Y,oe,ue){re=Math.max(0,re-2*u);var K=Z.height/Z.width,$=w(K,oe,re,Y);return{scale:$*2/Z.width,rCenter:s(K,$/re),rotate:E(ue+Math.PI/2)}}function s(Z,re){return Math.cos(re)-Z*re}function E(Z){return(180/Math.PI*Z+720)%180-90}function w(Z,re,Y,oe){var ue=Z+1/(2*Math.tan(re));return Y*Math.min(1/(Math.sqrt(ue*ue+.5)+ue),oe/(Math.sqrt(Z*Z+oe/2)+Z))}function O(Z,re){return Z.v===re.vTotal&&!re.trace.hole?1:Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2)}function _(Z,re){var Y=re.pxmid[0],oe=re.pxmid[1],ue=Z.width/2,K=Z.height/2;return Y<0&&(ue*=-1),oe<0&&(K*=-1),{scale:1,rCenter:1,rotate:0,x:ue+Math.abs(K)*(ue>0?1:-1)/2,y:K/(1+Y*Y/(oe*oe)),outside:!0}}function U(Z){var re=Math.sqrt(Z.titleBox.width*Z.titleBox.width+Z.titleBox.height*Z.titleBox.height);return{x:Z.cx,y:Z.cy,scale:Z.trace.hole*Z.r*2/re,tx:0,ty:-Z.titleBox.height/2+Z.trace.title.font.size}}function z(Z,re){var Y=1,oe=1,ue,K=Z.trace,$={x:Z.cx,y:Z.cy},le={tx:0,ty:0};le.ty+=K.title.font.size,ue=N(K),K.title.position.indexOf("top")!==-1?($.y-=(1+ue)*Z.r,le.ty-=Z.titleBox.height):K.title.position.indexOf("bottom")!==-1&&($.y+=(1+ue)*Z.r);var ae=F(Z.r,Z.trace.aspectratio),he=re.w*(K.domain.x[1]-K.domain.x[0])/2;return K.title.position.indexOf("left")!==-1?(he=he+ae,$.x-=(1+ue)*ae,le.tx+=Z.titleBox.width/2):K.title.position.indexOf("center")!==-1?he*=2:K.title.position.indexOf("right")!==-1&&(he=he+ae,$.x+=(1+ue)*ae,le.tx-=Z.titleBox.width/2),Y=he/Z.titleBox.width,oe=B(Z,re)/Z.titleBox.height,{x:$.x,y:$.y,scale:Math.min(Y,oe),tx:le.tx,ty:le.ty}}function F(Z,re){return Z/(re===void 0?1:re)}function B(Z,re){var Y=Z.trace,oe=re.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(Z.titleBox.height,oe/2)}function N(Z){var re=Z.pull;if(!re)return 0;var Y;if(v.isArrayOrTypedArray(re))for(re=0,Y=0;Y<Z.pull.length;Y++)Z.pull[Y]>re&&(re=Z.pull[Y]);return re}function V(Z,re){var Y,oe,ue,K,$,le,ae,he,xe,Me,Ae,ke,we;function Ee(Ve,Fe){return Ve.pxmid[1]-Fe.pxmid[1]}function be(Ve,Fe){return Fe.pxmid[1]-Ve.pxmid[1]}function Le(Ve,Fe){Fe||(Fe={});var He=Fe.labelExtraY+(oe?Fe.yLabelMax:Fe.yLabelMin),st=oe?Ve.yLabelMin:Ve.yLabelMax,vt=oe?Ve.yLabelMax:Ve.yLabelMin,lt=Ve.cyFinal+$(Ve.px0[1],Ve.px1[1]),et=He-st,ct,ht,mt,xt,Mt,tt;if(et*ae>0&&(Ve.labelExtraY=et),!!v.isArrayOrTypedArray(re.pull))for(ht=0;ht<Me.length;ht++)mt=Me[ht],!(mt===Ve||(l.castOption(re.pull,Ve.pts)||0)>=(l.castOption(re.pull,mt.pts)||0))&&((Ve.pxmid[1]-mt.pxmid[1])*ae>0?(xt=mt.cyFinal+$(mt.px0[1],mt.px1[1]),et=xt-st-Ve.labelExtraY,et*ae>0&&(Ve.labelExtraY+=et)):(vt+Ve.labelExtraY-lt)*ae>0&&(ct=3*le*Math.abs(ht-Me.indexOf(Ve)),Mt=mt.cxFinal+K(mt.px0[0],mt.px1[0]),tt=Mt+ct-(Ve.cxFinal+Ve.pxmid[0])-Ve.labelExtraX,tt*le>0&&(Ve.labelExtraX+=tt)))}for(oe=0;oe<2;oe++)for(ue=oe?Ee:be,$=oe?Math.max:Math.min,ae=oe?1:-1,Y=0;Y<2;Y++){for(K=Y?Math.max:Math.min,le=Y?1:-1,he=Z[oe][Y],he.sort(ue),xe=Z[1-oe][Y],Me=xe.concat(he),ke=[],Ae=0;Ae<he.length;Ae++)he[Ae].yLabelMid!==void 0&&ke.push(he[Ae]);for(we=!1,Ae=0;oe&&Ae<xe.length;Ae++)if(xe[Ae].yLabelMid!==void 0){we=xe[Ae];break}for(Ae=0;Ae<ke.length;Ae++){var Ue=Ae&&ke[Ae-1];we&&!Ae&&(Ue=we),Le(ke[Ae],Ue)}}}function X(Z,re){for(var Y=[],oe=0;oe<Z.length;oe++){var ue=Z[oe][0],K=ue.trace,$=K.domain,le=re.w*($.x[1]-$.x[0]),ae=re.h*($.y[1]-$.y[0]);K.title.text&&K.title.position!=="middle center"&&(ae-=B(ue,re));var he=le/2,xe=ae/2;K.type==="funnelarea"&&!K.scalegroup&&(xe/=K.aspectratio),ue.r=Math.min(he,xe)/(1+N(K)),ue.cx=re.l+re.w*(K.domain.x[1]+K.domain.x[0])/2,ue.cy=re.t+re.h*(1-K.domain.y[0])-ae/2,K.title.text&&K.title.position.indexOf("bottom")!==-1&&(ue.cy-=B(ue,re)),K.scalegroup&&Y.indexOf(K.scalegroup)===-1&&Y.push(K.scalegroup)}q(Z,Y)}function q(Z,re){for(var Y,oe,ue,K=0;K<re.length;K++){var $=1/0,le=re[K];for(oe=0;oe<Z.length;oe++)if(Y=Z[oe][0],ue=Y.trace,ue.scalegroup===le){var ae;if(ue.type==="pie")ae=Y.r*Y.r;else if(ue.type==="funnelarea"){var he,xe;ue.aspectratio>1?(he=Y.r,xe=he/ue.aspectratio):(xe=Y.r,he=xe*ue.aspectratio),he*=(1+ue.baseratio)/2,ae=he*xe}$=Math.min($,ae/Y.vTotal)}for(oe=0;oe<Z.length;oe++)if(Y=Z[oe][0],ue=Y.trace,ue.scalegroup===le){var Me=$*Y.vTotal;ue.type==="funnelarea"&&(Me/=(1+ue.baseratio)/2,Me/=ue.aspectratio),Y.r=Math.sqrt(Me)}}}function te(Z){var re=Z[0],Y=re.r,oe=re.trace,ue=l.getRotationAngle(oe.rotation),K=2*Math.PI/re.vTotal,$="px0",le="px1",ae,he,xe;if(oe.direction==="counterclockwise"){for(ae=0;ae<Z.length&&Z[ae].hidden;ae++);if(ae===Z.length)return;ue+=K*Z[ae].v,K*=-1,$="px1",le="px0"}for(xe=ne(Y,ue),ae=0;ae<Z.length;ae++)he=Z[ae],!he.hidden&&(he[$]=xe,he.startangle=ue,ue+=K*he.v/2,he.pxmid=ne(Y,ue),he.midangle=ue,ue+=K*he.v/2,xe=ne(Y,ue),he.stopangle=ue,he[le]=xe,he.largeArc=he.v>re.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/re.vTotal,.5),he.ring=1-oe.hole,he.rInscribed=O(he,re))}function ne(Z,re){return[Z*Math.sin(re),-Z*Math.cos(re)]}function ce(Z,re,Y){var oe=Z._fullLayout,ue=Y.trace,K=ue.texttemplate,$=ue.textinfo;if(!K&&$&&$!=="none"){var le=$.split("+"),ae=function(Fe){return le.indexOf(Fe)!==-1},he=ae("label"),xe=ae("text"),Me=ae("value"),Ae=ae("percent"),ke=oe.separators,we;if(we=he?[re.label]:[],xe){var Ee=l.getFirstFilled(ue.text,re.pts);c(Ee)&&we.push(Ee)}Me&&we.push(l.formatPieValue(re.v,ke)),Ae&&we.push(l.formatPiePercent(re.v/Y.vTotal,ke)),re.text=we.join("<br>")}function be(Fe){return{label:Fe.label,value:Fe.v,valueLabel:l.formatPieValue(Fe.v,oe.separators),percent:Fe.v/Y.vTotal,percentLabel:l.formatPiePercent(Fe.v/Y.vTotal,oe.separators),color:Fe.color,text:Fe.text,customdata:v.castOption(ue,Fe.i,"customdata")}}if(K){var Le=v.castOption(ue,re.i,"texttemplate");if(!Le)re.text="";else{var Ue=be(re),Ve=l.getFirstFilled(ue.text,re.pts);(c(Ve)||Ve==="")&&(Ue.text=Ve),re.text=v.texttemplateString(Le,Ue,Z._fullLayout._d3locale,Ue,ue._meta||{})}}}function Q(Z,re){var Y=Z.rotate*Math.PI/180,oe=Math.cos(Y),ue=Math.sin(Y),K=(re.left+re.right)/2,$=(re.top+re.bottom)/2;Z.textX=K*oe-$*ue,Z.textY=K*ue+$*oe,Z.noCenter=!0}H.exports={plot:A,formatSliceLabel:ce,transformInsideText:P,determineInsideTextFont:b,positionTitleOutside:z,prerenderTitles:T,layoutAreas:X,attachFxHandlers:o,computeTransform:Q}},22152:function(H,G,e){var g=e(33428),R=e(10528),a=e(82744).resizeText;H.exports=function(S){var v=S._fullLayout._pielayer.selectAll(".trace");a(S,v,"pie"),v.each(function(d){var r=d[0],t=r.trace,i=g.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){g.select(this).call(R,n,t,S)})})}},10528:function(H,G,e){var g=e(76308),R=e(69656).castOption,a=e(21552);H.exports=function(S,v,d,r){var t=d.marker.line,i=R(t.color,v.pts)||g.defaultLine,n=R(t.width,v.pts)||0;S.call(a,v,d,r).style("stroke-width",n).call(g.stroke,i)}},35484:function(H,G,e){var g=e(52904);H.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(H,G,e){var g=e(67792).gl_pointcloud2d,R=e(3400).isArrayOrTypedArray,a=e(43080),C=e(19280).findExtremes,S=e(44928);function v(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var d=v.prototype;d.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[i*2],this.pickXYData[i*2+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:R(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},d.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=S(t,{})},d.updateFast=function(t){var i=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,f=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,m,c,A,h=this.bounds,o,p,b;if(f){if(A=f,m=f.length>>>1,u)h[0]=t.xbounds[0],h[2]=t.xbounds[1],h[1]=t.ybounds[0],h[3]=t.ybounds[1];else for(b=0;b<m;b++)o=A[b*2],p=A[b*2+1],o<h[0]&&(h[0]=o),o>h[2]&&(h[2]=o),p<h[1]&&(h[1]=p),p>h[3]&&(h[3]=p);if(l)c=l;else for(c=new Int32Array(m),b=0;b<m;b++)c[b]=b}else for(m=i.length,A=new Float32Array(2*m),c=new Int32Array(m),b=0;b<m;b++)o=i[b],p=n[b],c[b]=b,A[b*2]=o,A[b*2+1]=p,o<h[0]&&(h[0]=o),o>h[2]&&(h[2]=o),p<h[1]&&(h[1]=p),p>h[3]&&(h[3]=p);this.idToIndex=c,this.pointcloudOptions.idToIndex=c,this.pointcloudOptions.positions=A;var T=a(t.marker.color),P=a(t.marker.border.color),x=t.opacity*t.marker.opacity;T[3]*=x,this.pointcloudOptions.color=T;var L=t.marker.blend;if(L===null){var M=100;L=i.length<M||n.length<M}this.pointcloudOptions.blend=L,P[3]*=x,this.pointcloudOptions.borderColor=P;var s=t.marker.sizemin,E=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var w=this.scene.xaxis,O=this.scene.yaxis,_=E/2||.5;t._extremes[w._id]=C(w,[h[0],h[2]],{ppad:_}),t._extremes[O._id]=C(O,[h[1],h[3]],{ppad:_})},d.dispose=function(){this.pointcloud.dispose()};function r(t,i){var n=new v(t,i.uid);return n.update(i),n}H.exports=r},41904:function(H,G,e){var g=e(3400),R=e(35484);H.exports=function(C,S,v){function d(r,t){return g.coerce(C,S,R,r,t)}d("x"),d("y"),d("xbounds"),d("ybounds"),C.xy&&C.xy instanceof Float32Array&&(S.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(S.indices=C.indices),d("text"),d("marker.color",v),d("marker.opacity"),d("marker.blend"),d("marker.sizemin"),d("marker.sizemax"),d("marker.border.color",v),d("marker.border.arearatio"),S._length=null}},156:function(H,G,e){H.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(H,G,e){var g=e(25376),R=e(45464),a=e(22548),C=e(55756),S=e(86968).u,v=e(21776).Ks,d=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,i=e(92880).extendFlat,n=e(67824).overrideAll,f=H.exports=n({hoverinfo:i({},R.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:S({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:i(d().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},10760:function(H,G,e){var g=e(67824).overrideAll,R=e(84888)._M,a=e(59596),C=e(65460),S=e(93972),v=e(86476),d=e(22676).prepSelect,r=e(3400),t=e(24040),i="sankey";G.name=i,G.baseLayoutAttrOverrides=g({hoverlabel:C.hoverlabel},"plot","nested"),G.plot=function(f){var u=R(f.calcdata,i)[0];a(f,u),G.updateFx(f)},G.clean=function(f,u,l,m){var c=m._has&&m._has(i),A=u._has&&u._has(i);c&&!A&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},G.updateFx=function(f){for(var u=0;u<f._fullData.length;u++)n(f,u)};function n(f,u){var l=f._fullData[u],m=f._fullLayout,c=m.dragmode,A=m.dragmode==="pan"?"move":"crosshair",h=l._bgRect;if(h&&!(c==="pan"||c==="zoom")){S(h,A);var o={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},p={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},b={gd:f,element:h.node(),plotinfo:{id:u,xaxis:o,yaxis:p,fillRangeItems:r.noop},subplot:u,xaxes:[o],yaxes:[p],doneFnCompleted:function(T){var P=f._fullData[u],x,L=P.node.groups.slice(),M=[];function s(_){for(var U=P._sankey.graph.nodes,z=0;z<U.length;z++)if(U[z].pointNumber===_)return U[z]}for(var E=0;E<T.length;E++){var w=s(T[E].pointNumber);if(w)if(w.group){for(var O=0;O<w.childrenNodes.length;O++)M.push(w.childrenNodes[O].pointNumber);L[w.pointNumber-P.node._count]=!1}else M.push(w.pointNumber)}x=L.filter(Boolean).concat([M]),t.call("_guiRestyle",f,{"node.groups":[x]},u)}};b.prepFn=function(T,P,x){d(T,P,x,b,c)},v.init(b)}}},48068:function(H,G,e){var g=e(78484),R=e(3400),a=e(71688).wrap,C=R.isArrayOrTypedArray,S=R.isIndex,v=e(8932);function d(t){var i=t.node,n=t.link,f=[],u=C(n.color),l=C(n.hovercolor),m=C(n.customdata),c={},A={},h=n.colorscales.length,o;for(o=0;o<h;o++){var p=n.colorscales[o],b=v.extractScale(p,{cLetter:"c"}),T=v.makeColorScaleFunc(b);A[p.label]=T}var P=0;for(o=0;o<n.value.length;o++)n.source[o]>P&&(P=n.source[o]),n.target[o]>P&&(P=n.target[o]);var x=P+1;t.node._count=x;var L,M=t.node.groups,s={};for(o=0;o<M.length;o++){var E=M[o];for(L=0;L<E.length;L++){var w=E[L],O=x+o;s.hasOwnProperty(w)?R.warn("Node "+w+" is already part of a group."):s[w]=O}}var _={source:[],target:[]};for(o=0;o<n.value.length;o++){var U=n.value[o],z=n.source[o],F=n.target[o];if(U>0&&S(z,x)&&S(F,x)&&!(s.hasOwnProperty(z)&&s.hasOwnProperty(F)&&s[z]===s[F])){s.hasOwnProperty(F)&&(F=s[F]),s.hasOwnProperty(z)&&(z=s[z]),z=+z,F=+F,c[z]=c[F]=!0;var B="";n.label&&n.label[o]&&(B=n.label[o]);var N=null;B&&A.hasOwnProperty(B)&&(N=A[B]),f.push({pointNumber:o,label:B,color:u?n.color[o]:n.color,hovercolor:l?n.hovercolor[o]:n.hovercolor,customdata:m?n.customdata[o]:n.customdata,concentrationscale:N,source:z,target:F,value:+U}),_.source.push(z),_.target.push(F)}}var V=x+M.length,X=C(i.color),q=C(i.customdata),te=[];for(o=0;o<V;o++)if(c[o]){var ne=i.label[o];te.push({group:o>x-1,childrenNodes:[],pointNumber:o,label:ne,color:X?i.color[o]:i.color,customdata:q?i.customdata[o]:i.customdata})}var ce=!1;return r(V,_.source,_.target)&&(ce=!0),{circular:ce,links:f,nodes:te,groups:M,groupLookup:s}}function r(t,i,n){for(var f=R.init2dArray(t,0),u=0;u<Math.min(i.length,n.length);u++)if(R.isIndex(i[u],t)&&R.isIndex(n[u],t)){if(i[u]===n[u])return!0;f[i[u]].push(n[u])}var l=g(f);return l.components.some(function(m){return m.length>1})}H.exports=function(i,n){var f=d(n);return a({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},11820:function(H){H.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(H,G,e){var g=e(3400),R=e(41440),a=e(76308),C=e(49760),S=e(86968).Q,v=e(16132),d=e(31780),r=e(51272);H.exports=function(n,f,u,l){function m(O,_){return g.coerce(n,f,R,O,_)}var c=g.extendDeep(l.hoverlabel,n.hoverlabel),A=n.node,h=d.newContainer(f,"node");function o(O,_){return g.coerce(A,h,R.node,O,_)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(A,h,o,c),o("hovertemplate"),o("align");var p=l.colorway,b=function(O){return p[O%p.length]};o("color",h.label.map(function(O,_){return a.addOpacity(b(_),.8)})),o("customdata");var T=n.link||{},P=d.newContainer(f,"link");function x(O,_){return g.coerce(T,P,R.link,O,_)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",n.hoverinfo),v(T,P,x,c),x("hovertemplate");var L=C(l.paper_bgcolor).getLuminance()<.333,M=L?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=x("color",M);function E(O){var _=C(O);if(!_.isValid())return O;var U=_.getAlpha();return U<=.8?_.setAlpha(U+.2):_=L?_.brighten():_.darken(),_.toRgbString()}x("hovercolor",Array.isArray(s)?s.map(E):E(s)),x("customdata"),r(T,P,{name:"colorscales",handleItemDefaults:t}),S(f,l,m),m("orientation"),m("valueformat"),m("valuesuffix");var w;h.x.length&&h.y.length&&(w="freeform"),m("arrangement",w),g.coerceFont(m,"textfont",g.extendFlat({},l.font)),f._length=null};function t(i,n){function f(u,l){return g.coerce(i,n,R.link.colorscales,u,l)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},45499:function(H,G,e){H.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(H,G,e){var g=e(33428),R=e(3400),a=R.numberFormat,C=e(83248),S=e(93024),v=e(76308),d=e(11820).cn,r=R._;function t(p){return p!==""}function i(p,b){return p.filter(function(T){return T.key===b.traceId})}function n(p,b){g.select(p).select("path").style("fill-opacity",b),g.select(p).select("rect").style("fill-opacity",b)}function f(p){g.select(p).select("text.name").style("fill","black")}function u(p){return function(b){return p.node.sourceLinks.indexOf(b.link)!==-1||p.node.targetLinks.indexOf(b.link)!==-1}}function l(p){return function(b){return b.node.sourceLinks.indexOf(p.link)!==-1||b.node.targetLinks.indexOf(p.link)!==-1}}function m(p,b,T){b&&T&&i(T,b).selectAll("."+d.sankeyLink).filter(u(b)).call(A.bind(0,b,T,!1))}function c(p,b,T){b&&T&&i(T,b).selectAll("."+d.sankeyLink).filter(u(b)).call(h.bind(0,b,T,!1))}function A(p,b,T,P){P.style("fill",function(x){if(!x.link.concentrationscale)return x.tinyColorHoverHue}).style("fill-opacity",function(x){if(!x.link.concentrationscale)return x.tinyColorHoverAlpha}),P.each(function(x){var L=x.link.label;L!==""&&i(b,p).selectAll("."+d.sankeyLink).filter(function(M){return M.link.label===L}).style("fill",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverHue}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverAlpha})}),T&&i(b,p).selectAll("."+d.sankeyNode).filter(l(p)).call(m)}function h(p,b,T,P){P.style("fill",function(x){return x.tinyColorHue}).style("fill-opacity",function(x){return x.tinyColorAlpha}),P.each(function(x){var L=x.link.label;L!==""&&i(b,p).selectAll("."+d.sankeyLink).filter(function(M){return M.link.label===L}).style("fill",function(M){return M.tinyColorHue}).style("fill-opacity",function(M){return M.tinyColorAlpha})}),T&&i(b,p).selectAll(d.sankeyNode).filter(l(p)).call(c)}function o(p,b){var T=p.hoverlabel||{},P=R.nestedProperty(T,b).get();return Array.isArray(P)?!1:P}H.exports=function(b,T){for(var P=b._fullLayout,x=P._paper,L=P._size,M=0;M<b._fullData.length;M++)if(b._fullData[M].visible&&b._fullData[M].type===d.sankey&&!b._fullData[M]._viewInitial){var s=b._fullData[M].node;b._fullData[M]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var E=function(ne,ce){var Q=ce.link;Q.originalEvent=g.event,b._hoverdata=[Q],S.click(b,{target:!0})},w=function(ne,ce,Q){b._fullLayout.hovermode!==!1&&(g.select(ne).call(A.bind(0,ce,Q,!0)),ce.link.trace.link.hoverinfo!=="skip"&&(ce.link.fullData=ce.link.trace,b.emit("plotly_hover",{event:g.event,points:[ce.link]})))},O=r(b,"source:")+" ",_=r(b,"target:")+" ",U=r(b,"concentration:")+" ",z=r(b,"incoming flow count:")+" ",F=r(b,"outgoing flow count:")+" ",B=function(ne,ce){if(b._fullLayout.hovermode===!1)return;var Q=ce.link.trace.link;if(Q.hoverinfo==="none"||Q.hoverinfo==="skip")return;var Z=[];function re(ae){var he,xe;ae.circular?(he=(ae.circularPathData.leftInnerExtent+ae.circularPathData.rightInnerExtent)/2,xe=ae.circularPathData.verticalFullExtent):(he=(ae.source.x1+ae.target.x0)/2,xe=(ae.y0+ae.y1)/2);var Me=[he,xe];return ae.trace.orientation==="v"&&Me.reverse(),Me[0]+=ce.parent.translateX,Me[1]+=ce.parent.translateY,Me}for(var Y=0,oe=0;oe<ce.flow.links.length;oe++){var ue=ce.flow.links[oe];if(!(b._fullLayout.hovermode==="closest"&&ce.link.pointNumber!==ue.pointNumber)){ce.link.pointNumber===ue.pointNumber&&(Y=oe),ue.fullData=ue.trace,Q=ce.link.trace.link;var K=re(ue),$={valueLabel:a(ce.valueFormat)(ue.value)+ce.valueSuffix};Z.push({x:K[0],y:K[1],name:$.valueLabel,text:[ue.label||"",O+ue.source.label,_+ue.target.label,ue.concentrationscale?U+a("%0.2f")(ue.flow.labelConcentration):""].filter(t).join("<br>"),color:o(Q,"bgcolor")||v.addOpacity(ue.color,1),borderColor:o(Q,"bordercolor"),fontFamily:o(Q,"font.family"),fontSize:o(Q,"font.size"),fontColor:o(Q,"font.color"),fontWeight:o(Q,"font.weight"),fontStyle:o(Q,"font.style"),fontVariant:o(Q,"font.variant"),nameLength:o(Q,"namelength"),textAlign:o(Q,"align"),idealAlign:g.event.x<K[0]?"right":"left",hovertemplate:Q.hovertemplate,hovertemplateLabels:$,eventData:[ue]})}}var le=S.loneHover(Z,{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:b,anchorIndex:Y});le.each(function(){var ae=this;ce.link.concentrationscale||n(ae,.65),f(ae)})},N=function(ne,ce,Q){b._fullLayout.hovermode!==!1&&(g.select(ne).call(h.bind(0,ce,Q,!0)),ce.link.trace.link.hoverinfo!=="skip"&&(ce.link.fullData=ce.link.trace,b.emit("plotly_unhover",{event:g.event,points:[ce.link]})),S.loneUnhover(P._hoverlayer.node()))},V=function(ne,ce,Q){var Z=ce.node;Z.originalEvent=g.event,b._hoverdata=[Z],g.select(ne).call(c,ce,Q),S.click(b,{target:!0})},X=function(ne,ce,Q){b._fullLayout.hovermode!==!1&&(g.select(ne).call(m,ce,Q),ce.node.trace.node.hoverinfo!=="skip"&&(ce.node.fullData=ce.node.trace,b.emit("plotly_hover",{event:g.event,points:[ce.node]})))},q=function(ne,ce){if(b._fullLayout.hovermode!==!1){var Q=ce.node.trace.node;if(!(Q.hoverinfo==="none"||Q.hoverinfo==="skip")){var Z=g.select(ne).select("."+d.nodeRect),re=b._fullLayout._paperdiv.node().getBoundingClientRect(),Y=Z.node().getBoundingClientRect(),oe=Y.left-2-re.left,ue=Y.right+2-re.left,K=Y.top+Y.height/4-re.top,$={valueLabel:a(ce.valueFormat)(ce.node.value)+ce.valueSuffix};ce.node.fullData=ce.node.trace,b._fullLayout._calcInverseTransform(b);var le=b._fullLayout._invScaleX,ae=b._fullLayout._invScaleY,he=S.loneHover({x0:le*oe,x1:le*ue,y:ae*K,name:a(ce.valueFormat)(ce.node.value)+ce.valueSuffix,text:[ce.node.label,z+ce.node.targetLinks.length,F+ce.node.sourceLinks.length].filter(t).join("<br>"),color:o(Q,"bgcolor")||ce.tinyColorHue,borderColor:o(Q,"bordercolor"),fontFamily:o(Q,"font.family"),fontSize:o(Q,"font.size"),fontColor:o(Q,"font.color"),fontWeight:o(Q,"font.weight"),fontStyle:o(Q,"font.style"),fontVariant:o(Q,"font.variant"),nameLength:o(Q,"namelength"),textAlign:o(Q,"align"),idealAlign:"left",hovertemplate:Q.hovertemplate,hovertemplateLabels:$,eventData:[ce.node]},{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:b});n(he,.85),f(he)}}},te=function(ne,ce,Q){b._fullLayout.hovermode!==!1&&(g.select(ne).call(c,ce,Q),ce.node.trace.node.hoverinfo!=="skip"&&(ce.node.fullData=ce.node.trace,b.emit("plotly_unhover",{event:g.event,points:[ce.node]})),S.loneUnhover(P._hoverlayer.node()))};C(b,x,T,{width:L.w,height:L.h,margin:{t:L.t,r:L.r,b:L.b,l:L.l}},{linkEvents:{hover:w,follow:B,unhover:N,select:E},nodeEvents:{hover:X,follow:q,unhover:te,select:V}})}},83248:function(H,G,e){var g=e(49812),R=e(67756).Gz,a=e(33428),C=e(26800),S=e(48932),v=e(11820),d=e(49760),r=e(76308),t=e(43616),i=e(3400),n=i.strTranslate,f=i.strRotate,u=e(71688),l=u.keyFun,m=u.repeat,c=u.unwrap,A=e(72736),h=e(24040),o=e(84284),p=o.CAP_SHIFT,b=o.LINE_SPACING,T=3;function P(re,Y,oe){var ue=c(Y),K=ue.trace,$=K.domain,le=K.orientation==="h",ae=K.node.pad,he=K.node.thickness,xe={justify:C.sankeyJustify,left:C.sankeyLeft,right:C.sankeyRight,center:C.sankeyCenter}[K.node.align],Me=re.width*($.x[1]-$.x[0]),Ae=re.height*($.y[1]-$.y[0]),ke=ue._nodes,we=ue._links,Ee=ue.circular,be;Ee?be=S.sankeyCircular().circularLinkGap(0):be=C.sankey(),be.iterations(v.sankeyIterations).size(le?[Me,Ae]:[Ae,Me]).nodeWidth(he).nodePadding(ae).nodeId(function(tt){return tt.pointNumber}).nodeAlign(xe).nodes(ke).links(we);var Le=be();be.nodePadding()<ae&&i.warn("node.pad was reduced to ",be.nodePadding()," to fit within the figure.");var Ue,Ve,Fe;for(var He in ue._groupLookup){var st=parseInt(ue._groupLookup[He]),vt;for(Ue=0;Ue<Le.nodes.length;Ue++)if(Le.nodes[Ue].pointNumber===st){vt=Le.nodes[Ue];break}if(vt){var lt={pointNumber:parseInt(He),x0:vt.x0,x1:vt.x1,y0:vt.y0,y1:vt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Le.nodes.unshift(lt),vt.childrenNodes.unshift(lt)}}function et(){for(Ue=0;Ue<Le.nodes.length;Ue++){var tt=Le.nodes[Ue],Oe={},Ye,Ze;for(Ve=0;Ve<tt.targetLinks.length;Ve++)Ze=tt.targetLinks[Ve],Ye=Ze.source.pointNumber+":"+Ze.target.pointNumber,Oe.hasOwnProperty(Ye)||(Oe[Ye]=[]),Oe[Ye].push(Ze);var We=Object.keys(Oe);for(Ve=0;Ve<We.length;Ve++){Ye=We[Ve];var _e=Oe[Ye],Ie=0,Xe={};for(Fe=0;Fe<_e.length;Fe++)Ze=_e[Fe],Xe[Ze.label]||(Xe[Ze.label]=0),Xe[Ze.label]+=Ze.value,Ie+=Ze.value;for(Fe=0;Fe<_e.length;Fe++)Ze=_e[Fe],Ze.flow={value:Ie,labelConcentration:Xe[Ze.label]/Ie,concentration:Ze.value/Ie,links:_e},Ze.concentrationscale&&(Ze.color=d(Ze.concentrationscale(Ze.flow.labelConcentration)))}var De=0;for(Ve=0;Ve<tt.sourceLinks.length;Ve++)De+=tt.sourceLinks[Ve].value;for(Ve=0;Ve<tt.sourceLinks.length;Ve++)Ze=tt.sourceLinks[Ve],Ze.concentrationOut=Ze.value/De;var de=0;for(Ve=0;Ve<tt.targetLinks.length;Ve++)de+=tt.targetLinks[Ve].value;for(Ve=0;Ve<tt.targetLinks.length;Ve++)Ze=tt.targetLinks[Ve],Ze.concenrationIn=Ze.value/de}}et();function ct(tt){tt.forEach(function(Oe){var Ye,Ze,We=0,_e=Oe.length,Ie;for(Oe.sort(function(Xe,De){return Xe.y0-De.y0}),Ie=0;Ie<_e;++Ie)Ye=Oe[Ie],Ye.y0>=We||(Ze=We-Ye.y0,Ze>1e-6&&(Ye.y0+=Ze,Ye.y1+=Ze)),We=Ye.y1+ae})}function ht(tt){var Oe=tt.map(function(De,de){return{x0:De.x0,index:de}}).sort(function(De,de){return De.x0-de.x0}),Ye=[],Ze=-1,We,_e=-1/0,Ie;for(Ue=0;Ue<Oe.length;Ue++){var Xe=tt[Oe[Ue].index];Xe.x0>_e+he&&(Ze+=1,We=Xe.x0),_e=Xe.x0,Ye[Ze]||(Ye[Ze]=[]),Ye[Ze].push(Xe),Ie=We-Xe.x0,Xe.x0+=Ie,Xe.x1+=Ie}return Ye}if(K.node.x.length&&K.node.y.length){for(Ue=0;Ue<Math.min(K.node.x.length,K.node.y.length,Le.nodes.length);Ue++)if(K.node.x[Ue]&&K.node.y[Ue]){var mt=[K.node.x[Ue]*Me,K.node.y[Ue]*Ae];Le.nodes[Ue].x0=mt[0]-he/2,Le.nodes[Ue].x1=mt[0]+he/2;var xt=Le.nodes[Ue].y1-Le.nodes[Ue].y0;Le.nodes[Ue].y0=mt[1]-xt/2,Le.nodes[Ue].y1=mt[1]+xt/2}if(K.arrangement==="snap"){ke=Le.nodes;var Mt=ht(ke);ct(Mt)}be.update(Le)}return{circular:Ee,key:oe,trace:K,guid:i.randstr(),horizontal:le,width:Me,height:Ae,nodePad:K.node.pad,nodeLineColor:K.node.line.color,nodeLineWidth:K.node.line.width,linkLineColor:K.link.line.color,linkLineWidth:K.link.line.width,linkArrowLength:K.link.arrowlen,valueFormat:K.valueformat,valueSuffix:K.valuesuffix,textFont:K.textfont,translateX:$.x[0]*re.width+re.margin.l,translateY:re.height-$.y[1]*re.height+re.margin.t,dragParallel:le?Ae:Me,dragPerpendicular:le?Me:Ae,arrangement:K.arrangement,sankey:be,graph:Le,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(re,Y,oe){var ue=d(Y.color),K=d(Y.hovercolor),$=Y.source.label+"|"+Y.target.label,le=$+"__"+oe;return Y.trace=re.trace,Y.curveNumber=re.trace.index,{circular:re.circular,key:le,traceId:re.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:r.tinyRGB(ue),tinyColorAlpha:ue.getAlpha(),tinyColorHoverHue:r.tinyRGB(K),tinyColorHoverAlpha:K.getAlpha(),linkPath:M,linkLineColor:re.linkLineColor,linkLineWidth:re.linkLineWidth,linkArrowLength:re.linkArrowLength,valueFormat:re.valueFormat,valueSuffix:re.valueSuffix,sankey:re.sankey,parent:re,interactionState:re.interactionState,flow:Y.flow}}function L(re,Y){var oe="",ue=re.width/2,K=re.circularPathData;return re.circularLinkType==="top"?oe="M "+(K.targetX-Y)+" "+(K.targetY+ue)+" L"+(K.rightInnerExtent-Y)+" "+(K.targetY+ue)+"A"+(K.rightLargeArcRadius+ue)+" "+(K.rightSmallArcRadius+ue)+" 0 0 1 "+(K.rightFullExtent-ue-Y)+" "+(K.targetY-K.rightSmallArcRadius)+"L"+(K.rightFullExtent-ue-Y)+" "+K.verticalRightInnerExtent+"A"+(K.rightLargeArcRadius+ue)+" "+(K.rightLargeArcRadius+ue)+" 0 0 1 "+(K.rightInnerExtent-Y)+" "+(K.verticalFullExtent-ue)+"L"+K.leftInnerExtent+" "+(K.verticalFullExtent-ue)+"A"+(K.leftLargeArcRadius+ue)+" "+(K.leftLargeArcRadius+ue)+" 0 0 1 "+(K.leftFullExtent+ue)+" "+K.verticalLeftInnerExtent+"L"+(K.leftFullExtent+ue)+" "+(K.sourceY-K.leftSmallArcRadius)+"A"+(K.leftLargeArcRadius+ue)+" "+(K.leftSmallArcRadius+ue)+" 0 0 1 "+K.leftInnerExtent+" "+(K.sourceY+ue)+"L"+K.sourceX+" "+(K.sourceY+ue)+"L"+K.sourceX+" "+(K.sourceY-ue)+"L"+K.leftInnerExtent+" "+(K.sourceY-ue)+"A"+(K.leftLargeArcRadius-ue)+" "+(K.leftSmallArcRadius-ue)+" 0 0 0 "+(K.leftFullExtent-ue)+" "+(K.sourceY-K.leftSmallArcRadius)+"L"+(K.leftFullExtent-ue)+" "+K.verticalLeftInnerExtent+"A"+(K.leftLargeArcRadius-ue)+" "+(K.leftLargeArcRadius-ue)+" 0 0 0 "+K.leftInnerExtent+" "+(K.verticalFullExtent+ue)+"L"+(K.rightInnerExtent-Y)+" "+(K.verticalFullExtent+ue)+"A"+(K.rightLargeArcRadius-ue)+" "+(K.rightLargeArcRadius-ue)+" 0 0 0 "+(K.rightFullExtent+ue-Y)+" "+K.verticalRightInnerExtent+"L"+(K.rightFullExtent+ue-Y)+" "+(K.targetY-K.rightSmallArcRadius)+"A"+(K.rightLargeArcRadius-ue)+" "+(K.rightSmallArcRadius-ue)+" 0 0 0 "+(K.rightInnerExtent-Y)+" "+(K.targetY-ue)+"L"+(K.targetX-Y)+" "+(K.targetY-ue)+(Y>0?"L"+K.targetX+" "+K.targetY:"")+"Z":oe="M "+(K.targetX-Y)+" "+(K.targetY-ue)+" L"+(K.rightInnerExtent-Y)+" "+(K.targetY-ue)+"A"+(K.rightLargeArcRadius+ue)+" "+(K.rightSmallArcRadius+ue)+" 0 0 0 "+(K.rightFullExtent-ue-Y)+" "+(K.targetY+K.rightSmallArcRadius)+"L"+(K.rightFullExtent-ue-Y)+" "+K.verticalRightInnerExtent+"A"+(K.rightLargeArcRadius+ue)+" "+(K.rightLargeArcRadius+ue)+" 0 0 0 "+(K.rightInnerExtent-Y)+" "+(K.verticalFullExtent+ue)+"L"+K.leftInnerExtent+" "+(K.verticalFullExtent+ue)+"A"+(K.leftLargeArcRadius+ue)+" "+(K.leftLargeArcRadius+ue)+" 0 0 0 "+(K.leftFullExtent+ue)+" "+K.verticalLeftInnerExtent+"L"+(K.leftFullExtent+ue)+" "+(K.sourceY+K.leftSmallArcRadius)+"A"+(K.leftLargeArcRadius+ue)+" "+(K.leftSmallArcRadius+ue)+" 0 0 0 "+K.leftInnerExtent+" "+(K.sourceY-ue)+"L"+K.sourceX+" "+(K.sourceY-ue)+"L"+K.sourceX+" "+(K.sourceY+ue)+"L"+K.leftInnerExtent+" "+(K.sourceY+ue)+"A"+(K.leftLargeArcRadius-ue)+" "+(K.leftSmallArcRadius-ue)+" 0 0 1 "+(K.leftFullExtent-ue)+" "+(K.sourceY+K.leftSmallArcRadius)+"L"+(K.leftFullExtent-ue)+" "+K.verticalLeftInnerExtent+"A"+(K.leftLargeArcRadius-ue)+" "+(K.leftLargeArcRadius-ue)+" 0 0 1 "+K.leftInnerExtent+" "+(K.verticalFullExtent-ue)+"L"+(K.rightInnerExtent-Y)+" "+(K.verticalFullExtent-ue)+"A"+(K.rightLargeArcRadius-ue)+" "+(K.rightLargeArcRadius-ue)+" 0 0 1 "+(K.rightFullExtent+ue-Y)+" "+K.verticalRightInnerExtent+"L"+(K.rightFullExtent+ue-Y)+" "+(K.targetY+K.rightSmallArcRadius)+"A"+(K.rightLargeArcRadius-ue)+" "+(K.rightSmallArcRadius-ue)+" 0 0 1 "+(K.rightInnerExtent-Y)+" "+(K.targetY+ue)+"L"+(K.targetX-Y)+" "+(K.targetY+ue)+(Y>0?"L"+K.targetX+" "+K.targetY:"")+"Z",oe}function M(){var re=.5;function Y(oe){var ue=oe.linkArrowLength;if(oe.link.circular)return L(oe.link,ue);var K=Math.abs((oe.link.target.x0-oe.link.source.x1)/2);ue>K&&(ue=K);var $=oe.link.source.x1,le=oe.link.target.x0-ue,ae=R($,le),he=ae(re),xe=ae(1-re),Me=oe.link.y0-oe.link.width/2,Ae=oe.link.y0+oe.link.width/2,ke=oe.link.y1-oe.link.width/2,we=oe.link.y1+oe.link.width/2,Ee="M"+$+","+Me,be="C"+he+","+Me+" "+xe+","+ke+" "+le+","+ke,Le="C"+xe+","+we+" "+he+","+Ae+" "+$+","+Ae,Ue=ue>0?"L"+(le+ue)+","+(ke+oe.link.width/2):"";return Ue+="L"+le+","+we,Ee+be+Ue+Le+"Z"}return Y}function s(re,Y){var oe=d(Y.color),ue=v.nodePadAcross,K=re.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var $=Y.dx,le=Math.max(.5,Y.dy),ae="node_"+Y.pointNumber;return Y.group&&(ae=i.randstr()),Y.trace=re.trace,Y.curveNumber=re.trace.index,{index:Y.pointNumber,key:ae,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:re.key,trace:re.trace,node:Y,nodePad:re.nodePad,nodeLineColor:re.nodeLineColor,nodeLineWidth:re.nodeLineWidth,textFont:re.textFont,size:re.horizontal?re.height:re.width,visibleWidth:Math.ceil($),visibleHeight:le,zoneX:-ue,zoneY:-K,zoneWidth:$+2*ue,zoneHeight:le+2*K,labelY:re.horizontal?Y.dy/2+1:Y.dx/2+1,left:Y.originalLayer===1,sizeAcross:re.width,forceLayouts:re.forceLayouts,horizontal:re.horizontal,darkBackground:oe.getBrightness()<=128,tinyColorHue:r.tinyRGB(oe),tinyColorAlpha:oe.getAlpha(),valueFormat:re.valueFormat,valueSuffix:re.valueSuffix,sankey:re.sankey,graph:re.graph,arrangement:re.arrangement,uniqueNodeLabelPathId:[re.guid,re.key,ae].join("_"),interactionState:re.interactionState,figure:re}}function E(re){re.attr("transform",function(Y){return n(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function w(re){re.call(E)}function O(re,Y){re.call(w),Y.attr("d",M())}function _(re){re.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function U(re){return re.link.width>1||re.linkLineWidth>0}function z(re){var Y=n(re.translateX,re.translateY);return Y+(re.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function F(re,Y,oe){re.on(".basic",null).on("mouseover.basic",function(ue){!ue.interactionState.dragInProgress&&!ue.partOfGroup&&(oe.hover(this,ue,Y),ue.interactionState.hovered=[this,ue])}).on("mousemove.basic",function(ue){!ue.interactionState.dragInProgress&&!ue.partOfGroup&&(oe.follow(this,ue),ue.interactionState.hovered=[this,ue])}).on("mouseout.basic",function(ue){!ue.interactionState.dragInProgress&&!ue.partOfGroup&&(oe.unhover(this,ue,Y),ue.interactionState.hovered=!1)}).on("click.basic",function(ue){ue.interactionState.hovered&&(oe.unhover(this,ue,Y),ue.interactionState.hovered=!1),!ue.interactionState.dragInProgress&&!ue.partOfGroup&&oe.select(this,ue,Y)})}function B(re,Y,oe,ue){var K=a.behavior.drag().origin(function($){return{x:$.node.x0+$.visibleWidth/2,y:$.node.y0+$.visibleHeight/2}}).on("dragstart",function($){if($.arrangement!=="fixed"&&(i.ensureSingle(ue._fullLayout._infolayer,"g","dragcover",function(ae){ue._fullLayout._dragCover=ae}),i.raiseToTop(this),$.interactionState.dragInProgress=$.node,ne($.node),$.interactionState.hovered&&(oe.nodeEvents.unhover.apply(0,$.interactionState.hovered),$.interactionState.hovered=!1),$.arrangement==="snap")){var le=$.traceId+"|"+$.key;$.forceLayouts[le]?$.forceLayouts[le].alpha(1):N(re,le,$),V(re,Y,$,le,ue)}}).on("drag",function($){if($.arrangement!=="fixed"){var le=a.event.x,ae=a.event.y;$.arrangement==="snap"?($.node.x0=le-$.visibleWidth/2,$.node.x1=le+$.visibleWidth/2,$.node.y0=ae-$.visibleHeight/2,$.node.y1=ae+$.visibleHeight/2):($.arrangement==="freeform"&&($.node.x0=le-$.visibleWidth/2,$.node.x1=le+$.visibleWidth/2),ae=Math.max(0,Math.min($.size-$.visibleHeight/2,ae)),$.node.y0=ae-$.visibleHeight/2,$.node.y1=ae+$.visibleHeight/2),ne($.node),$.arrangement!=="snap"&&($.sankey.update($.graph),O(re.filter(ce($)),Y))}}).on("dragend",function($){if($.arrangement!=="fixed"){$.interactionState.dragInProgress=!1;for(var le=0;le<$.node.childrenNodes.length;le++)$.node.childrenNodes[le].x=$.node.x,$.node.childrenNodes[le].y=$.node.y;$.arrangement!=="snap"&&q($,ue)}});re.on(".drag",null).call(K)}function N(re,Y,oe,ue){Q(oe.graph.nodes);var K=oe.graph.nodes.filter(function($){return $.originalX===oe.node.originalX}).filter(function($){return!$.partOfGroup});oe.forceLayouts[Y]=g.forceSimulation(K).alphaDecay(0).force("collide",g.forceCollide().radius(function($){return $.dy/2+oe.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",X(re,Y,K,oe)).stop()}function V(re,Y,oe,ue,K){window.requestAnimationFrame(function $(){var le;for(le=0;le<v.forceTicksPerFrame;le++)oe.forceLayouts[ue].tick();var ae=oe.graph.nodes;if(Z(ae),oe.sankey.update(oe.graph),O(re.filter(ce(oe)),Y),oe.forceLayouts[ue].alpha()>0)window.requestAnimationFrame($);else{var he=oe.node.originalX;oe.node.x0=he-oe.visibleWidth/2,oe.node.x1=he+oe.visibleWidth/2,q(oe,K)}})}function X(re,Y,oe,ue){return function(){for(var $=0,le=0;le<oe.length;le++){var ae=oe[le];ae===ue.interactionState.dragInProgress?(ae.x=ae.lastDraggedX,ae.y=ae.lastDraggedY):(ae.vx=(ae.originalX-ae.x)/v.forceTicksPerFrame,ae.y=Math.min(ue.size-ae.dy/2,Math.max(ae.dy/2,ae.y))),$=Math.max($,Math.abs(ae.vx),Math.abs(ae.vy))}!ue.interactionState.dragInProgress&&$<.1&&ue.forceLayouts[Y].alpha()>0&&ue.forceLayouts[Y].alpha(0)}}function q(re,Y){for(var oe=[],ue=[],K=0;K<re.graph.nodes.length;K++){var $=(re.graph.nodes[K].x0+re.graph.nodes[K].x1)/2,le=(re.graph.nodes[K].y0+re.graph.nodes[K].y1)/2;oe.push($/re.figure.width),ue.push(le/re.figure.height)}h.call("_guiRestyle",Y,{"node.x":[oe],"node.y":[ue]},re.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function te(re){var Y=[],oe;for(oe=0;oe<re.length;oe++)re[oe].originalX=(re[oe].x0+re[oe].x1)/2,re[oe].originalY=(re[oe].y0+re[oe].y1)/2,Y.indexOf(re[oe].originalX)===-1&&Y.push(re[oe].originalX);for(Y.sort(function(ue,K){return ue-K}),oe=0;oe<re.length;oe++)re[oe].originalLayerIndex=Y.indexOf(re[oe].originalX),re[oe].originalLayer=re[oe].originalLayerIndex/(Y.length-1)}function ne(re){re.lastDraggedX=re.x0+re.dx/2,re.lastDraggedY=re.y0+re.dy/2}function ce(re){return function(Y){return Y.node.originalX===re.node.originalX}}function Q(re){for(var Y=0;Y<re.length;Y++)re[Y].y=(re[Y].y0+re[Y].y1)/2,re[Y].x=(re[Y].x0+re[Y].x1)/2}function Z(re){for(var Y=0;Y<re.length;Y++)re[Y].y0=re[Y].y-re[Y].dy/2,re[Y].y1=re[Y].y0+re[Y].dy,re[Y].x0=re[Y].x-re[Y].dx/2,re[Y].x1=re[Y].x0+re[Y].dx}H.exports=function(re,Y,oe,ue,K){var $=re._context.staticPlot,le=!1;i.ensureSingle(re._fullLayout._infolayer,"g","first-render",function(){le=!0});var ae=re._fullLayout._dragCover,he=oe.filter(function(Le){return c(Le).trace.visible}).map(P.bind(null,ue)),xe=Y.selectAll("."+v.cn.sankey).data(he,l);xe.exit().remove(),xe.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",$?"none":"auto").attr("transform",z),xe.each(function(Le,Ue){re._fullData[Ue]._sankey=Le;var Ve="bgsankey-"+Le.trace.uid+"-"+Ue;i.ensureSingle(re._fullLayout._draggers,"rect",Ve),re._fullData[Ue]._bgRect=a.select("."+Ve),re._fullData[Ue]._bgRect.style("pointer-events",$?"none":"all").attr("width",Le.width).attr("height",Le.height).attr("x",Le.translateX).attr("y",Le.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),xe.transition().ease(v.ease).duration(v.duration).attr("transform",z);var Me=xe.selectAll("."+v.cn.sankeyLinks).data(m,l);Me.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Ae=Me.selectAll("."+v.cn.sankeyLink).data(function(Le){var Ue=Le.graph.links;return Ue.filter(function(Ve){return Ve.value}).map(x.bind(null,Le))},l);Ae.enter().append("path").classed(v.cn.sankeyLink,!0).call(F,xe,K.linkEvents),Ae.style("stroke",function(Le){return U(Le)?r.tinyRGB(d(Le.linkLineColor)):Le.tinyColorHue}).style("stroke-opacity",function(Le){return U(Le)?r.opacity(Le.linkLineColor):Le.tinyColorAlpha}).style("fill",function(Le){return Le.tinyColorHue}).style("fill-opacity",function(Le){return Le.tinyColorAlpha}).style("stroke-width",function(Le){return U(Le)?Le.linkLineWidth:1}).attr("d",M()),Ae.style("opacity",function(){return re._context.staticPlot||le||ae?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Ae.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var ke=xe.selectAll("."+v.cn.sankeyNodeSet).data(m,l);ke.enter().append("g").classed(v.cn.sankeyNodeSet,!0),ke.style("cursor",function(Le){switch(Le.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var we=ke.selectAll("."+v.cn.sankeyNode).data(function(Le){var Ue=Le.graph.nodes;return te(Ue),Ue.map(s.bind(null,Le))},l);we.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(Le){return(re._context.staticPlot||le)&&!Le.partOfGroup?1:0}),we.call(F,xe,K.nodeEvents).call(B,Ae,K,re),we.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(Le){return Le.partOfGroup?0:1}),we.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ee=we.selectAll("."+v.cn.nodeRect).data(m);Ee.enter().append("rect").classed(v.cn.nodeRect,!0).call(_),Ee.style("stroke-width",function(Le){return Le.nodeLineWidth}).style("stroke",function(Le){return r.tinyRGB(d(Le.nodeLineColor))}).style("stroke-opacity",function(Le){return r.opacity(Le.nodeLineColor)}).style("fill",function(Le){return Le.tinyColorHue}).style("fill-opacity",function(Le){return Le.tinyColorAlpha}),Ee.transition().ease(v.ease).duration(v.duration).call(_);var be=we.selectAll("."+v.cn.nodeLabel).data(m);be.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(Le){return Le.node.label}).each(function(Le){var Ue=a.select(this);t.font(Ue,Le.textFont),A.convertToTspans(Ue,re)}).style("text-shadow",A.makeTextShadow(re._fullLayout.paper_bgcolor)).attr("text-anchor",function(Le){return Le.horizontal&&Le.left?"end":"start"}).attr("transform",function(Le){var Ue=a.select(this),Ve=A.lineCount(Ue),Fe=Le.textFont.size*((Ve-1)*b-p),He=Le.nodeLineWidth/2+T,st=((Le.horizontal?Le.visibleHeight:Le.visibleWidth)-Fe)/2;Le.horizontal&&(Le.left?He=-He:He+=Le.visibleWidth);var vt=Le.horizontal?"":"scale(-1,1)"+f(90);return n(Le.horizontal?He:st,Le.horizontal?st:He)+vt}),be.transition().ease(v.ease).duration(v.duration)}},81128:function(H){H.exports=function(e,g){for(var R=e.cd,a=[],C=R[0].trace,S=C._sankey.graph.nodes,v=0;v<S.length;v++){var d=S[v];if(!d.partOfGroup){var r=[(d.x0+d.x1)/2,(d.y0+d.y1)/2];C.orientation==="v"&&r.reverse(),g&&g.contains(r,!1,v,e)&&a.push({pointNumber:d.pointNumber})}}return a}},20148:function(H,G,e){var g=e(3400);H.exports=function(a,C){for(var S=0;S<a.length;S++)a[S].i=S;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.texttemplate,a,"txt"),g.mergeArray(C.hovertext,a,"htx"),g.mergeArray(C.customdata,a,"data"),g.mergeArray(C.textposition,a,"tp"),C.textfont&&(g.mergeArrayCastPositive(C.textfont.size,a,"ts"),g.mergeArray(C.textfont.color,a,"tc"),g.mergeArray(C.textfont.family,a,"tf"),g.mergeArray(C.textfont.weight,a,"tw"),g.mergeArray(C.textfont.style,a,"ty"),g.mergeArray(C.textfont.variant,a,"tv"));var v=C.marker;if(v){g.mergeArrayCastPositive(v.size,a,"ms"),g.mergeArrayCastPositive(v.opacity,a,"mo"),g.mergeArray(v.symbol,a,"mx"),g.mergeArray(v.angle,a,"ma"),g.mergeArray(v.standoff,a,"mf"),g.mergeArray(v.color,a,"mc");var d=v.line;v.line&&(g.mergeArray(d.color,a,"mlc"),g.mergeArrayCastPositive(d.width,a,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(g.mergeArray(r.type,a,"mgt"),g.mergeArray(r.color,a,"mgc"))}}},52904:function(H,G,e){var g=e(29736).axisHoverFormat,R=e(21776).Gw,a=e(21776).Ks,C=e(49084),S=e(25376),v=e(98192).u,d=e(98192).c,r=e(43616),t=e(88200),i=e(92880).extendFlat,n=e(98304);function f(m){return{valType:"any",dflt:0,editType:"calc"}}function u(m){return{valType:"any",editType:"calc"}}function l(m){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}H.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:u(),yperiod0:u(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:R({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:i({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:i({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:d,marker:i({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:i({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:S({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(H,G,e){var g=e(38248),R=e(3400),a=e(54460),C=e(1220),S=e(39032).BADNUM,v=e(43028),d=e(90136),r=e(20148),t=e(4500);function i(c,A){var h=c._fullLayout,o=A._xA=a.getFromId(c,A.xaxis||"x","x"),p=A._yA=a.getFromId(c,A.yaxis||"y","y"),b=o.makeCalcdata(A,"x"),T=p.makeCalcdata(A,"y"),P=C(A,o,"x",b),x=C(A,p,"y",T),L=P.vals,M=x.vals,s=A._length,E=new Array(s),w=A.ids,O=m(A,h,o,p),_=!1,U,z,F,B,N,V;u(h,A);var X="x",q="y",te;if(O)R.pushUnique(O.traceIndices,A._expandedIndex),U=O.orientation==="v",U?(q="s",te="x"):(X="s",te="y"),N=O.stackgaps==="interpolate";else{var ne=f(A,s);n(c,A,o,p,L,M,ne)}var ce=!!A.xperiodalignment,Q=!!A.yperiodalignment;for(z=0;z<s;z++){var Z=E[z]={},re=g(L[z]),Y=g(M[z]);re&&Y?(Z[X]=L[z],Z[q]=M[z],ce&&(Z.orig_x=b[z],Z.xEnd=P.ends[z],Z.xStart=P.starts[z]),Q&&(Z.orig_y=T[z],Z.yEnd=x.ends[z],Z.yStart=x.starts[z])):O&&(U?re:Y)?(Z[te]=U?L[z]:M[z],Z.gap=!0,N?(Z.s=S,_=!0):Z.s=0):Z[X]=Z[q]=S,w&&(Z.id=String(w[z]))}if(r(E,A),d(c,A),t(E,A),O){for(z=0;z<E.length;)E[z][te]===S?E.splice(z,1):z++;if(R.sort(E,function($,le){return $[te]-le[te]||$.i-le.i}),_){for(z=0;z<E.length-1&&E[z].gap;)z++;for(V=E[z].s,V||(V=E[z].s=0),F=0;F<z;F++)E[F].s=V;for(B=E.length-1;B>z&&E[B].gap;)B--;for(V=E[B].s,F=E.length-1;F>B;F--)E[F].s=V;for(;z<B;)if(z++,E[z].gap){for(F=z+1;E[F].gap;)F++;for(var oe=E[z-1][te],ue=E[z-1].s,K=(E[F].s-ue)/(E[F][te]-oe);z<F;)E[z].s=ue+(E[z][te]-oe)*K,z++}}}return E}function n(c,A,h,o,p,b,T){var P=A._length,x=c._fullLayout,L=h._id,M=o._id,s=x._firstScatter[l(A)]===A.uid,E=(m(A,x,h,o)||{}).orientation,w=A.fill;h._minDtick=0,o._minDtick=0;var O={padded:!0},_={padded:!0};T&&(O.ppad=_.ppad=T);var U=P<2||p[0]!==p[P-1]||b[0]!==b[P-1];U&&(w==="tozerox"||w==="tonextx"&&(s||E==="h"))?O.tozero=!0:!(A.error_y||{}).visible&&(w==="tonexty"||w==="tozeroy"||!v.hasMarkers(A)&&!v.hasText(A))&&(O.padded=!1,O.ppad=0),U&&(w==="tozeroy"||w==="tonexty"&&(s||E==="v"))?_.tozero=!0:(w==="tonextx"||w==="tozerox")&&(_.padded=!1),L&&(A._extremes[L]=a.findExtremes(h,p,O)),M&&(A._extremes[M]=a.findExtremes(o,b,_))}function f(c,A){if(v.hasMarkers(c)){var h=c.marker,o=1.6*(c.marker.sizeref||1),p;if(c.marker.sizemode==="area"?p=function(L){return Math.max(Math.sqrt((L||0)/o),3)}:p=function(L){return Math.max((L||0)/o,3)},R.isArrayOrTypedArray(h.size)){var b={type:"linear"};a.setConvert(b);for(var T=b.makeCalcdata(c.marker,"size"),P=new Array(A),x=0;x<A;x++)P[x]=p(T[x]);return P}else return p(h.size)}}function u(c,A){var h=l(A),o=c._firstScatter;o[h]||(o[h]=A.uid)}function l(c){var A=c.stackgroup;return c.xaxis+c.yaxis+c.type+(A?"-"+A:"")}function m(c,A,h,o){var p=c.stackgroup;if(p){var b=A._scatterStackOpts[h._id+o._id][p],T=b.orientation==="v"?o:h;if(T.type==="linear"||T.type==="log")return b}}H.exports={calc:i,calcMarkerSize:f,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:m}},4500:function(H,G,e){var g=e(3400);H.exports=function(a,C){g.isArrayOrTypedArray(C.selectedpoints)&&g.tagSelected(a,C)}},90136:function(H,G,e){var g=e(94288).hasColorscale,R=e(47128),a=e(43028);H.exports=function(S,v){a.hasLines(v)&&g(v,"line")&&R(S,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(g(v,"marker")&&R(S,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&R(S,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(H){H.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(H,G,e){var g=e(16356),R=e(96376).setGroupPositions;function a(v,d){for(var r=d.xaxis,t=d.yaxis,i=v._fullLayout,n=v._fullData,f=v.calcdata,u=[],l=[],m=0;m<n.length;m++){var c=n[m];c.visible===!0&&c.type==="scatter"&&c.xaxis===r._id&&c.yaxis===t._id&&(c.orientation==="h"?u.push(f[m]):c.orientation==="v"&&l.push(f[m]))}var A={mode:i.scattermode,gap:i.scattergap};R(v,r,t,l,A),R(v,t,r,u,A)}H.exports=function(d,r){d._fullLayout.scattermode==="group"&&a(d,r);var t=r.xaxis,i=r.yaxis,n=t._id+i._id,f=d._fullLayout._scatterStackOpts[n];if(f){var u=d.calcdata,l,m,c,A,h,o,p,b,T,P,x,L,M,s,E;for(var w in f){P=f[w];var O=P.traceIndices;if(O.length){for(x=P.stackgaps==="interpolate",L=P.groupnorm,P.orientation==="v"?(M="x",s="y"):(M="y",s="x"),E=new Array(O.length),l=0;l<E.length;l++)E[l]=!1;o=u[O[0]];var _=new Array(o.length);for(l=0;l<o.length;l++)_[l]=o[l][M];for(l=1;l<O.length;l++){for(h=u[O[l]],m=c=0;m<h.length;m++){for(p=h[m][M];p>_[c]&&c<_.length;c++)C(h,m,_[c],l,E,x,M),m++;if(p!==_[c]){for(A=0;A<l;A++)C(u[O[A]],c,p,A,E,x,M);_.splice(c,0,p)}c++}for(;c<_.length;c++)C(h,m,_[c],l,E,x,M),m++}var U=_.length;for(m=0;m<o.length;m++){for(b=o[m][s]=o[m].s,l=1;l<O.length;l++)h=u[O[l]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=U,b+=h[m].s,h[m][s]=b;if(L)for(T=(L==="fraction"?b:b/100)||1,l=0;l<O.length;l++){var z=u[O[l]][m];z[s]/=T,z.sNorm=z.s/T}}for(l=0;l<O.length;l++){h=u[O[l]];var F=h[0].trace,B=g.calcMarkerSize(F,F._rawLength),N=Array.isArray(B);if(B&&E[l]||N){var V=B;for(B=new Array(U),m=0;m<U;m++)B[m]=h[m].gap?0:N?V[h[m].i]:V}var X=new Array(U),q=new Array(U);for(m=0;m<U;m++)X[m]=h[m].x,q[m]=h[m].y;g.calcAxisExpansion(d,F,t,i,X,q,B),h[0].t.orientation=P.orientation}}}}};function C(v,d,r,t,i,n,f){i[t]=!0;var u={i:null,gap:!0,s:0};if(u[f]=r,v.splice(d,0,u),d&&r===v[d-1][f]){var l=v[d-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else n&&(u.s=S(v,d,r,f));d||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function S(v,d,r,t){var i=v[d-1],n=v[d+1];return n?i?i.s+(n.s-i.s)*(r-i[t])/(n[t]-i[t]):n.s:i.s}},35036:function(H,G,e){var g=e(3400),R=e(20011),a=e(52904);H.exports=function(S,v){var d,r,t;function i(m){return g.coerce(r._input,r,a,m)}if(v.scattermode==="group")for(t=0;t<S.length;t++)r=S[t],r.type==="scatter"&&(d=r._input,R(d,r,v,i));for(t=0;t<S.length;t++){var n=S[t];if(n.type==="scatter"){var f=n.fill;if(!(f==="none"||f==="toself")&&(n.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var u=t-1;u>=0;u--){var l=S[u];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(H,G,e){var g=e(3400),R=e(24040),a=e(52904),C=e(88200),S=e(43028),v=e(43980),d=e(31147),r=e(43912),t=e(74428),i=e(66828),n=e(11731),f=e(124),u=e(70840),l=e(3400).coercePattern;H.exports=function(c,A,h,o){function p(E,w){return g.coerce(c,A,a,E,w)}var b=v(c,A,o,p);if(b||(A.visible=!1),!!A.visible){d(c,A,o,p),p("xhoverformat"),p("yhoverformat"),p("zorder");var T=r(c,A,o,p);o.scattermode==="group"&&A.orientation===void 0&&p("orientation","v");var P=!T&&b<C.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",P),S.hasMarkers(A)&&t(c,A,h,o,p,{gradient:!0}),S.hasLines(A)&&(i(c,A,h,o,p,{backoff:!0}),n(c,A,p),p("connectgaps"),p("line.simplify")),S.hasText(A)&&(p("texttemplate"),f(c,A,o,p));var x=[];(S.hasMarkers(A)||S.hasText(A))&&(p("cliponaxis"),p("marker.maxdisplayed"),x.push("points")),p("fill",T?T.fillDflt:"none"),A.fill!=="none"&&(u(c,A,h,p,{moduleHasFillgradient:!0}),S.hasLines(A)||n(c,A,p),l(p,"fillpattern",A.fillcolor,!1));var L=(A.line||{}).color,M=(A.marker||{}).color;(A.fill==="tonext"||A.fill==="toself")&&x.push("fills"),p("hoveron",x.join("+")||"points"),A.hoveron!=="fills"&&p("hovertemplate");var s=R.getComponentMethod("errorbars","supplyDefaults");s(c,A,L||M||h,{axis:"y"}),s(c,A,L||M||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(A,p)}}},98304:function(H){H.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(H,G,e){var g=e(76308),R=e(3400).isArrayOrTypedArray;function a(C){for(var S=g.interpolate(C[0][1],C[1][1],.5),v=2;v<C.length;v++){var d=g.interpolate(C[v-1][1],C[v][1],.5);S=g.interpolate(S,d,C[v-1][0]/C[v][0])}return S}H.exports=function(S,v,d,r,t){t||(t={});var i=!1;if(v.marker){var n=v.marker.color,f=(v.marker.line||{}).color;n&&!R(n)?i=n:f&&!R(f)&&(i=f)}var u;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var m=r("fillgradient.colorscale");m&&(u=a(m))}}r("fillcolor",g.addOpacity((v.line||{}).color||i||u||d,.5))}},76688:function(H,G,e){var g=e(54460);H.exports=function(a,C,S){var v={},d={_fullLayout:S},r=g.getFromTrace(d,C,"x"),t=g.getFromTrace(d,C,"y"),i=a.orig_x;i===void 0&&(i=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=g.tickText(r,r.c2l(i),!0).text,v.yLabel=g.tickText(t,t.c2l(n),!0).text,v}},44928:function(H,G,e){var g=e(76308),R=e(43028);H.exports=function(C,S){var v,d;if(C.mode==="lines")return v=C.line.color,v&&g.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var r=S.mcc||(C.marker||{}).color,t=S.mlcc||((C.marker||{}).line||{}).color;return d=r&&g.opacity(r)?r:t&&g.opacity(t)&&(S.mlw||((C.marker||{}).line||{}).width)?t:"",d?g.opacity(d)<.3?g.addOpacity(d,.3):d:(v=(C.line||{}).color,v&&g.opacity(v)&&R.hasLines(C)&&C.line.width?v:C.fillcolor)}},20011:function(H,G,e){var g=e(71888).getAxisGroup;H.exports=function(a,C,S,v){var d=C.orientation,r=C[{v:"x",h:"y"}[d]+"axis"],t=g(S,r)+d,i=S._alignmentOpts||{},n=v("alignmentgroup"),f=i[t];f||(f=i[t]={});var u=f[n];u?u.traces.push(C):u=f[n]={traces:[C],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var l=v("offsetgroup"),m=u.offsetGroups,c=m[l];l&&(c||(c=m[l]={offsetIndex:Object.keys(m).length}),C._offsetIndex=c.offsetIndex)}},98723:function(H,G,e){var g=e(3400),R=e(93024),a=e(24040),C=e(44928),S=e(76308),v=g.fillText;H.exports=function(r,t,i,n){var f=r.cd,u=f[0].trace,l=r.xa,m=r.ya,c=l.c2p(t),A=m.c2p(i),h=[c,A],o=u.hoveron||"",p=u.mode.indexOf("markers")!==-1?3:.5,b=!!u.xperiodalignment,T=!!u.yperiodalignment;if(o.indexOf("points")!==-1){var P=function(te){if(b){var ne=l.c2p(te.xStart),ce=l.c2p(te.xEnd);return c>=Math.min(ne,ce)&&c<=Math.max(ne,ce)?0:1/0}var Q=Math.max(3,te.mrc||0),Z=1-1/Q,re=Math.abs(l.c2p(te.x)-c);return re<Q?Z*re/Q:re-Q+Z},x=function(te){if(T){var ne=m.c2p(te.yStart),ce=m.c2p(te.yEnd);return A>=Math.min(ne,ce)&&A<=Math.max(ne,ce)?0:1/0}var Q=Math.max(3,te.mrc||0),Z=1-1/Q,re=Math.abs(m.c2p(te.y)-A);return re<Q?Z*re/Q:re-Q+Z},L=function(te){var ne=Math.max(p,te.mrc||0),ce=l.c2p(te.x)-c,Q=m.c2p(te.y)-A;return Math.max(Math.sqrt(ce*ce+Q*Q)-ne,1-p/ne)},M=R.getDistanceFunction(n,P,x,L);if(R.getClosest(f,M,r),r.index!==!1){var s=f[r.index],E=l.c2p(s.x,!0),w=m.c2p(s.y,!0),O=s.mrc||1;r.index=s.i;var _=f[0].t.orientation,U=_&&(s.sNorm||s.s),z=_==="h"?U:s.orig_x!==void 0?s.orig_x:s.x,F=_==="v"?U:s.orig_y!==void 0?s.orig_y:s.y;return g.extendFlat(r,{color:C(u,s),x0:E-O,x1:E+O,xLabelVal:z,y0:w-O,y1:w+O,yLabelVal:F,spikeDistance:L(s),hovertemplate:u.hovertemplate}),v(s,u,r),a.getComponentMethod("errorbars","hoverInfo")(s,u,r),[r]}}function B(te){if(!te)return!1;var ne=te.node();try{var ce=new DOMPoint(h[0],h[1]);return ne.isPointInFill(ce)}catch{var Q=ne.ownerSVGElement.createSVGPoint();return Q.x=h[0],Q.y=h[1],ne.isPointInFill(Q)}}function N(te){var ne,ce=[],Q=1/0,Z=-1/0,re=1/0,Y=-1/0,oe;for(ne=0;ne<te.length;ne++){var ue=te[ne];ue.contains(h)&&(ce.push(ue),re=Math.min(re,ue.ymin),Y=Math.max(Y,ue.ymax))}if(ce.length===0)return null;re=Math.max(re,0),Y=Math.min(Y,m._length),oe=(re+Y)/2;var K,$,le,ae,he,xe,Me;for(ne=0;ne<ce.length;ne++)for($=ce[ne].pts,K=1;K<$.length;K++)xe=$[K-1][1],Me=$[K][1],xe>oe!=Me>=oe&&(ae=$[K-1][0],he=$[K][0],Me-xe&&(le=ae+(he-ae)*(oe-xe)/(Me-xe),Q=Math.min(Q,le),Z=Math.max(Z,le)));return Q=Math.max(Q,0),Z=Math.min(Z,l._length),{x0:Q,x1:Z,y0:oe,y1:oe}}if(o.indexOf("fills")!==-1&&u._fillElement){var V=B(u._fillElement)&&!B(u._fillExclusionElement);if(V){var X=N(u._polygons);X===null&&(X={x0:h[0],x1:h[0],y0:h[1],y1:h[1]});var q=S.defaultLine;return S.opacity(u.fillcolor)?q=u.fillcolor:S.opacity((u.line||{}).color)&&(q=u.line.color),g.extendFlat(r,{distance:r.maxHoverDistance,x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1,color:q,hovertemplate:!1}),delete r.index,u.text&&!g.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(H,G,e){var g=e(43028);H.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(H){H.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(H,G,e){var g=e(3400),R=e(55308);H.exports=function(a,C){function S(d,r){return g.coerce(a,C,R,d,r)}var v=C.barmode==="group";C.scattermode==="group"&&S("scattergap",v?C.bargap:.2)}},66828:function(H,G,e){var g=e(3400).isArrayOrTypedArray,R=e(94288).hasColorscale,a=e(27260);H.exports=function(S,v,d,r,t,i){i||(i={});var n=(S.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",d),R(S,"line"))a(S,v,r,t,{prefix:"line.",cLetter:"c"});else{var f=(g(n)?!1:n)||d;t("line.color",f)}t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(H,G,e){var g=e(43616),R=e(39032),a=R.BADNUM,C=R.LOG_CLIP,S=C+.5,v=C-.5,d=e(3400),r=d.segmentsIntersect,t=d.constrain,i=e(88200);H.exports=function(f,u){var l=u.trace||{},m=u.xaxis,c=u.yaxis,A=m.type==="log",h=c.type==="log",o=m._length,p=c._length,b=u.backoff,T=l.marker,P=u.connectGaps,x=u.baseTolerance,L=u.shape,M=L==="linear",s=l.fill&&l.fill!=="none",E=[],w=i.minTolerance,O=f.length,_=new Array(O),U=0,z,F,B,N,V,X,q,te,ne,ce,Q,Z,re,Y,oe,ue;function K(at){var it=f[at];if(!it)return!1;var Wt=u.linearized?m.l2p(it.x):m.c2p(it.x),Yt=u.linearized?c.l2p(it.y):c.c2p(it.y);if(Wt===a){if(A&&(Wt=m.c2p(it.x,!0)),Wt===a)return!1;h&&Yt===a&&(Wt*=Math.abs(m._m*p*(m._m>0?S:v)/(c._m*o*(c._m>0?S:v)))),Wt*=1e3}if(Yt===a){if(h&&(Yt=c.c2p(it.y,!0)),Yt===a)return!1;Yt*=1e3}return[Wt,Yt]}function $(at,it,Wt,Yt){var Tt=Wt-at,Lt=Yt-it,Xt=.5-at,Tr=.5-it,gt=Tt*Tt+Lt*Lt,Kt=Tt*Xt+Lt*Tr;if(Kt>0&&Kt<gt){var Qt=Xt*Lt-Tr*Tt;if(Qt*Qt<gt)return!0}}var le,ae;function he(at,it){var Wt=at[0]/o,Yt=at[1]/p,Tt=Math.max(0,-Wt,Wt-1,-Yt,Yt-1);return Tt&&le!==void 0&&$(Wt,Yt,le,ae)&&(Tt=0),Tt&&it&&$(Wt,Yt,it[0]/o,it[1]/p)&&(Tt=0),(1+i.toleranceGrowth*Tt)*x}function xe(at,it){var Wt=at[0]-it[0],Yt=at[1]-it[1];return Math.sqrt(Wt*Wt+Yt*Yt)}var Me=i.maxScreensAway,Ae=-o*Me,ke=o*(1+Me),we=-p*Me,Ee=p*(1+Me),be=[[Ae,we,ke,we],[ke,we,ke,Ee],[ke,Ee,Ae,Ee],[Ae,Ee,Ae,we]],Le,Ue,Ve,Fe,He,st;function vt(at,it){for(var Wt=[],Yt=0,Tt=0;Tt<4;Tt++){var Lt=be[Tt],Xt=r(at[0],at[1],it[0],it[1],Lt[0],Lt[1],Lt[2],Lt[3]);Xt&&(!Yt||Math.abs(Xt.x-Wt[0][0])>1||Math.abs(Xt.y-Wt[0][1])>1)&&(Xt=[Xt.x,Xt.y],Yt&&xe(Xt,at)<xe(Wt[0],at)?Wt.unshift(Xt):Wt.push(Xt),Yt++)}return Wt}function lt(at){if(at[0]<Ae||at[0]>ke||at[1]<we||at[1]>Ee)return[t(at[0],Ae,ke),t(at[1],we,Ee)]}function et(at,it){if(at[0]===it[0]&&(at[0]===Ae||at[0]===ke)||at[1]===it[1]&&(at[1]===we||at[1]===Ee))return!0}function ct(at,it){var Wt=[],Yt=lt(at),Tt=lt(it);return Yt&&Tt&&et(Yt,Tt)||(Yt&&Wt.push(Yt),Tt&&Wt.push(Tt)),Wt}function ht(at,it,Wt){return function(Yt,Tt){var Lt=lt(Yt),Xt=lt(Tt),Tr=[];if(Lt&&Xt&&et(Lt,Xt))return Tr;Lt&&Tr.push(Lt),Xt&&Tr.push(Xt);var gt=2*d.constrain((Yt[at]+Tt[at])/2,it,Wt)-((Lt||Yt)[at]+(Xt||Tt)[at]);if(gt){var Kt;Lt&&Xt?Kt=gt>0==Lt[at]>Xt[at]?Lt:Xt:Kt=Lt||Xt,Kt[at]+=gt}return Tr}}var mt;L==="linear"||L==="spline"?mt=vt:L==="hv"||L==="vh"?mt=ct:L==="hvh"?mt=ht(0,Ae,ke):L==="vhv"&&(mt=ht(1,we,Ee));function xt(at,it){var Wt=it[0]-at[0],Yt=(it[1]-at[1])/Wt,Tt=(at[1]*it[0]-it[1]*at[0])/Wt;return Tt>0?[Yt>0?Ae:ke,Ee]:[Yt>0?ke:Ae,we]}function Mt(at){var it=at[0],Wt=at[1],Yt=it===_[U-1][0],Tt=Wt===_[U-1][1];if(!(Yt&&Tt))if(U>1){var Lt=it===_[U-2][0],Xt=Wt===_[U-2][1];Yt&&(it===Ae||it===ke)&&Lt?Xt?U--:_[U-1]=at:Tt&&(Wt===we||Wt===Ee)&&Xt?Lt?U--:_[U-1]=at:_[U++]=at}else _[U++]=at}function tt(at){_[U-1][0]!==at[0]&&_[U-1][1]!==at[1]&&Mt([Ve,Fe]),Mt(at),He=null,Ve=Fe=0}var Oe=d.isArrayOrTypedArray(T);function Ye(at){if(at&&b&&(at.i=z,at.d=f,at.trace=l,at.marker=Oe?T[at.i]:T,at.backoff=b),le=at[0]/o,ae=at[1]/p,Le=at[0]<Ae?Ae:at[0]>ke?ke:0,Ue=at[1]<we?we:at[1]>Ee?Ee:0,Le||Ue){if(!U)_[U++]=[Le||at[0],Ue||at[1]];else if(He){var it=mt(He,at);it.length>1&&(tt(it[0]),_[U++]=it[1])}else st=mt(_[U-1],at)[0],_[U++]=st;var Wt=_[U-1];Le&&Ue&&(Wt[0]!==Le||Wt[1]!==Ue)?(He&&(Ve!==Le&&Fe!==Ue?Mt(Ve&&Fe?xt(He,at):[Ve||Le,Fe||Ue]):Ve&&Fe&&Mt([Ve,Fe])),Mt([Le,Ue])):Ve-Le&&Fe-Ue&&Mt([Le||Ve,Ue||Fe]),He=at,Ve=Le,Fe=Ue}else He&&tt(mt(He,at)[0]),_[U++]=at}for(z=0;z<O;z++)if(F=K(z),!!F){for(U=0,He=null,Ye(F),z++;z<O;z++){if(N=K(z),!N){if(P)continue;break}if(!M||!u.simplify){Ye(N);continue}var Ze=K(z+1);if(ce=xe(N,F),!(!(s&&(U===0||U===O-1))&&ce<he(N,Ze)*w)){for(te=[(N[0]-F[0])/ce,(N[1]-F[1])/ce],V=F,Q=ce,Z=Y=oe=0,q=!1,B=N,z++;z<f.length;z++){if(X=Ze,Ze=K(z+1),!X){if(P)continue;break}if(ne=[X[0]-F[0],X[1]-F[1]],ue=ne[0]*te[1]-ne[1]*te[0],Y=Math.min(Y,ue),oe=Math.max(oe,ue),oe-Y>he(X,Ze))break;B=X,re=ne[0]*te[0]+ne[1]*te[1],re>Q?(Q=re,N=X,q=!1):re<Z&&(Z=re,V=X,q=!0)}if(q?(Ye(N),B!==V&&Ye(V)):(V!==F&&Ye(V),B!==N&&Ye(N)),Ye(B),z>=f.length||!X)break;Ye(X),F=X}}He&&Mt([Ve||He[0],Fe||He[1]]),E.push(_.slice(0,U))}var We=L.slice(L.length-1);if(b&&We!=="h"&&We!=="v"){for(var _e=!1,Ie=-1,Xe=[],De=0;De<E.length;De++)for(var de=0;de<E[De].length-1;de++){var Te=E[De][de],Be=E[De][de+1],Qe=g.applyBackoff(Be,Te);(Qe[0]!==Be[0]||Qe[1]!==Be[1])&&(_e=!0),Xe[Ie+1]||(Ie++,Xe[Ie]=[Te,[Qe[0],Qe[1]]])}return _e?Xe:E}return E}},11731:function(H){H.exports=function(e,g,R){var a=R("line.shape");a==="spline"&&R("line.smoothing")}},14328:function(H){var G={tonextx:1,tonexty:1,tonext:1};H.exports=function(g,R,a){var C,S,v,d,r,t={},i=!1,n=-1,f=0,u=-1;for(S=0;S<a.length;S++)C=a[S][0].trace,v=C.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=f,f++):C.fill in G&&u>=0?r=u:(r=u=f,f++),r<n&&(i=!0),C._groupIndex=n=r;var l=a.slice();i&&l.sort(function(c,A){var h=c[0].trace,o=A[0].trace;return h._groupIndex-o._groupIndex||h.index-o.index});var m={};for(S=0;S<l.length;S++)C=l[S][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in G&&(d=m[v],C._prevtrace=d||null,d&&(d._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),m[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return l}},7152:function(H,G,e){var g=e(38248);H.exports=function(a,C){C||(C=2);var S=a.marker,v=S.sizeref||1,d=S.sizemin||0,r=S.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var i=r(t/C);return g(i)&&i>0?Math.max(i,d):0}}},5528:function(H){H.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(H,G,e){var g=e(76308),R=e(94288).hasColorscale,a=e(27260),C=e(43028);H.exports=function(v,d,r,t,i,n){var f=C.isBubble(v),u=(v.line||{}).color,l;if(n=n||{},u&&(r=u),i("marker.symbol"),i("marker.opacity",f?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",r),R(v,"marker")&&a(v,d,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&d.marker.color!==u?l=u:f?l=g.background:l=g.defaultLine,i("marker.line.color",l),R(v,"marker.line")&&a(v,d,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",f?1:0)),f&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient){var m=i("marker.gradient.type");m!=="none"&&i("marker.gradient.color")}}},31147:function(H,G,e){var g=e(3400).dateTick0,R=e(39032),a=R.ONEWEEK;function C(S,v){return S%a===0?g(v,1):g(v,0)}H.exports=function(v,d,r,t,i){if(i||(i={x:!0,y:!0}),i.x){var n=t("xperiod");n&&(t("xperiod0",C(n,d.xcalendar)),t("xperiodalignment"))}if(i.y){var f=t("yperiod");f&&(t("yperiod0",C(f,d.ycalendar)),t("yperiodalignment"))}}},96504:function(H,G,e){var g=e(33428),R=e(24040),a=e(3400),C=a.ensureSingle,S=a.identity,v=e(43616),d=e(43028),r=e(52340),t=e(14328),i=e(92065).tester;H.exports=function(m,c,A,h,o,p){var b,T,P=!o,x=!!o&&o.duration>0,L=t(m,c,A);if(b=h.selectAll("g.trace").data(L,function(s){return s[0].trace.uid}),b.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),b.order(),n(m,b,c),x){p&&(T=p());var M=g.transition().duration(o.duration).ease(o.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()});M.each(function(){h.selectAll("g.trace").each(function(s,E){f(m,E,c,s,L,this,o)})})}else b.each(function(s,E){f(m,E,c,s,L,this,o)});P&&b.exit().remove(),h.selectAll("path:not([d])").remove()};function n(l,m,c){m.each(function(A){var h=C(g.select(this),"g","fills");v.setClipUrl(h,c.layerClipId,l);var o=A[0].trace,p=[];o._ownfill&&p.push("_ownFill"),o._nexttrace&&p.push("_nextFill");var b=h.selectAll("g").data(p,S);b.enter().append("g"),b.exit().each(function(T){o[T]=null}).remove(),b.order().each(function(T){o[T]=C(g.select(this),"path","js-fill")})})}function f(l,m,c,A,h,o,p){var b=l._context.staticPlot,T;u(l,m,c,A,h);var P=!!p&&p.duration>0;function x(Mt){return P?Mt.transition():Mt}var L=c.xaxis,M=c.yaxis,s=A[0].trace,E=s.line,w=g.select(o),O=C(w,"g","errorbars"),_=C(w,"g","lines"),U=C(w,"g","points"),z=C(w,"g","text");if(R.getComponentMethod("errorbars","plot")(l,O,c,p),s.visible!==!0)return;x(w).style("opacity",s.opacity);var F,B,N=s.fill.charAt(s.fill.length-1);N!=="x"&&N!=="y"&&(N="");var V,X;N==="y"?(V=1,X=M.c2p(0,!0)):N==="x"&&(V=0,X=L.c2p(0,!0)),A[0][c.isRangePlot?"nodeRangePlot3":"node3"]=w;var q="",te=[],ne=s._prevtrace,ce=null,Q=null;ne&&(q=ne._prevRevpath||"",B=ne._nextFill,te=ne._ownPolygons,ce=ne._fillsegments,Q=ne._fillElement);var Z,re,Y="",oe="",ue,K,$,le,ae,he,xe=[];s._polygons=[];var Me=[],Ae=[],ke=a.noop;if(F=s._ownFill,d.hasLines(s)||s.fill!=="none"){B&&B.datum(A),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(ue=v.steps(E.shape),K=v.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?ue=K=function(Mt){var tt=Mt[Mt.length-1];return Mt.length>1&&Mt[0][0]===tt[0]&&Mt[0][1]===tt[1]?v.smoothclosed(Mt.slice(1),E.smoothing):v.smoothopen(Mt,E.smoothing)}:ue=K=function(Mt){return"M"+Mt.join("L")},$=function(Mt){return K(Mt.reverse())},Ae=r(A,{xaxis:L,yaxis:M,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:s.fill}),Me=new Array(Ae.length);var we=0;for(T=0;T<Ae.length;T++){var Ee,be=Ae[T];!Ee||!N?(Ee=be.slice(),Me[we]=Ee,we++):Ee.push.apply(Ee,be)}s._fillElement=null,s._fillExclusionElement=Q,s._fillsegments=Me.slice(0,we),Me=s._fillsegments,Ae.length&&(le=Ae[0][0].slice(),ae=Ae[Ae.length-1],he=ae[ae.length-1].slice()),ke=function(Mt){return function(tt){if(Z=ue(tt),re=$(tt),Y?N?(Y+="L"+Z.substr(1),oe=re+("L"+oe.substr(1))):(Y+="Z"+Z,oe=re+"Z"+oe):(Y=Z,oe=re),d.hasLines(s)){var Oe=g.select(this);if(Oe.datum(A),Mt)x(Oe.style("opacity",0).attr("d",Z).call(v.lineGroupStyle)).style("opacity",1);else{var Ye=x(Oe);Ye.attr("d",Z),v.singleLineStyle(A,Ye)}}}}}var Le=_.selectAll(".js-line").data(Ae);x(Le.exit()).style("opacity",0).remove(),Le.each(ke(!1)),Le.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ke(!0)),v.setClipUrl(Le,c.layerClipId,l);function Ue(Mt){x(Mt).attr("d","M0,0Z")}var Ve=function(){var Mt=new Array(Me.length);for(T=0;T<Me.length;T++)Mt[T]=i(Me[T]);return Mt},Fe=function(Mt){var tt,Oe;if(!Mt||Mt.length===0)for(tt=new Array(Me.length),Oe=0;Oe<Me.length;Oe++){var Ye=Me[Oe][0].slice(),Ze=Me[Oe][Me[Oe].length-1].slice();Ye[V]=Ze[V]=X;var We=[Ze,Ye],_e=We.concat(Me[Oe]);tt[Oe]=i(_e)}else{for(tt=new Array(Mt.length-1+Me.length),Oe=0;Oe<Mt.length-1;Oe++)tt[Oe]=i(Mt[Oe]);var Ie=Mt[Mt.length-1].slice();for(Ie.reverse(),Oe=0;Oe<Me.length;Oe++)tt[Mt.length-1+Oe]=i(Me[Oe].concat(Ie))}return tt};Ae.length?(F?(F.datum(A),le&&he&&(N?(le[V]=he[V]=X,x(F).attr("d","M"+he+"L"+le+"L"+Y.substr(1)).call(v.singleFillStyle,l),xe=Fe(null)):(x(F).attr("d",Y+"Z").call(v.singleFillStyle,l),xe=Ve())),s._polygons=xe,s._fillElement=F):B&&(s.fill.substr(0,6)==="tonext"&&Y&&q?(s.fill==="tonext"?(x(B).attr("d",Y+"Z"+q+"Z").call(v.singleFillStyle,l),xe=Ve(),s._polygons=xe.concat(te)):(x(B).attr("d",Y+"L"+q.substr(1)+"Z").call(v.singleFillStyle,l),xe=Fe(ce),s._polygons=xe),s._fillElement=B):Ue(B)),s._prevRevpath=oe):(F?Ue(F):B&&Ue(B),s._prevRevpath=null),s._ownPolygons=xe;function He(Mt){return Mt.filter(function(tt){return!tt.gap&&tt.vis})}function st(Mt){return Mt.filter(function(tt){return tt.vis})}function vt(Mt){return Mt.filter(function(tt){return!tt.gap})}function lt(Mt){return Mt.id}function et(Mt){if(Mt.ids)return lt}function ct(){return!1}function ht(Mt,tt,Oe){var Ye,Ze,We,_e=Oe[0].trace,Ie=d.hasMarkers(_e),Xe=d.hasText(_e),De=et(_e),de=ct,Te=ct;if(Ie||Xe){var Be=S,Qe=_e.stackgroup,at=Qe&&l._fullLayout._scatterStackOpts[L._id+M._id][Qe].stackgaps==="infer zero";_e.marker.maxdisplayed||_e._needsCull?Be=at?st:He:Qe&&!at&&(Be=vt),Ie&&(de=Be),Xe&&(Te=Be)}Ze=Mt.selectAll("path.point"),Ye=Ze.data(de,De);var it=Ye.enter().append("path").classed("point",!0);P&&it.call(v.pointStyle,_e,l).call(v.translatePoints,L,M).style("opacity",0).transition().style("opacity",1),Ye.order();var Wt;Ie&&(Wt=v.makePointStyleFns(_e)),Ye.each(function(Yt){var Tt=g.select(this),Lt=x(Tt);We=v.translatePoint(Yt,Lt,L,M),We?(v.singlePointStyle(Yt,Lt,_e,Wt,l),c.layerClipId&&v.hideOutsideRangePoint(Yt,Lt,L,M,_e.xcalendar,_e.ycalendar),_e.customdata&&Tt.classed("plotly-customdata",Yt.data!==null&&Yt.data!==void 0)):Lt.remove()}),P?Ye.exit().transition().style("opacity",0).remove():Ye.exit().remove(),Ze=tt.selectAll("g"),Ye=Ze.data(Te,De),Ye.enter().append("g").classed("textpoint",!0).append("text"),Ye.order(),Ye.each(function(Yt){var Tt=g.select(this),Lt=x(Tt.select("text"));We=v.translatePoint(Yt,Lt,L,M),We?c.layerClipId&&v.hideOutsideRangePoint(Yt,Tt,L,M,_e.xcalendar,_e.ycalendar):Tt.remove()}),Ye.selectAll("text").call(v.textPointStyle,_e,l).each(function(Yt){var Tt=L.c2p(Yt.x),Lt=M.c2p(Yt.y);g.select(this).selectAll("tspan.line").each(function(){x(g.select(this)).attr({x:Tt,y:Lt})})}),Ye.exit().remove()}U.datum(A),z.datum(A),ht(U,z,A);var mt=s.cliponaxis===!1,xt=mt?null:c.layerClipId;v.setClipUrl(U,xt,l),v.setClipUrl(z,xt,l)}function u(l,m,c,A,h){var o=c.xaxis,p=c.yaxis,b=g.extent(a.simpleMap(o.range,o.r2c)),T=g.extent(a.simpleMap(p.range,p.r2c)),P=A[0].trace;if(d.hasMarkers(P)){var x=P.marker.maxdisplayed;if(x!==0){var L=A.filter(function(w){return w.x>=b[0]&&w.x<=b[1]&&w.y>=T[0]&&w.y<=T[1]}),M=Math.ceil(L.length/x),s=0;h.forEach(function(w,O){var _=w[0].trace;d.hasMarkers(_)&&_.marker.maxdisplayed>0&&O<m&&s++});var E=Math.round(s*M/3+Math.floor(s/3)*M/7.1);A.forEach(function(w){delete w.vis}),L.forEach(function(w,O){Math.round((O+E)%M)===0&&(w.vis=!0)})}}}},91560:function(H,G,e){var g=e(43028);H.exports=function(a,C){var S=a.cd,v=a.xaxis,d=a.yaxis,r=[],t=S[0].trace,i,n,f,u,l=!g.hasMarkers(t)&&!g.hasText(t);if(l)return[];if(C===!1)for(i=0;i<S.length;i++)S[i].selected=0;else for(i=0;i<S.length;i++)n=S[i],f=v.c2p(n.x),u=d.c2p(n.y),n.i!==null&&C.contains([f,u],!1,i,a)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:d.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(H){var G=["orientation","groupnorm","stackgaps"];H.exports=function(g,R,a,C){var S=a._scatterStackOpts,v=C("stackgroup");if(v){var d=R.xaxis+R.yaxis,r=S[d];r||(r=S[d]={});var t=r[v],i=!1;t?t.traces.push(R):(t=r[v]={traceIndices:[],traces:[R]},i=!0);for(var n={orientation:R.x&&!R.y?"h":"v"},f=0;f<G.length;f++){var u=G[f],l=u+"Found";if(!t[l]){var m=g[u]!==void 0,c=u==="orientation";if((m||i)&&(t[u]=C(u,n[u]),c&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),m&&(t[l]=!0,!i&&(delete t.traces[0][u],c))))for(var A=0;A<t.traces.length-1;A++){var h=t.traces[A];h._input.fill!==h.fill&&(h.fill=t.fillDflt)}}}return t}}},49224:function(H,G,e){var g=e(33428),R=e(43616),a=e(24040);function C(r){var t=g.select(r).selectAll("g.trace.scatter");t.style("opacity",function(i){return i[0].trace.opacity}),t.selectAll("g.points").each(function(i){var n=g.select(this),f=i.trace||i[0].trace;S(n,f,r)}),t.selectAll("g.text").each(function(i){var n=g.select(this),f=i.trace||i[0].trace;v(n,f,r)}),t.selectAll("g.trace path.js-line").call(R.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(R.fillGroupStyle,r,!1),a.getComponentMethod("errorbars","style")(t)}function S(r,t,i){R.pointStyle(r.selectAll("path.point"),t,i)}function v(r,t,i){R.textPointStyle(r.selectAll("text"),t,i)}function d(r,t,i){var n=t[0].trace;n.selectedpoints?(R.selectedPointStyle(i.selectAll("path.point"),n),R.selectedTextStyle(i.selectAll("text"),n)):(S(i,n,r),v(i,n,r))}H.exports={style:C,stylePoints:S,styleText:v,styleOnSelect:d}},43028:function(H,G,e){var g=e(3400),R=e(38116).isTypedArraySpec;H.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var C=a.marker;return g.isPlainObject(C)&&(g.isArrayOrTypedArray(C.size)||R(C.size))}}},124:function(H,G,e){var g=e(3400);H.exports=function(R,a,C,S,v){v=v||{},S("textposition"),g.coerceFont(S,"textfont",v.font||C.font,v),v.noSelect||(S("selected.textfont.color"),S("unselected.textfont.color"))}},43980:function(H,G,e){var g=e(3400),R=e(24040);H.exports=function(C,S,v,d){var r=d("x"),t=d("y"),i,n=R.getComponentMethod("calendars","handleTraceDefaults");if(n(C,S,["x","y"],v),r){var f=g.minRowLength(r);t?i=Math.min(f,g.minRowLength(t)):(i=f,d("y0"),d("dy"))}else{if(!t)return 0;i=g.minRowLength(t),d("x0"),d("dx")}return S._length=i,i}},91592:function(H,G,e){var g=e(52904),R=e(25376),a=e(49084),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,d=e(45464),r=e(99168),t=e(87792),i=e(92880).extendFlat,n=e(67824).overrideAll,f=e(95376),u=g.line,l=g.marker,m=l.line,c=i({width:u.width,dash:{valType:"enumerated",values:f(r),dflt:"solid"}},a("line"));function A(o){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var h=H.exports=n({x:g.x,y:g.y,z:{valType:"data_array"},text:i({},g.text,{}),texttemplate:v({},{}),hovertext:i({},g.hovertext,{}),hovertemplate:S(),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),mode:i({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:A(),y:A(),z:A()},connectgaps:g.connectgaps,line:c,marker:i({symbol:{valType:"enumerated",values:f(t),dflt:"circle",arrayOk:!0},size:i({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:i({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:i({width:i({},m.width,{arrayOk:!1})},a("marker.line"))},a("marker")),textposition:i({},g.textposition,{dflt:"top center"}),textfont:R({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:d.opacity,hoverinfo:i({},d.hoverinfo)},"calc","nested");h.x.editType=h.y.editType=h.z.editType="calc+clearAxisTypes"},41484:function(H,G,e){var g=e(20148),R=e(90136);H.exports=function(C,S){var v=[{x:!1,y:!1,trace:S,t:{}}];return g(v,S),R(C,S),v}},45156:function(H,G,e){var g=e(24040);function R(S,v,d,r){if(!v||!v.visible)return null;for(var t=g.getComponentMethod("errorbars","makeComputeError")(v),i=new Array(S.length),n=0;n<S.length;n++){var f=t(+S[n],n);if(r.type==="log"){var u=r.c2l(S[n]),l=S[n]-f[0],m=S[n]+f[1];if(i[n]=[(r.c2l(l,!0)-u)*d,(r.c2l(m,!0)-u)*d],l>0){var c=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=c),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,c)}}else i[n]=[-f[0]*d,f[1]*d]}return i}function a(S){for(var v=0;v<S.length;v++)if(S[v])return S[v].length;return 0}function C(S,v,d){var r=[R(S.x,S.error_x,v[0],d.xaxis),R(S.y,S.error_y,v[1],d.yaxis),R(S.z,S.error_z,v[2],d.zaxis)],t=a(r);if(t===0)return null;for(var i=new Array(t),n=0;n<t;n++){for(var f=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)f[l][u]=r[u][n][l];i[n]=f}return i}H.exports=C},41064:function(H,G,e){var g=e(67792).gl_line3d,R=e(67792).gl_scatter3d,a=e(67792).gl_error3d,C=e(67792).gl_mesh3d,S=e(67792).delaunay_triangulate,v=e(3400),d=e(43080),r=e(33040).formatColor,t=e(7152),i=e(99168),n=e(87792),f=e(54460),u=e(10624).appendArrayPointValue,l=e(45156);function m(w,O){this.scene=w,this.uid=O,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=m.prototype;c.handlePick=function(w){if(w.object&&(w.object===this.linePlot||w.object===this.delaunayMesh||w.object===this.textMarkers||w.object===this.scatterPlot)){var O=w.index=w.data.index;return w.object.highlight&&w.object.highlight(null),this.scatterPlot&&(w.object=this.scatterPlot,this.scatterPlot.highlight(w.data)),w.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[O]||this.textLabels[O]===0)&&(w.textLabel=this.textLabels[O]):w.textLabel=this.textLabels),w.traceCoordinate=[this.data.x[O],this.data.y[O],this.data.z[O]],!0}};function A(w,O,_){var U=(_+1)%3,z=(_+2)%3,F=[],B=[],N;for(N=0;N<w.length;++N){var V=w[N];isNaN(V[U])||!isFinite(V[U])||isNaN(V[z])||!isFinite(V[z])||(F.push([V[U],V[z]]),B.push(N))}var X=S(F);for(N=0;N<X.length;++N)for(var q=X[N],te=0;te<q.length;++te)q[te]=B[q[te]];return{positions:w,cells:X,meshColor:O}}function h(w){for(var O=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],U=[1,1,1],z=0;z<3;z++){var F=w[z];F&&F.copy_zstyle!==!1&&w[2].visible!==!1&&(F=w[2]),!(!F||!F.visible)&&(O[z]=F.width/2,_[z]=d(F.color),U[z]=F.thickness)}return{capSize:O,color:_,lineWidth:U}}function o(w){return w==null?0:w.indexOf("left")>-1?-1:w.indexOf("right")>-1?1:0}function p(w){return w==null?0:w.indexOf("top")>-1?-1:w.indexOf("bottom")>-1?1:0}function b(w){var O=0,_=0,U=[O,_];if(Array.isArray(w))for(var z=0;z<w.length;z++)U[z]=[O,_],w[z]&&(U[z][0]=o(w[z]),U[z][1]=p(w[z]));else U[0]=o(w),U[1]=p(w);return U}function T(w,O){return O(w*4)}function P(w){return n[w]}function x(w,O,_,U,z){var F=null;if(v.isArrayOrTypedArray(w)){F=[];for(var B=0;B<O;B++)w[B]===void 0?F[B]=U:F[B]=_(w[B],z)}else F=_(w,v.identity);return F}function L(w,O){var _=[],U=w.fullSceneLayout,z=w.dataScale,F=U.xaxis,B=U.yaxis,N=U.zaxis,V=O.marker,X=O.line,q=O.x||[],te=O.y||[],ne=O.z||[],ce=q.length,Q=O.xcalendar,Z=O.ycalendar,re=O.zcalendar,Y,oe,ue,K,$,le;for($=0;$<ce;$++)Y=F.d2l(q[$],0,Q)*z[0],oe=B.d2l(te[$],0,Z)*z[1],ue=N.d2l(ne[$],0,re)*z[2],_[$]=[Y,oe,ue];if(Array.isArray(O.text))le=O.text;else if(v.isTypedArray(O.text))le=Array.from(O.text);else if(O.text!==void 0)for(le=new Array(ce),$=0;$<ce;$++)le[$]=O.text;function ae(vt,lt){var et=U[vt];return f.tickText(et,et.d2l(lt),!0).text}var he=O.texttemplate;if(he){var xe=w.fullLayout,Me=xe._d3locale,Ae=Array.isArray(he),ke=Ae?Math.min(he.length,ce):ce,we=Ae?function(vt){return he[vt]}:function(){return he};for(le=new Array(ke),$=0;$<ke;$++){var Ee={x:q[$],y:te[$],z:ne[$]},be={xLabel:ae("xaxis",q[$]),yLabel:ae("yaxis",te[$]),zLabel:ae("zaxis",ne[$])},Le={};u(Le,O,$);var Ue=O._meta||{};le[$]=v.texttemplateString(we($),be,Me,Le,Ee,Ue)}}if(K={position:_,mode:O.mode,text:le},"line"in O&&(K.lineColor=r(X,1,ce),K.lineWidth=X.width,K.lineDashes=X.dash),"marker"in O){var Ve=t(O);K.scatterColor=r(V,1,ce),K.scatterSize=x(V.size,ce,T,20,Ve),K.scatterMarker=x(V.symbol,ce,P,""),K.scatterLineWidth=V.line.width,K.scatterLineColor=r(V.line,1,ce),K.scatterAngle=0}"textposition"in O&&(K.textOffset=b(O.textposition),K.textColor=r(O.textfont,1,ce),K.textSize=x(O.textfont.size,ce,v.identity,12),K.textFontFamily=O.textfont.family,K.textFontWeight=O.textfont.weight,K.textFontStyle=O.textfont.style,K.textFontVariant=O.textfont.variant,K.textAngle=0);var Fe=["x","y","z"];for(K.project=[!1,!1,!1],K.projectScale=[1,1,1],K.projectOpacity=[1,1,1],$=0;$<3;++$){var He=O.projection[Fe[$]];(K.project[$]=He.show)&&(K.projectOpacity[$]=He.opacity,K.projectScale[$]=He.scale)}K.errorBounds=l(O,z,U);var st=h([O.error_x,O.error_y,O.error_z]);return K.errorColor=st.color,K.errorLineWidth=st.lineWidth,K.errorCapSize=st.capSize,K.delaunayAxis=O.surfaceaxis,K.delaunayColor=d(O.surfacecolor),K}function M(w){if(v.isArrayOrTypedArray(w)){var O=w[0];return v.isArrayOrTypedArray(O)&&(w=O),"rgb("+w.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function s(w){return v.isArrayOrTypedArray(w)?w.length===4&&typeof w[0]=="number"?M(w):w.map(M):null}c.update=function(w){var O=this.scene.glplot.gl,_,U,z,F,B=i.solid;this.data=w;var N=L(this.scene,w);"mode"in N&&(this.mode=N.mode),"lineDashes"in N&&N.lineDashes in i&&(B=i[N.lineDashes]),this.color=s(N.scatterColor)||s(N.lineColor),this.dataPoints=N.position,_={gl:this.scene.glplot.gl,position:N.position,color:N.lineColor,lineWidth:N.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:w.opacity,connectGaps:w.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=g(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=w.opacity;if(w.marker&&w.marker.opacity!==void 0&&(V*=w.marker.opacity),U={gl:this.scene.glplot.gl,position:N.position,color:N.scatterColor,size:N.scatterSize,glyph:N.scatterMarker,opacity:V,orthographic:!0,lineWidth:N.scatterLineWidth,lineColor:N.scatterLineColor,project:N.project,projectScale:N.projectScale,projectOpacity:N.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(U):(this.scatterPlot=R(U),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),F={gl:this.scene.glplot.gl,position:N.position,glyph:N.text,color:N.textColor,size:N.textSize,angle:N.textAngle,alignment:N.textOffset,font:N.textFontFamily,fontWeight:N.textFontWeight,fontStyle:N.textFontStyle,fontVariant:N.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:w.opacity},this.textLabels=w.hovertext||w.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(F):(this.textMarkers=R(F),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:N.position,color:N.errorColor,error:N.errorBounds,lineWidth:N.errorLineWidth,capSize:N.errorCapSize,opacity:w.opacity},this.errorBars?N.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):N.errorBounds&&(this.errorBars=a(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),N.delaunayAxis>=0){var X=A(N.position,N.delaunayColor,N.delaunayAxis);X.opacity=w.opacity,this.delaunayMesh?this.delaunayMesh.update(X):(X.gl=O,this.delaunayMesh=C(X),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(w,O){var _=new m(w,O.uid);return _.update(O),_}H.exports=E},83484:function(H,G,e){var g=e(24040),R=e(3400),a=e(43028),C=e(74428),S=e(66828),v=e(124),d=e(91592);H.exports=function(i,n,f,u){function l(T,P){return R.coerce(i,n,d,T,P)}var m=r(i,n,l,u);if(!m){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),a.hasMarkers(n)&&C(i,n,f,u,l,{noSelect:!0,noAngle:!0}),a.hasLines(n)&&(l("connectgaps"),S(i,n,f,u,l)),a.hasText(n)&&(l("texttemplate"),v(i,n,u,l,{noSelect:!0}));var c=(n.line||{}).color,A=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",c||A);for(var h=["x","y","z"],o=0;o<3;++o){var p="projection."+h[o];l(p+".show")&&(l(p+".opacity"),l(p+".scale"))}var b=g.getComponentMethod("errorbars","supplyDefaults");b(i,n,c||A||f,{axis:"z"}),b(i,n,c||A||f,{axis:"y",inherit:"z"}),b(i,n,c||A||f,{axis:"x",inherit:"z"})};function r(t,i,n,f){var u=0,l=n("x"),m=n("y"),c=n("z"),A=g.getComponentMethod("calendars","handleTraceDefaults");return A(t,i,["x","y","z"],f),l&&m&&c&&(u=Math.min(l.length,m.length,c.length),i._length=i._xlength=i._ylength=i._zlength=u),u}},3296:function(H,G,e){H.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(H,G,e){var g=e(98304),R=e(52904),a=e(45464),C=e(21776).Ks,S=e(21776).Gw,v=e(49084),d=e(92880).extendFlat,r=R.marker,t=R.line,i=r.line;H.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:d({},R.mode,{dflt:"markers"}),text:d({},R.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:d({},R.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:d({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:R.connectgaps,fill:d({},R.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g(),marker:d({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:d({width:i.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:R.textfont,textposition:R.textposition,selected:R.selected,unselected:R.unselected,hoverinfo:d({},a.hoverinfo,{flags:["a","b","text","name"]}),hoveron:R.hoveron,hovertemplate:C(),zorder:R.zorder}},48228:function(H,G,e){var g=e(38248),R=e(90136),a=e(20148),C=e(4500),S=e(16356).calcMarkerSize,v=e(50948);H.exports=function(r,t){var i=t._carpetTrace=v(r,t);if(!(!i||!i.visible||i.visible==="legendonly")){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var f=t._length,u=new Array(f),l,m,c=!1;for(n=0;n<f;n++)if(l=t.a[n],m=t.b[n],g(l)&&g(m)){var A=i.ab2xy(+l,+m,!0),h=i.isVisible(+l,+m);h||(c=!0),u[n]={x:A[0],y:A[1],a:l,b:m,vis:h}}else u[n]={x:!1,y:!1};return t._needsCull=c,u[0].carpet=i,u[0].trace=t,S(t,f),R(r,t),a(u,t),C(u,t),u}}},6176:function(H,G,e){var g=e(3400),R=e(88200),a=e(43028),C=e(74428),S=e(66828),v=e(11731),d=e(124),r=e(70840),t=e(90372);H.exports=function(n,f,u,l){function m(T,P){return g.coerce(n,f,t,T,P)}m("carpet"),f.xaxis="x",f.yaxis="y";var c=m("a"),A=m("b"),h=Math.min(c.length,A.length);if(!h){f.visible=!1;return}f._length=h,m("text"),m("texttemplate"),m("hovertext");var o=h<R.PTS_LINESONLY?"lines+markers":"lines";m("mode",o),a.hasMarkers(f)&&C(n,f,u,l,m,{gradient:!0}),a.hasLines(f)&&(S(n,f,u,l,m,{backoff:!0}),v(n,f,m),m("connectgaps")),a.hasText(f)&&d(n,f,l,m);var p=[];(a.hasMarkers(f)||a.hasText(f))&&(m("marker.maxdisplayed"),p.push("points")),m("fill"),f.fill!=="none"&&(r(n,f,u,m),a.hasLines(f)||v(n,f,m)),(f.fill==="tonext"||f.fill==="toself")&&p.push("fills");var b=m("hoveron",p.join("+")||"points");b!=="fills"&&m("hovertemplate"),m("zorder"),g.coerceSelectionMarkerOpacity(f,m)}},89307:function(H){H.exports=function(e,g,R,a,C){var S=a[C];return e.a=S.a,e.b=S.b,e.y=S.y,e}},52364:function(H){H.exports=function(e,g){var R={},a=g._carpet,C=a.ab2ij([e.a,e.b]),S=Math.floor(C[0]),v=C[0]-S,d=Math.floor(C[1]),r=C[1]-d,t=a.evalxy([],S,d,v,r);return R.yLabel=t[1].toFixed(3),R}},58960:function(H,G,e){var g=e(98723),R=e(3400).fillText;H.exports=function(C,S,v,d){var r=g(C,S,v,d);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var i=1-t.y0/C.ya._length,n=C.xa._length,f=n*i/2,u=n-f;return t.x0=Math.max(Math.min(t.x0,u),f),t.x1=Math.max(Math.min(t.x1,u),f),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var m=t.trace,c=m._carpet,A=m._module.formatLabels(l,m);t.yLabel=A.yLabel,delete t.text;var h=[];function o(T,P){var x;T.labelprefix&&T.labelprefix.length>0?x=T.labelprefix.replace(/ = $/,""):x=T._hovertitle,h.push(x+": "+P.toFixed(3)+T.labelsuffix)}if(!m.hovertemplate){var p=l.hi||m.hoverinfo,b=p.split("+");b.indexOf("all")!==-1&&(b=["a","b","text"]),b.indexOf("a")!==-1&&o(c.aaxis,l.a),b.indexOf("b")!==-1&&o(c.baxis,l.b),h.push("y: "+t.yLabel),b.indexOf("text")!==-1&&R(l,m,h),t.extraText=h.join("<br>")}return r}},4184:function(H,G,e){H.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(H,G,e){var g=e(96504),R=e(54460),a=e(43616);H.exports=function(S,v,d,r){var t,i,n,f=d[0][0].carpet,u=R.getFromId(S,f.xaxis||"x"),l=R.getFromId(S,f.yaxis||"y"),m={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<d.length;t++)i=d[t][0].trace,i._xA=u,i._yA=l;for(g(S,m,d,r),t=0;t<d.length;t++)i=d[t][0].trace,n=r.selectAll("g.trace"+i.uid+" .js-line"),a.setClipUrl(n,d[t][0].carpet._clipPathId,S)}},6096:function(H,G,e){var g=e(21776).Ks,R=e(21776).Gw,a=e(98304),C=e(52904),S=e(45464),v=e(49084),d=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,i=C.marker,n=C.line,f=i.line;H.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:R({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},C.hovertext,{}),textfont:C.textfont,textposition:C.textposition,line:{color:n.color,width:n.width,dash:d},connectgaps:C.connectgaps,marker:r({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:r({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:r({width:f.width},v("marker.line")),gradient:i.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a(),selected:C.selected,unselected:C.unselected,hoverinfo:r({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},25212:function(H,G,e){var g=e(38248),R=e(39032).BADNUM,a=e(90136),C=e(20148),S=e(4500),v=e(3400).isArrayOrTypedArray,d=e(3400)._;function r(t){return t&&typeof t=="string"}H.exports=function(i,n){var f=v(n.locations),u=f?n.locations.length:n._length,l=new Array(u),m;n.geojson?m=function(b){return r(b)||g(b)}:m=r;for(var c=0;c<u;c++){var A=l[c]={};if(f){var h=n.locations[c];A.loc=m(h)?h:null}else{var o=n.lon[c],p=n.lat[c];g(o)&&g(p)?A.lonlat=[+o,+p]:A.lonlat=[R,R]}}return C(l,n),a(i,n),S(l,n),u&&(l[0].t={labels:{lat:d(i,"lat:")+" ",lon:d(i,"lon:")+" "}}),l}},86188:function(H,G,e){var g=e(3400),R=e(43028),a=e(74428),C=e(66828),S=e(124),v=e(70840),d=e(6096);H.exports=function(t,i,n,f){function u(b,T){return g.coerce(t,i,d,b,T)}var l=u("locations"),m;if(l&&l.length){var c=u("geojson"),A;(typeof c=="string"&&c!==""||g.isPlainObject(c))&&(A="geojson-id");var h=u("locationmode",A);h==="geojson-id"&&u("featureidkey"),m=l.length}else{var o=u("lon")||[],p=u("lat")||[];m=Math.min(o.length,p.length)}if(!m){i.visible=!1;return}i._length=m,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),R.hasMarkers(i)&&a(t,i,n,f,u,{gradient:!0}),R.hasLines(i)&&(C(t,i,n,f,u),u("connectgaps")),R.hasText(i)&&(u("texttemplate"),S(t,i,f,u)),u("fill"),i.fill!=="none"&&v(t,i,n,u),g.coerceSelectionMarkerOpacity(i,u)}},58544:function(H){H.exports=function(e,g,R,a,C){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var S=a[C];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e}},56696:function(H,G,e){var g=e(54460);H.exports=function(a,C,S){var v={},d=S[C.geo]._subplot,r=d.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(H,G,e){var g=e(93024),R=e(39032).BADNUM,a=e(44928),C=e(3400).fillText,S=e(6096);H.exports=function(r,t,i){var n=r.cd,f=n[0].trace,u=r.xa,l=r.ya,m=r.subplot,c=m.projection.isLonLatOverEdges,A=m.project;function h(L){var M=L.lonlat;if(M[0]===R||c(M))return 1/0;var s=A(M),E=A([t,i]),w=Math.abs(s[0]-E[0]),O=Math.abs(s[1]-E[1]),_=Math.max(3,L.mrc||0);return Math.max(Math.sqrt(w*w+O*O)-_,1-3/_)}if(g.getClosest(n,h,r),r.index!==!1){var o=n[r.index],p=o.lonlat,b=[u.c2p(p),l.c2p(p)],T=o.mrc||1;r.x0=b[0]-T,r.x1=b[0]+T,r.y0=b[1]-T,r.y1=b[1]+T,r.loc=o.loc,r.lon=p[0],r.lat=p[1];var P={};P[f.geo]={_subplot:m};var x=f._module.formatLabels(o,f,P);return r.lonLabel=x.lonLabel,r.latLabel=x.latLabel,r.color=a(f,o),r.extraText=v(f,o,r,n[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}};function v(d,r,t,i){if(d.hovertemplate)return;var n=r.hi||d.hoverinfo,f=n==="all"?S.hoverinfo.flags:n.split("+"),u=f.indexOf("location")!==-1&&Array.isArray(d.locations),l=f.indexOf("lon")!==-1,m=f.indexOf("lat")!==-1,c=f.indexOf("text")!==-1,A=[];function h(o){return o+""}return u?A.push(r.loc):l&&m?A.push("("+h(t.latLabel)+", "+h(t.lonLabel)+")"):l?A.push(i.lon+h(t.lonLabel)):m&&A.push(i.lat+h(t.latLabel)),c&&C(r,d,A),A.join("<br>")}},36952:function(H,G,e){H.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(H,G,e){var g=e(33428),R=e(3400),a=e(59972).getTopojsonFeatures,C=e(44808),S=e(27144),v=e(19280).findExtremes,d=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),i=e(25064);function n(u,l,m){var c=l.layers.frontplot.select(".scatterlayer"),A=R.makeTraceGroups(c,m,"trace scattergeo");function h(o,p){o.lonlat[0]===d&&g.select(p).remove()}A.selectAll("*").remove(),A.each(function(o){var p=g.select(this),b=o[0].trace;if(t.hasLines(b)||b.fill!=="none"){var T=C.calcTraceToLineCoords(o),P=b.fill!=="none"?C.makePolygon(T):C.makeLine(T);p.selectAll("path.js-line").data([{geojson:P,trace:b}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(b)&&p.selectAll("path.point").data(R.identity).enter().append("path").classed("point",!0).each(function(x){h(x,this)}),t.hasText(b)&&p.selectAll("g").data(R.identity).enter().append("g").append("text").each(function(x){h(x,this)}),i(u,o)})}function f(u,l){var m=u[0].trace,c=l[m.geo],A=c._subplot,h=m._length,o,p;if(R.isArrayOrTypedArray(m.locations)){var b=m.locationmode,T=b==="geojson-id"?S.extractTraceFeature(u):a(m,A.topojson);for(o=0;o<h;o++){p=u[o];var P=b==="geojson-id"?p.fOut:S.locationToFeature(b,p.loc,T);p.lonlat=P?P.properties.ct:[d,d]}}var x={padded:!0},L,M;if(c.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var s=S.computeBbox(S.getTraceGeojson(m));L=[s[0],s[2]],M=[s[1],s[3]]}else{for(L=new Array(h),M=new Array(h),o=0;o<h;o++)p=u[o],L[o]=p.lonlat[0],M[o]=p.lonlat[1];x.ppad=r(m,h)}m._extremes.lon=v(c.lonaxis._ax,L,x),m._extremes.lat=v(c.lataxis._ax,M,x)}H.exports={calcGeoJSON:f,plot:n}},8796:function(H,G,e){var g=e(43028),R=e(39032).BADNUM;H.exports=function(C,S){var v=C.cd,d=C.xaxis,r=C.yaxis,t=[],i=v[0].trace,n,f,u,l,m,c=!g.hasMarkers(i)&&!g.hasText(i);if(c)return[];if(S===!1)for(m=0;m<v.length;m++)v[m].selected=0;else for(m=0;m<v.length;m++)n=v[m],f=n.lonlat,f[0]!==R&&(u=d.c2p(f),l=r.c2p(f),S.contains([u,l],null,m,C)?(t.push({pointNumber:m,lon:f[0],lat:f[1]}),n.selected=1):n.selected=0);return t}},25064:function(H,G,e){var g=e(33428),R=e(43616),a=e(76308),C=e(49224),S=C.stylePoints,v=C.styleText;H.exports=function(t,i){i&&d(t,i)};function d(r,t){var i=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),S(n,i,r),v(n,i,r),n.selectAll("path.js-line").style("fill","none").each(function(f){var u=g.select(this),l=f.trace,m=l.line||{};u.call(a.stroke,m.color).call(R.dashLine,m.dash||"",m.width||0),l.fill!=="none"&&u.call(a.fill,l.fillcolor)})}},2876:function(H,G,e){var g=e(45464),R=e(25376),a=e(98304),C=e(52904),S=e(29736).axisHoverFormat,v=e(49084),d=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,i=e(67072).DASHES,n=C.line,f=C.marker,u=f.line,l=H.exports=t({x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:C.text,hovertext:C.hovertext,textposition:C.textposition,textfont:R({editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:d(i),dflt:"solid"}},marker:r({},v("marker"),{symbol:f.symbol,angle:f.angle,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:r({},v("marker.line"),{width:u.width})}),connectgaps:C.connectgaps,fill:r({},C.fill,{dflt:"none"}),fillcolor:a(),selected:{marker:C.selected.marker,textfont:C.selected.textfont},unselected:{marker:C.unselected.marker,textfont:C.unselected.textfont},opacity:g.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=C.hovertemplate,l.texttemplate=C.texttemplate},64628:function(H,G,e){var g=e(41272);H.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:g.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(H,G,e){var g=e(3108),R=e(3400),a=e(79811),C=e(19280).findExtremes,S=e(1220),v=e(16356),d=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,i=e(90136),n=e(84236),f=e(74588),u=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;H.exports=function(h,o){var p=h._fullLayout,b=o._xA=a.getFromId(h,o.xaxis,"x"),T=o._yA=a.getFromId(h,o.yaxis,"y"),P=p._plots[o.xaxis+o.yaxis],x=o._length,L=x>=l,M=x*2,s={},E,w=b.makeCalcdata(o,"x"),O=T.makeCalcdata(o,"y"),_=S(o,b,"x",w),U=S(o,T,"y",O),z=_.vals,F=U.vals;o._x=z,o._y=F,o.xperiodalignment&&(o._origX=w,o._xStarts=_.starts,o._xEnds=_.ends),o.yperiodalignment&&(o._origY=O,o._yStarts=U.starts,o._yEnds=U.ends);var B=new Array(M),N=new Array(x);for(E=0;E<x;E++)B[E*2]=z[E]===u?NaN:z[E],B[E*2+1]=F[E]===u?NaN:F[E],N[E]=E;if(b.type==="log")for(E=0;E<M;E+=2)B[E]=b.c2l(B[E]);if(T.type==="log")for(E=1;E<M;E+=2)B[E]=T.c2l(B[E]);L&&b.type!=="log"&&T.type!=="log"?s.tree=g(B):s.ids=N,i(h,o);var V=c(h,P,o,B,z,F),X=f(h,P);t(p,o);var q;return L?V.marker&&(q=V.marker.sizeAvg||Math.max(V.marker.size,3)):q=d(o,x),r(h,o,b,T,z,F,q),V.errorX&&m(o,b,V.errorX),V.errorY&&m(o,T,V.errorY),V.fill&&!X.fill2d&&(X.fill2d=!0),V.marker&&!X.scatter2d&&(X.scatter2d=!0),V.line&&!X.line2d&&(X.line2d=!0),(V.errorX||V.errorY)&&!X.error2d&&(X.error2d=!0),V.text&&!X.glText&&(X.glText=!0),V.marker&&(V.marker.snap=x),X.lineOptions.push(V.line),X.errorXOptions.push(V.errorX),X.errorYOptions.push(V.errorY),X.fillOptions.push(V.fill),X.markerOptions.push(V.marker),X.markerSelectedOptions.push(V.markerSel),X.markerUnselectedOptions.push(V.markerUnsel),X.textOptions.push(V.text),X.textSelectedOptions.push(V.textSel),X.textUnselectedOptions.push(V.textUnsel),X.selectBatch.push([]),X.unselectBatch.push([]),s._scene=X,s.index=X.count,s.x=z,s.y=F,s.positions=B,X.count++,[{x:!1,y:!1,t:s,trace:o}]};function m(A,h,o){var p=A._extremes[h._id],b=C(h,o._bnds,{padded:!0});p.min=p.min.concat(b.min),p.max=p.max.concat(b.max)}function c(A,h,o,p,b,T){var P=n.style(A,o);if(P.marker&&(P.marker.positions=p),P.line&&p.length>1&&R.extendFlat(P.line,n.linePositions(A,o,p)),P.errorX||P.errorY){var x=n.errorBarPositions(A,o,p,b,T);P.errorX&&R.extendFlat(P.errorX,x.x),P.errorY&&R.extendFlat(P.errorY,x.y)}return P.text&&(R.extendFlat(P.text,{positions:p},n.textPosition(A,o,P.text,P.marker)),R.extendFlat(P.textSel,{positions:p},n.textPosition(A,o,P.text,P.markerSel)),R.extendFlat(P.textUnsel,{positions:p},n.textPosition(A,o,P.text,P.markerUnsel))),P}},67072:function(H){var G=20;H.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:G,SYMBOL_STROKE:G/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(H,G,e){var g=e(38248),R=e(20472),a=e(72160),C=e(24040),S=e(3400),v=S.isArrayOrTypedArray,d=e(43616),r=e(79811),t=e(33040).formatColor,i=e(43028),n=e(7152),f=e(80088),u=e(67072),l=e(13448).DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function A(U,z){var F,B={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},N=U._context.plotGlPixelRatio;if(z.visible!==!0)return B;if(i.hasText(z)&&(B.text=h(U,z),B.textSel=b(U,z,z.selected),B.textUnsel=b(U,z,z.unselected)),i.hasMarkers(z)&&(B.marker=o(U,z),B.markerSel=p(U,z,z.selected),B.markerUnsel=p(U,z,z.unselected),!z.unselected&&v(z.marker.opacity))){var V=z.marker.opacity;for(B.markerUnsel.opacity=new Array(V.length),F=0;F<V.length;F++)B.markerUnsel.opacity[F]=l*V[F]}if(i.hasLines(z)){B.line={overlay:!0,thickness:z.line.width*N,color:z.line.color,opacity:z.opacity};var X=(u.DASHES[z.line.dash]||[1]).slice();for(F=0;F<X.length;++F)X[F]*=z.line.width*N;B.line.dashes=X}return z.error_x&&z.error_x.visible&&(B.errorX=T(z,z.error_x,N)),z.error_y&&z.error_y.visible&&(B.errorY=T(z,z.error_y,N)),z.fill&&z.fill!=="none"&&(B.fill={closed:!0,fill:z.fillcolor,thickness:0}),B}function h(U,z){var F=U._fullLayout,B=z._length,N=z.textfont,V=z.textposition,X=v(V)?V:[V],q=N.color,te=N.size,ne=N.family,ce=N.weight,Q=N.style,Z=N.variant,re={},Y,oe=U._context.plotGlPixelRatio,ue=z.texttemplate;if(ue){re.text=[];var K=F._d3locale,$=Array.isArray(ue),le=$?Math.min(ue.length,B):B,ae=$?function(Ee){return ue[Ee]}:function(){return ue};for(Y=0;Y<le;Y++){var he={i:Y},xe=z._module.formatLabels(he,z,F),Me={};c(Me,z,Y);var Ae=z._meta||{};re.text.push(S.texttemplateString(ae(Y),xe,K,Me,he,Ae))}}else v(z.text)&&z.text.length<B?re.text=z.text.slice():re.text=z.text;if(v(re.text))for(Y=re.text.length;Y<B;Y++)re.text[Y]="";for(re.opacity=z.opacity,re.font={},re.align=[],re.baseline=[],Y=0;Y<X.length;Y++){var ke=X[Y].split(/\s+/);switch(ke[1]){case"left":re.align.push("right");break;case"right":re.align.push("left");break;default:re.align.push(ke[1])}switch(ke[0]){case"top":re.baseline.push("bottom");break;case"bottom":re.baseline.push("top");break;default:re.baseline.push(ke[0])}}if(v(q))for(re.color=new Array(B),Y=0;Y<B;Y++)re.color[Y]=q[Y];else re.color=q;if(v(te)||Array.isArray(ne)||Array.isArray(ce)||Array.isArray(Q)||Array.isArray(Z))for(re.font=new Array(B),Y=0;Y<B;Y++){var we=re.font[Y]={};we.size=(S.isTypedArray(te)?te[Y]:v(te)?g(te[Y])?te[Y]:0:te)*oe,we.family=Array.isArray(ne)?ne[Y]:ne,we.weight=Array.isArray(ce)?ce[Y]:ce,we.style=Array.isArray(Q)?Q[Y]:Q,we.variant=Array.isArray(Z)?Z[Y]:Z}else re.font={size:te*oe,family:ne,weight:ce,style:Q,variant:Z};return re}function o(U,z){var F=z._length,B=z.marker,N={},V,X=v(B.symbol),q=v(B.angle),te=v(B.color),ne=v(B.line.color),ce=v(B.opacity),Q=v(B.size),Z=v(B.line.width),re;if(X||(re=f.isOpenSymbol(B.symbol)),X||te||ne||ce||q){N.symbols=new Array(F),N.angles=new Array(F),N.colors=new Array(F),N.borderColors=new Array(F);var Y=B.symbol,oe=B.angle,ue=t(B,B.opacity,F),K=t(B.line,B.opacity,F);if(!v(K[0])){var $=K;for(K=Array(F),V=0;V<F;V++)K[V]=$}if(!v(ue[0])){var le=ue;for(ue=Array(F),V=0;V<F;V++)ue[V]=le}if(!v(Y)){var ae=Y;for(Y=Array(F),V=0;V<F;V++)Y[V]=ae}if(!v(oe)){var he=oe;for(oe=Array(F),V=0;V<F;V++)oe[V]=he}for(N.symbols=Y,N.angles=oe,N.colors=ue,N.borderColors=K,V=0;V<F;V++)X&&(re=f.isOpenSymbol(B.symbol[V])),re&&(K[V]=ue[V].slice(),ue[V]=ue[V].slice(),ue[V][3]=0);for(N.opacity=z.opacity,N.markers=new Array(F),V=0;V<F;V++)N.markers[V]=E({mx:N.symbols[V],ma:N.angles[V]},z)}else re?(N.color=a(B.color,"uint8"),N.color[3]=0,N.borderColor=a(B.color,"uint8")):(N.color=a(B.color,"uint8"),N.borderColor=a(B.line.color,"uint8")),N.opacity=z.opacity*B.opacity,N.marker=E({mx:B.symbol,ma:B.angle},z);var xe=1,Me=n(z,xe),Ae;if(Q||Z){var ke=N.sizes=new Array(F),we=N.borderSizes=new Array(F),Ee=0,be;if(Q){for(V=0;V<F;V++)ke[V]=Me(B.size[V]),Ee+=ke[V];be=Ee/F}else for(Ae=Me(B.size),V=0;V<F;V++)ke[V]=Ae;if(Z)for(V=0;V<F;V++)we[V]=B.line.width[V];else for(Ae=B.line.width,V=0;V<F;V++)we[V]=Ae;N.sizeAvg=be}else N.size=Me(B&&B.size||10),N.borderSizes=Me(B.line.width);return N}function p(U,z,F){var B=z.marker,N={};return F&&(F.marker&&F.marker.symbol?N=o(U,S.extendFlat({},B,F.marker)):F.marker&&(F.marker.size&&(N.size=F.marker.size),F.marker.color&&(N.colors=F.marker.color),F.marker.opacity!==void 0&&(N.opacity=F.marker.opacity))),N}function b(U,z,F){var B={};if(!F)return B;if(F.textfont){var N={opacity:1,text:z.text,texttemplate:z.texttemplate,textposition:z.textposition,textfont:S.extendFlat({},z.textfont)};F.textfont&&S.extendFlat(N.textfont,F.textfont),B=h(U,N)}return B}function T(U,z,F){var B={capSize:z.width*2*F,lineWidth:z.thickness*F,color:z.color};return z.copy_ystyle&&(B=U.error_y),B}var P=u.SYMBOL_SDF_SIZE,x=u.SYMBOL_SIZE,L=u.SYMBOL_STROKE,M={},s=d.symbolFuncs[0](x*.05);function E(U,z){var F=U.mx;if(F==="circle")return null;var B,N,V=d.symbolNumber(F),X=d.symbolFuncs[V%100],q=!!d.symbolNoDot[V%100],te=!!d.symbolNoFill[V%100],ne=f.isDotSymbol(F);if(U.ma&&(F+="_"+U.ma),M[F])return M[F];var ce=d.getMarkerAngle(U,z);return ne&&!q?B=X(x*1.1,ce)+s:B=X(x,ce),N=R(B,{w:P,h:P,viewBox:[-x,-x,x,x],stroke:te?L:-L}),M[F]=N,N||null}function w(U,z,F){var B=F.length,N=B/2,V,X;if(i.hasLines(z)&&N)if(z.line.shape==="hv"){for(V=[],X=0;X<N-1;X++)isNaN(F[X*2])||isNaN(F[X*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(F[X*2],F[X*2+1]),!isNaN(F[X*2+2])&&!isNaN(F[X*2+3])?V.push(F[X*2+2],F[X*2+1]):V.push(NaN,NaN));V.push(F[B-2],F[B-1])}else if(z.line.shape==="hvh"){for(V=[],X=0;X<N-1;X++)if(isNaN(F[X*2])||isNaN(F[X*2+1])||isNaN(F[X*2+2])||isNaN(F[X*2+3]))!isNaN(F[X*2])&&!isNaN(F[X*2+1])?V.push(F[X*2],F[X*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var q=(F[X*2]+F[X*2+2])/2;V.push(F[X*2],F[X*2+1],q,F[X*2+1],q,F[X*2+3])}V.push(F[B-2],F[B-1])}else if(z.line.shape==="vhv"){for(V=[],X=0;X<N-1;X++)if(isNaN(F[X*2])||isNaN(F[X*2+1])||isNaN(F[X*2+2])||isNaN(F[X*2+3]))!isNaN(F[X*2])&&!isNaN(F[X*2+1])?V.push(F[X*2],F[X*2+1]):V.push(NaN,NaN),V.push(NaN,NaN);else{var te=(F[X*2+1]+F[X*2+3])/2;V.push(F[X*2],F[X*2+1],F[X*2],te,F[X*2+2],te)}V.push(F[B-2],F[B-1])}else if(z.line.shape==="vh"){for(V=[],X=0;X<N-1;X++)isNaN(F[X*2])||isNaN(F[X*2+1])?V.push(NaN,NaN,NaN,NaN):(V.push(F[X*2],F[X*2+1]),!isNaN(F[X*2+2])&&!isNaN(F[X*2+3])?V.push(F[X*2],F[X*2+3]):V.push(NaN,NaN));V.push(F[B-2],F[B-1])}else V=F;var ne=!1;for(X=0;X<V.length;X++)if(isNaN(V[X])){ne=!0;break}var ce=ne||V.length>u.TOO_MANY_POINTS||i.hasMarkers(z)?"rect":"round";if(ne&&z.connectgaps){var Q=V[0],Z=V[1];for(X=0;X<V.length;X+=2)isNaN(V[X])||isNaN(V[X+1])?(V[X]=Q,V[X+1]=Z):(Q=V[X],Z=V[X+1])}return{join:ce,positions:V}}function O(U,z,F,B,N){var V=C.getComponentMethod("errorbars","makeComputeError"),X=r.getFromId(U,z.xaxis,"x"),q=r.getFromId(U,z.yaxis,"y"),te=F.length/2,ne={};function ce(Q,Z){var re=Z._id.charAt(0),Y=z["error_"+re];if(Y&&Y.visible&&(Z.type==="linear"||Z.type==="log")){for(var oe=V(Y),ue={x:0,y:1}[re],K={x:[0,1,2,3],y:[2,3,0,1]}[re],$=new Float64Array(4*te),le=1/0,ae=-1/0,he=0,xe=0;he<te;he++,xe+=4){var Me=Q[he];if(g(Me)){var Ae=F[he*2+ue],ke=oe(Me,he),we=ke[0],Ee=ke[1];if(g(we)&&g(Ee)){var be=Me-we,Le=Me+Ee;$[xe+K[0]]=Ae-Z.c2l(be),$[xe+K[1]]=Z.c2l(Le)-Ae,$[xe+K[2]]=0,$[xe+K[3]]=0,le=Math.min(le,Me-we),ae=Math.max(ae,Me+Ee)}}}ne[re]={positions:F,errors:$,_bnds:[le,ae]}}}return ce(B,X),ce(N,q),ne}function _(U,z,F,B){var N=z._length,V={},X;if(i.hasMarkers(z)){var q=F.font,te=F.align,ne=F.baseline;for(V.offset=new Array(N),X=0;X<N;X++){var ce=B.sizes?B.sizes[X]:B.size,Q=v(q)?q[X].size:q.size,Z=v(te)?te.length>1?te[X]:te[0]:te,re=v(ne)?ne.length>1?ne[X]:ne[0]:ne,Y=m[Z],oe=m[re],ue=ce?ce/.8+1:0,K=-oe*ue-oe*.5;V.offset[X]=[Y*ue/Q,K/Q]}}return V}H.exports={style:A,markerStyle:o,markerSelection:p,linePositions:w,errorBarPositions:O,textPosition:_}},80220:function(H,G,e){var g=e(3400),R=e(24040),a=e(80088),C=e(2876),S=e(88200),v=e(43028),d=e(43980),r=e(31147),t=e(74428),i=e(66828),n=e(70840),f=e(124);H.exports=function(l,m,c,A){function h(M,s){return g.coerce(l,m,C,M,s)}var o=l.marker?a.isOpenSymbol(l.marker.symbol):!1,p=v.isBubble(l),b=d(l,m,A,h);if(!b){m.visible=!1;return}r(l,m,A,h),h("xhoverformat"),h("yhoverformat");var T=b<S.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",T),v.hasMarkers(m)&&(t(l,m,c,A,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",o||p?1:0)),v.hasLines(m)&&(h("connectgaps"),i(l,m,c,A,h),h("line.shape")),v.hasText(m)&&(h("texttemplate"),f(l,m,A,h));var P=(m.line||{}).color,x=(m.marker||{}).color;h("fill"),m.fill!=="none"&&n(l,m,c,h);var L=R.getComponentMethod("errorbars","supplyDefaults");L(l,m,P||x||c,{axis:"y"}),L(l,m,P||x||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(m,h)}},26768:function(H,G,e){var g=e(3400),R=e(76308),a=e(13448).DESELECTDIM;function C(S){var v=S[0],d=v.trace,r=v.t,t=r._scene,i=r.index,n=t.selectBatch[i],f=t.unselectBatch[i],u=t.textOptions[i],l=t.textSelectedOptions[i]||{},m=t.textUnselectedOptions[i]||{},c=g.extendFlat({},u),A,h;if(n.length||f.length){var o=l.color,p=m.color,b=u.color,T=g.isArrayOrTypedArray(b);for(c.color=new Array(d._length),A=0;A<n.length;A++)h=n[A],c.color[h]=o||(T?b[h]:b);for(A=0;A<f.length;A++){h=f[A];var P=T?b[h]:b;c.color[h]=p||(o?P:R.addOpacity(P,a))}}t.glText[i].update(c)}H.exports={styleTextSelection:C}},99396:function(H,G,e){var g=e(76688);H.exports=function(a,C,S){var v=a.i;return"x"in a||(a.x=C._x[v]),"y"in a||(a.y=C._y[v]),g(a,C,S)}},80088:function(H,G,e){var g=e(67072);G.isOpenSymbol=function(R){return typeof R=="string"?g.OPEN_RE.test(R):R%200>100},G.isDotSymbol=function(R){return typeof R=="string"?g.DOT_RE.test(R):R>200}},41272:function(H,G,e){var g=e(24040),R=e(3400),a=e(44928);function C(v,d,r,t){var i=v.cd,n=i[0].t,f=i[0].trace,u=v.xa,l=v.ya,m=n.x,c=n.y,A=u.c2p(d),h=l.c2p(r),o=v.distance,p;if(n.tree){var b=u.p2c(A-o),T=u.p2c(A+o),P=l.p2c(h-o),x=l.p2c(h+o);t==="x"?p=n.tree.range(Math.min(b,T),Math.min(l._rl[0],l._rl[1]),Math.max(b,T),Math.max(l._rl[0],l._rl[1])):p=n.tree.range(Math.min(b,T),Math.min(P,x),Math.max(b,T),Math.max(P,x))}else p=n.ids;var L,M,s,E,w,O,_,U,z,F=o;if(t==="x"){var B=!!f.xperiodalignment,N=!!f.yperiodalignment;for(w=0;w<p.length;w++){if(L=p[w],s=m[L],O=Math.abs(u.c2p(s)-A),B){var V=u.c2p(f._xStarts[L]),X=u.c2p(f._xEnds[L]);O=A>=Math.min(V,X)&&A<=Math.max(V,X)?0:1/0}if(O<F){if(F=O,E=c[L],_=l.c2p(E)-h,N){var q=l.c2p(f._yStarts[L]),te=l.c2p(f._yEnds[L]);_=h>=Math.min(q,te)&&h<=Math.max(q,te)?0:1/0}z=Math.sqrt(O*O+_*_),M=p[w]}}}else for(w=p.length-1;w>-1;w--)L=p[w],s=m[L],E=c[L],O=u.c2p(s)-A,_=l.c2p(E)-h,U=Math.sqrt(O*O+_*_),U<F&&(F=z=U,M=L);return v.index=M,v.distance=F,v.dxy=z,M===void 0?[v]:[S(v,m,c,f)]}function S(v,d,r,t){var i=v.xa,n=v.ya,f=v.distance,u=v.dxy,l=v.index,m={pointNumber:l,x:d[l],y:r[l]};m.tx=R.isArrayOrTypedArray(t.text)?t.text[l]:t.text,m.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,m.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,m.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var c=t.textfont;c&&(m.ts=R.isArrayOrTypedArray(c.size)?c.size[l]:c.size,m.tc=R.isArrayOrTypedArray(c.color)?c.color[l]:c.color,m.tf=Array.isArray(c.family)?c.family[l]:c.family,m.tw=Array.isArray(c.weight)?c.weight[l]:c.weight,m.ty=Array.isArray(c.style)?c.style[l]:c.style,m.tv=Array.isArray(c.variant)?c.variant[l]:c.variant);var A=t.marker;A&&(m.ms=R.isArrayOrTypedArray(A.size)?A.size[l]:A.size,m.mo=R.isArrayOrTypedArray(A.opacity)?A.opacity[l]:A.opacity,m.mx=R.isArrayOrTypedArray(A.symbol)?A.symbol[l]:A.symbol,m.ma=R.isArrayOrTypedArray(A.angle)?A.angle[l]:A.angle,m.mc=R.isArrayOrTypedArray(A.color)?A.color[l]:A.color);var h=A&&A.line;h&&(m.mlc=Array.isArray(h.color)?h.color[l]:h.color,m.mlw=R.isArrayOrTypedArray(h.width)?h.width[l]:h.width);var o=A&&A.gradient;o&&o.type!=="none"&&(m.mgt=Array.isArray(o.type)?o.type[l]:o.type,m.mgc=Array.isArray(o.color)?o.color[l]:o.color);var p=i.c2p(m.x,!0),b=n.c2p(m.y,!0),T=m.mrc||1,P=t.hoverlabel;P&&(m.hbg=Array.isArray(P.bgcolor)?P.bgcolor[l]:P.bgcolor,m.hbc=Array.isArray(P.bordercolor)?P.bordercolor[l]:P.bordercolor,m.hts=R.isArrayOrTypedArray(P.font.size)?P.font.size[l]:P.font.size,m.htc=Array.isArray(P.font.color)?P.font.color[l]:P.font.color,m.htf=Array.isArray(P.font.family)?P.font.family[l]:P.font.family,m.hnl=R.isArrayOrTypedArray(P.namelength)?P.namelength[l]:P.namelength);var x=t.hoverinfo;x&&(m.hi=Array.isArray(x)?x[l]:x);var L=t.hovertemplate;L&&(m.ht=Array.isArray(L)?L[l]:L);var M={};M[v.index]=m;var s=t._origX,E=t._origY,w=R.extendFlat({},v,{color:a(t,m),x0:p-T,x1:p+T,xLabelVal:s?s[l]:m.x,y0:b-T,y1:b+T,yLabelVal:E?E[l]:m.y,cd:M,distance:f,spikeDistance:u,hovertemplate:m.ht});return m.htx?w.text=m.htx:m.tx?w.text=m.tx:t.text&&(w.text=t.text),R.fillText(m,t,w),g.getComponentMethod("errorbars","hoverInfo")(m,t,w),w}H.exports={hoverPoints:C,calcHover:S}},38983:function(H,G,e){var g=e(64628);g.plot=e(89876),H.exports=g},89876:function(H,G,e){var g=e(38540),R=e(13472),a=e(24544),C=e(23352),S=e(3400),v=e(72760).selectMode,d=e(5048),r=e(43028),t=e(14328),i=e(26768).styleTextSelection,n={};function f(l,m,c,A){var h=l._size,o=l.width*A,p=l.height*A,b=h.l*A,T=h.b*A,P=h.r*A,x=h.t*A,L=h.w*A,M=h.h*A;return[b+m.domain[0]*L,T+c.domain[0]*M,o-P-(1-m.domain[1])*L,p-x-(1-c.domain[1])*M]}var u=H.exports=function(m,c,A){if(A.length){var h=m._fullLayout,o=c._scene,p=c.xaxis,b=c.yaxis,T,P;if(o){var x=d(m,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!x){o.init();return}var L=o.count,M=h._glcanvas.data()[0].regl;if(t(m,c,A),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&M.clear({}),o.error2d===!0&&(o.error2d=a(M)),o.line2d===!0&&(o.line2d=R(M)),o.scatter2d===!0&&(o.scatter2d=g(M)),o.fill2d===!0&&(o.fill2d=R(M)),o.glText===!0)for(o.glText=new Array(L),T=0;T<L;T++)o.glText[T]=new C(M);if(o.glText){if(L>o.glText.length){var s=L-o.glText.length;for(T=0;T<s;T++)o.glText.push(new C(M))}else if(L<o.glText.length){var E=o.glText.length-L,w=o.glText.splice(L,E);w.forEach(function(K){K.destroy()})}for(T=0;T<L;T++)o.glText[T].update(o.textOptions[T])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(K){if(K&&K.positions){for(var $=K.positions,le=0;le<$.length&&(isNaN($[le])||isNaN($[le+1]));)le+=2;for(var ae=$.length-2;ae>le&&(isNaN($[ae])||isNaN($[ae+1]));)ae-=2;K.positions=$.slice(le,ae+2)}return K}),o.line2d.update(o.lineOptions)),o.error2d){var O=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(O)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=S.repeat(null,L),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(K,$){var le=A[$];if(!(!K||!le||!le[0]||!le[0].trace)){var ae=le[0],he=ae.trace,xe=ae.t,Me=o.lineOptions[$],Ae,ke,we=[];he._ownfill&&we.push($),he._nexttrace&&we.push($+1),we.length&&(o.fillOrder[$]=we);var Ee=[],be=Me&&Me.positions||xe.positions,Le,Ue;if(he.fill==="tozeroy"){for(Le=0;Le<be.length&&isNaN(be[Le+1]);)Le+=2;for(Ue=be.length-2;Ue>Le&&isNaN(be[Ue+1]);)Ue-=2;be[Le+1]!==0&&(Ee=[be[Le],0]),Ee=Ee.concat(be.slice(Le,Ue+2)),be[Ue+1]!==0&&(Ee=Ee.concat([be[Ue],0]))}else if(he.fill==="tozerox"){for(Le=0;Le<be.length&&isNaN(be[Le]);)Le+=2;for(Ue=be.length-2;Ue>Le&&isNaN(be[Ue]);)Ue-=2;be[Le]!==0&&(Ee=[0,be[Le+1]]),Ee=Ee.concat(be.slice(Le,Ue+2)),be[Ue]!==0&&(Ee=Ee.concat([0,be[Ue+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Ee=[],Ae=0,K.splitNull=!0,ke=0;ke<be.length;ke+=2)(isNaN(be[ke])||isNaN(be[ke+1]))&&(Ee=Ee.concat(be.slice(Ae,ke)),Ee.push(be[Ae],be[Ae+1]),Ee.push(null,null),Ae=ke+2);Ee=Ee.concat(be.slice(Ae)),Ae&&Ee.push(be[Ae],be[Ae+1])}else{var Ve=he._nexttrace;if(Ve){var Fe=o.lineOptions[$+1];if(Fe){var He=Fe.positions;if(he.fill==="tonexty"){for(Ee=be.slice(),$=Math.floor(He.length/2);$--;){var st=He[$*2],vt=He[$*2+1];isNaN(st)||isNaN(vt)||Ee.push(st,vt)}K.fill=Ve.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var lt=o.lineOptions[$-1].positions,et=Ee.length/2;Ae=et;var ct=[Ae];for(ke=0;ke<lt.length;ke+=2)(isNaN(lt[ke])||isNaN(lt[ke+1]))&&(ct.push(ke/2+et+1),Ae=ke+2);Ee=Ee.concat(lt),K.hole=ct}return K.fillmode=he.fill,K.opacity=he.opacity,K.positions=Ee,K}}),o.fill2d.update(o.fillOptions))}var _=h.dragmode,U=v(_),z=h.clickmode.indexOf("select")>-1;for(T=0;T<L;T++){var F=A[T][0],B=F.trace,N=F.t,V=N.index,X=B._length,q=N.x,te=N.y;if(B.selectedpoints||U||z){if(U||(U=!0),B.selectedpoints){var ne=o.selectBatch[V]=S.selIndices2selPoints(B),ce={};for(P=0;P<ne.length;P++)ce[ne[P]]=1;var Q=[];for(P=0;P<X;P++)ce[P]||Q.push(P);o.unselectBatch[V]=Q}var Z=N.xpx=new Array(X),re=N.ypx=new Array(X);for(P=0;P<X;P++)Z[P]=p.c2p(q[P]),re[P]=b.c2p(te[P])}else N.xpx=N.ypx=null}if(U){if(o.select2d||(o.select2d=g(h._glcanvas.data()[1].regl)),o.scatter2d){var Y=new Array(L);for(T=0;T<L;T++)Y[T]=o.selectBatch[T].length||o.unselectBatch[T].length?o.markerUnselectedOptions[T]:{};o.scatter2d.update(Y)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&A.forEach(function(K){var $=((K||[])[0]||{}).trace||{};r.hasText($)&&i(K)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var oe={viewport:f(h,p,b,m._context.plotGlPixelRatio),range:[(p._rl||p.range)[0],(b._rl||b.range)[0],(p._rl||p.range)[1],(b._rl||b.range)[1]]},ue=S.repeat(oe,o.count);o.fill2d&&o.fill2d.update(ue),o.line2d&&o.line2d.update(ue),o.error2d&&o.error2d.update(ue.concat(ue)),o.scatter2d&&o.scatter2d.update(ue),o.select2d&&o.select2d.update(ue),o.glText&&o.glText.forEach(function(K){K.update(oe)})}}};u.reglPrecompiled=n},74588:function(H,G,e){var g=e(3400);H.exports=function(a,C){var S=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},d={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(S=C._scene={},S.init=function(){g.extendFlat(S,d,v)},S.init(),S.update=function(t){var i=g.repeat(t,S.count);if(S.fill2d&&S.fill2d.update(i),S.scatter2d&&S.scatter2d.update(i),S.line2d&&S.line2d.update(i),S.error2d&&S.error2d.update(i.concat(i)),S.select2d&&S.select2d.update(i),S.glText)for(var n=0;n<S.count;n++)S.glText[n].update(t)},S.draw=function(){for(var t=S.count,i=S.fill2d,n=S.error2d,f=S.line2d,u=S.scatter2d,l=S.glText,m=S.select2d,c=S.selectBatch,A=S.unselectBatch,h=0;h<t;h++){if(i&&S.fillOrder[h]&&i.draw(S.fillOrder[h]),f&&S.lineOptions[h]&&f.draw(h),n&&(S.errorXOptions[h]&&n.draw(h),S.errorYOptions[h]&&n.draw(h+t)),u&&S.markerOptions[h])if(A[h].length){var o=g.repeat([],S.count);o[h]=A[h],u.draw(o)}else c[h].length||u.draw(h);l[h]&&S.textOptions[h]&&l[h].render()}m&&m.draw(c),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(t){t.destroy&&t.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,C._scene=null}),S.dirty||g.extendFlat(S,v),S}},73224:function(H,G,e){var g=e(43028),R=e(26768).styleTextSelection;H.exports=function(C,S){var v=C.cd,d=C.xaxis,r=C.yaxis,t=[],i=v[0].trace,n=v[0].t,f=i._length,u=n.x,l=n.y,m=n._scene,c=n.index;if(!m)return t;var A=g.hasText(i),h=g.hasMarkers(i),o=!h&&!A;if(i.visible!==!0||o)return t;var p=[],b=[];if(S!==!1&&!S.degenerate)for(var T=0;T<f;T++)S.contains([n.xpx[T],n.ypx[T]],!1,T,C)?(p.push(T),t.push({pointNumber:T,x:d.c2d(u[T]),y:r.c2d(l[T])})):b.push(T);if(h){var P=m.scatter2d;if(!p.length&&!b.length){var x=new Array(m.count);x[c]=m.markerOptions[c],P.update.apply(P,x)}else if(!m.selectBatch[c].length&&!m.unselectBatch[c].length){var L=new Array(m.count);L[c]=m.markerUnselectedOptions[c],P.update.apply(P,L)}}return m.selectBatch[c]=p,m.unselectBatch[c]=b,A&&R(v),t}},31512:function(H,G,e){var g=e(21776).Ks,R=e(21776).Gw,a=e(98304),C=e(6096),S=e(52904),v=e(5232),d=e(45464),r=e(49084),t=e(92880).extendFlat,i=e(67824).overrideAll,n=e(5232),f=C.line,u=C.marker;H.exports=i({lon:C.lon,lat:C.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},S.mode,{dflt:"markers"}),text:t({},S.text,{}),texttemplate:R({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},S.hovertext,{}),line:{color:f.color,width:f.width},connectgaps:S.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:C.fill,fillcolor:a(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:t({},d.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},59392:function(H,G,e){var g=e(38248),R=e(3400),a=e(39032).BADNUM,C=e(44808),S=e(8932),v=e(43616),d=e(7152),r=e(43028),t=e(89032),i=e(10624).appendArrayPointValue,n=e(72736).NEWLINES,f=e(72736).BR_TAG_ALL;H.exports=function(T,P){var x=P[0].trace,L=x.visible===!0&&x._length!==0,M=x.fill!=="none",s=r.hasLines(x),E=r.hasMarkers(x),w=r.hasText(x),O=E&&x.marker.symbol==="circle",_=E&&x.marker.symbol!=="circle",U=x.cluster&&x.cluster.enabled,z=u("fill"),F=u("line"),B=u("circle"),N=u("symbol"),V={fill:z,line:F,circle:B,symbol:N};if(!L)return V;var X;if((M||s)&&(X=C.calcTraceToLineCoords(P)),M&&(z.geojson=C.makePolygon(X),z.layout.visibility="visible",R.extendFlat(z.paint,{"fill-color":x.fillcolor})),s&&(F.geojson=C.makeLine(X),F.layout.visibility="visible",R.extendFlat(F.paint,{"line-width":x.line.width,"line-color":x.line.color,"line-opacity":x.opacity})),O){var q=l(P);B.geojson=q.geojson,B.layout.visibility="visible",U&&(B.filter=["!",["has","point_count"]],V.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(x.cluster.color,x.cluster.step),"circle-radius":o(x.cluster.size,x.cluster.step),"circle-opacity":o(x.cluster.opacity,x.cluster.step)}},V.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":p(x),"text-size":12}}),R.extendFlat(B.paint,{"circle-color":q.mcc,"circle-radius":q.mrc,"circle-opacity":q.mo})}if(O&&U&&(B.filter=["!",["has","point_count"]]),(_||w)&&(N.geojson=m(P,T),R.extendFlat(N.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),_&&(R.extendFlat(N.layout,{"icon-size":x.marker.size/10}),"angle"in x.marker&&x.marker.angle!=="auto"&&R.extendFlat(N.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),N.layout["icon-allow-overlap"]=x.marker.allowoverlap,R.extendFlat(N.paint,{"icon-opacity":x.opacity*x.marker.opacity,"icon-color":x.marker.color})),w)){var te=(x.marker||{}).size,ne=t(x.textposition,te);R.extendFlat(N.layout,{"text-size":x.textfont.size,"text-anchor":ne.anchor,"text-offset":ne.offset,"text-font":p(x)}),R.extendFlat(N.paint,{"text-color":x.textfont.color,"text-opacity":x.opacity})}return V};function u(b){return{type:b,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(b){var T=b[0].trace,P=T.marker,x=T.selectedpoints,L=R.isArrayOrTypedArray(P.color),M=R.isArrayOrTypedArray(P.size),s=R.isArrayOrTypedArray(P.opacity),E;function w(te){return T.opacity*te}function O(te){return te/2}var _;L&&(S.hasColorscale(T,"marker")?_=S.makeColorScaleFuncFromTrace(P):_=R.identity);var U;M&&(U=d(T));var z;s&&(z=function(te){var ne=g(te)?+R.constrain(te,0,1):0;return w(ne)});var F=[];for(E=0;E<b.length;E++){var B=b[E],N=B.lonlat;if(!h(N)){var V={};_&&(V.mcc=B.mcc=_(B.mc)),U&&(V.mrc=B.mrc=U(B.ms)),z&&(V.mo=z(B.mo)),x&&(V.selected=B.selected||0),F.push({type:"Feature",id:E+1,geometry:{type:"Point",coordinates:N},properties:V})}}var X;if(x)for(X=v.makeSelectedPointStyleFns(T),E=0;E<F.length;E++){var q=F[E].properties;X.selectedOpacityFn&&(q.mo=w(X.selectedOpacityFn(q))),X.selectedColorFn&&(q.mcc=X.selectedColorFn(q)),X.selectedSizeFn&&(q.mrc=X.selectedSizeFn(q))}return{geojson:{type:"FeatureCollection",features:F},mcc:L||X&&X.selectedColorFn?{type:"identity",property:"mcc"}:P.color,mrc:M||X&&X.selectedSizeFn?{type:"identity",property:"mrc"}:O(P.size),mo:s||X&&X.selectedOpacityFn?{type:"identity",property:"mo"}:w(P.opacity)}}function m(b,T){for(var P=T._fullLayout,x=b[0].trace,L=x.marker||{},M=L.symbol,s=L.angle,E=M!=="circle"?c(M):A,w=s!=="auto"?c(s,!0):A,O=r.hasText(x)?c(x.text):A,_=[],U=0;U<b.length;U++){var z=b[U];if(!h(z.lonlat)){var F=x.texttemplate,B;if(F){var N=Array.isArray(F)?F[U]||"":F,V=x._module.formatLabels(z,x,P),X={};i(X,x,z.i);var q=x._meta||{};B=R.texttemplateString(N,V,P._d3locale,X,z,q)}else B=O(U);B&&(B=B.replace(n,"").replace(f,`
`)),_.push({type:"Feature",geometry:{type:"Point",coordinates:z.lonlat},properties:{symbol:E(U),angle:w(U),text:B}})}}return{type:"FeatureCollection",features:_}}function c(b,T){return R.isArrayOrTypedArray(b)?T?function(P){return g(b[P])?+b[P]:0}:function(P){return b[P]}:b?function(){return b}:A}function A(){return""}function h(b){return b[0]===a}function o(b,T){var P;if(R.isArrayOrTypedArray(b)&&R.isArrayOrTypedArray(T)){P=["step",["get","point_count"],b[0]];for(var x=1;x<b.length;x++)P.push(T[x-1],b[x])}else P=b;return P}function p(b){var T=b.textfont,P="";T.weight==="bold"&&(P+=" Bold"),T.style==="italic"&&(P+=" Italic");var x=T.family;return P&&(x=x.replace(" Regular",P)),x=x.split(", "),x}},15752:function(H,G,e){var g=e(3400),R=e(43028),a=e(74428),C=e(66828),S=e(124),v=e(70840),d=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];H.exports=function(n,f,u,l){function m(M,s){return g.coerce(n,f,d,M,s)}function c(M,s){return g.coerce2(n,f,d,M,s)}var A=t(n,f,m);if(!A){f.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),R.hasMarkers(f)){a(n,f,u,l,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var h=f.marker;h.symbol!=="circle"&&(g.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),g.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}R.hasLines(f)&&(C(n,f,u,l,m,{noDash:!0}),m("connectgaps"));var o=c("cluster.maxzoom"),p=c("cluster.step"),b=c("cluster.color",f.marker&&f.marker.color||u),T=c("cluster.size"),P=c("cluster.opacity"),x=o!==!1||p!==!1||b!==!1||T!==!1||P!==!1,L=m("cluster.enabled",x);(L||R.hasText(f))&&S(n,f,l,m,{noSelect:!0,noFontVariant:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",weight:l.font.weight,style:l.font.style,size:l.font.size,color:l.font.color}}),m("fill"),f.fill!=="none"&&v(n,f,u,m),g.coerceSelectionMarkerOpacity(f,m)};function t(i,n,f){var u=f("lon")||[],l=f("lat")||[],m=Math.min(u.length,l.length);return n._length=m,m}},37920:function(H){H.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},11960:function(H,G,e){var g=e(54460);H.exports=function(a,C,S){var v={},d=S[C.subplot]._subplot,r=d.mockAxis,t=a.lonlat;return v.lonLabel=g.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=g.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(H,G,e){var g=e(93024),R=e(3400),a=e(44928),C=R.fillText,S=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function d(t,i,n){var f=t.cd,u=f[0].trace,l=t.xa,m=t.ya,c=t.subplot,A=[],h=v+u.uid+"-circle",o=u.cluster&&u.cluster.enabled;if(o){var p=c.map.queryRenderedFeatures(null,{layers:[h]});A=p.map(function(z){return z.id})}var b=i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360),T=b*360,P=i-T;function x(z){var F=z.lonlat;if(F[0]===S||o&&A.indexOf(z.i+1)===-1)return 1/0;var B=R.modHalf(F[0],360),N=F[1],V=c.project([B,N]),X=V.x-l.c2p([P,N]),q=V.y-m.c2p([B,n]),te=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(X*X+q*q)-te,1-3/te)}if(g.getClosest(f,x,t),t.index!==!1){var L=f[t.index],M=L.lonlat,s=[R.modHalf(M[0],360)+T,M[1]],E=l.c2p(s),w=m.c2p(s),O=L.mrc||1;t.x0=E-O,t.x1=E+O,t.y0=w-O,t.y1=w+O;var _={};_[u.subplot]={_subplot:c};var U=u._module.formatLabels(L,u,_);return t.lonLabel=U.lonLabel,t.latLabel=U.latLabel,t.color=a(u,L),t.extraText=r(u,L,f[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,i,n){if(t.hovertemplate)return;var f=i.hi||t.hoverinfo,u=f.split("+"),l=u.indexOf("all")!==-1,m=u.indexOf("lon")!==-1,c=u.indexOf("lat")!==-1,A=i.lonlat,h=[];function o(p){return p+""}return l||m&&c?h.push("("+o(A[1])+", "+o(A[0])+")"):m?h.push(n.lon+o(A[0])):c&&h.push(n.lat+o(A[1])),(l||u.indexOf("text")!==-1)&&C(i,t,h),h.join("<br>")}H.exports={hoverPoints:d,getExtraText:r}},11572:function(H,G,e){H.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(g,R){if(R){var a=R[0].trace;a._glTrace.update(R)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(H,G,e){var g=e(3400),R=e(59392),a=e(47552).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function S(d,r,t,i){this.type="scattermapbox",this.subplot=d,this.uid=r,this.clusterEnabled=t,this.isHidden=i,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:a+r+"-fill",line:a+r+"-line",circle:a+r+"-circle",symbol:a+r+"-symbol",cluster:a+r+"-cluster",clusterCount:a+r+"-cluster-count"},this.below=null}var v=S.prototype;v.addSource=function(d,r,t){var i={type:"geojson",data:r.geojson};t&&t.enabled&&g.extendFlat(i,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[d]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[d],i)},v.setSourceData=function(d,r){this.subplot.map.getSource(this.sourceIds[d]).setData(r.geojson)},v.addLayer=function(d,r,t){var i={type:r.type,id:this.layerIds[d],source:this.sourceIds[d],layout:r.layout,paint:r.paint};r.filter&&(i.filter=r.filter);for(var n=this.layerIds[d],f,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===n){f=!0;break}f?(this.subplot.setOptions(n,"setLayoutProperty",i.layout),i.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",i.paint)):this.subplot.addLayer(i,t)},v.update=function(r){var t=r[0].trace,i=this.subplot,n=i.map,f=R(i.gd,r),u=i.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),m=!!this.clusterEnabled,c=this;function A(M){M||c.addSource("circle",f.circle,t.cluster);for(var s=C.cluster,E=0;E<s.length;E++){var w=s[E],O=f[w];c.addLayer(w,O,u)}}function h(M){for(var s=C.cluster,E=s.length-1;E>=0;E--){var w=s[E];n.removeLayer(c.layerIds[w])}M||n.removeSource(c.sourceIds.circle)}function o(M){for(var s=C.nonCluster,E=0;E<s.length;E++){var w=s[E],O=f[w];M||c.addSource(w,O),c.addLayer(w,O,u)}}function p(M){for(var s=C.nonCluster,E=s.length-1;E>=0;E--){var w=s[E];n.removeLayer(c.layerIds[w]),M||n.removeSource(c.sourceIds[w])}}function b(M){m?h(M):p(M)}function T(M){l?A(M):o(M)}function P(){for(var M=l?C.cluster:C.nonCluster,s=0;s<M.length;s++){var E=M[s],w=f[E];w&&(i.setOptions(c.layerIds[E],"setLayoutProperty",w.layout),w.layout.visibility==="visible"&&(E!=="cluster"&&c.setSourceData(E,w),i.setOptions(c.layerIds[E],"setPaintProperty",w.paint)))}}var x=this.isHidden,L=t.visible!==!0;L?x||b():x?L||T():m!==l?(b(),T()):(this.below!==u&&(b(!0),T(!0)),P()),this.clusterEnabled=l,this.isHidden=L,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?C.cluster:C.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},H.exports=function(r,t){var i=t[0].trace,n=i.cluster&&i.cluster.enabled,f=i.visible!==!0,u=new S(r,i.uid,n,f),l=R(r.gd,t),m=u.below=r.belowLookup["trace-"+i.uid],c,A,h;if(n)for(u.addSource("circle",l.circle,i.cluster),c=0;c<C.cluster.length;c++)A=C.cluster[c],h=l[A],u.addLayer(A,h,m);else for(c=0;c<C.nonCluster.length;c++)A=C.nonCluster[c],h=l[A],u.addSource(A,h,i.cluster),u.addLayer(A,h,m);return t[0].trace._glTrace=u,u}},404:function(H,G,e){var g=e(3400),R=e(43028),a=e(39032).BADNUM;H.exports=function(S,v){var d=S.cd,r=S.xaxis,t=S.yaxis,i=[],n=d[0].trace,f;if(!R.hasMarkers(n))return[];if(v===!1)for(f=0;f<d.length;f++)d[f].selected=0;else for(f=0;f<d.length;f++){var u=d[f],l=u.lonlat;if(l[0]!==a){var m=[g.modHalf(l[0],360),l[1]],c=[r.c2p(m),t.c2p(m)];v.contains(c,null,f,S)?(i.push({pointNumber:f,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return i}},8319:function(H,G,e){var g=e(21776).Ks,R=e(21776).Gw,a=e(92880).extendFlat,C=e(98304),S=e(52904),v=e(45464),d=S.line;H.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:R({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:a({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:a({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:a({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:a({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:g(),selected:S.selected,unselected:S.unselected}},58320:function(H,G,e){var g=e(38248),R=e(39032).BADNUM,a=e(54460),C=e(90136),S=e(20148),v=e(4500),d=e(16356).calcMarkerSize;H.exports=function(t,i){for(var n=t._fullLayout,f=i.subplot,u=n[f].radialaxis,l=n[f].angularaxis,m=u.makeCalcdata(i,"r"),c=l.makeCalcdata(i,"theta"),A=i._length,h=new Array(A),o=0;o<A;o++){var p=m[o],b=c[o],T=h[o]={};g(p)&&g(b)?(T.r=p,T.theta=b):T.r=R}var P=d(i,A);return i._extremes.x=a.findExtremes(u,m,{ppad:P}),C(t,i),S(h,i),v(h,i),h}},85968:function(H,G,e){var g=e(3400),R=e(43028),a=e(74428),C=e(66828),S=e(11731),v=e(124),d=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function i(f,u,l,m){function c(o,p){return g.coerce(f,u,t,o,p)}var A=n(f,u,m,c);if(!A){u.visible=!1;return}c("thetaunit"),c("mode",A<r?"lines+markers":"lines"),c("text"),c("hovertext"),u.hoveron!=="fills"&&c("hovertemplate"),R.hasMarkers(u)&&a(f,u,l,m,c,{gradient:!0}),R.hasLines(u)&&(C(f,u,l,m,c,{backoff:!0}),S(f,u,c),c("connectgaps")),R.hasText(u)&&(c("texttemplate"),v(f,u,m,c));var h=[];(R.hasMarkers(u)||R.hasText(u))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),u.fill!=="none"&&(d(f,u,l,c),R.hasLines(u)||S(f,u,c)),(u.fill==="tonext"||u.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,c)}function n(f,u,l,m){var c=m("r"),A=m("theta");g.isTypedArray(c)&&(u.r=c=Array.from(c)),g.isTypedArray(A)&&(u.theta=A=Array.from(A));var h;if(c)A?h=Math.min(c.length,A.length):(h=c.length,m("theta0"),m("dtheta"));else{if(!A)return 0;h=u.theta.length,m("r0"),m("dr")}return u._length=h,h}H.exports={handleRThetaDefaults:n,supplyDefaults:i}},22852:function(H,G,e){var g=e(3400),R=e(54460);H.exports=function(C,S,v){var d={},r=v[S.subplot]._subplot,t,i;r?(t=r.radialAxis,i=r.angularAxis):(r=v[S.subplot],t=r.radialaxis,i=r.angularaxis);var n=t.c2l(C.r);d.rLabel=R.tickText(t,n,!0).text;var f=i.thetaunit==="degrees"?g.rad2deg(C.theta):C.theta;return d.thetaLabel=R.tickText(i,f,!0).text,d}},8504:function(H,G,e){var g=e(98723);function R(C,S,v,d){var r=g(C,S,v,d);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=C.subplot,n=t.cd[t.index],f=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,f,i,t),t.hovertemplate=f.hovertemplate,r}}function a(C,S,v,d){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="";var i={};i[S.subplot]={_subplot:v};var n=S._module.formatLabels(C,S,i);d.rLabel=n.rLabel,d.thetaLabel=n.thetaLabel;var f=C.hi||S.hoverinfo,u=[];function l(c,A){u.push(c._hovertitle+": "+A)}if(!S.hovertemplate){var m=f.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&l(r,d.rLabel),m.indexOf("theta")!==-1&&l(t,d.thetaLabel),m.indexOf("text")!==-1&&d.text&&(u.push(d.text),delete d.text),d.extraText=u.join("<br>")}}H.exports={hoverPoints:R,makeHoverPointText:a}},76924:function(H,G,e){H.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(H,G,e){var g=e(96504),R=e(39032).BADNUM;H.exports=function(C,S,v){for(var d=S.layers.frontplot.select("g.scatterlayer"),r=S.xaxis,t=S.yaxis,i={xaxis:r,yaxis:t,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},n=S.radialAxis,f=S.angularAxis,u=0;u<v.length;u++)for(var l=v[u],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var c=l[m],A=c.r;if(A===R)c.x=c.y=R;else{var h=n.c2g(A),o=f.c2g(c.theta);c.x=h*Math.cos(o),c.y=h*Math.sin(o)}}g(C,i,v,d)}},24396:function(H,G,e){var g=e(8319),R=e(2876),a=e(21776).Gw;H.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:{color:R.line.color,width:R.line.width,dash:R.line.dash,editType:"calc"},connectgaps:R.connectgaps,marker:R.marker,fill:R.fill,fillcolor:R.fillcolor,textposition:R.textposition,textfont:R.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},27160:function(H,G,e){H.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(H,G,e){var g=e(90136),R=e(16356).calcMarkerSize,a=e(84236),C=e(54460),S=e(67072).TOO_MANY_POINTS;H.exports=function(d,r){var t=d._fullLayout,i=r.subplot,n=t[i].radialaxis,f=t[i].angularaxis,u=r._r=n.makeCalcdata(r,"r"),l=r._theta=f.makeCalcdata(r,"theta"),m=r._length,c={};m<u.length&&(u=u.slice(0,m)),m<l.length&&(l=l.slice(0,m)),c.r=u,c.theta=l,g(d,r);var A=c.opts=a.style(d,r),h;return m<S?h=R(r,m):A.marker&&(h=2*(A.marker.sizeAvg||Math.max(A.marker.size,3))),r._extremes.x=C.findExtremes(n,u,{ppad:h}),[{x:!1,y:!1,t:c,trace:r}]}},98608:function(H,G,e){var g=e(3400),R=e(43028),a=e(85968).handleRThetaDefaults,C=e(74428),S=e(66828),v=e(124),d=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);H.exports=function(n,f,u,l){function m(A,h){return g.coerce(n,f,t,A,h)}var c=a(n,f,l,m);if(!c){f.visible=!1;return}m("thetaunit"),m("mode",c<r?"lines+markers":"lines"),m("text"),m("hovertext"),f.hoveron!=="fills"&&m("hovertemplate"),R.hasMarkers(f)&&C(n,f,u,l,m,{noAngleRef:!0,noStandOff:!0}),R.hasLines(f)&&(S(n,f,u,l,m),m("connectgaps")),R.hasText(f)&&(m("texttemplate"),v(n,f,l,m)),m("fill"),f.fill!=="none"&&d(n,f,u,m),g.coerceSelectionMarkerOpacity(f,m)}},94120:function(H,G,e){var g=e(22852);H.exports=function(a,C,S){var v=a.i;return"r"in a||(a.r=C._r[v]),"theta"in a||(a.theta=C._theta[v]),g(a,C,S)}},1600:function(H,G,e){var g=e(41272),R=e(8504).makeHoverPointText;function a(C,S,v,d){var r=C.cd,t=r[0].t,i=t.r,n=t.theta,f=g.hoverPoints(C,S,v,d);if(!(!f||f[0].index===!1)){var u=f[0];if(u.index===void 0)return f;var l=C.subplot,m=u.cd[u.index],c=u.trace;if(m.r=i[u.index],m.theta=n[u.index],!!l.isPtInside(m))return u.xLabelVal=void 0,u.yLabelVal=void 0,R(m,c,l,u),f}}H.exports={hoverPoints:a}},62944:function(H,G,e){var g=e(27160);g.plot=e(56512),H.exports=g},56512:function(H,G,e){var g=e(3108),R=e(38248),a=e(89876),C=e(74588),S=e(84236),v=e(3400),d=e(67072).TOO_MANY_POINTS,r={};H.exports=function(i,n,f){if(f.length){var u=n.radialAxis,l=n.angularAxis,m=C(i,n);return f.forEach(function(c){if(!(!c||!c[0]||!c[0].trace)){var A=c[0],h=A.trace,o=A.t,p=h._length,b=o.r,T=o.theta,P=o.opts,x,L=b.slice(),M=T.slice();for(x=0;x<b.length;x++)n.isPtInside({r:b[x],theta:T[x]})||(L[x]=NaN,M[x]=NaN);var s=new Array(p*2),E=Array(p),w=Array(p);for(x=0;x<p;x++){var O=L[x],_,U;if(R(O)){var z=u.c2g(O),F=l.c2g(M[x],h.thetaunit);_=z*Math.cos(F),U=z*Math.sin(F)}else _=U=NaN;E[x]=s[x*2]=_,w[x]=s[x*2+1]=U}o.tree=g(s),P.marker&&p>=d&&(P.marker.cluster=o.tree),P.marker&&(P.markerSel.positions=P.markerUnsel.positions=P.marker.positions=s),P.line&&s.length>1&&v.extendFlat(P.line,S.linePositions(i,h,s)),P.text&&(v.extendFlat(P.text,{positions:s},S.textPosition(i,h,P.text,P.marker)),v.extendFlat(P.textSel,{positions:s},S.textPosition(i,h,P.text,P.markerSel)),v.extendFlat(P.textUnsel,{positions:s},S.textPosition(i,h,P.text,P.markerUnsel))),P.fill&&!m.fill2d&&(m.fill2d=!0),P.marker&&!m.scatter2d&&(m.scatter2d=!0),P.line&&!m.line2d&&(m.line2d=!0),P.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(P.line),m.fillOptions.push(P.fill),m.markerOptions.push(P.marker),m.markerSelectedOptions.push(P.markerSel),m.markerUnselectedOptions.push(P.markerUnsel),m.textOptions.push(P.text),m.textSelectedOptions.push(P.textSel),m.textUnselectedOptions.push(P.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),o.x=E,o.y=w,o.rawx=E,o.rawy=w,o.r=b,o.theta=T,o.positions=s,o._scene=m,o.index=m.count,m.count++}}),a(i,n,f)}},H.exports.reglPrecompiled=r},69496:function(H,G,e){var g=e(21776).Ks,R=e(21776).Gw,a=e(92880).extendFlat,C=e(98304),S=e(52904),v=e(45464),d=S.line;H.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:R({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:a({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:a({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:a({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:a({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:g(),selected:S.selected,unselected:S.unselected}},47507:function(H,G,e){var g=e(38248),R=e(39032).BADNUM,a=e(90136),C=e(20148),S=e(4500),v=e(16356).calcMarkerSize;H.exports=function(r,t){for(var i=r._fullLayout,n=t.subplot,f=i[n].realaxis,u=i[n].imaginaryaxis,l=f.makeCalcdata(t,"real"),m=u.makeCalcdata(t,"imag"),c=t._length,A=new Array(c),h=0;h<c;h++){var o=l[h],p=m[h],b=A[h]={};g(o)&&g(p)?(b.real=o,b.imag=p):b.real=R}return v(t,c),a(r,t),C(A,t),S(A,t),A}},76716:function(H,G,e){var g=e(3400),R=e(43028),a=e(74428),C=e(66828),S=e(11731),v=e(124),d=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);H.exports=function(f,u,l,m){function c(o,p){return g.coerce(f,u,t,o,p)}var A=i(f,u,m,c);if(!A){u.visible=!1;return}c("mode",A<r?"lines+markers":"lines"),c("text"),c("hovertext"),u.hoveron!=="fills"&&c("hovertemplate"),R.hasMarkers(u)&&a(f,u,l,m,c,{gradient:!0}),R.hasLines(u)&&(C(f,u,l,m,c,{backoff:!0}),S(f,u,c),c("connectgaps")),R.hasText(u)&&(c("texttemplate"),v(f,u,m,c));var h=[];(R.hasMarkers(u)||R.hasText(u))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),u.fill!=="none"&&(d(f,u,l,c),R.hasLines(u)||S(f,u,c)),(u.fill==="tonext"||u.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(u,c)};function i(n,f,u,l){var m=l("real"),c=l("imag"),A;return m&&c&&(A=Math.min(m.length,c.length)),g.isTypedArray(m)&&(f.real=m=Array.from(m)),g.isTypedArray(c)&&(f.imag=c=Array.from(c)),f._length=A,A}},49504:function(H,G,e){var g=e(54460);H.exports=function(a,C,S){var v={},d=S[C.subplot]._subplot;return v.realLabel=g.tickText(d.radialAxis,a.real,!0).text,v.imagLabel=g.tickText(d.angularAxis,a.imag,!0).text,v}},25292:function(H,G,e){var g=e(98723);function R(C,S,v,d){var r=g(C,S,v,d);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=C.subplot,n=t.cd[t.index],f=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,a(n,f,i,t),t.hovertemplate=f.hovertemplate,r}}function a(C,S,v,d){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var i={};i[S.subplot]={_subplot:v};var n=S._module.formatLabels(C,S,i);d.realLabel=n.realLabel,d.imagLabel=n.imagLabel;var f=C.hi||S.hoverinfo,u=[];function l(c,A){u.push(c._hovertitle+": "+A)}if(!S.hovertemplate){var m=f.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&l(r,d.realLabel),m.indexOf("imag")!==-1&&l(t,d.imagLabel),m.indexOf("text")!==-1&&d.text&&(u.push(d.text),delete d.text),d.extraText=u.join("<br>")}}H.exports={hoverPoints:R,makeHoverPointText:a}},95443:function(H,G,e){H.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(H,G,e){var g=e(96504),R=e(39032).BADNUM,a=e(36416),C=a.smith;H.exports=function(v,d,r){for(var t=d.layers.frontplot.select("g.scatterlayer"),i=d.xaxis,n=d.yaxis,f={xaxis:i,yaxis:n,plot:d.framework,layerClipId:d._hasClipOnAxisFalse?d.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=i,l[0].trace._yA=n);var c=l[m],A=c.real;if(A===R)c.x=c.y=R;else{var h=C([A,c.imag]);c.x=h[0],c.y=h[1]}}g(v,f,r,t)}},5896:function(H,G,e){var g=e(21776).Ks,R=e(21776).Gw,a=e(98304),C=e(52904),S=e(45464),v=e(49084),d=e(98192).u,r=e(92880).extendFlat,t=C.marker,i=C.line,n=t.line;H.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:R({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},C.hovertext,{}),line:{color:i.color,width:i.width,dash:d,backoff:i.backoff,shape:r({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:C.connectgaps,cliponaxis:C.cliponaxis,fill:r({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:r({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:C.hoveron,hovertemplate:g()}},34335:function(H,G,e){var g=e(38248),R=e(90136),a=e(20148),C=e(4500),S=e(16356).calcMarkerSize,v=["a","b","c"],d={a:["b","c"],b:["a","c"],c:["a","b"]};H.exports=function(t,i){var n=t._fullLayout[i.subplot],f=n.sum,u=i.sum||f,l={a:i.a,b:i.b,c:i.c},m,c,A,h,o,p;for(m=0;m<v.length;m++)if(A=v[m],!l[A]){for(o=l[d[A][0]],p=l[d[A][1]],h=new Array(o.length),c=0;c<o.length;c++)h[c]=u-o[c]-p[c];l[A]=h}var b=i._length,T=new Array(b),P,x,L,M,s,E;for(m=0;m<b;m++)P=l.a[m],x=l.b[m],L=l.c[m],g(P)&&g(x)&&g(L)?(P=+P,x=+x,L=+L,M=f/(P+x+L),M!==1&&(P*=M,x*=M,L*=M),E=P,s=L-x,T[m]={x:s,y:E,a:P,b:x,c:L}):T[m]={x:!1,y:!1};return S(i,b),R(t,i),a(T,i),C(T,i),T}},84256:function(H,G,e){var g=e(3400),R=e(88200),a=e(43028),C=e(74428),S=e(66828),v=e(11731),d=e(124),r=e(70840),t=e(5896);H.exports=function(n,f,u,l){function m(T,P){return g.coerce(n,f,t,T,P)}var c=m("a"),A=m("b"),h=m("c"),o;if(c?(o=c.length,A?(o=Math.min(o,A.length),h&&(o=Math.min(o,h.length))):h?o=Math.min(o,h.length):o=0):A&&h&&(o=Math.min(A.length,h.length)),!o){f.visible=!1;return}f._length=o,m("sum"),m("text"),m("hovertext"),f.hoveron!=="fills"&&m("hovertemplate");var p=o<R.PTS_LINESONLY?"lines+markers":"lines";m("mode",p),a.hasMarkers(f)&&C(n,f,u,l,m,{gradient:!0}),a.hasLines(f)&&(S(n,f,u,l,m,{backoff:!0}),v(n,f,m),m("connectgaps")),a.hasText(f)&&(m("texttemplate"),d(n,f,l,m));var b=[];(a.hasMarkers(f)||a.hasText(f))&&(m("cliponaxis"),m("marker.maxdisplayed"),b.push("points")),m("fill"),f.fill!=="none"&&(r(n,f,u,m),a.hasLines(f)||v(n,f,m)),(f.fill==="tonext"||f.fill==="toself")&&b.push("fills"),m("hoveron",b.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,m)}},97476:function(H){H.exports=function(e,g,R,a,C){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),a[C]){var S=a[C];e.a=S.a,e.b=S.b,e.c=S.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},90404:function(H,G,e){var g=e(54460);H.exports=function(a,C,S){var v={},d=S[C.subplot]._subplot;return v.aLabel=g.tickText(d.aaxis,a.a,!0).text,v.bLabel=g.tickText(d.baxis,a.b,!0).text,v.cLabel=g.tickText(d.caxis,a.c,!0).text,v}},26596:function(H,G,e){var g=e(98723);H.exports=function(a,C,S,v){var d=g(a,C,S,v);if(!d||d[0].index===!1)return;var r=d[0];if(r.index===void 0){var t=1-r.y0/a.ya._length,i=a.xa._length,n=i*t/2,f=i-n;return r.x0=Math.max(Math.min(r.x0,f),n),r.x1=Math.max(Math.min(r.x1,f),n),d}var u=r.cd[r.index],l=r.trace,m=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var c={};c[l.subplot]={_subplot:m};var A=l._module.formatLabels(u,l,c);r.aLabel=A.aLabel,r.bLabel=A.bLabel,r.cLabel=A.cLabel;var h=u.hi||l.hoverinfo,o=[];function p(T,P){o.push(T._hovertitle+": "+P)}if(!l.hovertemplate){var b=h.split("+");b.indexOf("all")!==-1&&(b=["a","b","c"]),b.indexOf("a")!==-1&&p(m.aaxis,r.aLabel),b.indexOf("b")!==-1&&p(m.baxis,r.bLabel),b.indexOf("c")!==-1&&p(m.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=l.hovertemplate,d}},34864:function(H,G,e){H.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(H,G,e){var g=e(96504);H.exports=function(a,C,S){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var d=C.xaxis,r=C.yaxis,t={xaxis:d,yaxis:r,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},i=C.layers.frontplot.select("g.scatterlayer"),n=0;n<S.length;n++){var f=S[n];f.length&&(f[0].trace._xA=d,f[0].trace._yA=r)}g(a,t,S,i)}},44524:function(H,G,e){var g=e(52904),R=e(49084),a=e(29736).axisHoverFormat,C=e(21776).Ks,S=e(2876),v=e(33816).idRegex,d=e(31780).templatedArray,r=e(92880).extendFlat,t=g.marker,i=t.line,n=r(R("marker.line",{editTypeOverride:"calc"}),{width:r({},i.width,{editType:"calc"}),editType:"calc"}),f=r(R("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}H.exports={dimensions:d("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},S.text,{}),hovertext:r({},S.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),marker:f,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:S.selected.marker,editType:"calc"},unselected:{marker:S.unselected.marker,editType:"calc"},opacity:S.opacity}},28888:function(H,G,e){var g=e(24040),R=e(12704);H.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},g.register(R)},99332:function(H,G,e){var g=e(13472),R=e(24040),a=e(5048),C=e(84888)._M,S=e(57952),v=e(79811).getFromId,d=e(54460).shouldShowZeroLine,r="splom",t={};function i(c){var A=c._fullLayout,h=R.getModule(r),o=C(c.calcdata,h)[0],p=a(c,["ANGLE_instanced_arrays","OES_element_index_uint"],t);p&&(A._hasOnlyLargeSploms&&u(c),h.plot(c,{},o))}function n(c){var A=c.calcdata,h=c._fullLayout;h._hasOnlyLargeSploms&&u(c);for(var o=0;o<A.length;o++){var p=A[o][0],b=p.trace,T=h._splomScenes[b.uid];b.type==="splom"&&T&&T.matrix&&f(c,b,T)}}function f(c,A,h){for(var o=h.matrixOptions.data.length,p=A._visibleDims,b=h.viewOpts.ranges=new Array(o),T=0;T<p.length;T++){var P=p[T],x=b[T]=new Array(4),L=v(c,A._diag[P][0]);L&&(x[0]=L.r2l(L.range[0]),x[2]=L.r2l(L.range[1]));var M=v(c,A._diag[P][1]);M&&(x[1]=M.r2l(M.range[0]),x[3]=M.r2l(M.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:b},{ranges:b}):h.matrix.update({ranges:b})}function u(c){var A=c._fullLayout,h=A._glcanvas.data()[0].regl,o=A._splomGrid;o||(o=A._splomGrid=g(h)),o.update(l(c))}function l(c){var A=c._context.plotGlPixelRatio,h=c._fullLayout,o=h._size,p=[0,0,h.width*A,h.height*A],b={},T;function P(X,q,te,ne,ce,Q){te*=A,ne*=A,ce*=A,Q*=A;var Z=q[X+"color"],re=q[X+"width"],Y=String(Z+re);Y in b?b[Y].data.push(NaN,NaN,te,ne,ce,Q):b[Y]={data:[te,ne,ce,Q],join:"rect",thickness:re*A,color:Z,viewport:p,range:p,overlay:!1}}for(T in h._splomSubplots){var x=h._plots[T],L=x.xaxis,M=x.yaxis,s=L._gridVals,E=M._gridVals,w=L._offset,O=L._length,_=M._length,U=o.b+M.domain[0]*o.h,z=-M._m,F=-z*M.r2l(M.range[0],M.calendar),B,N;if(L.showgrid)for(T=0;T<s.length;T++)B=w+L.l2p(s[T].x),P("grid",L,B,U,B,U+_);if(M.showgrid)for(T=0;T<E.length;T++)N=U+F+z*E[T].x,P("grid",M,w,N,w+O,N);d(c,L,M)&&(B=w+L.l2p(0),P("zeroline",L,B,U,B,U+_)),d(c,M,L)&&(N=U+F+0,P("zeroline",M,w,N,w+O,N))}var V=[];for(T in b)V.push(b[T]);return V}function m(c,A,h,o){var p={},b;if(o._splomScenes){for(b=0;b<c.length;b++){var T=c[b];T.type==="splom"&&(p[T.uid]=1)}for(b=0;b<h.length;b++){var P=h[b];if(!p[P.uid]){var x=o._splomScenes[P.uid];x&&x.destroy&&x.destroy(),o._splomScenes[P.uid]=null,delete o._splomScenes[P.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!A._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),S.clean(c,A,h,o)}H.exports={name:r,attr:S.attr,attrRegex:S.attrRegex,layoutAttributes:S.layoutAttributes,supplyLayoutDefaults:S.supplyLayoutDefaults,drawFramework:S.drawFramework,plot:i,drag:n,updateGrid:u,clean:m,updateFx:S.updateFx,toSVG:S.toSVG,reglPrecompiled:t}},66821:function(H,G,e){var g=e(3400),R=e(79811),a=e(16356).calcMarkerSize,C=e(16356).calcAxisExpansion,S=e(90136),v=e(84236).markerSelection,d=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,i=e(67072).TOO_MANY_POINTS;H.exports=function(f,u){var l=u.dimensions,m=u._length,c={},A=c.cdata=[],h=c.data=[],o=u._visibleDims=[],p,b,T,P,x;function L(O,_){for(var U=O.makeCalcdata({v:_.values,vcalendar:u.calendar},"v"),z=0;z<U.length;z++)U[z]=U[z]===t?NaN:U[z];A.push(U),h.push(O.type==="log"?g.simpleMap(U,O.c2l):U)}for(p=0;p<l.length;p++)if(T=l[p],T.visible){if(P=R.getFromId(f,u._diag[p][0]),x=R.getFromId(f,u._diag[p][1]),P&&x&&P.type!==x.type){g.log("Skipping splom dimension "+p+" with conflicting axis types");continue}P?(L(P,T),x&&x.type==="category"&&(x._categories=P._categories.slice())):L(x,T),o.push(p)}S(f,u),g.extendFlat(c,d(f,u));var M=A.length,s=M*m>i,E;for(s?E=c.sizeAvg||Math.max(c.size,3):E=a(u,m),b=0;b<o.length;b++)p=o[b],T=l[p],P=R.getFromId(f,u._diag[p][0])||{},x=R.getFromId(f,u._diag[p][1])||{},C(f,u,P,x,A[b],A[b],E);var w=r(f,u);return w.matrix||(w.matrix=!0),w.matrixOptions=c,w.selectedOptions=v(f,u,u.selected),w.unselectedOptions=v(f,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(H,G,e){var g=e(3400),R=e(51272),a=e(44524),C=e(43028),S=e(74428),v=e(26284),d=e(80088).isOpenSymbol;H.exports=function(n,f,u,l){function m(P,x){return g.coerce(n,f,a,P,x)}var c=R(n,f,{name:"dimensions",handleItemDefaults:r}),A=m("diagonal.visible"),h=m("showupperhalf"),o=m("showlowerhalf"),p=v(f,c,"values");if(!p||!A&&!h&&!o){f.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),S(n,f,u,l,m,{noAngleRef:!0,noStandOff:!0});var b=d(f.marker.symbol),T=C.isBubble(f);m("marker.line.width",b||T?1:0),t(n,f,l,m),g.coerceSelectionMarkerOpacity(f,m)};function r(i,n){function f(l,m){return g.coerce(i,n,a.dimensions,l,m)}f("label");var u=f("values");u&&u.length?f("visible"):n.visible=!1,f("axis.type"),f("axis.matches")}function t(i,n,f,u){var l=n.dimensions,m=l.length,c=n.showupperhalf,A=n.showlowerhalf,h=n.diagonal.visible,o,p,b=new Array(m),T=new Array(m);for(o=0;o<m;o++){var P=o?o+1:"";b[o]="x"+P,T[o]="y"+P}var x=u("xaxes",b),L=u("yaxes",T),M=n._diag=new Array(m);n._xaxes={},n._yaxes={};var s=[],E=[];function w(X,q,te,ne){if(X){var ce=X.charAt(0),Q=f._splomAxes[ce];if(n["_"+ce+"axes"][X]=1,ne.push(X),!(X in Q)){var Z=Q[X]={};te&&(Z.label=te.label||"",te.visible&&te.axis&&(te.axis.type&&(Z.type=te.axis.type),te.axis.matches&&(Z.matches=q)))}}}var O=!h&&!A,_=!h&&!c;for(n._axesDim={},o=0;o<m;o++){var U=l[o],z=o===0,F=o===m-1,B=z&&O||F&&_?void 0:x[o],N=z&&_||F&&O?void 0:L[o];w(B,N,U,s),w(N,B,U,E),M[o]=[B,N],n._axesDim[B]=o,n._axesDim[N]=o}for(o=0;o<s.length;o++)for(p=0;p<E.length;p++){var V=s[o]+E[p];(o>p&&c||o<p&&A||o===p&&(h||!A||!c))&&(f._splomSubplots[V]=1)}(!A||!h&&c&&A)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},83156:function(H,G,e){var g=e(3400),R=e(90136),a=e(84236).markerStyle;H.exports=function(S,v){var d=v.trace,r=S._fullLayout._splomScenes[d.uid];if(r){R(S,d),g.extendFlat(r.matrixOptions,a(S,d));var t=g.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(H,G){G.getDimIndex=function(g,R){for(var a=R._id,C=a.charAt(0),S={x:0,y:1}[C],v=g._visibleDims,d=0;d<v.length;d++){var r=v[d];if(g._diag[r][S]===a)return d}return!1}},72248:function(H,G,e){var g=e(50328),R=e(41272).calcHover,a=e(54460).getFromId,C=e(92880).extendFlat;function S(d,r,t,i,n){n||(n={});var f=(i||"").charAt(0)==="x",u=(i||"").charAt(0)==="y",l=v(d,r,t);if((f||u)&&n.hoversubplots==="axis"&&l[0])for(var m=(f?d.xa:d.ya)._subplotsWith,c=n.gd,A=C({},d),h=0;h<m.length;h++){var o=m[h];if(o!==d.xa._id+d.ya._id){u?A.xa=a(c,o,"x"):A.ya=a(c,o,"y");var p=f||u,b=v(A,r,t,p);l=l.concat(b)}}return l}function v(d,r,t,i){var n=d.cd,f=n[0].trace,u=d.scene,l=u.matrixOptions.cdata,m=d.xa,c=d.ya,A=m.c2p(r),h=c.c2p(t),o=d.distance,p=g.getDimIndex(f,m),b=g.getDimIndex(f,c);if(p===!1||b===!1)return[d];for(var T=l[p],P=l[b],x,L,M=o,s=0;s<T.length;s++)if(!(i&&s!==d.index)){var E=T[s],w=P[s],O=m.c2p(E)-A,_=c.c2p(w)-h,U=Math.sqrt(O*O+_*_);(i||U<M)&&(M=L=U,x=s)}return d.index=x,d.distance=M,d.dxy=L,x===void 0?[d]:[R(d,T,P,f)]}H.exports={hoverPoints:S}},97924:function(H,G,e){var g=e(28888);g.basePlotModule=e(99332),H.exports=g},54840:function(H,G,e){var g=e(55795),R=e(3400),a=e(79811),C=e(72760).selectMode;H.exports=function(d,r,t){if(t.length)for(var i=0;i<t.length;i++)S(d,t[i][0])};function S(v,d){var r=v._fullLayout,t=r._size,i=d.trace,n=d.t,f=r._splomScenes[i.uid],u=f.matrixOptions,l=u.cdata,m=r._glcanvas.data()[0].regl,c=r.dragmode,A,h,o,p,b;if(l.length!==0){u.lower=i.showupperhalf,u.upper=i.showlowerhalf,u.diagonal=i.diagonal.visible;var T=i._visibleDims,P=l.length,x=f.viewOpts={};for(x.ranges=new Array(P),x.domains=new Array(P),b=0;b<T.length;b++){o=T[b];var L=x.ranges[b]=new Array(4),M=x.domains[b]=new Array(4);A=a.getFromId(v,i._diag[o][0]),A&&(L[0]=A._rl[0],L[2]=A._rl[1],M[0]=A.domain[0],M[2]=A.domain[1]),h=a.getFromId(v,i._diag[o][1]),h&&(L[1]=h._rl[0],L[3]=h._rl[1],M[1]=h.domain[0],M[3]=h.domain[1])}var s=v._context.plotGlPixelRatio,E=t.l*s,w=t.b*s,O=t.w*s,_=t.h*s;x.viewport=[E,w,O+E,_+w],f.matrix===!0&&(f.matrix=g(m));var U=r.clickmode.indexOf("select")>-1,z=C(c)||!!i.selectedpoints||U,F=!0;if(z){var B=i._length;if(i.selectedpoints){f.selectBatch=i.selectedpoints;var N=i.selectedpoints,V={};for(o=0;o<N.length;o++)V[N[o]]=!0;var X=[];for(o=0;o<B;o++)V[o]||X.push(o);f.unselectBatch=X}var q=n.xpx=new Array(P),te=n.ypx=new Array(P);for(b=0;b<T.length;b++){if(o=T[b],A=a.getFromId(v,i._diag[o][0]),A)for(q[b]=new Array(B),p=0;p<B;p++)q[b][p]=A.c2p(l[b][p]);if(h=a.getFromId(v,i._diag[o][1]),h)for(te[b]=new Array(B),p=0;p<B;p++)te[b][p]=h.c2p(l[b][p])}if(f.selectBatch.length||f.unselectBatch.length){var ne=R.extendFlat({},u,f.unselectedOptions,x),ce=R.extendFlat({},u,f.selectedOptions,x);f.matrix.update(ne,ce),F=!1}}else n.xpx=n.ypx=null;if(F){var Q=R.extendFlat({},u,x);f.matrix.update(Q,null)}}}},72308:function(H,G,e){var g=e(3400);H.exports=function(a,C){var S=a._fullLayout,v=C.uid,d=S._splomScenes;d||(d=S._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},i=d[C.uid];return i||(i=d[v]=g.extendFlat({},r,t),i.draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||g.extendFlat(i,r),i}},62500:function(H,G,e){var g=e(3400),R=g.pushUnique,a=e(43028),C=e(50328);H.exports=function(v,d){var r=v.cd,t=r[0].trace,i=r[0].t,n=v.scene,f=n.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,m=[];if(!n)return m;var c=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||c)return m;var A=C.getDimIndex(t,u),h=C.getDimIndex(t,l);if(A===!1||h===!1)return m;var o=i.xpx[A],p=i.ypx[h],b=f[A],T=f[h],P=(v.scene.selectBatch||[]).slice(),x=[];if(d!==!1&&!d.degenerate)for(var L=0;L<b.length;L++)d.contains([o[L],p[L]],null,L,v)?(m.push({pointNumber:L,x:b[L],y:T[L]}),R(P,L)):P.indexOf(L)!==-1?R(P,L):x.push(L);var M=n.matrixOptions;return!P.length&&!x.length?n.matrix.update(M,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},M,n.selectedOptions,n.viewOpts)),n.selectBatch=P,n.unselectBatch=x,m}},90167:function(H,G,e){var g=e(49084),R=e(29736).axisHoverFormat,a=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,d={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:R("u",1),vhoverformat:R("v",1),whoverformat:R("w",1),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(d,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){d[t]=C[t]}),d.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),d.transforms=void 0,H.exports=d},3832:function(H,G,e){var g=e(3400),R=e(47128);function a(d,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=C(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var i=0,n,f,u;r.starts&&(n=v(r.starts.x||[]),f=v(r.starts.y||[]),u=v(r.starts.z||[]),i=Math.min(n.length,f.length,u.length)),r._startsX=n||[],r._startsY=f||[],r._startsZ=u||[];var l=0,m=1/0,c;for(c=0;c<r._len;c++){var A=r._u[c],h=r._v[c],o=r._w[c],p=Math.sqrt(A*A+h*h+o*o);l=Math.max(l,p),m=Math.min(m,p)}for(R(d,r,{vals:[m,l],containerStr:"",cLetter:"c"}),c=0;c<i;c++){var b=n[c];t.xMax=Math.max(t.xMax,b),t.xMin=Math.min(t.xMin,b);var T=f[c];t.yMax=Math.max(t.yMax,T),t.yMin=Math.min(t.yMin,T);var P=u[c];t.zMax=Math.max(t.zMax,P),t.zMin=Math.min(t.zMin,P)}r._slen=i,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function C(d){var r=d._x,t=d._y,i=d._z,n=d._len,f,u,l,m=-1/0,c=1/0,A=-1/0,h=1/0,o=-1/0,p=1/0,b="",T,P,x,L,M,s,E,w,O;for(n&&(L=r[0],s=t[0],w=i[0]),n>1&&(M=r[n-1],E=t[n-1],O=i[n-1]),f=0;f<n;f++)m=Math.max(m,r[f]),c=Math.min(c,r[f]),A=Math.max(A,t[f]),h=Math.min(h,t[f]),o=Math.max(o,i[f]),p=Math.min(p,i[f]),!T&&r[f]!==L&&(T=!0,b+="x"),!P&&t[f]!==s&&(P=!0,b+="y"),!x&&i[f]!==w&&(x=!0,b+="z");T||(b+="x"),P||(b+="y"),x||(b+="z");var _=S(d._x),U=S(d._y),z=S(d._z);b=b.replace("x",(L>M?"-":"+")+"x"),b=b.replace("y",(s>E?"-":"+")+"y"),b=b.replace("z",(w>O?"-":"+")+"z");var F=function(){n=0,_=[],U=[],z=[]};(!n||n<_.length*U.length*z.length)&&F();var B=function(he){return he==="x"?r:he==="y"?t:i},N=function(he){return he==="x"?_:he==="y"?U:z},V=function(he){return he[n-1]<he[0]?-1:1},X=B(b[1]),q=B(b[3]),te=B(b[5]),ne=N(b[1]).length,ce=N(b[3]).length,Q=N(b[5]).length,Z=!1,re=function(he,xe,Me){return ne*(ce*he+xe)+Me},Y=V(B(b[1])),oe=V(B(b[3])),ue=V(B(b[5]));for(f=0;f<Q-1;f++){for(u=0;u<ce-1;u++){for(l=0;l<ne-1;l++){var K=re(f,u,l),$=re(f,u,l+1),le=re(f,u+1,l),ae=re(f+1,u,l);if((!(X[K]*Y<X[$]*Y)||!(q[K]*oe<q[le]*oe)||!(te[K]*ue<te[ae]*ue))&&(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:c,yMin:h,zMin:p,xMax:m,yMax:A,zMax:o,Xs:_,Ys:U,Zs:z,len:n,fill:b}}function S(d){return g.distinctVals(d).vals}function v(d,r){if(r===void 0&&(r=d.length),g.isTypedArray(d))return d.subarray(0,r);for(var t=[],i=0;i<r;i++)t[i]=+d[i];return t}H.exports={calc:a,filter:v,processGrid:C}},25668:function(H,G,e){var g=e(67792).gl_streamtube3d,R=g.createTubeMesh,a=e(3400),C=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(52094),d={xaxis:0,yaxis:1,zaxis:2};function r(l,m){this.scene=l,this.uid=m,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var m=this.scene.fullSceneLayout,c=this.scene.dataScale;function A(p,b){var T=m[b],P=c[d[b]];return T.l2c(p)/P}if(l.object===this.mesh){var h=l.data.position,o=l.data.velocity;return l.traceCoordinate=[A(h[0],"xaxis"),A(h[1],"yaxis"),A(h[2],"zaxis"),A(o[0],"xaxis"),A(o[1],"yaxis"),A(o[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function i(l){var m=l.length,c;return m>2?c=l.slice(1,m-1):m===2?c=[(l[0]+l[1])/2]:c=l,c}function n(l){var m=l.length;return m===1?[.5,.5]:[l[1]-l[0],l[m-1]-l[m-2]]}function f(l,m){var c=l.fullSceneLayout,A=l.dataScale,h=m._len,o={};function p(ce,Q){var Z=c[Q],re=A[d[Q]];return a.simpleMap(ce,function(Y){return Z.d2l(Y)*re})}if(o.vectors=v(p(m._u,"xaxis"),p(m._v,"yaxis"),p(m._w,"zaxis"),h),!h)return{positions:[],cells:[]};var b=p(m._Xs,"xaxis"),T=p(m._Ys,"yaxis"),P=p(m._Zs,"zaxis");o.meshgrid=[b,T,P],o.gridFill=m._gridFill;var x=m._slen;if(x)o.startingPositions=v(p(m._startsX,"xaxis"),p(m._startsY,"yaxis"),p(m._startsZ,"zaxis"));else{for(var L=T[0],M=i(b),s=i(P),E=new Array(M.length*s.length),w=0,O=0;O<M.length;O++)for(var _=0;_<s.length;_++)E[w++]=[M[O],L,s[_]];o.startingPositions=E}o.colormap=C(m),o.tubeSize=m.sizeref,o.maxLength=m.maxdisplayed;var U=p(m._xbnds,"xaxis"),z=p(m._ybnds,"yaxis"),F=p(m._zbnds,"zaxis"),B=n(b),N=n(T),V=n(P),X=[[U[0]-B[0],z[0]-N[0],F[0]-V[0]],[U[1]+B[1],z[1]+N[1],F[1]+V[1]]],q=g(o,X),te=S(m);q.vertexIntensityBounds=[te.min/m._normMax,te.max/m._normMax];var ne=m.lightposition;return q.lightPosition=[ne.x,ne.y,ne.z],q.ambient=m.lighting.ambient,q.diffuse=m.lighting.diffuse,q.specular=m.lighting.specular,q.roughness=m.lighting.roughness,q.fresnel=m.lighting.fresnel,q.opacity=m.opacity,m._pad=q.tubeScale*m.sizeref*2,q}t.update=function(l){this.data=l;var m=f(this.scene,l);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,m){var c=l.glplot.gl,A=f(l,m),h=R(c,A),o=new r(l,m.uid);return o.mesh=h,o.data=m,h._trace=o,l.glplot.add(h),o}H.exports=u},54304:function(H,G,e){var g=e(3400),R=e(27260),a=e(90167);H.exports=function(S,v,d,r){function t(c,A){return g.coerce(S,v,a,c,A)}var i=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),m=t("z");if(!i||!i.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!m||!m.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),R(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(H,G,e){H.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(g,R){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=R.traceCoordinate[3],g.tubev=R.traceCoordinate[4],g.tubew=R.traceCoordinate[5],g.norm=R.traceCoordinate[6],g.divergence=R.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},424:function(H,G,e){var g=e(45464),R=e(21776).Ks,a=e(21776).Gw,C=e(49084),S=e(86968).u,v=e(74996),d=e(27328),r=e(92880).extendFlat,t=e(98192).c;H.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:R({},{keys:d.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:S({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(H,G,e){var g=e(7316);G.name="sunburst",G.plot=function(R,a,C,S){g.plotBasePlot(G.name,R,a,C,S)},G.clean=function(R,a,C,S){g.cleanBasePlot(G.name,R,a,C,S)}},3776:function(H,G,e){var g=e(74148),R=e(38248),a=e(3400),C=e(8932).makeColorScaleFuncFromTrace,S=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,d=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},i={},n={};G.calc=function(u,l){var m=u._fullLayout,c=l.ids,A=a.isArrayOrTypedArray(c),h=l.labels,o=l.parents,p=l.values,b=a.isArrayOrTypedArray(p),T=[],P={},x={},L=function(Y,oe){P[Y]?P[Y].push(oe):P[Y]=[oe],x[oe]=1},M=function(Y){return Y||typeof Y=="number"},s=function(Y){return!b||R(p[Y])&&p[Y]>=0},E,w,O;A?(E=Math.min(c.length,o.length),w=function(Y){return M(c[Y])&&s(Y)},O=function(Y){return String(c[Y])}):(E=Math.min(h.length,o.length),w=function(Y){return M(h[Y])&&s(Y)},O=function(Y){return String(h[Y])}),b&&(E=Math.min(E,p.length));for(var _=0;_<E;_++)if(w(_)){var U=O(_),z=M(o[_])?String(o[_]):"",F={i:_,id:U,pid:z,label:M(h[_])?String(h[_]):""};b&&(F.v=+p[_]),T.push(F),L(z,U)}if(P[""]){if(P[""].length>1){for(var V=a.randstr(),X=0;X<T.length;X++)T[X].pid===""&&(T[X].pid=V);T.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var B=[],N;for(N in P)x[N]||B.push(N);if(B.length===1)N=B[0],T.unshift({hasImpliedRoot:!0,id:N,pid:"",label:N});else return a.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",B.join(", ")].join(" "))}var q;try{q=g.stratify().id(function(Y){return Y.id}).parentId(function(Y){return Y.pid})(T)}catch(Y){return a.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",Y.message].join(" "))}var te=g.hierarchy(q),ne=!1;if(b)switch(l.branchvalues){case"remainder":te.sum(function(Y){return Y.data.v});break;case"total":te.each(function(Y){var oe=Y.data.data,ue=oe.v;if(Y.children){var K=Y.children.reduce(function($,le){return $+le.data.data.v},0);if((oe.hasImpliedRoot||oe.hasMultipleRoots)&&(ue=K),ue<K*r)return ne=!0,a.warn(["Total value for node",Y.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,ue,`
children sum =`,K].join(" "))}Y.value=ue});break}else f(te,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ne){l.sort&&te.sort(function(Y,oe){return oe.value-Y.value});var ce,Q,Z=l.marker.colors||[],re=!!Z.length;return l._hasColorscale?(re||(Z=b?l.values:l._values),d(u,l,{vals:Z,containerStr:"marker",cLetter:"c"}),Q=C(l.marker)):ce=S(m["_"+l.type+"colormap"]),te.each(function(Y){var oe=Y.data.data;oe.color=l._hasColorscale?Q(Z[oe.i]):ce(Z[oe.i],oe.id)}),T[0].hierarchy=te,T}},G._runCrossTraceCalc=function(u,l){var m=l._fullLayout,c=l.calcdata,A=m[u+"colorway"],h=m["_"+u+"colormap"];m["extend"+u+"colors"]&&(A=v(A,u==="icicle"?n:u==="treemap"?i:t));var o=0,p;function b(L){var M=L.data.data,s=M.id;M.color===!1&&(h[s]?M.color=h[s]:L.parent?L.parent.parent?M.color=L.parent.data.data.color:(h[s]=M.color=A[o%A.length],o++):M.color=p)}for(var T=0;T<c.length;T++){var P=c[T],x=P[0];x.trace.type===u&&x.hierarchy&&(p=x.trace.root.color,x.hierarchy.each(b))}},G.crossTraceCalc=function(u){return G._runCrossTraceCalc("sunburst",u)};function f(u,l,m){var c=0,A=u.children;if(A){for(var h=A.length,o=0;o<h;o++)c+=f(A[o],l,m);m.branches&&c++}else m.leaves&&c++;return u.value=u.data.data.value=c,l._values||(l._values=[]),l._values[u.data.data.i]=c,c}},27328:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(H,G,e){var g=e(3400),R=e(424),a=e(86968).Q,C=e(31508).handleText,S=e(74174).handleMarkerDefaults,v=e(8932),d=v.hasColorscale,r=v.handleDefaults;H.exports=function(i,n,f,u){function l(b,T){return g.coerce(i,n,R,b,T)}var m=l("labels"),c=l("parents");if(!m||!m.length||!c||!c.length){n.visible=!1;return}var A=l("values");A&&A.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),S(i,n,u,l);var h=n._hasColorscale=d(i,"marker","colors")||(i.marker||{}).coloraxis;h&&r(i,n,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",h?1:.7);var o=l("text");l("texttemplate"),n.texttemplate||l("textinfo",g.isArrayOrTypedArray(o)?"text+label":"label"),l("hovertext"),l("hovertemplate");var p="auto";C(i,n,u,l,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(n,u,l),n._length=null}},60404:function(H,G,e){var g=e(43616),R=e(76308);H.exports=function(C,S,v,d,r){var t=S.data.data,i=t.i,n=r||t.color;if(i>=0){S.i=t.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=n,S.color=n):(f.color=n,S.color=n),g.pointStyle(C,v,d,S)}else R.fill(C,n)}},45716:function(H,G,e){var g=e(33428),R=e(24040),a=e(10624).appendArrayPointValue,C=e(93024),S=e(3400),v=e(95924),d=e(78176),r=e(69656),t=r.formatPieValue;H.exports=function(f,u,l,m,c){var A=m[0],h=A.trace,o=A.hierarchy,p=h.type==="sunburst",b=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var T=function(L){var M=l._fullLayout;if(!(l._dragging||M.hovermode===!1)){var s=l._fullData[h.index],E=L.data.data,w=E.i,O=d.isHierarchyRoot(L),_=d.getParent(o,L),U=d.getValue(L),z=function($){return S.castOption(s,w,$)},F=z("hovertemplate"),B=C.castHoverinfo(s,M,w),N=M.separators,V;if(F||B&&B!=="none"&&B!=="skip"){var X,q;p&&(X=A.cx+L.pxmid[0]*(1-L.rInscribed),q=A.cy+L.pxmid[1]*(1-L.rInscribed)),b&&(X=L._hoverX,q=L._hoverY);var te={},ne=[],ce=[],Q=function($){return ne.indexOf($)!==-1};B&&(ne=B==="all"?s._module.attributes.hoverinfo.flags:B.split("+")),te.label=E.label,Q("label")&&te.label&&ce.push(te.label),E.hasOwnProperty("v")&&(te.value=E.v,te.valueLabel=t(te.value,N),Q("value")&&ce.push(te.valueLabel)),te.currentPath=L.currentPath=d.getPath(L.data),Q("current path")&&!O&&ce.push(te.currentPath);var Z,re=[],Y=function(){re.indexOf(Z)===-1&&(ce.push(Z),re.push(Z))};te.percentParent=L.percentParent=U/d.getValue(_),te.parent=L.parentString=d.getPtLabel(_),Q("percent parent")&&(Z=d.formatPercent(te.percentParent,N)+" of "+te.parent,Y()),te.percentEntry=L.percentEntry=U/d.getValue(u),te.entry=L.entry=d.getPtLabel(u),Q("percent entry")&&!O&&!L.onPathbar&&(Z=d.formatPercent(te.percentEntry,N)+" of "+te.entry,Y()),te.percentRoot=L.percentRoot=U/d.getValue(o),te.root=L.root=d.getPtLabel(o),Q("percent root")&&!O&&(Z=d.formatPercent(te.percentRoot,N)+" of "+te.root,Y()),te.text=z("hovertext")||z("text"),Q("text")&&(Z=te.text,S.isValidTextValue(Z)&&ce.push(Z)),V=[i(L,s,c.eventDataKeys)];var oe={trace:s,y:q,_x0:L._x0,_x1:L._x1,_y0:L._y0,_y1:L._y1,text:ce.join("<br>"),name:F||Q("name")?s.name:void 0,color:z("hoverlabel.bgcolor")||E.color,borderColor:z("hoverlabel.bordercolor"),fontFamily:z("hoverlabel.font.family"),fontSize:z("hoverlabel.font.size"),fontColor:z("hoverlabel.font.color"),fontWeight:z("hoverlabel.font.weight"),fontStyle:z("hoverlabel.font.style"),fontVariant:z("hoverlabel.font.variant"),nameLength:z("hoverlabel.namelength"),textAlign:z("hoverlabel.align"),hovertemplate:F,hovertemplateLabels:te,eventData:V};p&&(oe.x0=X-L.rInscribed*L.rpx1,oe.x1=X+L.rInscribed*L.rpx1,oe.idealAlign=L.pxmid[0]<0?"left":"right"),b&&(oe.x=X,oe.idealAlign=X<0?"left":"right");var ue=[];C.loneHover(oe,{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:l,inOut_bbox:ue}),V[0].bbox=ue[0],h._hasHoverLabel=!0}if(b){var K=f.select("path.surface");c.styleOne(K,L,s,l,{hovered:!0})}h._hasHoverEvent=!0,l.emit("plotly_hover",{points:V||[i(L,s,c.eventDataKeys)],event:g.event})}},P=function(L){var M=l._fullLayout,s=l._fullData[h.index],E=g.select(this).datum();if(h._hasHoverEvent&&(L.originalEvent=g.event,l.emit("plotly_unhover",{points:[i(E,s,c.eventDataKeys)],event:g.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(C.loneUnhover(M._hoverlayer.node()),h._hasHoverLabel=!1),b){var w=f.select("path.surface");c.styleOne(w,E,s,l,{hovered:!1})}},x=function(L){var M=l._fullLayout,s=l._fullData[h.index],E=p&&(d.isHierarchyRoot(L)||d.isLeaf(L)),w=d.getPtId(L),O=d.isEntry(L)?d.findEntryWithChild(o,w):d.findEntryWithLevel(o,w),_=d.getPtId(O),U={points:[i(L,s,c.eventDataKeys)],event:g.event};E||(U.nextLevel=_);var z=v.triggerHandler(l,"plotly_"+h.type+"click",U);if(z!==!1&&M.hovermode&&(l._hoverdata=[i(L,s,c.eventDataKeys)],C.click(l,g.event)),!E&&z!==!1&&!l._dragging&&!l._transitioning){R.call("_storeDirectGUIEdit",s,M._tracePreGUI[s.uid],{level:s.level});var F={data:[{level:_}],traces:[h.index]},B={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(M._hoverlayer.node()),R.call("animate",l,F,B)}};f.on("mouseover",T),f.on("mouseout",P),f.on("click",x)};function i(n,f,u){for(var l=n.data.data,m={curveNumber:f.index,pointNumber:l.i,data:f._input,fullData:f},c=0;c<u.length;c++){var A=u[c];A in n&&(m[A]=n[A])}return"parentString"in n&&!d.isHierarchyRoot(n)&&(m.parent=n.parentString),a(m,f,l.i),m}},78176:function(H,G,e){var g=e(3400),R=e(76308),a=e(93972),C=e(69656);G.findEntryWithLevel=function(r,t){var i;return t&&r.eachAfter(function(n){if(G.getPtId(n)===t)return i=n.copy()}),i||r},G.findEntryWithChild=function(r,t){var i;return r.eachAfter(function(n){for(var f=n.children||[],u=0;u<f.length;u++){var l=f[u];if(G.getPtId(l)===t)return i=n.copy()}}),i||r},G.isEntry=function(r){return!r.parent},G.isLeaf=function(r){return!r.children},G.getPtId=function(r){return r.data.data.id},G.getPtLabel=function(r){return r.data.data.label},G.getValue=function(r){return r.value},G.isHierarchyRoot=function(r){return d(r)===""},G.setSliceCursor=function(r,t,i){var n=i.isTransitioning;if(!n){var f=r.datum();n=i.hideOnRoot&&G.isHierarchyRoot(f)||i.hideOnLeaves&&G.isLeaf(f)}a(r,n?null:"pointer")};function S(r,t,i){return{color:G.getOutsideTextFontKey("color",r,t,i),family:G.getOutsideTextFontKey("family",r,t,i),size:G.getOutsideTextFontKey("size",r,t,i),weight:G.getOutsideTextFontKey("weight",r,t,i),style:G.getOutsideTextFontKey("style",r,t,i),variant:G.getOutsideTextFontKey("variant",r,t,i)}}function v(r,t,i,n){var f=(n||{}).onPathbar,u=t.data.data,l=u.i,m=g.castOption(r,l,(f?"pathbar.textfont":"insidetextfont")+".color");return!m&&r._input.textfont&&(m=g.castOption(r._input,l,"textfont.color")),{color:m||R.contrast(u.color),family:G.getInsideTextFontKey("family",r,t,i,n),size:G.getInsideTextFontKey("size",r,t,i,n),weight:G.getInsideTextFontKey("weight",r,t,i,n),style:G.getInsideTextFontKey("style",r,t,i,n),variant:G.getInsideTextFontKey("variant",r,t,i,n)}}G.getInsideTextFontKey=function(r,t,i,n,f){var u=(f||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",m=i.data.data.i;return g.castOption(t,m,l+"."+r)||g.castOption(t,m,"textfont."+r)||n.size},G.getOutsideTextFontKey=function(r,t,i,n){var f=i.data.data.i;return g.castOption(t,f,"outsidetextfont."+r)||g.castOption(t,f,"textfont."+r)||n.size},G.isOutsideText=function(r,t){return!r._hasColorscale&&G.isHierarchyRoot(t)},G.determineTextFont=function(r,t,i,n){return G.isOutsideText(r,t)?S(r,t,i):v(r,t,i,n)},G.hasTransition=function(r){return!!(r&&r.duration>0)},G.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},G.isHeader=function(r,t){return!(G.isLeaf(r)||r.depth===t._maxDepth-1)};function d(r){return r.data.data.pid}G.getParent=function(r,t){return G.findEntryWithLevel(r,d(t))},G.listPath=function(r,t){var i=r.parent;if(!i)return[];var n=t?[i.data[t]]:[i];return G.listPath(i,t).concat(n)},G.getPath=function(r){return G.listPath(r,"label").join("/")+"/"},G.formatValue=C.formatPieValue,G.formatPercent=function(r,t){var i=g.formatPercent(r,0);return i==="0%"&&(i=C.formatPiePercent(r,t)),i}},5621:function(H,G,e){H.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(H){H.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(H,G,e){var g=e(3400),R=e(84920);H.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("sunburstcolorway",S.colorway),v("extendsunburstcolors")}},96488:function(H,G,e){var g=e(33428),R=e(74148),a=e(67756).qy,C=e(43616),S=e(3400),v=e(72736),d=e(82744),r=d.recordMinTextSize,t=d.clearMinTextSize,i=e(37820),n=e(69656).getRotationAngle,f=i.computeTransform,u=i.transformInsideText,l=e(85676).styleOne,m=e(60100).resizeText,c=e(45716),A=e(27328),h=e(78176);G.plot=function(x,L,M,s){var E=x._fullLayout,w=E._sunburstlayer,O,_,U=!M,z=!E.uniformtext.mode&&h.hasTransition(M);if(t("sunburst",E),O=w.selectAll("g.trace.sunburst").data(L,function(B){return B[0].trace.uid}),O.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),O.order(),z){s&&(_=s());var F=g.transition().duration(M.duration).ease(M.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});F.each(function(){w.selectAll("g.trace").each(function(B){o(x,B,this,M)})})}else O.each(function(B){o(x,B,this,M)}),E.uniformtext.mode&&m(x,E._sunburstlayer.selectAll(".trace"),"sunburst");U&&O.exit().remove()};function o(x,L,M,s){var E=x._context.staticPlot,w=x._fullLayout,O=!w.uniformtext.mode&&h.hasTransition(s),_=g.select(M),U=_.selectAll("g.slice"),z=L[0],F=z.trace,B=z.hierarchy,N=h.findEntryWithLevel(B,F.level),V=h.getMaxDepth(F),X=w._size,q=F.domain,te=X.w*(q.x[1]-q.x[0]),ne=X.h*(q.y[1]-q.y[0]),ce=.5*Math.min(te,ne),Q=z.cx=X.l+X.w*(q.x[1]+q.x[0])/2,Z=z.cy=X.t+X.h*(1-q.y[0])-ne/2;if(!N)return U.remove();var re=null,Y={};O&&U.each(function(He){Y[h.getPtId(He)]={rpx0:He.rpx0,rpx1:He.rpx1,x0:He.x0,x1:He.x1,transform:He.transform},!re&&h.isEntry(He)&&(re=He)});var oe=p(N).descendants(),ue=N.height+1,K=0,$=V;z.hasMultipleRoots&&h.isHierarchyRoot(N)&&(oe=oe.slice(1),ue-=1,K=1,$+=1),oe=oe.filter(function(He){return He.y1<=$});var le=n(F.rotation);le&&oe.forEach(function(He){He.x0+=le,He.x1+=le});var ae=Math.min(ue,V),he=function(He){return(He-K)/ae*ce},xe=function(He,st){return[He*Math.cos(st),-He*Math.sin(st)]},Me=function(He){return S.pathAnnulus(He.rpx0,He.rpx1,He.x0,He.x1,Q,Z)},Ae=function(He){return Q+T(He)[0]*(He.transform.rCenter||0)+(He.transform.x||0)},ke=function(He){return Z+T(He)[1]*(He.transform.rCenter||0)+(He.transform.y||0)};U=U.data(oe,h.getPtId),U.enter().append("g").classed("slice",!0),O?U.exit().transition().each(function(){var He=g.select(this),st=He.select("path.surface");st.transition().attrTween("d",function(lt){var et=Le(lt);return function(ct){return Me(et(ct))}});var vt=He.select("g.slicetext");vt.attr("opacity",0)}).remove():U.exit().remove(),U.order();var we=null;if(O&&re){var Ee=h.getPtId(re);U.each(function(He){we===null&&h.getPtId(He)===Ee&&(we=He.x1)})}var be=U;O&&(be=be.transition().each("end",function(){var He=g.select(this);h.setSliceCursor(He,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),be.each(function(He){var st=g.select(this),vt=S.ensureSingle(st,"path","surface",function(xt){xt.style("pointer-events",E?"none":"all")});He.rpx0=he(He.y0),He.rpx1=he(He.y1),He.xmid=(He.x0+He.x1)/2,He.pxmid=xe(He.rpx1,He.xmid),He.midangle=-(He.xmid-Math.PI/2),He.startangle=-(He.x0-Math.PI/2),He.stopangle=-(He.x1-Math.PI/2),He.halfangle=.5*Math.min(S.angleDelta(He.x0,He.x1)||Math.PI,Math.PI),He.ring=1-He.rpx0/He.rpx1,He.rInscribed=b(He),O?vt.transition().attrTween("d",function(xt){var Mt=Ue(xt);return function(tt){return Me(Mt(tt))}}):vt.attr("d",Me),st.call(c,N,x,L,{eventDataKeys:A.eventDataKeys,transitionTime:A.CLICK_TRANSITION_TIME,transitionEasing:A.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),vt.call(l,He,F,x);var lt=S.ensureSingle(st,"g","slicetext"),et=S.ensureSingle(lt,"text","",function(xt){xt.attr("data-notex",1)}),ct=S.ensureUniformFontSize(x,h.determineTextFont(F,He,w.font));et.text(G.formatSliceLabel(He,N,F,L,w)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,ct).call(v.convertToTspans,x);var ht=C.bBox(et.node());He.transform=u(ht,He,z),He.transform.targetX=Ae(He),He.transform.targetY=ke(He);var mt=function(xt,Mt){var tt=xt.transform;return f(tt,Mt),tt.fontSize=ct.size,r(F.type,tt,w),S.getTextTransform(tt)};O?et.transition().attrTween("transform",function(xt){var Mt=Ve(xt);return function(tt){return mt(Mt(tt),ht)}}):et.attr("transform",mt(He,ht))});function Le(He){var st=h.getPtId(He),vt=Y[st],lt=Y[h.getPtId(N)],et;if(lt){var ct=(He.x1>lt.x1?2*Math.PI:0)+le;et=He.rpx1<lt.rpx1?{x0:He.x0,x1:He.x1,rpx0:0,rpx1:0}:{x0:ct,x1:ct,rpx0:He.rpx0,rpx1:He.rpx1}}else{var ht,mt=h.getPtId(He.parent);U.each(function(Ye){if(h.getPtId(Ye)===mt)return ht=Ye});var xt=ht.children,Mt;xt.forEach(function(Ye,Ze){if(h.getPtId(Ye)===st)return Mt=Ze});var tt=xt.length,Oe=a(ht.x0,ht.x1);et={rpx0:ce,rpx1:ce,x0:Oe(Mt/tt),x1:Oe((Mt+1)/tt)}}return a(vt,et)}function Ue(He){var st=Y[h.getPtId(He)],vt,lt={x0:He.x0,x1:He.x1,rpx0:He.rpx0,rpx1:He.rpx1};if(st)vt=st;else if(re)if(He.parent)if(we){var et=(He.x1>we?2*Math.PI:0)+le;vt={x0:et,x1:et}}else vt={rpx0:ce,rpx1:ce},S.extendFlat(vt,Fe(He));else vt={rpx0:0,rpx1:0};else vt={x0:le,x1:le};return a(vt,lt)}function Ve(He){var st=Y[h.getPtId(He)],vt,lt=He.transform;if(st)vt=st;else if(vt={rpx1:He.rpx1,transform:{textPosAngle:lt.textPosAngle,scale:0,rotate:lt.rotate,rCenter:lt.rCenter,x:lt.x,y:lt.y}},re)if(He.parent)if(we){var et=He.x1>we?2*Math.PI:0;vt.x0=vt.x1=et}else S.extendFlat(vt,Fe(He));else vt.x0=vt.x1=le;else vt.x0=vt.x1=le;var ct=a(vt.transform.textPosAngle,He.transform.textPosAngle),ht=a(vt.rpx1,He.rpx1),mt=a(vt.x0,He.x0),xt=a(vt.x1,He.x1),Mt=a(vt.transform.scale,lt.scale),tt=a(vt.transform.rotate,lt.rotate),Oe=lt.rCenter===0?3:vt.transform.rCenter===0?1/3:1,Ye=a(vt.transform.rCenter,lt.rCenter),Ze=function(We){return Ye(Math.pow(We,Oe))};return function(We){var _e=ht(We),Ie=mt(We),Xe=xt(We),De=Ze(We),de=xe(_e,(Ie+Xe)/2),Te=ct(We),Be={pxmid:de,rpx1:_e,transform:{textPosAngle:Te,rCenter:De,x:lt.x,y:lt.y}};return r(F.type,lt,w),{transform:{targetX:Ae(Be),targetY:ke(Be),scale:Mt(We),rotate:tt(We),rCenter:De}}}}function Fe(He){var st=He.parent,vt=Y[h.getPtId(st)],lt={};if(vt){var et=st.children,ct=et.indexOf(He),ht=et.length,mt=a(vt.x0,vt.x1);lt.x0=mt(ct/ht),lt.x1=mt(ct/ht)}else lt.x0=lt.x1=0;return lt}}function p(x){return R.partition().size([2*Math.PI,x.height+1])(x)}G.formatSliceLabel=function(x,L,M,s,E){var w=M.texttemplate,O=M.textinfo;if(!w&&(!O||O==="none"))return"";var _=E.separators,U=s[0],z=x.data.data,F=U.hierarchy,B=h.isHierarchyRoot(x),N=h.getParent(F,x),V=h.getValue(x);if(!w){var X=O.split("+"),q=function(K){return X.indexOf(K)!==-1},te=[],ne;if(q("label")&&z.label&&te.push(z.label),z.hasOwnProperty("v")&&q("value")&&te.push(h.formatValue(z.v,_)),!B){q("current path")&&te.push(h.getPath(x.data));var ce=0;q("percent parent")&&ce++,q("percent entry")&&ce++,q("percent root")&&ce++;var Q=ce>1;if(ce){var Z,re=function(K){ne=h.formatPercent(Z,_),Q&&(ne+=" of "+K),te.push(ne)};q("percent parent")&&!B&&(Z=V/h.getValue(N),re("parent")),q("percent entry")&&(Z=V/h.getValue(L),re("entry")),q("percent root")&&(Z=V/h.getValue(F),re("root"))}}return q("text")&&(ne=S.castOption(M,z.i,"text"),S.isValidTextValue(ne)&&te.push(ne)),te.join("<br>")}var Y=S.castOption(M,z.i,"texttemplate");if(!Y)return"";var oe={};z.label&&(oe.label=z.label),z.hasOwnProperty("v")&&(oe.value=z.v,oe.valueLabel=h.formatValue(z.v,_)),oe.currentPath=h.getPath(x.data),B||(oe.percentParent=V/h.getValue(N),oe.percentParentLabel=h.formatPercent(oe.percentParent,_),oe.parent=h.getPtLabel(N)),oe.percentEntry=V/h.getValue(L),oe.percentEntryLabel=h.formatPercent(oe.percentEntry,_),oe.entry=h.getPtLabel(L),oe.percentRoot=V/h.getValue(F),oe.percentRootLabel=h.formatPercent(oe.percentRoot,_),oe.root=h.getPtLabel(F),z.hasOwnProperty("color")&&(oe.color=z.color);var ue=S.castOption(M,z.i,"text");return(S.isValidTextValue(ue)||ue==="")&&(oe.text=ue),oe.customdata=S.castOption(M,z.i,"customdata"),S.texttemplateString(Y,oe,E._d3locale,oe,M._meta||{})};function b(x){return x.rpx0===0&&S.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}function T(x){return P(x.rpx1,x.transform.textPosAngle)}function P(x,L){return[x*Math.sin(L),-x*Math.cos(L)]}},85676:function(H,G,e){var g=e(33428),R=e(76308),a=e(3400),C=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");C(r,t,"sunburst"),t.each(function(i){var n=g.select(this),f=i[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){g.select(this).call(d,l,u,r)})})}function d(r,t,i,n){var f=t.data.data,u=!t.children,l=f.i,m=a.castOption(i,l,"marker.line.color")||R.defaultLine,c=a.castOption(i,l,"marker.line.width")||0;r.call(S,t,i,n).style("stroke-width",c).call(R.stroke,m).style("opacity",u?i.leaf.opacity:null)}H.exports={style:v,styleOne:d}},16716:function(H,G,e){var g=e(76308),R=e(49084),a=e(29736).axisHoverFormat,C=e(21776).Ks,S=e(45464),v=e(92880).extendFlat,d=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=H.exports=d(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},R("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},R.zauto,{}),zmin:v({},R.zmin,{}),zmax:v({},R.zmax,{})},hoverinfo:v({},S.hoverinfo),showlegend:v({},S.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(H,G,e){var g=e(47128);H.exports=function(a,C){C.surfacecolor?g(a,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):g(a,C,{vals:C.z,containerStr:"",cLetter:"c"})}},79164:function(H,G,e){var g=e(67792).gl_surface3d,R=e(67792).ndarray,a=e(67792).ndarray_linear_interpolate.d2,C=e(70448),S=e(11240),v=e(3400).isArrayOrTypedArray,d=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function i(s,E,w){this.scene=s,this.uid=w,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=i.prototype;n.getXat=function(s,E,w,O){var _=v(this.data.x)?v(this.data.x[0])?this.data.x[E][s]:this.data.x[s]:s;return w===void 0?_:O.d2l(_,0,w)},n.getYat=function(s,E,w,O){var _=v(this.data.y)?v(this.data.y[0])?this.data.y[E][s]:this.data.y[E]:E;return w===void 0?_:O.d2l(_,0,w)},n.getZat=function(s,E,w,O){var _=this.data.z[E][s];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[E][s]),w===void 0?_:O.d2l(_,0,w)},n.handlePick=function(s){if(s.object===this.surface){var E=(s.data.index[0]-1)/this.dataScaleX-1,w=(s.data.index[1]-1)/this.dataScaleY-1,O=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(w),this.data._ylength-1),0);s.index=[O,_],s.traceCoordinate=[this.getXat(O,_),this.getYat(O,_),this.getZat(O,_)],s.dataCoordinate=[this.getXat(O,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(O,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(O,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var U=0;U<3;U++){var z=s.dataCoordinate[U];z!=null&&(s.dataCoordinate[U]*=this.scene.dataScale[U])}var F=this.data.hovertext||this.data.text;return v(F)&&F[_]&&F[_][O]!==void 0?s.textLabel=F[_][O]:F?s.textLabel=F:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function f(s){var E=s[0].rgb,w=s[s.length-1].rgb;return E[0]===w[0]&&E[1]===w[1]&&E[2]===w[2]&&E[3]===w[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(s,E){if(s<E)return 0;for(var w=0;Math.floor(s%E)===0;)s/=E,w++;return w}function m(s){for(var E=[],w=0;w<u.length;w++){var O=u[w];E.push(l(s,O))}return E}function c(s){for(var E=m(s),w=s,O=0;O<u.length;O++)if(E[O]>0){w=u[O];break}return w}function A(s,E){if(!(s<1||E<1)){for(var w=m(s),O=m(E),_=1,U=0;U<u.length;U++)_*=Math.pow(u[U],Math.max(w[U],O[U]));return _}}function h(s){if(s.length!==0){for(var E=1,w=0;w<s.length;w++)E=A(E,s[w]);return E}}n.calcXnums=function(s){var E,w=[];for(E=1;E<s;E++){var O=this.getXat(E-1,0),_=this.getXat(E,0);_!==O&&O!==void 0&&O!==null&&_!==void 0&&_!==null?w[E-1]=Math.abs(_-O):w[E-1]=0}var U=0;for(E=1;E<s;E++)U+=w[E-1];for(E=1;E<s;E++)w[E-1]===0?w[E-1]=1:w[E-1]=Math.round(U/w[E-1]);return w},n.calcYnums=function(s){var E,w=[];for(E=1;E<s;E++){var O=this.getYat(0,E-1),_=this.getYat(0,E);_!==O&&O!==void 0&&O!==null&&_!==void 0&&_!==null?w[E-1]=Math.abs(_-O):w[E-1]=0}var U=0;for(E=1;E<s;E++)U+=w[E-1];for(E=1;E<s;E++)w[E-1]===0?w[E-1]=1:w[E-1]=Math.round(U/w[E-1]);return w};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=o[9],b=o[13];n.estimateScale=function(s,E){for(var w=E===0?this.calcXnums(s):this.calcYnums(s),O=1+h(w);O<p;)O*=2;for(;O>b;)O--,O/=c(O),O++,O<p&&(O=b);var _=Math.round(O/s);return _>1?_:1};function T(s,E,w){var O=w[8]+w[2]*E[0]+w[5]*E[1];return s[0]=(w[6]+w[0]*E[0]+w[3]*E[1])/O,s[1]=(w[7]+w[1]*E[0]+w[4]*E[1])/O,s}function P(s,E,w){return x(s,E,T,w),s}function x(s,E,w,O){for(var _=[0,0],U=s.shape[0],z=s.shape[1],F=0;F<U;F++)for(var B=0;B<z;B++)w(_,[F,B],O),s.set(F,B,a(E,_[0],_[1]));return s}n.refineCoords=function(s){for(var E=this.dataScaleX,w=this.dataScaleY,O=s[0].shape[0],_=s[0].shape[1],U=Math.floor(s[0].shape[0]*E+1)|0,z=Math.floor(s[0].shape[1]*w+1)|0,F=1+O+1,B=1+_+1,N=R(new Float32Array(F*B),[F,B]),V=[1/E,0,0,0,1/w,0,0,0,1],X=0;X<s.length;++X){this.surface.padField(N,s[X]);var q=R(new Float32Array(U*z),[U,z]);P(q,N,V),s[X]=q}};function L(s,E){for(var w=!1,O=0;O<s.length;O++)if(E===s[O]){w=!0;break}w===!1&&s.push(E)}n.setContourLevels=function(){var s=[[],[],[]],E=[!1,!1,!1],w=!1,O,_,U;for(O=0;O<3;++O)if(this.showContour[O]&&(w=!0,this.contourSize[O]>0&&this.contourStart[O]!==null&&this.contourEnd[O]!==null&&this.contourEnd[O]>this.contourStart[O]))for(E[O]=!0,_=this.contourStart[O];_<this.contourEnd[O];_+=this.contourSize[O])U=_*this.scene.dataScale[O],L(s[O],U);if(w){var z=[[],[],[]];for(O=0;O<3;++O)this.showContour[O]&&(z[O]=E[O]?s[O]:this.scene.contourLevels[O]);this.surface.update({levels:z})}},n.update=function(s){var E=this.scene,w=E.fullSceneLayout,O=this.surface,_=d(s),U=E.dataScale,z=s.z[0].length,F=s._ylength,B=E.contourLevels;this.data=s;var N,V,X,q,te=[];for(N=0;N<3;N++)for(te[N]=[],V=0;V<z;V++)te[N][V]=[];for(V=0;V<z;V++)for(X=0;X<F;X++)te[0][V][X]=this.getXat(V,X,s.xcalendar,w.xaxis),te[1][V][X]=this.getYat(V,X,s.ycalendar,w.yaxis),te[2][V][X]=this.getZat(V,X,s.zcalendar,w.zaxis);if(s.connectgaps)for(s._emptypoints=S(te[2]),C(te[2],s._emptypoints),s._interpolatedZ=[],V=0;V<z;V++)for(s._interpolatedZ[V]=[],X=0;X<F;X++)s._interpolatedZ[V][X]=te[2][V][X];for(N=0;N<3;N++)for(V=0;V<z;V++)for(X=0;X<F;X++)q=te[N][V][X],q==null?te[N][V][X]=NaN:q=te[N][V][X]*=U[N];for(N=0;N<3;N++)for(V=0;V<z;V++)for(X=0;X<F;X++)q=te[N][V][X],q!=null&&(this.minValues[N]>q&&(this.minValues[N]=q),this.maxValues[N]<q&&(this.maxValues[N]=q));for(N=0;N<3;N++)this.objectOffset[N]=.5*(this.minValues[N]+this.maxValues[N]);for(N=0;N<3;N++)for(V=0;V<z;V++)for(X=0;X<F;X++)q=te[N][V][X],q!=null&&(te[N][V][X]-=this.objectOffset[N]);var ne=[R(new Float32Array(z*F),[z,F]),R(new Float32Array(z*F),[z,F]),R(new Float32Array(z*F),[z,F])];for(N=0;N<3;N++)for(V=0;V<z;V++)for(X=0;X<F;X++)ne[N].set(V,X,te[N][V][X]);te=[];var ce={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},Q=t(s);if(ce.intensityBounds=[Q.min,Q.max],s.surfacecolor){var Z=R(new Float32Array(z*F),[z,F]);for(V=0;V<z;V++)for(X=0;X<F;X++)Z.set(V,X,s.surfacecolor[X][V]);ne.push(Z)}else ce.intensityBounds[0]*=U[2],ce.intensityBounds[1]*=U[2];(b<ne[0].shape[0]||b<ne[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ne[0].shape[0],0),this.dataScaleY=this.estimateScale(ne[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ne)),s.surfacecolor&&(ce.intensity=ne.pop());var re=[!0,!0,!0],Y=["x","y","z"];for(N=0;N<3;++N){var oe=s.contours[Y[N]];re[N]=oe.highlight,ce.showContour[N]=oe.show||oe.highlight,ce.showContour[N]&&(ce.contourProject[N]=[oe.project.x,oe.project.y,oe.project.z],oe.show?(this.showContour[N]=!0,ce.levels[N]=B[N],O.highlightColor[N]=ce.contourColor[N]=r(oe.color),oe.usecolormap?O.highlightTint[N]=ce.contourTint[N]=0:O.highlightTint[N]=ce.contourTint[N]=1,ce.contourWidth[N]=oe.width,this.contourStart[N]=oe.start,this.contourEnd[N]=oe.end,this.contourSize[N]=oe.size):(this.showContour[N]=!1,this.contourStart[N]=null,this.contourEnd[N]=null,this.contourSize[N]=0),oe.highlight&&(ce.dynamicColor[N]=r(oe.highlightcolor),ce.dynamicWidth[N]=oe.highlightwidth))}f(_)&&(ce.vertexColor=!0),ce.objectOffset=this.objectOffset,ce.coords=ne,O.update(ce),O.visible=s.visible,O.enableDynamic=re,O.enableHighlight=re,O.snapToData=!0,"lighting"in s&&(O.ambientLight=s.lighting.ambient,O.diffuseLight=s.lighting.diffuse,O.specularLight=s.lighting.specular,O.roughness=s.lighting.roughness,O.fresnel=s.lighting.fresnel),"lightposition"in s&&(O.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function M(s,E){var w=s.glplot.gl,O=g({gl:w}),_=new i(s,O,E.uid);return O._trace=_,_.update(E),s.glplot.add(O),_}H.exports=M},60192:function(H,G,e){var g=e(24040),R=e(3400),a=e(27260),C=e(16716),S=.1;function v(n,f){for(var u=[],l=32,m=0;m<l;m++){var c=m/(l-1),A=f+(1-f)*(1-Math.pow(Math.sin(n*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,A))])}return u}function d(n){var f=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var l=n[u];if(l.length!==2||+l[0]<f)return!1;f=+l[0]}return!0}function r(n,f,u,l){var m,c;function A(s,E){return R.coerce(n,f,C,s,E)}var h=A("x"),o=A("y"),p=A("z");if(!p||!p.length||h&&h.length<1||o&&o.length<1){f.visible=!1;return}f._xlength=Array.isArray(h)&&R.isArrayOrTypedArray(h[0])?p.length:p[0].length,f._ylength=p.length;var b=g.getComponentMethod("calendars","handleTraceDefaults");b(n,f,["x","y","z"],l),A("text"),A("hovertext"),A("hovertemplate"),A("xhoverformat"),A("yhoverformat"),A("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){A(s)});var T=A("surfacecolor"),P=["x","y","z"];for(m=0;m<3;++m){var x="contours."+P[m],L=A(x+".show"),M=A(x+".highlight");if(L||M)for(c=0;c<3;++c)A(x+".project."+P[c]);L&&(A(x+".color"),A(x+".width"),A(x+".usecolormap")),M&&(A(x+".highlightcolor"),A(x+".highlightwidth")),A(x+".start"),A(x+".end"),A(x+".size")}T||(i(n,"zmin","cmin"),i(n,"zmax","cmax"),i(n,"zauto","cauto")),a(n,f,l,A,{prefix:"",cLetter:"c"}),t(n,f,l,A),f._length=null}function t(n,f,u,l){var m=l("opacityscale");m==="max"?f.opacityscale=[[0,S],[1,1]]:m==="min"?f.opacityscale=[[0,1],[1,S]]:m==="extremes"?f.opacityscale=v(1,S):d(m)||(f.opacityscale=void 0)}function i(n,f,u){f in n&&!(u in n)&&(n[u]=n[f])}H.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(H,G,e){H.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(H,G,e){var g=e(13916),R=e(92880).extendFlat,a=e(67824).overrideAll,C=e(25376),S=e(86968).u,v=e(29736).descriptionOnlyNumbers,d=H.exports=a({domain:S({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:R({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:R({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:R({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:R({},C({arrayOk:!0}))}},"calc","from-root");d.transforms=void 0},85852:function(H,G,e){var g=e(84888)._M,R=e(24752),a="table";G.name=a,G.plot=function(C){var S=g(C.calcdata,a)[0];S.length&&R(C,S)},G.clean=function(C,S,v,d){var r=d._has&&d._has(a),t=S._has&&S._has(a);r&&!t&&d._paperdiv.selectAll(".table").remove()}},39312:function(H,G,e){var g=e(71688).wrap;H.exports=function(){return g({})}},23536:function(H){H.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(H,G,e){var g=e(23536),R=e(92880).extendFlat,a=e(38248),C=e(38116).isTypedArray,S=e(38116).isArrayOrTypedArray;H.exports=function(m,c){var A=r(c.cells.values),h=function(q){return q.slice(c.header.values.length,q.length)},o=r(c.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var p=o.concat(h(A).map(function(){return t((o[0]||[""]).length)})),b=c.domain,T=Math.floor(m._fullLayout._size.w*(b.x[1]-b.x[0])),P=Math.floor(m._fullLayout._size.h*(b.y[1]-b.y[0])),x=c.header.values.length?p[0].map(function(){return c.header.height}):[g.emptyHeaderHeight],L=A.length?A[0].map(function(){return c.cells.height}):[],M=x.reduce(d,0),s=P-M,E=s+g.uplift,w=f(L,E),O=f(x,M),_=n(O,[]),U=n(w,_),z={},F=c._fullInput.columnorder;S(F)&&(F=Array.from(F)),F=F.concat(h(A.map(function(q,te){return te})));var B=p.map(function(q,te){var ne=S(c.columnwidth)?c.columnwidth[Math.min(te,c.columnwidth.length-1)]:c.columnwidth;return a(ne)?Number(ne):1}),N=B.reduce(d,0);B=B.map(function(q){return q/N*T});var V=Math.max(v(c.header.line.width),v(c.cells.line.width)),X={key:c.uid+m._context.staticPlot,translateX:b.x[0]*m._fullLayout._size.w,translateY:m._fullLayout._size.h*(1-b.y[1]),size:m._fullLayout._size,width:T,maxLineWidth:V,height:P,columnOrder:F,groupHeight:P,rowBlocks:U,headerRowBlocks:_,scrollY:0,cells:R({},c.cells,{values:A}),headerCells:R({},c.header,{values:p}),gdColumns:p.map(function(q){return q[0]}),gdColumnsOriginalOrder:p.map(function(q){return q[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(q,te){var ne=z[q];z[q]=(ne||0)+1;var ce=q+"__"+z[q];return{key:ce,label:q,specIndex:te,xIndex:F[te],xScale:i,x:void 0,calcdata:void 0,columnWidth:B[te]}})};return X.columns.forEach(function(q){q.calcdata=X,q.x=i(q)}),X};function v(l){if(S(l)){for(var m=0,c=0;c<l.length;c++)m=Math.max(m,v(l[c]));return m}return l}function d(l,m){return l+m}function r(l){var m=l.slice(),c=1/0,A=0,h;for(h=0;h<m.length;h++)C(m[h])?m[h]=Array.from(m[h]):S(m[h])||(m[h]=[m[h]]),c=Math.min(c,m[h].length),A=Math.max(A,m[h].length);if(c!==A)for(h=0;h<m.length;h++){var o=A-m[h].length;o&&(m[h]=m[h].concat(t(o)))}return m}function t(l){for(var m=new Array(l),c=0;c<l;c++)m[c]="";return m}function i(l){return l.calcdata.columns.reduce(function(m,c){return c.xIndex<l.xIndex?m+c.columnWidth:m},0)}function n(l,m){var c=Object.keys(l);return c.map(function(A){return R({},l[A],{auxiliaryBlocks:m})})}function f(l,m){for(var c={},A,h=0,o=0,p=u(),b=0,T=0,P=0;P<l.length;P++)A=l[P],p.rows.push({rowIndex:P,rowHeight:A}),o+=A,(o>=m||P===l.length-1)&&(c[h]=p,p.key=T++,p.firstRowIndex=b,p.lastRowIndex=P,p=u(),h+=o,b=P+1,o=0);return c}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(H,G,e){var g=e(92880).extendFlat;G.splitToPanels=function(a){var C=[0,0],S=g({},a,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:g({},a.calcdata,{cells:a.calcdata.headerCells})}),v=g({},a,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),d=g({},a,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,d,S]},G.splitToCells=function(a){var C=R(a);return(a.values||[]).slice(C[0],C[1]).map(function(S,v){var d=typeof S=="string"&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+d,key:C[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:S}})};function R(a){var C=a.rowBlocks[a.page],S=C?C.rows[0].rowIndex:0,v=C?S+C.rows.length:0;return[S,v]}},53212:function(H,G,e){var g=e(3400),R=e(60520),a=e(86968).Q;function C(S,v){for(var d=S.columnorder||[],r=S.header.values.length,t=d.slice(0,r),i=t.slice().sort(function(u,l){return u-l}),n=t.map(function(u){return i.indexOf(u)}),f=n.length;f<r;f++)n.push(f);v("columnorder",n)}H.exports=function(v,d,r,t){function i(n,f){return g.coerce(v,d,R,n,f)}a(d,t,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),g.coerceFont(i,"header.font",g.extendFlat({},t.font)),C(d,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),g.coerceFont(i,"cells.font",g.extendFlat({},t.font)),d._length=null}},41724:function(H,G,e){H.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(H,G,e){var g=e(23536),R=e(33428),a=e(3400),C=a.numberFormat,S=e(71688),v=e(43616),d=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,i=e(3400).cancelTransition,n=e(55992),f=e(53056),u=e(76308);H.exports=function(le,ae){var he=!le._context.staticPlot,xe=le._fullLayout._paper.selectAll("."+g.cn.table).data(ae.map(function(lt){var et=S.unwrap(lt),ct=et.trace;return n(le,ct)}),S.keyFun);xe.exit().remove(),xe.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),xe.attr("width",function(lt){return lt.width+lt.size.l+lt.size.r}).attr("height",function(lt){return lt.height+lt.size.t+lt.size.b}).attr("transform",function(lt){return t(lt.translateX,lt.translateY)});var Me=xe.selectAll("."+g.cn.tableControlView).data(S.repeat,S.keyFun),Ae=Me.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var ke="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(lt){Me.filter(function(et){return lt===et}).call(h,le)}).on(ke,function(lt){if(!lt.scrollbarState.wheeling){lt.scrollbarState.wheeling=!0;var et=lt.scrollY+R.event.deltaY,ct=q(le,Me,null,et)(lt);ct||(R.event.stopPropagation(),R.event.preventDefault()),lt.scrollbarState.wheeling=!1}}).call(h,le,!0)}Me.attr("transform",function(lt){return t(lt.size.l,lt.size.t)});var we=Me.selectAll("."+g.cn.scrollBackground).data(S.repeat,S.keyFun);we.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),we.attr("width",function(lt){return lt.width}).attr("height",function(lt){return lt.height}),Me.each(function(lt){v.setClipUrl(R.select(this),m(le,lt),le)});var Ee=Me.selectAll("."+g.cn.yColumn).data(function(lt){return lt.columns},S.keyFun);Ee.enter().append("g").classed(g.cn.yColumn,!0),Ee.exit().remove(),Ee.attr("transform",function(lt){return t(lt.x,0)}),he&&Ee.call(R.behavior.drag().origin(function(lt){var et=R.select(this);return z(et,lt,-g.uplift),r(this),lt.calcdata.columnDragInProgress=!0,h(Me.filter(function(ct){return lt.calcdata.key===ct.key}),le),lt}).on("drag",function(lt){var et=R.select(this),ct=function(xt){return(lt===xt?R.event.x:xt.x)+xt.columnWidth/2};lt.x=Math.max(-g.overdrag,Math.min(lt.calcdata.width+g.overdrag-lt.columnWidth,R.event.x));var ht=A(Ee).filter(function(xt){return xt.calcdata.key===lt.calcdata.key}),mt=ht.sort(function(xt,Mt){return ct(xt)-ct(Mt)});mt.forEach(function(xt,Mt){xt.xIndex=Mt,xt.x=lt===xt?xt.x:xt.xScale(xt)}),Ee.filter(function(xt){return lt!==xt}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(xt){return t(xt.x,0)}),et.call(i).attr("transform",t(lt.x,-g.uplift))}).on("dragend",function(lt){var et=R.select(this),ct=lt.calcdata;lt.x=lt.xScale(lt),lt.calcdata.columnDragInProgress=!1,z(et,lt,0),_(le,ct,ct.columns.map(function(ht){return ht.xIndex}))})),Ee.each(function(lt){v.setClipUrl(R.select(this),c(le,lt),le)});var be=Ee.selectAll("."+g.cn.columnBlock).data(f.splitToPanels,S.keyFun);be.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(lt){return lt.key}),be.style("cursor",function(lt){return lt.dragHandle?"ew-resize":lt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Le=be.filter(B),Ue=be.filter(F);he&&Ue.call(R.behavior.drag().origin(function(lt){return R.event.stopPropagation(),lt}).on("drag",q(le,Me,-1)).on("dragend",function(){})),o(le,Me,Le,be),o(le,Me,Ue,be);var Ve=Me.selectAll("."+g.cn.scrollAreaClip).data(S.repeat,S.keyFun);Ve.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(lt){return m(le,lt)});var Fe=Ve.selectAll("."+g.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);Fe.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),Fe.attr("width",function(lt){return lt.width+2*g.overdrag}).attr("height",function(lt){return lt.height+g.uplift});var He=Ee.selectAll("."+g.cn.columnBoundary).data(S.repeat,S.keyFun);He.enter().append("g").classed(g.cn.columnBoundary,!0);var st=Ee.selectAll("."+g.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);st.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),st.attr("id",function(lt){return c(le,lt)});var vt=st.selectAll("."+g.cn.columnBoundaryRect).data(S.repeat,S.keyFun);vt.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),vt.attr("width",function(lt){return lt.columnWidth+2*l(lt)}).attr("height",function(lt){return lt.calcdata.height+2*l(lt)+g.uplift}).attr("x",function(lt){return-l(lt)}).attr("y",function(lt){return-l(lt)}),X(null,Ue,Me)};function l($){return Math.ceil($.calcdata.maxLineWidth/2)}function m($,le){return"clip"+$._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function c($,le){return"clip"+$._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function A($){return[].concat.apply([],$.map(function(le){return le})).map(function(le){return le.__data__})}function h($,le,ae){function he(Ee){var be=Ee.rowBlocks;return re(be,be.length-1)+(be.length?Y(be[be.length-1],1/0):1)}var xe=$.selectAll("."+g.cn.scrollbarKit).data(S.repeat,S.keyFun);xe.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),xe.each(function(Ee){var be=Ee.scrollbarState;be.totalHeight=he(Ee),be.scrollableAreaHeight=Ee.groupHeight-N(Ee),be.currentlyVisibleHeight=Math.min(be.totalHeight,be.scrollableAreaHeight),be.ratio=be.currentlyVisibleHeight/be.totalHeight,be.barLength=Math.max(be.ratio*be.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),be.barWiggleRoom=be.currentlyVisibleHeight-be.barLength,be.wiggleRoom=Math.max(0,be.totalHeight-be.scrollableAreaHeight),be.topY=be.barWiggleRoom===0?0:Ee.scrollY/be.wiggleRoom*be.barWiggleRoom,be.bottomY=be.topY+be.barLength,be.dragMultiplier=be.wiggleRoom/be.barWiggleRoom}).attr("transform",function(Ee){var be=Ee.width+g.scrollbarWidth/2+g.scrollbarOffset;return t(be,N(Ee))});var Me=xe.selectAll("."+g.cn.scrollbar).data(S.repeat,S.keyFun);Me.enter().append("g").classed(g.cn.scrollbar,!0);var Ae=Me.selectAll("."+g.cn.scrollbarSlider).data(S.repeat,S.keyFun);Ae.enter().append("g").classed(g.cn.scrollbarSlider,!0),Ae.attr("transform",function(Ee){return t(0,Ee.scrollbarState.topY||0)});var ke=Ae.selectAll("."+g.cn.scrollbarGlyph).data(S.repeat,S.keyFun);ke.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),ke.attr("y2",function(Ee){return Ee.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||ae?0:.4}),ke.transition().delay(0).duration(0),ke.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var we=Me.selectAll("."+g.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);we.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ee){var be=R.event.y,Le=this.getBoundingClientRect(),Ue=Ee.scrollbarState,Ve=be-Le.top,Fe=R.scale.linear().domain([0,Ue.scrollableAreaHeight]).range([0,Ue.totalHeight]).clamp(!0);Ue.topY<=Ve&&Ve<=Ue.bottomY||q(le,$,null,Fe(Ve-Ue.barLength/2))(Ee)}).call(R.behavior.drag().origin(function(Ee){return R.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee}).on("drag",q(le,$)).on("dragend",function(){})),we.attr("y2",function(Ee){return Ee.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(ke.remove(),we.remove())}function o($,le,ae,he){var xe=p(ae),Me=b(xe);L(Me);var Ae=T(Me);s(Ae);var ke=x(Me),we=P(ke);M(we),E(we,le,he,$),Z(Me)}function p($){var le=$.selectAll("."+g.cn.columnCells).data(S.repeat,S.keyFun);return le.enter().append("g").classed(g.cn.columnCells,!0),le.exit().remove(),le}function b($){var le=$.selectAll("."+g.cn.columnCell).data(f.splitToCells,function(ae){return ae.keyWithinBlock});return le.enter().append("g").classed(g.cn.columnCell,!0),le.exit().remove(),le}function T($){var le=$.selectAll("."+g.cn.cellRect).data(S.repeat,function(ae){return ae.keyWithinBlock});return le.enter().append("rect").classed(g.cn.cellRect,!0),le}function P($){var le=$.selectAll("."+g.cn.cellText).data(S.repeat,function(ae){return ae.keyWithinBlock});return le.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){R.event.stopPropagation()}),le}function x($){var le=$.selectAll("."+g.cn.cellTextHolder).data(S.repeat,function(ae){return ae.keyWithinBlock});return le.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}function L($){$.each(function(le,ae){var he=le.calcdata.cells.font,xe=le.column.specIndex,Me={size:U(he.size,xe,ae),color:U(he.color,xe,ae),family:U(he.family,xe,ae),weight:U(he.weight,xe,ae),style:U(he.style,xe,ae),variant:U(he.variant,xe,ae)};le.rowNumber=le.key,le.align=U(le.calcdata.cells.align,xe,ae),le.cellBorderWidth=U(le.calcdata.cells.line.width,xe,ae),le.font=Me})}function M($){$.each(function(le){v.font(R.select(this),le.font)})}function s($){$.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var ae=R.select(this);u.stroke(ae,U(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),u.fill(ae,U(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}function E($,le,ae,he){$.text(function(xe){var Me=xe.column.specIndex,Ae=xe.rowNumber,ke=xe.value,we=typeof ke=="string",Ee=we&&ke.match(/<br>/i),be=!we||Ee;xe.mayHaveMarkup=we&&ke.match(/[<&>]/);var Le=w(ke);xe.latex=Le;var Ue=Le?"":U(xe.calcdata.cells.prefix,Me,Ae)||"",Ve=Le?"":U(xe.calcdata.cells.suffix,Me,Ae)||"",Fe=Le?null:U(xe.calcdata.cells.format,Me,Ae)||null,He=Ue+(Fe?C(Fe)(xe.value):xe.value)+Ve,st;xe.wrappingNeeded=!xe.wrapped&&!be&&!Le&&(st=O(He)),xe.cellHeightMayIncrease=Ee||Le||xe.mayHaveMarkup||(st===void 0?O(He):st),xe.needsConvertToTspans=xe.mayHaveMarkup||xe.wrappingNeeded||xe.latex;var vt;if(xe.wrappingNeeded){var lt=g.wrapSplitCharacter===" "?He.replace(/<a href=/ig,"<a_href="):He,et=lt.split(g.wrapSplitCharacter),ct=g.wrapSplitCharacter===" "?et.map(function(ht){return ht.replace(/<a_href=/ig,"<a href=")}):et;xe.fragments=ct.map(function(ht){return{text:ht,width:null}}),xe.fragments.push({fragment:g.wrapSpacer,width:null}),vt=ct.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete xe.fragments,vt=He;return vt}).attr("dy",function(xe){return xe.needsConvertToTspans?0:"0.75em"}).each(function(xe){var Me=this,Ae=R.select(Me),ke=xe.wrappingNeeded?ne:ce;xe.needsConvertToTspans?d.convertToTspans(Ae,he,ke(ae,Me,le,he,xe)):R.select(Me.parentNode).attr("transform",function(we){return t(Q(we),g.cellPad)}).attr("text-anchor",function(we){return{left:"start",center:"middle",right:"end"}[we.align]})})}function w($){return typeof $=="string"&&$.match(g.latexCheck)}function O($){return $.indexOf(g.wrapSplitCharacter)!==-1}function _($,le,ae){var he=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(xe,Me){return ae[he.indexOf(xe)]-ae[he.indexOf(Me)]}),le.columnorder=ae,$.emit("plotly_restyle")}function U($,le,ae){if(a.isArrayOrTypedArray($)){var he=$[Math.min(le,$.length-1)];return a.isArrayOrTypedArray(he)?he[Math.min(ae,he.length-1)]:he}else return $}function z($,le,ae){$.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",t(le.x,ae))}function F($){return $.type==="cells"}function B($){return $.type==="header"}function N($){var le=$.rowBlocks.length?$.rowBlocks[0].auxiliaryBlocks:[];return le.reduce(function(ae,he){return ae+Y(he,1/0)},0)}function V($,le,ae){for(var he=[],xe=0,Me=0;Me<$.length;Me++){for(var Ae=$[Me],ke=Ae.rows,we=0,Ee=0;Ee<ke.length;Ee++)we+=ke[Ee].rowHeight;Ae.allRowsHeight=we;var be=xe+we,Le=le,Ue=Le+ae;Le<be&&Ue>xe&&he.push(Me),xe+=we}return he}function X($,le,ae){var he=A(le)[0];if(he!==void 0){var xe=he.rowBlocks,Me=he.calcdata,Ae=re(xe,xe.length),ke=he.calcdata.groupHeight-N(he),we=Me.scrollY=Math.max(0,Math.min(Ae-ke,Me.scrollY)),Ee=V(xe,we,ke);Ee.length===1&&(Ee[0]===xe.length-1?Ee.unshift(Ee[0]-1):Ee.push(Ee[0]+1)),Ee[0]%2&&Ee.reverse(),le.each(function(be,Le){be.page=Ee[Le],be.scrollY=we}),le.attr("transform",function(be){var Le=re(be.rowBlocks,be.page)-be.scrollY;return t(0,Le)}),$&&(te($,ae,le,Ee,he.prevPages,he,0),te($,ae,le,Ee,he.prevPages,he,1),h(ae,$))}}function q($,le,ae,he){return function(Me){var Ae=Me.calcdata?Me.calcdata:Me,ke=le.filter(function(Le){return Ae.key===Le.key}),we=ae||Ae.scrollbarState.dragMultiplier,Ee=Ae.scrollY;Ae.scrollY=he===void 0?Ae.scrollY+we*R.event.dy:he;var be=ke.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(F);return X($,be,ke),Ae.scrollY===Ee}}function te($,le,ae,he,xe,Me,Ae){var ke=he[Ae]!==xe[Ae];ke&&(clearTimeout(Me.currentRepaint[Ae]),Me.currentRepaint[Ae]=setTimeout(function(){var we=ae.filter(function(Ee,be){return be===Ae&&he[be]!==xe[be]});o($,le,we,ae),xe[Ae]=he[Ae]}))}function ne($,le,ae,he){return function(){var Me=R.select(le.parentNode);Me.each(function(Ae){var ke=Ae.fragments;Me.selectAll("tspan.line").each(function(He,st){ke[st].width=this.getComputedTextLength()});var we=ke[ke.length-1].width,Ee=ke.slice(0,-1),be=[],Le,Ue,Ve=0,Fe=Ae.column.columnWidth-2*g.cellPad;for(Ae.value="";Ee.length;)Le=Ee.shift(),Ue=Le.width+we,Ve+Ue>Fe&&(Ae.value+=be.join(g.wrapSpacer)+g.lineBreaker,be=[],Ve=0),be.push(Le.text),Ve+=Ue;Ve&&(Ae.value+=be.join(g.wrapSpacer)),Ae.wrapped=!0}),Me.selectAll("tspan.line").remove(),E(Me.select("."+g.cn.cellText),ae,$,he),R.select(le.parentNode.parentNode).call(Z)}}function ce($,le,ae,he,xe){return function(){if(!xe.settledY){var Ae=R.select(le.parentNode),ke=ue(xe),we=xe.key-ke.firstRowIndex,Ee=ke.rows[we].rowHeight,be=xe.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*g.cellPad:Ee,Le=Math.max(be,Ee),Ue=Le-ke.rows[we].rowHeight;Ue&&(ke.rows[we].rowHeight=Le,$.selectAll("."+g.cn.columnCell).call(Z),X(null,$.filter(F),0),h(ae,he,!0)),Ae.attr("transform",function(){var Ve=this,Fe=Ve.parentNode,He=Fe.getBoundingClientRect(),st=R.select(Ve.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),vt=Ve.transform.baseVal.consolidate(),lt=st.top-He.top+(vt?vt.matrix.f:g.cellPad);return t(Q(xe,R.select(Ve.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),lt)}),xe.settledY=!0}}}function Q($,le){switch($.align){case"left":return g.cellPad;case"right":return $.column.columnWidth-(le||0)-g.cellPad;case"center":return($.column.columnWidth-(le||0))/2;default:return g.cellPad}}function Z($){$.attr("transform",function(le){var ae=le.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,ke){return Ae+Y(ke,1/0)},0),he=ue(le),xe=Y(he,le.key),Me=xe+ae;return t(0,Me)}).selectAll("."+g.cn.cellRect).attr("height",function(le){return K(ue(le),le.key).rowHeight})}function re($,le){for(var ae=0,he=le-1;he>=0;he--)ae+=oe($[he]);return ae}function Y($,le){for(var ae=0,he=0;he<$.rows.length&&$.rows[he].rowIndex<le;he++)ae+=$.rows[he].rowHeight;return ae}function oe($){var le=$.allRowsHeight;if(le!==void 0)return le;for(var ae=0,he=0;he<$.rows.length;he++)ae+=$.rows[he].rowHeight;return $.allRowsHeight=ae,ae}function ue($){return $.rowBlocks[$.page]}function K($,le){return $.rows[le-$.firstRowIndex]}},40516:function(H,G,e){var g=e(21776).Ks,R=e(21776).Gw,a=e(49084),C=e(86968).u,S=e(74996),v=e(424),d=e(32984),r=e(92880).extendFlat,t=e(98192).c;H.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},S.textfont,{}),editType:"calc"},text:S.text,textinfo:v.textinfo,texttemplate:R({editType:"plot"},{keys:d.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:d.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:r({},S.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:S.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},79516:function(H,G,e){var g=e(7316);G.name="treemap",G.plot=function(R,a,C,S){g.plotBasePlot(G.name,R,a,C,S)},G.clean=function(R,a,C,S){g.cleanBasePlot(G.name,R,a,C,S)}},97840:function(H,G,e){var g=e(3776);G.r=function(R,a){return g.calc(R,a)},G.q=function(R){return g._runCrossTraceCalc("treemap",R)}},32984:function(H){H.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(H,G,e){var g=e(3400),R=e(40516),a=e(76308),C=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,d=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,i=r.handleDefaults;H.exports=function(f,u,l,m){function c(s,E){return g.coerce(f,u,R,s,E)}var A=c("labels"),h=c("parents");if(!A||!A.length||!h||!h.length){u.visible=!1;return}var o=c("values");o&&o.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var p=c("tiling.packing");p==="squarify"&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var b=c("text");c("texttemplate"),u.texttemplate||c("textinfo",g.isArrayOrTypedArray(b)?"text+label":"label"),c("hovertext"),c("hovertemplate");var T=c("pathbar.visible"),P="auto";S(f,u,m,c,P,{hasPathbar:T,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var x=u.textposition.indexOf("bottom")!==-1;d(f,u,m,c);var L=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;L?i(f,u,m,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(u.marker.colors||[]).length);var M=u.textfont.size*2;c("marker.pad.t",x?M/4:M),c("marker.pad.l",M/4),c("marker.pad.r",M/4),c("marker.pad.b",x?M:M/4),c("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},T&&(c("pathbar.thickness",u.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),C(u,m,c),u._length=null}},95808:function(H,G,e){var g=e(33428),R=e(78176),a=e(82744),C=a.clearMinTextSize,S=e(60100).resizeText,v=e(52960);H.exports=function(r,t,i,n,f){var u=f.type,l=f.drawDescendants,m=r._fullLayout,c=m["_"+u+"layer"],A,h,o=!i;if(C(u,m),A=c.selectAll("g.trace."+u).data(t,function(b){return b[0].trace.uid}),A.enter().append("g").classed("trace",!0).classed(u,!0),A.order(),!m.uniformtext.mode&&R.hasTransition(i)){n&&(h=n());var p=g.transition().duration(i.duration).ease(i.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});p.each(function(){c.selectAll("g.trace").each(function(b){v(r,b,this,i,l)})})}else A.each(function(b){v(r,b,this,i,l)}),m.uniformtext.mode&&S(r,c.selectAll(".trace"),u);o&&A.exit().remove()}},27336:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=e(72736),S=e(13832),v=e(66192).styleOne,d=e(32984),r=e(78176),t=e(45716),i=!0;H.exports=function(f,u,l,m,c){var A=c.barDifY,h=c.width,o=c.height,p=c.viewX,b=c.viewY,T=c.pathSlice,P=c.toMoveInsideSlice,x=c.strTransform,L=c.hasTransition,M=c.handleSlicesExit,s=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,w={},O=f._context.staticPlot,_=f._fullLayout,U=u[0],z=U.trace,F=U.hierarchy,B=h/z._entryDepth,N=r.listPath(l.data,"id"),V=S(F.copy(),[h,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();V=V.filter(function(q){var te=N.indexOf(q.data.id);return te===-1?!1:(q.x0=B*te,q.x1=B*(te+1),q.y0=A,q.y1=A+o,q.onPathbar=!0,!0)}),V.reverse(),m=m.data(V,r.getPtId),m.enter().append("g").classed("pathbar",!0),M(m,i,w,[h,o],T),m.order();var X=m;L&&(X=X.transition().each("end",function(){var q=g.select(this);r.setSliceCursor(q,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(q){q._x0=p(q.x0),q._x1=p(q.x1),q._y0=b(q.y0),q._y1=b(q.y1),q._hoverX=p(q.x1-Math.min(h,o)/2),q._hoverY=b(q.y1-o/2);var te=g.select(this),ne=R.ensureSingle(te,"path","surface",function(re){re.style("pointer-events",O?"none":"all")});L?ne.transition().attrTween("d",function(re){var Y=s(re,i,w,[h,o]);return function(oe){return T(Y(oe))}}):ne.attr("d",T),te.call(t,l,f,u,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),ne.call(v,q,z,f,{hovered:!1}),q._text=(r.getPtLabel(q)||"").split("<br>").join(" ")||"";var ce=R.ensureSingle(te,"g","slicetext"),Q=R.ensureSingle(ce,"text","",function(re){re.attr("data-notex",1)}),Z=R.ensureUniformFontSize(f,r.determineTextFont(z,q,_.font,{onPathbar:!0}));Q.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,Z).call(C.convertToTspans,f),q.textBB=a.bBox(Q.node()),q.transform=P(q,{fontSize:Z.size,onPathbar:!0}),q.transform.fontSize=Z.size,L?Q.transition().attrTween("transform",function(re){var Y=E(re,i,w,[h,o]);return function(oe){return x(Y(oe))}}):Q.attr("transform",x(q))})}},76477:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=e(72736),S=e(13832),v=e(66192).styleOne,d=e(32984),r=e(78176),t=e(45716),i=e(96488).formatSliceLabel,n=!1;H.exports=function(u,l,m,c,A){var h=A.width,o=A.height,p=A.viewX,b=A.viewY,T=A.pathSlice,P=A.toMoveInsideSlice,x=A.strTransform,L=A.hasTransition,M=A.handleSlicesExit,s=A.makeUpdateSliceInterpolator,E=A.makeUpdateTextInterpolator,w=A.prevEntry,O={},_=u._context.staticPlot,U=u._fullLayout,z=l[0],F=z.trace,B=F.textposition.indexOf("left")!==-1,N=F.textposition.indexOf("right")!==-1,V=F.textposition.indexOf("bottom")!==-1,X=!V&&!F.marker.pad.t||V&&!F.marker.pad.b,q=S(m,[h,o],{packing:F.tiling.packing,squarifyratio:F.tiling.squarifyratio,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,pad:{inner:F.tiling.pad,top:F.marker.pad.t,left:F.marker.pad.l,right:F.marker.pad.r,bottom:F.marker.pad.b}}),te=q.descendants(),ne=1/0,ce=-1/0;te.forEach(function(oe){var ue=oe.depth;ue>=F._maxDepth?(oe.x0=oe.x1=(oe.x0+oe.x1)/2,oe.y0=oe.y1=(oe.y0+oe.y1)/2):(ne=Math.min(ne,ue),ce=Math.max(ce,ue))}),c=c.data(te,r.getPtId),F._maxVisibleLayers=isFinite(ce)?ce-ne+1:0,c.enter().append("g").classed("slice",!0),M(c,n,O,[h,o],T),c.order();var Q=null;if(L&&w){var Z=r.getPtId(w);c.each(function(oe){Q===null&&r.getPtId(oe)===Z&&(Q={x0:oe.x0,x1:oe.x1,y0:oe.y0,y1:oe.y1})})}var re=function(){return Q||{x0:0,x1:h,y0:0,y1:o}},Y=c;return L&&(Y=Y.transition().each("end",function(){var oe=g.select(this);r.setSliceCursor(oe,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(oe){var ue=r.isHeader(oe,F);oe._x0=p(oe.x0),oe._x1=p(oe.x1),oe._y0=b(oe.y0),oe._y1=b(oe.y1),oe._hoverX=p(oe.x1-F.marker.pad.r),oe._hoverY=b(V?oe.y1-F.marker.pad.b/2:oe.y0+F.marker.pad.t/2);var K=g.select(this),$=R.ensureSingle(K,"path","surface",function(Ae){Ae.style("pointer-events",_?"none":"all")});L?$.transition().attrTween("d",function(Ae){var ke=s(Ae,n,re(),[h,o]);return function(we){return T(ke(we))}}):$.attr("d",T),K.call(t,m,u,l,{styleOne:v,eventDataKeys:d.eventDataKeys,transitionTime:d.CLICK_TRANSITION_TIME,transitionEasing:d.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),$.call(v,oe,F,u,{hovered:!1}),oe.x0===oe.x1||oe.y0===oe.y1?oe._text="":ue?oe._text=X?"":r.getPtLabel(oe)||"":oe._text=i(oe,m,F,l,U)||"";var le=R.ensureSingle(K,"g","slicetext"),ae=R.ensureSingle(le,"text","",function(Ae){Ae.attr("data-notex",1)}),he=R.ensureUniformFontSize(u,r.determineTextFont(F,oe,U.font)),xe=oe._text||" ",Me=ue&&xe.indexOf("<br>")===-1;ae.text(xe).classed("slicetext",!0).attr("text-anchor",N?"end":B||Me?"start":"middle").call(a.font,he).call(C.convertToTspans,u),oe.textBB=a.bBox(ae.node()),oe.transform=P(oe,{fontSize:he.size,isHeader:ue}),oe.transform.fontSize=he.size,L?ae.transition().attrTween("transform",function(Ae){var ke=E(Ae,n,re(),[h,o]);return function(we){return x(ke(we))}}):ae.attr("transform",x(oe))}),Q}},83024:function(H){H.exports=function G(e,g,R){var a;R.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),R.flipX&&(a=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-a),R.flipY&&(a=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-a);var C=e.children;if(C)for(var S=0;S<C.length;S++)G(C[S],g,R)}},31991:function(H,G,e){H.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(H){H.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(H,G,e){var g=e(3400),R=e(45392);H.exports=function(C,S){function v(d,r){return g.coerce(C,S,R,d,r)}v("treemapcolorway",S.colorway),v("extendtreemapcolors")}},13832:function(H,G,e){var g=e(74148),R=e(83024);H.exports=function(S,v,d){var r=d.flipX,t=d.flipY,i=d.packing==="dice-slice",n=d.pad[t?"bottom":"top"],f=d.pad[r?"right":"left"],u=d.pad[r?"left":"right"],l=d.pad[t?"top":"bottom"],m;i&&(m=f,f=n,n=m,m=u,u=l,l=m);var c=g.treemap().tile(a(d.packing,d.squarifyratio)).paddingInner(d.pad.inner).paddingLeft(f).paddingRight(u).paddingTop(n).paddingBottom(l).size(i?[v[1],v[0]]:v)(S);return(i||r||t)&&R(c,v,{swapXY:i,flipX:r,flipY:t}),c};function a(C,S){switch(C){case"squarify":return g.treemapSquarify.ratio(S);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},53264:function(H,G,e){var g=e(95808),R=e(76477);H.exports=function(C,S,v,d){return g(C,S,v,d,{type:"treemap",drawDescendants:R})}},52960:function(H,G,e){var g=e(33428),R=e(67756).qy,a=e(78176),C=e(3400),S=e(78048).TEXTPAD,v=e(98184),d=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,i=e(32984),n=e(27336);function f(u){return a.isHierarchyRoot(u)?"":a.getPtId(u)}H.exports=function(l,m,c,A,h){var o=l._fullLayout,p=m[0],b=p.trace,T=b.type,P=T==="icicle",x=p.hierarchy,L=a.findEntryWithLevel(x,b.level),M=g.select(c),s=M.selectAll("g.pathbar"),E=M.selectAll("g.slice");if(!L){s.remove(),E.remove();return}var w=a.isHierarchyRoot(L),O=!o.uniformtext.mode&&a.hasTransition(A),_=a.getMaxDepth(b),U=function(Oe){return Oe.data.depth-L.data.depth<_},z=o._size,F=b.domain,B=z.w*(F.x[1]-F.x[0]),N=z.h*(F.y[1]-F.y[0]),V=B,X=b.pathbar.thickness,q=b.marker.line.width+i.gapWithPathbar,te=b.pathbar.visible?b.pathbar.side.indexOf("bottom")>-1?N+q:-(X+q):0,ne={x0:V,x1:V,y0:te,y1:te+X},ce=function(Oe,Ye,Ze){var We=b.tiling.pad,_e=function(de){return de-We<=Ye.x0},Ie=function(de){return de+We>=Ye.x1},Xe=function(de){return de-We<=Ye.y0},De=function(de){return de+We>=Ye.y1};return Oe.x0===Ye.x0&&Oe.x1===Ye.x1&&Oe.y0===Ye.y0&&Oe.y1===Ye.y1?{x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1}:{x0:_e(Oe.x0-We)?0:Ie(Oe.x0-We)?Ze[0]:Oe.x0,x1:_e(Oe.x1+We)?0:Ie(Oe.x1+We)?Ze[0]:Oe.x1,y0:Xe(Oe.y0-We)?0:De(Oe.y0-We)?Ze[1]:Oe.y0,y1:Xe(Oe.y1+We)?0:De(Oe.y1+We)?Ze[1]:Oe.y1}},Q=null,Z={},re={},Y=null,oe=function(Oe,Ye){return Ye?Z[f(Oe)]:re[f(Oe)]},ue=function(Oe,Ye,Ze,We){if(Ye)return Z[f(x)]||ne;var _e=re[b.level]||Ze;return U(Oe)?ce(Oe,_e,We):{}};p.hasMultipleRoots&&w&&_++,b._maxDepth=_,b._backgroundColor=o.paper_bgcolor,b._entryDepth=L.data.depth,b._atRootLevel=w;var K=-B/2+z.l+z.w*(F.x[1]+F.x[0])/2,$=-N/2+z.t+z.h*(1-(F.y[1]+F.y[0])/2),le=function(Oe){return K+Oe},ae=function(Oe){return $+Oe},he=ae(0),xe=le(0),Me=function(Oe){return xe+Oe},Ae=function(Oe){return he+Oe};function ke(Oe,Ye){return Oe+","+Ye}var we=Me(0),Ee=function(Oe){Oe.x=Math.max(we,Oe.x)},be=b.pathbar.edgeshape,Le=function(Oe){var Ye=Me(Math.max(Math.min(Oe.x0,Oe.x0),0)),Ze=Me(Math.min(Math.max(Oe.x1,Oe.x1),V)),We=Ae(Oe.y0),_e=Ae(Oe.y1),Ie=X/2,Xe={},De={};Xe.x=Ye,De.x=Ze,Xe.y=De.y=(We+_e)/2;var de={x:Ye,y:We},Te={x:Ze,y:We},Be={x:Ze,y:_e},Qe={x:Ye,y:_e};return be===">"?(de.x-=Ie,Te.x-=Ie,Be.x-=Ie,Qe.x-=Ie):be==="/"?(Be.x-=Ie,Qe.x-=Ie,Xe.x-=Ie/2,De.x-=Ie/2):be==="\\"?(de.x-=Ie,Te.x-=Ie,Xe.x-=Ie/2,De.x-=Ie/2):be==="<"&&(Xe.x-=Ie,De.x-=Ie),Ee(de),Ee(Qe),Ee(Xe),Ee(Te),Ee(Be),Ee(De),"M"+ke(de.x,de.y)+"L"+ke(Te.x,Te.y)+"L"+ke(De.x,De.y)+"L"+ke(Be.x,Be.y)+"L"+ke(Qe.x,Qe.y)+"L"+ke(Xe.x,Xe.y)+"Z"},Ue=b[P?"tiling":"marker"].pad,Ve=function(Oe){return b.textposition.indexOf(Oe)!==-1},Fe=Ve("top"),He=Ve("left"),st=Ve("right"),vt=Ve("bottom"),lt=function(Oe){var Ye=le(Oe.x0),Ze=le(Oe.x1),We=ae(Oe.y0),_e=ae(Oe.y1),Ie=Ze-Ye,Xe=_e-We;if(!Ie||!Xe)return"";var De=b.marker.cornerradius||0,de=Math.min(De,Ie/2,Xe/2);de&&Oe.data&&Oe.data.data&&Oe.data.data.label&&(Fe&&(de=Math.min(de,Ue.t)),He&&(de=Math.min(de,Ue.l)),st&&(de=Math.min(de,Ue.r)),vt&&(de=Math.min(de,Ue.b)));var Te=function(Be,Qe){return de?"a"+ke(de,de)+" 0 0 1 "+ke(Be,Qe):""};return"M"+ke(Ye,We+de)+Te(de,-de)+"L"+ke(Ze-de,We)+Te(de,de)+"L"+ke(Ze,_e-de)+Te(-de,de)+"L"+ke(Ye+de,_e)+Te(-de,-de)+"Z"},et=function(Oe,Ye){var Ze=Oe.x0,We=Oe.x1,_e=Oe.y0,Ie=Oe.y1,Xe=Oe.textBB,De=Fe||Ye.isHeader&&!vt,de=De?"start":vt?"end":"middle",Te=Ve("right"),Be=Ve("left")||Ye.onPathbar,Qe=Be?-1:Te?1:0;if(Ye.isHeader){if(Ze+=(P?Ue:Ue.l)-S,We-=(P?Ue:Ue.r)-S,Ze>=We){var at=(Ze+We)/2;Ze=at,We=at}var it;vt?(it=Ie-(P?Ue:Ue.b),_e<it&&it<Ie&&(_e=it)):(it=_e+(P?Ue:Ue.t),_e<it&&it<Ie&&(Ie=it))}var Wt=d(Ze,We,_e,Ie,Xe,{isHorizontal:!1,constrained:!0,angle:0,anchor:de,leftToRight:Qe});return Wt.fontSize=Ye.fontSize,Wt.targetX=le(Wt.targetX),Wt.targetY=ae(Wt.targetY),isNaN(Wt.targetX)||isNaN(Wt.targetY)?{}:(Ze!==We&&_e!==Ie&&t(b.type,Wt,o),{scale:Wt.scale,rotate:Wt.rotate,textX:Wt.textX,textY:Wt.textY,anchorX:Wt.anchorX,anchorY:Wt.anchorY,targetX:Wt.targetX,targetY:Wt.targetY})},ct=function(Oe,Ye){for(var Ze,We=0,_e=Oe;!Ze&&We<_;)We++,_e=_e.parent,_e?Ze=oe(_e,Ye):We=_;return Ze||{}},ht=function(Oe,Ye,Ze,We){var _e=oe(Oe,Ye),Ie;if(Ye)Ie=ne;else{var Xe=oe(L,Ye);Xe?Ie=ce(Oe,Xe,We):Ie={}}return R(_e,Ie)},mt=function(Oe,Ye,Ze,We,_e){var Ie=oe(Oe,Ye),Xe;if(Ie)Xe=Ie;else if(Ye)Xe=ne;else if(Q)if(Oe.parent){var De=Y||Ze;De&&!Ye?Xe=ce(Oe,De,We):(Xe={},C.extendFlat(Xe,ct(Oe,Ye)))}else Xe=C.extendFlat({},Oe),P&&(_e.orientation==="h"?_e.flipX?Xe.x0=Oe.x1:Xe.x1=0:_e.flipY?Xe.y0=Oe.y1:Xe.y1=0);else Xe={};return R(Xe,{x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1})},xt=function(Oe,Ye,Ze,We){var _e=oe(Oe,Ye),Ie={},Xe=ue(Oe,Ye,Ze,We);C.extendFlat(Ie,{transform:et({x0:Xe.x0,x1:Xe.x1,y0:Xe.y0,y1:Xe.y1,textBB:Oe.textBB,_text:Oe._text},{isHeader:a.isHeader(Oe,b)})}),_e?Ie=_e:Oe.parent&&C.extendFlat(Ie,ct(Oe,Ye));var De=Oe.transform;return Oe.x0!==Oe.x1&&Oe.y0!==Oe.y1&&t(b.type,De,o),R(Ie,{transform:{scale:De.scale,rotate:De.rotate,textX:De.textX,textY:De.textY,anchorX:De.anchorX,anchorY:De.anchorY,targetX:De.targetX,targetY:De.targetY}})},Mt=function(Oe,Ye,Ze,We,_e){var Ie=We[0],Xe=We[1];O?Oe.exit().transition().each(function(){var De=g.select(this),de=De.select("path.surface");de.transition().attrTween("d",function(Be){var Qe=ht(Be,Ye,Ze,[Ie,Xe]);return function(at){return _e(Qe(at))}});var Te=De.select("g.slicetext");Te.attr("opacity",0)}).remove():Oe.exit().remove()},tt=function(Oe){var Ye=Oe.transform;return Oe.x0!==Oe.x1&&Oe.y0!==Oe.y1&&t(b.type,Ye,o),C.getTextTransform({textX:Ye.textX,textY:Ye.textY,anchorX:Ye.anchorX,anchorY:Ye.anchorY,targetX:Ye.targetX,targetY:Ye.targetY,scale:Ye.scale,rotate:Ye.rotate})};O&&(s.each(function(Oe){Z[f(Oe)]={x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1},Oe.transform&&(Z[f(Oe)].transform={textX:Oe.transform.textX,textY:Oe.transform.textY,anchorX:Oe.transform.anchorX,anchorY:Oe.transform.anchorY,targetX:Oe.transform.targetX,targetY:Oe.transform.targetY,scale:Oe.transform.scale,rotate:Oe.transform.rotate})}),E.each(function(Oe){re[f(Oe)]={x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1},Oe.transform&&(re[f(Oe)].transform={textX:Oe.transform.textX,textY:Oe.transform.textY,anchorX:Oe.transform.anchorX,anchorY:Oe.transform.anchorY,targetX:Oe.transform.targetX,targetY:Oe.transform.targetY,scale:Oe.transform.scale,rotate:Oe.transform.rotate}),!Q&&a.isEntry(Oe)&&(Q=Oe)})),Y=h(l,m,L,E,{width:B,height:N,viewX:le,viewY:ae,pathSlice:lt,toMoveInsideSlice:et,prevEntry:Q,makeUpdateSliceInterpolator:mt,makeUpdateTextInterpolator:xt,handleSlicesExit:Mt,hasTransition:O,strTransform:tt}),b.pathbar.visible?n(l,m,L,s,{barDifY:te,width:V,height:X,viewX:Me,viewY:Ae,pathSlice:Le,toMoveInsideSlice:et,makeUpdateSliceInterpolator:mt,makeUpdateTextInterpolator:xt,handleSlicesExit:Mt,hasTransition:O,strTransform:tt}):s.remove()}},66192:function(H,G,e){var g=e(33428),R=e(76308),a=e(3400),C=e(78176),S=e(82744).resizeText,v=e(60404);function d(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");S(t,i,"treemap"),i.each(function(n){var f=g.select(this),u=n[0],l=u.trace;f.style("opacity",l.opacity),f.selectAll("path.surface").each(function(m){g.select(this).call(r,m,l,t,{hovered:!1})})})}function r(t,i,n,f,u){var l=(u||{}).hovered,m=i.data.data,c=m.i,A,h,o=m.color,p=C.isHierarchyRoot(i),b=1;if(l)A=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(p&&o===n.root.color)b=100,A="rgba(0,0,0,0)",h=0;else if(A=a.castOption(n,c,"marker.line.color")||R.defaultLine,h=a.castOption(n,c,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var T=n.marker.depthfade;if(T){var P=R.combine(R.addOpacity(n._backgroundColor,.75),o),x;if(T===!0){var L=C.getMaxDepth(n);isFinite(L)?C.isLeaf(i)?x=0:x=n._maxVisibleLayers-(i.data.depth-n._entryDepth):x=i.data.height+1}else x=i.data.depth-n._entryDepth,n._atRootLevel||x++;if(x>0)for(var M=0;M<x;M++){var s=.5*M/x;o=R.combine(R.addOpacity(P,s),o)}}}t.call(v,i,n,f,o).style("stroke-width",h).call(R.stroke,A).style("opacity",b)}H.exports={style:d,styleOne:r}},13988:function(H,G,e){var g=e(63188),R=e(92880).extendFlat,a=e(29736).axisHoverFormat;H.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:R({},g.name,{}),orientation:R({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:R({},g.boxpoints,{}),jitter:R({},g.jitter,{}),pointpos:R({},g.pointpos,{}),width:R({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:g.zorder}},67064:function(H,G,e){var g=e(3400),R=e(54460),a=e(62555),C=e(63800),S=e(39032).BADNUM;H.exports=function(i,n){var f=a(i,n);if(f[0].t.empty)return f;for(var u=i._fullLayout,l=R.getFromId(i,n[n.orientation==="h"?"xaxis":"yaxis"]),m=1/0,c=-1/0,A=0,h=0,o=0;o<f.length;o++){var p=f[o],b=p.pts.map(C.extractVal),T=p.bandwidth=d(n,p,b),P=p.span=r(n,p,l,T);if(p.min===p.max&&T===0)P=p.span=[p.min,p.max],p.density=[{v:1,t:P[0]}],p.bandwidth=T,A=Math.max(A,1);else{var x=P[1]-P[0],L=Math.ceil(x/(T/3)),M=x/L;if(!isFinite(M)||!isFinite(L))return g.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var s=C.makeKDE(p,n,b);p.density=new Array(L);for(var E=0,w=P[0];w<P[1]+M/2;E++,w+=M){var O=s(w);p.density[E]={v:O,t:w},A=Math.max(A,O)}}h=Math.max(h,b.length),m=Math.min(m,P[0]),c=Math.max(c,P[1])}var _=R.findExtremes(l,[m,c],{padded:!0});if(n._extremes[l._id]=_,n.width)f[0].t.maxKDE=A;else{var U=u._violinScaleGroupStats,z=n.scalegroup,F=U[z];F?(F.maxKDE=Math.max(F.maxKDE,A),F.maxCount=Math.max(F.maxCount,h)):U[z]={maxKDE:A,maxCount:h}}return f[0].t.labels.kde=g._(i,"kde:"),f};function v(t,i,n){var f=Math.min(i,n/1.349);return 1.059*f*Math.pow(t,-.2)}function d(t,i,n){var f=i.max-i.min;if(!f)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,f/1e4);var u=n.length,l=g.stdev(n,u-1,i.mean);return Math.max(v(u,l,i.q3-i.q1),f/100)}function r(t,i,n,f){var u=t.spanmode,l=t.span||[],m=[i.min,i.max],c=[i.min-2*f,i.max+2*f],A;function h(p){var b=l[p],T=n.type==="multicategory"?n.r2c(b):n.d2c(b,0,t[i.valLetter+"calendar"]);return T===S?c[p]:T}u==="soft"?A=c:u==="hard"?A=m:A=[h(0),h(1)];var o={type:"linear",range:A};return R.setConvert(o),o.cleanRange(),A}},14348:function(H,G,e){var g=e(96404).setPositionOffset,R=["v","h"];H.exports=function(C,S){for(var v=C.calcdata,d=S.xaxis,r=S.yaxis,t=0;t<R.length;t++){for(var i=R[t],n=i==="h"?r:d,f=[],u=0;u<v.length;u++){var l=v[u],m=l[0].t,c=l[0].trace;c.visible===!0&&c.type==="violin"&&!m.empty&&c.orientation===i&&c.xaxis===d._id&&c.yaxis===r._id&&f.push(u)}g("violin",C,f,n)}}},36240:function(H,G,e){var g=e(3400),R=e(76308),a=e(90624),C=e(13988);H.exports=function(v,d,r,t){function i(M,s){return g.coerce(v,d,C,M,s)}function n(M,s){return g.coerce2(v,d,C,M,s)}if(a.handleSampleDefaults(v,d,i,t),d.visible!==!1){i("bandwidth"),i("side");var f=i("width");f||(i("scalegroup",d.name),i("scalemode"));var u=i("span"),l;Array.isArray(u)&&(l="manual"),i("spanmode",l);var m=i("line.color",(v.marker||{}).color||r),c=i("line.width"),A=i("fillcolor",R.addOpacity(d.line.color,.5));a.handlePointsDefaults(v,d,i,{prefix:""});var h=n("box.width"),o=n("box.fillcolor",A),p=n("box.line.color",m),b=n("box.line.width",c),T=i("box.visible",!!(h||o||p||b));T||(d.box={visible:!1});var P=n("meanline.color",m),x=n("meanline.width",c),L=i("meanline.visible",!!(P||x));L||(d.meanline={visible:!1}),i("quartilemethod"),i("zorder")}}},63800:function(H,G,e){var g=e(3400),R={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};G.makeKDE=function(a,C,S){var v=S.length,d=R.gaussian,r=a.bandwidth,t=1/(v*r);return function(i){for(var n=0,f=0;f<v;f++)n+=d((i-S[f])/r);return t*n}},G.getPositionOnKdePath=function(a,C,S){var v,d;C.orientation==="h"?(v="y",d="x"):(v="x",d="y");var r=g.findPointOnPath(a.path,S,d,{pathLength:a.pathLength}),t=a.posCenterPx,i=r[v],n=C.side==="both"?2*t-i:t;return[i,n]},G.getKdeValue=function(a,C,S){var v=a.pts.map(G.extractVal),d=G.makeKDE(a,C,v);return d(S)/a.posDensityScale},G.extractVal=function(a){return a.v}},78e3:function(H,G,e){var g=e(76308),R=e(3400),a=e(54460),C=e(27576),S=e(63800);H.exports=function(d,r,t,i,n){n||(n={});var f=n.hoverLayer,u=d.cd,l=u[0].trace,m=l.hoveron,c=m.indexOf("violins")!==-1,A=m.indexOf("kde")!==-1,h=[],o,p;if(c||A){var b=C.hoverOnBoxes(d,r,t,i);if(A&&b.length>0){var T=d.xa,P=d.ya,x,L,M,s,E;l.orientation==="h"?(E=r,x="y",M=P,L="x",s=T):(E=t,x="x",M=T,L="y",s=P);var w=u[d.index];if(E>=w.span[0]&&E<=w.span[1]){var O=R.extendFlat({},d),_=s.c2p(E,!0),U=S.getKdeValue(w,l,E),z=S.getPositionOnKdePath(w,l,_),F=M._offset,B=M._length;O[x+"0"]=z[0],O[x+"1"]=z[1],O[L+"0"]=O[L+"1"]=_,O[L+"Label"]=L+": "+a.hoverLabelText(s,E,l[L+"hoverformat"])+", "+u[0].t.labels.kde+" "+U.toFixed(3);for(var N=0,V=0;V<b.length;V++)if(b[V].attr==="med"){N=V;break}O.spikeDistance=b[N].spikeDistance;var X=x+"Spike";O[X]=b[N][X],b[N].spikeDistance=void 0,b[N][X]=void 0,O.hovertemplate=!1,h.push(O),p={},p[x+"1"]=R.constrain(F+z[0],F,F+B),p[x+"2"]=R.constrain(F+z[1],F,F+B),p[L+"1"]=p[L+"2"]=s._offset+_}}c&&(h=h.concat(b))}m.indexOf("points")!==-1&&(o=C.hoverOnPoints(d,r,t));var q=f.selectAll(".violinline-"+l.uid).data(p?[0]:[]);return q.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(p).call(g.stroke,d.color),i==="closest"?o?[o]:h:(o&&h.push(o),h)}},22869:function(H,G,e){H.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(H,G,e){var g=e(16560),R=e(3400).extendFlat;H.exports={violinmode:R({},g.boxmode,{}),violingap:R({},g.boxgap,{}),violingroupgap:R({},g.boxgroupgap,{})}},8939:function(H,G,e){var g=e(3400),R=e(98228),a=e(68832);H.exports=function(S,v,d){function r(t,i){return g.coerce(S,v,R,t,i)}a._supply(S,v,d,r,"violin")}},5140:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=e(18728),S=e(52340),v=e(63800);H.exports=function(r,t,i,n){var f=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,m=t.yaxis;function c(A,h){var o=S(A,{xaxis:l,yaxis:m,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(o[0],1)}R.makeTraceGroups(n,i,"trace violins").each(function(A){var h=g.select(this),o=A[0],p=o.t,b=o.trace;if(b.visible!==!0||p.empty){h.remove();return}var T=p.bPos,P=p.bdPos,x=t[p.valLetter+"axis"],L=t[p.posLetter+"axis"],M=b.side==="both",s=M||b.side==="positive",E=M||b.side==="negative",w=h.selectAll("path.violin").data(R.identity);w.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each(function(V){var X=g.select(this),q=V.density,te=q.length,ne=L.c2l(V.pos+T,!0),ce=L.l2p(ne),Q;if(b.width)Q=p.maxKDE/P;else{var Z=u._violinScaleGroupStats[b.scalegroup];Q=b.scalemode==="count"?Z.maxKDE/P*(Z.maxCount/V.pts.length):Z.maxKDE/P}var re,Y,oe,ue,K,$,le;if(s){for($=new Array(te),ue=0;ue<te;ue++)le=$[ue]={},le[p.posLetter]=ne+q[ue].v/Q,le[p.valLetter]=x.c2l(q[ue].t,!0);re=c($,b)}if(E){for($=new Array(te),K=0,ue=te-1;K<te;K++,ue--)le=$[K]={},le[p.posLetter]=ne-q[ue].v/Q,le[p.valLetter]=x.c2l(q[ue].t,!0);Y=c($,b)}if(M)oe=re+"L"+Y.substr(1)+"Z";else{var ae=[ce,x.c2p(q[0].t)],he=[ce,x.c2p(q[te-1].t)];b.orientation==="h"&&(ae.reverse(),he.reverse()),s?oe="M"+ae+"L"+re.substr(1)+"L"+he:oe="M"+he+"L"+Y.substr(1)+"L"+ae}X.attr("d",oe),V.posCenterPx=ce,V.posDensityScale=Q*P,V.path=X.node(),V.pathLength=V.path.getTotalLength()/(M?2:1)});var O=b.box,_=O.width,U=(O.line||{}).width,z,F;M?(z=P*_,F=0):s?(z=[0,P*_/2],F=U*{x:1,y:-1}[p.posLetter]):(z=[P*_/2,0],F=U*{x:-1,y:1}[p.posLetter]),C.plotBoxAndWhiskers(h,{pos:L,val:x},b,{bPos:T,bdPos:z,bPosPxOffset:F}),C.plotBoxMean(h,{pos:L,val:x},b,{bPos:T,bdPos:z,bPosPxOffset:F});var B;!b.box.visible&&b.meanline.visible&&(B=R.identity);var N=h.selectAll("path.meanline").data(B||[]);N.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),N.exit().remove(),N.each(function(V){var X=x.c2p(V.mean,!0),q=v.getPositionOnKdePath(V,b,X);g.select(this).attr("d",b.orientation==="h"?"M"+X+","+q[0]+"V"+q[1]:"M"+q[0]+","+X+"H"+q[1])}),C.plotPoints(h,{x:l,y:m},b,p)})}},95908:function(H,G,e){var g=e(33428),R=e(76308),a=e(49224).stylePoints;H.exports=function(S){var v=g.select(S).selectAll("g.trace.violins");v.style("opacity",function(d){return d[0].trace.opacity}),v.each(function(d){var r=d[0].trace,t=g.select(this),i=r.box||{},n=i.line||{},f=r.meanline||{},u=f.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(R.stroke,r.line.color).call(R.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(R.stroke,n.color).call(R.fill,i.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(R.stroke,f.color),t.selectAll("path.meanline").style(l).call(R.stroke,f.color),a(t,r,S)})}},58168:function(H,G,e){var g=e(49084),R=e(50048),a=e(16716),C=e(45464),S=e(92880).extendFlat,v=e(67824).overrideAll,d=H.exports=v(S({x:R.x,y:R.y,z:R.z,value:R.value,isomin:R.isomin,isomax:R.isomax,surface:R.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:R.slices,caps:R.caps,text:R.text,hovertext:R.hovertext,xhoverformat:R.xhoverformat,yhoverformat:R.yhoverformat,zhoverformat:R.zhoverformat,valuehoverformat:R.valuehoverformat,hovertemplate:R.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:R.colorbar,opacity:R.opacity,opacityscale:a.opacityscale,lightposition:R.lightposition,lighting:R.lighting,flatshading:R.flatshading,contour:R.contour,hoverinfo:S({},C.hoverinfo),showlegend:S({},C.showlegend,{dflt:!1})}),"calc","nested");d.x.editType=d.y.editType=d.z.editType=d.value.editType="calc+clearAxisTypes",d.transforms=void 0},91976:function(H,G,e){var g=e(67792).gl_mesh3d,R=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,C=e(43080),S=e(8932).extractOpts,v=e(52094),d=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(f,u,l){this.scene=f,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(f){if(f.object===this.mesh){var u=f.data.index,l=this.data._meshX[u],m=this.data._meshY[u],c=this.data._meshZ[u],A=this.data._Ys.length,h=this.data._Zs.length,o=d(l,this.data._Xs).id,p=d(m,this.data._Ys).id,b=d(c,this.data._Zs).id,T=f.index=b+h*p+h*A*o;f.traceCoordinate=[this.data._meshX[T],this.data._meshY[T],this.data._meshZ[T],this.data._value[T]];var P=this.data.hovertext||this.data.text;return a(P)&&P[T]!==void 0?f.textLabel=P[T]:P&&(f.textLabel=P),!0}},i.update=function(f){var u=this.scene,l=u.fullSceneLayout;this.data=r(f);function m(p,b,T,P){return b.map(function(x){return p.d2l(x,0,P)*T})}var c=v(m(l.xaxis,f._meshX,u.dataScale[0],f.xcalendar),m(l.yaxis,f._meshY,u.dataScale[1],f.ycalendar),m(l.zaxis,f._meshZ,u.dataScale[2],f.zcalendar)),A=v(f._meshI,f._meshJ,f._meshK),h={positions:c,cells:A,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,opacityscale:f.opacityscale,contourEnable:f.contour.show,contourColor:C(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},o=S(f);h.vertexIntensity=f._meshIntensity,h.vertexIntensityBounds=[o.min,o.max],h.colormap=R(f),this.mesh.update(h)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(f,u){var l=f.glplot.gl,m=g({gl:l}),c=new t(f,m,u.uid);return m._trace=c,c.update(u),f.glplot.add(m),c}H.exports=n},12448:function(H,G,e){var g=e(3400),R=e(58168),a=e(70548).supplyIsoDefaults,C=e(60192).opacityscaleDefaults;H.exports=function(v,d,r,t){function i(n,f){return g.coerce(v,d,R,n,f)}a(v,d,r,t,i),C(v,d,t,i)}},67776:function(H,G,e){H.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(H,G,e){var g=e(20832),R=e(52904).line,a=e(45464),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,d=e(10213),r=e(92880).extendFlat,t=e(76308);function i(n){return{marker:{color:r({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}H.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:S({},{keys:d.eventDataKeys}),hoverinfo:r({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:d.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:i(),decreasing:i(),totals:i(),connector:{line:{color:r({},R.color,{dflt:t.defaultLine}),width:r({},R.width,{editType:"plot"}),dash:R.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,zorder:g.zorder}},73540:function(H,G,e){var g=e(54460),R=e(1220),a=e(3400).mergeArray,C=e(4500),S=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function d(r){return r==="t"||r==="total"}H.exports=function(t,i){var n=g.getFromId(t,i.xaxis||"x"),f=g.getFromId(t,i.yaxis||"y"),u,l,m,c,A,h;i.orientation==="h"?(u=n.makeCalcdata(i,"x"),m=f.makeCalcdata(i,"y"),c=R(i,f,"y",m),A=!!i.yperiodalignment,h="y"):(u=f.makeCalcdata(i,"y"),m=n.makeCalcdata(i,"x"),c=R(i,n,"x",m),A=!!i.xperiodalignment,h="x"),l=c.vals;for(var o=Math.min(l.length,u.length),p=new Array(o),b=0,T,P=!1,x=0;x<o;x++){var L=u[x]||0,M=!1;(u[x]!==S||d(i.measure[x])||v(i.measure[x]))&&x+1<o&&(u[x+1]!==S||d(i.measure[x+1])||v(i.measure[x+1]))&&(M=!0);var s=p[x]={i:x,p:l[x],s:L,rawS:L,cNext:M};v(i.measure[x])?(b=s.s,s.isSum=!0,s.dir="totals",s.s=b):d(i.measure[x])?(s.isSum=!0,s.dir="totals",s.s=b):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",T=s.s,s.s=b+T,b+=T),s.dir==="totals"&&(P=!0),A&&(p[x].orig_p=m[x],p[x][h+"End"]=c.ends[x],p[x][h+"Start"]=c.starts[x]),i.ids&&(s.id=String(i.ids[x])),s.v=(i.base||0)+b}return p.length&&(p[0].hasTotals=P),a(i.text,p,"tx"),a(i.hovertext,p,"htx"),C(p,i),p}},10213:function(H){H.exports={eventDataKeys:["initial","delta","final"]}},50152:function(H,G,e){var g=e(96376).setGroupPositions;H.exports=function(a,C){var S=a._fullLayout,v=a._fullData,d=a.calcdata,r=C.xaxis,t=C.yaxis,i=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var m=v[l];m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="waterfall"&&(u=d[l],m.orientation==="h"?f.push(u):n.push(u),i.push(u))}var c={mode:S.waterfallmode,norm:S.waterfallnorm,gap:S.waterfallgap,groupgap:S.waterfallgroupgap};for(g(a,r,t,n,c),g(a,t,r,f,c),l=0;l<i.length;l++){u=i[l];for(var A=0;A<u.length;A++){var h=u[A];h.isSum===!1&&(h.s0+=A===0?0:u[A-1].s),A+1<u.length&&(u[A].nextP0=u[A+1].p0,u[A].nextS0=u[A+1].s0)}}}},24224:function(H,G,e){var g=e(3400),R=e(20011),a=e(31508).handleText,C=e(43980),S=e(31147),v=e(65776),d=e(76308),r=e(48164),t=r.INCREASING.COLOR,i=r.DECREASING.COLOR,n="#4499FF";function f(m,c,A){m(c+".marker.color",A),m(c+".marker.line.color",d.defaultLine),m(c+".marker.line.width")}function u(m,c,A,h){function o(x,L){return g.coerce(m,c,v,x,L)}var p=C(m,c,h,o);if(!p){c.visible=!1;return}S(m,c,h,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",c.x&&!c.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var b=o("textposition");a(m,c,h,o,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&(o("texttemplate"),c.texttemplate||o("textinfo")),f(o,"increasing",t),f(o,"decreasing",i),f(o,"totals",n);var T=o("connector.visible");if(T){o("connector.mode");var P=o("connector.line.width");P&&(o("connector.line.color"),o("connector.line.dash"))}o("zorder")}function l(m,c){var A,h;function o(b){return g.coerce(h._input,h,v,b)}if(c.waterfallmode==="group")for(var p=0;p<m.length;p++)h=m[p],A=h._input,R(A,h,c,o)}H.exports={supplyDefaults:u,crossTraceDefaults:l}},53256:function(H){H.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},94196:function(H,G,e){var g=e(54460).hoverLabelText,R=e(76308).opacity,a=e(63400).hoverOnBars,C=e(48164),S={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};H.exports=function(r,t,i,n,f){var u=a(r,t,i,n,f);if(!u)return;var l=u.cd,m=l[0].trace,c=m.orientation==="h",A=c?"x":"y",h=c?r.xa:r.ya;function o(w){return g(h,w,m[A+"hoverformat"])}var p=u.index,b=l[p],T=b.isSum?b.b+b.s:b.rawS;u.initial=b.b+b.s-T,u.delta=T,u.final=u.initial+u.delta;var P=o(Math.abs(u.delta));u.deltaLabel=T<0?"("+P+")":P,u.finalLabel=o(u.final),u.initialLabel=o(u.initial);var x=b.hi||m.hoverinfo,L=[];if(x&&x!=="none"&&x!=="skip"){var M=x==="all",s=x.split("+"),E=function(w){return M||s.indexOf(w)!==-1};b.isSum||(E("final")&&(c?!E("x"):!E("y"))&&L.push(u.finalLabel),E("delta")&&(T<0?L.push(u.deltaLabel+" "+S.decreasing):L.push(u.deltaLabel+" "+S.increasing)),E("initial")&&L.push("Initial: "+u.initialLabel))}return L.length&&(u.extraText=L.join("<br>")),u.color=v(m,b),[u]};function v(d,r){var t=d[r.dir].marker,i=t.color,n=t.line.color,f=t.line.width;if(R(i))return i;if(R(n)&&f)return n}},95952:function(H,G,e){H.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(H){H.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(H,G,e){var g=e(3400),R=e(91352);H.exports=function(a,C,S){var v=!1;function d(i,n){return g.coerce(a,C,R,i,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(d("waterfallmode"),d("waterfallgap",.2),d("waterfallgroupgap"))}},64488:function(H,G,e){var g=e(33428),R=e(3400),a=e(43616),C=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;H.exports=function(i,n,f,u){var l=i._fullLayout;v("waterfall",l),S.plot(i,n,f,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),d(i,n,f,u)};function d(t,i,n,f){var u=i.xaxis,l=i.yaxis;R.makeTraceGroups(f,n,"trace bars").each(function(m){var c=g.select(this),A=m[0].trace,h=R.ensureSingle(c,"g","lines");if(!A.connector||!A.connector.visible){h.remove();return}var o=A.orientation==="h",p=A.connector.mode,b=h.selectAll("g.line").data(R.identity);b.enter().append("g").classed("line",!0),b.exit().remove();var T=b.size();b.each(function(P,x){if(!(x!==T-1&&!P.cNext)){var L=r(P,u,l,o),M=L[0],s=L[1],E="";M[0]!==C&&s[0]!==C&&M[1]!==C&&s[1]!==C&&(p==="spanning"&&!P.isSum&&x>0&&(o?E+="M"+M[0]+","+s[1]+"V"+s[0]:E+="M"+M[1]+","+s[0]+"H"+M[0]),p!=="between"&&(P.isSum||x<T-1)&&(o?E+="M"+M[1]+","+s[0]+"V"+s[1]:E+="M"+M[0]+","+s[1]+"H"+M[1]),M[2]!==C&&s[2]!==C&&(o?E+="M"+M[1]+","+s[1]+"V"+s[2]:E+="M"+M[1]+","+s[1]+"H"+M[2])),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(a.setClipUrl,i.layerClipId,t)}})})}function r(t,i,n,f){var u=[],l=[],m=f?i:n,c=f?n:i;return u[0]=m.c2p(t.s0,!0),l[0]=c.c2p(t.p0,!0),u[1]=m.c2p(t.s1,!0),l[1]=c.c2p(t.p1,!0),u[2]=m.c2p(t.nextS0,!0),l[2]=c.c2p(t.nextP0,!0),f?[u,l]:[l,u]}},12252:function(H,G,e){var g=e(33428),R=e(43616),a=e(76308),C=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,d=S.styleTextPoints;function r(t,i,n){var f=n||g.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,f,"waterfall"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=g.select(this),m=u[0].trace;l.selectAll(".point > path").each(function(c){if(!c.isBlank){var A=m[c.dir].marker;g.select(this).call(a.fill,A.color).call(a.stroke,A.line.color).call(R.dashLine,A.line.dash,A.line.width).style("opacity",m.selectedpoints&&!c.selected?C:1)}}),d(l,m,t),l.selectAll(".lines").each(function(){var c=m.connector.line;R.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}H.exports={style:r}},84224:function(H,G,e){var g=e(54460),R=e(3400),a=e(73060),C=e(60468).W,S=e(39032).BADNUM;G.moduleType="transform",G.name="aggregate";var v=G.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=v.aggregations;G.supplyDefaults=function(u,l){var m={},c;function A(w,O){return R.coerce(u,m,v,w,O)}var h=A("enabled");if(!h)return m;var o=a.findArrayAttributes(l),p={};for(c=0;c<o.length;c++)p[o[c]]=1;var b=A("groups");if(!Array.isArray(b)){if(!p[b])return m.enabled=!1,m;p[b]=0}var T=u.aggregations||[],P=m.aggregations=new Array(T.length),x;function L(w,O){return R.coerce(T[c],x,d,w,O)}for(c=0;c<T.length;c++){x={_index:c};var M=L("target"),s=L("func"),E=L("enabled");E&&M&&(p[M]||s==="count"&&p[M]===void 0)?(s==="stddev"&&L("funcmode"),p[M]=0,P[c]=x):P[c]={enabled:!1,_index:c}}for(c=0;c<o.length;c++)p[o[c]]&&P.push({target:o[c],func:d.func.dflt,enabled:!0,_index:-1});return m},G.calcTransform=function(u,l,m){if(m.enabled){var c=m.groups,A=R.getTargetArray(l,{target:c});if(A){var h,o,p,b,T={},P={},x=[],L=C(l.transforms,m),M=A.length;for(l._length&&(M=Math.min(M,l._length)),h=0;h<M;h++)o=A[h],p=T[o],p===void 0?(T[o]=x.length,b=[h],x.push(b),P[T[o]]=L(h)):(x[p].push(h),P[T[o]]=(P[T[o]]||[]).concat(L(h)));m._indexToPoints=P;var s=m.aggregations;for(h=0;h<s.length;h++)r(u,l,x,s[h]);typeof c=="string"&&r(u,l,x,{target:c,func:"first",enabled:!0}),l._length=x.length}}};function r(u,l,m,c){if(c.enabled){for(var A=c.target,h=R.nestedProperty(l,A),o=h.get(),p=g.getDataConversions(u,l,A,o),b=t(c,p),T=new Array(m.length),P=0;P<m.length;P++)T[P]=b(o,m[P]);h.set(T),c.func==="count"&&R.pushUnique(l._arrayAttrs,A)}}function t(u,l){var m=u.func,c=l.d2c,A=l.c2d;switch(m){case"count":return i;case"first":return n;case"last":return f;case"sum":return function(h,o){for(var p=0,b=0;b<o.length;b++){var T=c(h[o[b]]);T!==S&&(p+=T)}return A(p)};case"avg":return function(h,o){for(var p=0,b=0,T=0;T<o.length;T++){var P=c(h[o[T]]);P!==S&&(p+=P,b++)}return b?A(p/b):S};case"min":return function(h,o){for(var p=1/0,b=0;b<o.length;b++){var T=c(h[o[b]]);T!==S&&(p=Math.min(p,T))}return p===1/0?S:A(p)};case"max":return function(h,o){for(var p=-1/0,b=0;b<o.length;b++){var T=c(h[o[b]]);T!==S&&(p=Math.max(p,T))}return p===-1/0?S:A(p)};case"range":return function(h,o){for(var p=1/0,b=-1/0,T=0;T<o.length;T++){var P=c(h[o[T]]);P!==S&&(p=Math.min(p,P),b=Math.max(b,P))}return b===-1/0||p===1/0?S:A(b-p)};case"change":return function(h,o){var p=c(h[o[0]]),b=c(h[o[o.length-1]]);return p===S||b===S?S:A(b-p)};case"median":return function(h,o){for(var p=[],b=0;b<o.length;b++){var T=c(h[o[b]]);T!==S&&p.push(T)}if(!p.length)return S;p.sort(R.sorterAsc);var P=(p.length-1)/2;return A((p[Math.floor(P)]+p[Math.ceil(P)])/2)};case"mode":return function(h,o){for(var p={},b=0,T=S,P=0;P<o.length;P++){var x=c(h[o[P]]);if(x!==S){var L=p[x]=(p[x]||0)+1;L>b&&(b=L,T=x)}}return b?A(T):S};case"rms":return function(h,o){for(var p=0,b=0,T=0;T<o.length;T++){var P=c(h[o[T]]);P!==S&&(p+=P*P,b++)}return b?A(Math.sqrt(p/b)):S};case"stddev":return function(h,o){var p=0,b=0,T=1,P=S,x;for(x=0;x<o.length&&P===S;x++)P=c(h[o[x]]);if(P===S)return S;for(;x<o.length;x++){var L=c(h[o[x]]);if(L!==S){var M=L-P;p+=M,b+=M*M,T++}}var s=u.funcmode==="sample"?T-1:T;return s?Math.sqrt((b-p*p/T)/s):0}}}function i(u,l){return l.length}function n(u,l){return u[l[0]]}function f(u,l){return u[l[l.length-1]]}},76744:function(H,G,e){var g=e(3400),R=e(24040),a=e(54460),C=e(60468).W,S=e(69104),v=S.COMPARISON_OPS,d=S.INTERVAL_OPS,r=S.SET_OPS;G.moduleType="transform",G.name="filter",G.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(d).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},G.supplyDefaults=function(i){var n={};function f(c,A){return g.coerce(i,n,G.attributes,c,A)}var u=f("enabled");if(u){var l=f("target");if(g.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;f("preservegaps"),f("operation"),f("value");var m=R.getComponentMethod("calendars","handleDefaults");m(i,n,"valuecalendar",null),m(i,n,"targetcalendar",null)}return n},G.calcTransform=function(i,n,f){if(!f.enabled)return;var u=g.getTargetArray(n,f);if(!u)return;var l=f.target,m=u.length;n._length&&(m=Math.min(m,n._length));var c=f.targetcalendar,A=n._arrayAttrs,h=f.preservegaps;if(typeof l=="string"){var o=g.nestedProperty(n,l+"calendar").get();o&&(c=o)}var p=a.getDataToCoordFunc(i,n,l,u),b=t(f,p,c),T={},P={},x=0;function L(_,U){for(var z=0;z<A.length;z++){var F=g.nestedProperty(n,A[z]);_(F,U)}}var M,s;h?(M=function(_){T[_.astr]=g.extendDeep([],_.get()),_.set(new Array(m))},s=function(_,U){var z=T[_.astr][U];_.get()[U]=z}):(M=function(_){T[_.astr]=g.extendDeep([],_.get()),_.set([])},s=function(_,U){var z=T[_.astr][U];_.get().push(z)}),L(M);for(var E=C(n.transforms,f),w=0;w<m;w++){var O=b(u[w]);O?(L(s,w),P[x++]=E(w)):h&&x++}f._indexToPoints=P,n._length=x};function t(i,n,f){var u=i.operation,l=i.value,m=g.isArrayOrTypedArray(l);function c(p){return p.indexOf(u)!==-1}var A=function(p){return n(p,0,i.valuecalendar)},h=function(p){return n(p,0,f)},o;switch(c(v)?o=A(m?l[0]:l):c(d)?o=m?[A(l[0]),A(l[1])]:[A(l),A(l)]:c(r)&&(o=m?l.map(A):[A(l)]),u){case"=":return function(p){return h(p)===o};case"!=":return function(p){return h(p)!==o};case"<":return function(p){return h(p)<o};case"<=":return function(p){return h(p)<=o};case">":return function(p){return h(p)>o};case">=":return function(p){return h(p)>=o};case"[]":return function(p){var b=h(p);return b>=o[0]&&b<=o[1]};case"()":return function(p){var b=h(p);return b>o[0]&&b<o[1]};case"[)":return function(p){var b=h(p);return b>=o[0]&&b<o[1]};case"(]":return function(p){var b=h(p);return b>o[0]&&b<=o[1]};case"][":return function(p){var b=h(p);return b<=o[0]||b>=o[1]};case")(":return function(p){var b=h(p);return b<o[0]||b>o[1]};case"](":return function(p){var b=h(p);return b<=o[0]||b>o[1]};case")[":return function(p){var b=h(p);return b<o[0]||b>=o[1]};case"{}":return function(p){return o.indexOf(h(p))!==-1};case"}{":return function(p){return o.indexOf(h(p))===-1}}}},32028:function(H,G,e){var g=e(3400),R=e(73060),a=e(7316),C=e(60468).W;G.moduleType="transform",G.name="groupby",G.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},G.supplyDefaults=function(v,d,r){var t,i={};function n(A,h){return g.coerce(v,i,G.attributes,A,h)}var f=n("enabled");if(!f)return i;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=i.styles=[];if(u)for(t=0;t<u.length;t++){var m=l[t]={};g.coerce(u[t],l[t],G.attributes.styles,"target");var c=g.coerce(u[t],l[t],G.attributes.styles,"value");g.isPlainObject(c)?m.value=g.extendDeep({},c):c&&delete m.value}return i},G.transform=function(v,d){var r,t,i,n=[];for(t=0;t<v.length;t++)for(r=S(v[t],d),i=0;i<r.length;i++)n.push(r[i]);return n};function S(v,d){var r,t,i,n,f,u,l,m,c,A,h=d.transform,o=d.transformIndex,p=v.transforms[o].groups,b=C(v.transforms,h);if(!g.isArrayOrTypedArray(p)||p.length===0)return[v];var T=g.filterUnique(p),P=new Array(T.length),x=p.length,L=R.findArrayAttributes(v),M=h.styles||[],s={};for(r=0;r<M.length;r++)s[M[r].target]=M[r].value;h.styles&&(A=g.keyedContainer(h,"styles","target","value.name"));var E={},w={};for(r=0;r<T.length;r++){u=T[r],E[u]=r,w[u]=0,l=P[r]=g.extendDeepNoArrays({},v),l._group=u,l.transforms[o]._indexToPoints={};var O=null;for(A&&(O=A.get(u)),O||O===""?l.name=O:l.name=g.templateString(h.nameformat,{trace:v.name,group:u}),m=l.transforms,l.transforms=[],t=0;t<m.length;t++)l.transforms[t]=g.extendDeepNoArrays({},m[t]);for(t=0;t<L.length;t++)g.nestedProperty(l,L[t]).set([])}for(i=0;i<L.length;i++){for(n=L[i],t=0,c=[];t<T.length;t++)c[t]=g.nestedProperty(P[t],n).get();for(f=g.nestedProperty(v,n).get(),t=0;t<x;t++)c[E[p[t]]].push(f[t])}for(t=0;t<x;t++){l=P[E[p[t]]];var _=l.transforms[o]._indexToPoints;_[w[p[t]]]=b(t),w[p[t]]++}for(r=0;r<T.length;r++)u=T[r],l=P[r],a.clearExpandedTraceDefaultColors(l),l=g.extendDeepNoArrays(l,s[u]||{});return P}},60468:function(H,G){G.W=function(e,g){for(var R,a,C=0;C<e.length&&(R=e[C],R!==g);C++)!R._indexToPoints||R.enabled===!1||(a=R._indexToPoints);var S=a?function(v){return a[v]}:function(v){return[v]};return S}},76272:function(H,G,e){var g=e(3400),R=e(54460),a=e(60468).W,C=e(39032).BADNUM;G.moduleType="transform",G.name="sort",G.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},G.supplyDefaults=function(d){var r={};function t(n,f){return g.coerce(d,r,G.attributes,n,f)}var i=t("enabled");return i&&(t("target"),t("order")),r},G.calcTransform=function(d,r,t){if(t.enabled){var i=g.getTargetArray(r,t);if(i){var n=t.target,f=i.length;r._length&&(f=Math.min(f,r._length));var u=r._arrayAttrs,l=R.getDataToCoordFunc(d,r,n,i),m=S(t,i,l,f),c=a(r.transforms,t),A={},h,o;for(h=0;h<u.length;h++){var p=g.nestedProperty(r,u[h]),b=p.get(),T=new Array(f);for(o=0;o<f;o++)T[o]=b[m[o]];p.set(T)}for(o=0;o<f;o++)A[o]=c(m[o]);t._indexToPoints=A,r._length=f}}};function S(d,r,t,i){var n=new Array(i),f=new Array(i),u;for(u=0;u<i;u++)n[u]={v:r[u],i:u};for(n.sort(v(d,t)),u=0;u<i;u++)f[u]=n[u].i;return f}function v(d,r){switch(d.order){case"ascending":return function(t,i){var n=r(t.v),f=r(i.v);return n===C?1:f===C?-1:n-f};case"descending":return function(t,i){var n=r(t.v),f=r(i.v);return n===C?1:f===C?-1:f-n}}}},25788:function(H,G){G.version="2.32.0"},67792:function(H,G,e){var g=e(4168);(function(){var R={1964:function(v,d,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,d,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(De,de){if(!(De instanceof de))throw new TypeError("Cannot call a class as a function")}function i(De,de){for(var Te=0;Te<de.length;Te++){var Be=de[Te];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(De,f(Be.key),Be)}}function n(De,de,Te){return de&&i(De.prototype,de),Te&&i(De,Te),Object.defineProperty(De,"prototype",{writable:!1}),De}function f(De){var de=u(De,"string");return b(de)=="symbol"?de:de+""}function u(De,de){if(b(De)!="object"||!De)return De;var Te=De[Symbol.toPrimitive];if(Te!==void 0){var Be=Te.call(De,de||"default");if(b(Be)!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(de==="string"?String:Number)(De)}function l(De,de,Te){return de=h(de),m(De,A()?Reflect.construct(de,Te||[],h(De).constructor):de.apply(De,Te))}function m(De,de){if(de&&(b(de)==="object"||typeof de=="function"))return de;if(de!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(De)}function c(De){if(De===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return De}function A(){try{var De=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!De})()}function h(De){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Te){return Te.__proto__||Object.getPrototypeOf(Te)},h(De)}function o(De,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(de&&de.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Object.defineProperty(De,"prototype",{writable:!1}),de&&p(De,de)}function p(De,de){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,Qe){return Be.__proto__=Qe,Be},p(De,de)}function b(De){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},b(De)}var T=r(7507),P=r(3778),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.hp=E,d.IS=50;var L=2147483647;E.TYPED_ARRAY_SUPPORT=M(),!E.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M(){try{var De=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(De,de),De.foo()===42}catch{return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}});function s(De){if(De>L)throw new RangeError('The value "'+De+'" is invalid for option "size"');var de=new Uint8Array(De);return Object.setPrototypeOf(de,E.prototype),de}function E(De,de,Te){if(typeof De=="number"){if(typeof de=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return U(De)}return w(De,de,Te)}E.poolSize=8192;function w(De,de,Te){if(typeof De=="string")return z(De,de);if(ArrayBuffer.isView(De))return B(De);if(De==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(De));if(Ze(De,ArrayBuffer)||De&&Ze(De.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(De,SharedArrayBuffer)||De&&Ze(De.buffer,SharedArrayBuffer)))return N(De,de,Te);if(typeof De=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=De.valueOf&&De.valueOf();if(Be!=null&&Be!==De)return E.from(Be,de,Te);var Qe=V(De);if(Qe)return Qe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof De[Symbol.toPrimitive]=="function")return E.from(De[Symbol.toPrimitive]("string"),de,Te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(De))}E.from=function(De,de,Te){return w(De,de,Te)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function O(De){if(typeof De!="number")throw new TypeError('"size" argument must be of type number');if(De<0)throw new RangeError('The value "'+De+'" is invalid for option "size"')}function _(De,de,Te){return O(De),De<=0?s(De):de!==void 0?typeof Te=="string"?s(De).fill(de,Te):s(De).fill(de):s(De)}E.alloc=function(De,de,Te){return _(De,de,Te)};function U(De){return O(De),s(De<0?0:X(De)|0)}E.allocUnsafe=function(De){return U(De)},E.allocUnsafeSlow=function(De){return U(De)};function z(De,de){if((typeof de!="string"||de==="")&&(de="utf8"),!E.isEncoding(de))throw new TypeError("Unknown encoding: "+de);var Te=q(De,de)|0,Be=s(Te),Qe=Be.write(De,de);return Qe!==Te&&(Be=Be.slice(0,Qe)),Be}function F(De){for(var de=De.length<0?0:X(De.length)|0,Te=s(de),Be=0;Be<de;Be+=1)Te[Be]=De[Be]&255;return Te}function B(De){if(Ze(De,Uint8Array)){var de=new Uint8Array(De);return N(de.buffer,de.byteOffset,de.byteLength)}return F(De)}function N(De,de,Te){if(de<0||De.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(De.byteLength<de+(Te||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return de===void 0&&Te===void 0?Be=new Uint8Array(De):Te===void 0?Be=new Uint8Array(De,de):Be=new Uint8Array(De,de,Te),Object.setPrototypeOf(Be,E.prototype),Be}function V(De){if(E.isBuffer(De)){var de=X(De.length)|0,Te=s(de);return Te.length===0||De.copy(Te,0,0,de),Te}if(De.length!==void 0)return typeof De.length!="number"||We(De.length)?s(0):F(De);if(De.type==="Buffer"&&Array.isArray(De.data))return F(De.data)}function X(De){if(De>=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");return De|0}E.isBuffer=function(de){return de!=null&&de._isBuffer===!0&&de!==E.prototype},E.compare=function(de,Te){if(Ze(de,Uint8Array)&&(de=E.from(de,de.offset,de.byteLength)),Ze(Te,Uint8Array)&&(Te=E.from(Te,Te.offset,Te.byteLength)),!E.isBuffer(de)||!E.isBuffer(Te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(de===Te)return 0;for(var Be=de.length,Qe=Te.length,at=0,it=Math.min(Be,Qe);at<it;++at)if(de[at]!==Te[at]){Be=de[at],Qe=Te[at];break}return Be<Qe?-1:Qe<Be?1:0},E.isEncoding=function(de){switch(String(de).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(de,Te){if(!Array.isArray(de))throw new TypeError('"list" argument must be an Array of Buffers');if(de.length===0)return E.alloc(0);var Be;if(Te===void 0)for(Te=0,Be=0;Be<de.length;++Be)Te+=de[Be].length;var Qe=E.allocUnsafe(Te),at=0;for(Be=0;Be<de.length;++Be){var it=de[Be];if(Ze(it,Uint8Array))at+it.length>Qe.length?(E.isBuffer(it)||(it=E.from(it)),it.copy(Qe,at)):Uint8Array.prototype.set.call(Qe,it,at);else if(E.isBuffer(it))it.copy(Qe,at);else throw new TypeError('"list" argument must be an Array of Buffers');at+=it.length}return Qe};function q(De,de){if(E.isBuffer(De))return De.length;if(ArrayBuffer.isView(De)||Ze(De,ArrayBuffer))return De.byteLength;if(typeof De!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(De));var Te=De.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&Te===0)return 0;for(var Qe=!1;;)switch(de){case"ascii":case"latin1":case"binary":return Te;case"utf8":case"utf-8":return xt(De).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te*2;case"hex":return Te>>>1;case"base64":return Oe(De).length;default:if(Qe)return Be?-1:xt(De).length;de=(""+de).toLowerCase(),Qe=!0}}E.byteLength=q;function te(De,de,Te){var Be=!1;if((de===void 0||de<0)&&(de=0),de>this.length||((Te===void 0||Te>this.length)&&(Te=this.length),Te<=0)||(Te>>>=0,de>>>=0,Te<=de))return"";for(De||(De="utf8");;)switch(De){case"hex":return Me(this,de,Te);case"utf8":case"utf-8":return $(this,de,Te);case"ascii":return he(this,de,Te);case"latin1":case"binary":return xe(this,de,Te);case"base64":return K(this,de,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,de,Te);default:if(Be)throw new TypeError("Unknown encoding: "+De);De=(De+"").toLowerCase(),Be=!0}}E.prototype._isBuffer=!0;function ne(De,de,Te){var Be=De[de];De[de]=De[Te],De[Te]=Be}E.prototype.swap16=function(){var de=this.length;if(de%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Te=0;Te<de;Te+=2)ne(this,Te,Te+1);return this},E.prototype.swap32=function(){var de=this.length;if(de%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Te=0;Te<de;Te+=4)ne(this,Te,Te+3),ne(this,Te+1,Te+2);return this},E.prototype.swap64=function(){var de=this.length;if(de%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Te=0;Te<de;Te+=8)ne(this,Te,Te+7),ne(this,Te+1,Te+6),ne(this,Te+2,Te+5),ne(this,Te+3,Te+4);return this},E.prototype.toString=function(){var de=this.length;return de===0?"":arguments.length===0?$(this,0,de):te.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(de){if(!E.isBuffer(de))throw new TypeError("Argument must be a Buffer");return this===de?!0:E.compare(this,de)===0},E.prototype.inspect=function(){var de="",Te=d.IS;return de=this.toString("hex",0,Te).replace(/(.{2})/g,"$1 ").trim(),this.length>Te&&(de+=" ... "),"<Buffer "+de+">"},x&&(E.prototype[x]=E.prototype.inspect),E.prototype.compare=function(de,Te,Be,Qe,at){if(Ze(de,Uint8Array)&&(de=E.from(de,de.offset,de.byteLength)),!E.isBuffer(de))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(de));if(Te===void 0&&(Te=0),Be===void 0&&(Be=de?de.length:0),Qe===void 0&&(Qe=0),at===void 0&&(at=this.length),Te<0||Be>de.length||Qe<0||at>this.length)throw new RangeError("out of range index");if(Qe>=at&&Te>=Be)return 0;if(Qe>=at)return-1;if(Te>=Be)return 1;if(Te>>>=0,Be>>>=0,Qe>>>=0,at>>>=0,this===de)return 0;for(var it=at-Qe,Wt=Be-Te,Yt=Math.min(it,Wt),Tt=this.slice(Qe,at),Lt=de.slice(Te,Be),Xt=0;Xt<Yt;++Xt)if(Tt[Xt]!==Lt[Xt]){it=Tt[Xt],Wt=Lt[Xt];break}return it<Wt?-1:Wt<it?1:0};function ce(De,de,Te,Be,Qe){if(De.length===0)return-1;if(typeof Te=="string"?(Be=Te,Te=0):Te>2147483647?Te=2147483647:Te<-2147483648&&(Te=-2147483648),Te=+Te,We(Te)&&(Te=Qe?0:De.length-1),Te<0&&(Te=De.length+Te),Te>=De.length){if(Qe)return-1;Te=De.length-1}else if(Te<0)if(Qe)Te=0;else return-1;if(typeof de=="string"&&(de=E.from(de,Be)),E.isBuffer(de))return de.length===0?-1:Q(De,de,Te,Be,Qe);if(typeof de=="number")return de=de&255,typeof Uint8Array.prototype.indexOf=="function"?Qe?Uint8Array.prototype.indexOf.call(De,de,Te):Uint8Array.prototype.lastIndexOf.call(De,de,Te):Q(De,[de],Te,Be,Qe);throw new TypeError("val must be string, number or Buffer")}function Q(De,de,Te,Be,Qe){var at=1,it=De.length,Wt=de.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(De.length<2||de.length<2)return-1;at=2,it/=2,Wt/=2,Te/=2}function Yt(gt,Kt){return at===1?gt[Kt]:gt.readUInt16BE(Kt*at)}var Tt;if(Qe){var Lt=-1;for(Tt=Te;Tt<it;Tt++)if(Yt(De,Tt)===Yt(de,Lt===-1?0:Tt-Lt)){if(Lt===-1&&(Lt=Tt),Tt-Lt+1===Wt)return Lt*at}else Lt!==-1&&(Tt-=Tt-Lt),Lt=-1}else for(Te+Wt>it&&(Te=it-Wt),Tt=Te;Tt>=0;Tt--){for(var Xt=!0,Tr=0;Tr<Wt;Tr++)if(Yt(De,Tt+Tr)!==Yt(de,Tr)){Xt=!1;break}if(Xt)return Tt}return-1}E.prototype.includes=function(de,Te,Be){return this.indexOf(de,Te,Be)!==-1},E.prototype.indexOf=function(de,Te,Be){return ce(this,de,Te,Be,!0)},E.prototype.lastIndexOf=function(de,Te,Be){return ce(this,de,Te,Be,!1)};function Z(De,de,Te,Be){Te=Number(Te)||0;var Qe=De.length-Te;Be?(Be=Number(Be),Be>Qe&&(Be=Qe)):Be=Qe;var at=de.length;Be>at/2&&(Be=at/2);var it;for(it=0;it<Be;++it){var Wt=parseInt(de.substr(it*2,2),16);if(We(Wt))return it;De[Te+it]=Wt}return it}function re(De,de,Te,Be){return Ye(xt(de,De.length-Te),De,Te,Be)}function Y(De,de,Te,Be){return Ye(Mt(de),De,Te,Be)}function oe(De,de,Te,Be){return Ye(Oe(de),De,Te,Be)}function ue(De,de,Te,Be){return Ye(tt(de,De.length-Te),De,Te,Be)}E.prototype.write=function(de,Te,Be,Qe){if(Te===void 0)Qe="utf8",Be=this.length,Te=0;else if(Be===void 0&&typeof Te=="string")Qe=Te,Be=this.length,Te=0;else if(isFinite(Te))Te=Te>>>0,isFinite(Be)?(Be=Be>>>0,Qe===void 0&&(Qe="utf8")):(Qe=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var at=this.length-Te;if((Be===void 0||Be>at)&&(Be=at),de.length>0&&(Be<0||Te<0)||Te>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qe||(Qe="utf8");for(var it=!1;;)switch(Qe){case"hex":return Z(this,de,Te,Be);case"utf8":case"utf-8":return re(this,de,Te,Be);case"ascii":case"latin1":case"binary":return Y(this,de,Te,Be);case"base64":return oe(this,de,Te,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,de,Te,Be);default:if(it)throw new TypeError("Unknown encoding: "+Qe);Qe=(""+Qe).toLowerCase(),it=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(De,de,Te){return de===0&&Te===De.length?T.fromByteArray(De):T.fromByteArray(De.slice(de,Te))}function $(De,de,Te){Te=Math.min(De.length,Te);for(var Be=[],Qe=de;Qe<Te;){var at=De[Qe],it=null,Wt=at>239?4:at>223?3:at>191?2:1;if(Qe+Wt<=Te){var Yt=void 0,Tt=void 0,Lt=void 0,Xt=void 0;switch(Wt){case 1:at<128&&(it=at);break;case 2:Yt=De[Qe+1],(Yt&192)===128&&(Xt=(at&31)<<6|Yt&63,Xt>127&&(it=Xt));break;case 3:Yt=De[Qe+1],Tt=De[Qe+2],(Yt&192)===128&&(Tt&192)===128&&(Xt=(at&15)<<12|(Yt&63)<<6|Tt&63,Xt>2047&&(Xt<55296||Xt>57343)&&(it=Xt));break;case 4:Yt=De[Qe+1],Tt=De[Qe+2],Lt=De[Qe+3],(Yt&192)===128&&(Tt&192)===128&&(Lt&192)===128&&(Xt=(at&15)<<18|(Yt&63)<<12|(Tt&63)<<6|Lt&63,Xt>65535&&Xt<1114112&&(it=Xt))}}it===null?(it=65533,Wt=1):it>65535&&(it-=65536,Be.push(it>>>10&1023|55296),it=56320|it&1023),Be.push(it),Qe+=Wt}return ae(Be)}var le=4096;function ae(De){var de=De.length;if(de<=le)return String.fromCharCode.apply(String,De);for(var Te="",Be=0;Be<de;)Te+=String.fromCharCode.apply(String,De.slice(Be,Be+=le));return Te}function he(De,de,Te){var Be="";Te=Math.min(De.length,Te);for(var Qe=de;Qe<Te;++Qe)Be+=String.fromCharCode(De[Qe]&127);return Be}function xe(De,de,Te){var Be="";Te=Math.min(De.length,Te);for(var Qe=de;Qe<Te;++Qe)Be+=String.fromCharCode(De[Qe]);return Be}function Me(De,de,Te){var Be=De.length;(!de||de<0)&&(de=0),(!Te||Te<0||Te>Be)&&(Te=Be);for(var Qe="",at=de;at<Te;++at)Qe+=_e[De[at]];return Qe}function Ae(De,de,Te){for(var Be=De.slice(de,Te),Qe="",at=0;at<Be.length-1;at+=2)Qe+=String.fromCharCode(Be[at]+Be[at+1]*256);return Qe}E.prototype.slice=function(de,Te){var Be=this.length;de=~~de,Te=Te===void 0?Be:~~Te,de<0?(de+=Be,de<0&&(de=0)):de>Be&&(de=Be),Te<0?(Te+=Be,Te<0&&(Te=0)):Te>Be&&(Te=Be),Te<de&&(Te=de);var Qe=this.subarray(de,Te);return Object.setPrototypeOf(Qe,E.prototype),Qe};function ke(De,de,Te){if(De%1!==0||De<0)throw new RangeError("offset is not uint");if(De+de>Te)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(de,Te,Be){de=de>>>0,Te=Te>>>0,Be||ke(de,Te,this.length);for(var Qe=this[de],at=1,it=0;++it<Te&&(at*=256);)Qe+=this[de+it]*at;return Qe},E.prototype.readUintBE=E.prototype.readUIntBE=function(de,Te,Be){de=de>>>0,Te=Te>>>0,Be||ke(de,Te,this.length);for(var Qe=this[de+--Te],at=1;Te>0&&(at*=256);)Qe+=this[de+--Te]*at;return Qe},E.prototype.readUint8=E.prototype.readUInt8=function(de,Te){return de=de>>>0,Te||ke(de,1,this.length),this[de]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(de,Te){return de=de>>>0,Te||ke(de,2,this.length),this[de]|this[de+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(de,Te){return de=de>>>0,Te||ke(de,2,this.length),this[de]<<8|this[de+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(de,Te){return de=de>>>0,Te||ke(de,4,this.length),(this[de]|this[de+1]<<8|this[de+2]<<16)+this[de+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(de,Te){return de=de>>>0,Te||ke(de,4,this.length),this[de]*16777216+(this[de+1]<<16|this[de+2]<<8|this[de+3])},E.prototype.readBigUInt64LE=Ie(function(de){de=de>>>0,et(de,"offset");var Te=this[de],Be=this[de+7];(Te===void 0||Be===void 0)&&ct(de,this.length-8);var Qe=Te+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,24),at=this[++de]+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+Be*Math.pow(2,24);return BigInt(Qe)+(BigInt(at)<<BigInt(32))}),E.prototype.readBigUInt64BE=Ie(function(de){de=de>>>0,et(de,"offset");var Te=this[de],Be=this[de+7];(Te===void 0||Be===void 0)&&ct(de,this.length-8);var Qe=Te*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+this[++de],at=this[++de]*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+Be;return(BigInt(Qe)<<BigInt(32))+BigInt(at)}),E.prototype.readIntLE=function(de,Te,Be){de=de>>>0,Te=Te>>>0,Be||ke(de,Te,this.length);for(var Qe=this[de],at=1,it=0;++it<Te&&(at*=256);)Qe+=this[de+it]*at;return at*=128,Qe>=at&&(Qe-=Math.pow(2,8*Te)),Qe},E.prototype.readIntBE=function(de,Te,Be){de=de>>>0,Te=Te>>>0,Be||ke(de,Te,this.length);for(var Qe=Te,at=1,it=this[de+--Qe];Qe>0&&(at*=256);)it+=this[de+--Qe]*at;return at*=128,it>=at&&(it-=Math.pow(2,8*Te)),it},E.prototype.readInt8=function(de,Te){return de=de>>>0,Te||ke(de,1,this.length),this[de]&128?(255-this[de]+1)*-1:this[de]},E.prototype.readInt16LE=function(de,Te){de=de>>>0,Te||ke(de,2,this.length);var Be=this[de]|this[de+1]<<8;return Be&32768?Be|4294901760:Be},E.prototype.readInt16BE=function(de,Te){de=de>>>0,Te||ke(de,2,this.length);var Be=this[de+1]|this[de]<<8;return Be&32768?Be|4294901760:Be},E.prototype.readInt32LE=function(de,Te){return de=de>>>0,Te||ke(de,4,this.length),this[de]|this[de+1]<<8|this[de+2]<<16|this[de+3]<<24},E.prototype.readInt32BE=function(de,Te){return de=de>>>0,Te||ke(de,4,this.length),this[de]<<24|this[de+1]<<16|this[de+2]<<8|this[de+3]},E.prototype.readBigInt64LE=Ie(function(de){de=de>>>0,et(de,"offset");var Te=this[de],Be=this[de+7];(Te===void 0||Be===void 0)&&ct(de,this.length-8);var Qe=this[de+4]+this[de+5]*Math.pow(2,8)+this[de+6]*Math.pow(2,16)+(Be<<24);return(BigInt(Qe)<<BigInt(32))+BigInt(Te+this[++de]*Math.pow(2,8)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,24))}),E.prototype.readBigInt64BE=Ie(function(de){de=de>>>0,et(de,"offset");var Te=this[de],Be=this[de+7];(Te===void 0||Be===void 0)&&ct(de,this.length-8);var Qe=(Te<<24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+this[++de];return(BigInt(Qe)<<BigInt(32))+BigInt(this[++de]*Math.pow(2,24)+this[++de]*Math.pow(2,16)+this[++de]*Math.pow(2,8)+Be)}),E.prototype.readFloatLE=function(de,Te){return de=de>>>0,Te||ke(de,4,this.length),P.read(this,de,!0,23,4)},E.prototype.readFloatBE=function(de,Te){return de=de>>>0,Te||ke(de,4,this.length),P.read(this,de,!1,23,4)},E.prototype.readDoubleLE=function(de,Te){return de=de>>>0,Te||ke(de,8,this.length),P.read(this,de,!0,52,8)},E.prototype.readDoubleBE=function(de,Te){return de=de>>>0,Te||ke(de,8,this.length),P.read(this,de,!1,52,8)};function we(De,de,Te,Be,Qe,at){if(!E.isBuffer(De))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>Qe||de<at)throw new RangeError('"value" argument is out of bounds');if(Te+Be>De.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(de,Te,Be,Qe){if(de=+de,Te=Te>>>0,Be=Be>>>0,!Qe){var at=Math.pow(2,8*Be)-1;we(this,de,Te,Be,at,0)}var it=1,Wt=0;for(this[Te]=de&255;++Wt<Be&&(it*=256);)this[Te+Wt]=de/it&255;return Te+Be},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(de,Te,Be,Qe){if(de=+de,Te=Te>>>0,Be=Be>>>0,!Qe){var at=Math.pow(2,8*Be)-1;we(this,de,Te,Be,at,0)}var it=Be-1,Wt=1;for(this[Te+it]=de&255;--it>=0&&(Wt*=256);)this[Te+it]=de/Wt&255;return Te+Be},E.prototype.writeUint8=E.prototype.writeUInt8=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,1,255,0),this[Te]=de&255,Te+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,2,65535,0),this[Te]=de&255,this[Te+1]=de>>>8,Te+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,2,65535,0),this[Te]=de>>>8,this[Te+1]=de&255,Te+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,4,4294967295,0),this[Te+3]=de>>>24,this[Te+2]=de>>>16,this[Te+1]=de>>>8,this[Te]=de&255,Te+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,4,4294967295,0),this[Te]=de>>>24,this[Te+1]=de>>>16,this[Te+2]=de>>>8,this[Te+3]=de&255,Te+4};function Ee(De,de,Te,Be,Qe){lt(de,Be,Qe,De,Te,7);var at=Number(de&BigInt(4294967295));De[Te++]=at,at=at>>8,De[Te++]=at,at=at>>8,De[Te++]=at,at=at>>8,De[Te++]=at;var it=Number(de>>BigInt(32)&BigInt(4294967295));return De[Te++]=it,it=it>>8,De[Te++]=it,it=it>>8,De[Te++]=it,it=it>>8,De[Te++]=it,Te}function be(De,de,Te,Be,Qe){lt(de,Be,Qe,De,Te,7);var at=Number(de&BigInt(4294967295));De[Te+7]=at,at=at>>8,De[Te+6]=at,at=at>>8,De[Te+5]=at,at=at>>8,De[Te+4]=at;var it=Number(de>>BigInt(32)&BigInt(4294967295));return De[Te+3]=it,it=it>>8,De[Te+2]=it,it=it>>8,De[Te+1]=it,it=it>>8,De[Te]=it,Te+8}E.prototype.writeBigUInt64LE=Ie(function(de){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ee(this,de,Te,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=Ie(function(de){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return be(this,de,Te,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(de,Te,Be,Qe){if(de=+de,Te=Te>>>0,!Qe){var at=Math.pow(2,8*Be-1);we(this,de,Te,Be,at-1,-at)}var it=0,Wt=1,Yt=0;for(this[Te]=de&255;++it<Be&&(Wt*=256);)de<0&&Yt===0&&this[Te+it-1]!==0&&(Yt=1),this[Te+it]=(de/Wt>>0)-Yt&255;return Te+Be},E.prototype.writeIntBE=function(de,Te,Be,Qe){if(de=+de,Te=Te>>>0,!Qe){var at=Math.pow(2,8*Be-1);we(this,de,Te,Be,at-1,-at)}var it=Be-1,Wt=1,Yt=0;for(this[Te+it]=de&255;--it>=0&&(Wt*=256);)de<0&&Yt===0&&this[Te+it+1]!==0&&(Yt=1),this[Te+it]=(de/Wt>>0)-Yt&255;return Te+Be},E.prototype.writeInt8=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,1,127,-128),de<0&&(de=255+de+1),this[Te]=de&255,Te+1},E.prototype.writeInt16LE=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,2,32767,-32768),this[Te]=de&255,this[Te+1]=de>>>8,Te+2},E.prototype.writeInt16BE=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,2,32767,-32768),this[Te]=de>>>8,this[Te+1]=de&255,Te+2},E.prototype.writeInt32LE=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,4,2147483647,-2147483648),this[Te]=de&255,this[Te+1]=de>>>8,this[Te+2]=de>>>16,this[Te+3]=de>>>24,Te+4},E.prototype.writeInt32BE=function(de,Te,Be){return de=+de,Te=Te>>>0,Be||we(this,de,Te,4,2147483647,-2147483648),de<0&&(de=4294967295+de+1),this[Te]=de>>>24,this[Te+1]=de>>>16,this[Te+2]=de>>>8,this[Te+3]=de&255,Te+4},E.prototype.writeBigInt64LE=Ie(function(de){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ee(this,de,Te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=Ie(function(de){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return be(this,de,Te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(De,de,Te,Be,Qe,at){if(Te+Be>De.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("Index out of range")}function Ue(De,de,Te,Be,Qe){return de=+de,Te=Te>>>0,Qe||Le(De,de,Te,4),P.write(De,de,Te,Be,23,4),Te+4}E.prototype.writeFloatLE=function(de,Te,Be){return Ue(this,de,Te,!0,Be)},E.prototype.writeFloatBE=function(de,Te,Be){return Ue(this,de,Te,!1,Be)};function Ve(De,de,Te,Be,Qe){return de=+de,Te=Te>>>0,Qe||Le(De,de,Te,8),P.write(De,de,Te,Be,52,8),Te+8}E.prototype.writeDoubleLE=function(de,Te,Be){return Ve(this,de,Te,!0,Be)},E.prototype.writeDoubleBE=function(de,Te,Be){return Ve(this,de,Te,!1,Be)},E.prototype.copy=function(de,Te,Be,Qe){if(!E.isBuffer(de))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!Qe&&Qe!==0&&(Qe=this.length),Te>=de.length&&(Te=de.length),Te||(Te=0),Qe>0&&Qe<Be&&(Qe=Be),Qe===Be||de.length===0||this.length===0)return 0;if(Te<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(Qe<0)throw new RangeError("sourceEnd out of bounds");Qe>this.length&&(Qe=this.length),de.length-Te<Qe-Be&&(Qe=de.length-Te+Be);var at=Qe-Be;return this===de&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Te,Be,Qe):Uint8Array.prototype.set.call(de,this.subarray(Be,Qe),Te),at},E.prototype.fill=function(de,Te,Be,Qe){if(typeof de=="string"){if(typeof Te=="string"?(Qe=Te,Te=0,Be=this.length):typeof Be=="string"&&(Qe=Be,Be=this.length),Qe!==void 0&&typeof Qe!="string")throw new TypeError("encoding must be a string");if(typeof Qe=="string"&&!E.isEncoding(Qe))throw new TypeError("Unknown encoding: "+Qe);if(de.length===1){var at=de.charCodeAt(0);(Qe==="utf8"&&at<128||Qe==="latin1")&&(de=at)}}else typeof de=="number"?de=de&255:typeof de=="boolean"&&(de=Number(de));if(Te<0||this.length<Te||this.length<Be)throw new RangeError("Out of range index");if(Be<=Te)return this;Te=Te>>>0,Be=Be===void 0?this.length:Be>>>0,de||(de=0);var it;if(typeof de=="number")for(it=Te;it<Be;++it)this[it]=de;else{var Wt=E.isBuffer(de)?de:E.from(de,Qe),Yt=Wt.length;if(Yt===0)throw new TypeError('The value "'+de+'" is invalid for argument "value"');for(it=0;it<Be-Te;++it)this[it+Te]=Wt[it%Yt]}return this};var Fe={};function He(De,de,Te){Fe[De]=function(Be){function Qe(){var at;return t(this,Qe),at=l(this,Qe),Object.defineProperty(at,"message",{value:de.apply(at,arguments),writable:!0,configurable:!0}),at.name="".concat(at.name," [").concat(De,"]"),at.stack,delete at.name,at}return o(Qe,Be),n(Qe,[{key:"code",get:function(){return De},set:function(it){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:it,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(De,"]: ").concat(this.message)}}])}(Te)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(De){return De?"".concat(De," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(De,de){return'The "'.concat(De,'" argument must be of type number. Received type ').concat(b(de))},TypeError),He("ERR_OUT_OF_RANGE",function(De,de,Te){var Be='The value of "'.concat(De,'" is out of range.'),Qe=Te;return Number.isInteger(Te)&&Math.abs(Te)>Math.pow(2,32)?Qe=st(String(Te)):typeof Te=="bigint"&&(Qe=String(Te),(Te>Math.pow(BigInt(2),BigInt(32))||Te<-Math.pow(BigInt(2),BigInt(32)))&&(Qe=st(Qe)),Qe+="n"),Be+=" It must be ".concat(de,". Received ").concat(Qe),Be},RangeError);function st(De){for(var de="",Te=De.length,Be=De[0]==="-"?1:0;Te>=Be+4;Te-=3)de="_".concat(De.slice(Te-3,Te)).concat(de);return"".concat(De.slice(0,Te)).concat(de)}function vt(De,de,Te){et(de,"offset"),(De[de]===void 0||De[de+Te]===void 0)&&ct(de,De.length-(Te+1))}function lt(De,de,Te,Be,Qe,at){if(De>Te||De<de){var it=typeof de=="bigint"?"n":"",Wt;throw at>3?de===0||de===BigInt(0)?Wt=">= 0".concat(it," and < 2").concat(it," ** ").concat((at+1)*8).concat(it):Wt=">= -(2".concat(it," ** ").concat((at+1)*8-1).concat(it,") and < 2 ** ")+"".concat((at+1)*8-1).concat(it):Wt=">= ".concat(de).concat(it," and <= ").concat(Te).concat(it),new Fe.ERR_OUT_OF_RANGE("value",Wt,De)}vt(Be,Qe,at)}function et(De,de){if(typeof De!="number")throw new Fe.ERR_INVALID_ARG_TYPE(de,"number",De)}function ct(De,de,Te){throw Math.floor(De)!==De?(et(De,Te),new Fe.ERR_OUT_OF_RANGE(Te||"offset","an integer",De)):de<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(Te||"offset",">= ".concat(Te?1:0," and <= ").concat(de),De)}var ht=/[^+/0-9A-Za-z-_]/g;function mt(De){if(De=De.split("=")[0],De=De.trim().replace(ht,""),De.length<2)return"";for(;De.length%4!==0;)De=De+"=";return De}function xt(De,de){de=de||1/0;for(var Te,Be=De.length,Qe=null,at=[],it=0;it<Be;++it){if(Te=De.charCodeAt(it),Te>55295&&Te<57344){if(!Qe){if(Te>56319){(de-=3)>-1&&at.push(239,191,189);continue}else if(it+1===Be){(de-=3)>-1&&at.push(239,191,189);continue}Qe=Te;continue}if(Te<56320){(de-=3)>-1&&at.push(239,191,189),Qe=Te;continue}Te=(Qe-55296<<10|Te-56320)+65536}else Qe&&(de-=3)>-1&&at.push(239,191,189);if(Qe=null,Te<128){if((de-=1)<0)break;at.push(Te)}else if(Te<2048){if((de-=2)<0)break;at.push(Te>>6|192,Te&63|128)}else if(Te<65536){if((de-=3)<0)break;at.push(Te>>12|224,Te>>6&63|128,Te&63|128)}else if(Te<1114112){if((de-=4)<0)break;at.push(Te>>18|240,Te>>12&63|128,Te>>6&63|128,Te&63|128)}else throw new Error("Invalid code point")}return at}function Mt(De){for(var de=[],Te=0;Te<De.length;++Te)de.push(De.charCodeAt(Te)&255);return de}function tt(De,de){for(var Te,Be,Qe,at=[],it=0;it<De.length&&!((de-=2)<0);++it)Te=De.charCodeAt(it),Be=Te>>8,Qe=Te%256,at.push(Qe),at.push(Be);return at}function Oe(De){return T.toByteArray(mt(De))}function Ye(De,de,Te,Be){var Qe;for(Qe=0;Qe<Be&&!(Qe+Te>=de.length||Qe>=De.length);++Qe)de[Qe+Te]=De[Qe];return Qe}function Ze(De,de){return De instanceof de||De!=null&&De.constructor!=null&&De.constructor.name!=null&&De.constructor.name===de.name}function We(De){return De!==De}var _e=function(){for(var De="0123456789abcdef",de=new Array(256),Te=0;Te<16;++Te)for(var Be=Te*16,Qe=0;Qe<16;++Qe)de[Be+Qe]=De[Te]+De[Qe];return de}();function Ie(De){return typeof BigInt>"u"?Xe:De}function Xe(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=i,v.exports.isMobile=i,v.exports.default=i;var d=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function i(n){n||(n={});var f=n.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var u=d.test(f)&&!r.test(f)||!!n.tablet&&t.test(f);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(u=!0),u}},6296:function(v,d,r){v.exports=l;var t=r(7261),i=r(9977),n=r(4192);function f(m,c){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(A){return m[A]}),this._mode=c,this._active=m[c],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=f.prototype;u.flush=function(m){for(var c=this._controllerList,A=0;A<c.length;++A)c[A].flush(m)},u.idle=function(m){for(var c=this._controllerList,A=0;A<c.length;++A)c[A].idle(m)},u.lookAt=function(m,c,A,h){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].lookAt(m,c,A,h)},u.rotate=function(m,c,A,h){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].rotate(m,c,A,h)},u.pan=function(m,c,A,h){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].pan(m,c,A,h)},u.translate=function(m,c,A,h){for(var o=this._controllerList,p=0;p<o.length;++p)o[p].translate(m,c,A,h)},u.setMatrix=function(m,c){for(var A=this._controllerList,h=0;h<A.length;++h)A[h].setMatrix(m,c)},u.setDistanceLimits=function(m,c){for(var A=this._controllerList,h=0;h<A.length;++h)A[h].setDistanceLimits(m,c)},u.setDistance=function(m,c){for(var A=this._controllerList,h=0;h<A.length;++h)A[h].setDistance(m,c)},u.recalcMatrix=function(m){this._active.recalcMatrix(m)},u.getDistance=function(m){return this._active.getDistance(m)},u.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},u.lastT=function(){return this._active.lastT()},u.setMode=function(m){if(m!==this._mode){var c=this._controllerNames.indexOf(m);if(!(c<0)){var A=this._active,h=this._controllerList[c],o=Math.max(A.lastT(),h.lastT());A.recalcMatrix(o),h.setMatrix(o,A.computedMatrix),this._active=h,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(m){m=m||{};var c=m.eye||[0,0,1],A=m.center||[0,0,0],h=m.up||[0,1,0],o=m.distanceLimits||[0,1/0],p=m.mode||"turntable",b=t(),T=i(),P=n();return b.setDistanceLimits(o[0],o[1]),b.lookAt(0,c,A,h),T.setDistanceLimits(o[0],o[1]),T.lookAt(0,c,A,h),P.setDistanceLimits(o[0],o[1]),P.lookAt(0,c,A,h),new f({turntable:b,orbit:T,matrix:P},p)}},7169:function(v,d,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,i=r(2762),n=r(8116),f=new t;function u(l){var m=f.get(l),c=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!c||!l.isBuffer(c)){var A=i(l,new Float32Array([-1,-1,-1,4,4,-1]));m=n(l,[{buffer:A,type:l.FLOAT,size:2}]),m._triangleBuffer=A,f.set(l,m)}m.bind(),l.drawArrays(l.TRIANGLES,0,3),m.unbind()}v.exports=u},1085:function(v,d,r){var t=r(1371);v.exports=i;function i(n,f,u){f=typeof f=="number"?f:1,u=u||": ";var l=n.split(/\r?\n/),m=String(l.length+f-1).length;return l.map(function(c,A){var h=A+f,o=String(h).length,p=t(h,m-o);return p+u+c}).join(`
`)}},3952:function(v,d,r){v.exports=n;var t=r(3250);function i(f,u){for(var l=new Array(u+1),m=0;m<f.length;++m)l[m]=f[m];for(var m=0;m<=f.length;++m){for(var c=f.length;c<=u;++c){for(var A=new Array(u),h=0;h<u;++h)A[h]=Math.pow(c+1-m,h);l[c]=A}var o=t.apply(void 0,l);if(o)return!0}return!1}function n(f){var u=f.length;if(u===0)return[];if(u===1)return[0];for(var l=f[0].length,m=[f[0]],c=[0],A=1;A<u;++A){if(m.push(f[A]),!i(m,l)){m.pop();continue}if(c.push(A),c.length===l+1)return c}return c}},5995:function(v,d,r){v.exports=n;var t=r(7642),i=r(6037);function n(f,u){return t(u).filter(function(l){for(var m=new Array(l.length),c=0;c<l.length;++c)m[c]=u[l[c]];return i(m)*f<1})}},3502:function(v,d,r){v.exports=n;var t=r(5995),i=r(9127);function n(f,u){return i(t(f,u))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,d,r){v.exports=n;var t=r(727);function i(f){for(var u=0,l=0;l<f.length;++l)u+=f[l];return u}function n(f,u){for(var l=u.length,m=new Array(l+1),c=0;c<l;++c){for(var A=new Array(l+1),h=0;h<=l;++h)A[h]=f[h][c];m[c]=A}m[l]=new Array(l+1);for(var c=0;c<=l;++c)m[l][c]=1;for(var o=new Array(l+1),c=0;c<l;++c)o[c]=u[c];o[l]=1;var p=t(m,o),b=i(p[l+1]);b===0&&(b=1);for(var T=new Array(l+1),c=0;c<=l;++c)T[c]=i(p[c])/b;return T}},7507:function(v,d){d.byteLength=m,d.toByteArray=A,d.fromByteArray=p;for(var r=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,u=n.length;f<u;++f)r[f]=n[f],t[n.charCodeAt(f)]=f;t[45]=62,t[95]=63;function l(b){var T=b.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=b.indexOf("=");P===-1&&(P=T);var x=P===T?0:4-P%4;return[P,x]}function m(b){var T=l(b),P=T[0],x=T[1];return(P+x)*3/4-x}function c(b,T,P){return(T+P)*3/4-P}function A(b){var T,P=l(b),x=P[0],L=P[1],M=new i(c(b,x,L)),s=0,E=L>0?x-4:x,w;for(w=0;w<E;w+=4)T=t[b.charCodeAt(w)]<<18|t[b.charCodeAt(w+1)]<<12|t[b.charCodeAt(w+2)]<<6|t[b.charCodeAt(w+3)],M[s++]=T>>16&255,M[s++]=T>>8&255,M[s++]=T&255;return L===2&&(T=t[b.charCodeAt(w)]<<2|t[b.charCodeAt(w+1)]>>4,M[s++]=T&255),L===1&&(T=t[b.charCodeAt(w)]<<10|t[b.charCodeAt(w+1)]<<4|t[b.charCodeAt(w+2)]>>2,M[s++]=T>>8&255,M[s++]=T&255),M}function h(b){return r[b>>18&63]+r[b>>12&63]+r[b>>6&63]+r[b&63]}function o(b,T,P){for(var x,L=[],M=T;M<P;M+=3)x=(b[M]<<16&16711680)+(b[M+1]<<8&65280)+(b[M+2]&255),L.push(h(x));return L.join("")}function p(b){for(var T,P=b.length,x=P%3,L=[],M=16383,s=0,E=P-x;s<E;s+=M)L.push(o(b,s,s+M>E?E:s+M));return x===1?(T=b[P-1],L.push(r[T>>2]+r[T<<4&63]+"==")):x===2&&(T=(b[P-2]<<8)+b[P-1],L.push(r[T>>10]+r[T>>4&63]+r[T<<2&63]+"=")),L.join("")}},3865:function(v,d,r){var t=r(869);v.exports=i;function i(n,f){return t(n[0].mul(f[1]).add(f[0].mul(n[1])),n[1].mul(f[1]))}},1318:function(v){v.exports=d;function d(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,d,r){var t=r(869);v.exports=i;function i(n,f){return t(n[0].mul(f[1]),n[1].mul(f[0]))}},7842:function(v,d,r){var t=r(6330),i=r(1533),n=r(2651),f=r(4387),u=r(869),l=r(8697);v.exports=m;function m(c,A){if(t(c))return A?l(c,m(A)):[c[0].clone(),c[1].clone()];var h=0,o,p;if(i(c))o=c.clone();else if(typeof c=="string")o=f(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))o=n(c);else{for(;c!==Math.floor(c);)c=c*Math.pow(2,256),h-=256;o=n(c)}}if(t(A))o.mul(A[1]),p=A[0].clone();else if(i(A))p=A.clone();else if(typeof A=="string")p=f(A);else if(!A)p=n(1);else if(A===Math.floor(A))p=n(A);else{for(;A!==Math.floor(A);)A=A*Math.pow(2,256),h+=256;p=n(A)}return h>0?o=o.ushln(h):h<0&&(p=p.ushln(-h)),u(o,p)}},6330:function(v,d,r){var t=r(1533);v.exports=i;function i(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(v,d,r){var t=r(6859);v.exports=i;function i(n){return n.cmp(new t(0))}},1369:function(v,d,r){var t=r(5716);v.exports=i;function i(n){var f=n.length,u=n.words,l=0;if(f===1)l=u[0];else if(f===2)l=u[0]+u[1]*67108864;else for(var m=0;m<f;m++){var c=u[m];l+=c*Math.pow(67108864,m)}return t(n)*l}},4025:function(v,d,r){var t=r(2361),i=r(8828).countTrailingZeros;v.exports=n;function n(f){var u=i(t.lo(f));if(u<32)return u;var l=i(t.hi(f));return l>20?52:l+32}},1533:function(v,d,r){r(6859),v.exports=t;function t(i){return i&&typeof i=="object"&&!!i.words}},2651:function(v,d,r){var t=r(6859),i=r(2361);v.exports=n;function n(f){var u=i.exponent(f);return u<52?new t(f):new t(f*Math.pow(2,52-u)).ushln(u-52)}},869:function(v,d,r){var t=r(2651),i=r(5716);v.exports=n;function n(f,u){var l=i(f),m=i(u);if(l===0)return[t(0),t(1)];if(m===0)return[t(0),t(0)];m<0&&(f=f.neg(),u=u.neg());var c=f.gcd(u);return c.cmpn(1)?[f.div(c),u.div(c)]:[f,u]}},4387:function(v,d,r){var t=r(6859);v.exports=i;function i(n){return new t(n)}},6504:function(v,d,r){var t=r(869);v.exports=i;function i(n,f){return t(n[0].mul(f[0]),n[1].mul(f[1]))}},7721:function(v,d,r){var t=r(5716);v.exports=i;function i(n){return t(n[0])*t(n[1])}},5572:function(v,d,r){var t=r(869);v.exports=i;function i(n,f){return t(n[0].mul(f[1]).sub(n[1].mul(f[0])),n[1].mul(f[1]))}},946:function(v,d,r){var t=r(1369),i=r(4025);v.exports=n;function n(f){var u=f[0],l=f[1];if(u.cmpn(0)===0)return 0;var m=u.abs().divmod(l.abs()),c=m.div,A=t(c),h=m.mod,o=u.negative!==l.negative?-1:1;if(h.cmpn(0)===0)return o*A;if(A){var p=i(A)+4,b=t(h.ushln(p).divRound(l));return o*(A+b*Math.pow(2,-p))}else{var T=l.bitLength()-h.bitLength()+53,b=t(h.ushln(T).divRound(l));return T<1023?o*b*Math.pow(2,-T):(b*=Math.pow(2,-1023),o*b*Math.pow(2,1023-T))}}},2478:function(v){function d(u,l,m,c,A){for(var h=A+1;c<=A;){var o=c+A>>>1,p=u[o],b=m!==void 0?m(p,l):p-l;b>=0?(h=o,A=o-1):c=o+1}return h}function r(u,l,m,c,A){for(var h=A+1;c<=A;){var o=c+A>>>1,p=u[o],b=m!==void 0?m(p,l):p-l;b>0?(h=o,A=o-1):c=o+1}return h}function t(u,l,m,c,A){for(var h=c-1;c<=A;){var o=c+A>>>1,p=u[o],b=m!==void 0?m(p,l):p-l;b<0?(h=o,c=o+1):A=o-1}return h}function i(u,l,m,c,A){for(var h=c-1;c<=A;){var o=c+A>>>1,p=u[o],b=m!==void 0?m(p,l):p-l;b<=0?(h=o,c=o+1):A=o-1}return h}function n(u,l,m,c,A){for(;c<=A;){var h=c+A>>>1,o=u[h],p=m!==void 0?m(o,l):o-l;if(p===0)return h;p<=0?c=h+1:A=h-1}return-1}function f(u,l,m,c,A,h){return typeof m=="function"?h(u,l,m,c===void 0?0:c|0,A===void 0?u.length-1:A|0):h(u,l,void 0,m===void 0?0:m|0,c===void 0?u.length-1:c|0)}v.exports={ge:function(u,l,m,c,A){return f(u,l,m,c,A,d)},gt:function(u,l,m,c,A){return f(u,l,m,c,A,r)},lt:function(u,l,m,c,A){return f(u,l,m,c,A,t)},le:function(u,l,m,c,A){return f(u,l,m,c,A,i)},eq:function(u,l,m,c,A){return f(u,l,m,c,A,n)}}},8828:function(v,d){"use restrict";var r=32;d.INT_BITS=r,d.INT_MAX=2147483647,d.INT_MIN=-1<<r-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var f=n>>r-1;return(n^f)-f},d.min=function(n,f){return f^(n^f)&-(n<f)},d.max=function(n,f){return n^(n^f)&-(n<f)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}d.countTrailingZeros=t,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,m=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--m;n[f]=l<<m&255}})(i),d.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},d.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},d.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},d.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},6859:function(v,d,r){v=r.nmd(v),function(t,i){function n(B,N){if(!B)throw new Error(N||"Assertion failed")}function f(B,N){B.super_=N;var V=function(){};V.prototype=N.prototype,B.prototype=new V,B.prototype.constructor=B}function u(B,N,V){if(u.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((N==="le"||N==="be")&&(V=N,N=10),this._init(B||0,N||10,V||"be"))}typeof t=="object"?t.exports=u:i.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(7790).Buffer}catch{}u.isBN=function(N){return N instanceof u?!0:N!==null&&typeof N=="object"&&N.constructor.wordSize===u.wordSize&&Array.isArray(N.words)},u.max=function(N,V){return N.cmp(V)>0?N:V},u.min=function(N,V){return N.cmp(V)<0?N:V},u.prototype._init=function(N,V,X){if(typeof N=="number")return this._initNumber(N,V,X);if(typeof N=="object")return this._initArray(N,V,X);V==="hex"&&(V=16),n(V===(V|0)&&V>=2&&V<=36),N=N.toString().replace(/\s+/g,"");var q=0;N[0]==="-"&&(q++,this.negative=1),q<N.length&&(V===16?this._parseHex(N,q,X):(this._parseBase(N,V,q),X==="le"&&this._initArray(this.toArray(),V,X)))},u.prototype._initNumber=function(N,V,X){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[N&67108863],this.length=1):N<4503599627370496?(this.words=[N&67108863,N/67108864&67108863],this.length=2):(n(N<9007199254740992),this.words=[N&67108863,N/67108864&67108863,1],this.length=3),X==="le"&&this._initArray(this.toArray(),V,X)},u.prototype._initArray=function(N,V,X){if(n(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var te,ne,ce=0;if(X==="be")for(q=N.length-1,te=0;q>=0;q-=3)ne=N[q]|N[q-1]<<8|N[q-2]<<16,this.words[te]|=ne<<ce&67108863,this.words[te+1]=ne>>>26-ce&67108863,ce+=24,ce>=26&&(ce-=26,te++);else if(X==="le")for(q=0,te=0;q<N.length;q+=3)ne=N[q]|N[q+1]<<8|N[q+2]<<16,this.words[te]|=ne<<ce&67108863,this.words[te+1]=ne>>>26-ce&67108863,ce+=24,ce>=26&&(ce-=26,te++);return this.strip()};function m(B,N){var V=B.charCodeAt(N);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function c(B,N,V){var X=m(B,V);return V-1>=N&&(X|=m(B,V-1)<<4),X}u.prototype._parseHex=function(N,V,X){this.length=Math.ceil((N.length-V)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var te=0,ne=0,ce;if(X==="be")for(q=N.length-1;q>=V;q-=2)ce=c(N,V,q)<<te,this.words[ne]|=ce&67108863,te>=18?(te-=18,ne+=1,this.words[ne]|=ce>>>26):te+=8;else{var Q=N.length-V;for(q=Q%2===0?V+1:V;q<N.length;q+=2)ce=c(N,V,q)<<te,this.words[ne]|=ce&67108863,te>=18?(te-=18,ne+=1,this.words[ne]|=ce>>>26):te+=8}this.strip()};function A(B,N,V,X){for(var q=0,te=Math.min(B.length,V),ne=N;ne<te;ne++){var ce=B.charCodeAt(ne)-48;q*=X,ce>=49?q+=ce-49+10:ce>=17?q+=ce-17+10:q+=ce}return q}u.prototype._parseBase=function(N,V,X){this.words=[0],this.length=1;for(var q=0,te=1;te<=67108863;te*=V)q++;q--,te=te/V|0;for(var ne=N.length-X,ce=ne%q,Q=Math.min(ne,ne-ce)+X,Z=0,re=X;re<Q;re+=q)Z=A(N,re,re+q,V),this.imuln(te),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(ce!==0){var Y=1;for(Z=A(N,re,N.length,V),re=0;re<ce;re++)Y*=V;this.imuln(Y),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this.strip()},u.prototype.copy=function(N){N.words=new Array(this.length);for(var V=0;V<this.length;V++)N.words[V]=this.words[V];N.length=this.length,N.negative=this.negative,N.red=this.red},u.prototype.clone=function(){var N=new u(null);return this.copy(N),N},u.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(N,V){N=N||10,V=V|0||1;var X;if(N===16||N==="hex"){X="";for(var q=0,te=0,ne=0;ne<this.length;ne++){var ce=this.words[ne],Q=((ce<<q|te)&16777215).toString(16);te=ce>>>24-q&16777215,te!==0||ne!==this.length-1?X=h[6-Q.length]+Q+X:X=Q+X,q+=2,q>=26&&(q-=26,ne--)}for(te!==0&&(X=te.toString(16)+X);X.length%V!==0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}if(N===(N|0)&&N>=2&&N<=36){var Z=o[N],re=p[N];X="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var oe=Y.modn(re).toString(N);Y=Y.idivn(re),Y.isZero()?X=oe+X:X=h[Z-oe.length]+oe+X}for(this.isZero()&&(X="0"+X);X.length%V!==0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=this.words[1]*67108864:this.length===3&&this.words[2]===1?N+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(N,V){return n(typeof l<"u"),this.toArrayLike(l,N,V)},u.prototype.toArray=function(N,V){return this.toArrayLike(Array,N,V)},u.prototype.toArrayLike=function(N,V,X){var q=this.byteLength(),te=X||Math.max(1,q);n(q<=te,"byte array longer than desired length"),n(te>0,"Requested array length <= 0"),this.strip();var ne=V==="le",ce=new N(te),Q,Z,re=this.clone();if(ne){for(Z=0;!re.isZero();Z++)Q=re.andln(255),re.iushrn(8),ce[Z]=Q;for(;Z<te;Z++)ce[Z]=0}else{for(Z=0;Z<te-q;Z++)ce[Z]=0;for(Z=0;!re.isZero();Z++)Q=re.andln(255),re.iushrn(8),ce[te-Z-1]=Q}return ce},Math.clz32?u.prototype._countBits=function(N){return 32-Math.clz32(N)}:u.prototype._countBits=function(N){var V=N,X=0;return V>=4096&&(X+=13,V>>>=13),V>=64&&(X+=7,V>>>=7),V>=8&&(X+=4,V>>>=4),V>=2&&(X+=2,V>>>=2),X+V},u.prototype._zeroBits=function(N){if(N===0)return 26;var V=N,X=0;return V&8191||(X+=13,V>>>=13),V&127||(X+=7,V>>>=7),V&15||(X+=4,V>>>=4),V&3||(X+=2,V>>>=2),V&1||X++,X},u.prototype.bitLength=function(){var N=this.words[this.length-1],V=this._countBits(N);return(this.length-1)*26+V};function b(B){for(var N=new Array(B.bitLength()),V=0;V<N.length;V++){var X=V/26|0,q=V%26;N[V]=(B.words[X]&1<<q)>>>q}return N}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,V=0;V<this.length;V++){var X=this._zeroBits(this.words[V]);if(N+=X,X!==26)break}return N},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},u.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var V=0;V<N.length;V++)this.words[V]=this.words[V]|N.words[V];return this.strip()},u.prototype.ior=function(N){return n((this.negative|N.negative)===0),this.iuor(N)},u.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},u.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},u.prototype.iuand=function(N){var V;this.length>N.length?V=N:V=this;for(var X=0;X<V.length;X++)this.words[X]=this.words[X]&N.words[X];return this.length=V.length,this.strip()},u.prototype.iand=function(N){return n((this.negative|N.negative)===0),this.iuand(N)},u.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},u.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},u.prototype.iuxor=function(N){var V,X;this.length>N.length?(V=this,X=N):(V=N,X=this);for(var q=0;q<X.length;q++)this.words[q]=V.words[q]^X.words[q];if(this!==V)for(;q<V.length;q++)this.words[q]=V.words[q];return this.length=V.length,this.strip()},u.prototype.ixor=function(N){return n((this.negative|N.negative)===0),this.iuxor(N)},u.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},u.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},u.prototype.inotn=function(N){n(typeof N=="number"&&N>=0);var V=Math.ceil(N/26)|0,X=N%26;this._expand(V),X>0&&V--;for(var q=0;q<V;q++)this.words[q]=~this.words[q]&67108863;return X>0&&(this.words[q]=~this.words[q]&67108863>>26-X),this.strip()},u.prototype.notn=function(N){return this.clone().inotn(N)},u.prototype.setn=function(N,V){n(typeof N=="number"&&N>=0);var X=N/26|0,q=N%26;return this._expand(X+1),V?this.words[X]=this.words[X]|1<<q:this.words[X]=this.words[X]&~(1<<q),this.strip()},u.prototype.iadd=function(N){var V;if(this.negative!==0&&N.negative===0)return this.negative=0,V=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,V=this.isub(N),N.negative=1,V._normSign();var X,q;this.length>N.length?(X=this,q=N):(X=N,q=this);for(var te=0,ne=0;ne<q.length;ne++)V=(X.words[ne]|0)+(q.words[ne]|0)+te,this.words[ne]=V&67108863,te=V>>>26;for(;te!==0&&ne<X.length;ne++)V=(X.words[ne]|0)+te,this.words[ne]=V&67108863,te=V>>>26;if(this.length=X.length,te!==0)this.words[this.length]=te,this.length++;else if(X!==this)for(;ne<X.length;ne++)this.words[ne]=X.words[ne];return this},u.prototype.add=function(N){var V;return N.negative!==0&&this.negative===0?(N.negative=0,V=this.sub(N),N.negative^=1,V):N.negative===0&&this.negative!==0?(this.negative=0,V=N.sub(this),this.negative=1,V):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},u.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var V=this.iadd(N);return N.negative=1,V._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var X=this.cmp(N);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,te;X>0?(q=this,te=N):(q=N,te=this);for(var ne=0,ce=0;ce<te.length;ce++)V=(q.words[ce]|0)-(te.words[ce]|0)+ne,ne=V>>26,this.words[ce]=V&67108863;for(;ne!==0&&ce<q.length;ce++)V=(q.words[ce]|0)+ne,ne=V>>26,this.words[ce]=V&67108863;if(ne===0&&ce<q.length&&q!==this)for(;ce<q.length;ce++)this.words[ce]=q.words[ce];return this.length=Math.max(this.length,ce),q!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(N){return this.clone().isub(N)};function T(B,N,V){V.negative=N.negative^B.negative;var X=B.length+N.length|0;V.length=X,X=X-1|0;var q=B.words[0]|0,te=N.words[0]|0,ne=q*te,ce=ne&67108863,Q=ne/67108864|0;V.words[0]=ce;for(var Z=1;Z<X;Z++){for(var re=Q>>>26,Y=Q&67108863,oe=Math.min(Z,N.length-1),ue=Math.max(0,Z-B.length+1);ue<=oe;ue++){var K=Z-ue|0;q=B.words[K]|0,te=N.words[ue]|0,ne=q*te+Y,re+=ne/67108864|0,Y=ne&67108863}V.words[Z]=Y|0,Q=re|0}return Q!==0?V.words[Z]=Q|0:V.length--,V.strip()}var P=function(N,V,X){var q=N.words,te=V.words,ne=X.words,ce=0,Q,Z,re,Y=q[0]|0,oe=Y&8191,ue=Y>>>13,K=q[1]|0,$=K&8191,le=K>>>13,ae=q[2]|0,he=ae&8191,xe=ae>>>13,Me=q[3]|0,Ae=Me&8191,ke=Me>>>13,we=q[4]|0,Ee=we&8191,be=we>>>13,Le=q[5]|0,Ue=Le&8191,Ve=Le>>>13,Fe=q[6]|0,He=Fe&8191,st=Fe>>>13,vt=q[7]|0,lt=vt&8191,et=vt>>>13,ct=q[8]|0,ht=ct&8191,mt=ct>>>13,xt=q[9]|0,Mt=xt&8191,tt=xt>>>13,Oe=te[0]|0,Ye=Oe&8191,Ze=Oe>>>13,We=te[1]|0,_e=We&8191,Ie=We>>>13,Xe=te[2]|0,De=Xe&8191,de=Xe>>>13,Te=te[3]|0,Be=Te&8191,Qe=Te>>>13,at=te[4]|0,it=at&8191,Wt=at>>>13,Yt=te[5]|0,Tt=Yt&8191,Lt=Yt>>>13,Xt=te[6]|0,Tr=Xt&8191,gt=Xt>>>13,Kt=te[7]|0,Qt=Kt&8191,yr=Kt>>>13,fr=te[8]|0,yt=fr&8191,ot=fr>>>13,bt=te[9]|0,Et=bt&8191,Dt=bt>>>13;X.negative=N.negative^V.negative,X.length=19,Q=Math.imul(oe,Ye),Z=Math.imul(oe,Ze),Z=Z+Math.imul(ue,Ye)|0,re=Math.imul(ue,Ze);var Ht=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,Q=Math.imul($,Ye),Z=Math.imul($,Ze),Z=Z+Math.imul(le,Ye)|0,re=Math.imul(le,Ze),Q=Q+Math.imul(oe,_e)|0,Z=Z+Math.imul(oe,Ie)|0,Z=Z+Math.imul(ue,_e)|0,re=re+Math.imul(ue,Ie)|0;var Bt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,Q=Math.imul(he,Ye),Z=Math.imul(he,Ze),Z=Z+Math.imul(xe,Ye)|0,re=Math.imul(xe,Ze),Q=Q+Math.imul($,_e)|0,Z=Z+Math.imul($,Ie)|0,Z=Z+Math.imul(le,_e)|0,re=re+Math.imul(le,Ie)|0,Q=Q+Math.imul(oe,De)|0,Z=Z+Math.imul(oe,de)|0,Z=Z+Math.imul(ue,De)|0,re=re+Math.imul(ue,de)|0;var Nt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,Q=Math.imul(Ae,Ye),Z=Math.imul(Ae,Ze),Z=Z+Math.imul(ke,Ye)|0,re=Math.imul(ke,Ze),Q=Q+Math.imul(he,_e)|0,Z=Z+Math.imul(he,Ie)|0,Z=Z+Math.imul(xe,_e)|0,re=re+Math.imul(xe,Ie)|0,Q=Q+Math.imul($,De)|0,Z=Z+Math.imul($,de)|0,Z=Z+Math.imul(le,De)|0,re=re+Math.imul(le,de)|0,Q=Q+Math.imul(oe,Be)|0,Z=Z+Math.imul(oe,Qe)|0,Z=Z+Math.imul(ue,Be)|0,re=re+Math.imul(ue,Qe)|0;var Jt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,Q=Math.imul(Ee,Ye),Z=Math.imul(Ee,Ze),Z=Z+Math.imul(be,Ye)|0,re=Math.imul(be,Ze),Q=Q+Math.imul(Ae,_e)|0,Z=Z+Math.imul(Ae,Ie)|0,Z=Z+Math.imul(ke,_e)|0,re=re+Math.imul(ke,Ie)|0,Q=Q+Math.imul(he,De)|0,Z=Z+Math.imul(he,de)|0,Z=Z+Math.imul(xe,De)|0,re=re+Math.imul(xe,de)|0,Q=Q+Math.imul($,Be)|0,Z=Z+Math.imul($,Qe)|0,Z=Z+Math.imul(le,Be)|0,re=re+Math.imul(le,Qe)|0,Q=Q+Math.imul(oe,it)|0,Z=Z+Math.imul(oe,Wt)|0,Z=Z+Math.imul(ue,it)|0,re=re+Math.imul(ue,Wt)|0;var hr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(hr>>>26)|0,hr&=67108863,Q=Math.imul(Ue,Ye),Z=Math.imul(Ue,Ze),Z=Z+Math.imul(Ve,Ye)|0,re=Math.imul(Ve,Ze),Q=Q+Math.imul(Ee,_e)|0,Z=Z+Math.imul(Ee,Ie)|0,Z=Z+Math.imul(be,_e)|0,re=re+Math.imul(be,Ie)|0,Q=Q+Math.imul(Ae,De)|0,Z=Z+Math.imul(Ae,de)|0,Z=Z+Math.imul(ke,De)|0,re=re+Math.imul(ke,de)|0,Q=Q+Math.imul(he,Be)|0,Z=Z+Math.imul(he,Qe)|0,Z=Z+Math.imul(xe,Be)|0,re=re+Math.imul(xe,Qe)|0,Q=Q+Math.imul($,it)|0,Z=Z+Math.imul($,Wt)|0,Z=Z+Math.imul(le,it)|0,re=re+Math.imul(le,Wt)|0,Q=Q+Math.imul(oe,Tt)|0,Z=Z+Math.imul(oe,Lt)|0,Z=Z+Math.imul(ue,Tt)|0,re=re+Math.imul(ue,Lt)|0;var Zt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,Q=Math.imul(He,Ye),Z=Math.imul(He,Ze),Z=Z+Math.imul(st,Ye)|0,re=Math.imul(st,Ze),Q=Q+Math.imul(Ue,_e)|0,Z=Z+Math.imul(Ue,Ie)|0,Z=Z+Math.imul(Ve,_e)|0,re=re+Math.imul(Ve,Ie)|0,Q=Q+Math.imul(Ee,De)|0,Z=Z+Math.imul(Ee,de)|0,Z=Z+Math.imul(be,De)|0,re=re+Math.imul(be,de)|0,Q=Q+Math.imul(Ae,Be)|0,Z=Z+Math.imul(Ae,Qe)|0,Z=Z+Math.imul(ke,Be)|0,re=re+Math.imul(ke,Qe)|0,Q=Q+Math.imul(he,it)|0,Z=Z+Math.imul(he,Wt)|0,Z=Z+Math.imul(xe,it)|0,re=re+Math.imul(xe,Wt)|0,Q=Q+Math.imul($,Tt)|0,Z=Z+Math.imul($,Lt)|0,Z=Z+Math.imul(le,Tt)|0,re=re+Math.imul(le,Lt)|0,Q=Q+Math.imul(oe,Tr)|0,Z=Z+Math.imul(oe,gt)|0,Z=Z+Math.imul(ue,Tr)|0,re=re+Math.imul(ue,gt)|0;var dr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(dr>>>26)|0,dr&=67108863,Q=Math.imul(lt,Ye),Z=Math.imul(lt,Ze),Z=Z+Math.imul(et,Ye)|0,re=Math.imul(et,Ze),Q=Q+Math.imul(He,_e)|0,Z=Z+Math.imul(He,Ie)|0,Z=Z+Math.imul(st,_e)|0,re=re+Math.imul(st,Ie)|0,Q=Q+Math.imul(Ue,De)|0,Z=Z+Math.imul(Ue,de)|0,Z=Z+Math.imul(Ve,De)|0,re=re+Math.imul(Ve,de)|0,Q=Q+Math.imul(Ee,Be)|0,Z=Z+Math.imul(Ee,Qe)|0,Z=Z+Math.imul(be,Be)|0,re=re+Math.imul(be,Qe)|0,Q=Q+Math.imul(Ae,it)|0,Z=Z+Math.imul(Ae,Wt)|0,Z=Z+Math.imul(ke,it)|0,re=re+Math.imul(ke,Wt)|0,Q=Q+Math.imul(he,Tt)|0,Z=Z+Math.imul(he,Lt)|0,Z=Z+Math.imul(xe,Tt)|0,re=re+Math.imul(xe,Lt)|0,Q=Q+Math.imul($,Tr)|0,Z=Z+Math.imul($,gt)|0,Z=Z+Math.imul(le,Tr)|0,re=re+Math.imul(le,gt)|0,Q=Q+Math.imul(oe,Qt)|0,Z=Z+Math.imul(oe,yr)|0,Z=Z+Math.imul(ue,Qt)|0,re=re+Math.imul(ue,yr)|0;var je=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(je>>>26)|0,je&=67108863,Q=Math.imul(ht,Ye),Z=Math.imul(ht,Ze),Z=Z+Math.imul(mt,Ye)|0,re=Math.imul(mt,Ze),Q=Q+Math.imul(lt,_e)|0,Z=Z+Math.imul(lt,Ie)|0,Z=Z+Math.imul(et,_e)|0,re=re+Math.imul(et,Ie)|0,Q=Q+Math.imul(He,De)|0,Z=Z+Math.imul(He,de)|0,Z=Z+Math.imul(st,De)|0,re=re+Math.imul(st,de)|0,Q=Q+Math.imul(Ue,Be)|0,Z=Z+Math.imul(Ue,Qe)|0,Z=Z+Math.imul(Ve,Be)|0,re=re+Math.imul(Ve,Qe)|0,Q=Q+Math.imul(Ee,it)|0,Z=Z+Math.imul(Ee,Wt)|0,Z=Z+Math.imul(be,it)|0,re=re+Math.imul(be,Wt)|0,Q=Q+Math.imul(Ae,Tt)|0,Z=Z+Math.imul(Ae,Lt)|0,Z=Z+Math.imul(ke,Tt)|0,re=re+Math.imul(ke,Lt)|0,Q=Q+Math.imul(he,Tr)|0,Z=Z+Math.imul(he,gt)|0,Z=Z+Math.imul(xe,Tr)|0,re=re+Math.imul(xe,gt)|0,Q=Q+Math.imul($,Qt)|0,Z=Z+Math.imul($,yr)|0,Z=Z+Math.imul(le,Qt)|0,re=re+Math.imul(le,yr)|0,Q=Q+Math.imul(oe,yt)|0,Z=Z+Math.imul(oe,ot)|0,Z=Z+Math.imul(ue,yt)|0,re=re+Math.imul(ue,ot)|0;var Ge=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,Q=Math.imul(Mt,Ye),Z=Math.imul(Mt,Ze),Z=Z+Math.imul(tt,Ye)|0,re=Math.imul(tt,Ze),Q=Q+Math.imul(ht,_e)|0,Z=Z+Math.imul(ht,Ie)|0,Z=Z+Math.imul(mt,_e)|0,re=re+Math.imul(mt,Ie)|0,Q=Q+Math.imul(lt,De)|0,Z=Z+Math.imul(lt,de)|0,Z=Z+Math.imul(et,De)|0,re=re+Math.imul(et,de)|0,Q=Q+Math.imul(He,Be)|0,Z=Z+Math.imul(He,Qe)|0,Z=Z+Math.imul(st,Be)|0,re=re+Math.imul(st,Qe)|0,Q=Q+Math.imul(Ue,it)|0,Z=Z+Math.imul(Ue,Wt)|0,Z=Z+Math.imul(Ve,it)|0,re=re+Math.imul(Ve,Wt)|0,Q=Q+Math.imul(Ee,Tt)|0,Z=Z+Math.imul(Ee,Lt)|0,Z=Z+Math.imul(be,Tt)|0,re=re+Math.imul(be,Lt)|0,Q=Q+Math.imul(Ae,Tr)|0,Z=Z+Math.imul(Ae,gt)|0,Z=Z+Math.imul(ke,Tr)|0,re=re+Math.imul(ke,gt)|0,Q=Q+Math.imul(he,Qt)|0,Z=Z+Math.imul(he,yr)|0,Z=Z+Math.imul(xe,Qt)|0,re=re+Math.imul(xe,yr)|0,Q=Q+Math.imul($,yt)|0,Z=Z+Math.imul($,ot)|0,Z=Z+Math.imul(le,yt)|0,re=re+Math.imul(le,ot)|0,Q=Q+Math.imul(oe,Et)|0,Z=Z+Math.imul(oe,Dt)|0,Z=Z+Math.imul(ue,Et)|0,re=re+Math.imul(ue,Dt)|0;var Ot=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Q=Math.imul(Mt,_e),Z=Math.imul(Mt,Ie),Z=Z+Math.imul(tt,_e)|0,re=Math.imul(tt,Ie),Q=Q+Math.imul(ht,De)|0,Z=Z+Math.imul(ht,de)|0,Z=Z+Math.imul(mt,De)|0,re=re+Math.imul(mt,de)|0,Q=Q+Math.imul(lt,Be)|0,Z=Z+Math.imul(lt,Qe)|0,Z=Z+Math.imul(et,Be)|0,re=re+Math.imul(et,Qe)|0,Q=Q+Math.imul(He,it)|0,Z=Z+Math.imul(He,Wt)|0,Z=Z+Math.imul(st,it)|0,re=re+Math.imul(st,Wt)|0,Q=Q+Math.imul(Ue,Tt)|0,Z=Z+Math.imul(Ue,Lt)|0,Z=Z+Math.imul(Ve,Tt)|0,re=re+Math.imul(Ve,Lt)|0,Q=Q+Math.imul(Ee,Tr)|0,Z=Z+Math.imul(Ee,gt)|0,Z=Z+Math.imul(be,Tr)|0,re=re+Math.imul(be,gt)|0,Q=Q+Math.imul(Ae,Qt)|0,Z=Z+Math.imul(Ae,yr)|0,Z=Z+Math.imul(ke,Qt)|0,re=re+Math.imul(ke,yr)|0,Q=Q+Math.imul(he,yt)|0,Z=Z+Math.imul(he,ot)|0,Z=Z+Math.imul(xe,yt)|0,re=re+Math.imul(xe,ot)|0,Q=Q+Math.imul($,Et)|0,Z=Z+Math.imul($,Dt)|0,Z=Z+Math.imul(le,Et)|0,re=re+Math.imul(le,Dt)|0;var kt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(kt>>>26)|0,kt&=67108863,Q=Math.imul(Mt,De),Z=Math.imul(Mt,de),Z=Z+Math.imul(tt,De)|0,re=Math.imul(tt,de),Q=Q+Math.imul(ht,Be)|0,Z=Z+Math.imul(ht,Qe)|0,Z=Z+Math.imul(mt,Be)|0,re=re+Math.imul(mt,Qe)|0,Q=Q+Math.imul(lt,it)|0,Z=Z+Math.imul(lt,Wt)|0,Z=Z+Math.imul(et,it)|0,re=re+Math.imul(et,Wt)|0,Q=Q+Math.imul(He,Tt)|0,Z=Z+Math.imul(He,Lt)|0,Z=Z+Math.imul(st,Tt)|0,re=re+Math.imul(st,Lt)|0,Q=Q+Math.imul(Ue,Tr)|0,Z=Z+Math.imul(Ue,gt)|0,Z=Z+Math.imul(Ve,Tr)|0,re=re+Math.imul(Ve,gt)|0,Q=Q+Math.imul(Ee,Qt)|0,Z=Z+Math.imul(Ee,yr)|0,Z=Z+Math.imul(be,Qt)|0,re=re+Math.imul(be,yr)|0,Q=Q+Math.imul(Ae,yt)|0,Z=Z+Math.imul(Ae,ot)|0,Z=Z+Math.imul(ke,yt)|0,re=re+Math.imul(ke,ot)|0,Q=Q+Math.imul(he,Et)|0,Z=Z+Math.imul(he,Dt)|0,Z=Z+Math.imul(xe,Et)|0,re=re+Math.imul(xe,Dt)|0;var $t=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+($t>>>26)|0,$t&=67108863,Q=Math.imul(Mt,Be),Z=Math.imul(Mt,Qe),Z=Z+Math.imul(tt,Be)|0,re=Math.imul(tt,Qe),Q=Q+Math.imul(ht,it)|0,Z=Z+Math.imul(ht,Wt)|0,Z=Z+Math.imul(mt,it)|0,re=re+Math.imul(mt,Wt)|0,Q=Q+Math.imul(lt,Tt)|0,Z=Z+Math.imul(lt,Lt)|0,Z=Z+Math.imul(et,Tt)|0,re=re+Math.imul(et,Lt)|0,Q=Q+Math.imul(He,Tr)|0,Z=Z+Math.imul(He,gt)|0,Z=Z+Math.imul(st,Tr)|0,re=re+Math.imul(st,gt)|0,Q=Q+Math.imul(Ue,Qt)|0,Z=Z+Math.imul(Ue,yr)|0,Z=Z+Math.imul(Ve,Qt)|0,re=re+Math.imul(Ve,yr)|0,Q=Q+Math.imul(Ee,yt)|0,Z=Z+Math.imul(Ee,ot)|0,Z=Z+Math.imul(be,yt)|0,re=re+Math.imul(be,ot)|0,Q=Q+Math.imul(Ae,Et)|0,Z=Z+Math.imul(Ae,Dt)|0,Z=Z+Math.imul(ke,Et)|0,re=re+Math.imul(ke,Dt)|0;var ar=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(ar>>>26)|0,ar&=67108863,Q=Math.imul(Mt,it),Z=Math.imul(Mt,Wt),Z=Z+Math.imul(tt,it)|0,re=Math.imul(tt,Wt),Q=Q+Math.imul(ht,Tt)|0,Z=Z+Math.imul(ht,Lt)|0,Z=Z+Math.imul(mt,Tt)|0,re=re+Math.imul(mt,Lt)|0,Q=Q+Math.imul(lt,Tr)|0,Z=Z+Math.imul(lt,gt)|0,Z=Z+Math.imul(et,Tr)|0,re=re+Math.imul(et,gt)|0,Q=Q+Math.imul(He,Qt)|0,Z=Z+Math.imul(He,yr)|0,Z=Z+Math.imul(st,Qt)|0,re=re+Math.imul(st,yr)|0,Q=Q+Math.imul(Ue,yt)|0,Z=Z+Math.imul(Ue,ot)|0,Z=Z+Math.imul(Ve,yt)|0,re=re+Math.imul(Ve,ot)|0,Q=Q+Math.imul(Ee,Et)|0,Z=Z+Math.imul(Ee,Dt)|0,Z=Z+Math.imul(be,Et)|0,re=re+Math.imul(be,Dt)|0;var or=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(or>>>26)|0,or&=67108863,Q=Math.imul(Mt,Tt),Z=Math.imul(Mt,Lt),Z=Z+Math.imul(tt,Tt)|0,re=Math.imul(tt,Lt),Q=Q+Math.imul(ht,Tr)|0,Z=Z+Math.imul(ht,gt)|0,Z=Z+Math.imul(mt,Tr)|0,re=re+Math.imul(mt,gt)|0,Q=Q+Math.imul(lt,Qt)|0,Z=Z+Math.imul(lt,yr)|0,Z=Z+Math.imul(et,Qt)|0,re=re+Math.imul(et,yr)|0,Q=Q+Math.imul(He,yt)|0,Z=Z+Math.imul(He,ot)|0,Z=Z+Math.imul(st,yt)|0,re=re+Math.imul(st,ot)|0,Q=Q+Math.imul(Ue,Et)|0,Z=Z+Math.imul(Ue,Dt)|0,Z=Z+Math.imul(Ve,Et)|0,re=re+Math.imul(Ve,Dt)|0;var rr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(rr>>>26)|0,rr&=67108863,Q=Math.imul(Mt,Tr),Z=Math.imul(Mt,gt),Z=Z+Math.imul(tt,Tr)|0,re=Math.imul(tt,gt),Q=Q+Math.imul(ht,Qt)|0,Z=Z+Math.imul(ht,yr)|0,Z=Z+Math.imul(mt,Qt)|0,re=re+Math.imul(mt,yr)|0,Q=Q+Math.imul(lt,yt)|0,Z=Z+Math.imul(lt,ot)|0,Z=Z+Math.imul(et,yt)|0,re=re+Math.imul(et,ot)|0,Q=Q+Math.imul(He,Et)|0,Z=Z+Math.imul(He,Dt)|0,Z=Z+Math.imul(st,Et)|0,re=re+Math.imul(st,Dt)|0;var zt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(zt>>>26)|0,zt&=67108863,Q=Math.imul(Mt,Qt),Z=Math.imul(Mt,yr),Z=Z+Math.imul(tt,Qt)|0,re=Math.imul(tt,yr),Q=Q+Math.imul(ht,yt)|0,Z=Z+Math.imul(ht,ot)|0,Z=Z+Math.imul(mt,yt)|0,re=re+Math.imul(mt,ot)|0,Q=Q+Math.imul(lt,Et)|0,Z=Z+Math.imul(lt,Dt)|0,Z=Z+Math.imul(et,Et)|0,re=re+Math.imul(et,Dt)|0;var vr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(vr>>>26)|0,vr&=67108863,Q=Math.imul(Mt,yt),Z=Math.imul(Mt,ot),Z=Z+Math.imul(tt,yt)|0,re=Math.imul(tt,ot),Q=Q+Math.imul(ht,Et)|0,Z=Z+Math.imul(ht,Dt)|0,Z=Z+Math.imul(mt,Et)|0,re=re+Math.imul(mt,Dt)|0;var gr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(re+(Z>>>13)|0)+(gr>>>26)|0,gr&=67108863,Q=Math.imul(Mt,Et),Z=Math.imul(Mt,Dt),Z=Z+Math.imul(tt,Et)|0,re=Math.imul(tt,Dt);var Ar=(ce+Q|0)+((Z&8191)<<13)|0;return ce=(re+(Z>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,ne[0]=Ht,ne[1]=Bt,ne[2]=Nt,ne[3]=Jt,ne[4]=hr,ne[5]=Zt,ne[6]=dr,ne[7]=je,ne[8]=Ge,ne[9]=Ot,ne[10]=kt,ne[11]=$t,ne[12]=ar,ne[13]=or,ne[14]=rr,ne[15]=zt,ne[16]=vr,ne[17]=gr,ne[18]=Ar,ce!==0&&(ne[19]=ce,X.length++),X};Math.imul||(P=T);function x(B,N,V){V.negative=N.negative^B.negative,V.length=B.length+N.length;for(var X=0,q=0,te=0;te<V.length-1;te++){var ne=q;q=0;for(var ce=X&67108863,Q=Math.min(te,N.length-1),Z=Math.max(0,te-B.length+1);Z<=Q;Z++){var re=te-Z,Y=B.words[re]|0,oe=N.words[Z]|0,ue=Y*oe,K=ue&67108863;ne=ne+(ue/67108864|0)|0,K=K+ce|0,ce=K&67108863,ne=ne+(K>>>26)|0,q+=ne>>>26,ne&=67108863}V.words[te]=ce,X=ne,ne=q}return X!==0?V.words[te]=X:V.length--,V.strip()}function L(B,N,V){var X=new M;return X.mulp(B,N,V)}u.prototype.mulTo=function(N,V){var X,q=this.length+N.length;return this.length===10&&N.length===10?X=P(this,N,V):q<63?X=T(this,N,V):q<1024?X=x(this,N,V):X=L(this,N,V),X};function M(B,N){this.x=B,this.y=N}M.prototype.makeRBT=function(N){for(var V=new Array(N),X=u.prototype._countBits(N)-1,q=0;q<N;q++)V[q]=this.revBin(q,X,N);return V},M.prototype.revBin=function(N,V,X){if(N===0||N===X-1)return N;for(var q=0,te=0;te<V;te++)q|=(N&1)<<V-te-1,N>>=1;return q},M.prototype.permute=function(N,V,X,q,te,ne){for(var ce=0;ce<ne;ce++)q[ce]=V[N[ce]],te[ce]=X[N[ce]]},M.prototype.transform=function(N,V,X,q,te,ne){this.permute(ne,N,V,X,q,te);for(var ce=1;ce<te;ce<<=1)for(var Q=ce<<1,Z=Math.cos(2*Math.PI/Q),re=Math.sin(2*Math.PI/Q),Y=0;Y<te;Y+=Q)for(var oe=Z,ue=re,K=0;K<ce;K++){var $=X[Y+K],le=q[Y+K],ae=X[Y+K+ce],he=q[Y+K+ce],xe=oe*ae-ue*he;he=oe*he+ue*ae,ae=xe,X[Y+K]=$+ae,q[Y+K]=le+he,X[Y+K+ce]=$-ae,q[Y+K+ce]=le-he,K!==Q&&(xe=Z*oe-re*ue,ue=Z*ue+re*oe,oe=xe)}},M.prototype.guessLen13b=function(N,V){var X=Math.max(V,N)|1,q=X&1,te=0;for(X=X/2|0;X;X=X>>>1)te++;return 1<<te+1+q},M.prototype.conjugate=function(N,V,X){if(!(X<=1))for(var q=0;q<X/2;q++){var te=N[q];N[q]=N[X-q-1],N[X-q-1]=te,te=V[q],V[q]=-V[X-q-1],V[X-q-1]=-te}},M.prototype.normalize13b=function(N,V){for(var X=0,q=0;q<V/2;q++){var te=Math.round(N[2*q+1]/V)*8192+Math.round(N[2*q]/V)+X;N[q]=te&67108863,te<67108864?X=0:X=te/67108864|0}return N},M.prototype.convert13b=function(N,V,X,q){for(var te=0,ne=0;ne<V;ne++)te=te+(N[ne]|0),X[2*ne]=te&8191,te=te>>>13,X[2*ne+1]=te&8191,te=te>>>13;for(ne=2*V;ne<q;++ne)X[ne]=0;n(te===0),n((te&-8192)===0)},M.prototype.stub=function(N){for(var V=new Array(N),X=0;X<N;X++)V[X]=0;return V},M.prototype.mulp=function(N,V,X){var q=2*this.guessLen13b(N.length,V.length),te=this.makeRBT(q),ne=this.stub(q),ce=new Array(q),Q=new Array(q),Z=new Array(q),re=new Array(q),Y=new Array(q),oe=new Array(q),ue=X.words;ue.length=q,this.convert13b(N.words,N.length,ce,q),this.convert13b(V.words,V.length,re,q),this.transform(ce,ne,Q,Z,q,te),this.transform(re,ne,Y,oe,q,te);for(var K=0;K<q;K++){var $=Q[K]*Y[K]-Z[K]*oe[K];Z[K]=Q[K]*oe[K]+Z[K]*Y[K],Q[K]=$}return this.conjugate(Q,Z,q),this.transform(Q,Z,ue,ne,q,te),this.conjugate(ue,ne,q),this.normalize13b(ue,q),X.negative=N.negative^V.negative,X.length=N.length+V.length,X.strip()},u.prototype.mul=function(N){var V=new u(null);return V.words=new Array(this.length+N.length),this.mulTo(N,V)},u.prototype.mulf=function(N){var V=new u(null);return V.words=new Array(this.length+N.length),L(this,N,V)},u.prototype.imul=function(N){return this.clone().mulTo(N,this)},u.prototype.imuln=function(N){n(typeof N=="number"),n(N<67108864);for(var V=0,X=0;X<this.length;X++){var q=(this.words[X]|0)*N,te=(q&67108863)+(V&67108863);V>>=26,V+=q/67108864|0,V+=te>>>26,this.words[X]=te&67108863}return V!==0&&(this.words[X]=V,this.length++),this},u.prototype.muln=function(N){return this.clone().imuln(N)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(N){var V=b(N);if(V.length===0)return new u(1);for(var X=this,q=0;q<V.length&&V[q]===0;q++,X=X.sqr());if(++q<V.length)for(var te=X.sqr();q<V.length;q++,te=te.sqr())V[q]!==0&&(X=X.mul(te));return X},u.prototype.iushln=function(N){n(typeof N=="number"&&N>=0);var V=N%26,X=(N-V)/26,q=67108863>>>26-V<<26-V,te;if(V!==0){var ne=0;for(te=0;te<this.length;te++){var ce=this.words[te]&q,Q=(this.words[te]|0)-ce<<V;this.words[te]=Q|ne,ne=ce>>>26-V}ne&&(this.words[te]=ne,this.length++)}if(X!==0){for(te=this.length-1;te>=0;te--)this.words[te+X]=this.words[te];for(te=0;te<X;te++)this.words[te]=0;this.length+=X}return this.strip()},u.prototype.ishln=function(N){return n(this.negative===0),this.iushln(N)},u.prototype.iushrn=function(N,V,X){n(typeof N=="number"&&N>=0);var q;V?q=(V-V%26)/26:q=0;var te=N%26,ne=Math.min((N-te)/26,this.length),ce=67108863^67108863>>>te<<te,Q=X;if(q-=ne,q=Math.max(0,q),Q){for(var Z=0;Z<ne;Z++)Q.words[Z]=this.words[Z];Q.length=ne}if(ne!==0)if(this.length>ne)for(this.length-=ne,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+ne];else this.words[0]=0,this.length=1;var re=0;for(Z=this.length-1;Z>=0&&(re!==0||Z>=q);Z--){var Y=this.words[Z]|0;this.words[Z]=re<<26-te|Y>>>te,re=Y&ce}return Q&&re!==0&&(Q.words[Q.length++]=re),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(N,V,X){return n(this.negative===0),this.iushrn(N,V,X)},u.prototype.shln=function(N){return this.clone().ishln(N)},u.prototype.ushln=function(N){return this.clone().iushln(N)},u.prototype.shrn=function(N){return this.clone().ishrn(N)},u.prototype.ushrn=function(N){return this.clone().iushrn(N)},u.prototype.testn=function(N){n(typeof N=="number"&&N>=0);var V=N%26,X=(N-V)/26,q=1<<V;if(this.length<=X)return!1;var te=this.words[X];return!!(te&q)},u.prototype.imaskn=function(N){n(typeof N=="number"&&N>=0);var V=N%26,X=(N-V)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(V!==0&&X++,this.length=Math.min(X,this.length),V!==0){var q=67108863^67108863>>>V<<V;this.words[this.length-1]&=q}return this.strip()},u.prototype.maskn=function(N){return this.clone().imaskn(N)},u.prototype.iaddn=function(N){return n(typeof N=="number"),n(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(this.words[0]|0)<N?(this.words[0]=N-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},u.prototype._iaddn=function(N){this.words[0]+=N;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},u.prototype.isubn=function(N){if(n(typeof N=="number"),n(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},u.prototype.addn=function(N){return this.clone().iaddn(N)},u.prototype.subn=function(N){return this.clone().isubn(N)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(N,V,X){var q=N.length+X,te;this._expand(q);var ne,ce=0;for(te=0;te<N.length;te++){ne=(this.words[te+X]|0)+ce;var Q=(N.words[te]|0)*V;ne-=Q&67108863,ce=(ne>>26)-(Q/67108864|0),this.words[te+X]=ne&67108863}for(;te<this.length-X;te++)ne=(this.words[te+X]|0)+ce,ce=ne>>26,this.words[te+X]=ne&67108863;if(ce===0)return this.strip();for(n(ce===-1),ce=0,te=0;te<this.length;te++)ne=-(this.words[te]|0)+ce,ce=ne>>26,this.words[te]=ne&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(N,V){var X=this.length-N.length,q=this.clone(),te=N,ne=te.words[te.length-1]|0,ce=this._countBits(ne);X=26-ce,X!==0&&(te=te.ushln(X),q.iushln(X),ne=te.words[te.length-1]|0);var Q=q.length-te.length,Z;if(V!=="mod"){Z=new u(null),Z.length=Q+1,Z.words=new Array(Z.length);for(var re=0;re<Z.length;re++)Z.words[re]=0}var Y=q.clone()._ishlnsubmul(te,1,Q);Y.negative===0&&(q=Y,Z&&(Z.words[Q]=1));for(var oe=Q-1;oe>=0;oe--){var ue=(q.words[te.length+oe]|0)*67108864+(q.words[te.length+oe-1]|0);for(ue=Math.min(ue/ne|0,67108863),q._ishlnsubmul(te,ue,oe);q.negative!==0;)ue--,q.negative=0,q._ishlnsubmul(te,1,oe),q.isZero()||(q.negative^=1);Z&&(Z.words[oe]=ue)}return Z&&Z.strip(),q.strip(),V!=="div"&&X!==0&&q.iushrn(X),{div:Z||null,mod:q}},u.prototype.divmod=function(N,V,X){if(n(!N.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var q,te,ne;return this.negative!==0&&N.negative===0?(ne=this.neg().divmod(N,V),V!=="mod"&&(q=ne.div.neg()),V!=="div"&&(te=ne.mod.neg(),X&&te.negative!==0&&te.iadd(N)),{div:q,mod:te}):this.negative===0&&N.negative!==0?(ne=this.divmod(N.neg(),V),V!=="mod"&&(q=ne.div.neg()),{div:q,mod:ne.mod}):this.negative&N.negative?(ne=this.neg().divmod(N.neg(),V),V!=="div"&&(te=ne.mod.neg(),X&&te.negative!==0&&te.isub(N)),{div:ne.div,mod:te}):N.length>this.length||this.cmp(N)<0?{div:new u(0),mod:this}:N.length===1?V==="div"?{div:this.divn(N.words[0]),mod:null}:V==="mod"?{div:null,mod:new u(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new u(this.modn(N.words[0]))}:this._wordDiv(N,V)},u.prototype.div=function(N){return this.divmod(N,"div",!1).div},u.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},u.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},u.prototype.divRound=function(N){var V=this.divmod(N);if(V.mod.isZero())return V.div;var X=V.div.negative!==0?V.mod.isub(N):V.mod,q=N.ushrn(1),te=N.andln(1),ne=X.cmp(q);return ne<0||te===1&&ne===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},u.prototype.modn=function(N){n(N<=67108863);for(var V=(1<<26)%N,X=0,q=this.length-1;q>=0;q--)X=(V*X+(this.words[q]|0))%N;return X},u.prototype.idivn=function(N){n(N<=67108863);for(var V=0,X=this.length-1;X>=0;X--){var q=(this.words[X]|0)+V*67108864;this.words[X]=q/N|0,V=q%N}return this.strip()},u.prototype.divn=function(N){return this.clone().idivn(N)},u.prototype.egcd=function(N){n(N.negative===0),n(!N.isZero());var V=this,X=N.clone();V.negative!==0?V=V.umod(N):V=V.clone();for(var q=new u(1),te=new u(0),ne=new u(0),ce=new u(1),Q=0;V.isEven()&&X.isEven();)V.iushrn(1),X.iushrn(1),++Q;for(var Z=X.clone(),re=V.clone();!V.isZero();){for(var Y=0,oe=1;!(V.words[0]&oe)&&Y<26;++Y,oe<<=1);if(Y>0)for(V.iushrn(Y);Y-- >0;)(q.isOdd()||te.isOdd())&&(q.iadd(Z),te.isub(re)),q.iushrn(1),te.iushrn(1);for(var ue=0,K=1;!(X.words[0]&K)&&ue<26;++ue,K<<=1);if(ue>0)for(X.iushrn(ue);ue-- >0;)(ne.isOdd()||ce.isOdd())&&(ne.iadd(Z),ce.isub(re)),ne.iushrn(1),ce.iushrn(1);V.cmp(X)>=0?(V.isub(X),q.isub(ne),te.isub(ce)):(X.isub(V),ne.isub(q),ce.isub(te))}return{a:ne,b:ce,gcd:X.iushln(Q)}},u.prototype._invmp=function(N){n(N.negative===0),n(!N.isZero());var V=this,X=N.clone();V.negative!==0?V=V.umod(N):V=V.clone();for(var q=new u(1),te=new u(0),ne=X.clone();V.cmpn(1)>0&&X.cmpn(1)>0;){for(var ce=0,Q=1;!(V.words[0]&Q)&&ce<26;++ce,Q<<=1);if(ce>0)for(V.iushrn(ce);ce-- >0;)q.isOdd()&&q.iadd(ne),q.iushrn(1);for(var Z=0,re=1;!(X.words[0]&re)&&Z<26;++Z,re<<=1);if(Z>0)for(X.iushrn(Z);Z-- >0;)te.isOdd()&&te.iadd(ne),te.iushrn(1);V.cmp(X)>=0?(V.isub(X),q.isub(te)):(X.isub(V),te.isub(q))}var Y;return V.cmpn(1)===0?Y=q:Y=te,Y.cmpn(0)<0&&Y.iadd(N),Y},u.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var V=this.clone(),X=N.clone();V.negative=0,X.negative=0;for(var q=0;V.isEven()&&X.isEven();q++)V.iushrn(1),X.iushrn(1);do{for(;V.isEven();)V.iushrn(1);for(;X.isEven();)X.iushrn(1);var te=V.cmp(X);if(te<0){var ne=V;V=X,X=ne}else if(te===0||X.cmpn(1)===0)break;V.isub(X)}while(!0);return X.iushln(q)},u.prototype.invm=function(N){return this.egcd(N).a.umod(N)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(N){return this.words[0]&N},u.prototype.bincn=function(N){n(typeof N=="number");var V=N%26,X=(N-V)/26,q=1<<V;if(this.length<=X)return this._expand(X+1),this.words[X]|=q,this;for(var te=q,ne=X;te!==0&&ne<this.length;ne++){var ce=this.words[ne]|0;ce+=te,te=ce>>>26,ce&=67108863,this.words[ne]=ce}return te!==0&&(this.words[ne]=te,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(N){var V=N<0;if(this.negative!==0&&!V)return-1;if(this.negative===0&&V)return 1;this.strip();var X;if(this.length>1)X=1;else{V&&(N=-N),n(N<=67108863,"Number is too big");var q=this.words[0]|0;X=q===N?0:q<N?-1:1}return this.negative!==0?-X|0:X},u.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var V=this.ucmp(N);return this.negative!==0?-V|0:V},u.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var V=0,X=this.length-1;X>=0;X--){var q=this.words[X]|0,te=N.words[X]|0;if(q!==te){q<te?V=-1:q>te&&(V=1);break}}return V},u.prototype.gtn=function(N){return this.cmpn(N)===1},u.prototype.gt=function(N){return this.cmp(N)===1},u.prototype.gten=function(N){return this.cmpn(N)>=0},u.prototype.gte=function(N){return this.cmp(N)>=0},u.prototype.ltn=function(N){return this.cmpn(N)===-1},u.prototype.lt=function(N){return this.cmp(N)===-1},u.prototype.lten=function(N){return this.cmpn(N)<=0},u.prototype.lte=function(N){return this.cmp(N)<=0},u.prototype.eqn=function(N){return this.cmpn(N)===0},u.prototype.eq=function(N){return this.cmp(N)===0},u.red=function(N){return new z(N)},u.prototype.toRed=function(N){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(N){return this.red=N,this},u.prototype.forceRed=function(N){return n(!this.red,"Already a number in reduction context"),this._forceRed(N)},u.prototype.redAdd=function(N){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},u.prototype.redIAdd=function(N){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},u.prototype.redSub=function(N){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},u.prototype.redISub=function(N){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},u.prototype.redShl=function(N){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},u.prototype.redMul=function(N){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},u.prototype.redIMul=function(N){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(N){return n(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var s={k256:null,p224:null,p192:null,p25519:null};function E(B,N){this.name=B,this.p=new u(N,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var N=new u(null);return N.words=new Array(Math.ceil(this.n/13)),N},E.prototype.ireduce=function(N){var V=N,X;do this.split(V,this.tmp),V=this.imulK(V),V=V.iadd(this.tmp),X=V.bitLength();while(X>this.n);var q=X<this.n?-1:V.ucmp(this.p);return q===0?(V.words[0]=0,V.length=1):q>0?V.isub(this.p):V.strip!==void 0?V.strip():V._strip(),V},E.prototype.split=function(N,V){N.iushrn(this.n,0,V)},E.prototype.imulK=function(N){return N.imul(this.k)};function w(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(w,E),w.prototype.split=function(N,V){for(var X=4194303,q=Math.min(N.length,9),te=0;te<q;te++)V.words[te]=N.words[te];if(V.length=q,N.length<=9){N.words[0]=0,N.length=1;return}var ne=N.words[9];for(V.words[V.length++]=ne&X,te=10;te<N.length;te++){var ce=N.words[te]|0;N.words[te-10]=(ce&X)<<4|ne>>>22,ne=ce}ne>>>=22,N.words[te-10]=ne,ne===0&&N.length>10?N.length-=10:N.length-=9},w.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var V=0,X=0;X<N.length;X++){var q=N.words[X]|0;V+=q*977,N.words[X]=V&67108863,V=q*64+(V/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N};function O(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(O,E);function _(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(_,E);function U(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(U,E),U.prototype.imulK=function(N){for(var V=0,X=0;X<N.length;X++){var q=(N.words[X]|0)*19+V,te=q&67108863;q>>>=26,N.words[X]=te,V=q}return V!==0&&(N.words[N.length++]=V),N},u._prime=function(N){if(s[N])return s[N];var V;if(N==="k256")V=new w;else if(N==="p224")V=new O;else if(N==="p192")V=new _;else if(N==="p25519")V=new U;else throw new Error("Unknown prime "+N);return s[N]=V,V};function z(B){if(typeof B=="string"){var N=u._prime(B);this.m=N.p,this.prime=N}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}z.prototype._verify1=function(N){n(N.negative===0,"red works only with positives"),n(N.red,"red works only with red numbers")},z.prototype._verify2=function(N,V){n((N.negative|V.negative)===0,"red works only with positives"),n(N.red&&N.red===V.red,"red works only with red numbers")},z.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},z.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},z.prototype.add=function(N,V){this._verify2(N,V);var X=N.add(V);return X.cmp(this.m)>=0&&X.isub(this.m),X._forceRed(this)},z.prototype.iadd=function(N,V){this._verify2(N,V);var X=N.iadd(V);return X.cmp(this.m)>=0&&X.isub(this.m),X},z.prototype.sub=function(N,V){this._verify2(N,V);var X=N.sub(V);return X.cmpn(0)<0&&X.iadd(this.m),X._forceRed(this)},z.prototype.isub=function(N,V){this._verify2(N,V);var X=N.isub(V);return X.cmpn(0)<0&&X.iadd(this.m),X},z.prototype.shl=function(N,V){return this._verify1(N),this.imod(N.ushln(V))},z.prototype.imul=function(N,V){return this._verify2(N,V),this.imod(N.imul(V))},z.prototype.mul=function(N,V){return this._verify2(N,V),this.imod(N.mul(V))},z.prototype.isqr=function(N){return this.imul(N,N.clone())},z.prototype.sqr=function(N){return this.mul(N,N)},z.prototype.sqrt=function(N){if(N.isZero())return N.clone();var V=this.m.andln(3);if(n(V%2===1),V===3){var X=this.m.add(new u(1)).iushrn(2);return this.pow(N,X)}for(var q=this.m.subn(1),te=0;!q.isZero()&&q.andln(1)===0;)te++,q.iushrn(1);n(!q.isZero());var ne=new u(1).toRed(this),ce=ne.redNeg(),Q=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new u(2*Z*Z).toRed(this);this.pow(Z,Q).cmp(ce)!==0;)Z.redIAdd(ce);for(var re=this.pow(Z,q),Y=this.pow(N,q.addn(1).iushrn(1)),oe=this.pow(N,q),ue=te;oe.cmp(ne)!==0;){for(var K=oe,$=0;K.cmp(ne)!==0;$++)K=K.redSqr();n($<ue);var le=this.pow(re,new u(1).iushln(ue-$-1));Y=Y.redMul(le),re=le.redSqr(),oe=oe.redMul(re),ue=$}return Y},z.prototype.invm=function(N){var V=N._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},z.prototype.pow=function(N,V){if(V.isZero())return new u(1).toRed(this);if(V.cmpn(1)===0)return N.clone();var X=4,q=new Array(1<<X);q[0]=new u(1).toRed(this),q[1]=N;for(var te=2;te<q.length;te++)q[te]=this.mul(q[te-1],N);var ne=q[0],ce=0,Q=0,Z=V.bitLength()%26;for(Z===0&&(Z=26),te=V.length-1;te>=0;te--){for(var re=V.words[te],Y=Z-1;Y>=0;Y--){var oe=re>>Y&1;if(ne!==q[0]&&(ne=this.sqr(ne)),oe===0&&ce===0){Q=0;continue}ce<<=1,ce|=oe,Q++,!(Q!==X&&(te!==0||Y!==0))&&(ne=this.mul(ne,q[ce]),Q=0,ce=0)}Z=26}return ne},z.prototype.convertTo=function(N){var V=N.umod(this.m);return V===N?V.clone():V},z.prototype.convertFrom=function(N){var V=N.clone();return V.red=null,V},u.mont=function(N){return new F(N)};function F(B){z.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(F,z),F.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},F.prototype.convertFrom=function(N){var V=this.imod(N.mul(this.rinv));return V.red=null,V},F.prototype.imul=function(N,V){if(N.isZero()||V.isZero())return N.words[0]=0,N.length=1,N;var X=N.imul(V),q=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=X.isub(q).iushrn(this.shift),ne=te;return te.cmp(this.m)>=0?ne=te.isub(this.m):te.cmpn(0)<0&&(ne=te.iadd(this.m)),ne._forceRed(this)},F.prototype.mul=function(N,V){if(N.isZero()||V.isZero())return new u(0)._forceRed(this);var X=N.mul(V),q=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=X.isub(q).iushrn(this.shift),ne=te;return te.cmp(this.m)>=0?ne=te.isub(this.m):te.cmpn(0)<0&&(ne=te.iadd(this.m)),ne._forceRed(this)},F.prototype.invm=function(N){var V=this.imod(N._invmp(this.m).mul(this.r2));return V._forceRed(this)}}(v,this)},6204:function(v){v.exports=d;function d(r){var t,i,n,f=r.length,u=0;for(t=0;t<f;++t)u+=r[t].length;var l=new Array(u),m=0;for(t=0;t<f;++t){var c=r[t],A=c.length;for(i=0;i<A;++i){var h=l[m++]=new Array(A-1),o=0;for(n=0;n<A;++n)n!==i&&(h[o++]=c[n]);if(i&1){var p=h[1];h[1]=h[0],h[0]=p}}}return l}},6867:function(v,d,r){v.exports=o;var t=r(1888),i=r(855),n=r(7150);function f(p,b){for(var T=0;T<p;++T)if(!(b[T]<=b[T+p]))return!0;return!1}function u(p,b,T,P){for(var x=0,L=0,M=0,s=p.length;M<s;++M){var E=p[M];if(!f(b,E)){for(var w=0;w<2*b;++w)T[x++]=E[w];P[L++]=M}}return L}function l(p,b,T,P){var x=p.length,L=b.length;if(!(x<=0||L<=0)){var M=p[0].length>>>1;if(!(M<=0)){var s,E=t.mallocDouble(2*M*x),w=t.mallocInt32(x);if(x=u(p,M,E,w),x>0){if(M===1&&P)i.init(x),s=i.sweepComplete(M,T,0,x,E,w,0,x,E,w);else{var O=t.mallocDouble(2*M*L),_=t.mallocInt32(L);L=u(b,M,O,_),L>0&&(i.init(x+L),M===1?s=i.sweepBipartite(M,T,0,x,E,w,0,L,O,_):s=n(M,T,P,x,E,w,L,O,_),t.free(O),t.free(_))}t.free(E),t.free(w)}return s}}}var m;function c(p,b){m.push([p,b])}function A(p){return m=[],l(p,p,c,!0),m}function h(p,b){return m=[],l(p,b,c,!1),m}function o(p,b,T){switch(arguments.length){case 1:return A(p);case 2:return typeof b=="function"?l(p,p,b,!0):h(p,b);case 3:return l(p,b,T,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,d){function r(){function n(l,m,c,A,h,o,p,b,T,P,x){for(var L=2*l,M=A,s=L*A;M<h;++M,s+=L){var E=o[m+s],w=o[m+s+l],O=p[M];e:for(var _=b,U=L*b;_<T;++_,U+=L){var z=P[m+U],F=P[m+U+l],B=x[_];if(!(F<E||w<z)){for(var N=m+1;N<l;++N){var V=o[N+s],X=o[N+l+s],q=P[N+U],te=P[N+l+U];if(X<q||te<V)continue e}var ne=c(O,B);if(ne!==void 0)return ne}}}}function f(l,m,c,A,h,o,p,b,T,P,x){for(var L=2*l,M=b,s=L*b;M<T;++M,s+=L){var E=P[m+s],w=P[m+s+l],O=x[M];e:for(var _=A,U=L*A;_<h;++_,U+=L){var z=o[m+U],F=o[m+U+l],B=p[_];if(!(w<z||F<E)){for(var N=m+1;N<l;++N){var V=o[N+U],X=o[N+l+U],q=P[N+s],te=P[N+l+s];if(X<q||te<V)continue e}var ne=c(B,O);if(ne!==void 0)return ne}}}}function u(l,m,c,A,h,o,p,b,T,P,x){return h-A>T-b?n(l,m,c,A,h,o,p,b,T,P,x):f(l,m,c,A,h,o,p,b,T,P,x)}return u}function t(){function n(c,A,h,o,p,b,T,P,x,L,M){for(var s=2*c,E=o,w=s*o;E<p;++E,w+=s){var O=b[A+w],_=b[A+w+c],U=T[E];e:for(var z=P,F=s*P;z<x;++z,F+=s){var B=L[A+F],N=M[z];if(!(B<=O||_<B)){for(var V=A+1;V<c;++V){var X=b[V+w],q=b[V+c+w],te=L[V+F],ne=L[V+c+F];if(q<te||ne<X)continue e}var ce=h(N,U);if(ce!==void 0)return ce}}}}function f(c,A,h,o,p,b,T,P,x,L,M){for(var s=2*c,E=o,w=s*o;E<p;++E,w+=s){var O=b[A+w],_=b[A+w+c],U=T[E];e:for(var z=P,F=s*P;z<x;++z,F+=s){var B=L[A+F],N=M[z];if(!(B<O||_<B)){for(var V=A+1;V<c;++V){var X=b[V+w],q=b[V+c+w],te=L[V+F],ne=L[V+c+F];if(q<te||ne<X)continue e}var ce=h(U,N);if(ce!==void 0)return ce}}}}function u(c,A,h,o,p,b,T,P,x,L,M){for(var s=2*c,E=P,w=s*P;E<x;++E,w+=s){var O=L[A+w],_=M[E];e:for(var U=o,z=s*o;U<p;++U,z+=s){var F=b[A+z],B=b[A+z+c],N=T[U];if(!(O<=F||B<O)){for(var V=A+1;V<c;++V){var X=b[V+z],q=b[V+c+z],te=L[V+w],ne=L[V+c+w];if(q<te||ne<X)continue e}var ce=h(_,N);if(ce!==void 0)return ce}}}}function l(c,A,h,o,p,b,T,P,x,L,M){for(var s=2*c,E=P,w=s*P;E<x;++E,w+=s){var O=L[A+w],_=M[E];e:for(var U=o,z=s*o;U<p;++U,z+=s){var F=b[A+z],B=b[A+z+c],N=T[U];if(!(O<F||B<O)){for(var V=A+1;V<c;++V){var X=b[V+z],q=b[V+c+z],te=L[V+w],ne=L[V+c+w];if(q<te||ne<X)continue e}var ce=h(N,_);if(ce!==void 0)return ce}}}}function m(c,A,h,o,p,b,T,P,x,L,M,s){return b-p>L-x?o?n(c,A,h,p,b,T,P,x,L,M,s):f(c,A,h,p,b,T,P,x,L,M,s):o?u(c,A,h,p,b,T,P,x,L,M,s):l(c,A,h,p,b,T,P,x,L,M,s)}return m}function i(n){return n?r():t()}d.partial=i(!1),d.full=i(!0)},7150:function(v,d,r){v.exports=B;var t=r(1888),i=r(8828),n=r(2455),f=n.partial,u=n.full,l=r(855),m=r(3545),c=r(8105),A=128,h=1<<22,o=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)"),b=c("lo===p0"),T=c("lo<p0"),P=c("hi<=p0"),x=c("lo<=p0&&p0<=hi"),L=c("lo<p0&&p0<=hi"),M=6,s=2,E=1024,w=t.mallocInt32(E),O=t.mallocDouble(E);function _(N,V){var X=8*i.log2(V+1)*(N+1)|0,q=i.nextPow2(M*X);w.length<q&&(t.free(w),w=t.mallocInt32(q));var te=i.nextPow2(s*X);O.length<te&&(t.free(O),O=t.mallocDouble(te))}function U(N,V,X,q,te,ne,ce,Q,Z){var re=M*N;w[re]=V,w[re+1]=X,w[re+2]=q,w[re+3]=te,w[re+4]=ne,w[re+5]=ce;var Y=s*N;O[Y]=Q,O[Y+1]=Z}function z(N,V,X,q,te,ne,ce,Q,Z,re,Y){var oe=2*N,ue=Z*oe,K=re[ue+V];e:for(var $=te,le=te*oe;$<ne;++$,le+=oe){var ae=ce[le+V],he=ce[le+V+N];if(!(K<ae||he<K)&&!(q&&K===ae)){for(var xe=Q[$],Me=V+1;Me<N;++Me){var ae=ce[le+Me],he=ce[le+Me+N],Ae=re[ue+Me],ke=re[ue+Me+N];if(he<Ae||ke<ae)continue e}var we;if(q?we=X(Y,xe):we=X(xe,Y),we!==void 0)return we}}}function F(N,V,X,q,te,ne,ce,Q,Z,re){var Y=2*N,oe=Q*Y,ue=Z[oe+V];e:for(var K=q,$=q*Y;K<te;++K,$+=Y){var le=ce[K];if(le!==re){var ae=ne[$+V],he=ne[$+V+N];if(!(ue<ae||he<ue)){for(var xe=V+1;xe<N;++xe){var ae=ne[$+xe],he=ne[$+xe+N],Me=Z[oe+xe],Ae=Z[oe+xe+N];if(he<Me||Ae<ae)continue e}var ke=X(le,re);if(ke!==void 0)return ke}}}}function B(N,V,X,q,te,ne,ce,Q,Z){_(N,q+ce);var re=0,Y=2*N,oe;for(U(re++,0,0,q,0,ce,X?16:0,-1/0,1/0),X||U(re++,0,0,ce,0,q,1,-1/0,1/0);re>0;){re-=1;var ue=re*M,K=w[ue],$=w[ue+1],le=w[ue+2],ae=w[ue+3],he=w[ue+4],xe=w[ue+5],Me=re*s,Ae=O[Me],ke=O[Me+1],we=xe&1,Ee=!!(xe&16),be=te,Le=ne,Ue=Q,Ve=Z;if(we&&(be=Q,Le=Z,Ue=te,Ve=ne),!(xe&2&&(le=T(N,K,$,le,be,Le,ke),$>=le))&&!(xe&4&&($=P(N,K,$,le,be,Le,Ae),$>=le))){var Fe=le-$,He=he-ae;if(Ee){if(N*Fe*(Fe+He)<o){if(oe=l.scanComplete(N,K,V,$,le,be,Le,ae,he,Ue,Ve),oe!==void 0)return oe;continue}}else if(N*Math.min(Fe,He)<A){if(oe=f(N,K,V,we,$,le,be,Le,ae,he,Ue,Ve),oe!==void 0)return oe;continue}else if(N*Fe*He<h){if(oe=l.scanBipartite(N,K,V,we,$,le,be,Le,ae,he,Ue,Ve),oe!==void 0)return oe;continue}var st=p(N,K,$,le,be,Le,Ae,ke);if($<st)if(N*(st-$)<A){if(oe=u(N,K+1,V,$,st,be,Le,ae,he,Ue,Ve),oe!==void 0)return oe}else if(K===N-2){if(we?oe=l.sweepBipartite(N,V,ae,he,Ue,Ve,$,st,be,Le):oe=l.sweepBipartite(N,V,$,st,be,Le,ae,he,Ue,Ve),oe!==void 0)return oe}else U(re++,K+1,$,st,ae,he,we,-1/0,1/0),U(re++,K+1,ae,he,$,st,we^1,-1/0,1/0);if(st<le){var vt=m(N,K,ae,he,Ue,Ve),lt=Ue[Y*vt+K],et=b(N,K,vt,he,Ue,Ve,lt);if(et<he&&U(re++,K,st,le,et,he,(we|4)+(Ee?16:0),lt,ke),ae<vt&&U(re++,K,st,le,ae,vt,(we|2)+(Ee?16:0),Ae,lt),vt+1===et){if(Ee?oe=F(N,K,V,st,le,be,Le,vt,Ue,Ve[vt]):oe=z(N,K,V,we,st,le,be,Le,vt,Ue,Ve[vt]),oe!==void 0)return oe}else if(vt<et){var ct;if(Ee){if(ct=x(N,K,st,le,be,Le,lt),st<ct){var ht=b(N,K,st,ct,be,Le,lt);if(K===N-2){if(st<ht&&(oe=l.sweepComplete(N,V,st,ht,be,Le,vt,et,Ue,Ve),oe!==void 0)||ht<ct&&(oe=l.sweepBipartite(N,V,ht,ct,be,Le,vt,et,Ue,Ve),oe!==void 0))return oe}else st<ht&&U(re++,K+1,st,ht,vt,et,16,-1/0,1/0),ht<ct&&(U(re++,K+1,ht,ct,vt,et,0,-1/0,1/0),U(re++,K+1,vt,et,ht,ct,1,-1/0,1/0))}}else we?ct=L(N,K,st,le,be,Le,lt):ct=x(N,K,st,le,be,Le,lt),st<ct&&(K===N-2?we?oe=l.sweepBipartite(N,V,vt,et,Ue,Ve,st,ct,be,Le):oe=l.sweepBipartite(N,V,st,ct,be,Le,vt,et,Ue,Ve):(U(re++,K+1,st,ct,vt,et,we,-1/0,1/0),U(re++,K+1,vt,et,st,ct,we^1,-1/0,1/0)))}}}}}},3545:function(v,d,r){v.exports=u;var t=r(8105),i=t("lo<p0"),n=8;function f(l,m,c,A,h,o){for(var p=2*l,b=p*(c+1)+m,T=c+1;T<A;++T,b+=p)for(var P=h[b],x=T,L=p*(T-1);x>c&&h[L+m]>P;--x,L-=p){for(var M=L,s=L+p,E=0;E<p;++E,++M,++s){var w=h[M];h[M]=h[s],h[s]=w}var O=o[x];o[x]=o[x-1],o[x-1]=O}}function u(l,m,c,A,h,o){if(A<=c+1)return c;for(var p=c,b=A,T=A+c>>>1,P=2*l,x=T,L=h[P*T+m];p<b;){if(b-p<n){f(l,m,p,b,h,o),L=h[P*T+m];break}var M=b-p,s=Math.random()*M+p|0,E=h[P*s+m],w=Math.random()*M+p|0,O=h[P*w+m],_=Math.random()*M+p|0,U=h[P*_+m];E<=O?U>=O?(x=w,L=O):E>=U?(x=s,L=E):(x=_,L=U):O>=U?(x=w,L=O):U>=E?(x=s,L=E):(x=_,L=U);for(var B=P*(b-1),N=P*x,z=0;z<P;++z,++B,++N){var F=h[B];h[B]=h[N],h[N]=F}var V=o[b-1];o[b-1]=o[x],o[x]=V,x=i(l,m,p,b-1,h,o,L);for(var B=P*(b-1),N=P*x,z=0;z<P;++z,++B,++N){var F=h[B];h[B]=h[N],h[N]=F}var V=o[b-1];if(o[b-1]=o[x],o[x]=V,T<x){for(b=x-1;p<b&&h[P*(b-1)+m]===L;)b-=1;b+=1}else if(x<T)for(p=x+1;p<b&&h[P*p+m]===L;)p+=1;else break}return i(l,m,c,T,h,o,h[P*T+m])}},8105:function(v){v.exports=r;var d={"lo===p0":t,"lo<p0":i,"lo<=p0":n,"hi<=p0":f,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":m};function r(c){return d[c]}function t(c,A,h,o,p,b,T){for(var P=2*c,x=P*h,L=x,M=h,s=A,E=c+A,w=h;o>w;++w,x+=P){var O=p[x+s];if(O===T)if(M===w)M+=1,L+=P;else{for(var _=0;P>_;++_){var U=p[x+_];p[x+_]=p[L],p[L++]=U}var z=b[w];b[w]=b[M],b[M++]=z}}return M}function i(c,A,h,o,p,b,T){for(var P=2*c,x=P*h,L=x,M=h,s=A,E=c+A,w=h;o>w;++w,x+=P){var O=p[x+s];if(O<T)if(M===w)M+=1,L+=P;else{for(var _=0;P>_;++_){var U=p[x+_];p[x+_]=p[L],p[L++]=U}var z=b[w];b[w]=b[M],b[M++]=z}}return M}function n(c,A,h,o,p,b,T){for(var P=2*c,x=P*h,L=x,M=h,s=A,E=c+A,w=h;o>w;++w,x+=P){var O=p[x+E];if(O<=T)if(M===w)M+=1,L+=P;else{for(var _=0;P>_;++_){var U=p[x+_];p[x+_]=p[L],p[L++]=U}var z=b[w];b[w]=b[M],b[M++]=z}}return M}function f(c,A,h,o,p,b,T){for(var P=2*c,x=P*h,L=x,M=h,s=A,E=c+A,w=h;o>w;++w,x+=P){var O=p[x+E];if(O<=T)if(M===w)M+=1,L+=P;else{for(var _=0;P>_;++_){var U=p[x+_];p[x+_]=p[L],p[L++]=U}var z=b[w];b[w]=b[M],b[M++]=z}}return M}function u(c,A,h,o,p,b,T){for(var P=2*c,x=P*h,L=x,M=h,s=A,E=c+A,w=h;o>w;++w,x+=P){var O=p[x+s],_=p[x+E];if(O<=T&&T<=_)if(M===w)M+=1,L+=P;else{for(var U=0;P>U;++U){var z=p[x+U];p[x+U]=p[L],p[L++]=z}var F=b[w];b[w]=b[M],b[M++]=F}}return M}function l(c,A,h,o,p,b,T){for(var P=2*c,x=P*h,L=x,M=h,s=A,E=c+A,w=h;o>w;++w,x+=P){var O=p[x+s],_=p[x+E];if(O<T&&T<=_)if(M===w)M+=1,L+=P;else{for(var U=0;P>U;++U){var z=p[x+U];p[x+U]=p[L],p[L++]=z}var F=b[w];b[w]=b[M],b[M++]=F}}return M}function m(c,A,h,o,p,b,T,P){for(var x=2*c,L=x*h,M=L,s=h,E=A,w=c+A,O=h;o>O;++O,L+=x){var _=p[L+E],U=p[L+w];if(!(_>=T)&&!(P>=U))if(s===O)s+=1,M+=x;else{for(var z=0;x>z;++z){var F=p[L+z];p[L+z]=p[M],p[M++]=F}var B=b[O];b[O]=b[s],b[s++]=B}}return s}},1811:function(v){v.exports=r;var d=32;function r(A,h){h<=4*d?t(0,h-1,A):c(0,h-1,A)}function t(A,h,o){for(var p=2*(A+1),b=A+1;b<=h;++b){for(var T=o[p++],P=o[p++],x=b,L=p-2;x-- >A;){var M=o[L-2],s=o[L-1];if(M<T)break;if(M===T&&s<P)break;o[L]=M,o[L+1]=s,L-=2}o[L]=T,o[L+1]=P}}function i(A,h,o){A*=2,h*=2;var p=o[A],b=o[A+1];o[A]=o[h],o[A+1]=o[h+1],o[h]=p,o[h+1]=b}function n(A,h,o){A*=2,h*=2,o[A]=o[h],o[A+1]=o[h+1]}function f(A,h,o,p){A*=2,h*=2,o*=2;var b=p[A],T=p[A+1];p[A]=p[h],p[A+1]=p[h+1],p[h]=p[o],p[h+1]=p[o+1],p[o]=b,p[o+1]=T}function u(A,h,o,p,b){A*=2,h*=2,b[A]=b[h],b[h]=o,b[A+1]=b[h+1],b[h+1]=p}function l(A,h,o){A*=2,h*=2;var p=o[A],b=o[h];return p<b?!1:p===b?o[A+1]>o[h+1]:!0}function m(A,h,o,p){A*=2;var b=p[A];return b<h?!0:b===h?p[A+1]<o:!1}function c(A,h,o){var p=(h-A+1)/6|0,b=A+p,T=h-p,P=A+h>>1,x=P-p,L=P+p,M=b,s=x,E=P,w=L,O=T,_=A+1,U=h-1,z=0;l(M,s,o)&&(z=M,M=s,s=z),l(w,O,o)&&(z=w,w=O,O=z),l(M,E,o)&&(z=M,M=E,E=z),l(s,E,o)&&(z=s,s=E,E=z),l(M,w,o)&&(z=M,M=w,w=z),l(E,w,o)&&(z=E,E=w,w=z),l(s,O,o)&&(z=s,s=O,O=z),l(s,E,o)&&(z=s,s=E,E=z),l(w,O,o)&&(z=w,w=O,O=z);for(var F=o[2*s],B=o[2*s+1],N=o[2*w],V=o[2*w+1],X=2*M,q=2*E,te=2*O,ne=2*b,ce=2*P,Q=2*T,Z=0;Z<2;++Z){var re=o[X+Z],Y=o[q+Z],oe=o[te+Z];o[ne+Z]=re,o[ce+Z]=Y,o[Q+Z]=oe}n(x,A,o),n(L,h,o);for(var ue=_;ue<=U;++ue)if(m(ue,F,B,o))ue!==_&&i(ue,_,o),++_;else if(!m(ue,N,V,o))for(;;)if(m(U,N,V,o)){m(U,F,B,o)?(f(ue,_,U,o),++_,--U):(i(ue,U,o),--U);break}else{if(--U<ue)break;continue}u(A,_-1,F,B,o),u(h,U+1,N,V,o),_-2-A<=d?t(A,_-2,o):c(A,_-2,o),h-(U+2)<=d?t(U+2,h,o):c(U+2,h,o),U-_<=d?t(_,U,o):c(_,U,o)}},855:function(v,d,r){v.exports={init:b,sweepBipartite:x,sweepComplete:L,scanBipartite:M,scanComplete:s};var t=r(1888),i=r(8828),n=r(1811),f=1<<28,u=1024,l=t.mallocInt32(u),m=t.mallocInt32(u),c=t.mallocInt32(u),A=t.mallocInt32(u),h=t.mallocInt32(u),o=t.mallocInt32(u),p=t.mallocDouble(u*8);function b(E){var w=i.nextPow2(E);l.length<w&&(t.free(l),l=t.mallocInt32(w)),m.length<w&&(t.free(m),m=t.mallocInt32(w)),c.length<w&&(t.free(c),c=t.mallocInt32(w)),A.length<w&&(t.free(A),A=t.mallocInt32(w)),h.length<w&&(t.free(h),h=t.mallocInt32(w)),o.length<w&&(t.free(o),o=t.mallocInt32(w));var O=8*w;p.length<O&&(t.free(p),p=t.mallocDouble(O))}function T(E,w,O,_){var U=w[_],z=E[O-1];E[U]=z,w[z]=U}function P(E,w,O,_){E[O]=_,w[_]=O}function x(E,w,O,_,U,z,F,B,N,V){for(var X=0,q=2*E,te=E-1,ne=q-1,ce=O;ce<_;++ce){var Q=z[ce],Z=q*ce;p[X++]=U[Z+te],p[X++]=-(Q+1),p[X++]=U[Z+ne],p[X++]=Q}for(var ce=F;ce<B;++ce){var Q=V[ce]+f,re=q*ce;p[X++]=N[re+te],p[X++]=-Q,p[X++]=N[re+ne],p[X++]=Q}var Y=X>>>1;n(p,Y);for(var oe=0,ue=0,ce=0;ce<Y;++ce){var K=p[2*ce+1]|0;if(K>=f)K=K-f|0,T(c,A,ue--,K);else if(K>=0)T(l,m,oe--,K);else if(K<=-f){K=-K-f|0;for(var $=0;$<oe;++$){var le=w(l[$],K);if(le!==void 0)return le}P(c,A,ue++,K)}else{K=-K-1|0;for(var $=0;$<ue;++$){var le=w(K,c[$]);if(le!==void 0)return le}P(l,m,oe++,K)}}}function L(E,w,O,_,U,z,F,B,N,V){for(var X=0,q=2*E,te=E-1,ne=q-1,ce=O;ce<_;++ce){var Q=z[ce]+1<<1,Z=q*ce;p[X++]=U[Z+te],p[X++]=-Q,p[X++]=U[Z+ne],p[X++]=Q}for(var ce=F;ce<B;++ce){var Q=V[ce]+1<<1,re=q*ce;p[X++]=N[re+te],p[X++]=-Q|1,p[X++]=N[re+ne],p[X++]=Q|1}var Y=X>>>1;n(p,Y);for(var oe=0,ue=0,K=0,ce=0;ce<Y;++ce){var $=p[2*ce+1]|0,le=$&1;if(ce<Y-1&&$>>1===p[2*ce+3]>>1&&(le=2,ce+=1),$<0){for(var ae=-($>>1)-1,he=0;he<K;++he){var xe=w(h[he],ae);if(xe!==void 0)return xe}if(le!==0)for(var he=0;he<oe;++he){var xe=w(l[he],ae);if(xe!==void 0)return xe}if(le!==1)for(var he=0;he<ue;++he){var xe=w(c[he],ae);if(xe!==void 0)return xe}le===0?P(l,m,oe++,ae):le===1?P(c,A,ue++,ae):le===2&&P(h,o,K++,ae)}else{var ae=($>>1)-1;le===0?T(l,m,oe--,ae):le===1?T(c,A,ue--,ae):le===2&&T(h,o,K--,ae)}}}function M(E,w,O,_,U,z,F,B,N,V,X,q){var te=0,ne=2*E,ce=w,Q=w+E,Z=1,re=1;_?re=f:Z=f;for(var Y=U;Y<z;++Y){var oe=Y+Z,ue=ne*Y;p[te++]=F[ue+ce],p[te++]=-oe,p[te++]=F[ue+Q],p[te++]=oe}for(var Y=N;Y<V;++Y){var oe=Y+re,K=ne*Y;p[te++]=X[K+ce],p[te++]=-oe}var $=te>>>1;n(p,$);for(var le=0,Y=0;Y<$;++Y){var ae=p[2*Y+1]|0;if(ae<0){var oe=-ae,he=!1;if(oe>=f?(he=!_,oe-=f):(he=!!_,oe-=1),he)P(l,m,le++,oe);else{var xe=q[oe],Me=ne*oe,Ae=X[Me+w+1],ke=X[Me+w+1+E];e:for(var we=0;we<le;++we){var Ee=l[we],be=ne*Ee;if(!(ke<F[be+w+1]||F[be+w+1+E]<Ae)){for(var Le=w+2;Le<E;++Le)if(X[Me+Le+E]<F[be+Le]||F[be+Le+E]<X[Me+Le])continue e;var Ue=B[Ee],Ve;if(_?Ve=O(xe,Ue):Ve=O(Ue,xe),Ve!==void 0)return Ve}}}}else T(l,m,le--,ae-Z)}}function s(E,w,O,_,U,z,F,B,N,V,X){for(var q=0,te=2*E,ne=w,ce=w+E,Q=_;Q<U;++Q){var Z=Q+f,re=te*Q;p[q++]=z[re+ne],p[q++]=-Z,p[q++]=z[re+ce],p[q++]=Z}for(var Q=B;Q<N;++Q){var Z=Q+1,Y=te*Q;p[q++]=V[Y+ne],p[q++]=-Z}var oe=q>>>1;n(p,oe);for(var ue=0,Q=0;Q<oe;++Q){var K=p[2*Q+1]|0;if(K<0){var Z=-K;if(Z>=f)l[ue++]=Z-f;else{Z-=1;var $=X[Z],le=te*Z,ae=V[le+w+1],he=V[le+w+1+E];e:for(var xe=0;xe<ue;++xe){var Me=l[xe],Ae=F[Me];if(Ae===$)break;var ke=te*Me;if(!(he<z[ke+w+1]||z[ke+w+1+E]<ae)){for(var we=w+2;we<E;++we)if(V[le+we+E]<z[ke+we]||z[ke+we+E]<V[le+we])continue e;var Ee=O(Ae,$);if(Ee!==void 0)return Ee}}}}else{for(var Z=K-f,xe=ue-1;xe>=0;--xe)if(l[xe]===Z){for(var we=xe+1;we<ue;++we)l[we-1]=l[we];break}--ue}}}},2538:function(v,d,r){var t=r(8902),i=r(5542),n=r(2272),f=r(5023);v.exports=A;function u(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function l(h,o){return h[0]-o[0]||h[1]-o[1]}function m(h){return h.map(u).sort(l)}function c(h,o,p){return o in h?h[o]:p}function A(h,o,p){Array.isArray(o)?(p=p||{},o=o||[]):(p=o||{},o=[]);var b=!!c(p,"delaunay",!0),T=!!c(p,"interior",!0),P=!!c(p,"exterior",!0),x=!!c(p,"infinity",!1);if(!T&&!P||h.length===0)return[];var L=t(h,o);if(b||T!==P||x){for(var M=i(h.length,m(o)),s=0;s<L.length;++s){var E=L[s];M.addTriangle(E[0],E[1],E[2])}return b&&n(h,M),P?T?x?f(M,0,x):M.cells():f(M,1,x):f(M,-1)}else return L}},2272:function(v,d,r){var t=r(2646)[4];r(2478),v.exports=n;function i(f,u,l,m,c,A){var h=u.opposite(m,c);if(!(h<0)){if(c<m){var o=m;m=c,c=o,o=A,A=h,h=o}u.isConstraint(m,c)||t(f[m],f[c],f[A],f[h])<0&&l.push(m,c)}}function n(f,u){for(var l=[],m=f.length,c=u.stars,A=0;A<m;++A)for(var h=c[A],o=1;o<h.length;o+=2){var p=h[o];if(!(p<A)&&!u.isConstraint(A,p)){for(var b=h[o-1],T=-1,P=1;P<h.length;P+=2)if(h[P-1]===p){T=h[P];break}T<0||t(f[A],f[p],f[b],f[T])<0&&l.push(A,p)}}for(;l.length>0;){for(var p=l.pop(),A=l.pop(),b=-1,T=-1,h=c[A],x=1;x<h.length;x+=2){var L=h[x-1],M=h[x];L===p?T=M:M===p&&(b=L)}b<0||T<0||t(f[A],f[p],f[b],f[T])>=0||(u.flip(A,p),i(f,u,l,b,A,T),i(f,u,l,A,T,b),i(f,u,l,T,p,b),i(f,u,l,p,b,T))}}},5023:function(v,d,r){var t=r(2478);v.exports=m;function i(c,A,h,o,p,b,T){this.cells=c,this.neighbor=A,this.flags=o,this.constraint=h,this.active=p,this.next=b,this.boundary=T}var n=i.prototype;function f(c,A){return c[0]-A[0]||c[1]-A[1]||c[2]-A[2]}n.locate=function(){var c=[0,0,0];return function(A,h,o){var p=A,b=h,T=o;return h<o?h<A&&(p=h,b=o,T=A):o<A&&(p=o,b=A,T=h),p<0?-1:(c[0]=p,c[1]=b,c[2]=T,t.eq(this.cells,c,f))}}();function u(c,A){for(var h=c.cells(),o=h.length,p=0;p<o;++p){var b=h[p],T=b[0],P=b[1],x=b[2];P<x?P<T&&(b[0]=P,b[1]=x,b[2]=T):x<T&&(b[0]=x,b[1]=T,b[2]=P)}h.sort(f);for(var L=new Array(o),p=0;p<L.length;++p)L[p]=0;var M=[],s=[],E=new Array(3*o),w=new Array(3*o),O=null;A&&(O=[]);for(var _=new i(h,E,w,L,M,s,O),p=0;p<o;++p)for(var b=h[p],U=0;U<3;++U){var T=b[U],P=b[(U+1)%3],z=E[3*p+U]=_.locate(P,T,c.opposite(P,T)),F=w[3*p+U]=c.isConstraint(T,P);z<0&&(F?s.push(p):(M.push(p),L[p]=1),A&&O.push([P,T,-1]))}return _}function l(c,A,h){for(var o=0,p=0;p<c.length;++p)A[p]===h&&(c[o++]=c[p]);return c.length=o,c}function m(c,A,h){var o=u(c,h);if(A===0)return h?o.cells.concat(o.boundary):o.cells;for(var p=1,b=o.active,T=o.next,P=o.flags,x=o.cells,L=o.constraint,M=o.neighbor;b.length>0||T.length>0;){for(;b.length>0;){var s=b.pop();if(P[s]!==-p){P[s]=p,x[s];for(var E=0;E<3;++E){var w=M[3*s+E];w>=0&&P[w]===0&&(L[3*s+E]?T.push(w):(b.push(w),P[w]=p))}}}var O=T;T=b,b=O,T.length=0,p=-p}var _=l(x,P,A);return h?_.concat(o.boundary):_}},8902:function(v,d,r){var t=r(2478),i=r(3250)[3],n=0,f=1,u=2;v.exports=T;function l(P,x,L,M,s){this.a=P,this.b=x,this.idx=L,this.lowerIds=M,this.upperIds=s}function m(P,x,L,M){this.a=P,this.b=x,this.type=L,this.idx=M}function c(P,x){var L=P.a[0]-x.a[0]||P.a[1]-x.a[1]||P.type-x.type;return L||P.type!==n&&(L=i(P.a,P.b,x.b),L)?L:P.idx-x.idx}function A(P,x){return i(P.a,P.b,x)}function h(P,x,L,M,s){for(var E=t.lt(x,M,A),w=t.gt(x,M,A),O=E;O<w;++O){for(var _=x[O],U=_.lowerIds,F=U.length;F>1&&i(L[U[F-2]],L[U[F-1]],M)>0;)P.push([U[F-1],U[F-2],s]),F-=1;U.length=F,U.push(s);for(var z=_.upperIds,F=z.length;F>1&&i(L[z[F-2]],L[z[F-1]],M)<0;)P.push([z[F-2],z[F-1],s]),F-=1;z.length=F,z.push(s)}}function o(P,x){var L;return P.a[0]<x.a[0]?L=i(P.a,P.b,x.a):L=i(x.b,x.a,P.a),L||(x.b[0]<P.b[0]?L=i(P.a,P.b,x.b):L=i(x.b,x.a,P.b),L||P.idx-x.idx)}function p(P,x,L){var M=t.le(P,L,o),s=P[M],E=s.upperIds,w=E[E.length-1];s.upperIds=[w],P.splice(M+1,0,new l(L.a,L.b,L.idx,[w],E))}function b(P,x,L){var M=L.a;L.a=L.b,L.b=M;var s=t.eq(P,L,o),E=P[s],w=P[s-1];w.upperIds=E.upperIds,P.splice(s,1)}function T(P,x){for(var L=P.length,M=x.length,s=[],E=0;E<L;++E)s.push(new m(P[E],null,n,E));for(var E=0;E<M;++E){var w=x[E],O=P[w[0]],_=P[w[1]];O[0]<_[0]?s.push(new m(O,_,u,E),new m(_,O,f,E)):O[0]>_[0]&&s.push(new m(_,O,u,E),new m(O,_,f,E))}s.sort(c);for(var U=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),z=[new l([U,1],[U,0],-1,[],[])],F=[],E=0,B=s.length;E<B;++E){var N=s[E],V=N.type;V===n?h(F,z,P,N.a,N.idx):V===u?p(z,P,N):b(z,P,N)}return F}},5542:function(v,d,r){var t=r(2478);v.exports=u;function i(l,m){this.stars=l,this.edges=m}var n=i.prototype;function f(l,m,c){for(var A=1,h=l.length;A<h;A+=2)if(l[A-1]===m&&l[A]===c){l[A-1]=l[h-2],l[A]=l[h-1],l.length=h-2;return}}n.isConstraint=function(){var l=[0,0];function m(c,A){return c[0]-A[0]||c[1]-A[1]}return function(c,A){return l[0]=Math.min(c,A),l[1]=Math.max(c,A),t.eq(this.edges,l,m)>=0}}(),n.removeTriangle=function(l,m,c){var A=this.stars;f(A[l],m,c),f(A[m],c,l),f(A[c],l,m)},n.addTriangle=function(l,m,c){var A=this.stars;A[l].push(m,c),A[m].push(c,l),A[c].push(l,m)},n.opposite=function(l,m){for(var c=this.stars[m],A=1,h=c.length;A<h;A+=2)if(c[A]===l)return c[A-1];return-1},n.flip=function(l,m){var c=this.opposite(l,m),A=this.opposite(m,l);this.removeTriangle(l,m,c),this.removeTriangle(m,l,A),this.addTriangle(l,A,c),this.addTriangle(m,c,A)},n.edges=function(){for(var l=this.stars,m=[],c=0,A=l.length;c<A;++c)for(var h=l[c],o=0,p=h.length;o<p;o+=2)m.push([h[o],h[o+1]]);return m},n.cells=function(){for(var l=this.stars,m=[],c=0,A=l.length;c<A;++c)for(var h=l[c],o=0,p=h.length;o<p;o+=2){var b=h[o],T=h[o+1];c<Math.min(b,T)&&m.push([c,b,T])}return m};function u(l,m){for(var c=new Array(l),A=0;A<l;++A)c[A]=[];return new i(c,m)}},2419:function(v){v.exports=d;function d(r){for(var t=1,i=1;i<r.length;++i)for(var n=0;n<i;++n)if(r[i]<r[n])t=-t;else if(r[n]===r[i])return 0;return t}},3628:function(v,d,r){var t=r(1338),i=r(727);function n(l,m){for(var c=0,A=l.length,h=0;h<A;++h)c+=l[h]*m[h];return c}function f(l){var m=l.length;if(m===0)return[];l[0].length;var c=t([l.length+1,l.length+1],1),A=t([l.length+1],1);c[m][m]=0;for(var h=0;h<m;++h){for(var o=0;o<=h;++o)c[o][h]=c[h][o]=2*n(l[h],l[o]);A[h]=n(l[h],l[h])}for(var p=i(c,A),b=0,T=p[m+1],h=0;h<T.length;++h)b+=T[h];for(var P=new Array(m),h=0;h<m;++h){for(var T=p[h],x=0,o=0;o<T.length;++o)x+=T[o];P[h]=x/b}return P}function u(l){if(l.length===0)return[];for(var m=l[0].length,c=t([m]),A=f(l),h=0;h<l.length;++h)for(var o=0;o<m;++o)c[o]+=l[h][o]*A[h];return c}u.barycenetric=f,v.exports=u},6037:function(v,d,r){v.exports=i;var t=r(3628);function i(n){for(var f=t(n),u=0,l=0;l<n.length;++l)for(var m=n[l],c=0;c<f.length;++c)u+=Math.pow(m[c]-f[c],2);return Math.sqrt(u/n.length)}},332:function(v,d,r){v.exports=O;var t=r(1755),i=r(6867),n=r(1125),f=r(7842),u=r(1318),l=r(946),m=r(5838),c=r(1278),A=r(3637);function h(_){var U=l(_);return[c(U,-1/0),c(U,1/0)]}function o(_,U){for(var z=new Array(U.length),F=0;F<U.length;++F){var B=U[F],N=_[B[0]],V=_[B[1]];z[F]=[c(Math.min(N[0],V[0]),-1/0),c(Math.min(N[1],V[1]),-1/0),c(Math.max(N[0],V[0]),1/0),c(Math.max(N[1],V[1]),1/0)]}return z}function p(_){for(var U=new Array(_.length),z=0;z<_.length;++z){var F=_[z];U[z]=[c(F[0],-1/0),c(F[1],-1/0),c(F[0],1/0),c(F[1],1/0)]}return U}function b(_,U,z){var F=[];return i(z,function(B,N){var V=U[B],X=U[N];if(!(V[0]===X[0]||V[0]===X[1]||V[1]===X[0]||V[1]===X[1])){var q=_[V[0]],te=_[V[1]],ne=_[X[0]],ce=_[X[1]];n(q,te,ne,ce)&&F.push([B,N])}}),F}function T(_,U,z,F){var B=[];return i(z,F,function(N,V){var X=U[N];if(!(X[0]===V||X[1]===V)){var q=_[V],te=_[X[0]],ne=_[X[1]];n(te,ne,q,q)&&B.push([N,V])}}),B}function P(_,U,z,F,B){var N,V,X=_.map(function(Me){return[f(Me[0]),f(Me[1])]});for(N=0;N<z.length;++N){var q=z[N];V=q[0];var te=q[1],ne=U[V],ce=U[te],Q=A(m(_[ne[0]]),m(_[ne[1]]),m(_[ce[0]]),m(_[ce[1]]));if(Q){var Z=_.length;_.push([l(Q[0]),l(Q[1])]),X.push(Q),F.push([V,Z],[te,Z])}}for(F.sort(function(Me,Ae){if(Me[0]!==Ae[0])return Me[0]-Ae[0];var ke=X[Me[1]],we=X[Ae[1]];return u(ke[0],we[0])||u(ke[1],we[1])}),N=F.length-1;N>=0;--N){var re=F[N];V=re[0];var Y=U[V],oe=Y[0],ue=Y[1],K=_[oe],$=_[ue];if((K[0]-$[0]||K[1]-$[1])<0){var le=oe;oe=ue,ue=le}Y[0]=oe;var ae=Y[1]=re[1],he;for(B&&(he=Y[2]);N>0&&F[N-1][0]===V;){var re=F[--N],xe=re[1];B?U.push([ae,xe,he]):U.push([ae,xe]),ae=xe}B?U.push([ae,ue,he]):U.push([ae,ue])}return X}function x(_,U,z){for(var F=U.length,B=new t(F),N=[],V=0;V<U.length;++V){var X=U[V],q=h(X[0]),te=h(X[1]);N.push([c(q[0],-1/0),c(te[0],-1/0),c(q[1],1/0),c(te[1],1/0)])}i(N,function(re,Y){B.link(re,Y)});for(var ne=!0,ce=new Array(F),V=0;V<F;++V){var Q=B.find(V);Q!==V&&(ne=!1,_[Q]=[Math.min(_[V][0],_[Q][0]),Math.min(_[V][1],_[Q][1])])}if(ne)return null;for(var Z=0,V=0;V<F;++V){var Q=B.find(V);Q===V?(ce[V]=Z,_[Z++]=_[V]):ce[V]=-1}_.length=Z;for(var V=0;V<F;++V)ce[V]<0&&(ce[V]=ce[B.find(V)]);return ce}function L(_,U){return _[0]-U[0]||_[1]-U[1]}function M(_,U){var z=_[0]-U[0]||_[1]-U[1];return z||(_[2]<U[2]?-1:_[2]>U[2]?1:0)}function s(_,U,z){if(_.length!==0){if(U)for(var F=0;F<_.length;++F){var B=_[F],N=U[B[0]],V=U[B[1]];B[0]=Math.min(N,V),B[1]=Math.max(N,V)}else for(var F=0;F<_.length;++F){var B=_[F],N=B[0],V=B[1];B[0]=Math.min(N,V),B[1]=Math.max(N,V)}z?_.sort(M):_.sort(L);for(var X=1,F=1;F<_.length;++F){var q=_[F-1],te=_[F];te[0]===q[0]&&te[1]===q[1]&&(!z||te[2]===q[2])||(_[X++]=te)}_.length=X}}function E(_,U,z){var F=x(_,[],p(_));return s(U,F,z),!!F}function w(_,U,z){var F=o(_,U),B=b(_,U,F),N=p(_),V=T(_,U,F,N),X=P(_,U,B,V,z),q=x(_,X);return s(U,q,z),q?!0:B.length>0||V.length>0}function O(_,U,z){var F;if(z){F=U;for(var B=new Array(U.length),N=0;N<U.length;++N){var V=U[N];B[N]=[V[0],V[1],z[N]]}U=B}for(var X=E(_,U,!!z);w(_,U,!!z);)X=!0;if(z&&X){F.length=0,z.length=0;for(var N=0;N<U.length;++N){var V=U[N];F.push([V[0],V[1]]),z.push(V[2])}}return X}},3637:function(v,d,r){v.exports=A;var t=r(6504),i=r(8697),n=r(5572),f=r(7721),u=r(544),l=r(2653),m=r(8987);function c(h,o){return n(t(h[0],o[1]),t(h[1],o[0]))}function A(h,o,p,b){var T=u(o,h),P=u(b,p),x=c(T,P);if(f(x)===0)return null;var L=u(h,p),M=c(P,L),s=i(M,x),E=m(T,s),w=l(h,E);return w}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,d,r){var t=r(3642),i=r(395);v.exports=n;function n(m){var c,A,h,o,p,b,T,P,s,x,L;if(m||(m={}),P=(m.nshades||72)-1,T=m.format||"hex",b=m.colormap,b||(b="jet"),typeof b=="string"){if(b=b.toLowerCase(),!t[b])throw Error(b+" not a supported colorscale");p=t[b]}else if(Array.isArray(b))p=b.slice();else throw Error("unsupported colormap option",b);if(p.length>P+1)throw new Error(b+" map requires nshades to be at least size "+p.length);Array.isArray(m.alpha)?m.alpha.length!==2?x=[1,1]:x=m.alpha.slice():typeof m.alpha=="number"?x=[m.alpha,m.alpha]:x=[1,1],c=p.map(function(O){return Math.round(O.index*P)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var M=p.map(function(O,_){var U=p[_].index,z=p[_].rgb.slice();return z.length===4&&z[3]>=0&&z[3]<=1||(z[3]=x[0]+(x[1]-x[0])*U),z}),s=[];for(L=0;L<c.length-1;++L){o=c[L+1]-c[L],A=M[L],h=M[L+1];for(var E=0;E<o;E++){var w=E/o;s.push([Math.round(i(A[0],h[0],w)),Math.round(i(A[1],h[1],w)),Math.round(i(A[2],h[2],w)),i(A[3],h[3],w)])}}return s.push(p[p.length-1].rgb.concat(x[1])),T==="hex"?s=s.map(u):T==="rgbaString"?s=s.map(l):T==="float"&&(s=s.map(f)),s}function f(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function u(m){for(var c,A="#",h=0;h<3;++h)c=m[h],c=c.toString(16),A+=("00"+c).substr(c.length);return A}function l(m){return"rgba("+m.join(",")+")"}},3140:function(v,d,r){v.exports=m;var t=r(3250),i=r(8572),n=r(9362),f=r(5382),u=r(8210);function l(c,A,h){var o=n(c[0],-A[0]),p=n(c[1],-A[1]),b=n(h[0],-A[0]),T=n(h[1],-A[1]),P=u(f(o,b),f(p,T));return P[P.length-1]>=0}function m(c,A,h,o){var p=t(A,h,o);if(p===0){var b=i(t(c,A,h)),T=i(t(c,A,o));if(b===T){if(b===0){var P=l(c,A,h),x=l(c,A,o);return P===x?0:P?1:-1}return 0}else{if(T===0)return b>0||l(c,A,o)?-1:1;if(b===0)return T>0||l(c,A,h)?1:-1}return i(T-b)}var L=t(c,A,h);if(L>0)return p>0&&t(c,A,o)>0?1:-1;if(L<0)return p>0||t(c,A,o)>0?1:-1;var M=t(c,A,o);return M>0||l(c,A,h)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var d=Math.min;function r(i,n){return i-n}function t(i,n){var f=i.length,u=i.length-n.length;if(u)return u;switch(f){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||d(i[0],i[1])-d(n[0],n[1]);case 3:var l=i[0]+i[1],m=n[0]+n[1];if(u=l+i[2]-(m+n[2]),u)return u;var c=d(i[0],i[1]),A=d(n[0],n[1]);return d(c,i[2])-d(A,n[2])||d(c+i[2],l)-d(A+n[2],m);case 4:var h=i[0],o=i[1],p=i[2],b=i[3],T=n[0],P=n[1],x=n[2],L=n[3];return h+o+p+b-(T+P+x+L)||d(h,o,p,b)-d(T,P,x,L,T)||d(h+o,h+p,h+b,o+p,o+b,p+b)-d(T+P,T+x,T+L,P+x,P+L,x+L)||d(h+o+p,h+o+b,h+p+b,o+p+b)-d(T+P+x,T+P+L,T+x+L,P+x+L);default:for(var M=i.slice().sort(r),s=n.slice().sort(r),E=0;E<f;++E)if(u=M[E]-s[E],u)return u;return 0}}},3788:function(v,d,r){var t=r(8507),i=r(2419);v.exports=n;function n(f,u){return t(f,u)||i(f)-i(u)}},7352:function(v,d,r){var t=r(5721),i=r(4750),n=r(2690);v.exports=f;function f(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var m=u[0].length;return m===0?[]:m===1?t(u):m===2?i(u):n(u,m)}},5721:function(v){v.exports=d;function d(r){for(var t=0,i=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},4750:function(v,d,r){v.exports=i;var t=r(3090);function i(n){var f=t(n),u=f.length;if(u<=2)return[];for(var l=new Array(u),m=f[u-1],c=0;c<u;++c){var A=f[c];l[c]=[m,A],m=A}return l}},2690:function(v,d,r){v.exports=u;var t=r(8954),i=r(3952);function n(l,m){for(var c=l.length,A=new Array(c),h=0;h<m.length;++h)A[h]=l[m[h]];for(var o=m.length,h=0;h<c;++h)m.indexOf(h)<0&&(A[o++]=l[h]);return A}function f(l,m){for(var c=l.length,A=m.length,h=0;h<c;++h)for(var o=l[h],p=0;p<o.length;++p){var b=o[p];if(b<A)o[p]=m[b];else{b=b-A;for(var T=0;T<A;++T)b>=m[T]&&(b+=1);o[p]=b}}return l}function u(l,m){try{return t(l,!0)}catch{var c=i(l);if(c.length<=m)return[];var A=n(l,c),h=t(A,!0);return f(h,c)}}},4769:function(v){function d(t,i,n,f,u,l){var m=6*u*u-6*u,c=3*u*u-4*u+1,A=-6*u*u+6*u,h=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var o=t.length-1;o>=0;--o)l[o]=m*t[o]+c*i[o]+A*n[o]+h*f[o];return l}return m*t+c*i+A*n[o]+h*f}function r(t,i,n,f,u,l){var m=u-1,c=u*u,A=m*m,h=(1+2*u)*A,o=u*A,p=c*(3-2*u),b=c*m;if(t.length){l||(l=new Array(t.length));for(var T=t.length-1;T>=0;--T)l[T]=h*t[T]+o*i[T]+p*n[T]+b*f[T];return l}return h*t+o*i+p*n+b*f}v.exports=r,v.exports.derivative=d},7642:function(v,d,r){var t=r(8954),i=r(1682);v.exports=l;function n(m,c){this.point=m,this.index=c}function f(m,c){for(var A=m.point,h=c.point,o=A.length,p=0;p<o;++p){var b=h[p]-A[p];if(b)return b}return 0}function u(m,c,A){if(m===1)return A?[[-1,0]]:[];var h=c.map(function(P,x){return[P[0],x]});h.sort(function(P,x){return P[0]-x[0]});for(var o=new Array(m-1),p=1;p<m;++p){var b=h[p-1],T=h[p];o[p-1]=[b[1],T[1]]}return A&&o.push([-1,o[0][1]],[o[m-1][1],-1]),o}function l(m,c){var A=m.length;if(A===0)return[];var h=m[0].length;if(h<1)return[];if(h===1)return u(A,m,c);for(var o=new Array(A),p=1,b=0;b<A;++b){for(var T=m[b],P=new Array(h+1),x=0,L=0;L<h;++L){var M=T[L];P[L]=M,x+=M*M}P[h]=x,o[b]=new n(P,b),p=Math.max(x,p)}i(o,f),A=o.length;for(var s=new Array(A+h+1),E=new Array(A+h+1),w=(h+1)*(h+1)*p,O=new Array(h+1),b=0;b<=h;++b)O[b]=0;O[h]=w,s[0]=O.slice(),E[0]=-1;for(var b=0;b<=h;++b){var P=O.slice();P[b]=1,s[b+1]=P,E[b+1]=-1}for(var b=0;b<A;++b){var _=o[b];s[b+h+1]=_.point,E[b+h+1]=_.index}var U=t(s,!1);if(c?U=U.filter(function(z){for(var F=0,B=0;B<=h;++B){var N=E[z[B]];if(N<0&&++F>=2)return!1;z[B]=N}return!0}):U=U.filter(function(z){for(var F=0;F<=h;++F){var B=E[z[F]];if(B<0)return!1;z[F]=B}return!0}),h&1)for(var b=0;b<U.length;++b){var _=U[b],P=_[0];_[0]=_[1],_[1]=P}return U}},2361:function(v){var d=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,d=!0,t[1]===1072693248){let n=function(l,m){return t[0]=l,t[1]=m,r[0]},f=function(l){return r[0]=l,t[0]},u=function(l){return r[0]=l,t[1]};v.exports=function(m){return r[0]=m,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else if(t[0]===1072693248){let n=function(l,m){return t[1]=l,t[0]=m,r[0]},f=function(l){return r[0]=l,t[1]},u=function(l){return r[0]=l,t[0]};v.exports=function(m){return r[0]=m,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else d=!1}if(!d){let n=function(l,m){return i.writeUInt32LE(l,0,!0),i.writeUInt32LE(m,4,!0),i.readDoubleLE(0,!0)},f=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(0,!0)},u=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(4,!0)};var i=new Buffer(8);v.exports=function(m){return i.writeDoubleLE(m,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var f=v.exports.hi(n);return(f<<1>>>21)-1023},v.exports.fraction=function(n){var f=v.exports.lo(n),u=v.exports.hi(n),l=u&(1<<20)-1;return u&2146435072&&(l+=1048576),[f,l]},v.exports.denormalized=function(n){var f=v.exports.hi(n);return!(f&2146435072)}},1338:function(v){function d(i,n,f){var u=i[f]|0;if(u<=0)return[];var l=new Array(u),m;if(f===i.length-1)for(m=0;m<u;++m)l[m]=n;else for(m=0;m<u;++m)l[m]=d(i,n,f+1);return l}function r(i,n){var f,u;for(f=new Array(i),u=0;u<i;++u)f[u]=n;return f}function t(i,n){switch(typeof n>"u"&&(n=0),typeof i){case"number":if(i>0)return r(i|0,n);break;case"object":if(typeof i.length=="number")return d(i,n,0);break}return[]}v.exports=t},3134:function(v,d,r){v.exports=i;var t=r(1682);function i(n,f){var u=n.length;if(typeof f!="number"){f=0;for(var l=0;l<u;++l){var m=n[l];f=Math.max(f,m[0],m[1])}f=(f|0)+1}f=f|0;for(var c=new Array(f),l=0;l<f;++l)c[l]=[];for(var l=0;l<u;++l){var m=n[l];c[m[0]].push(m[1]),c[m[1]].push(m[0])}for(var A=0;A<f;++A)t(c[A],function(h,o){return h-o});return c}},5033:function(v){v.exports=d;function d(r,t,i){var n=t||0,f=i||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},9215:function(v,d,r){v.exports=m;var t=r(4769),i=r(2478);function n(c,A,h){return Math.min(A,Math.max(c,h))}function f(c,A,h){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=c.slice().reverse(),this._velocity=A.slice().reverse(),this._time=[h],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var u=f.prototype;u.flush=function(c){var A=i.gt(this._time,c)-1;A<=0||(this._time.splice(0,A),this._state.splice(0,A*this.dimension),this._velocity.splice(0,A*this.dimension))},u.curve=function(c){var A=this._time,h=A.length,o=i.le(A,c),p=this._scratch[0],b=this._state,T=this._velocity,P=this.dimension,x=this.bounds;if(o<0)for(var L=P-1,M=0;M<P;++M,--L)p[M]=b[L];else if(o>=h-1)for(var L=b.length-1,s=c-A[h-1],M=0;M<P;++M,--L)p[M]=b[L]+s*T[L];else{for(var L=P*(o+1)-1,E=A[o],w=A[o+1],O=w-E||1,_=this._scratch[1],U=this._scratch[2],z=this._scratch[3],F=this._scratch[4],B=!0,M=0;M<P;++M,--L)_[M]=b[L],z[M]=T[L]*O,U[M]=b[L+P],F[M]=T[L+P]*O,B=B&&_[M]===U[M]&&z[M]===F[M]&&z[M]===0;if(B)for(var M=0;M<P;++M)p[M]=_[M];else t(_,z,U,F,(c-E)/O,p)}for(var N=x[0],V=x[1],M=0;M<P;++M)p[M]=n(N[M],V[M],p[M]);return p},u.dcurve=function(c){var A=this._time,h=A.length,o=i.le(A,c),p=this._scratch[0],b=this._state,T=this._velocity,P=this.dimension;if(o>=h-1){var x=b.length-1;c-A[h-1];for(var L=0;L<P;++L,--x)p[L]=T[x]}else{for(var x=P*(o+1)-1,M=A[o],s=A[o+1],E=s-M||1,w=this._scratch[1],O=this._scratch[2],_=this._scratch[3],U=this._scratch[4],z=!0,L=0;L<P;++L,--x)w[L]=b[x],_[L]=T[x]*E,O[L]=b[x+P],U[L]=T[x+P]*E,z=z&&w[L]===O[L]&&_[L]===U[L]&&_[L]===0;if(z)for(var L=0;L<P;++L)p[L]=0;else{t.derivative(w,_,O,U,(c-M)/E,p);for(var L=0;L<P;++L)p[L]/=E}}return p},u.lastT=function(){var c=this._time;return c[c.length-1]},u.stable=function(){for(var c=this._velocity,A=c.length,h=this.dimension-1;h>=0;--h)if(c[--A])return!1;return!0},u.jump=function(c){var A=this.lastT(),h=this.dimension;if(!(c<A||arguments.length!==h+1)){var o=this._state,p=this._velocity,b=o.length-this.dimension,T=this.bounds,P=T[0],x=T[1];this._time.push(A,c);for(var L=0;L<2;++L)for(var M=0;M<h;++M)o.push(o[b++]),p.push(0);this._time.push(c);for(var M=h;M>0;--M)o.push(n(P[M-1],x[M-1],arguments[M])),p.push(0)}},u.push=function(c){var A=this.lastT(),h=this.dimension;if(!(c<A||arguments.length!==h+1)){var o=this._state,p=this._velocity,b=o.length-this.dimension,T=c-A,P=this.bounds,x=P[0],L=P[1],M=T>1e-6?1/T:0;this._time.push(c);for(var s=h;s>0;--s){var E=n(x[s-1],L[s-1],arguments[s]);o.push(E),p.push((E-o[b++])*M)}}},u.set=function(c){var A=this.dimension;if(!(c<this.lastT()||arguments.length!==A+1)){var h=this._state,o=this._velocity,p=this.bounds,b=p[0],T=p[1];this._time.push(c);for(var P=A;P>0;--P)h.push(n(b[P-1],T[P-1],arguments[P])),o.push(0)}},u.move=function(c){var A=this.lastT(),h=this.dimension;if(!(c<=A||arguments.length!==h+1)){var o=this._state,p=this._velocity,b=o.length-this.dimension,T=this.bounds,P=T[0],x=T[1],L=c-A,M=L>1e-6?1/L:0;this._time.push(c);for(var s=h;s>0;--s){var E=arguments[s];o.push(n(P[s-1],x[s-1],o[b++]+E)),p.push(E*M)}}},u.idle=function(c){var A=this.lastT();if(!(c<A)){var h=this.dimension,o=this._state,p=this._velocity,b=o.length-h,T=this.bounds,P=T[0],x=T[1],L=c-A;this._time.push(c);for(var M=h-1;M>=0;--M)o.push(n(P[M],x[M],o[b]+L*p[b])),p.push(0),b+=1}};function l(c){for(var A=new Array(c),h=0;h<c;++h)A[h]=0;return A}function m(c,A,h){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof c=="number"){var o=l(c);return new f(o,o,0)}else return new f(c,l(c.length),0);case 2:if(typeof A=="number"){var o=l(c.length);return new f(c,o,+A)}else h=0;case 3:if(c.length!==A.length)throw new Error("state and velocity lengths must match");return new f(c,A,h)}}},3840:function(v){v.exports=P;var d=0,r=1;function t(x,L,M,s,E,w){this._color=x,this.key=L,this.value=M,this.left=s,this.right=E,this._count=w}function i(x){return new t(x._color,x.key,x.value,x.left,x.right,x._count)}function n(x,L){return new t(x,L.key,L.value,L.left,L.right,L._count)}function f(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function u(x,L){this._compare=x,this.root=L}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var x=[];return this.forEach(function(L,M){x.push(L)}),x}}),Object.defineProperty(l,"values",{get:function(){var x=[];return this.forEach(function(L,M){x.push(M)}),x}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(x,L){for(var M=this._compare,s=this.root,E=[],w=[];s;){var O=M(x,s.key);E.push(s),w.push(O),O<=0?s=s.left:s=s.right}E.push(new t(d,x,L,null,null,1));for(var _=E.length-2;_>=0;--_){var s=E[_];w[_]<=0?E[_]=new t(s._color,s.key,s.value,E[_+1],s.right,s._count+1):E[_]=new t(s._color,s.key,s.value,s.left,E[_+1],s._count+1)}for(var _=E.length-1;_>1;--_){var U=E[_-1],s=E[_];if(U._color===r||s._color===r)break;var z=E[_-2];if(z.left===U)if(U.left===s){var F=z.right;if(F&&F._color===d)U._color=r,z.right=n(r,F),z._color=d,_-=1;else{if(z._color=d,z.left=U.right,U._color=r,U.right=z,E[_-2]=U,E[_-1]=s,f(z),f(U),_>=3){var B=E[_-3];B.left===z?B.left=U:B.right=U}break}}else{var F=z.right;if(F&&F._color===d)U._color=r,z.right=n(r,F),z._color=d,_-=1;else{if(U.right=s.left,z._color=d,z.left=s.right,s._color=r,s.left=U,s.right=z,E[_-2]=s,E[_-1]=U,f(z),f(U),f(s),_>=3){var B=E[_-3];B.left===z?B.left=s:B.right=s}break}}else if(U.right===s){var F=z.left;if(F&&F._color===d)U._color=r,z.left=n(r,F),z._color=d,_-=1;else{if(z._color=d,z.right=U.left,U._color=r,U.left=z,E[_-2]=U,E[_-1]=s,f(z),f(U),_>=3){var B=E[_-3];B.right===z?B.right=U:B.left=U}break}}else{var F=z.left;if(F&&F._color===d)U._color=r,z.left=n(r,F),z._color=d,_-=1;else{if(U.left=s.right,z._color=d,z.right=s.left,s._color=r,s.right=U,s.left=z,E[_-2]=s,E[_-1]=U,f(z),f(U),f(s),_>=3){var B=E[_-3];B.right===z?B.right=s:B.left=s}break}}}return E[0]._color=r,new u(M,E[0])};function m(x,L){if(L.left){var M=m(x,L.left);if(M)return M}var M=x(L.key,L.value);if(M)return M;if(L.right)return m(x,L.right)}function c(x,L,M,s){var E=L(x,s.key);if(E<=0){if(s.left){var w=c(x,L,M,s.left);if(w)return w}var w=M(s.key,s.value);if(w)return w}if(s.right)return c(x,L,M,s.right)}function A(x,L,M,s,E){var w=M(x,E.key),O=M(L,E.key),_;if(w<=0&&(E.left&&(_=A(x,L,M,s,E.left),_)||O>0&&(_=s(E.key,E.value),_)))return _;if(O>0&&E.right)return A(x,L,M,s,E.right)}l.forEach=function(L,M,s){if(this.root)switch(arguments.length){case 1:return m(L,this.root);case 2:return c(M,this._compare,L,this.root);case 3:return this._compare(M,s)>=0?void 0:A(M,s,this._compare,L,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var x=[],L=this.root;L;)x.push(L),L=L.left;return new h(this,x)}}),Object.defineProperty(l,"end",{get:function(){for(var x=[],L=this.root;L;)x.push(L),L=L.right;return new h(this,x)}}),l.at=function(x){if(x<0)return new h(this,[]);for(var L=this.root,M=[];;){if(M.push(L),L.left){if(x<L.left._count){L=L.left;continue}x-=L.left._count}if(!x)return new h(this,M);if(x-=1,L.right){if(x>=L.right._count)break;L=L.right}else break}return new h(this,[])},l.ge=function(x){for(var L=this._compare,M=this.root,s=[],E=0;M;){var w=L(x,M.key);s.push(M),w<=0&&(E=s.length),w<=0?M=M.left:M=M.right}return s.length=E,new h(this,s)},l.gt=function(x){for(var L=this._compare,M=this.root,s=[],E=0;M;){var w=L(x,M.key);s.push(M),w<0&&(E=s.length),w<0?M=M.left:M=M.right}return s.length=E,new h(this,s)},l.lt=function(x){for(var L=this._compare,M=this.root,s=[],E=0;M;){var w=L(x,M.key);s.push(M),w>0&&(E=s.length),w<=0?M=M.left:M=M.right}return s.length=E,new h(this,s)},l.le=function(x){for(var L=this._compare,M=this.root,s=[],E=0;M;){var w=L(x,M.key);s.push(M),w>=0&&(E=s.length),w<0?M=M.left:M=M.right}return s.length=E,new h(this,s)},l.find=function(x){for(var L=this._compare,M=this.root,s=[];M;){var E=L(x,M.key);if(s.push(M),E===0)return new h(this,s);E<=0?M=M.left:M=M.right}return new h(this,[])},l.remove=function(x){var L=this.find(x);return L?L.remove():this},l.get=function(x){for(var L=this._compare,M=this.root;M;){var s=L(x,M.key);if(s===0)return M.value;s<=0?M=M.left:M=M.right}};function h(x,L){this.tree=x,this._stack=L}var o=h.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new h(this.tree,this._stack.slice())};function p(x,L){x.key=L.key,x.value=L.value,x.left=L.left,x.right=L.right,x._color=L._color,x._count=L._count}function b(x){for(var L,M,s,E,w=x.length-1;w>=0;--w){if(L=x[w],w===0){L._color=r;return}if(M=x[w-1],M.left===L){if(s=M.right,s.right&&s.right._color===d){if(s=M.right=i(s),E=s.right=i(s.right),M.right=s.left,s.left=M,s.right=E,s._color=M._color,L._color=r,M._color=r,E._color=r,f(M),f(s),w>1){var O=x[w-2];O.left===M?O.left=s:O.right=s}x[w-1]=s;return}else if(s.left&&s.left._color===d){if(s=M.right=i(s),E=s.left=i(s.left),M.right=E.left,s.left=E.right,E.left=M,E.right=s,E._color=M._color,M._color=r,s._color=r,L._color=r,f(M),f(s),f(E),w>1){var O=x[w-2];O.left===M?O.left=E:O.right=E}x[w-1]=E;return}if(s._color===r)if(M._color===d){M._color=r,M.right=n(d,s);return}else{M.right=n(d,s);continue}else{if(s=i(s),M.right=s.left,s.left=M,s._color=M._color,M._color=d,f(M),f(s),w>1){var O=x[w-2];O.left===M?O.left=s:O.right=s}x[w-1]=s,x[w]=M,w+1<x.length?x[w+1]=L:x.push(L),w=w+2}}else{if(s=M.left,s.left&&s.left._color===d){if(s=M.left=i(s),E=s.left=i(s.left),M.left=s.right,s.right=M,s.left=E,s._color=M._color,L._color=r,M._color=r,E._color=r,f(M),f(s),w>1){var O=x[w-2];O.right===M?O.right=s:O.left=s}x[w-1]=s;return}else if(s.right&&s.right._color===d){if(s=M.left=i(s),E=s.right=i(s.right),M.left=E.right,s.right=E.left,E.right=M,E.left=s,E._color=M._color,M._color=r,s._color=r,L._color=r,f(M),f(s),f(E),w>1){var O=x[w-2];O.right===M?O.right=E:O.left=E}x[w-1]=E;return}if(s._color===r)if(M._color===d){M._color=r,M.left=n(d,s);return}else{M.left=n(d,s);continue}else{if(s=i(s),M.left=s.right,s.right=M,s._color=M._color,M._color=d,f(M),f(s),w>1){var O=x[w-2];O.right===M?O.right=s:O.left=s}x[w-1]=s,x[w]=M,w+1<x.length?x[w+1]=L:x.push(L),w=w+2}}}}o.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var L=new Array(x.length),M=x[x.length-1];L[L.length-1]=new t(M._color,M.key,M.value,M.left,M.right,M._count);for(var s=x.length-2;s>=0;--s){var M=x[s];M.left===x[s+1]?L[s]=new t(M._color,M.key,M.value,L[s+1],M.right,M._count):L[s]=new t(M._color,M.key,M.value,M.left,L[s+1],M._count)}if(M=L[L.length-1],M.left&&M.right){var E=L.length;for(M=M.left;M.right;)L.push(M),M=M.right;var w=L[E-1];L.push(new t(M._color,w.key,w.value,M.left,M.right,M._count)),L[E-1].key=M.key,L[E-1].value=M.value;for(var s=L.length-2;s>=E;--s)M=L[s],L[s]=new t(M._color,M.key,M.value,M.left,L[s+1],M._count);L[E-1].left=L[E]}if(M=L[L.length-1],M._color===d){var O=L[L.length-2];O.left===M?O.left=null:O.right===M&&(O.right=null),L.pop();for(var s=0;s<L.length;++s)L[s]._count--;return new u(this.tree._compare,L[0])}else if(M.left||M.right){M.left?p(M,M.left):M.right&&p(M,M.right),M._color=r;for(var s=0;s<L.length-1;++s)L[s]._count--;return new u(this.tree._compare,L[0])}else{if(L.length===1)return new u(this.tree._compare,null);for(var s=0;s<L.length;++s)L[s]._count--;var _=L[L.length-2];b(L),_.left===M?_.left=null:_.right=null}return new u(this.tree._compare,L[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var x=0,L=this._stack;if(L.length===0){var M=this.tree.root;return M?M._count:0}else L[L.length-1].left&&(x=L[L.length-1].left._count);for(var s=L.length-2;s>=0;--s)L[s+1]===L[s].right&&(++x,L[s].left&&(x+=L[s].left._count));return x},enumerable:!0}),o.next=function(){var x=this._stack;if(x.length!==0){var L=x[x.length-1];if(L.right)for(L=L.right;L;)x.push(L),L=L.left;else for(x.pop();x.length>0&&x[x.length-1].right===L;)L=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var L=x.length-1;L>0;--L)if(x[L-1].left===x[L])return!0;return!1}}),o.update=function(x){var L=this._stack;if(L.length===0)throw new Error("Can't update empty node!");var M=new Array(L.length),s=L[L.length-1];M[M.length-1]=new t(s._color,s.key,x,s.left,s.right,s._count);for(var E=L.length-2;E>=0;--E)s=L[E],s.left===L[E+1]?M[E]=new t(s._color,s.key,s.value,M[E+1],s.right,s._count):M[E]=new t(s._color,s.key,s.value,s.left,M[E+1],s._count);return new u(this.tree._compare,M[0])},o.prev=function(){var x=this._stack;if(x.length!==0){var L=x[x.length-1];if(L.left)for(L=L.left;L;)x.push(L),L=L.right;else for(x.pop();x.length>0&&x[x.length-1].left===L;)L=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var L=x.length-1;L>0;--L)if(x[L-1].right===x[L])return!0;return!1}});function T(x,L){return x<L?-1:x>L?1:0}function P(x){return new u(x||T,null)}},3837:function(v,d,r){v.exports=s;var t=r(4935),i=r(501),n=r(5304),f=r(6429),u=r(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(E,w){return E[0]=w[0],E[1]=w[1],E[2]=w[2],E}function c(E){this.gl=E,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(E)}var A=c.prototype;A.update=function(E){E=E||{};function w(Q,Z,re){if(re in E){var Y=E[re],oe=this[re],ue;(Q?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[re]=ue=[Z(Y[0]),Z(Y[1]),Z(Y[2])]:this[re]=ue=[Z(Y),Z(Y),Z(Y)];for(var K=0;K<3;++K)if(ue[K]!==oe[K])return!0}return!1}var O=w.bind(this,!1,Number),_=w.bind(this,!1,Boolean),U=w.bind(this,!1,String),z=w.bind(this,!0,function(Q){if(Array.isArray(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),F,B=!1,N=!1;if("bounds"in E)for(var V=E.bounds,X=0;X<2;++X)for(var q=0;q<3;++q)V[X][q]!==this.bounds[X][q]&&(N=!0),this.bounds[X][q]=V[X][q];if("ticks"in E){F=E.ticks,B=!0,this.autoTicks=!1;for(var X=0;X<3;++X)this.tickSpacing[X]=0}else O("tickSpacing")&&(this.autoTicks=!0,N=!0);if(this._firstInit&&("ticks"in E||"tickSpacing"in E||(this.autoTicks=!0),N=!0,B=!0,this._firstInit=!1),N&&this.autoTicks&&(F=u.create(this.bounds,this.tickSpacing),B=!0),B){for(var X=0;X<3;++X)F[X].sort(function(Z,re){return Z.x-re.x});u.equal(F,this.ticks)?B=!1:this.ticks=F}_("tickEnable"),U("tickFont")&&(B=!0),U("tickFontStyle")&&(B=!0),U("tickFontWeight")&&(B=!0),U("tickFontVariant")&&(B=!0),O("tickSize"),O("tickAngle"),O("tickPad"),z("tickColor");var te=U("labels");U("labelFont")&&(te=!0),U("labelFontStyle")&&(te=!0),U("labelFontWeight")&&(te=!0),U("labelFontVariant")&&(te=!0),_("labelEnable"),O("labelSize"),O("labelPad"),z("labelColor"),_("lineEnable"),_("lineMirror"),O("lineWidth"),z("lineColor"),_("lineTickEnable"),_("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),z("lineTickColor"),_("gridEnable"),O("gridWidth"),z("gridColor"),_("zeroEnable"),z("zeroLineColor"),O("zeroLineWidth"),_("backgroundEnable"),z("backgroundColor");var ne=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],ce=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(te||B)&&this._text.update(this.bounds,this.labels,ne,this.ticks,ce):this._text=t(this.gl,this.bounds,this.labels,ne,this.ticks,ce),this._lines&&B&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new h,new h,new h];function p(E,w,O,_,U){for(var z=E.primalOffset,F=E.primalMinor,B=E.mirrorOffset,N=E.mirrorMinor,V=_[w],X=0;X<3;++X)if(w!==X){var q=z,te=B,ne=F,ce=N;V&1<<X&&(q=B,te=z,ne=N,ce=F),q[X]=O[0][X],te[X]=O[1][X],U[X]>0?(ne[X]=-1,ce[X]=0):(ne[X]=0,ce[X]=1)}}var b=[0,0,0],T={model:l,view:l,projection:l,_ortho:!1};A.isOpaque=function(){return!0},A.isTransparent=function(){return!1},A.drawTransparent=function(E){};var P=0,x=[0,0,0],L=[0,0,0],M=[0,0,0];A.draw=function(E){E=E||T;for(var re=this.gl,w=E.model||l,O=E.view||l,_=E.projection||l,U=this.bounds,z=E._ortho||!1,F=f(w,O,_,U,z),B=F.cubeEdges,N=F.axis,V=O[12],X=O[13],q=O[14],te=O[15],ne=z?2:1,ce=ne*this.pixelRatio*(_[3]*V+_[7]*X+_[11]*q+_[15]*te)/re.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=B[Q],this.lastCubeProps.axis[Q]=N[Q];for(var Z=o,Q=0;Q<3;++Q)p(o[Q],Q,this.bounds,B,N);for(var re=this.gl,Y=b,Q=0;Q<3;++Q)this.backgroundEnable[Q]?Y[Q]=N[Q]:Y[Q]=0;this._background.draw(w,O,_,U,Y,this.backgroundColor),this._lines.bind(w,O,_,this);for(var Q=0;Q<3;++Q){var oe=[0,0,0];N[Q]>0?oe[Q]=U[1][Q]:oe[Q]=U[0][Q];for(var ue=0;ue<2;++ue){var K=(Q+1+ue)%3,$=(Q+1+(ue^1))%3;this.gridEnable[K]&&this._lines.drawGrid(K,$,this.bounds,oe,this.gridColor[K],this.gridWidth[K]*this.pixelRatio)}for(var ue=0;ue<2;++ue){var K=(Q+1+ue)%3,$=(Q+1+(ue^1))%3;this.zeroEnable[$]&&Math.min(U[0][$],U[1][$])<=0&&Math.max(U[0][$],U[1][$])>=0&&this._lines.drawZero(K,$,this.bounds,oe,this.zeroLineColor[$],this.zeroLineWidth[$]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,Z[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,Z[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var le=m(x,Z[Q].primalMinor),ae=m(L,Z[Q].mirrorMinor),he=this.lineTickLength,ue=0;ue<3;++ue){var xe=ce/w[5*ue];le[ue]*=he[ue]*xe,ae[ue]*=he[ue]*xe}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,Z[Q].primalOffset,le,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,Z[Q].mirrorOffset,ae,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(w,O,_,this.pixelRatio);var Me,Ae=.5,ke,we;function Ee(He){we=[0,0,0],we[He]=1}function be(He,st,vt){var lt=(He+1)%3,et=(He+2)%3,ct=st[lt],ht=st[et],mt=vt[lt],xt=vt[et];if(ct>0&&xt>0){Ee(lt);return}else if(ct>0&&xt<0){Ee(lt);return}else if(ct<0&&xt>0){Ee(lt);return}else if(ct<0&&xt<0){Ee(lt);return}else if(ht>0&&mt>0){Ee(et);return}else if(ht>0&&mt<0){Ee(et);return}else if(ht<0&&mt>0){Ee(et);return}else if(ht<0&&mt<0){Ee(et);return}}for(var Q=0;Q<3;++Q){for(var Le=Z[Q].primalMinor,Ue=Z[Q].mirrorMinor,Ve=m(M,Z[Q].primalOffset),ue=0;ue<3;++ue)this.lineTickEnable[Q]&&(Ve[ue]+=ce*Le[ue]*Math.max(this.lineTickLength[ue],0)/w[5*ue]);var Fe=[0,0,0];if(Fe[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,ke=1,Me=[this.tickAlign[Q],Ae,ke],Me[0]==="auto"?Me[0]=P:Me[0]=parseInt(""+Me[0]),we=[0,0,0],be(Q,Le,Ue);for(var ue=0;ue<3;++ue)Ve[ue]+=ce*Le[ue]*this.tickPad[ue]/w[5*ue];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],Ve,this.tickColor[Q],Fe,we,Me)}if(this.labelEnable[Q]){ke=0,we=[0,0,0],this.labels[Q].length>4&&(Ee(Q),ke=1),Me=[this.labelAlign[Q],Ae,ke],Me[0]==="auto"?Me[0]=P:Me[0]=parseInt(""+Me[0]);for(var ue=0;ue<3;++ue)Ve[ue]+=ce*Le[ue]*this.labelPad[ue]/w[5*ue];Ve[Q]+=.5*(U[0][Q]+U[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],Ve,this.labelColor[Q],[0,0,0],we,Me)}}this._text.unbind()},A.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function s(E,w){var O=new c(E);return O.update(w),O}},5304:function(v,d,r){v.exports=l;var t=r(2762),i=r(8116),n=r(1879).bg;function f(m,c,A,h){this.gl=m,this.buffer=c,this.vao=A,this.shader=h}var u=f.prototype;u.draw=function(m,c,A,h,o,p){for(var b=!1,T=0;T<3;++T)b=b||o[T];if(b){var P=this.gl;P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:c,projection:A,bounds:h,enable:o,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),P.disable(P.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(m){for(var c=[],A=[],h=0,o=0;o<3;++o)for(var p=(o+1)%3,b=(o+2)%3,T=[0,0,0],P=[0,0,0],x=-1;x<=1;x+=2){A.push(h,h+2,h+1,h+1,h+2,h+3),T[o]=x,P[o]=x;for(var L=-1;L<=1;L+=2){T[p]=L;for(var M=-1;M<=1;M+=2)T[b]=M,c.push(T[0],T[1],T[2],P[0],P[1],P[2]),h+=1}var s=p;p=b,b=s}var E=t(m,new Float32Array(c)),w=t(m,new Uint16Array(A),m.ELEMENT_ARRAY_BUFFER),O=i(m,[{buffer:E,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:m.FLOAT,size:3,offset:12,stride:24}],w),_=n(m);return _.attributes.position.location=0,_.attributes.normal.location=1,new f(m,E,O,_)}},6429:function(v,d,r){v.exports=x;var t=r(8828),i=r(6760),n=r(5202),f=r(3250),u=new Array(16),l=new Array(8),m=new Array(8),c=new Array(3),A=[0,0,0];(function(){for(var L=0;L<8;++L)l[L]=[1,1,1,1],m[L]=[1,1,1]})();function h(L,M,s){for(var E=0;E<4;++E){L[E]=s[12+E];for(var w=0;w<3;++w)L[E]+=M[w]*s[4*w+E]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(L){for(var M=0;M<o.length;++M)if(L=n.positive(L,o[M]),L.length<3)return 0;for(var s=L[0],E=s[0]/s[3],w=s[1]/s[3],O=0,M=1;M+1<L.length;++M){var _=L[M],U=L[M+1],z=_[0]/_[3],F=_[1]/_[3],B=U[0]/U[3],N=U[1]/U[3],V=z-E,X=F-w,q=B-E,te=N-w;O+=Math.abs(V*te-X*q)}return O}var b=[1,1,1],T=[0,0,0],P={cubeEdges:b,axis:T};function x(L,M,s,E,w){i(u,M,L),i(u,s,u);for(var O=0,_=0;_<2;++_){c[2]=E[_][2];for(var U=0;U<2;++U){c[1]=E[U][1];for(var z=0;z<2;++z)c[0]=E[z][0],h(l[O],c,u),O+=1}}for(var F=-1,_=0;_<8;++_){for(var B=l[_][3],N=0;N<3;++N)m[_][N]=l[_][N]/B;w&&(m[_][2]*=-1),B<0&&(F<0||m[_][2]<m[F][2])&&(F=_)}if(F<0){F=0;for(var V=0;V<3;++V){for(var X=(V+2)%3,q=(V+1)%3,te=-1,ne=-1,ce=0;ce<2;++ce){var Q=ce<<V,Z=Q+(ce<<X)+(1-ce<<q),re=Q+(1-ce<<X)+(ce<<q);f(m[Q],m[Z],m[re],A)<0||(ce?te=1:ne=1)}if(te<0||ne<0){ne>te&&(F|=1<<V);continue}for(var ce=0;ce<2;++ce){var Q=ce<<V,Z=Q+(ce<<X)+(1-ce<<q),re=Q+(1-ce<<X)+(ce<<q),Y=p([l[Q],l[Z],l[re],l[Q+(1<<X)+(1<<q)]]);ce?te=Y:ne=Y}if(ne>te){F|=1<<V;continue}}}for(var oe=7^F,ue=-1,_=0;_<8;++_)_===F||_===oe||(ue<0||m[ue][1]>m[_][1])&&(ue=_);for(var K=-1,_=0;_<3;++_){var $=ue^1<<_;if(!($===F||$===oe)){K<0&&(K=$);var q=m[$];q[0]<m[K][0]&&(K=$)}}for(var le=-1,_=0;_<3;++_){var $=ue^1<<_;if(!($===F||$===oe||$===K)){le<0&&(le=$);var q=m[$];q[0]>m[le][0]&&(le=$)}}var ae=b;ae[0]=ae[1]=ae[2]=0,ae[t.log2(K^ue)]=ue&K,ae[t.log2(ue^le)]=ue&le;var he=le^7;he===F||he===oe?(he=K^7,ae[t.log2(le^he)]=he&le):ae[t.log2(K^he)]=he&K;for(var xe=T,Me=F,V=0;V<3;++V)Me&1<<V?xe[V]=-1:xe[V]=1;return P}},501:function(v,d,r){v.exports=b;var t=r(2762),i=r(8116),n=r(1879).n,f=[0,0,0],u=[0,0,0],l=[0,0,0],m=[0,0,0],c=[1,1];function A(T){return T[0]=T[1]=T[2]=0,T}function h(T,P){return T[0]=P[0],T[1]=P[1],T[2]=P[2],T}function o(T,P,x,L,M,s,E,w){this.gl=T,this.vertBuffer=P,this.vao=x,this.shader=L,this.tickCount=M,this.tickOffset=s,this.gridCount=E,this.gridOffset=w}var p=o.prototype;p.bind=function(T,P,x){this.shader.bind(),this.shader.uniforms.model=T,this.shader.uniforms.view=P,this.shader.uniforms.projection=x,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(T,P,x,L,M){var s=A(u);this.shader.uniforms.majorAxis=u,s[T]=P[1][T]-P[0][T],this.shader.uniforms.minorAxis=s;var E=h(m,x);E[T]+=P[0][T],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=L;var w=A(l);w[(T+2)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6);var w=A(l);w[(T+1)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(T,P,x,L,M){if(this.tickCount[T]){var s=A(f);s[T]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=P,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=L,this.shader.uniforms.lineWidth=M;var E=A(l);E[T]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[T],this.tickOffset[T])}},p.drawGrid=function(T,P,x,L,M,s){if(this.gridCount[T]){var E=A(u);E[P]=x[1][P]-x[0][P],this.shader.uniforms.minorAxis=E;var w=h(m,L);w[P]+=x[0][P],this.shader.uniforms.offset=w;var O=A(f);O[T]=1,this.shader.uniforms.majorAxis=O;var _=A(l);_[T]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,this.gridCount[T],this.gridOffset[T])}},p.drawZero=function(T,P,x,L,M,s){var E=A(u);this.shader.uniforms.majorAxis=E,E[T]=x[1][T]-x[0][T],this.shader.uniforms.minorAxis=E;var w=h(m,L);w[T]+=x[0][T],this.shader.uniforms.offset=w;var O=A(l);O[P]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function b(T,P,x){var L=[],M=[0,0,0],s=[0,0,0],E=[0,0,0],w=[0,0,0];L.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var O=0;O<3;++O){for(var z=L.length/3|0,_=0;_<x[O].length;++_){var U=+x[O][_].x;L.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=L.length/3|0;M[O]=z,s[O]=B-z;for(var z=L.length/3|0,F=0;F<x[O].length;++F){var U=+x[O][F].x;L.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=L.length/3|0;E[O]=z,w[O]=B-z}var N=t(T,new Float32Array(L)),V=i(T,[{buffer:N,type:T.FLOAT,size:3,stride:0,offset:0}]),X=n(T);return X.attributes.position.location=0,new o(T,N,V,X,s,M,w,E)}},1879:function(v,d,r){var t=r(3236),i=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.n=function(A){return i(A,n,f,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);d.Q=function(A){return i(A,u,l,null,[{name:"position",type:"vec3"}])};var m=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);d.bg=function(A){return i(A,m,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,d,r){v.exports=p;var t=r(2762),i=r(8116),n=r(4359),f=r(1879).Q,u=window||g.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var m=3;function c(b,T,P,x){this.gl=b,this.shader=T,this.buffer=P,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var A=c.prototype,h=[0,0];A.bind=function(b,T,P,x){this.vao.bind(),this.shader.bind();var L=this.shader.uniforms;L.model=b,L.view=T,L.projection=P,L.pixelScale=x,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},A.unbind=function(){this.vao.unbind()},A.update=function(b,T,P,x,L){var M=[];function s(V,X,q,te,ne,ce){var Q=[q.style,q.weight,q.variant,q.family].join("_"),Z=l[Q];Z||(Z=l[Q]={});var re=Z[X];re||(re=Z[X]=o(X,{triangles:!0,font:q.family,fontStyle:q.style,fontWeight:q.weight,fontVariant:q.variant,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:ce}));for(var Y=(te||12)/12,oe=re.positions,ue=re.cells,K=0,$=ue.length;K<$;++K)for(var le=ue[K],ae=2;ae>=0;--ae){var he=oe[le[ae]];M.push(Y*he[0],-Y*he[1],V)}}for(var E=[0,0,0],w=[0,0,0],O=[0,0,0],_=[0,0,0],U=1.25,z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){O[F]=M.length/m|0,s(.5*(b[0][F]+b[1][F]),T[F],P[F],12,U,z),_[F]=(M.length/m|0)-O[F],E[F]=M.length/m|0;for(var B=0;B<x[F].length;++B)if(x[F][B].text){var N={family:x[F][B].font||L[F].family,style:L[F].fontStyle||L[F].style,weight:L[F].fontWeight||L[F].weight,variant:L[F].fontVariant||L[F].variant};s(x[F][B].x,x[F][B].text,N,x[F][B].fontSize||12,U,z)}w[F]=(M.length/m|0)-E[F]}this.buffer.update(M),this.tickOffset=E,this.tickCount=w,this.labelOffset=O,this.labelCount=_},A.drawTicks=function(b,T,P,x,L,M,s,E){this.tickCount[b]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=L,this.shader.uniforms.angle=P,this.shader.uniforms.scale=T,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b]))},A.drawLabel=function(b,T,P,x,L,M,s,E){this.labelCount[b]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=L,this.shader.uniforms.angle=P,this.shader.uniforms.scale=T,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[b],this.labelOffset[b]))},A.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(b,T){try{return n(b,T)}catch(P){return console.warn('error vectorizing text:"'+b+'" error:',P),{cells:[],positions:[]}}}function p(b,T,P,x,L,M){var s=t(b),E=i(b,[{buffer:s,size:3}]),w=f(b);w.attributes.position.location=0;var O=new c(b,w,s,E);return O.update(T,P,x,L,M),O}},6444:function(v,d){d.create=t,d.equal=i;function r(n,f){var u=n+"",l=u.indexOf("."),m=0;l>=0&&(m=u.length-l-1);var c=Math.pow(10,m),A=Math.round(n*f*c),h=A+"";if(h.indexOf("e")>=0)return h;var o=A/c,p=A%c;A<0?(o=-Math.ceil(o)|0,p=-p|0):(o=Math.floor(o)|0,p=p|0);var b=""+o;if(A<0&&(b="-"+b),m){for(var T=""+p;T.length<m;)T="0"+T;return b+"."+T}else return b}function t(n,f){for(var u=[],l=0;l<3;++l){var m=[];.5*(n[0][l]+n[1][l]);for(var c=0;c*f[l]<=n[1][l];++c)m.push({x:c*f[l],text:r(f[l],c)});for(var c=-1;c*f[l]>=n[0][l];--c)m.push({x:c*f[l],text:r(f[l],c)});u.push(m)}return u}function i(n,f){for(var u=0;u<3;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;++l){var m=n[u][l],c=f[u][l];if(m.x!==c.x||m.text!==c.text||m.font!==c.font||m.fontColor!==c.fontColor||m.fontSize!==c.fontSize||m.dx!==c.dx||m.dy!==c.dy)return!1}}return!0}},5445:function(v,d,r){v.exports=P;var t=r(5033),i=r(5202),n=r(6429),f=r(6760),u=r(5665),l=r(5352),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function A(x,L,M){this.lo=x,this.hi=L,this.pixelsPerDataUnit=M}var h=[0,0,0,1],o=[0,0,0,1];function p(x,L,M,s,E){for(var w=0;w<3;++w){for(var O=h,_=o,U=0;U<3;++U)_[U]=O[U]=M[U];_[3]=O[3]=1,_[w]+=1,l(_,_,L),_[3]<0&&(x[w]=1/0),O[w]-=1,l(O,O,L),O[3]<0&&(x[w]=1/0);var z=(O[0]/O[3]-_[0]/_[3])*s,F=(O[1]/O[3]-_[1]/_[3])*E;x[w]=.25*Math.sqrt(z*z+F*F)}return x}var b=[new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0)],T=[0,0,0];function P(x,L,M,s,F){var w=L.model||m,O=L.view||m,_=L.projection||m,U=L._ortho||!1,z=x.bounds,F=F||n(w,O,_,z,U),B=F.axis;f(c,O,w),f(c,_,c);for(var N=b,V=0;V<3;++V)N[V].lo=1/0,N[V].hi=-1/0,N[V].pixelsPerDataUnit=1/0;var X=t(u(c,c));u(c,c);for(var q=0;q<3;++q){var te=(q+1)%3,ne=(q+2)%3,ce=T;e:for(var V=0;V<2;++V){var Q=[];if(B[q]<0!=!!V){ce[q]=z[V][q];for(var Z=0;Z<2;++Z){ce[te]=z[Z^V][te];for(var re=0;re<2;++re)ce[ne]=z[re^Z^V][ne],Q.push(ce.slice())}for(var Y=U?5:4,Z=Y;Z===Y;++Z){if(Q.length===0)continue e;Q=i.positive(Q,X[Z])}for(var Z=0;Z<Q.length;++Z)for(var ne=Q[Z],oe=p(T,c,ne,M,s),re=0;re<3;++re)N[re].lo=Math.min(N[re].lo,ne[re]),N[re].hi=Math.max(N[re].hi,ne[re]),re!==q&&(N[re].pixelsPerDataUnit=Math.min(N[re].pixelsPerDataUnit,Math.abs(oe[re])))}}}return N}},2762:function(v,d,r){var t=r(1888),i=r(5298),n=r(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(o,p,b,T,P){this.gl=o,this.type=p,this.handle=b,this.length=T,this.usage=P}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(o,p,b,T,P,x){var L=P.length*P.BYTES_PER_ELEMENT;if(x<0)return o.bufferData(p,P,T),L;if(L+x>b)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(p,x,P),b}function c(o,p){for(var b=t.malloc(o.length,p),T=o.length,P=0;P<T;++P)b[P]=o[P];return b}function A(o,p){for(var b=1,T=p.length-1;T>=0;--T){if(p[T]!==b)return!1;b*=o[T]}return!0}l.update=function(o,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var b=o.dtype;if(f.indexOf(b)<0&&(b="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var T=gl.getExtension("OES_element_index_uint");T&&b!=="uint16"?b="uint32":b="uint16"}if(b===o.dtype&&A(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,o.data,p):this.length=m(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),p);else{var P=t.malloc(o.size,b),x=n(P,o.shape);i.assign(x,o),p<0?this.length=m(this.gl,this.type,this.length,this.usage,P,p):this.length=m(this.gl,this.type,this.length,this.usage,P.subarray(0,o.size),p),t.free(P)}}else if(Array.isArray(o)){var L;this.type===this.gl.ELEMENT_ARRAY_BUFFER?L=c(o,"uint16"):L=c(o,"float32"),p<0?this.length=m(this.gl,this.type,this.length,this.usage,L,p):this.length=m(this.gl,this.type,this.length,this.usage,L.subarray(0,o.length),p),t.free(L)}else if(typeof o=="object"&&typeof o.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,o,p);else if(typeof o=="number"||o===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function h(o,p,b,T){if(b=b||o.ARRAY_BUFFER,T=T||o.DYNAMIC_DRAW,b!==o.ARRAY_BUFFER&&b!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(T!==o.DYNAMIC_DRAW&&T!==o.STATIC_DRAW&&T!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var P=o.createBuffer(),x=new u(o,b,P,0,T);return x.update(p),x}v.exports=h},6405:function(v,d,r){var t=r(2931);v.exports=function(n,f){var u=n.positions,l=n.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),m;for(var c=0,A=1/0,h=-1/0,o=1/0,p=-1/0,b=1/0,T=-1/0,P=null,x=null,L=[],M=1/0,s=!1,E=n.coneSizemode==="raw",w=0;w<u.length;w++){var O=u[w];A=Math.min(O[0],A),h=Math.max(O[0],h),o=Math.min(O[1],o),p=Math.max(O[1],p),b=Math.min(O[2],b),T=Math.max(O[2],T);var _=l[w];if(t.length(_)>c&&(c=t.length(_)),w&&!E){var U=2*t.distance(P,O)/(t.length(x)+t.length(_));U?(M=Math.min(M,U),s=!1):s=!0}s||(P=O,x=_),L.push(_)}var z=[A,o,b],F=[h,p,T];f&&(f[0]=z,f[1]=F),c===0&&(c=1);var B=1/c;isFinite(M)||(M=1),m.vectorScale=M;var N=n.coneSize||(E?1:.5);n.absoluteConeSize&&(N=n.absoluteConeSize*B),m.coneScale=N;for(var w=0,V=0;w<u.length;w++)for(var O=u[w],X=O[0],q=O[1],te=O[2],ne=L[w],ce=t.length(ne)*B,Q=0,Z=8;Q<Z;Q++){m.positions.push([X,q,te,V++]),m.positions.push([X,q,te,V++]),m.positions.push([X,q,te,V++]),m.positions.push([X,q,te,V++]),m.positions.push([X,q,te,V++]),m.positions.push([X,q,te,V++]),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vertexIntensity.push(ce,ce,ce),m.vertexIntensity.push(ce,ce,ce);var re=m.positions.length;m.cells.push([re-6,re-5,re-4],[re-3,re-2,re-1])}return m};var i=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,f){return v.exports.createMesh(n,f,{shaders:i,traceType:"cone"})}},9060:function(v,d,r){var t=r(9405),i=r(2762),n=r(8116),f=r(7766),u=r(6760),l=r(7608),m=r(9618),c=r(6729),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(L,M,s,E,w,O,_,U,z,F,B){this.gl=L,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=M,this.dirty=!0,this.triShader=s,this.pickShader=E,this.trianglePositions=w,this.triangleVectors=O,this.triangleColors=U,this.triangleUVs=z,this.triangleIds=_,this.triangleVAO=F,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=A,this._view=A,this._projection=A,this._resolution=[1,1]}var o=h.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(L){this.pickId=L};function p(L){for(var M=c({colormap:L,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),E=0;E<256;++E){for(var w=M[E],O=0;O<3;++O)s[4*E+O]=w[O];s[4*E+3]=w[3]*255}return m(s,[256,256,4],[4,0,1])}function b(L){for(var M=L.length,s=new Array(M),E=0;E<M;++E)s[E]=L[E][2];return s}o.update=function(L){L=L||{};var M=this.gl;this.dirty=!0,"lightPosition"in L&&(this.lightPosition=L.lightPosition),"opacity"in L&&(this.opacity=L.opacity),"ambient"in L&&(this.ambientLight=L.ambient),"diffuse"in L&&(this.diffuseLight=L.diffuse),"specular"in L&&(this.specularLight=L.specular),"roughness"in L&&(this.roughness=L.roughness),"fresnel"in L&&(this.fresnel=L.fresnel),L.tubeScale!==void 0&&(this.tubeScale=L.tubeScale),L.vectorScale!==void 0&&(this.vectorScale=L.vectorScale),L.coneScale!==void 0&&(this.coneScale=L.coneScale),L.coneOffset!==void 0&&(this.coneOffset=L.coneOffset),L.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=M.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=M.LINEAR,this.texture.setPixels(p(L.colormap)),this.texture.generateMipmap());var s=L.cells,E=L.positions,w=L.vectors;if(!(!E||!s||!w)){var O=[],_=[],U=[],z=[],F=[];this.cells=s,this.positions=E,this.vectors=w;var B=L.meshColor||[1,1,1,1],N=L.vertexIntensity,V=1/0,X=-1/0;if(N)if(L.vertexIntensityBounds)V=+L.vertexIntensityBounds[0],X=+L.vertexIntensityBounds[1];else for(var q=0;q<N.length;++q){var te=N[q];V=Math.min(V,te),X=Math.max(X,te)}else for(var q=0;q<E.length;++q){var te=E[q][2];V=Math.min(V,te),X=Math.max(X,te)}N?this.intensity=N:this.intensity=b(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var q=0;q<E.length;++q)for(var ne=E[q],ce=0;ce<3;++ce)isNaN(ne[ce])||!isFinite(ne[ce])||(this.bounds[0][ce]=Math.min(this.bounds[0][ce],ne[ce]),this.bounds[1][ce]=Math.max(this.bounds[1][ce],ne[ce]));var Q=0;e:for(var q=0;q<s.length;++q){var Z=s[q];switch(Z.length){case 3:for(var ce=0;ce<3;++ce)for(var re=Z[ce],ne=E[re],Y=0;Y<3;++Y)if(isNaN(ne[Y])||!isFinite(ne[Y]))continue e;for(var ce=0;ce<3;++ce){var re=Z[2-ce],ne=E[re];O.push(ne[0],ne[1],ne[2],ne[3]);var oe=w[re];_.push(oe[0],oe[1],oe[2],oe[3]||0);var ue=B;ue.length===3?U.push(ue[0],ue[1],ue[2],1):U.push(ue[0],ue[1],ue[2],ue[3]);var K;N?K=[(N[re]-V)/(X-V),0]:K=[(ne[2]-V)/(X-V),0],z.push(K[0],K[1]),F.push(q)}Q+=1;break}}this.triangleCount=Q,this.trianglePositions.update(O),this.triangleVectors.update(_),this.triangleColors.update(U),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(F))}},o.drawTransparent=o.draw=function(L){L=L||{};for(var M=this.gl,s=L.model||A,E=L.view||A,w=L.projection||A,O=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)O[0][_]=Math.max(O[0][_],this.clipBounds[0][_]),O[1][_]=Math.min(O[1][_],this.clipBounds[1][_]);var U={model:s,view:E,projection:w,inverseModel:A.slice(),clipBounds:O,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};U.inverseModel=l(U.inverseModel,U.model),M.disable(M.CULL_FACE),this.texture.bind(0);var z=new Array(16);u(z,U.view,U.model),u(z,U.projection,z),l(z,z);for(var _=0;_<3;++_)U.eyePosition[_]=z[12+_]/z[15];for(var F=z[15],_=0;_<3;++_)F+=this.lightPosition[_]*z[4*_+3];for(var _=0;_<3;++_){for(var B=z[12+_],N=0;N<3;++N)B+=z[4*N+_]*this.lightPosition[N];U.lightPosition[_]=B/F}if(this.triangleCount>0){var V=this.triShader;V.bind(),V.uniforms=U,this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(L){L=L||{};for(var M=this.gl,s=L.model||A,E=L.view||A,w=L.projection||A,O=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)O[0][_]=Math.max(O[0][_],this.clipBounds[0][_]),O[1][_]=Math.min(O[1][_],this.clipBounds[1][_]);this._model=[].slice.call(s),this._view=[].slice.call(E),this._projection=[].slice.call(w),this._resolution=[M.drawingBufferWidth,M.drawingBufferHeight];var U={model:s,view:E,projection:w,clipBounds:O,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=U,this.triangleCount>0&&(this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(L){if(!L||L.id!==this.pickId)return null;var M=L.value[0]+256*L.value[1]+65536*L.value[2],s=this.cells[M],E=this.positions[s[1]].slice(0,3),w={position:E,dataCoordinate:E,index:Math.floor(s[1]/48)};return this.traceType==="cone"?w.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(w.intensity=this.intensity[s[1]],w.velocity=this.vectors[s[1]].slice(0,3),w.divergence=this.vectors[s[1]][3],w.index=M),w},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function T(L,M){var s=t(L,M.meshShader.vertex,M.meshShader.fragment,null,M.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function P(L,M){var s=t(L,M.pickShader.vertex,M.pickShader.fragment,null,M.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function x(L,M,s){var E=s.shaders;arguments.length===1&&(M=L,L=M.gl);var w=T(L,E),O=P(L,E),_=f(L,m(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=L.LINEAR_MIPMAP_LINEAR,_.magFilter=L.LINEAR;var U=i(L),z=i(L),F=i(L),B=i(L),N=i(L),V=n(L,[{buffer:U,type:L.FLOAT,size:4},{buffer:N,type:L.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:F,type:L.FLOAT,size:4},{buffer:B,type:L.FLOAT,size:2},{buffer:z,type:L.FLOAT,size:4}]),X=new h(L,_,w,O,U,z,N,F,B,V,s.traceType||"cone");return X.update(M),X}v.exports=x},614:function(v,d,r){var t=r(3236),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},d.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,d,r){var t=r(737);v.exports=function(n){return t[n]}},9165:function(v,d,r){v.exports=h;var t=r(2762),i=r(8116),n=r(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(o,p,b,T){this.gl=o,this.shader=T,this.buffer=p,this.vao=b,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(o){var p=this.gl,b=this.shader.uniforms;this.shader.bind();var T=b.view=o.view||f,P=b.projection=o.projection||f;b.model=o.model||f,b.clipBounds=this.clipBounds,b.opacity=this.opacity;var x=T[12],L=T[13],M=T[14],s=T[15],E=o._ortho||!1,w=E?2:1,O=w*this.pixelRatio*(P[3]*x+P[7]*L+P[11]*M+P[15]*s)/p.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)p.lineWidth(this.lineWidth[_]*this.pixelRatio),b.capSize=this.capSize[_]*O,this.lineCount[_]&&p.drawArrays(p.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function m(o,p){for(var b=0;b<3;++b)o[0][b]=Math.min(o[0][b],p[b]),o[1][b]=Math.max(o[1][b],p[b])}var c=function(){for(var o=new Array(3),p=0;p<3;++p){for(var b=[],T=1;T<=2;++T)for(var P=-1;P<=1;P+=2){var x=(T+p)%3,L=[0,0,0];L[x]=P,b.push(L)}o[p]=b}return o}();function A(o,p,b,T){for(var P=c[T],x=0;x<P.length;++x){var L=P[x];o.push(p[0],p[1],p[2],b[0],b[1],b[2],b[3],L[0],L[1],L[2])}return P.length}l.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=o.color||[[0,0,0],[0,0,0],[0,0,0]],b=o.position,T=o.error;if(Array.isArray(p[0])||(p=[p,p,p]),b&&T){var P=[],x=b.length,L=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var M=0;M<3;++M){this.lineOffset[M]=L;e:for(var s=0;s<x;++s){for(var E=b[s],w=0;w<3;++w)if(isNaN(E[w])||!isFinite(E[w]))continue e;var O=T[s],_=p[M];if(Array.isArray(_[0])&&(_=p[s]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(O[0][M])||isNaN(O[1][M]))){if(O[0][M]<0){var U=E.slice();U[M]+=O[0][M],P.push(E[0],E[1],E[2],_[0],_[1],_[2],_[3],0,0,0,U[0],U[1],U[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,U),L+=2+A(P,U,_,M)}if(O[1][M]>0){var U=E.slice();U[M]+=O[1][M],P.push(E[0],E[1],E[2],_[0],_[1],_[2],_[3],0,0,0,U[0],U[1],U[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,U),L+=2+A(P,U,_,M)}}}this.lineCount[M]=L-this.lineOffset[M]}this.buffer.update(P)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(o){var p=o.gl,b=t(p),T=i(p,[{buffer:b,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:b,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:b,type:p.FLOAT,size:3,offset:28,stride:40}]),P=n(p);P.attributes.position.location=0,P.attributes.color.location=1,P.attributes.offset.location=2;var x=new u(p,b,T,P);return x.update(o),x}},3436:function(v,d,r){var t=r(3236),i=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return i(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,d,r){var t=r(7766);v.exports=L;var i=null,n,f,u,l;function m(M){var s=M.getParameter(M.FRAMEBUFFER_BINDING),E=M.getParameter(M.RENDERBUFFER_BINDING),w=M.getParameter(M.TEXTURE_BINDING_2D);return[s,E,w]}function c(M,s){M.bindFramebuffer(M.FRAMEBUFFER,s[0]),M.bindRenderbuffer(M.RENDERBUFFER,s[1]),M.bindTexture(M.TEXTURE_2D,s[2])}function A(M,s){var E=M.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);i=new Array(E+1);for(var w=0;w<=E;++w){for(var O=new Array(E),_=0;_<w;++_)O[_]=M.COLOR_ATTACHMENT0+_;for(var _=w;_<E;++_)O[_]=M.NONE;i[w]=O}}function h(M){switch(M){case n:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(M,s,E,w,O,_){if(!w)return null;var U=t(M,s,E,O,w);return U.magFilter=M.NEAREST,U.minFilter=M.NEAREST,U.mipSamples=1,U.bind(),M.framebufferTexture2D(M.FRAMEBUFFER,_,M.TEXTURE_2D,U.handle,0),U}function p(M,s,E,w,O){var _=M.createRenderbuffer();return M.bindRenderbuffer(M.RENDERBUFFER,_),M.renderbufferStorage(M.RENDERBUFFER,w,s,E),M.framebufferRenderbuffer(M.FRAMEBUFFER,O,M.RENDERBUFFER,_),_}function b(M){var s=m(M.gl),E=M.gl,w=M.handle=E.createFramebuffer(),O=M._shape[0],_=M._shape[1],U=M.color.length,z=M._ext,F=M._useStencil,B=M._useDepth,N=M._colorType;E.bindFramebuffer(E.FRAMEBUFFER,w);for(var V=0;V<U;++V)M.color[V]=o(E,O,_,N,E.RGBA,E.COLOR_ATTACHMENT0+V);U===0?(M._color_rb=p(E,O,_,E.RGBA4,E.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(i[0])):U>1&&z.drawBuffersWEBGL(i[U]);var X=E.getExtension("WEBGL_depth_texture");X?F?M.depth=o(E,O,_,X.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):B&&(M.depth=o(E,O,_,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):B&&F?M._depth_rb=p(E,O,_,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):B?M._depth_rb=p(E,O,_,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):F&&(M._depth_rb=p(E,O,_,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var q=E.checkFramebufferStatus(E.FRAMEBUFFER);if(q!==E.FRAMEBUFFER_COMPLETE){M._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(M.handle),M.handle=null,M.depth&&(M.depth.dispose(),M.depth=null),M._depth_rb&&(E.deleteRenderbuffer(M._depth_rb),M._depth_rb=null);for(var V=0;V<M.color.length;++V)M.color[V].dispose(),M.color[V]=null;M._color_rb&&(E.deleteRenderbuffer(M._color_rb),M._color_rb=null),c(E,s),h(q)}c(E,s)}function T(M,s,E,w,O,_,U,z){this.gl=M,this._shape=[s|0,E|0],this._destroyed=!1,this._ext=z,this.color=new Array(O);for(var F=0;F<O;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=_,this._useStencil=U;var B=this,N=[s|0,E|0];Object.defineProperties(N,{0:{get:function(){return B._shape[0]},set:function(V){return B.width=V}},1:{get:function(){return B._shape[1]},set:function(V){return B.height=V}}}),this._shapeVector=N,b(this)}var P=T.prototype;function x(M,s,E){if(M._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(M._shape[0]===s&&M._shape[1]===E)){var w=M.gl,O=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(s<0||s>O||E<0||E>O)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");M._shape[0]=s,M._shape[1]=E;for(var _=m(w),U=0;U<M.color.length;++U)M.color[U].shape=M._shape;M._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,M._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,M._shape[0],M._shape[1])),M.depth&&(M.depth.shape=M._shape),M._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,M._depth_rb),M._useDepth&&M._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,M._shape[0],M._shape[1]):M._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,M._shape[0],M._shape[1]):M._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,M._shape[0],M._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,M.handle);var z=w.checkFramebufferStatus(w.FRAMEBUFFER);z!==w.FRAMEBUFFER_COMPLETE&&(M.dispose(),c(w,_),h(z)),c(w,_)}}Object.defineProperties(P,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(M){if(Array.isArray(M)||(M=[M|0,M|0]),M.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=M[0]|0,E=M[1]|0;return x(this,s,E),[s,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(M){return M=M|0,x(this,M,this._shape[1]),M},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(M){return M=M|0,x(this,this._shape[0],M),M},enumerable:!1}}),P.bind=function(){if(!this._destroyed){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this.handle),M.viewport(0,0,this._shape[0],this._shape[1])}},P.dispose=function(){if(!this._destroyed){this._destroyed=!0;var M=this.gl;M.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(M.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(M.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function L(M,s,E,w){n||(n=M.FRAMEBUFFER_UNSUPPORTED,f=M.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=M.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=M.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var O=M.getExtension("WEBGL_draw_buffers");if(!i&&O&&A(M,O),Array.isArray(s)&&(w=E,E=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var _=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(s<0||s>_||E<0||E>_)throw new Error("gl-fbo: Parameters are too large for FBO");w=w||{};var U=1;if("color"in w){if(U=Math.max(w.color|0,0),U<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(U>1)if(O){if(U>M.getParameter(O.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+U+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var z=M.UNSIGNED_BYTE,F=M.getExtension("OES_texture_float");if(w.float&&U>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");z=M.FLOAT}else w.preferFloat&&U>0&&F&&(z=M.FLOAT);var B=!0;"depth"in w&&(B=!!w.depth);var N=!1;return"stencil"in w&&(N=!!w.stencil),new T(M,s,E,z,U,B,N,O)}},2992:function(v,d,r){var t=r(3387).sprintf,i=r(5171),n=r(1848),f=r(1085);v.exports=u;function u(l,m,c){var A=n(m)||"of unknown name (see npm glsl-shader-name)",h="unknown type";c!==void 0&&(h=c===i.FRAGMENT_SHADER?"fragment":"vertex");for(var o=t(`Error compiling %s shader %s:
`,h,A),p=t("%s%s",o,l),b=l.split(`
`),T={},P=0;P<b.length;P++){var x=b[P];if(!(x===""||x==="\0")){var L=parseInt(x.split(":")[2]);if(isNaN(L))throw new Error(t("Could not parse error: %s",x));T[L]=x}}for(var M=f(m).split(`
`),P=0;P<M.length;P++)if(!(!T[P+3]&&!T[P+2]&&!T[P+1])){var s=M[P];if(o+=s+`
`,T[P+1]){var E=T[P+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),o+=t(`^^^ %s

`,E)}}return{long:o.trim(),short:p.trim()}}},2510:function(v,d,r){v.exports=h;var t=r(2478),i=r(7762),n=r(1888),f=r(9405),u=r(2762),l=r(6768);function m(o,p,b,T,P,x,L){this.plot=o,this.shader=p,this.pickShader=b,this.positionBuffer=T,this.weightBuffer=P,this.colorBuffer=x,this.idBuffer=L,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=m.prototype,A=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,b=this.shader,T=this.bounds,P=this.numVertices;if(!(P<=0)){var x=p.gl,L=p.dataBox,M=T[2]-T[0],s=T[3]-T[1],E=L[2]-L[0],w=L[3]-L[1];o[0]=2*M/E,o[4]=2*s/w,o[6]=2*(T[0]-L[0])/E-1,o[7]=2*(T[1]-L[1])/w-1,b.bind();var O=b.uniforms;O.viewTransform=o,O.shape=this.shape;var _=b.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,P)}}}(),c.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(b){var T=this.plot,P=this.pickShader,x=this.bounds,L=this.numVertices;if(!(L<=0)){var M=T.gl,s=T.dataBox,E=x[2]-x[0],w=x[3]-x[1],O=s[2]-s[0],_=s[3]-s[1];o[0]=2*E/O,o[4]=2*w/_,o[6]=2*(x[0]-s[0])/O-1,o[7]=2*(x[1]-s[1])/_-1;for(var U=0;U<4;++U)p[U]=b>>U*8&255;this.pickOffset=b,P.bind();var z=P.uniforms;z.viewTransform=o,z.pickOffset=p,z.shape=this.shape;var F=P.attributes;return this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(M.UNSIGNED_BYTE,!1),this.idBuffer.bind(),F.pickId.pointer(M.UNSIGNED_BYTE,!1),M.drawArrays(M.TRIANGLES,0,L),b+this.shape[0]*this.shape[1]}}}(),c.pick=function(o,p,b){var T=this.pickOffset,P=this.shape[0]*this.shape[1];if(b<T||b>=T+P)return null;var x=b-T,L=this.xData,M=this.yData;return{object:this,pointId:x,dataCoord:[L[x%this.shape[0]],M[x/this.shape[0]|0]]}},c.update=function(o){o=o||{};var p=o.shape||[0,0],b=o.x||i(p[0]),T=o.y||i(p[1]),P=o.z||new Float32Array(p[0]*p[1]),x=o.zsmooth!==!1;this.xData=b,this.yData=T;var L=o.colorLevels||[0],M=o.colorValues||[0,0,0,1],s=L.length,E=this.bounds,w,O,_,U;x?(w=E[0]=b[0],O=E[1]=T[0],_=E[2]=b[b.length-1],U=E[3]=T[T.length-1]):(w=E[0]=b[0]+(b[1]-b[0])/2,O=E[1]=T[0]+(T[1]-T[0])/2,_=E[2]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2,U=E[3]=T[T.length-1]+(T[T.length-1]-T[T.length-2])/2);var z=1/(_-w),F=1/(U-O),B=p[0],N=p[1];this.shape=[B,N];var V=(x?(B-1)*(N-1):B*N)*(A.length>>>1);this.numVertices=V;for(var X=n.mallocUint8(V*4),q=n.mallocFloat32(V*2),te=n.mallocUint8(V*2),ne=n.mallocUint32(V),ce=0,Q=x?B-1:B,Z=x?N-1:N,re=0;re<Z;++re){var Y,oe;x?(Y=F*(T[re]-O),oe=F*(T[re+1]-O)):(Y=re<N-1?F*(T[re]-(T[re+1]-T[re])/2-O):F*(T[re]-(T[re]-T[re-1])/2-O),oe=re<N-1?F*(T[re]+(T[re+1]-T[re])/2-O):F*(T[re]+(T[re]-T[re-1])/2-O));for(var ue=0;ue<Q;++ue){var K,$;x?(K=z*(b[ue]-w),$=z*(b[ue+1]-w)):(K=ue<B-1?z*(b[ue]-(b[ue+1]-b[ue])/2-w):z*(b[ue]-(b[ue]-b[ue-1])/2-w),$=ue<B-1?z*(b[ue]+(b[ue+1]-b[ue])/2-w):z*(b[ue]+(b[ue]-b[ue-1])/2-w));for(var le=0;le<A.length;le+=2){var ae=A[le],he=A[le+1],xe=x?(re+he)*B+(ue+ae):re*B+ue,Me=P[xe],Ae=t.le(L,Me),ke,we,Ee,be;if(Ae<0)ke=M[0],we=M[1],Ee=M[2],be=M[3];else if(Ae===s-1)ke=M[4*s-4],we=M[4*s-3],Ee=M[4*s-2],be=M[4*s-1];else{var Le=(Me-L[Ae])/(L[Ae+1]-L[Ae]),Ue=1-Le,Ve=4*Ae,Fe=4*(Ae+1);ke=Ue*M[Ve]+Le*M[Fe],we=Ue*M[Ve+1]+Le*M[Fe+1],Ee=Ue*M[Ve+2]+Le*M[Fe+2],be=Ue*M[Ve+3]+Le*M[Fe+3]}X[4*ce]=255*ke,X[4*ce+1]=255*we,X[4*ce+2]=255*Ee,X[4*ce+3]=255*be,q[2*ce]=K*.5+$*.5,q[2*ce+1]=Y*.5+oe*.5,te[2*ce]=ae,te[2*ce+1]=he,ne[ce]=re*B+ue,ce+=1}}}this.positionBuffer.update(q),this.weightBuffer.update(te),this.colorBuffer.update(X),this.idBuffer.update(ne),n.free(q),n.free(X),n.free(te),n.free(ne)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(o,p){var b=o.gl,T=f(b,l.vertex,l.fragment),P=f(b,l.pickVertex,l.pickFragment),x=u(b),L=u(b),M=u(b),s=u(b),E=new m(o,T,P,x,L,M,s);return E.update(p),o.addObject(E),E}},6768:function(v,d,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,d,r){var t=r(3236),i=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];d.createShader=function(m){return i(m,n,f,null,l)},d.createPickShader=function(m){return i(m,n,u,null,l)}},5714:function(v,d,r){v.exports=M;var t=r(2762),i=r(8116),n=r(7766),f=new Uint8Array(4),u=new Float32Array(f.buffer);function l(s,E,w,O){return f[0]=O,f[1]=w,f[2]=E,f[3]=s,u[0]}var m=r(2478),c=r(9618),A=r(7319),h=A.createShader,o=A.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function b(s,E){for(var w=0,O=0;O<3;++O){var _=s[O]-E[O];w+=_*_}return Math.sqrt(w)}function T(s){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)E[0][w]=Math.max(s[0][w],E[0][w]),E[1][w]=Math.min(s[1][w],E[1][w]);return E}function P(s,E,w,O){this.arcLength=s,this.position=E,this.index=w,this.dataCoordinate=O}function x(s,E,w,O,_,U){this.gl=s,this.shader=E,this.pickShader=w,this.buffer=O,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=U,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var L=x.prototype;L.isTransparent=function(){return this.hasAlpha},L.isOpaque=function(){return!this.hasAlpha},L.pickSlots=1,L.setPickBase=function(s){this.pickId=s},L.drawTransparent=L.draw=function(s){if(this.vertexCount){var E=this.gl,w=this.shader,O=this.vao;w.bind(),w.uniforms={model:s.model||p,view:s.view||p,projection:s.projection||p,clipBounds:T(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(E.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},L.drawPick=function(s){if(this.vertexCount){var E=this.gl,w=this.pickShader,O=this.vao;w.bind(),w.uniforms={model:s.model||p,view:s.view||p,projection:s.projection||p,pickId:this.pickId,clipBounds:T(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(E.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},L.update=function(s){var E,w;this.dirty=!0;var O=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],U=[],z=[],F=0,B=0,N=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=s.position||s.positions;if(V){var X=s.color||s.colors||[0,0,0,1],q=s.lineWidth||1,te=!1;e:for(E=1;E<V.length;++E){var ne=V[E-1],ce=V[E];for(U.push(F),z.push(ne.slice()),w=0;w<3;++w){if(isNaN(ne[w])||isNaN(ce[w])||!isFinite(ne[w])||!isFinite(ce[w])){if(!O&&_.length>0){for(var Q=0;Q<24;++Q)_.push(_[_.length-12]);B+=2,te=!0}continue e}N[0][w]=Math.min(N[0][w],ne[w],ce[w]),N[1][w]=Math.max(N[1][w],ne[w],ce[w])}var Z,re;Array.isArray(X[0])?(Z=X.length>E-1?X[E-1]:X.length>0?X[X.length-1]:[0,0,0,1],re=X.length>E?X[E]:X.length>0?X[X.length-1]:[0,0,0,1]):Z=re=X,Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),re.length===3&&(re=[re[0],re[1],re[2],1]),!this.hasAlpha&&Z[3]<1&&(this.hasAlpha=!0);var Y;Array.isArray(q)?Y=q.length>E-1?q[E-1]:q.length>0?q[q.length-1]:[0,0,0,1]:Y=q;var oe=F;if(F+=b(ne,ce),te){for(w=0;w<2;++w)_.push(ne[0],ne[1],ne[2],ce[0],ce[1],ce[2],oe,Y,Z[0],Z[1],Z[2],Z[3]);B+=2,te=!1}_.push(ne[0],ne[1],ne[2],ce[0],ce[1],ce[2],oe,Y,Z[0],Z[1],Z[2],Z[3],ne[0],ne[1],ne[2],ce[0],ce[1],ce[2],oe,-Y,Z[0],Z[1],Z[2],Z[3],ce[0],ce[1],ce[2],ne[0],ne[1],ne[2],F,-Y,re[0],re[1],re[2],re[3],ce[0],ce[1],ce[2],ne[0],ne[1],ne[2],F,Y,re[0],re[1],re[2],re[3]),B+=4}}if(this.buffer.update(_),U.push(F),z.push(V[V.length-1].slice()),this.bounds=N,this.vertexCount=B,this.points=z,this.arcLength=U,"dashes"in s){var ue=s.dashes,K=ue.slice();for(K.unshift(0),E=1;E<K.length;++E)K[E]=K[E-1]+K[E];var $=c(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(w=0;w<4;++w)$.set(E,0,w,0);m.le(K,K[K.length-1]*E/255)&1?$.set(E,0,0,0):$.set(E,0,0,255)}this.texture.setPixels($)}},L.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},L.pick=function(s){if(!s||s.id!==this.pickId)return null;var E=l(s.value[0],s.value[1],s.value[2],0),w=m.le(this.arcLength,E);if(w<0)return null;if(w===this.arcLength.length-1)return new P(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),w);for(var O=this.points[w],_=this.points[Math.min(w+1,this.points.length-1)],U=(E-this.arcLength[w])/(this.arcLength[w+1]-this.arcLength[w]),z=1-U,F=[0,0,0],B=0;B<3;++B)F[B]=z*O[B]+U*_[B];var N=Math.min(U<.5?w:w+1,this.points.length-1);return new P(E,F,N,this.points[N])};function M(s){var E=s.gl||s.scene&&s.scene.gl,w=h(E);w.attributes.position.location=0,w.attributes.nextPosition.location=1,w.attributes.arcLength.location=2,w.attributes.lineWidth.location=3,w.attributes.color.location=4;var O=o(E);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;for(var _=t(E),U=i(E,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),z=c(new Array(256*4),[256,1,4]),F=0;F<1024;++F)z.data[F]=255;var B=n(E,z);B.wrap=E.REPEAT;var N=new x(E,w,O,_,U,B);return N.update(s),N}},1903:function(v){v.exports=d;function d(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=d;function d(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=d;function d(r){var t=r[0],i=r[1],n=r[2],f=r[3],u=r[4],l=r[5],m=r[6],c=r[7],A=r[8],h=r[9],o=r[10],p=r[11],b=r[12],T=r[13],P=r[14],x=r[15],L=t*l-i*u,M=t*m-n*u,s=t*c-f*u,E=i*m-n*l,w=i*c-f*l,O=n*c-f*m,_=A*T-h*b,U=A*P-o*b,z=A*x-p*b,F=h*P-o*T,B=h*x-p*T,N=o*x-p*P;return L*N-M*B+s*F+E*z-w*U+O*_}},7399:function(v){v.exports=d;function d(r,t){var i=t[0],n=t[1],f=t[2],u=t[3],l=i+i,m=n+n,c=f+f,A=i*l,h=n*l,o=n*m,p=f*l,b=f*m,T=f*c,P=u*l,x=u*m,L=u*c;return r[0]=1-o-T,r[1]=h+L,r[2]=p-x,r[3]=0,r[4]=h-L,r[5]=1-A-T,r[6]=b+P,r[7]=0,r[8]=p+x,r[9]=b-P,r[10]=1-A-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=d;function d(r,t,i){var n=t[0],f=t[1],u=t[2],l=t[3],m=n+n,c=f+f,A=u+u,h=n*m,o=n*c,p=n*A,b=f*c,T=f*A,P=u*A,x=l*m,L=l*c,M=l*A;return r[0]=1-(b+P),r[1]=o+M,r[2]=p-L,r[3]=0,r[4]=o-M,r[5]=1-(h+P),r[6]=T+x,r[7]=0,r[8]=p+L,r[9]=T-x,r[10]=1-(h+b),r[11]=0,r[12]=i[0],r[13]=i[1],r[14]=i[2],r[15]=1,r}},7894:function(v){v.exports=d;function d(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=d;function d(r,t){var i=t[0],n=t[1],f=t[2],u=t[3],l=t[4],m=t[5],c=t[6],A=t[7],h=t[8],o=t[9],p=t[10],b=t[11],T=t[12],P=t[13],x=t[14],L=t[15],M=i*m-n*l,s=i*c-f*l,E=i*A-u*l,w=n*c-f*m,O=n*A-u*m,_=f*A-u*c,U=h*P-o*T,z=h*x-p*T,F=h*L-b*T,B=o*x-p*P,N=o*L-b*P,V=p*L-b*x,X=M*V-s*N+E*B+w*F-O*z+_*U;return X?(X=1/X,r[0]=(m*V-c*N+A*B)*X,r[1]=(f*N-n*V-u*B)*X,r[2]=(P*_-x*O+L*w)*X,r[3]=(p*O-o*_-b*w)*X,r[4]=(c*F-l*V-A*z)*X,r[5]=(i*V-f*F+u*z)*X,r[6]=(x*E-T*_-L*s)*X,r[7]=(h*_-p*E+b*s)*X,r[8]=(l*N-m*F+A*U)*X,r[9]=(n*F-i*N-u*U)*X,r[10]=(T*O-P*E+L*M)*X,r[11]=(o*E-h*O-b*M)*X,r[12]=(m*z-l*B-c*U)*X,r[13]=(i*B-n*z+f*U)*X,r[14]=(P*s-T*w-x*M)*X,r[15]=(h*w-o*s+p*M)*X,r):null}},6582:function(v,d,r){var t=r(7894);v.exports=i;function i(n,f,u,l){var m,c,A,h,o,p,b,T,P,x,L=f[0],M=f[1],s=f[2],E=l[0],w=l[1],O=l[2],_=u[0],U=u[1],z=u[2];return Math.abs(L-_)<1e-6&&Math.abs(M-U)<1e-6&&Math.abs(s-z)<1e-6?t(n):(b=L-_,T=M-U,P=s-z,x=1/Math.sqrt(b*b+T*T+P*P),b*=x,T*=x,P*=x,m=w*P-O*T,c=O*b-E*P,A=E*T-w*b,x=Math.sqrt(m*m+c*c+A*A),x?(x=1/x,m*=x,c*=x,A*=x):(m=0,c=0,A=0),h=T*A-P*c,o=P*m-b*A,p=b*c-T*m,x=Math.sqrt(h*h+o*o+p*p),x?(x=1/x,h*=x,o*=x,p*=x):(h=0,o=0,p=0),n[0]=m,n[1]=h,n[2]=b,n[3]=0,n[4]=c,n[5]=o,n[6]=T,n[7]=0,n[8]=A,n[9]=p,n[10]=P,n[11]=0,n[12]=-(m*L+c*M+A*s),n[13]=-(h*L+o*M+p*s),n[14]=-(b*L+T*M+P*s),n[15]=1,n)}},6760:function(v){v.exports=d;function d(r,t,i){var n=t[0],f=t[1],u=t[2],l=t[3],m=t[4],c=t[5],A=t[6],h=t[7],o=t[8],p=t[9],b=t[10],T=t[11],P=t[12],x=t[13],L=t[14],M=t[15],s=i[0],E=i[1],w=i[2],O=i[3];return r[0]=s*n+E*m+w*o+O*P,r[1]=s*f+E*c+w*p+O*x,r[2]=s*u+E*A+w*b+O*L,r[3]=s*l+E*h+w*T+O*M,s=i[4],E=i[5],w=i[6],O=i[7],r[4]=s*n+E*m+w*o+O*P,r[5]=s*f+E*c+w*p+O*x,r[6]=s*u+E*A+w*b+O*L,r[7]=s*l+E*h+w*T+O*M,s=i[8],E=i[9],w=i[10],O=i[11],r[8]=s*n+E*m+w*o+O*P,r[9]=s*f+E*c+w*p+O*x,r[10]=s*u+E*A+w*b+O*L,r[11]=s*l+E*h+w*T+O*M,s=i[12],E=i[13],w=i[14],O=i[15],r[12]=s*n+E*m+w*o+O*P,r[13]=s*f+E*c+w*p+O*x,r[14]=s*u+E*A+w*b+O*L,r[15]=s*l+E*h+w*T+O*M,r}},4040:function(v){v.exports=d;function d(r,t,i,n,f,u,l){var m=1/(t-i),c=1/(n-f),A=1/(u-l);return r[0]=-2*m,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*A,r[11]=0,r[12]=(t+i)*m,r[13]=(f+n)*c,r[14]=(l+u)*A,r[15]=1,r}},4772:function(v){v.exports=d;function d(r,t,i,n,f){var u=1/Math.tan(t/2),l=1/(n-f);return r[0]=u/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*n*l,r[15]=0,r}},6079:function(v){v.exports=d;function d(r,t,i,n){var f=n[0],u=n[1],l=n[2],m=Math.sqrt(f*f+u*u+l*l),c,A,h,o,p,b,T,P,x,L,M,s,E,w,O,_,U,z,F,B,N,V,X,q;return Math.abs(m)<1e-6?null:(m=1/m,f*=m,u*=m,l*=m,c=Math.sin(i),A=Math.cos(i),h=1-A,o=t[0],p=t[1],b=t[2],T=t[3],P=t[4],x=t[5],L=t[6],M=t[7],s=t[8],E=t[9],w=t[10],O=t[11],_=f*f*h+A,U=u*f*h+l*c,z=l*f*h-u*c,F=f*u*h-l*c,B=u*u*h+A,N=l*u*h+f*c,V=f*l*h+u*c,X=u*l*h-f*c,q=l*l*h+A,r[0]=o*_+P*U+s*z,r[1]=p*_+x*U+E*z,r[2]=b*_+L*U+w*z,r[3]=T*_+M*U+O*z,r[4]=o*F+P*B+s*N,r[5]=p*F+x*B+E*N,r[6]=b*F+L*B+w*N,r[7]=T*F+M*B+O*N,r[8]=o*V+P*X+s*q,r[9]=p*V+x*X+E*q,r[10]=b*V+L*X+w*q,r[11]=T*V+M*X+O*q,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=d;function d(r,t,i){var n=Math.sin(i),f=Math.cos(i),u=t[4],l=t[5],m=t[6],c=t[7],A=t[8],h=t[9],o=t[10],p=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*f+A*n,r[5]=l*f+h*n,r[6]=m*f+o*n,r[7]=c*f+p*n,r[8]=A*f-u*n,r[9]=h*f-l*n,r[10]=o*f-m*n,r[11]=p*f-c*n,r}},2408:function(v){v.exports=d;function d(r,t,i){var n=Math.sin(i),f=Math.cos(i),u=t[0],l=t[1],m=t[2],c=t[3],A=t[8],h=t[9],o=t[10],p=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f-A*n,r[1]=l*f-h*n,r[2]=m*f-o*n,r[3]=c*f-p*n,r[8]=u*n+A*f,r[9]=l*n+h*f,r[10]=m*n+o*f,r[11]=c*n+p*f,r}},7089:function(v){v.exports=d;function d(r,t,i){var n=Math.sin(i),f=Math.cos(i),u=t[0],l=t[1],m=t[2],c=t[3],A=t[4],h=t[5],o=t[6],p=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f+A*n,r[1]=l*f+h*n,r[2]=m*f+o*n,r[3]=c*f+p*n,r[4]=A*f-u*n,r[5]=h*f-l*n,r[6]=o*f-m*n,r[7]=p*f-c*n,r}},2504:function(v){v.exports=d;function d(r,t,i){var n=i[0],f=i[1],u=i[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*f,r[5]=t[5]*f,r[6]=t[6]*f,r[7]=t[7]*f,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=d;function d(r,t,i){var n=i[0],f=i[1],u=i[2],l,m,c,A,h,o,p,b,T,P,x,L;return t===r?(r[12]=t[0]*n+t[4]*f+t[8]*u+t[12],r[13]=t[1]*n+t[5]*f+t[9]*u+t[13],r[14]=t[2]*n+t[6]*f+t[10]*u+t[14],r[15]=t[3]*n+t[7]*f+t[11]*u+t[15]):(l=t[0],m=t[1],c=t[2],A=t[3],h=t[4],o=t[5],p=t[6],b=t[7],T=t[8],P=t[9],x=t[10],L=t[11],r[0]=l,r[1]=m,r[2]=c,r[3]=A,r[4]=h,r[5]=o,r[6]=p,r[7]=b,r[8]=T,r[9]=P,r[10]=x,r[11]=L,r[12]=l*n+h*f+T*u+t[12],r[13]=m*n+o*f+P*u+t[13],r[14]=c*n+p*f+x*u+t[14],r[15]=A*n+b*f+L*u+t[15]),r}},5665:function(v){v.exports=d;function d(r,t){if(r===t){var i=t[1],n=t[2],f=t[3],u=t[6],l=t[7],m=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=i,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=f,r[13]=l,r[14]=m}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,d,r){var t=r(2642),i=r(9346);v.exports=m;function n(c,A){for(var h=[0,0,0,0],o=0;o<4;++o)for(var p=0;p<4;++p)h[p]+=c[4*o+p]*A[o];return h}function f(c,A,h,o,p){for(var b=n(o,n(h,n(A,[c[0],c[1],c[2],1]))),T=0;T<3;++T)b[T]/=b[3];return[.5*p[0]*(1+b[0]),.5*p[1]*(1-b[1])]}function u(c,A){if(c.length===2){for(var h=0,o=0,p=0;p<2;++p)h+=Math.pow(A[p]-c[0][p],2),o+=Math.pow(A[p]-c[1][p],2);return h=Math.sqrt(h),o=Math.sqrt(o),h+o<1e-6?[1,0]:[o/(h+o),h/(o+h)]}else if(c.length===3){var b=[0,0];return i(c[0],c[1],c[2],A,b),t(c,b)}return[]}function l(c,A){for(var h=[0,0,0],o=0;o<c.length;++o)for(var p=c[o],b=A[o],T=0;T<3;++T)h[T]+=b*p[T];return h}function m(c,A,h,o,p,b){if(c.length===1)return[0,c[0].slice()];for(var T=new Array(c.length),P=0;P<c.length;++P)T[P]=f(c[P],h,o,p,b);for(var x=0,L=1/0,P=0;P<T.length;++P){for(var M=0,s=0;s<2;++s)M+=Math.pow(T[P][s]-A[s],2);M<L&&(L=M,x=P)}for(var E=u(T,A),w=0,P=0;P<3;++P){if(E[P]<-.001||E[P]>1.0001)return null;w+=E[P]}return Math.abs(w-1)>.001?null:[x,l(c,E),E]}},840:function(v,d,r){var t=r(3236),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),A=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),p=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);d.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.wireShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},d.pointShader={vertex:l,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},d.pickShader={vertex:c,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},d.pointPickShader={vertex:h,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},d.contourShader={vertex:o,fragment:p,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,d,r){var t=1e-6,i=1e-6,n=r(9405),f=r(2762),u=r(8116),l=r(7766),m=r(8406),c=r(6760),A=r(7608),h=r(9618),o=r(6729),p=r(7765),b=r(1888),T=r(840),P=r(7626),x=T.meshShader,L=T.wireShader,M=T.pointShader,s=T.pickShader,E=T.pointPickShader,w=T.contourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(Q,Z,re,Y,oe,ue,K,$,le,ae,he,xe,Me,Ae,ke,we,Ee,be,Le,Ue,Ve,Fe,He,st,vt,lt,et){this.gl=Q,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=re,this.lineShader=Y,this.pointShader=oe,this.pickShader=ue,this.pointPickShader=K,this.contourShader=$,this.trianglePositions=le,this.triangleColors=he,this.triangleNormals=Me,this.triangleUVs=xe,this.triangleIds=ae,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ke,this.edgeColors=Ee,this.edgeUVs=be,this.edgeIds=we,this.edgeVAO=Le,this.edgeCount=0,this.pointPositions=Ue,this.pointColors=Fe,this.pointUVs=He,this.pointSizes=st,this.pointIds=Ve,this.pointVAO=vt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=lt,this.contourVAO=et,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=O,this._view=O,this._projection=O,this._resolution=[1,1]}var U=_.prototype;U.isOpaque=function(){return!this.hasAlpha},U.isTransparent=function(){return this.hasAlpha},U.pickSlots=1,U.setPickBase=function(Q){this.pickId=Q};function z(Q,Z){if(!Z||!Z.length)return 1;for(var re=0;re<Z.length;++re){if(Z.length<2)return 1;if(Z[re][0]===Q)return Z[re][1];if(Z[re][0]>Q&&re>0){var Y=(Z[re][0]-Q)/(Z[re][0]-Z[re-1][0]);return Z[re][1]*(1-Y)+Y*Z[re-1][1]}}return 1}function F(Q,Z){for(var re=o({colormap:Q,nshades:256,format:"rgba"}),Y=new Uint8Array(256*4),oe=0;oe<256;++oe){for(var ue=re[oe],K=0;K<3;++K)Y[4*oe+K]=ue[K];Z?Y[4*oe+3]=255*z(oe/255,Z):Y[4*oe+3]=255*ue[3]}return h(Y,[256,256,4],[4,0,1])}function B(Q){for(var Z=Q.length,re=new Array(Z),Y=0;Y<Z;++Y)re[Y]=Q[Y][2];return re}U.highlight=function(Q){if(!Q||!this.contourEnable){this.contourCount=0;return}for(var Z=p(this.cells,this.intensity,Q.intensity),re=Z.cells,Y=Z.vertexIds,oe=Z.vertexWeights,ue=re.length,K=b.mallocFloat32(2*3*ue),$=0,le=0;le<ue;++le)for(var ae=re[le],he=0;he<2;++he){var xe=ae[0];ae.length===2&&(xe=ae[he]);for(var Me=Y[xe][0],Ae=Y[xe][1],ke=oe[xe],we=1-ke,Ee=this.positions[Me],be=this.positions[Ae],Le=0;Le<3;++Le)K[$++]=ke*Ee[Le]+we*be[Le]}this.contourCount=$/3|0,this.contourPositions.update(K.subarray(0,$)),b.free(K)},U.update=function(Q){Q=Q||{};var Z=this.gl;this.dirty=!0,"contourEnable"in Q&&(this.contourEnable=Q.contourEnable),"contourColor"in Q&&(this.contourColor=Q.contourColor),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"lightPosition"in Q&&(this.lightPosition=Q.lightPosition),this.hasAlpha=!1,"opacity"in Q&&(this.opacity=Q.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale,this.hasAlpha=!0),"ambient"in Q&&(this.ambientLight=Q.ambient),"diffuse"in Q&&(this.diffuseLight=Q.diffuse),"specular"in Q&&(this.specularLight=Q.specular),"roughness"in Q&&(this.roughness=Q.roughness),"fresnel"in Q&&(this.fresnel=Q.fresnel),Q.texture?(this.texture.dispose(),this.texture=l(Z,Q.texture)):Q.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(F(Q.colormap,this.opacityscale)),this.texture.generateMipmap());var re=Q.cells,Y=Q.positions;if(!(!Y||!re)){var oe=[],ue=[],K=[],$=[],le=[],ae=[],he=[],xe=[],Me=[],Ae=[],ke=[],we=[],Ee=[],be=[];this.cells=re,this.positions=Y;var Le=Q.vertexNormals,Ue=Q.cellNormals,Ve=Q.vertexNormalsEpsilon===void 0?t:Q.vertexNormalsEpsilon,Fe=Q.faceNormalsEpsilon===void 0?i:Q.faceNormalsEpsilon;Q.useFacetNormals&&!Ue&&(Ue=m.faceNormals(re,Y,Fe)),!Ue&&!Le&&(Le=m.vertexNormals(re,Y,Ve));var He=Q.vertexColors,st=Q.cellColors,vt=Q.meshColor||[1,1,1,1],lt=Q.vertexUVs,et=Q.vertexIntensity,ct=Q.cellUVs,ht=Q.cellIntensity,mt=1/0,xt=-1/0;if(!lt&&!ct)if(et)if(Q.vertexIntensityBounds)mt=+Q.vertexIntensityBounds[0],xt=+Q.vertexIntensityBounds[1];else for(var Mt=0;Mt<et.length;++Mt){var tt=et[Mt];mt=Math.min(mt,tt),xt=Math.max(xt,tt)}else if(ht)if(Q.cellIntensityBounds)mt=+Q.cellIntensityBounds[0],xt=+Q.cellIntensityBounds[1];else for(var Mt=0;Mt<ht.length;++Mt){var tt=ht[Mt];mt=Math.min(mt,tt),xt=Math.max(xt,tt)}else for(var Mt=0;Mt<Y.length;++Mt){var tt=Y[Mt][2];mt=Math.min(mt,tt),xt=Math.max(xt,tt)}et?this.intensity=et:ht?this.intensity=ht:this.intensity=B(Y),this.pickVertex=!(ht||st);var Oe=Q.pointSizes,Ye=Q.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mt=0;Mt<Y.length;++Mt)for(var Ze=Y[Mt],We=0;We<3;++We)isNaN(Ze[We])||!isFinite(Ze[We])||(this.bounds[0][We]=Math.min(this.bounds[0][We],Ze[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],Ze[We]));var _e=0,Ie=0,Xe=0;e:for(var Mt=0;Mt<re.length;++Mt){var De=re[Mt];switch(De.length){case 1:for(var de=De[0],Ze=Y[de],We=0;We<3;++We)if(isNaN(Ze[We])||!isFinite(Ze[We]))continue e;Ae.push(Ze[0],Ze[1],Ze[2]);var Te;He?Te=He[de]:st?Te=st[Mt]:Te=vt,this.opacityscale&&et?ue.push(Te[0],Te[1],Te[2],this.opacity*z((et[de]-mt)/(xt-mt),this.opacityscale)):Te.length===3?ke.push(Te[0],Te[1],Te[2],this.opacity):(ke.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0));var Be;lt?Be=lt[de]:et?Be=[(et[de]-mt)/(xt-mt),0]:ct?Be=ct[Mt]:ht?Be=[(ht[Mt]-mt)/(xt-mt),0]:Be=[(Ze[2]-mt)/(xt-mt),0],we.push(Be[0],Be[1]),Oe?Ee.push(Oe[de]):Ee.push(Ye),be.push(Mt),Xe+=1;break;case 2:for(var We=0;We<2;++We)for(var de=De[We],Ze=Y[de],Qe=0;Qe<3;++Qe)if(isNaN(Ze[Qe])||!isFinite(Ze[Qe]))continue e;for(var We=0;We<2;++We){var de=De[We],Ze=Y[de];ae.push(Ze[0],Ze[1],Ze[2]);var Te;He?Te=He[de]:st?Te=st[Mt]:Te=vt,this.opacityscale&&et?ue.push(Te[0],Te[1],Te[2],this.opacity*z((et[de]-mt)/(xt-mt),this.opacityscale)):Te.length===3?he.push(Te[0],Te[1],Te[2],this.opacity):(he.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0));var Be;lt?Be=lt[de]:et?Be=[(et[de]-mt)/(xt-mt),0]:ct?Be=ct[Mt]:ht?Be=[(ht[Mt]-mt)/(xt-mt),0]:Be=[(Ze[2]-mt)/(xt-mt),0],xe.push(Be[0],Be[1]),Me.push(Mt)}Ie+=1;break;case 3:for(var We=0;We<3;++We)for(var de=De[We],Ze=Y[de],Qe=0;Qe<3;++Qe)if(isNaN(Ze[Qe])||!isFinite(Ze[Qe]))continue e;for(var We=0;We<3;++We){var de=De[2-We],Ze=Y[de];oe.push(Ze[0],Ze[1],Ze[2]);var Te;He?Te=He[de]:st?Te=st[Mt]:Te=vt,Te?this.opacityscale&&et?ue.push(Te[0],Te[1],Te[2],this.opacity*z((et[de]-mt)/(xt-mt),this.opacityscale)):Te.length===3?ue.push(Te[0],Te[1],Te[2],this.opacity):(ue.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0)):ue.push(.5,.5,.5,1);var Be;lt?Be=lt[de]:et?Be=[(et[de]-mt)/(xt-mt),0]:ct?Be=ct[Mt]:ht?Be=[(ht[Mt]-mt)/(xt-mt),0]:Be=[(Ze[2]-mt)/(xt-mt),0],$.push(Be[0],Be[1]);var at;Le?at=Le[de]:at=Ue[Mt],K.push(at[0],at[1],at[2]),le.push(Mt)}_e+=1;break}}this.pointCount=Xe,this.edgeCount=Ie,this.triangleCount=_e,this.pointPositions.update(Ae),this.pointColors.update(ke),this.pointUVs.update(we),this.pointSizes.update(Ee),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(ae),this.edgeColors.update(he),this.edgeUVs.update(xe),this.edgeIds.update(new Uint32Array(Me)),this.trianglePositions.update(oe),this.triangleColors.update(ue),this.triangleUVs.update($),this.triangleNormals.update(K),this.triangleIds.update(new Uint32Array(le))}},U.drawTransparent=U.draw=function(Q){Q=Q||{};for(var Z=this.gl,re=Q.model||O,Y=Q.view||O,oe=Q.projection||O,ue=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)ue[0][K]=Math.max(ue[0][K],this.clipBounds[0][K]),ue[1][K]=Math.min(ue[1][K],this.clipBounds[1][K]);var $={model:re,view:Y,projection:oe,inverseModel:O.slice(),clipBounds:ue,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};$.inverseModel=A($.inverseModel,$.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var le=new Array(16);c(le,$.view,$.model),c(le,$.projection,le),A(le,le);for(var K=0;K<3;++K)$.eyePosition[K]=le[12+K]/le[15];for(var ae=le[15],K=0;K<3;++K)ae+=this.lightPosition[K]*le[4*K+3];for(var K=0;K<3;++K){for(var he=le[12+K],xe=0;xe<3;++xe)he+=le[4*xe+K]*this.lightPosition[xe];$.lightPosition[K]=he/ae}if(this.triangleCount>0){var Me=this.triShader;Me.bind(),Me.uniforms=$,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Me=this.lineShader;Me.bind(),Me.uniforms=$,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Me=this.pointShader;Me.bind(),Me.uniforms=$,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Me=this.contourShader;Me.bind(),Me.uniforms=$,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind()}},U.drawPick=function(Q){Q=Q||{};for(var Z=this.gl,re=Q.model||O,Y=Q.view||O,oe=Q.projection||O,ue=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)ue[0][K]=Math.max(ue[0][K],this.clipBounds[0][K]),ue[1][K]=Math.min(ue[1][K],this.clipBounds[1][K]);this._model=[].slice.call(re),this._view=[].slice.call(Y),this._projection=[].slice.call(oe),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var $={model:re,view:Y,projection:oe,clipBounds:ue,pickId:this.pickId/255},le=this.pickShader;if(le.bind(),le.uniforms=$,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var le=this.pointPickShader;le.bind(),le.uniforms=$,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},U.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;for(var Z=Q.value[0]+256*Q.value[1]+65536*Q.value[2],re=this.cells[Z],Y=this.positions,oe=new Array(re.length),ue=0;ue<re.length;++ue)oe[ue]=Y[re[ue]];var K=Q.coord[0],$=Q.coord[1];if(!this.pickVertex){var le=this.positions[re[0]],ae=this.positions[re[1]],he=this.positions[re[2]],xe=[(le[0]+ae[0]+he[0])/3,(le[1]+ae[1]+he[1])/3,(le[2]+ae[2]+he[2])/3];return{_cellCenter:!0,position:[K,$],index:Z,cell:re,cellId:Z,intensity:this.intensity[Z],dataCoordinate:xe}}var Me=P(oe,[K*this.pixelRatio,this._resolution[1]-$*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Me)return null;for(var Ae=Me[2],ke=0,ue=0;ue<re.length;++ue)ke+=Ae[ue]*this.intensity[re[ue]];return{position:Me[1],index:re[Me[0]],cell:re,cellId:Z,intensity:ke,dataCoordinate:this.positions[re[Me[0]]]}},U.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function N(Q){var Z=n(Q,x.vertex,x.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.normal.location=4,Z}function V(Q){var Z=n(Q,L.vertex,L.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z}function X(Q){var Z=n(Q,M.vertex,M.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}function q(Q){var Z=n(Q,s.vertex,s.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}function te(Q){var Z=n(Q,E.vertex,E.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}function ne(Q){var Z=n(Q,w.vertex,w.fragment);return Z.attributes.position.location=0,Z}function ce(Q,Z){arguments.length===1&&(Z=Q,Q=Z.gl);var re=Q.getExtension("OES_standard_derivatives")||Q.getExtension("MOZ_OES_standard_derivatives")||Q.getExtension("WEBKIT_OES_standard_derivatives");if(!re)throw new Error("derivatives not supported");var Y=N(Q),oe=V(Q),ue=X(Q),K=q(Q),$=te(Q),le=ne(Q),ae=l(Q,h(new Uint8Array([255,255,255,255]),[1,1,4]));ae.generateMipmap(),ae.minFilter=Q.LINEAR_MIPMAP_LINEAR,ae.magFilter=Q.LINEAR;var he=f(Q),xe=f(Q),Me=f(Q),Ae=f(Q),ke=f(Q),we=u(Q,[{buffer:he,type:Q.FLOAT,size:3},{buffer:ke,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:Q.FLOAT,size:4},{buffer:Me,type:Q.FLOAT,size:2},{buffer:Ae,type:Q.FLOAT,size:3}]),Ee=f(Q),be=f(Q),Le=f(Q),Ue=f(Q),Ve=u(Q,[{buffer:Ee,type:Q.FLOAT,size:3},{buffer:Ue,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:Q.FLOAT,size:4},{buffer:Le,type:Q.FLOAT,size:2}]),Fe=f(Q),He=f(Q),st=f(Q),vt=f(Q),lt=f(Q),et=u(Q,[{buffer:Fe,type:Q.FLOAT,size:3},{buffer:lt,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:Q.FLOAT,size:4},{buffer:st,type:Q.FLOAT,size:2},{buffer:vt,type:Q.FLOAT,size:1}]),ct=f(Q),ht=u(Q,[{buffer:ct,type:Q.FLOAT,size:3}]),mt=new _(Q,ae,Y,oe,ue,K,$,le,he,ke,xe,Me,Ae,we,Ee,Ue,be,Le,Ve,Fe,lt,He,st,vt,et,ct,ht);return mt.update(Z),mt}v.exports=ce},8120:function(v,d,r){v.exports=l;var t=r(2762),i=r(9405),n=r(3603);function f(m,c,A){this.plot=m,this.vbo=c,this.shader=A}var u=f.prototype;u.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var m=[0,0],c=[0,0];return function(A,h,o,p,b){var T=this.plot,P=this.shader,x=T.gl;m[0]=A,m[1]=h,c[0]=o,c[1]=p,P.uniforms.lo=m,P.uniforms.hi=c,P.uniforms.color=b,x.drawArrays(x.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var c=m.gl,A=t(c,[0,0,0,1,1,0,1,1]),h=i(c,n.boxVert,n.lineFrag);return new f(m,A,h)}},1913:function(v,d,r){v.exports=c;var t=r(2762),i=r(9405),n=r(2478),f=r(3603);function u(A,h,o,p){this.plot=A,this.vbo=h,this.shader=o,this.tickShader=p,this.ticks=[[],[]]}function l(A,h){return A-h}var m=u.prototype;m.draw=function(){var A=[0,0],h=[0,0],o=[0,0];return function(){for(var p=this.plot,b=this.vbo,T=this.shader,P=this.ticks,x=p.gl,L=p._tickBounds,M=p.dataBox,s=p.viewBox,E=p.gridLineWidth,w=p.gridLineColor,O=p.gridLineEnable,_=p.pixelRatio,U=0;U<2;++U){var z=L[U],F=L[U+2],B=F-z,N=.5*(M[U+2]+M[U]),V=M[U+2]-M[U];h[U]=2*B/V,A[U]=2*(z-N)/V}T.bind(),b.bind(),T.attributes.dataCoord.pointer(),T.uniforms.dataShift=A,T.uniforms.dataScale=h;for(var X=0,U=0;U<2;++U){o[0]=o[1]=0,o[U]=1,T.uniforms.dataAxis=o,T.uniforms.lineWidth=E[U]/(s[U+2]-s[U])*_,T.uniforms.color=w[U];var q=P[U].length*6;O[U]&&q&&x.drawArrays(x.TRIANGLES,X,q),X+=q}}}(),m.drawTickMarks=function(){var A=[0,0],h=[0,0],o=[1,0],p=[0,1],b=[0,0],T=[0,0];return function(){for(var P=this.plot,x=this.vbo,L=this.tickShader,M=this.ticks,s=P.gl,E=P._tickBounds,w=P.dataBox,O=P.viewBox,_=P.pixelRatio,U=P.screenBox,z=U[2]-U[0],F=U[3]-U[1],B=O[2]-O[0],N=O[3]-O[1],V=0;V<2;++V){var X=E[V],q=E[V+2],te=q-X,ne=.5*(w[V+2]+w[V]),ce=w[V+2]-w[V];h[V]=2*te/ce,A[V]=2*(X-ne)/ce}h[0]*=B/z,A[0]*=B/z,h[1]*=N/F,A[1]*=N/F,L.bind(),x.bind(),L.attributes.dataCoord.pointer();var Q=L.uniforms;Q.dataShift=A,Q.dataScale=h;var Z=P.tickMarkLength,re=P.tickMarkWidth,Y=P.tickMarkColor,oe=0,ue=M[0].length*6,K=Math.min(n.ge(M[0],(w[0]-E[0])/(E[2]-E[0]),l),M[0].length),$=Math.min(n.gt(M[0],(w[2]-E[0])/(E[2]-E[0]),l),M[0].length),le=oe+6*K,ae=6*Math.max(0,$-K),he=Math.min(n.ge(M[1],(w[1]-E[1])/(E[3]-E[1]),l),M[1].length),xe=Math.min(n.gt(M[1],(w[3]-E[1])/(E[3]-E[1]),l),M[1].length),Me=ue+6*he,Ae=6*Math.max(0,xe-he);b[0]=2*(O[0]-Z[1])/z-1,b[1]=(O[3]+O[1])/F-1,T[0]=Z[1]*_/z,T[1]=re[1]*_/F,Ae&&(Q.color=Y[1],Q.tickScale=T,Q.dataAxis=p,Q.screenOffset=b,s.drawArrays(s.TRIANGLES,Me,Ae)),b[0]=(O[2]+O[0])/z-1,b[1]=2*(O[1]-Z[0])/F-1,T[0]=re[0]*_/z,T[1]=Z[0]*_/F,ae&&(Q.color=Y[0],Q.tickScale=T,Q.dataAxis=o,Q.screenOffset=b,s.drawArrays(s.TRIANGLES,le,ae)),b[0]=2*(O[2]+Z[3])/z-1,b[1]=(O[3]+O[1])/F-1,T[0]=Z[3]*_/z,T[1]=re[3]*_/F,Ae&&(Q.color=Y[3],Q.tickScale=T,Q.dataAxis=p,Q.screenOffset=b,s.drawArrays(s.TRIANGLES,Me,Ae)),b[0]=(O[2]+O[0])/z-1,b[1]=2*(O[3]+Z[2])/F-1,T[0]=re[2]*_/z,T[1]=Z[2]*_/F,ae&&(Q.color=Y[2],Q.tickScale=T,Q.dataAxis=o,Q.screenOffset=b,s.drawArrays(s.TRIANGLES,le,ae))}}(),m.update=function(){var A=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(o){var p=o.ticks,b=o.bounds,T=new Float32Array(6*3*(p[0].length+p[1].length));this.plot.zeroLineEnable;for(var P=0,x=[[],[]],L=0;L<2;++L)for(var M=x[L],s=p[L],E=b[L],w=b[L+2],O=0;O<s.length;++O){var _=(s[O].x-E)/(w-E);M.push(_);for(var U=0;U<6;++U)T[P++]=_,T[P++]=A[U],T[P++]=h[U]}this.ticks=x,this.vbo.update(T)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function c(A){var h=A.gl,o=t(h),p=i(h,f.gridVert,f.gridFrag),b=i(h,f.tickVert,f.gridFrag),T=new u(A,o,p,b);return T}},4747:function(v,d,r){v.exports=l;var t=r(2762),i=r(9405),n=r(3603);function f(m,c,A){this.plot=m,this.vbo=c,this.shader=A}var u=f.prototype;u.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var m=[0,0],c=[0,0];return function(A,h,o,p,b,T){var P=this.plot,x=this.shader,L=P.gl;m[0]=A,m[1]=h,c[0]=o,c[1]=p,x.uniforms.start=m,x.uniforms.end=c,x.uniforms.width=b*P.pixelRatio,x.uniforms.color=T,L.drawArrays(L.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var c=m.gl,A=t(c,[-1,-1,-1,1,1,-1,1,1]),h=i(c,n.lineVert,n.lineFrag),o=new f(m,A,h);return o}},3603:function(v,d,r){var t=r(3236),i=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,d,r){v.exports=c;var t=r(2762),i=r(9405),n=r(529),f=r(2478),u=r(3603);function l(A,h,o){this.plot=A,this.vbo=h,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=l.prototype;m.drawTicks=function(){var A=[0,0],h=[0,0],o=[0,0];return function(p){var b=this.plot,T=this.shader,P=this.tickX[p],x=this.tickOffset[p],L=b.gl,M=b.viewBox,s=b.dataBox,E=b.screenBox,w=b.pixelRatio,O=b.tickEnable,_=b.tickPad,U=b.tickColor,z=b.tickAngle,F=b.labelEnable,B=b.labelPad,N=b.labelColor,V=b.labelAngle,X=this.labelOffset[p],q=this.labelCount[p],te=f.lt(P,s[p]),ne=f.le(P,s[p+2]);A[0]=A[1]=0,A[p]=1,h[p]=(M[2+p]+M[p])/(E[2+p]-E[p])-1;var ce=2/E[2+(p^1)]-E[p^1];h[p^1]=ce*M[p^1]-1,O[p]&&(h[p^1]-=ce*w*_[p],te<ne&&x[ne]>x[te]&&(T.uniforms.dataAxis=A,T.uniforms.screenOffset=h,T.uniforms.color=U[p],T.uniforms.angle=z[p],L.drawArrays(L.TRIANGLES,x[te],x[ne]-x[te]))),F[p]&&q&&(h[p^1]-=ce*w*B[p],T.uniforms.dataAxis=o,T.uniforms.screenOffset=h,T.uniforms.color=N[p],T.uniforms.angle=V[p],L.drawArrays(L.TRIANGLES,X,q)),h[p^1]=ce*M[2+(p^1)]-1,O[p+2]&&(h[p^1]+=ce*w*_[p+2],te<ne&&x[ne]>x[te]&&(T.uniforms.dataAxis=A,T.uniforms.screenOffset=h,T.uniforms.color=U[p+2],T.uniforms.angle=z[p+2],L.drawArrays(L.TRIANGLES,x[te],x[ne]-x[te]))),F[p+2]&&q&&(h[p^1]+=ce*w*B[p+2],T.uniforms.dataAxis=o,T.uniforms.screenOffset=h,T.uniforms.color=N[p+2],T.uniforms.angle=V[p+2],L.drawArrays(L.TRIANGLES,X,q))}}(),m.drawTitle=function(){var A=[0,0],h=[0,0];return function(){var o=this.plot,p=this.shader,b=o.gl,T=o.screenBox,P=o.titleCenter,x=o.titleAngle,L=o.titleColor,M=o.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)h[s]=2*(P[s]*M-T[s])/(T[2+s]-T[s])-1;p.bind(),p.uniforms.dataAxis=A,p.uniforms.screenOffset=h,p.uniforms.angle=x,p.uniforms.color=L,b.drawArrays(b.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var A=[0,0],h=[0,0],o=[0,0];return function(){var p=this.plot,b=this.shader,T=p._tickBounds,P=p.dataBox,x=p.screenBox,L=p.viewBox;b.bind();for(var M=0;M<2;++M){var s=T[M],E=T[M+2],w=E-s,O=.5*(P[M+2]+P[M]),_=P[M+2]-P[M],U=L[M],z=L[M+2],F=z-U,B=x[M],N=x[M+2],V=N-B;h[M]=2*w/_*F/V,A[M]=2*(s-O)/_*F/V}o[1]=2*p.pixelRatio/(x[3]-x[1]),o[0]=o[1]*(x[3]-x[1])/(x[2]-x[0]),b.uniforms.dataScale=h,b.uniforms.dataShift=A,b.uniforms.textScale=o,this.vbo.bind(),b.attributes.textCoordinate.pointer()}}(),m.update=function(A){var h=[],o=A.ticks,p=A.bounds,b,T,P,x,L;for(L=0;L<2;++L){var M=[Math.floor(h.length/3)],s=[-1/0],E=o[L];for(b=0;b<E.length;++b){var w=E[b],O=w.x,_=w.text,U=w.font||"sans-serif",z=w.fontStyle||"normal",F=w.fontWeight||"normal",B=w.fontVariant||"normal";x=w.fontSize||12;for(var N=1/(p[L+2]-p[L]),V=p[L],X=_.split(`
`),q=0;q<X.length;q++)for(P=n(U,X[q],{fontStyle:z,fontWeight:F,fontVariant:B}).data,T=0;T<P.length;T+=2)h.push(P[T]*x,-P[T+1]*x-q*x*1.2,(O-V)*N);M.push(Math.floor(h.length/3)),s.push(O)}this.tickOffset[L]=M,this.tickX[L]=s}for(L=0;L<2;++L){for(this.labelOffset[L]=Math.floor(h.length/3),P=n(A.labelFont[L],A.labels[L],{fontStyle:A.labelFontStyle[L],fontWeight:A.labelFontWeight[L],fontVariant:A.labelFontVariant[L],textAlign:"center"}).data,x=A.labelSize[L],b=0;b<P.length;b+=2)h.push(P[b]*x,-P[b+1]*x,0);this.labelCount[L]=Math.floor(h.length/3)-this.labelOffset[L]}for(this.titleOffset=Math.floor(h.length/3),P=n(A.titleFont,A.title,{fontStyle:A.titleFontStyle,fontWeight:A.titleFontWeight,fontVariant:A.titleFontVariant}).data,x=A.titleSize,b=0;b<P.length;b+=2)h.push(P[b]*x,-P[b+1]*x,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(A){var h=A.gl,o=t(h),p=i(h,u.textVert,u.textFrag),b=new l(A,o,p);return b}},1850:function(v,d,r){v.exports=h;var t=r(3589),i=r(1913),n=r(2142),f=r(4747),u=r(8120);function l(o,p){this.gl=o,this.pickBuffer=p,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=l.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var o=this.gl,p=this.screenBox,b=this.viewBox,T=this.dataBox,P=this.pixelRatio,x=this.grid,L=this.line,M=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var E=this.borderColor;o.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),o.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]);var w=this.backgroundColor;o.clearColor(w[0]*w[3],w[1]*w[3],w[2]*w[3],w[3]),o.clear(o.COLOR_BUFFER_BIT),x.draw();var O=this.zeroLineEnable,_=this.zeroLineColor,U=this.zeroLineWidth;if(O[0]||O[1]){L.bind();for(var z=0;z<2;++z)if(!(!O[z]||!(T[z]<=0&&T[z+2]>=0))){var F=p[z]-T[z]*(p[z+2]-p[z])/(T[z+2]-T[z]);z===0?L.drawLine(F,p[1],F,p[3],U[z],_[z]):L.drawLine(p[0],F,p[2],F,U[z],_[z])}}for(var z=0;z<s.length;++z)s[z].draw();o.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),o.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),L.bind();var B=this.borderLineEnable,N=this.borderLineWidth,V=this.borderLineColor;B[1]&&L.drawLine(b[0],b[1]-.5*N[1]*P,b[0],b[3]+.5*N[3]*P,N[1],V[1]),B[0]&&L.drawLine(b[0]-.5*N[0]*P,b[1],b[2]+.5*N[2]*P,b[1],N[0],V[0]),B[3]&&L.drawLine(b[2],b[1]-.5*N[1]*P,b[2],b[3]+.5*N[3]*P,N[3],V[3]),B[2]&&L.drawLine(b[0]-.5*N[0]*P,b[3],b[2]+.5*N[2]*P,b[3],N[2],V[2]),M.bind();for(var z=0;z<2;++z)M.drawTicks(z);this.titleEnable&&M.drawTitle();for(var X=this.overlays,z=0;z<X.length;++z)X[z].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var p=1,b=this.objects,T=0;T<b.length;++T)p=b[T].drawPick(p);o.end()}}}(),m.pick=function(){return function(o,p){if(!this.static){var b=this.pixelRatio,T=this.pickPixelRatio,P=this.viewBox,x=Math.round((o-P[0]/b)*T)|0,L=Math.round((p-P[1]/b)*T)|0,M=this.pickBuffer.query(x,L,this.pickRadius);if(!M)return null;for(var s=M.id+(M.value[0]<<8)+(M.value[1]<<16)+(M.value[2]<<24),E=this.objects,w=0;w<E.length;++w){var O=E[w].pick(x,L,s);if(O)return O}return null}}}();function c(o){for(var p=o.slice(),b=0;b<p.length;++b)p[b]=p[b].slice();return p}function A(o,p){return o.x-p.x}m.setScreenBox=function(o){var p=this.screenBox,b=this.pixelRatio;p[0]=Math.round(o[0]*b)|0,p[1]=Math.round(o[1]*b)|0,p[2]=Math.round(o[2]*b)|0,p[3]=Math.round(o[3]*b)|0,this.setDirty()},m.setDataBox=function(o){var p=this.dataBox,b=p[0]!==o[0]||p[1]!==o[1]||p[2]!==o[2]||p[3]!==o[3];b&&(p[0]=o[0],p[1]=o[1],p[2]=o[2],p[3]=o[3],this.setDirty())},m.setViewBox=function(o){var p=this.pixelRatio,b=this.viewBox;b[0]=Math.round(o[0]*p)|0,b[1]=Math.round(o[1]*p)|0,b[2]=Math.round(o[2]*p)|0,b[3]=Math.round(o[3]*p)|0;var T=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*T)|0,Math.round((o[3]-o[1])*T)|0],this.setDirty()},m.update=function(o){o=o||{};var p=this.gl;this.pixelRatio=o.pixelRatio||1;var b=this.pixelRatio;this.pickPixelRatio=Math.max(b,1),this.setScreenBox(o.screenBox||[0,0,p.drawingBufferWidth/b,p.drawingBufferHeight/b]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/b,.125*(this.screenBox[3]-this.screenBox[1])/b,.875*(this.screenBox[2]-this.screenBox[0])/b,.875*(this.screenBox[3]-this.screenBox[1])/b]);var T=this.viewBox,P=(T[2]-T[0])/(T[3]-T[1]);this.setDataBox(o.dataBox||[-10,-10/P,10,10/P]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(T[0]+T[2])/b,(T[3]+120)/b]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var x=o.ticks||[[],[]],L=this._tickBounds;L[0]=L[1]=1/0,L[2]=L[3]=-1/0;for(var M=0;M<2;++M){var s=x[M].slice(0);s.length!==0&&(s.sort(A),L[M]=Math.min(L[M],s[0].x),L[M+2]=Math.max(L[M+2],s[s.length-1].x))}this.grid.update({bounds:L,ticks:x}),this.text.update({bounds:L,ticks:x,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],labelFontStyle:o.labelFontStyle||["normal","normal"],labelFontWeight:o.labelFontWeight||["normal","normal"],labelFontVariant:o.labelFontVariant||["normal","normal"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif",titleFontStyle:o.titleFontStyle||"normal",titleFontWeight:o.titleFontWeight||"normal",titleFontVariant:o.titleFontVariant||"normal"}),this.static=!!o.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},m.removeObject=function(o){for(var p=this.objects,b=0;b<p.length;++b)if(p[b]===o){p.splice(b,1),this.setDirty();break}},m.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},m.removeOverlay=function(o){for(var p=this.overlays,b=0;b<p.length;++b)if(p[b]===o){p.splice(b,1),this.setOverlayDirty();break}};function h(o){var p=o.gl,b=t(p,[p.drawingBufferWidth,p.drawingBufferHeight]),T=new l(p,b);return T.grid=i(T),T.text=n(T),T.line=f(T),T.box=u(T),T.update(o),T}},4437:function(v,d,r){v.exports=m;var t=r(3025),i=r(6296),n=r(351),f=r(8512),u=r(24),l=r(7520);function m(c,A){c=c||document.body,A=A||{};var h=[.01,1/0];"distanceLimits"in A&&(h[0]=A.distanceLimits[0],h[1]=A.distanceLimits[1]),"zoomMin"in A&&(h[0]=A.zoomMin),"zoomMax"in A&&(h[1]=A.zoomMax);var o=i({center:A.center||[0,0,0],up:A.up||[0,1,0],eye:A.eye||[0,0,10],mode:A.mode||"orbit",distanceLimits:h}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0,T=c.clientWidth,P=c.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:o,element:c,delay:A.delay||16,rotateSpeed:A.rotateSpeed||1,zoomSpeed:A.zoomSpeed||1,translateSpeed:A.translateSpeed||1,flipX:!!A.flipX,flipY:!!A.flipY,modes:o.modes,_ortho:A._ortho||A.projection&&A.projection.type==="orthographic"||!1,tick:function(){var L=t(),M=this.delay,s=L-2*M;o.idle(L-M),o.recalcMatrix(s),o.flush(L-(100+M*2));for(var E=!0,w=o.computedMatrix,O=0;O<16;++O)E=E&&p[O]===w[O],p[O]=w[O];var _=c.clientWidth===T&&c.clientHeight===P;return T=c.clientWidth,P=c.clientHeight,E?!_:(b=Math.exp(o.computedRadius[0]),!0)},lookAt:function(L,M,s){o.lookAt(o.lastT(),L,M,s)},rotate:function(L,M,s){o.rotate(o.lastT(),L,M,s)},pan:function(L,M,s){o.pan(o.lastT(),L,M,s)},translate:function(L,M,s){o.translate(o.lastT(),L,M,s)}};return Object.defineProperties(x,{matrix:{get:function(){return o.computedMatrix},set:function(L){return o.setMatrix(o.lastT(),L),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(L){var M=o.computedUp.slice(),s=o.computedEye.slice(),E=o.computedCenter.slice();if(o.setMode(L),L==="turntable"){var w=t();o._active.lookAt(w,s,E,M),o._active.lookAt(w+500,s,E,[0,0,1]),o._active.flush(w)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(L){return o.lookAt(o.lastT(),null,L),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(L){return o.lookAt(o.lastT(),L),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(L){return o.lookAt(o.lastT(),null,null,L),o.computedUp},enumerable:!0},distance:{get:function(){return b},set:function(L){return o.setDistance(o.lastT(),L),L},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(h)},set:function(L){return o.setDistanceLimits(L),L},enumerable:!0}}),c.addEventListener("contextmenu",function(L){return L.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){x.mouseListener=n(c,L),c.addEventListener("touchstart",function(M){var s=u(M.changedTouches[0],c);L(0,s[0],s[1],x._lastMods),L(1,s[0],s[1],x._lastMods)},l?{passive:!0}:!1),c.addEventListener("touchmove",function(M){var s=u(M.changedTouches[0],c);L(1,s[0],s[1],x._lastMods),M.preventDefault()},l?{passive:!1}:!1),c.addEventListener("touchend",function(M){L(0,x._lastX,x._lastY,x._lastMods)},l?{passive:!0}:!1);function L(M,s,E,w){var O=x.keyBindingMode;if(O!==!1){var _=O==="rotate",U=O==="pan",z=O==="zoom",F=!!w.control,B=!!w.alt,N=!!w.shift,V=!!(M&1),X=!!(M&2),q=!!(M&4),te=1/c.clientHeight,ne=te*(s-x._lastX),ce=te*(E-x._lastY),Q=x.flipX?1:-1,Z=x.flipY?1:-1,re=Math.PI*x.rotateSpeed,Y=t();if(x._lastX!==-1&&x._lastY!==-1&&((_&&V&&!F&&!B&&!N||V&&!F&&!B&&N)&&o.rotate(Y,Q*re*ne,-Z*re*ce,0),(U&&V&&!F&&!B&&!N||X||V&&F&&!B&&!N)&&o.pan(Y,-x.translateSpeed*ne*b,x.translateSpeed*ce*b,0),z&&V&&!F&&!B&&!N||q||V&&!F&&B&&!N)){var oe=-x.zoomSpeed*ce/window.innerHeight*(Y-o.lastT())*100;o.pan(Y,0,0,b*(Math.exp(oe)-1))}return x._lastX=s,x._lastY=E,x._lastMods=w,!0}}x.wheelListener=f(c,function(M,s){if(x.keyBindingMode!==!1&&x.enableWheel){var E=x.flipX?1:-1,w=x.flipY?1:-1,O=t();if(Math.abs(M)>Math.abs(s))o.rotate(O,0,0,-M*E*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var _=-x.zoomSpeed*w*s/window.innerHeight*(O-o.lastT())/20;o.pan(O,0,0,b*(Math.exp(_)-1))}}},!0)},x.enableMouseListeners(),x}},799:function(v,d,r){var t=r(3236),i=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return i(u,n,f,null,[{name:"position",type:"vec2"}])}},4100:function(v,d,r){var t=r(4437),i=r(3837),n=r(5445),f=r(4449),u=r(3589),l=r(2260),m=r(7169),c=r(351),A=r(4772),h=r(4040),o=r(799),p=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:L,createCamera:t};function b(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function T(s,E){var w=null;try{w=s.getContext("webgl",E),w||(w=s.getContext("experimental-webgl",E))}catch{return null}return w}function P(s){var E=Math.round(Math.log(Math.abs(s))/Math.log(10));if(E<0){var w=Math.round(Math.pow(10,-E));return Math.ceil(s*w)/w}else if(E>0){var w=Math.round(Math.pow(10,E));return Math.ceil(s/w)*w}return Math.ceil(s)}function x(s){return typeof s=="boolean"?s:!0}function L(s){s=s||{},s.camera=s.camera||{};var E=s.canvas;if(!E)if(E=document.createElement("canvas"),s.container){var w=s.container;w.appendChild(E)}else document.body.appendChild(E);var O=s.gl;if(O||(s.glOptions&&(p=!!s.glOptions.preserveDrawingBuffer),O=T(E,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!O)throw new Error("webgl not supported");var _=s.bounds||[[-10,-10,-10],[10,10,10]],U=new b,z=l(O,O.drawingBufferWidth,O.drawingBufferHeight,{preferFloat:!p}),F=o(O),B=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,N={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:B},V=s.axes||{},X=i(O,V);X.enable=!V.disable;var q=s.spikes||{},te=f(O,q),ne=[],ce=[],Q=[],Z=[],re=!0,K=!0,Y=new Array(16),oe=new Array(16),ue={view:null,projection:Y,model:oe,_ortho:!1},K=!0,$=[O.drawingBufferWidth,O.drawingBufferHeight],le=s.cameraObject||t(E,N),ae={gl:O,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:E,selection:U,camera:le,axes:X,axesPixels:null,spikes:te,bounds:_,objects:ne,shape:$,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:x(s.autoResize),autoBounds:x(s.autoBounds),autoScale:!!s.autoScale,autoCenter:x(s.autoCenter),clipToBounds:x(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:ue,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ue){this.aspect[0]=Ue.x,this.aspect[1]=Ue.y,this.aspect[2]=Ue.z,K=!0},setBounds:function(Ue,Ve){this.bounds[0][Ue]=Ve.min,this.bounds[1][Ue]=Ve.max},setClearColor:function(Ue){this.clearColor=Ue},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[O.drawingBufferWidth/ae.pixelRatio|0,O.drawingBufferHeight/ae.pixelRatio|0];function xe(){if(!ae._stopped&&ae.autoResize){var Ue=E.parentNode,Ve=1,Fe=1;Ue&&Ue!==document.body?(Ve=Ue.clientWidth,Fe=Ue.clientHeight):(Ve=window.innerWidth,Fe=window.innerHeight);var He=Math.ceil(Ve*ae.pixelRatio)|0,st=Math.ceil(Fe*ae.pixelRatio)|0;if(He!==E.width||st!==E.height){E.width=He,E.height=st;var vt=E.style;vt.position=vt.position||"absolute",vt.left="0px",vt.top="0px",vt.width=Ve+"px",vt.height=Fe+"px",re=!0}}}ae.autoResize&&xe(),window.addEventListener("resize",xe);function Me(){for(var Ue=ne.length,Ve=Z.length,Fe=0;Fe<Ve;++Fe)Q[Fe]=0;e:for(var Fe=0;Fe<Ue;++Fe){var He=ne[Fe],st=He.pickSlots;if(!st){ce[Fe]=-1;continue}for(var vt=0;vt<Ve;++vt)if(Q[vt]+st<255){ce[Fe]=vt,He.setPickBase(Q[vt]+1),Q[vt]+=st;continue e}var lt=u(O,$);ce[Fe]=Ve,Z.push(lt),Q.push(st),He.setPickBase(1),Ve+=1}for(;Ve>0&&Q[Ve-1]===0;)Q.pop(),Z.pop().dispose()}ae.update=function(Ue){ae._stopped||(re=!0,K=!0)},ae.add=function(Ue){ae._stopped||(Ue.axes=X,ne.push(Ue),ce.push(-1),re=!0,K=!0,Me())},ae.remove=function(Ue){if(!ae._stopped){var Ve=ne.indexOf(Ue);Ve<0||(ne.splice(Ve,1),ce.pop(),re=!0,K=!0,Me())}},ae.dispose=function(){if(!ae._stopped&&(ae._stopped=!0,window.removeEventListener("resize",xe),E.removeEventListener("webglcontextlost",Ae),ae.mouseListener.enabled=!1,!ae.contextLost)){X.dispose(),te.dispose();for(var Ue=0;Ue<ne.length;++Ue)ne[Ue].dispose();z.dispose();for(var Ue=0;Ue<Z.length;++Ue)Z[Ue].dispose();F.dispose(),O=null,X=null,te=null,ne=[]}},ae._mouseRotating=!1,ae._prevButtons=0,ae.enableMouseListeners=function(){ae.mouseListener=c(E,function(Ue,Ve,Fe){if(!ae._stopped){var He=Z.length,st=ne.length,vt=U.object;U.distance=1/0,U.mouse[0]=Ve,U.mouse[1]=Fe,U.object=null,U.screen=null,U.dataCoordinate=U.dataPosition=null;var lt=!1;if(Ue&&ae._prevButtons)ae._mouseRotating=!0;else{ae._mouseRotating&&(K=!0),ae._mouseRotating=!1;for(var et=0;et<He;++et){var ct=Z[et].query(Ve,he[1]-Fe-1,ae.pickRadius);if(ct){if(ct.distance>U.distance)continue;for(var ht=0;ht<st;++ht){var mt=ne[ht];if(ce[ht]===et){var xt=mt.pick(ct);xt&&(U.buttons=Ue,U.screen=ct.coord,U.distance=ct.distance,U.object=mt,U.index=xt.distance,U.dataPosition=xt.position,U.dataCoordinate=xt.dataCoordinate,U.data=xt,lt=!0)}}}}}vt&&vt!==U.object&&(vt.highlight&&vt.highlight(null),re=!0),U.object&&(U.object.highlight&&U.object.highlight(U.data),re=!0),lt=lt||U.object!==vt,lt&&ae.onselect&&ae.onselect(U),Ue&1&&!(ae._prevButtons&1)&&ae.onclick&&ae.onclick(U),ae._prevButtons=Ue}})};function Ae(){if(ae.contextLost)return!0;O.isContextLost()&&(ae.contextLost=!0,ae.mouseListener.enabled=!1,ae.selection.object=null,ae.oncontextloss&&ae.oncontextloss())}E.addEventListener("webglcontextlost",Ae);function ke(){if(!Ae()){O.colorMask(!0,!0,!0,!0),O.depthMask(!0),O.disable(O.BLEND),O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL);for(var Ue=ne.length,Ve=Z.length,Fe=0;Fe<Ve;++Fe){var He=Z[Fe];He.shape=he,He.begin();for(var st=0;st<Ue;++st)if(ce[st]===Fe){var vt=ne[st];vt.drawPick&&(vt.pixelRatio=1,vt.drawPick(ue))}He.end()}}}var we=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=[we[0].slice(),we[1].slice()];function be(){if(!Ae()){xe();var Ue=ae.camera.tick();ue.view=ae.camera.matrix,re=re||Ue,K=K||Ue,X.pixelRatio=ae.pixelRatio,te.pixelRatio=ae.pixelRatio;var Ve=ne.length,Fe=we[0],He=we[1];Fe[0]=Fe[1]=Fe[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var st=0;st<Ve;++st){var vt=ne[st];vt.pixelRatio=ae.pixelRatio,vt.axes=ae.axes,re=re||!!vt.dirty,K=K||!!vt.dirty;var lt=vt.bounds;if(lt)for(var et=lt[0],ct=lt[1],ht=0;ht<3;++ht)Fe[ht]=Math.min(Fe[ht],et[ht]),He[ht]=Math.max(He[ht],ct[ht])}var mt=ae.bounds;if(ae.autoBounds)for(var ht=0;ht<3;++ht){if(He[ht]<Fe[ht])Fe[ht]=-1,He[ht]=1;else{Fe[ht]===He[ht]&&(Fe[ht]-=1,He[ht]+=1);var xt=.05*(He[ht]-Fe[ht]);Fe[ht]=Fe[ht]-xt,He[ht]=He[ht]+xt}mt[0][ht]=Fe[ht],mt[1][ht]=He[ht]}for(var Mt=!1,ht=0;ht<3;++ht)Mt=Mt||Ee[0][ht]!==mt[0][ht]||Ee[1][ht]!==mt[1][ht],Ee[0][ht]=mt[0][ht],Ee[1][ht]=mt[1][ht];if(K=K||Mt,re=re||Mt,!!re){if(Mt){for(var tt=[0,0,0],st=0;st<3;++st)tt[st]=P((mt[1][st]-mt[0][st])/10);X.autoTicks?X.update({bounds:mt,tickSpacing:tt}):X.update({bounds:mt})}var Oe=O.drawingBufferWidth,Ye=O.drawingBufferHeight;$[0]=Oe,$[1]=Ye,he[0]=Math.max(Oe/ae.pixelRatio,1)|0,he[1]=Math.max(Ye/ae.pixelRatio,1)|0,M(ae,B);for(var st=0;st<Ve;++st){var vt=ne[st];vt.axesBounds=mt,ae.clipToBounds&&(vt.clipBounds=mt)}U.object&&(ae.snapToData?te.position=U.dataCoordinate:te.position=U.dataPosition,te.bounds=mt),K&&(K=!1,ke()),ae.axesPixels=n(ae.axes,ue,Oe,Ye),ae.onrender&&ae.onrender(),O.bindFramebuffer(O.FRAMEBUFFER,null),O.viewport(0,0,Oe,Ye),ae.clearRGBA(),O.depthMask(!0),O.colorMask(!0,!0,!0,!0),O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL),O.disable(O.BLEND),O.disable(O.CULL_FACE);var Ze=!1;X.enable&&(Ze=Ze||X.isTransparent(),X.draw(ue)),te.axes=X,U.object&&te.draw(ue),O.disable(O.CULL_FACE);for(var st=0;st<Ve;++st){var vt=ne[st];vt.axes=X,vt.pixelRatio=ae.pixelRatio,vt.isOpaque&&vt.isOpaque()&&vt.draw(ue),vt.isTransparent&&vt.isTransparent()&&(Ze=!0)}if(Ze){z.shape=$,z.bind(),O.clear(O.DEPTH_BUFFER_BIT),O.colorMask(!1,!1,!1,!1),O.depthMask(!0),O.depthFunc(O.LESS),X.enable&&X.isTransparent()&&X.drawTransparent(ue);for(var st=0;st<Ve;++st){var vt=ne[st];vt.isOpaque&&vt.isOpaque()&&vt.draw(ue)}O.enable(O.BLEND),O.blendEquation(O.FUNC_ADD),O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA),O.colorMask(!0,!0,!0,!0),O.depthMask(!1),O.clearColor(0,0,0,0),O.clear(O.COLOR_BUFFER_BIT),X.isTransparent()&&X.drawTransparent(ue);for(var st=0;st<Ve;++st){var vt=ne[st];vt.isTransparent&&vt.isTransparent()&&vt.drawTransparent(ue)}O.bindFramebuffer(O.FRAMEBUFFER,null),O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA),O.disable(O.DEPTH_TEST),F.bind(),z.color[0].bind(0),F.uniforms.accumBuffer=0,m(O),O.disable(O.BLEND)}re=!1;for(var st=0;st<Ve;++st)ne[st].dirty=!1}}}function Le(){ae._stopped||ae.contextLost||(be(),requestAnimationFrame(Le))}return ae.enableMouseListeners(),Le(),ae.redraw=function(){ae._stopped||(re=!0,be())},ae}function M(s,E){var w=s.bounds,O=s.cameraParams,_=O.projection,U=O.model,z=s.gl.drawingBufferWidth,F=s.gl.drawingBufferHeight,B=s.zNear,N=s.zFar,V=s.fovy,X=z/F;E?(h(_,-X,X,-1,1,B,N),O._ortho=!0):(A(_,V,X,B,N),O._ortho=!1);for(var q=0;q<16;++q)U[q]=0;U[15]=1;for(var te=0,q=0;q<3;++q)te=Math.max(te,w[1][q]-w[0][q]);for(var q=0;q<3;++q)s.autoScale?U[5*q]=s.aspect[q]/(w[1][q]-w[0][q]):U[5*q]=1/te,s.autoCenter&&(U[12+q]=-U[5*q]*.5*(w[0][q]+w[1][q]))}},6640:function(v,d,r){var t=r(3236);d.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),d.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),d.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),d.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,d,r){var t=r(9405),i=r(2762),n=r(1888),f=r(6640);v.exports=c;function u(A,h,o,p,b){this.plot=A,this.offsetBuffer=h,this.pickBuffer=o,this.shader=p,this.pickShader=b,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(A){var h;A=A||{};function o(M,s){return M in A?A[M]:s}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var p=A.positions.length>>>1,b=A.positions instanceof Float32Array,T=A.idToIndex instanceof Int32Array&&A.idToIndex.length>=p,P=A.positions,x=b?P:n.mallocFloat32(P.length),L=T?A.idToIndex:n.mallocInt32(p);if(b||x.set(P),!T)for(x.set(P),h=0;h<p;h++)L[h]=h;this.points=P,this.offsetBuffer.update(x),this.pickBuffer.update(L),b||n.free(x),T||n.free(L),this.pointCount=p,this.pickOffset=0};function m(A,h){var o=0,p=A.length>>>1,b;for(b=0;b<p;b++){var T=A[b*2],P=A[b*2+1];T>=h[0]&&T<=h[2]&&P>=h[1]&&P<=h[3]&&o++}return o}l.unifiedDraw=function(){var A=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(o){var p=o!==void 0,b=p?this.pickShader:this.shader,T=this.plot.gl,P=this.plot.dataBox;if(this.pointCount===0)return o;var x=P[2]-P[0],L=P[3]-P[1],M=m(this.points,P),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(M,.33333)));A[0]=2/x,A[4]=2/L,A[6]=-2*P[0]/x-1,A[7]=-2*P[1]/L-1,this.offsetBuffer.bind(),b.bind(),b.attributes.position.pointer(),b.uniforms.matrix=A,b.uniforms.color=this.color,b.uniforms.borderColor=this.borderColor,b.uniforms.pointCloud=s<5,b.uniforms.pointSize=s,b.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(h[0]=o&255,h[1]=o>>8&255,h[2]=o>>16&255,h[3]=o>>24&255,this.pickBuffer.bind(),b.attributes.pickId.pointer(T.UNSIGNED_BYTE),b.uniforms.pickOffset=h,this.pickOffset=o);var E=T.getParameter(T.BLEND),w=T.getParameter(T.DITHER);return E&&!this.blend&&T.disable(T.BLEND),w&&T.disable(T.DITHER),T.drawArrays(T.POINTS,0,this.pointCount),E&&!this.blend&&T.enable(T.BLEND),w&&T.enable(T.DITHER),o+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(A,h,o){var p=this.pickOffset,b=this.pointCount;if(o<p||o>=p+b)return null;var T=o-p,P=this.points;return{object:this,pointId:T,dataCoord:[P[2*T],P[2*T+1]]}};function c(A,h){var o=A.gl,p=i(o),b=i(o),T=t(o,f.pointVertex,f.pointFragment),P=t(o,f.pickVertex,f.pickFragment),x=new u(A,p,b,T,P);return x.update(h),A.addObject(x),x}},783:function(v){v.exports=d;function d(r,t,i,n){var f=t[0],u=t[1],l=t[2],m=t[3],c=i[0],A=i[1],h=i[2],o=i[3],p,b,T,P,x;return b=f*c+u*A+l*h+m*o,b<0&&(b=-b,c=-c,A=-A,h=-h,o=-o),1-b>1e-6?(p=Math.acos(b),T=Math.sin(p),P=Math.sin((1-n)*p)/T,x=Math.sin(n*p)/T):(P=1-n,x=n),r[0]=P*f+x*c,r[1]=P*u+x*A,r[2]=P*l+x*h,r[3]=P*m+x*o,r}},5964:function(v){v.exports=function(d){return!d&&d!==0?"":d.toString()}},9366:function(v,d,r){var t=r(4359);v.exports=n;var i={};function n(f,u,l){var m=[u.style,u.weight,u.variant,u.family].join("_"),c=i[m];if(c||(c=i[m]={}),f in c)return c[f];var A={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u.family,fontStyle:u.style,fontWeight:u.weight,fontVariant:u.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};A.triangles=!0;var h=t(f,A);A.triangles=!1;var o=t(f,A),p,b;if(l&&l!==1){for(p=0;p<h.positions.length;++p)for(b=0;b<h.positions[p].length;++b)h.positions[p][b]/=l;for(p=0;p<o.positions.length;++p)for(b=0;b<o.positions[p].length;++b)o.positions[p][b]/=l}var T=[[1/0,1/0],[-1/0,-1/0]],P=o.positions.length;for(p=0;p<P;++p){var x=o.positions[p];for(b=0;b<2;++b)T[0][b]=Math.min(T[0][b],x[b]),T[1][b]=Math.max(T[1][b],x[b])}return c[f]=[h,o,T]}},1283:function(v,d,r){var t=r(9405),i=r(3236),n=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],A={vertex:n,fragment:l,attributes:c},h={vertex:f,fragment:l,attributes:c},o={vertex:u,fragment:l,attributes:c},p={vertex:n,fragment:m,attributes:c},b={vertex:f,fragment:m,attributes:c},T={vertex:u,fragment:m,attributes:c};function P(x,L){var M=t(x,L),s=M.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,M}d.createPerspective=function(x){return P(x,A)},d.createOrtho=function(x){return P(x,h)},d.createProject=function(x){return P(x,o)},d.createPickPerspective=function(x){return P(x,p)},d.createPickOrtho=function(x){return P(x,b)},d.createPickProject=function(x){return P(x,T)}},8418:function(v,d,r){var t=r(5219),i=r(2762),n=r(8116),f=r(1888),u=r(6760),l=r(1283),m=r(9366),c=r(5964),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ce;function h(Q,Z){var re=Q[0],Y=Q[1],oe=Q[2],ue=Q[3];return Q[0]=Z[0]*re+Z[4]*Y+Z[8]*oe+Z[12]*ue,Q[1]=Z[1]*re+Z[5]*Y+Z[9]*oe+Z[13]*ue,Q[2]=Z[2]*re+Z[6]*Y+Z[10]*oe+Z[14]*ue,Q[3]=Z[3]*re+Z[7]*Y+Z[11]*oe+Z[15]*ue,Q}function o(Q,Z,re,Y){return h(Y,Y),h(Y,Y),h(Y,Y)}function p(Q,Z){this.index=Q,this.dataCoordinate=this.position=Z}function b(Q){return Q===!0||Q>1?1:Q}function T(Q,Z,re,Y,oe,ue,K,$,le,ae,he,xe){this.gl=Q,this.pixelRatio=1,this.shader=Z,this.orthoShader=re,this.projectShader=Y,this.pointBuffer=oe,this.colorBuffer=ue,this.glyphBuffer=K,this.idBuffer=$,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=he,this.pickProjectShader=xe,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var P=T.prototype;P.pickSlots=1,P.setPickBase=function(Q){this.pickId=Q},P.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},P.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],L=[0,0,0],M=[0,0,0],s=[0,0,0,1],E=[0,0,0,1],w=A.slice(),O=[0,0,0],_=[[0,0,0],[0,0,0]];function U(Q){return Q[0]=Q[1]=Q[2]=0,Q}function z(Q,Z){return Q[0]=Z[0],Q[1]=Z[1],Q[2]=Z[2],Q[3]=1,Q}function F(Q,Z,re,Y){return Q[0]=Z[0],Q[1]=Z[1],Q[2]=Z[2],Q[re]=Y,Q}function B(Q){for(var Z=_,re=0;re<2;++re)for(var Y=0;Y<3;++Y)Z[re][Y]=Math.max(Math.min(Q[re][Y],1e8),-1e8);return Z}function N(Q,Z,re,Y){var oe=Z.axesProject,ue=Z.gl,K=Q.uniforms,$=re.model||A,le=re.view||A,ae=re.projection||A,he=Z.axesBounds,xe=B(Z.clipBounds),Me;Z.axes&&Z.axes.lastCubeProps?Me=Z.axes.lastCubeProps.axis:Me=[1,1,1],x[0]=2/ue.drawingBufferWidth,x[1]=2/ue.drawingBufferHeight,Q.bind(),K.view=le,K.projection=ae,K.screenSize=x,K.highlightId=Z.highlightId,K.highlightScale=Z.highlightScale,K.clipBounds=xe,K.pickGroup=Z.pickId/255,K.pixelRatio=Y;for(var Ae=0;Ae<3;++Ae)if(oe[Ae]){K.scale=Z.projectScale[Ae],K.opacity=Z.projectOpacity[Ae];for(var ke=w,we=0;we<16;++we)ke[we]=0;for(var we=0;we<4;++we)ke[5*we]=1;ke[5*Ae]=0,Me[Ae]<0?ke[12+Ae]=he[0][Ae]:ke[12+Ae]=he[1][Ae],u(ke,$,ke),K.model=ke;var Ee=(Ae+1)%3,be=(Ae+2)%3,Le=U(L),Ue=U(M);Le[Ee]=1,Ue[be]=1;var Ve=o(ae,le,$,z(s,Le)),Fe=o(ae,le,$,z(E,Ue));if(Math.abs(Ve[1])>Math.abs(Fe[1])){var He=Ve;Ve=Fe,Fe=He,He=Le,Le=Ue,Ue=He;var st=Ee;Ee=be,be=st}Ve[0]<0&&(Le[Ee]=-1),Fe[1]>0&&(Ue[be]=-1);for(var vt=0,lt=0,we=0;we<4;++we)vt+=Math.pow($[4*Ee+we],2),lt+=Math.pow($[4*be+we],2);Le[Ee]/=Math.sqrt(vt),Ue[be]/=Math.sqrt(lt),K.axes[0]=Le,K.axes[1]=Ue,K.fragClipBounds[0]=F(O,xe[0],Ae,-1e8),K.fragClipBounds[1]=F(O,xe[1],Ae,1e8),Z.vao.bind(),Z.vao.draw(ue.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(ue.lineWidth(Z.lineWidth*Y),Z.vao.draw(ue.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}var V=[-1e8,-1e8,-1e8],X=[1e8,1e8,1e8],q=[V,X];function te(Q,Z,re,Y,oe,ue,K){var $=re.gl;if((ue===re.projectHasAlpha||K)&&N(Z,re,Y,oe),ue===re.hasAlpha||K){Q.bind();var le=Q.uniforms;le.model=Y.model||A,le.view=Y.view||A,le.projection=Y.projection||A,x[0]=2/$.drawingBufferWidth,x[1]=2/$.drawingBufferHeight,le.screenSize=x,le.highlightId=re.highlightId,le.highlightScale=re.highlightScale,le.fragClipBounds=q,le.clipBounds=re.axes.bounds,le.opacity=re.opacity,le.pickGroup=re.pickId/255,le.pixelRatio=oe,re.vao.bind(),re.vao.draw($.TRIANGLES,re.vertexCount),re.lineWidth>0&&($.lineWidth(re.lineWidth*oe),re.vao.draw($.LINES,re.lineVertexCount,re.vertexCount)),re.vao.unbind()}}P.draw=function(Q){var Z=this.useOrtho?this.orthoShader:this.shader;te(Z,this.projectShader,this,Q,this.pixelRatio,!1,!1)},P.drawTransparent=function(Q){var Z=this.useOrtho?this.orthoShader:this.shader;te(Z,this.projectShader,this,Q,this.pixelRatio,!0,!1)},P.drawPick=function(Q){var Z=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;te(Z,this.pickProjectShader,this,Q,1,!0,!0)},P.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var Z=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(Z>=this.pointCount||Z<0)return null;var re=this.points[Z],Y=this._selectResult;Y.index=Z;for(var oe=0;oe<3;++oe)Y.position[oe]=Y.dataCoordinate[oe]=re[oe];return Y},P.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var Z=Q.index,re=Z&255,Y=Z>>8&255,oe=Z>>16&255;this.highlightId=[re/255,Y/255,oe/255,0]}};function ne(Q,Z,re,Y){var oe;Array.isArray(Q)?Z<Q.length?oe=Q[Z]:oe=void 0:oe=Q,oe=c(oe);var ue=!0;t(oe)&&(oe="",ue=!1),re||(re={});var K=re.family;Array.isArray(K)&&(K=K[Z]),K||(K="normal");var $=re.weight;Array.isArray($)&&($=$[Z]),$||($="normal");var le=re.style;Array.isArray(le)&&(le=le[Z]),le||(le="normal");var ae=re.variant;Array.isArray(ae)&&(ae=ae[Z]),ae||(ae="normal");var he=m(oe,{family:K,weight:$,style:le,variant:ae},Y),he=m(oe,re,Y);return{mesh:he[0],lines:he[1],bounds:he[2],visible:ue}}P.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(Array.isArray(Q.project))this.axesProject=Q.project;else{var Z=!!Q.project;this.axesProject=[Z,Z,Z]}if("projectScale"in Q)if(Array.isArray(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var re=+Q.projectScale;this.projectScale=[re,re,re]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(Array.isArray(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var re=+Q.projectOpacity;this.projectOpacity=[re,re,re]}for(var Y=0;Y<3;++Y)this.projectOpacity[Y]=b(this.projectOpacity[Y]),this.projectOpacity[Y]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=b(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var oe=Q.position,ue={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},K=Q.alignment||[0,0],$,le;if(K.length===2)$=K[0],le=K[1];else{$=[],le=[];for(var Y=0;Y<K.length;++Y)$[Y]=K[Y][0],le[Y]=K[Y][1]}var ae=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],xe=Q.glyph,Me=Q.color,Ae=Q.size,ke=Q.angle,we=Q.lineColor,Ee=-1,be=0,Le=0,Ue=0;if(oe.length){Ue=oe.length;e:for(var Y=0;Y<Ue;++Y){for(var Ve=oe[Y],Fe=0;Fe<3;++Fe)if(isNaN(Ve[Fe])||!isFinite(Ve[Fe]))continue e;var He=ne(xe,Y,ue,this.pixelRatio),st=He.mesh,vt=He.lines,lt=He.bounds;be+=st.cells.length*3,Le+=vt.edges.length*2}}var et=be+Le,ct=f.mallocFloat(3*et),ht=f.mallocFloat(4*et),mt=f.mallocFloat(2*et),xt=f.mallocUint32(et);if(et>0){var Mt=0,tt=be,Oe=[0,0,0,1],Ye=[0,0,0,1],Ze=Array.isArray(Me)&&Array.isArray(Me[0]),We=Array.isArray(we)&&Array.isArray(we[0]);e:for(var Y=0;Y<Ue;++Y){Ee+=1;for(var Ve=oe[Y],Fe=0;Fe<3;++Fe){if(isNaN(Ve[Fe])||!isFinite(Ve[Fe]))continue e;he[Fe]=Math.max(he[Fe],Ve[Fe]),ae[Fe]=Math.min(ae[Fe],Ve[Fe])}var He=ne(xe,Y,ue,this.pixelRatio),st=He.mesh,vt=He.lines,lt=He.bounds,_e=He.visible;if(!_e)Oe=[1,1,1,0];else if(Array.isArray(Me)){var Ie;if(Ze?Y<Me.length?Ie=Me[Y]:Ie=[0,0,0,0]:Ie=Me,Ie.length===3){for(var Fe=0;Fe<3;++Fe)Oe[Fe]=Ie[Fe];Oe[3]=1}else if(Ie.length===4){for(var Fe=0;Fe<4;++Fe)Oe[Fe]=Ie[Fe];!this.hasAlpha&&Ie[3]<1&&(this.hasAlpha=!0)}}else Oe[0]=Oe[1]=Oe[2]=0,Oe[3]=1;if(!_e)Ye=[1,1,1,0];else if(Array.isArray(we)){var Ie;if(We?Y<we.length?Ie=we[Y]:Ie=[0,0,0,0]:Ie=we,Ie.length===3){for(var Fe=0;Fe<3;++Fe)Ye[Fe]=Ie[Fe];Ye[Fe]=1}else if(Ie.length===4){for(var Fe=0;Fe<4;++Fe)Ye[Fe]=Ie[Fe];!this.hasAlpha&&Ie[3]<1&&(this.hasAlpha=!0)}}else Ye[0]=Ye[1]=Ye[2]=0,Ye[3]=1;var Xe=.5;_e?Array.isArray(Ae)?Y<Ae.length?Xe=+Ae[Y]:Xe=12:Ae?Xe=+Ae:this.useOrtho&&(Xe=12):Xe=0;var De=0;Array.isArray(ke)?Y<ke.length?De=+ke[Y]:De=0:ke&&(De=+ke);for(var de=Math.cos(De),Te=Math.sin(De),Ve=oe[Y],Fe=0;Fe<3;++Fe)he[Fe]=Math.max(he[Fe],Ve[Fe]),ae[Fe]=Math.min(ae[Fe],Ve[Fe]);var Be=$,Qe=le,Be=0;Array.isArray($)?Y<$.length?Be=$[Y]:Be=0:$&&(Be=$);var Qe=0;Array.isArray(le)?Y<le.length?Qe=le[Y]:Qe=0:le&&(Qe=le),Be*=Be>0?1-lt[0][0]:Be<0?1+lt[1][0]:1,Qe*=Qe>0?1-lt[0][1]:Qe<0?1+lt[1][1]:1;for(var at=[Be,Qe],Lt=st.cells||[],Xt=st.positions||[],Fe=0;Fe<Lt.length;++Fe)for(var it=Lt[Fe],Wt=0;Wt<3;++Wt){for(var Yt=0;Yt<3;++Yt)ct[3*Mt+Yt]=Ve[Yt];for(var Yt=0;Yt<4;++Yt)ht[4*Mt+Yt]=Oe[Yt];xt[Mt]=Ee;var Tt=Xt[it[Wt]];mt[2*Mt]=Xe*(de*Tt[0]-Te*Tt[1]+at[0]),mt[2*Mt+1]=Xe*(Te*Tt[0]+de*Tt[1]+at[1]),Mt+=1}for(var Lt=vt.edges,Xt=vt.positions,Fe=0;Fe<Lt.length;++Fe)for(var it=Lt[Fe],Wt=0;Wt<2;++Wt){for(var Yt=0;Yt<3;++Yt)ct[3*tt+Yt]=Ve[Yt];for(var Yt=0;Yt<4;++Yt)ht[4*tt+Yt]=Ye[Yt];xt[tt]=Ee;var Tt=Xt[it[Wt]];mt[2*tt]=Xe*(de*Tt[0]-Te*Tt[1]+at[0]),mt[2*tt+1]=Xe*(Te*Tt[0]+de*Tt[1]+at[1]),tt+=1}}}this.bounds=[ae,he],this.points=oe,this.pointCount=oe.length,this.vertexCount=be,this.lineVertexCount=Le,this.pointBuffer.update(ct),this.colorBuffer.update(ht),this.glyphBuffer.update(mt),this.idBuffer.update(xt),f.free(ct),f.free(ht),f.free(mt),f.free(xt)},P.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ce(Q){var Z=Q.gl,re=l.createPerspective(Z),Y=l.createOrtho(Z),oe=l.createProject(Z),ue=l.createPickPerspective(Z),K=l.createPickOrtho(Z),$=l.createPickProject(Z),le=i(Z),ae=i(Z),he=i(Z),xe=i(Z),Me=n(Z,[{buffer:le,size:3,type:Z.FLOAT},{buffer:ae,size:4,type:Z.FLOAT},{buffer:he,size:2,type:Z.FLOAT},{buffer:xe,size:4,type:Z.UNSIGNED_BYTE,normalized:!0}]),Ae=new T(Z,re,Y,oe,le,ae,he,xe,Me,ue,K,$);return Ae.update(Q),Ae}},4298:function(v,d,r){var t=r(3236);d.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),d.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,d,r){var t=r(9405),i=r(2762),n=r(4298);v.exports=l;function f(m,c,A){this.plot=m,this.boxBuffer=c,this.boxShader=A,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=f.prototype;u.draw=function(){if(this.enabled){var m=this.plot,c=this.selectBox,A=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var o=this.outerColor,p=this.borderColor,b=m.box,T=m.screenBox,P=m.dataBox,x=m.viewBox,L=m.pixelRatio,M=(c[0]-P[0])*(x[2]-x[0])/(P[2]-P[0])+x[0],s=(c[1]-P[1])*(x[3]-x[1])/(P[3]-P[1])+x[1],E=(c[2]-P[0])*(x[2]-x[0])/(P[2]-P[0])+x[0],w=(c[3]-P[1])*(x[3]-x[1])/(P[3]-P[1])+x[1];if(M=Math.max(M,x[0]),s=Math.max(s,x[1]),E=Math.min(E,x[2]),w=Math.min(w,x[3]),!(E<M||w<s)){b.bind();var O=T[2]-T[0],_=T[3]-T[1];if(this.outerFill&&(b.drawBox(0,0,O,s,o),b.drawBox(0,s,M,w,o),b.drawBox(0,w,O,_,o),b.drawBox(E,s,O,w,o)),this.innerFill&&b.drawBox(M,s,E,w,h),A>0){var U=A*L;b.drawBox(M-U,s-U,E+U,s+U,p),b.drawBox(M-U,w-U,E+U,w+U,p),b.drawBox(M-U,s-U,M+U,w+U,p),b.drawBox(E-U,s-U,E+U,w+U,p)}}}},u.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(m,c){var A=m.gl,h=i(A,[0,0,0,1,1,0,1,1]),o=t(A,n.boxVertex,n.boxFragment),p=new f(m,h,o);return p.update(c),m.addOverlay(p),p}},3589:function(v,d,r){v.exports=A;var t=r(2260),i=r(1888),n=r(9618),f=r(8828).nextPow2,u=function(h,o,p){for(var b=1e8,T=-1,P=-1,x=h.shape[0],L=h.shape[1],M=0;M<x;M++)for(var s=0;s<L;s++){var E=h.get(M,s,0),w=h.get(M,s,1),O=h.get(M,s,2),_=h.get(M,s,3);if(E<255||w<255||O<255||_<255){var U=o-M,z=p-s,F=U*U+z*z;F<b&&(b=F,T=M,P=s)}}return[T,P,b]};function l(h,o,p,b,T){this.coord=[h,o],this.id=p,this.value=b,this.distance=T}function m(h,o,p){this.gl=h,this.fbo=o,this.buffer=p,this._readTimeout=null;var b=this;this._readCallback=function(){b.gl&&(o.bind(),h.readPixels(0,0,o.shape[0],o.shape[1],h.RGBA,h.UNSIGNED_BYTE,b.buffer),b._readTimeout=null)}}var c=m.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var o=this.fbo.shape[0],p=this.fbo.shape[1];if(p*o*4>this.buffer.length){i.free(this.buffer);for(var b=this.buffer=i.mallocUint8(f(p*o*4)),T=0;T<p*o*4;++T)b[T]=255}return h}}}),c.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},c.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(h,o,p){if(!this.gl)return null;var b=this.fbo.shape.slice();h=h|0,o=o|0,typeof p!="number"&&(p=1);var T=Math.min(Math.max(h-p,0),b[0])|0,P=Math.min(Math.max(h+p,0),b[0])|0,x=Math.min(Math.max(o-p,0),b[1])|0,L=Math.min(Math.max(o+p,0),b[1])|0;if(P<=T||L<=x)return null;var M=[P-T,L-x],s=n(this.buffer,[M[0],M[1],4],[4,b[0]*4,1],4*(T+b[0]*x)),E=u(s.hi(M[0],M[1],1),p,p),w=E[0],O=E[1];if(w<0||Math.pow(this.radius,2)<E[2])return null;var _=s.get(w,O,0),U=s.get(w,O,1),z=s.get(w,O,2),F=s.get(w,O,3);return new l(w+T|0,O+x|0,_,[U,z,F],Math.sqrt(E[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function A(h,o){var p=o[0],b=o[1],T={},P=t(h,p,b,T),x=i.mallocUint8(p*b*4);return new m(h,P,x)}},9405:function(v,d,r){var t=r(3327),i=r(8731),n=r(216),f=r(5091),u=r(2145),l=r(8866);function m(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=m.prototype;c.bind=function(){this.program||this._relink();var o,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),b=this.gl.lastAttribCount;if(p>b)for(o=b;o<p;o++)this.gl.enableVertexAttribArray(o);else if(b>p)for(o=p;o<b;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},c.dispose=function(){for(var o=this.gl.lastAttribCount,p=0;p<o;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function A(o,p){return o.name<p.name?-1:1}c.update=function(o,p,b,T){if(!p||arguments.length===1){var P=o;o=P.vertex,p=P.fragment,b=P.uniforms,T=P.attributes}var x=this,L=x.gl,M=x._vref;x._vref=f.shader(L,L.VERTEX_SHADER,o),M&&M.dispose(),x.vertShader=x._vref.shader;var s=this._fref;if(x._fref=f.shader(L,L.FRAGMENT_SHADER,p),s&&s.dispose(),x.fragShader=x._fref.shader,!b||!T){var E=L.createProgram();if(L.attachShader(E,x.fragShader),L.attachShader(E,x.vertShader),L.linkProgram(E),!L.getProgramParameter(E,L.LINK_STATUS)){var w=L.getProgramInfoLog(E);throw new l(w,"Error linking program:"+w)}b=b||u.uniforms(L,E),T=T||u.attributes(L,E),L.deleteProgram(E)}T=T.slice(),T.sort(A);var O=[],_=[],U=[],z;for(z=0;z<T.length;++z){var F=T[z];if(F.type.indexOf("mat")>=0){for(var B=F.type.charAt(F.type.length-1)|0,N=new Array(B),V=0;V<B;++V)N[V]=U.length,_.push(F.name+"["+V+"]"),typeof F.location=="number"?U.push(F.location+V):Array.isArray(F.location)&&F.location.length===B&&typeof F.location[V]=="number"?U.push(F.location[V]|0):U.push(-1);O.push({name:F.name,type:F.type,locations:N})}else O.push({name:F.name,type:F.type,locations:[U.length]}),_.push(F.name),typeof F.location=="number"?U.push(F.location|0):U.push(-1)}var X=0;for(z=0;z<U.length;++z)if(U[z]<0){for(;U.indexOf(X)>=0;)X+=1;U[z]=X}var q=new Array(b.length);function te(){x.program=f.program(L,x._vref,x._fref,_,U);for(var ne=0;ne<b.length;++ne)q[ne]=L.getUniformLocation(x.program,b[ne].name)}te(),x._relink=te,x.types={uniforms:n(b),attributes:n(T)},x.attributes=i(L,x,O,U),Object.defineProperty(x,"uniforms",t(L,x,b,q))};function h(o,p,b,T,P){var x=new m(o);return x.update(p,b,T,P),x}v.exports=h},8866:function(v){function d(r,t,i){this.shortMessage=t||"",this.longMessage=i||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(i?`
`+i:""),this.stack=new Error().stack}d.prototype=new Error,d.prototype.name="GLError",d.prototype.constructor=d,v.exports=d},8731:function(v,d,r){v.exports=m;var t=r(8866);function i(c,A,h,o,p,b){this._gl=c,this._wrapper=A,this._index=h,this._locations=o,this._dimension=p,this._constFunc=b}var n=i.prototype;n.pointer=function(A,h,o,p){var b=this,T=b._gl,P=b._locations[b._index];T.vertexAttribPointer(P,b._dimension,A||T.FLOAT,!!h,o||0,p||0),T.enableVertexAttribArray(P)},n.set=function(c,A,h,o){return this._constFunc(this._locations[this._index],c,A,h,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=c|0,this._wrapper.program=null),c|0}});var f=[function(c,A,h){return h.length===void 0?c.vertexAttrib1f(A,h):c.vertexAttrib1fv(A,h)},function(c,A,h,o){return h.length===void 0?c.vertexAttrib2f(A,h,o):c.vertexAttrib2fv(A,h)},function(c,A,h,o,p){return h.length===void 0?c.vertexAttrib3f(A,h,o,p):c.vertexAttrib3fv(A,h)},function(c,A,h,o,p,b){return h.length===void 0?c.vertexAttrib4f(A,h,o,p,b):c.vertexAttrib4fv(A,h)}];function u(c,A,h,o,p,b,T){var P=f[p],x=new i(c,A,h,o,p,P);Object.defineProperty(b,T,{set:function(L){return c.disableVertexAttribArray(o[h]),P(c,o[h],L),L},get:function(){return x},enumerable:!0})}function l(c,A,h,o,p,b,T){for(var P=new Array(p),x=new Array(p),L=0;L<p;++L)u(c,A,h[L],o,p,P,L),x[L]=P[L];Object.defineProperty(P,"location",{set:function(E){if(Array.isArray(E))for(var w=0;w<p;++w)x[w].location=E[w];else for(var w=0;w<p;++w)x[w].location=E+w;return E},get:function(){for(var E=new Array(p),w=0;w<p;++w)E[w]=o[h[w]];return E},enumerable:!0}),P.pointer=function(E,w,O,_){E=E||c.FLOAT,w=!!w,O=O||p*p,_=_||0;for(var U=0;U<p;++U){var z=o[h[U]];c.vertexAttribPointer(z,p,E,w,O,_+U*p),c.enableVertexAttribArray(z)}};var M=new Array(p),s=c["vertexAttrib"+p+"fv"];Object.defineProperty(b,T,{set:function(E){for(var w=0;w<p;++w){var O=o[h[w]];if(c.disableVertexAttribArray(O),Array.isArray(E[0]))s.call(c,O,E[w]);else{for(var _=0;_<p;++_)M[_]=E[p*w+_];s.call(c,O,M)}}return E},get:function(){return P},enumerable:!0})}function m(c,A,h,o){for(var p={},b=0,T=h.length;b<T;++b){var P=h[b],x=P.name,L=P.type,M=P.locations;switch(L){case"bool":case"int":case"float":u(c,A,M[0],o,1,p,x);break;default:if(L.indexOf("vec")>=0){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+x+": "+L);u(c,A,M[0],o,s,p,x)}else if(L.indexOf("mat")>=0){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+x+": "+L);l(c,A,M,o,s,p,x)}else throw new t("","Unknown data type for attribute "+x+": "+L);break}}return p}},3327:function(v,d,r){var t=r(216),i=r(8866);v.exports=u;function n(l){return function(){return l}}function f(l,m){for(var c=new Array(l),A=0;A<l;++A)c[A]=m;return c}function u(l,m,c,A){function h(L){return function(M,s,E){return M.getUniform(s.program,E[L])}}function o(L){return function(s){for(var E=p("",L),w=0;w<E.length;++w){var O=E[w],_=O[0],U=O[1];if(A[U]){var z=s;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var F=_;if(_.indexOf(".")===0&&(F=_.slice(1)),F.indexOf("]")===F.length-1){var B=F.indexOf("["),N=F.slice(0,B),V=F.slice(B+1,F.length-1);z=N?s[N][V]:s[V]}else z=s[F]}var X=c[U].type,q;switch(X){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(A[U],z);break;case"float":l.uniform1f(A[U],z);break;default:var te=X.indexOf("vec");if(0<=te&&te<=1&&X.length===4+te){if(q=X.charCodeAt(X.length-1)-48,q<2||q>4)throw new i("","Invalid data type");switch(X.charAt(0)){case"b":case"i":l["uniform"+q+"iv"](A[U],z);break;case"v":l["uniform"+q+"fv"](A[U],z);break;default:throw new i("","Unrecognized data type for vector "+name+": "+X)}}else if(X.indexOf("mat")===0&&X.length===4){if(q=X.charCodeAt(X.length-1)-48,q<2||q>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+X);l["uniformMatrix"+q+"fv"](A[U],!1,z);break}else throw new i("","Unknown uniform data type for "+name+": "+X)}}}}}function p(L,M){if(typeof M!="object")return[[L,M]];var s=[];for(var E in M){var w=M[E],O=L;parseInt(E)+""===E?O+="["+E+"]":O+="."+E,typeof w=="object"?s.push.apply(s,p(O,w)):s.push([O,w])}return s}function b(L){switch(L){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var M=L.indexOf("vec");if(0<=M&&M<=1&&L.length===4+M){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new i("","Invalid data type");return L.charAt(0)==="b"?f(s,!1):f(s,0)}else if(L.indexOf("mat")===0&&L.length===4){var s=L.charCodeAt(L.length-1)-48;if(s<2||s>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+L);return f(s*s,0)}else throw new i("","Unknown uniform data type for "+name+": "+L)}}function T(L,M,s){if(typeof s=="object"){var E=P(s);Object.defineProperty(L,M,{get:n(E),set:o(s),enumerable:!0,configurable:!1})}else A[s]?Object.defineProperty(L,M,{get:h(s),set:o(s),enumerable:!0,configurable:!1}):L[M]=b(c[s].type)}function P(L){var M;if(Array.isArray(L)){M=new Array(L.length);for(var s=0;s<L.length;++s)T(M,s,L[s])}else{M={};for(var E in L)T(M,E,L[E])}return M}var x=t(c,!0);return{get:n(P(x)),set:o(x),enumerable:!0,configurable:!0}}},216:function(v){v.exports=d;function d(r,t){for(var i={},n=0;n<r.length;++n)for(var f=r[n].name,u=f.split("."),l=i,m=0;m<u.length;++m){var c=u[m].split("[");if(c.length>1){c[0]in l||(l[c[0]]=[]),l=l[c[0]];for(var A=1;A<c.length;++A){var h=parseInt(c[A]);A<c.length-1||m<u.length-1?(h in l||(A<c.length-1?l[h]=[]:l[h]={}),l=l[h]):t?l[h]=n:l[h]=r[n].type}}else m<u.length-1?(c[0]in l||(l[c[0]]={}),l=l[c[0]]):t?l[c[0]]=n:l[c[0]]=r[n].type}return i}},2145:function(v,d){d.uniforms=n,d.attributes=f;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function i(u,l){if(!t){var m=Object.keys(r);t={};for(var c=0;c<m.length;++c){var A=m[c];t[u[A]]=r[A]}}return t[l]}function n(u,l){for(var m=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),c=[],A=0;A<m;++A){var h=u.getActiveUniform(l,A);if(h){var o=i(u,h.type);if(h.size>1)for(var p=0;p<h.size;++p)c.push({name:h.name.replace("[0]","["+p+"]"),type:o});else c.push({name:h.name,type:o})}}return c}function f(u,l){for(var m=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),c=[],A=0;A<m;++A){var h=u.getActiveAttrib(l,A);h&&c.push({name:h.name,type:i(u,h.type)})}return c}},5091:function(v,d,r){d.shader=p,d.program=b;var t=r(8866),i=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,f=new n,u=0;function l(T,P,x,L,M,s,E){this.id=T,this.src=P,this.type=x,this.shader=L,this.count=s,this.programs=[],this.cache=E}l.prototype.dispose=function(){if(--this.count===0){for(var T=this.cache,P=T.gl,x=this.programs,L=0,M=x.length;L<M;++L){var s=T.programs[x[L]];s&&(delete T.programs[L],P.deleteProgram(s))}P.deleteShader(this.shader),delete T.shaders[this.type===P.FRAGMENT_SHADER|0][this.src]}};function m(T){this.gl=T,this.shaders=[{},{}],this.programs={}}var c=m.prototype;function A(T,P,x){var L=T.createShader(P);if(T.shaderSource(L,x),T.compileShader(L),!T.getShaderParameter(L,T.COMPILE_STATUS)){var M=T.getShaderInfoLog(L);try{var s=i(M,x,P)}catch(E){throw console.warn("Failed to format compiler error: "+E),new t(M,`Error compiling shader:
`+M)}throw new t(M,s.short,s.long)}return L}c.getShaderReference=function(T,P){var x=this.gl,L=this.shaders[T===x.FRAGMENT_SHADER|0],M=L[P];if(!M||!x.isShader(M.shader)){var s=A(x,T,P);M=L[P]=new l(u++,P,T,s,[],1,this)}else M.count+=1;return M};function h(T,P,x,L,M){var s=T.createProgram();T.attachShader(s,P),T.attachShader(s,x);for(var E=0;E<L.length;++E)T.bindAttribLocation(s,M[E],L[E]);if(T.linkProgram(s),!T.getProgramParameter(s,T.LINK_STATUS)){var w=T.getProgramInfoLog(s);throw new t(w,"Error linking program: "+w)}return s}c.getProgram=function(T,P,x,L){var M=[T.id,P.id,x.join(":"),L.join(":")].join("@"),s=this.programs[M];return(!s||!this.gl.isProgram(s))&&(this.programs[M]=s=h(this.gl,T.shader,P.shader,x,L),T.programs.push(M),P.programs.push(M)),s};function o(T){var P=f.get(T);return P||(P=new m(T),f.set(T,P)),P}function p(T,P,x){return o(T).getShaderReference(P,x)}function b(T,P,x,L,M){return o(T).getProgram(P,x,L,M)}},4098:function(v){v.exports=t;function d(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=d.prototype;r.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var i=this.enable,n=this.width,f=this.color,u=this.center,l=this.plot,m=l.line,c=l.dataBox,A=l.viewBox;if(m.bind(),c[0]<=u[0]&&u[0]<=c[2]&&c[1]<=u[1]&&u[1]<=c[3]){var h=A[0]+(u[0]-c[0])/(c[2]-c[0])*(A[2]-A[0]),o=A[1]+(u[1]-c[1])/(c[3]-c[1])*(A[3]-A[1]);i[0]&&m.drawLine(h,o,A[0],o,n[0],f[0]),i[1]&&m.drawLine(h,o,h,A[1],n[1],f[1]),i[2]&&m.drawLine(h,o,A[2],o,n[2],f[2]),i[3]&&m.drawLine(h,o,h,A[3],n[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(i,n){var f=new d(i);return f.update(n),i.addOverlay(f),f}},1493:function(v,d,r){var t=r(3236),i=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return i(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,d,r){var t=r(2762),i=r(8116),n=r(1493);v.exports=h;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(o,p,b,T){this.gl=o,this.buffer=p,this.vao=b,this.shader=T,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,m=[0,0,0],c=[0,0,0],A=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(o){},l.draw=function(o){var p=this.gl,b=this.vao,T=this.shader;b.bind(),T.bind();var P=o.model||f,x=o.view||f,L=o.projection||f,M;this.axes&&(M=this.axes.lastCubeProps.axis);for(var s=m,E=c,w=0;w<3;++w)M&&M[w]<0?(s[w]=this.bounds[0][w],E[w]=this.bounds[1][w]):(s[w]=this.bounds[1][w],E[w]=this.bounds[0][w]);A[0]=p.drawingBufferWidth,A[1]=p.drawingBufferHeight,T.uniforms.model=P,T.uniforms.view=x,T.uniforms.projection=L,T.uniforms.coordinates=[this.position,s,E],T.uniforms.colors=this.colors,T.uniforms.screenShape=A;for(var w=0;w<3;++w)T.uniforms.lineWidth=this.lineWidth[w]*this.pixelRatio,this.enabled[w]&&(b.draw(p.TRIANGLES,6,6*w),this.drawSides[w]&&b.draw(p.TRIANGLES,12,18+12*w));b.unbind()},l.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(o,p){var b=[];function T(s,E,w,O,_,U){var z=[s,E,w,0,0,0,1];z[O+3]=1,z[O]=_,b.push.apply(b,z),z[6]=-1,b.push.apply(b,z),z[O]=U,b.push.apply(b,z),b.push.apply(b,z),z[6]=1,b.push.apply(b,z),z[O]=_,b.push.apply(b,z)}T(0,0,0,0,0,1),T(0,0,0,1,0,1),T(0,0,0,2,0,1),T(1,0,0,1,-1,1),T(1,0,0,2,-1,1),T(0,1,0,0,-1,1),T(0,1,0,2,-1,1),T(0,0,1,0,-1,1),T(0,0,1,1,-1,1);var P=t(o,b),x=i(o,[{type:o.FLOAT,buffer:P,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:P,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:P,size:1,offset:24,stride:28}]),L=n(o);L.attributes.position.location=0,L.attributes.color.location=1,L.attributes.weight.location=2;var M=new u(o,P,x,L);return M.update(p),M}},6740:function(v,d,r){var t=r(3236),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);d.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},d.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,d,r){var t=r(2931),i=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(b,T,P,x){for(var L=b.points,M=b.velocities,s=b.divergences,E=[],w=[],O=[],_=[],U=[],z=[],F=0,B=0,N=i.create(),V=i.create(),X=8,q=0;q<L.length;q++){var te=L[q],ne=M[q],ce=s[q];T===0&&(ce=P*.05),B=t.length(ne)/x,N=i.create(),t.copy(N,ne),N[3]=ce;for(var Q=0;Q<X;Q++)U[Q]=[te[0],te[1],te[2],Q];if(_.length>0)for(var Q=0;Q<X;Q++){var Z=(Q+1)%X;E.push(_[Q],U[Q],U[Z],U[Z],_[Z],_[Q]),O.push(V,N,N,N,V,V),z.push(F,B,B,B,F,F);var re=E.length;w.push([re-6,re-5,re-4],[re-3,re-2,re-1])}var Y=_;_=U,U=Y;var oe=V;V=N,N=oe;var ue=F;F=B,B=ue}return{positions:E,cells:w,vectors:O,vertexIntensity:z}},u=function(b,T,P,x){for(var L=0,M=0;M<b.length;M++)for(var s=b[M].velocities,E=0;E<s.length;E++)L=Math.max(L,t.length(s[E]));for(var w=b.map(function(q){return f(q,P,x,L)}),O=[],_=[],U=[],z=[],M=0;M<w.length;M++){var F=w[M],B=O.length;O=O.concat(F.positions),U=U.concat(F.vectors),z=z.concat(F.vertexIntensity);for(var E=0;E<F.cells.length;E++){var N=F.cells[E],V=[];_.push(V);for(var X=0;X<N.length;X++)V.push(N[X]+B)}}return{positions:O,cells:_,vectors:U,vertexIntensity:z,colormap:T}},l=function(b,T){var P=b.length,x;for(x=0;x<P;x++){var L=b[x];if(L===T)return x;if(L>T)return x-1}return x},m=function(b,T,P){return b<T?T:b>P?P:b},c=function(b,T,P){var x=T.vectors,L=T.meshgrid,M=b[0],s=b[1],E=b[2],w=L[0].length,O=L[1].length,_=L[2].length,U=l(L[0],M),z=l(L[1],s),F=l(L[2],E),B=U+1,N=z+1,V=F+1;if(U=m(U,0,w-1),B=m(B,0,w-1),z=m(z,0,O-1),N=m(N,0,O-1),F=m(F,0,_-1),V=m(V,0,_-1),U<0||z<0||F<0||B>w-1||N>O-1||V>_-1)return t.create();var X=L[0][U],q=L[0][B],te=L[1][z],ne=L[1][N],ce=L[2][F],Q=L[2][V],Z=(M-X)/(q-X),re=(s-te)/(ne-te),Y=(E-ce)/(Q-ce);isFinite(Z)||(Z=.5),isFinite(re)||(re=.5),isFinite(Y)||(Y=.5);var oe,ue,K,$,le,ae;switch(P.reversedX&&(U=w-1-U,B=w-1-B),P.reversedY&&(z=O-1-z,N=O-1-N),P.reversedZ&&(F=_-1-F,V=_-1-V),P.filled){case 5:le=F,ae=V,K=z*_,$=N*_,oe=U*_*O,ue=B*_*O;break;case 4:le=F,ae=V,oe=U*_,ue=B*_,K=z*_*w,$=N*_*w;break;case 3:K=z,$=N,le=F*O,ae=V*O,oe=U*O*_,ue=B*O*_;break;case 2:K=z,$=N,oe=U*O,ue=B*O,le=F*O*w,ae=V*O*w;break;case 1:oe=U,ue=B,le=F*w,ae=V*w,K=z*w*_,$=N*w*_;break;default:oe=U,ue=B,K=z*w,$=N*w,le=F*w*O,ae=V*w*O;break}var he=x[oe+K+le],xe=x[oe+K+ae],Me=x[oe+$+le],Ae=x[oe+$+ae],ke=x[ue+K+le],we=x[ue+K+ae],Ee=x[ue+$+le],be=x[ue+$+ae],Le=t.create(),Ue=t.create(),Ve=t.create(),Fe=t.create();t.lerp(Le,he,ke,Z),t.lerp(Ue,xe,we,Z),t.lerp(Ve,Me,Ee,Z),t.lerp(Fe,Ae,be,Z);var He=t.create(),st=t.create();t.lerp(He,Le,Ve,re),t.lerp(st,Ue,Fe,re);var vt=t.create();return t.lerp(vt,He,st,Y),vt},A=function(b){var T=1/0;b.sort(function(M,s){return M-s});for(var P=b.length,x=1;x<P;x++){var L=Math.abs(b[x]-b[x-1]);L<T&&(T=L)}return T},h=function(b){for(var T=[],P=[],x=[],L={},M={},s={},E=b.length,w=0;w<E;w++){var O=b[w],_=O[0],U=O[1],z=O[2];L[_]||(T.push(_),L[_]=!0),M[U]||(P.push(U),M[U]=!0),s[z]||(x.push(z),s[z]=!0)}var F=A(T),B=A(P),N=A(x),V=Math.min(F,B,N);return isFinite(V)?V:1};v.exports=function(b,T){var P=b.startingPositions,x=b.maxLength||1e3,L=b.tubeSize||1,M=b.absoluteTubeSize,s=b.gridFill||"+x+y+z",E={};s.indexOf("-x")!==-1&&(E.reversedX=!0),s.indexOf("-y")!==-1&&(E.reversedY=!0),s.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=n.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var w=b.getVelocity||function(we){return c(we,b,E)},O=b.getDivergence||function(we,Ee){var be=t.create(),Le=1e-4;t.add(be,we,[Le,0,0]);var Ue=w(be);t.subtract(Ue,Ue,Ee),t.scale(Ue,Ue,1/Le),t.add(be,we,[0,Le,0]);var Ve=w(be);t.subtract(Ve,Ve,Ee),t.scale(Ve,Ve,1/Le),t.add(be,we,[0,0,Le]);var Fe=w(be);return t.subtract(Fe,Fe,Ee),t.scale(Fe,Fe,1/Le),t.add(be,Ue,Ve),t.add(be,be,Fe),be},_=[],U=T[0][0],z=T[0][1],F=T[0][2],B=T[1][0],N=T[1][1],V=T[1][2],X=function(we){var Ee=we[0],be=we[1],Le=we[2];return!(Ee<U||Ee>B||be<z||be>N||Le<F||Le>V)},q=t.distance(T[0],T[1]),te=10*q/x,ne=te*te,ce=1,Q=0,Z=P.length;Z>1&&(ce=h(P));for(var re=0;re<Z;re++){var Y=t.create();t.copy(Y,P[re]);var oe=[Y],ue=[],K=w(Y),$=Y;ue.push(K);var le=[],ae=O(Y,K),he=t.length(ae);isFinite(he)&&he>Q&&(Q=he),le.push(he),_.push({points:oe,velocities:ue,divergences:le});for(var xe=0;xe<x*100&&oe.length<x&&X(Y);){xe++;var Me=t.clone(K),Ae=t.squaredLength(Me);if(Ae===0)break;if(Ae>ne&&t.scale(Me,Me,te/Math.sqrt(Ae)),t.add(Me,Me,Y),K=w(Me),t.squaredDistance($,Me)-ne>-1e-4*ne){oe.push(Me),$=Me,ue.push(K);var ae=O(Me,K),he=t.length(ae);isFinite(he)&&he>Q&&(Q=he),le.push(he)}Y=Me}}var ke=u(_,b.colormap,Q,ce);return M?ke.tubeScale=M:(Q===0&&(Q=1),ke.tubeScale=L*.5*ce/Q),ke};var o=r(6740),p=r(6405).createMesh;v.exports.createTubeMesh=function(b,T){return p(b,T,{shaders:o,traceType:"streamtube"})}},990:function(v,d,r){var t=r(9405),i=r(3236),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);d.createShader=function(m){var c=t(m,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},d.createPickShader=function(m){var c=t(m,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},d.createContourShader=function(m){var c=t(m,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},d.createPickContourShader=function(m){var c=t(m,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},9499:function(v,d,r){v.exports=ue;var t=r(8828),i=r(2762),n=r(8116),f=r(7766),u=r(1888),l=r(6729),m=r(5298),c=r(9994),A=r(9618),h=r(3711),o=r(6760),p=r(7608),b=r(2478),T=r(6199),P=r(990),x=P.createShader,L=P.createContourShader,M=P.createPickShader,s=P.createPickContourShader,E=4*10,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],O=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var K=0;K<3;++K){var $=_[K],le=(K+1)%3,ae=(K+2)%3;$[le+0]=1,$[ae+3]=1,$[K+6]=1}})();function U(K,$,le,ae,he){this.position=K,this.index=$,this.uv=le,this.level=ae,this.dataCoordinate=he}var z=256;function F(K,$,le,ae,he,xe,Me,Ae,ke,we,Ee,be,Le,Ue,Ve){this.gl=K,this.shape=$,this.bounds=le,this.objectOffset=Ve,this.intensityBounds=[],this._shader=ae,this._pickShader=he,this._coordinateBuffer=xe,this._vao=Me,this._colorMap=Ae,this._contourShader=ke,this._contourPickShader=we,this._contourBuffer=Ee,this._contourVAO=be,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Le,this._dynamicVAO=Ue,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[A(u.mallocFloat(1024),[0,0]),A(u.mallocFloat(1024),[0,0]),A(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=F.prototype;B.genColormap=function(K,$){var le=!1,ae=c([l({colormap:K,nshades:z,format:"rgba"}).map(function(he,xe){var Me=$?N(xe/255,$):he[3];return Me<1&&(le=!0),[he[0],he[1],he[2],255*Me]})]);return m.divseq(ae,255),this.hasAlphaScale=le,ae},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function(K){this.pickId=K};function N(K,$){if(!$||!$.length)return 1;for(var le=0;le<$.length;++le){if($.length<2)return 1;if($[le][0]===K)return $[le][1];if($[le][0]>K&&le>0){var ae=($[le][0]-K)/($[le][0]-$[le-1][0]);return $[le][1]*(1-ae)+ae*$[le-1][1]}}return 1}var V=[0,0,0],X={showSurface:!1,showContour:!1,projections:[w.slice(),w.slice(),w.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(K,$){var le,ae,he,xe=$.axes&&$.axes.lastCubeProps.axis||V,Me=$.showSurface,Ae=$.showContour;for(le=0;le<3;++le)for(Me=Me||$.surfaceProject[le],ae=0;ae<3;++ae)Ae=Ae||$.contourProject[le][ae];for(le=0;le<3;++le){var ke=X.projections[le];for(ae=0;ae<16;++ae)ke[ae]=0;for(ae=0;ae<4;++ae)ke[5*ae]=1;ke[5*le]=0,ke[12+le]=$.axesBounds[+(xe[le]>0)][le],o(ke,K.model,ke);var we=X.clipBounds[le];for(he=0;he<2;++he)for(ae=0;ae<3;++ae)we[he][ae]=K.clipBounds[he][ae];we[0][le]=-1e8,we[1][le]=1e8}return X.showSurface=Me,X.showContour=Ae,X}var te={model:w,view:w,projection:w,inverseModel:w.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=w.slice(),ce=[1,0,0,0,1,0,0,0,1];function Q(K,$){K=K||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var ae=te;ae.model=K.model||w,ae.view=K.view||w,ae.projection=K.projection||w,ae.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ae.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ae.objectOffset=this.objectOffset,ae.contourColor=this.contourColor[0],ae.inverseModel=p(ae.inverseModel,ae.model);for(var he=0;he<2;++he)for(var xe=ae.clipBounds[he],Me=0;Me<3;++Me)xe[Me]=Math.min(Math.max(this.clipBounds[he][Me],-1e8),1e8);ae.kambient=this.ambientLight,ae.kdiffuse=this.diffuseLight,ae.kspecular=this.specularLight,ae.roughness=this.roughness,ae.fresnel=this.fresnel,ae.opacity=this.opacity,ae.height=0,ae.permutation=ce,ae.vertexColor=this.vertexColor;var Ae=ne;for(o(Ae,ae.view,ae.model),o(Ae,ae.projection,Ae),p(Ae,Ae),he=0;he<3;++he)ae.eyePosition[he]=Ae[12+he]/Ae[15];var ke=Ae[15];for(he=0;he<3;++he)ke+=this.lightPosition[he]*Ae[4*he+3];for(he=0;he<3;++he){var we=Ae[12+he];for(Me=0;Me<3;++Me)we+=Ae[4*Me+he]*this.lightPosition[Me];ae.lightPosition[he]=we/ke}var Ee=q(ae,this);if(Ee.showSurface){for(this._shader.bind(),this._shader.uniforms=ae,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Ee.projections[he],this._shader.uniforms.clipBounds=Ee.clipBounds[he],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var be=this._contourShader;ae.kambient=1,ae.kdiffuse=0,ae.kspecular=0,ae.opacity=1,be.bind(),be.uniforms=ae;var Le=this._contourVAO;for(Le.bind(),he=0;he<3;++he)for(be.uniforms.permutation=_[he],le.lineWidth(this.contourWidth[he]*this.pixelRatio),Me=0;Me<this.contourLevels[he].length;++Me)Me===this.highlightLevel[he]?(be.uniforms.contourColor=this.highlightColor[he],be.uniforms.contourTint=this.highlightTint[he]):(Me===0||Me-1===this.highlightLevel[he])&&(be.uniforms.contourColor=this.contourColor[he],be.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Me]&&(be.uniforms.height=this.contourLevels[he][Me],Le.draw(le.LINES,this._contourCounts[he][Me],this._contourOffsets[he][Me]));for(he=0;he<3;++he)for(be.uniforms.model=Ee.projections[he],be.uniforms.clipBounds=Ee.clipBounds[he],Me=0;Me<3;++Me)if(this.contourProject[he][Me]){be.uniforms.permutation=_[Me],le.lineWidth(this.contourWidth[Me]*this.pixelRatio);for(var Ue=0;Ue<this.contourLevels[Me].length;++Ue)Ue===this.highlightLevel[Me]?(be.uniforms.contourColor=this.highlightColor[Me],be.uniforms.contourTint=this.highlightTint[Me]):(Ue===0||Ue-1===this.highlightLevel[Me])&&(be.uniforms.contourColor=this.contourColor[Me],be.uniforms.contourTint=this.contourTint[Me]),this._contourCounts[Me][Ue]&&(be.uniforms.height=this.contourLevels[Me][Ue],Le.draw(le.LINES,this._contourCounts[Me][Ue],this._contourOffsets[Me][Ue]))}for(Le.unbind(),Le=this._dynamicVAO,Le.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(be.uniforms.model=ae.model,be.uniforms.clipBounds=ae.clipBounds,be.uniforms.permutation=_[he],le.lineWidth(this.dynamicWidth[he]*this.pixelRatio),be.uniforms.contourColor=this.dynamicColor[he],be.uniforms.contourTint=this.dynamicTint[he],be.uniforms.height=this.dynamicLevel[he],Le.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Me=0;Me<3;++Me)this.contourProject[Me][he]&&(be.uniforms.model=Ee.projections[Me],be.uniforms.clipBounds=Ee.clipBounds[Me],Le.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));Le.unbind()}}B.draw=function(K){return Q.call(this,K,!1)},B.drawTransparent=function(K){return Q.call(this,K,!0)};var Z={model:w,view:w,projection:w,inverseModel:w,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};B.drawPick=function(K){K=K||{};var $=this.gl;$.disable($.CULL_FACE);var le=Z;le.model=K.model||w,le.view=K.view||w,le.projection=K.projection||w,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=ce;for(var ae=0;ae<2;++ae)for(var he=le.clipBounds[ae],xe=0;xe<3;++xe)he[xe]=Math.min(Math.max(this.clipBounds[ae][xe],-1e8),1e8);var Me=q(le,this);if(Me.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw($.TRIANGLES,this._vertexCount),ae=0;ae<3;++ae)this.surfaceProject[ae]&&(this._pickShader.uniforms.model=Me.projections[ae],this._pickShader.uniforms.clipBounds=Me.clipBounds[ae],this._vao.draw($.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Me.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=le;var ke=this._contourVAO;for(ke.bind(),xe=0;xe<3;++xe)for($.lineWidth(this.contourWidth[xe]*this.pixelRatio),Ae.uniforms.permutation=_[xe],ae=0;ae<this.contourLevels[xe].length;++ae)this._contourCounts[xe][ae]&&(Ae.uniforms.height=this.contourLevels[xe][ae],ke.draw($.LINES,this._contourCounts[xe][ae],this._contourOffsets[xe][ae]));for(ae=0;ae<3;++ae)for(Ae.uniforms.model=Me.projections[ae],Ae.uniforms.clipBounds=Me.clipBounds[ae],xe=0;xe<3;++xe)if(this.contourProject[ae][xe]){Ae.uniforms.permutation=_[xe],$.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var we=0;we<this.contourLevels[xe].length;++we)this._contourCounts[xe][we]&&(Ae.uniforms.height=this.contourLevels[xe][we],ke.draw($.LINES,this._contourCounts[xe][we],this._contourOffsets[xe][we]))}ke.unbind()}},B.pick=function(K){if(!K||K.id!==this.pickId)return null;var $=this._field[2].shape,le=this._pickResult,ae=$[0]*(K.value[0]+(K.value[2]>>4)/16)/255,he=Math.floor(ae),xe=ae-he,Me=$[1]*(K.value[1]+(K.value[2]&15)/16)/255,Ae=Math.floor(Me),ke=Me-Ae;he+=1,Ae+=1;var we=le.position;we[0]=we[1]=we[2]=0;for(var Ee=0;Ee<2;++Ee)for(var be=Ee?xe:1-xe,Le=0;Le<2;++Le)for(var Ue=Le?ke:1-ke,Ve=he+Ee,Fe=Ae+Le,He=be*Ue,st=0;st<3;++st)we[st]+=this._field[st].get(Ve,Fe)*He;for(var vt=this._pickResult.level,lt=0;lt<3;++lt)if(vt[lt]=b.le(this.contourLevels[lt],we[lt]),vt[lt]<0)this.contourLevels[lt].length>0&&(vt[lt]=0);else if(vt[lt]<this.contourLevels[lt].length-1){var et=this.contourLevels[lt][vt[lt]],ct=this.contourLevels[lt][vt[lt]+1];Math.abs(et-we[lt])>Math.abs(ct-we[lt])&&(vt[lt]+=1)}for(le.index[0]=xe<.5?he:he+1,le.index[1]=ke<.5?Ae:Ae+1,le.uv[0]=ae/$[0],le.uv[1]=Me/$[1],st=0;st<3;++st)le.dataCoordinate[st]=this._field[st].get(le.index[0],le.index[1]);return le},B.padField=function(K,$){var le=$.shape.slice(),ae=K.shape.slice();m.assign(K.lo(1,1).hi(le[0],le[1]),$),m.assign(K.lo(1).hi(le[0],1),$.hi(le[0],1)),m.assign(K.lo(1,ae[1]-1).hi(le[0],1),$.lo(0,le[1]-1).hi(le[0],1)),m.assign(K.lo(0,1).hi(1,le[1]),$.hi(1)),m.assign(K.lo(ae[0]-1,1).hi(1,le[1]),$.lo(le[0]-1)),K.set(0,0,$.get(0,0)),K.set(0,ae[1]-1,$.get(0,le[1]-1)),K.set(ae[0]-1,0,$.get(le[0]-1,0)),K.set(ae[0]-1,ae[1]-1,$.get(le[0]-1,le[1]-1))};function re(K,$){return Array.isArray(K)?[$(K[0]),$(K[1]),$(K[2])]:[$(K),$(K),$(K)]}function Y(K){return Array.isArray(K)?K.length===3?[K[0],K[1],K[2],1]:[K[0],K[1],K[2],K[3]]:[0,0,0,1]}function oe(K){if(Array.isArray(K)){if(Array.isArray(K))return[Y(K[0]),Y(K[1]),Y(K[2])];var $=Y(K);return[$.slice(),$.slice(),$.slice()]}}B.update=function(K){K=K||{},this.objectOffset=K.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in K&&(this.contourWidth=re(K.contourWidth,Number)),"showContour"in K&&(this.showContour=re(K.showContour,Boolean)),"showSurface"in K&&(this.showSurface=!!K.showSurface),"contourTint"in K&&(this.contourTint=re(K.contourTint,Boolean)),"contourColor"in K&&(this.contourColor=oe(K.contourColor)),"contourProject"in K&&(this.contourProject=re(K.contourProject,function(kt){return re(kt,Boolean)})),"surfaceProject"in K&&(this.surfaceProject=K.surfaceProject),"dynamicColor"in K&&(this.dynamicColor=oe(K.dynamicColor)),"dynamicTint"in K&&(this.dynamicTint=re(K.dynamicTint,Number)),"dynamicWidth"in K&&(this.dynamicWidth=re(K.dynamicWidth,Number)),"opacity"in K&&(this.opacity=K.opacity),"opacityscale"in K&&(this.opacityscale=K.opacityscale),"colorBounds"in K&&(this.colorBounds=K.colorBounds),"vertexColor"in K&&(this.vertexColor=K.vertexColor?1:0),"colormap"in K&&this._colorMap.setPixels(this.genColormap(K.colormap,this.opacityscale));var $=K.field||K.coords&&K.coords[2]||null,le=!1;if($||(this._field[2].shape[0]||this._field[2].shape[2]?$=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):$=this._field[2].hi(0,0)),"field"in K||"coords"in K){var ae=($.shape[0]+2)*($.shape[1]+2);ae>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ae))),this._field[2]=A(this._field[2].data,[$.shape[0]+2,$.shape[1]+2]),this.padField(this._field[2],$),this.shape=$.shape.slice();for(var he=this.shape,xe=0;xe<2;++xe)this._field[2].size>this._field[xe].data.length&&(u.freeFloat(this._field[xe].data),this._field[xe].data=u.mallocFloat(this._field[2].size)),this._field[xe]=A(this._field[xe].data,[he[0]+2,he[1]+2]);if(K.coords){var Me=K.coords;if(!Array.isArray(Me)||Me.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(xe=0;xe<2;++xe){var Ae=Me[xe];for(Le=0;Le<2;++Le)if(Ae.shape[Le]!==he[Le])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[xe],Ae)}}else if(K.ticks){var ke=K.ticks;if(!Array.isArray(ke)||ke.length!==2)throw new Error("gl-surface: invalid ticks");for(xe=0;xe<2;++xe){var we=ke[xe];if((Array.isArray(we)||we.length)&&(we=A(we)),we.shape[0]!==he[xe])throw new Error("gl-surface: invalid tick length");var Ee=A(we.data,he);Ee.stride[xe]=we.stride[0],Ee.stride[xe^1]=0,this.padField(this._field[xe],Ee)}}else{for(xe=0;xe<2;++xe){var be=[0,0];be[xe]=1,this._field[xe]=A(this._field[xe].data,[he[0]+2,he[1]+2],be,0)}this._field[0].set(0,0,0);for(var Le=0;Le<he[0];++Le)this._field[0].set(Le+1,0,Le);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),Le=0;Le<he[1];++Le)this._field[1].set(0,Le+1,Le);this._field[1].set(0,he[1]+1,he[1]-1)}var Ue=this._field,Ve=A(u.mallocFloat(Ue[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(xe=0;xe<3;++xe)T(Ve.pick(xe),Ue[xe],"mirror");var Fe=A(u.mallocFloat(Ue[2].size*3),[he[0]+2,he[1]+2,3]);for(xe=0;xe<he[0]+2;++xe)for(Le=0;Le<he[1]+2;++Le){var He=Ve.get(0,xe,Le,0),st=Ve.get(0,xe,Le,1),vt=Ve.get(1,xe,Le,0),lt=Ve.get(1,xe,Le,1),et=Ve.get(2,xe,Le,0),ct=Ve.get(2,xe,Le,1),ht=vt*ct-lt*et,mt=et*st-ct*He,xt=He*lt-st*vt,Mt=Math.sqrt(ht*ht+mt*mt+xt*xt);Mt<1e-8?(Mt=Math.max(Math.abs(ht),Math.abs(mt),Math.abs(xt)),Mt<1e-8?(xt=1,mt=ht=0,Mt=1):Mt=1/Mt):Mt=1/Math.sqrt(Mt),Fe.set(xe,Le,0,ht*Mt),Fe.set(xe,Le,1,mt*Mt),Fe.set(xe,Le,2,xt*Mt)}u.free(Ve.data);var tt=[1/0,1/0,1/0],Oe=[-1/0,-1/0,-1/0],Ye=1/0,Ze=-1/0,We=(he[0]-1)*(he[1]-1)*6,_e=u.mallocFloat(t.nextPow2(10*We)),Ie=0,Xe=0;for(xe=0;xe<he[0]-1;++xe)e:for(Le=0;Le<he[1]-1;++Le){for(var De=0;De<2;++De)for(var de=0;de<2;++de)for(var Te=0;Te<3;++Te){var Be=this._field[Te].get(1+xe+De,1+Le+de);if(isNaN(Be)||!isFinite(Be))continue e}for(Te=0;Te<6;++Te){var Qe=xe+O[Te][0],at=Le+O[Te][1],it=this._field[0].get(Qe+1,at+1),Wt=this._field[1].get(Qe+1,at+1);Be=this._field[2].get(Qe+1,at+1),ht=Fe.get(Qe+1,at+1,0),mt=Fe.get(Qe+1,at+1,1),xt=Fe.get(Qe+1,at+1,2),K.intensity&&(Yt=K.intensity.get(Qe,at));var Yt=K.intensity?K.intensity.get(Qe,at):Be+this.objectOffset[2];_e[Ie++]=Qe,_e[Ie++]=at,_e[Ie++]=it,_e[Ie++]=Wt,_e[Ie++]=Be,_e[Ie++]=0,_e[Ie++]=Yt,_e[Ie++]=ht,_e[Ie++]=mt,_e[Ie++]=xt,tt[0]=Math.min(tt[0],it+this.objectOffset[0]),tt[1]=Math.min(tt[1],Wt+this.objectOffset[1]),tt[2]=Math.min(tt[2],Be+this.objectOffset[2]),Ye=Math.min(Ye,Yt),Oe[0]=Math.max(Oe[0],it+this.objectOffset[0]),Oe[1]=Math.max(Oe[1],Wt+this.objectOffset[1]),Oe[2]=Math.max(Oe[2],Be+this.objectOffset[2]),Ze=Math.max(Ze,Yt),Xe+=1}}for(K.intensityBounds&&(Ye=+K.intensityBounds[0],Ze=+K.intensityBounds[1]),xe=6;xe<Ie;xe+=10)_e[xe]=(_e[xe]-Ye)/(Ze-Ye);this._vertexCount=Xe,this._coordinateBuffer.update(_e.subarray(0,Ie)),u.freeFloat(_e),u.free(Fe.data),this.bounds=[tt,Oe],this.intensity=K.intensity||this._field[2],(this.intensityBounds[0]!==Ye||this.intensityBounds[1]!==Ze)&&(le=!0),this.intensityBounds=[Ye,Ze]}if("levels"in K){var Tt=K.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],xe=0;xe<3;++xe)Tt[xe]=Tt[xe].slice(),Tt[xe].sort(function(kt,$t){return kt-$t});for(xe=0;xe<3;++xe)for(Le=0;Le<Tt[xe].length;++Le)Tt[xe][Le]-=this.objectOffset[xe];e:for(xe=0;xe<3;++xe){if(Tt[xe].length!==this.contourLevels[xe].length){le=!0;break}for(Le=0;Le<Tt[xe].length;++Le)if(Tt[xe][Le]!==this.contourLevels[xe][Le]){le=!0;break e}}this.contourLevels=Tt}if(le){Ue=this._field,he=this.shape;for(var Lt=[],Xt=0;Xt<3;++Xt){var Tr=this.contourLevels[Xt],gt=[],Kt=[],Qt=[0,0,0];for(xe=0;xe<Tr.length;++xe){var yr=h(this._field[Xt],Tr[xe]);gt.push(Lt.length/5|0),Xe=0;e:for(Le=0;Le<yr.cells.length;++Le){var fr=yr.cells[Le];for(Te=0;Te<2;++Te){var yt=yr.positions[fr[Te]],ot=yt[0],bt=Math.floor(ot)|0,Et=ot-bt,Dt=yt[1],Ht=Math.floor(Dt)|0,Bt=Dt-Ht,Nt=!1;t:for(var Jt=0;Jt<3;++Jt){Qt[Jt]=0;var hr=(Xt+Jt+1)%3;for(De=0;De<2;++De){var Zt=De?Et:1-Et;for(Qe=Math.min(Math.max(bt+De,0),he[0])|0,de=0;de<2;++de){var dr=de?Bt:1-Bt;if(at=Math.min(Math.max(Ht+de,0),he[1])|0,Jt<2?Be=this._field[hr].get(Qe,at):Be=(this.intensity.get(Qe,at)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Be)||isNaN(Be)){Nt=!0;break t}var je=Zt*dr;Qt[Jt]+=je*Be}}}if(!Nt)Lt.push(Qt[0],Qt[1],yt[0],yt[1],Qt[2]),Xe+=1;else{if(Te>0){for(var Ge=0;Ge<5;++Ge)Lt.pop();Xe-=1}continue e}}}Kt.push(Xe)}this._contourOffsets[Xt]=gt,this._contourCounts[Xt]=Kt}var Ot=u.mallocFloat(Lt.length);for(xe=0;xe<Lt.length;++xe)Ot[xe]=Lt[xe];this._contourBuffer.update(Ot),u.freeFloat(Ot)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var K=0;K<3;++K)u.freeFloat(this._field[K].data)},B.highlight=function(K){var $;if(!K){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for($=0;$<3;++$)this.enableHighlight[$]?this.highlightLevel[$]=K.level[$]:this.highlightLevel[$]=-1;var le;for(this.snapToData?le=K.dataCoordinate:le=K.position,$=0;$<3;++$)le[$]-=this.objectOffset[$];if(!((!this.enableDynamic[0]||le[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||le[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||le[2]===this.dynamicLevel[2]))){for(var ae=0,he=this.shape,xe=u.mallocFloat(12*he[0]*he[1]),Me=0;Me<3;++Me){if(!this.enableDynamic[Me]){this.dynamicLevel[Me]=NaN,this._dynamicCounts[Me]=0;continue}this.dynamicLevel[Me]=le[Me];var Ae=(Me+1)%3,ke=(Me+2)%3,we=this._field[Me],Ee=this._field[Ae],be=this._field[ke],Le=h(we,le[Me]),Ue=Le.cells,Ve=Le.positions;for(this._dynamicOffsets[Me]=ae,$=0;$<Ue.length;++$)for(var Fe=Ue[$],He=0;He<2;++He){var st=Ve[Fe[He]],vt=+st[0],lt=vt|0,et=Math.min(lt+1,he[0])|0,ct=vt-lt,ht=1-ct,mt=+st[1],xt=mt|0,Mt=Math.min(xt+1,he[1])|0,tt=mt-xt,Oe=1-tt,Ye=ht*Oe,Ze=ht*tt,We=ct*Oe,_e=ct*tt,Ie=Ye*Ee.get(lt,xt)+Ze*Ee.get(lt,Mt)+We*Ee.get(et,xt)+_e*Ee.get(et,Mt),Xe=Ye*be.get(lt,xt)+Ze*be.get(lt,Mt)+We*be.get(et,xt)+_e*be.get(et,Mt);if(isNaN(Ie)||isNaN(Xe)){He&&(ae-=1);break}xe[2*ae+0]=Ie,xe[2*ae+1]=Xe,ae+=1}this._dynamicCounts[Me]=ae-this._dynamicOffsets[Me]}this._dynamicBuffer.update(xe.subarray(0,2*ae)),u.freeFloat(xe)}};function ue(K){var $=K.gl,le=x($),ae=M($),he=L($),xe=s($),Me=i($),Ae=n($,[{buffer:Me,size:4,stride:E,offset:0},{buffer:Me,size:3,stride:E,offset:16},{buffer:Me,size:3,stride:E,offset:28}]),ke=i($),we=n($,[{buffer:ke,size:4,stride:20,offset:0},{buffer:ke,size:1,stride:20,offset:16}]),Ee=i($),be=n($,[{buffer:Ee,size:2,type:$.FLOAT}]),Le=f($,1,z,$.RGBA,$.UNSIGNED_BYTE);Le.minFilter=$.LINEAR,Le.magFilter=$.LINEAR;var Ue=new F($,[0,0],[[0,0,0],[0,0,0]],le,ae,Me,Ae,Le,he,xe,ke,we,Ee,be,[0,0,0]),Ve={levels:[[],[],[]]};for(var Fe in K)Ve[Fe]=K[Fe];return Ve.colormap=Ve.colormap||"jet",Ue.update(Ve),Ue}},7766:function(v,d,r){var t=r(9618),i=r(5298),n=r(1888);v.exports=s;var f=null,u=null,l=null;function m(E){f=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],u=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],l=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function c(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var A=function(E,w){i.muls(E,w,255)};function h(E,w,O){var _=E.gl,U=_.getParameter(_.MAX_TEXTURE_SIZE);if(w<0||w>U||O<0||O>U)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[w,O],E.bind(),_.texImage2D(_.TEXTURE_2D,0,E.format,w,O,0,E.format,E.type,null),E._mipLevels=[0],E}function o(E,w,O,_,U,z){this.gl=E,this.handle=w,this.format=U,this.type=z,this._shape=[O,_],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var F=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return F._wrapS},set:function(V){return F.wrapS=V}},{get:function(){return F._wrapT},set:function(V){return F.wrapT=V}}]),this._wrapVector=B;var N=[this._shape[0],this._shape[1]];Object.defineProperties(N,[{get:function(){return F._shape[0]},set:function(V){return F.width=V}},{get:function(){return F._shape[1]},set:function(V){return F.height=V}}]),this._shapeVector=N}var p=o.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var w=this.gl;if(this.type===w.FLOAT&&f.indexOf(E)>=0&&(w.getExtension("OES_texture_float_linear")||(E=w.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var w=this.gl;if(this.type===w.FLOAT&&f.indexOf(E)>=0&&(w.getExtension("OES_texture_float_linear")||(E=w.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var w=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,w!==this._anisoSamples){var O=this.gl.getExtension("EXT_texture_filter_anisotropic");O&&this.gl.texParameterf(this.gl.TEXTURE_2D,O.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var w=0;w<2;++w)if(l.indexOf(E[w])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var O=this.gl;return this.bind(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,this._wrapS),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,h(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,h(this,this._shape[0],E),E}}}),p.bind=function(E){var w=this.gl;return E!==void 0&&w.activeTexture(w.TEXTURE0+(E|0)),w.bindTexture(w.TEXTURE_2D,this.handle),E!==void 0?E|0:w.getParameter(w.ACTIVE_TEXTURE)-w.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),w=0;E>0;++w,E>>>=1)this._mipLevels.indexOf(w)<0&&this._mipLevels.push(w)},p.setPixels=function(E,w,O,_){var U=this.gl;this.bind(),Array.isArray(w)?(_=O,O=w[1]|0,w=w[0]|0):(w=w||0,O=O||0),_=_||0;var z=c(E)?E:E.raw;if(z){var F=this._mipLevels.indexOf(_)<0;F?(U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(_)):U.texSubImage2D(U.TEXTURE_2D,_,w,O,this.format,this.type,z)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||w+E.shape[1]>this._shape[1]>>>_||O+E.shape[0]>this._shape[0]>>>_||w<0||O<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");T(U,w,O,_,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function b(E,w){return E.length===3?w[2]===1&&w[1]===E[0]*E[2]&&w[0]===E[2]:w[0]===1&&w[1]===E[0]}function T(E,w,O,_,U,z,F,B){var N=B.dtype,V=B.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var X=0,q=0,te=b(V,B.stride.slice());if(N==="float32"?X=E.FLOAT:N==="float64"?(X=E.FLOAT,te=!1,N="float32"):N==="uint8"?X=E.UNSIGNED_BYTE:(X=E.UNSIGNED_BYTE,te=!1,N="uint8"),V.length===2)q=E.LUMINANCE,V=[V[0],V[1],1],B=t(B.data,V,[B.stride[0],B.stride[1],1],B.offset);else if(V.length===3){if(V[2]===1)q=E.ALPHA;else if(V[2]===2)q=E.LUMINANCE_ALPHA;else if(V[2]===3)q=E.RGB;else if(V[2]===4)q=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");V[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((q===E.LUMINANCE||q===E.ALPHA)&&(U===E.LUMINANCE||U===E.ALPHA)&&(q=U),q!==U)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ne=B.size,ce=F.indexOf(_)<0;if(ce&&F.push(_),X===z&&te)B.offset===0&&B.data.length===ne?ce?E.texImage2D(E.TEXTURE_2D,_,U,V[0],V[1],0,U,z,B.data):E.texSubImage2D(E.TEXTURE_2D,_,w,O,V[0],V[1],U,z,B.data):ce?E.texImage2D(E.TEXTURE_2D,_,U,V[0],V[1],0,U,z,B.data.subarray(B.offset,B.offset+ne)):E.texSubImage2D(E.TEXTURE_2D,_,w,O,V[0],V[1],U,z,B.data.subarray(B.offset,B.offset+ne));else{var Q;z===E.FLOAT?Q=n.mallocFloat32(ne):Q=n.mallocUint8(ne);var Z=t(Q,V,[V[2],V[2]*V[0],1]);X===E.FLOAT&&z===E.UNSIGNED_BYTE?A(Z,B):i.assign(Z,B),ce?E.texImage2D(E.TEXTURE_2D,_,U,V[0],V[1],0,U,z,Q.subarray(0,ne)):E.texSubImage2D(E.TEXTURE_2D,_,w,O,V[0],V[1],U,z,Q.subarray(0,ne)),z===E.FLOAT?n.freeFloat32(Q):n.freeUint8(Q)}}function P(E){var w=E.createTexture();return E.bindTexture(E.TEXTURE_2D,w),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),w}function x(E,w,O,_,U){var z=E.getParameter(E.MAX_TEXTURE_SIZE);if(w<0||w>z||O<0||O>z)throw new Error("gl-texture2d: Invalid texture shape");if(U===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var F=P(E);return E.texImage2D(E.TEXTURE_2D,0,_,w,O,0,_,U,null),new o(E,F,w,O,_,U)}function L(E,w,O,_,U,z){var F=P(E);return E.texImage2D(E.TEXTURE_2D,0,U,U,z,w),new o(E,F,O,_,U,z)}function M(E,w){var O=w.dtype,_=w.shape.slice(),U=E.getParameter(E.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>U||_[1]<0||_[1]>U)throw new Error("gl-texture2d: Invalid texture size");var z=b(_,w.stride.slice()),F=0;O==="float32"?F=E.FLOAT:O==="float64"?(F=E.FLOAT,z=!1,O="float32"):O==="uint8"?F=E.UNSIGNED_BYTE:(F=E.UNSIGNED_BYTE,z=!1,O="uint8");var B=0;if(_.length===2)B=E.LUMINANCE,_=[_[0],_[1],1],w=t(w.data,_,[w.stride[0],w.stride[1],1],w.offset);else if(_.length===3)if(_[2]===1)B=E.ALPHA;else if(_[2]===2)B=E.LUMINANCE_ALPHA;else if(_[2]===3)B=E.RGB;else if(_[2]===4)B=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");F===E.FLOAT&&!E.getExtension("OES_texture_float")&&(F=E.UNSIGNED_BYTE,z=!1);var N,V,X=w.size;if(z)w.offset===0&&w.data.length===X?N=w.data:N=w.data.subarray(w.offset,w.offset+X);else{var q=[_[2],_[2]*_[0],1];V=n.malloc(X,O);var te=t(V,_,q,0);(O==="float32"||O==="float64")&&F===E.UNSIGNED_BYTE?A(te,w):i.assign(te,w),N=V.subarray(0,X)}var ne=P(E);return E.texImage2D(E.TEXTURE_2D,0,B,_[0],_[1],0,B,F,N),z||n.free(V),new o(E,ne,_[0],_[1],B,F)}function s(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||m(E),typeof arguments[1]=="number")return x(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var w=arguments[1],O=c(w)?w:w.raw;if(O)return L(E,O,w.width|0,w.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(w.shape&&w.data&&w.stride)return M(E,w)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function d(r,t,i){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<i.length;++f){var u=i[f];if(u.buffer){var l=u.buffer,m=u.size||4,c=u.type||r.FLOAT,A=!!u.normalized,h=u.stride||0,o=u.offset||0;l.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,m,c,A,h,o)}else{if(typeof u=="number")r.vertexAttrib1f(f,u);else if(u.length===1)r.vertexAttrib1f(f,u[0]);else if(u.length===2)r.vertexAttrib2f(f,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(f,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(f,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(f)}}for(;f<n;++f)r.disableVertexAttribArray(f)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=0;f<n;++f)r.disableVertexAttribArray(f)}}v.exports=d},870:function(v,d,r){var t=r(1433);function i(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}i.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},i.prototype.update=function(f,u,l){this._elements=u,this._attributes=f,this._elementsType=l||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(f,u,l){l=l||0;var m=this.gl;this._elements?m.drawElements(f,u,this._elementsType,l):m.drawArrays(f,l,u)};function n(f){return new i(f)}v.exports=n},7518:function(v,d,r){var t=r(1433);function i(u,l,m,c,A,h){this.location=u,this.dimension=l,this.a=m,this.b=c,this.c=A,this.d=h}i.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,l,m){this.gl=u,this._ext=l,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,l,m){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var c=0;c<u.length;++c){var A=u[c];typeof A=="number"?this._attribs.push(new i(c,1,A)):Array.isArray(A)&&this._attribs.push(new i(c,A.length,A[0],A[1],A[2],A[3]))}this._useElements=!!l,this._elementsType=m||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,l,m){m=m||0;var c=this.gl;this._useElements?c.drawElements(u,l,this._elementsType,m):c.drawArrays(u,m,l)};function f(u,l){return new n(u,l,l.createVertexArrayOES())}v.exports=f},8116:function(v,d,r){var t=r(7518),i=r(870);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function f(u,l,m,c){var A=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),h;return A?h=t(u,A):h=i(u),h.update(l,m,c),h}v.exports=f},5632:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}},8192:function(v,d,r){v.exports=f;var t=r(2825),i=r(3536),n=r(244);function f(u,l){var m=t(u[0],u[1],u[2]),c=t(l[0],l[1],l[2]);i(m,m),i(c,c);var A=n(m,c);return A>1?0:Math.acos(A)}},9226:function(v){v.exports=d;function d(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=d;function d(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=d;function d(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=d;function d(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=d;function d(r,t,i){var n=t[0],f=t[1],u=t[2],l=i[0],m=i[1],c=i[2];return r[0]=f*c-u*m,r[1]=u*l-n*c,r[2]=n*m-f*l,r}},5455:function(v,d,r){v.exports=r(7056)},7056:function(v){v.exports=d;function d(r,t){var i=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return Math.sqrt(i*i+n*n+f*f)}},4008:function(v,d,r){v.exports=r(6690)},6690:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}},244:function(v){v.exports=d;function d(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,d,r){v.exports=i;var t=r(2613);function i(n,f){var u=n[0],l=n[1],m=n[2],c=f[0],A=f[1],h=f[2];return Math.abs(u-c)<=t*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(l-A)<=t*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(m-h)<=t*Math.max(1,Math.abs(m),Math.abs(h))}},9265:function(v){v.exports=d;function d(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=d;function d(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,d,r){v.exports=i;var t=r(1091)();function i(n,f,u,l,m,c){var A,h;for(f||(f=3),u||(u=0),l?h=Math.min(l*f+u,n.length):h=n.length,A=u;A<h;A+=f)t[0]=n[A],t[1]=n[A+1],t[2]=n[A+2],m(t,t,c),n[A]=t[0],n[A+1]=t[1],n[A+2]=t[2];return n}},2825:function(v){v.exports=d;function d(r,t,i){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=i,n}},2931:function(v,d,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=d;function d(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,d,r){v.exports=r(1387)},1387:function(v){v.exports=d;function d(r){var t=r[0],i=r[1],n=r[2];return Math.sqrt(t*t+i*i+n*n)}},6658:function(v){v.exports=d;function d(r,t,i,n){var f=t[0],u=t[1],l=t[2];return r[0]=f+n*(i[0]-f),r[1]=u+n*(i[1]-u),r[2]=l+n*(i[2]-l),r}},7417:function(v){v.exports=d;function d(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r}},8107:function(v){v.exports=d;function d(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r}},4505:function(v,d,r){v.exports=r(5847)},5847:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}},5093:function(v){v.exports=d;function d(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=d;function d(r,t){var i=t[0],n=t[1],f=t[2],u=i*i+n*n+f*f;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},7636:function(v){v.exports=d;function d(r,t){t=t||1;var i=Math.random()*2*Math.PI,n=Math.random()*2-1,f=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(i)*f,r[1]=Math.sin(i)*f,r[2]=n*t,r}},6894:function(v){v.exports=d;function d(r,t,i,n){var f=i[1],u=i[2],l=t[1]-f,m=t[2]-u,c=Math.sin(n),A=Math.cos(n);return r[0]=t[0],r[1]=f+l*A-m*c,r[2]=u+l*c+m*A,r}},109:function(v){v.exports=d;function d(r,t,i,n){var f=i[0],u=i[2],l=t[0]-f,m=t[2]-u,c=Math.sin(n),A=Math.cos(n);return r[0]=f+m*c+l*A,r[1]=t[1],r[2]=u+m*A-l*c,r}},8692:function(v){v.exports=d;function d(r,t,i,n){var f=i[0],u=i[1],l=t[0]-f,m=t[1]-u,c=Math.sin(n),A=Math.cos(n);return r[0]=f+l*A-m*c,r[1]=u+l*c+m*A,r[2]=t[2],r}},2447:function(v){v.exports=d;function d(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}},8489:function(v){v.exports=d;function d(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r}},1463:function(v){v.exports=d;function d(r,t,i,n){return r[0]=t,r[1]=i,r[2]=n,r}},6141:function(v,d,r){v.exports=r(2953)},5486:function(v,d,r){v.exports=r(3066)},2953:function(v){v.exports=d;function d(r,t){var i=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return i*i+n*n+f*f}},3066:function(v){v.exports=d;function d(r){var t=r[0],i=r[1],n=r[2];return t*t+i*i+n*n}},2229:function(v,d,r){v.exports=r(6843)},6843:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}},492:function(v){v.exports=d;function d(r,t,i){var n=t[0],f=t[1],u=t[2];return r[0]=n*i[0]+f*i[3]+u*i[6],r[1]=n*i[1]+f*i[4]+u*i[7],r[2]=n*i[2]+f*i[5]+u*i[8],r}},5673:function(v){v.exports=d;function d(r,t,i){var n=t[0],f=t[1],u=t[2],l=i[3]*n+i[7]*f+i[11]*u+i[15];return l=l||1,r[0]=(i[0]*n+i[4]*f+i[8]*u+i[12])/l,r[1]=(i[1]*n+i[5]*f+i[9]*u+i[13])/l,r[2]=(i[2]*n+i[6]*f+i[10]*u+i[14])/l,r}},264:function(v){v.exports=d;function d(r,t,i){var n=t[0],f=t[1],u=t[2],l=i[0],m=i[1],c=i[2],A=i[3],h=A*n+m*u-c*f,o=A*f+c*n-l*u,p=A*u+l*f-m*n,b=-l*n-m*f-c*u;return r[0]=h*A+b*-l+o*-c-p*-m,r[1]=o*A+b*-m+p*-l-h*-c,r[2]=p*A+b*-c+h*-m-o*-l,r}},4361:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r[3]=t[3]+i[3],r}},2335:function(v){v.exports=d;function d(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=d;function d(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=d;function d(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=d;function d(r,t){var i=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(i*i+n*n+f*f+u*u)}},1373:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r[3]=t[3]/i[3],r}},3750:function(v){v.exports=d;function d(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=d;function d(r,t,i,n){var f=new Float32Array(4);return f[0]=r,f[1]=t,f[2]=i,f[3]=n,f}},9970:function(v,d,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=d;function d(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=d;function d(r){var t=r[0],i=r[1],n=r[2],f=r[3];return Math.sqrt(t*t+i*i+n*n+f*f)}},2573:function(v){v.exports=d;function d(r,t,i,n){var f=t[0],u=t[1],l=t[2],m=t[3];return r[0]=f+n*(i[0]-f),r[1]=u+n*(i[1]-u),r[2]=l+n*(i[2]-l),r[3]=m+n*(i[3]-m),r}},160:function(v){v.exports=d;function d(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r[3]=Math.max(t[3],i[3]),r}},2334:function(v){v.exports=d;function d(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r[3]=Math.min(t[3],i[3]),r}},3576:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r[3]=t[3]*i[3],r}},1498:function(v){v.exports=d;function d(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=d;function d(r,t){var i=t[0],n=t[1],f=t[2],u=t[3],l=i*i+n*n+f*f+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=i*l,r[1]=n*l,r[2]=f*l,r[3]=u*l),r}},9131:function(v,d,r){var t=r(5177),i=r(9288);v.exports=n;function n(f,u){return u=u||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),t(f,f),i(f,f,u),f}},9288:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r}},4844:function(v){v.exports=d;function d(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r[3]=t[3]+i[3]*n,r}},4578:function(v){v.exports=d;function d(r,t,i,n,f){return r[0]=t,r[1]=i,r[2]=n,r[3]=f,r}},7960:function(v){v.exports=d;function d(r,t){var i=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return i*i+n*n+f*f+u*u}},483:function(v){v.exports=d;function d(r){var t=r[0],i=r[1],n=r[2],f=r[3];return t*t+i*i+n*n+f*f}},6860:function(v){v.exports=d;function d(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r[3]=t[3]-i[3],r}},5352:function(v){v.exports=d;function d(r,t,i){var n=t[0],f=t[1],u=t[2],l=t[3];return r[0]=i[0]*n+i[4]*f+i[8]*u+i[12]*l,r[1]=i[1]*n+i[5]*f+i[9]*u+i[13]*l,r[2]=i[2]*n+i[6]*f+i[10]*u+i[14]*l,r[3]=i[3]*n+i[7]*f+i[11]*u+i[15]*l,r}},4041:function(v){v.exports=d;function d(r,t,i){var n=t[0],f=t[1],u=t[2],l=i[0],m=i[1],c=i[2],A=i[3],h=A*n+m*u-c*f,o=A*f+c*n-l*u,p=A*u+l*f-m*n,b=-l*n-m*f-c*u;return r[0]=h*A+b*-l+o*-c-p*-m,r[1]=o*A+b*-m+p*-l-h*-c,r[2]=p*A+b*-c+h*-m-o*-l,r[3]=t[3],r}},1848:function(v,d,r){var t=r(4905),i=r(6468);v.exports=n;function n(f){for(var u=Array.isArray(f)?f:t(f),l=0;l<u.length;l++){var m=u[l];if(m.type==="preprocessor"){var c=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var A=c[1],h=c[2];return(A?i(h):h).trim()}}}}},5874:function(v,d,r){v.exports=w;var t=r(620),i=r(7827),n=r(6852),f=r(7932),u=r(3508),l=999,m=9999,c=0,A=1,h=2,o=3,p=4,b=5,T=6,P=7,x=8,L=9,M=10,s=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function w(O){var _=0,U=0,z=l,F,B,N=[],V=[],X=1,q=0,te=0,ne=!1,ce=!1,Q="",Z;O=O||{};var re=n,Y=t;O.version==="300 es"&&(re=u,Y=f);for(var oe={},ue={},_=0;_<re.length;_++)oe[re[_]]=!0;for(var _=0;_<Y.length;_++)ue[Y[_]]=!0;return function(Ve){return V=[],Ve!==null?$(Ve):le()};function K(Ve){Ve.length&&V.push({type:E[z],data:Ve,position:te,line:X,column:q})}function $(Ve){_=0,Ve.toString&&(Ve=Ve.toString()),Q+=Ve.replace(/\r\n/g,`
`),Z=Q.length;for(var Fe;F=Q[_],_<Z;){switch(Fe=_,z){case c:_=Ae();break;case A:_=Me();break;case h:_=xe();break;case o:_=ke();break;case p:_=be();break;case s:_=Ee();break;case b:_=Le();break;case m:_=Ue();break;case L:_=he();break;case l:_=ae();break}if(Fe!==_)switch(Q[Fe]){case`
`:q=0,++X;break;default:++q;break}}return U+=_,Q=Q.slice(_),V}function le(Ve){return N.length&&K(N.join("")),z=M,K("(eof)"),V}function ae(){return N=N.length?[]:N,B==="/"&&F==="*"?(te=U+_-1,z=c,B=F,_+1):B==="/"&&F==="/"?(te=U+_-1,z=A,B=F,_+1):F==="#"?(z=h,te=U+_,_):/\s/.test(F)?(z=L,te=U+_,_):(ne=/\d/.test(F),ce=/[^\w_]/.test(F),te=U+_,z=ne?p:ce?o:m,_)}function he(){return/[^\s]/g.test(F)?(K(N.join("")),z=l,_):(N.push(F),B=F,_+1)}function xe(){return(F==="\r"||F===`
`)&&B!=="\\"?(K(N.join("")),z=l,_):(N.push(F),B=F,_+1)}function Me(){return xe()}function Ae(){return F==="/"&&B==="*"?(N.push(F),K(N.join("")),z=l,_+1):(N.push(F),B=F,_+1)}function ke(){if(B==="."&&/\d/.test(F))return z=b,_;if(B==="/"&&F==="*")return z=c,_;if(B==="/"&&F==="/")return z=A,_;if(F==="."&&N.length){for(;we(N););return z=b,_}if(F===";"||F===")"||F==="("){if(N.length)for(;we(N););return K(F),z=l,_+1}var Ve=N.length===2&&F!=="=";if(/[\w_\d\s]/.test(F)||Ve){for(;we(N););return z=l,_}return N.push(F),B=F,_+1}function we(Ve){var Fe=0,He,st;do{if(He=i.indexOf(Ve.slice(0,Ve.length+Fe).join("")),st=i[He],He===-1){if(Fe--+Ve.length>0)continue;st=Ve.slice(0,1).join("")}return K(st),te+=st.length,N=N.slice(st.length),N.length}while(!0)}function Ee(){return/[^a-fA-F0-9]/.test(F)?(K(N.join("")),z=l,_):(N.push(F),B=F,_+1)}function be(){return F==="."||/[eE]/.test(F)?(N.push(F),z=b,B=F,_+1):F==="x"&&N.length===1&&N[0]==="0"?(z=s,N.push(F),B=F,_+1):/[^\d]/.test(F)?(K(N.join("")),z=l,_):(N.push(F),B=F,_+1)}function Le(){return F==="f"&&(N.push(F),B=F,_+=1),/[eE]/.test(F)||(F==="-"||F==="+")&&/[eE]/.test(B)?(N.push(F),B=F,_+1):/[^\d]/.test(F)?(K(N.join("")),z=l,_):(N.push(F),B=F,_+1)}function Ue(){if(/[^\d\w_]/.test(F)){var Ve=N.join("");return ue[Ve]?z=x:oe[Ve]?z=P:z=T,K(N.join("")),z=l,_}return N.push(F),B=F,_+1}}},3508:function(v,d,r){var t=r(6852);t=t.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,d,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,d,r){var t=r(5874);v.exports=i;function i(n,f){var u=t(f),l=[];return l=l.concat(u(n)),l=l.concat(u(null)),l}},3236:function(v){v.exports=function(d){typeof d=="string"&&(d=[d]);for(var r=[].slice.call(arguments,1),t=[],i=0;i<d.length-1;i++)t.push(d[i],r[i]||"");return t.push(d[i]),t.join("")}},7520:function(v,d,r){var t=r(9507);function i(){var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{n=!1}return n}v.exports=t&&i()},3778:function(v,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(r,t,i,n,f){var u,l,m=f*8-n-1,c=(1<<m)-1,A=c>>1,h=-7,o=i?f-1:0,p=i?-1:1,b=r[t+o];for(o+=p,u=b&(1<<-h)-1,b>>=-h,h+=m;h>0;u=u*256+r[t+o],o+=p,h-=8);for(l=u&(1<<-h)-1,u>>=-h,h+=n;h>0;l=l*256+r[t+o],o+=p,h-=8);if(u===0)u=1-A;else{if(u===c)return l?NaN:(b?-1:1)*(1/0);l=l+Math.pow(2,n),u=u-A}return(b?-1:1)*l*Math.pow(2,u-n)},d.write=function(r,t,i,n,f,u){var l,m,c,A=u*8-f-1,h=(1<<A)-1,o=h>>1,p=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:u-1,T=n?1:-1,P=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,l=h):(l=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+o>=1?t+=p/c:t+=p*Math.pow(2,1-o),t*c>=2&&(l++,c/=2),l+o>=h?(m=0,l=h):l+o>=1?(m=(t*c-1)*Math.pow(2,f),l=l+o):(m=t*Math.pow(2,o-1)*Math.pow(2,f),l=0));f>=8;r[i+b]=m&255,b+=T,m/=256,f-=8);for(l=l<<f|m,A+=f;A>0;r[i+b]=l&255,b+=T,l/=256,A-=8);r[i+b-T]|=P*128}},8954:function(v,d,r){v.exports=o;var t=r(3250),i=r(6803).Fw;function n(p,b,T){this.vertices=p,this.adjacent=b,this.boundary=T,this.lastVisited=-1}n.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var b=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=b};function f(p,b,T){this.vertices=p,this.cell=b,this.index=T}function u(p,b){return i(p.vertices,b.vertices)}function l(p){return function(){var b=this.tuple;return p.apply(this,b)}}function m(p){var b=t[p+1];return b||(b=t),l(b)}var c=[];function A(p,b,T){this.dimension=p,this.vertices=b,this.simplices=T,this.interior=T.filter(function(L){return!L.boundary}),this.tuple=new Array(p+1);for(var P=0;P<=p;++P)this.tuple[P]=this.vertices[P];var x=c[p];x||(x=c[p]=m(p)),this.orient=x}var h=A.prototype;h.handleBoundaryDegeneracy=function(p,b){var T=this.dimension,P=this.vertices.length-1,x=this.tuple,L=this.vertices,M=[p];for(p.lastVisited=-P;M.length>0;){p=M.pop();for(var s=p.adjacent,E=0;E<=T;++E){var w=s[E];if(!(!w.boundary||w.lastVisited<=-P)){for(var O=w.vertices,_=0;_<=T;++_){var U=O[_];U<0?x[_]=b:x[_]=L[U]}var z=this.orient();if(z>0)return w;w.lastVisited=-P,z===0&&M.push(w)}}}return null},h.walk=function(p,b){var T=this.vertices.length-1,P=this.dimension,x=this.vertices,L=this.tuple,M=b?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[M];e:for(;!s.boundary;){for(var E=s.vertices,w=s.adjacent,O=0;O<=P;++O)L[O]=x[E[O]];s.lastVisited=T;for(var O=0;O<=P;++O){var _=w[O];if(!(_.lastVisited>=T)){var U=L[O];L[O]=p;var z=this.orient();if(L[O]=U,z<0){s=_;continue e}else _.boundary?_.lastVisited=-T:_.lastVisited=T}}return}return s},h.addPeaks=function(p,b){var T=this.vertices.length-1,P=this.dimension,x=this.vertices,L=this.tuple,M=this.interior,s=this.simplices,E=[b];b.lastVisited=T,b.vertices[b.vertices.indexOf(-1)]=T,b.boundary=!1,M.push(b);for(var w=[];E.length>0;){var b=E.pop(),O=b.vertices,_=b.adjacent,U=O.indexOf(T);if(!(U<0)){for(var z=0;z<=P;++z)if(z!==U){var F=_[z];if(!(!F.boundary||F.lastVisited>=T)){var B=F.vertices;if(F.lastVisited!==-T){for(var N=0,V=0;V<=P;++V)B[V]<0?(N=V,L[V]=p):L[V]=x[B[V]];var X=this.orient();if(X>0){B[N]=T,F.boundary=!1,M.push(F),E.push(F),F.lastVisited=T;continue}else F.lastVisited=-T}var q=F.adjacent,te=O.slice(),ne=_.slice(),ce=new n(te,ne,!0);s.push(ce);var Q=q.indexOf(b);if(!(Q<0)){q[Q]=ce,ne[U]=F,te[z]=-1,ne[z]=b,_[z]=ce,ce.flip();for(var V=0;V<=P;++V){var Z=te[V];if(!(Z<0||Z===T)){for(var re=new Array(P-1),Y=0,oe=0;oe<=P;++oe){var ue=te[oe];ue<0||oe===V||(re[Y++]=ue)}w.push(new f(re,ce,V))}}}}}}}w.sort(u);for(var z=0;z+1<w.length;z+=2){var K=w[z],$=w[z+1],le=K.index,ae=$.index;le<0||ae<0||(K.cell.adjacent[K.index]=$.cell,$.cell.adjacent[$.index]=K.cell)}},h.insert=function(p,b){var T=this.vertices;T.push(p);var P=this.walk(p,b);if(P){for(var x=this.dimension,L=this.tuple,M=0;M<=x;++M){var s=P.vertices[M];s<0?L[M]=p:L[M]=T[s]}var E=this.orient(L);E<0||E===0&&(P=this.handleBoundaryDegeneracy(P,p),!P)||this.addPeaks(p,P)}},h.boundary=function(){for(var p=this.dimension,b=[],T=this.simplices,P=T.length,x=0;x<P;++x){var L=T[x];if(L.boundary){for(var M=new Array(p),s=L.vertices,E=0,w=0,O=0;O<=p;++O)s[O]>=0?M[E++]=s[O]:w=O&1;if(w===(p&1)){var _=M[0];M[0]=M[1],M[1]=_}b.push(M)}}return b};function o(p,b){var T=p.length;if(T===0)throw new Error("Must have at least d+1 points");var P=p[0].length;if(T<=P)throw new Error("Must input at least d+1 points");var x=p.slice(0,P+1),L=t.apply(void 0,x);if(L===0)throw new Error("Input not in general position");for(var M=new Array(P+1),s=0;s<=P;++s)M[s]=s;L<0&&(M[0]=1,M[1]=0);for(var E=new n(M,new Array(P+1),!1),w=E.adjacent,O=new Array(P+2),s=0;s<=P;++s){for(var _=M.slice(),U=0;U<=P;++U)U===s&&(_[U]=-1);var z=_[0];_[0]=_[1],_[1]=z;var F=new n(_,new Array(P+1),!0);w[s]=F,O[s]=F}O[P+1]=E;for(var s=0;s<=P;++s)for(var _=w[s].vertices,B=w[s].adjacent,U=0;U<=P;++U){var N=_[U];if(N<0){B[U]=E;continue}for(var V=0;V<=P;++V)w[V].vertices.indexOf(N)<0&&(B[U]=w[V])}for(var X=new A(P,x,O),q=!!b,s=P+1;s<T;++s)X.insert(p[s],q);return X.boundary()}},3352:function(v,d,r){var t=r(2478),i=0,n=1,f=2;v.exports=E;function u(w,O,_,U,z){this.mid=w,this.left=O,this.right=_,this.leftPoints=U,this.rightPoints=z,this.count=(O?O.count:0)+(_?_.count:0)+U.length}var l=u.prototype;function m(w,O){w.mid=O.mid,w.left=O.left,w.right=O.right,w.leftPoints=O.leftPoints,w.rightPoints=O.rightPoints,w.count=O.count}function c(w,O){var _=L(O);w.mid=_.mid,w.left=_.left,w.right=_.right,w.leftPoints=_.leftPoints,w.rightPoints=_.rightPoints,w.count=_.count}function A(w,O){var _=w.intervals([]);_.push(O),c(w,_)}function h(w,O){var _=w.intervals([]),U=_.indexOf(O);return U<0?i:(_.splice(U,1),c(w,_),n)}l.intervals=function(w){return w.push.apply(w,this.leftPoints),this.left&&this.left.intervals(w),this.right&&this.right.intervals(w),w},l.insert=function(w){var O=this.count-this.leftPoints.length;if(this.count+=1,w[1]<this.mid)this.left?4*(this.left.count+1)>3*(O+1)?A(this,w):this.left.insert(w):this.left=L([w]);else if(w[0]>this.mid)this.right?4*(this.right.count+1)>3*(O+1)?A(this,w):this.right.insert(w):this.right=L([w]);else{var _=t.ge(this.leftPoints,w,P),U=t.ge(this.rightPoints,w,x);this.leftPoints.splice(_,0,w),this.rightPoints.splice(U,0,w)}},l.remove=function(w){var O=this.count-this.leftPoints;if(w[1]<this.mid){if(!this.left)return i;var _=this.right?this.right.count:0;if(4*_>3*(O-1))return h(this,w);var U=this.left.remove(w);return U===f?(this.left=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else if(w[0]>this.mid){if(!this.right)return i;var z=this.left?this.left.count:0;if(4*z>3*(O-1))return h(this,w);var U=this.right.remove(w);return U===f?(this.right=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else{if(this.count===1)return this.leftPoints[0]===w?f:i;if(this.leftPoints.length===1&&this.leftPoints[0]===w){if(this.left&&this.right){for(var F=this,B=this.left;B.right;)F=B,B=B.right;if(F===this)B.right=this.right;else{var N=this.left,U=this.right;F.count-=B.count,F.right=B.left,B.left=N,B.right=U}m(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return n}for(var N=t.ge(this.leftPoints,w,P);N<this.leftPoints.length&&this.leftPoints[N][0]===w[0];++N)if(this.leftPoints[N]===w){this.count-=1,this.leftPoints.splice(N,1);for(var U=t.ge(this.rightPoints,w,x);U<this.rightPoints.length&&this.rightPoints[U][1]===w[1];++U)if(this.rightPoints[U]===w)return this.rightPoints.splice(U,1),n}return i}};function o(w,O,_){for(var U=0;U<w.length&&w[U][0]<=O;++U){var z=_(w[U]);if(z)return z}}function p(w,O,_){for(var U=w.length-1;U>=0&&w[U][1]>=O;--U){var z=_(w[U]);if(z)return z}}function b(w,O){for(var _=0;_<w.length;++_){var U=O(w[_]);if(U)return U}}l.queryPoint=function(w,O){if(w<this.mid){if(this.left){var _=this.left.queryPoint(w,O);if(_)return _}return o(this.leftPoints,w,O)}else if(w>this.mid){if(this.right){var _=this.right.queryPoint(w,O);if(_)return _}return p(this.rightPoints,w,O)}else return b(this.leftPoints,O)},l.queryInterval=function(w,O,_){if(w<this.mid&&this.left){var U=this.left.queryInterval(w,O,_);if(U)return U}if(O>this.mid&&this.right){var U=this.right.queryInterval(w,O,_);if(U)return U}return O<this.mid?o(this.leftPoints,O,_):w>this.mid?p(this.rightPoints,w,_):b(this.leftPoints,_)};function T(w,O){return w-O}function P(w,O){var _=w[0]-O[0];return _||w[1]-O[1]}function x(w,O){var _=w[1]-O[1];return _||w[0]-O[0]}function L(w){if(w.length===0)return null;for(var O=[],_=0;_<w.length;++_)O.push(w[_][0],w[_][1]);O.sort(T);for(var U=O[O.length>>1],z=[],F=[],B=[],_=0;_<w.length;++_){var N=w[_];N[1]<U?z.push(N):U<N[0]?F.push(N):B.push(N)}var V=B,X=B.slice();return V.sort(P),X.sort(x),new u(U,L(z),L(F),V,X)}function M(w){this.root=w}var s=M.prototype;s.insert=function(w){this.root?this.root.insert(w):this.root=new u(w[0],null,null,[w],[w])},s.remove=function(w){if(this.root){var O=this.root.remove(w);return O===f&&(this.root=null),O!==i}return!1},s.queryPoint=function(w,O){if(this.root)return this.root.queryPoint(w,O)},s.queryInterval=function(w,O,_){if(w<=O&&this.root)return this.root.queryInterval(w,O,_)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(w){return!w||w.length===0?new M(null):new M(L(w))}},7762:function(v){function d(r){for(var t=new Array(r),i=0;i<r;++i)t[i]=i;return t}v.exports=d},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(d(t)||r(t)||!!t._isBuffer)};function d(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&d(t.slice(0,0))}},5219:function(v){v.exports=function(d){for(var r=d.length,t,i=0;i<r;i++)if(t=d.charCodeAt(i),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function d(r,t,i){return r*(1-i)+t*i}v.exports=d},2652:function(v,d,r){var t=r(4335),i=r(6864),n=r(1903),f=r(9921),u=r(7608),l=r(5665),m={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},c=i(),A=i(),h=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];v.exports=function(L,M,s,E,w,O){if(M||(M=[0,0,0]),s||(s=[0,0,0]),E||(E=[0,0,0]),w||(w=[0,0,0,1]),O||(O=[0,0,0,1]),!t(c,L)||(n(A,c),A[3]=0,A[7]=0,A[11]=0,A[15]=1,Math.abs(f(A)<1e-8)))return!1;var _=c[3],U=c[7],z=c[11],F=c[12],B=c[13],N=c[14],V=c[15];if(_!==0||U!==0||z!==0){h[0]=_,h[1]=U,h[2]=z,h[3]=V;var X=u(A,A);if(!X)return!1;l(A,A),b(w,h,A)}else w[0]=w[1]=w[2]=0,w[3]=1;if(M[0]=F,M[1]=B,M[2]=N,T(o,c),s[0]=m.length(o[0]),m.normalize(o[0],o[0]),E[0]=m.dot(o[0],o[1]),P(o[1],o[1],o[0],1,-E[0]),s[1]=m.length(o[1]),m.normalize(o[1],o[1]),E[0]/=s[1],E[1]=m.dot(o[0],o[2]),P(o[2],o[2],o[0],1,-E[1]),E[2]=m.dot(o[1],o[2]),P(o[2],o[2],o[1],1,-E[2]),s[2]=m.length(o[2]),m.normalize(o[2],o[2]),E[1]/=s[2],E[2]/=s[2],m.cross(p,o[1],o[2]),m.dot(o[0],p)<0)for(var q=0;q<3;q++)s[q]*=-1,o[q][0]*=-1,o[q][1]*=-1,o[q][2]*=-1;return O[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),O[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),O[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),O[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(O[0]=-O[0]),o[0][2]>o[2][0]&&(O[1]=-O[1]),o[1][0]>o[0][1]&&(O[2]=-O[2]),!0};function b(x,L,M){var s=L[0],E=L[1],w=L[2],O=L[3];return x[0]=M[0]*s+M[4]*E+M[8]*w+M[12]*O,x[1]=M[1]*s+M[5]*E+M[9]*w+M[13]*O,x[2]=M[2]*s+M[6]*E+M[10]*w+M[14]*O,x[3]=M[3]*s+M[7]*E+M[11]*w+M[15]*O,x}function T(x,L){x[0][0]=L[0],x[0][1]=L[1],x[0][2]=L[2],x[1][0]=L[4],x[1][1]=L[5],x[1][2]=L[6],x[2][0]=L[8],x[2][1]=L[9],x[2][2]=L[10]}function P(x,L,M,s,E){x[0]=L[0]*s+M[0]*E,x[1]=L[1]*s+M[1]*E,x[2]=L[2]*s+M[2]*E}},4335:function(v){v.exports=function(r,t){var i=t[15];if(i===0)return!1;for(var n=1/i,f=0;f<16;f++)r[f]=t[f]*n;return!0}},7442:function(v,d,r){var t=r(6658),i=r(7182),n=r(2652),f=r(9921),u=r(8648),l=h(),m=h(),c=h();v.exports=A;function A(b,T,P,x){if(f(T)===0||f(P)===0)return!1;var L=n(T,l.translate,l.scale,l.skew,l.perspective,l.quaternion),M=n(P,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!L||!M?!1:(t(c.translate,l.translate,m.translate,x),t(c.skew,l.skew,m.skew,x),t(c.scale,l.scale,m.scale,x),t(c.perspective,l.perspective,m.perspective,x),u(c.quaternion,l.quaternion,m.quaternion,x),i(b,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function h(){return{translate:o(),scale:o(1),skew:o(),perspective:p(),quaternion:p()}}function o(b){return[b||0,b||0,b||0]}function p(){return[0,0,0,1]}},7182:function(v,d,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var i=t.create();v.exports=function(f,u,l,m,c,A){return t.identity(f),t.fromRotationTranslation(f,A,u),f[3]=c[0],f[7]=c[1],f[11]=c[2],f[15]=c[3],t.identity(i),m[2]!==0&&(i[9]=m[2],t.multiply(f,f,i)),m[1]!==0&&(i[9]=0,i[8]=m[1],t.multiply(f,f,i)),m[0]!==0&&(i[8]=0,i[4]=m[0],t.multiply(f,f,i)),t.scale(f,f,l),f}},4192:function(v,d,r){var t=r(2478),i=r(7442),n=r(7608),f=r(5567),u=r(2408),l=r(7089),m=r(6582),c=r(7656);r(2504);var A=r(3536),h=[0,0,0];v.exports=T;function o(P){this._components=P.slice(),this._time=[0],this.prevMatrix=P.slice(),this.nextMatrix=P.slice(),this.computedMatrix=P.slice(),this.computedInverse=P.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=o.prototype;p.recalcMatrix=function(P){var x=this._time,L=t.le(x,P),M=this.computedMatrix;if(!(L<0)){var s=this._components;if(L===x.length-1)for(var E=16*L,w=0;w<16;++w)M[w]=s[E++];else{for(var O=x[L+1]-x[L],E=16*L,_=this.prevMatrix,U=!0,w=0;w<16;++w)_[w]=s[E++];for(var z=this.nextMatrix,w=0;w<16;++w)z[w]=s[E++],U=U&&_[w]===z[w];if(O<1e-6||U)for(var w=0;w<16;++w)M[w]=_[w];else i(M,_,z,(P-x[L])/O)}var F=this.computedUp;F[0]=M[1],F[1]=M[5],F[2]=M[9],A(F,F);var B=this.computedInverse;n(B,M);var N=this.computedEye,V=B[15];N[0]=B[12]/V,N[1]=B[13]/V,N[2]=B[14]/V;for(var X=this.computedCenter,q=Math.exp(this.computedRadius[0]),w=0;w<3;++w)X[w]=N[w]-M[2+4*w]*q}},p.idle=function(P){if(!(P<this.lastT())){for(var x=this._components,L=x.length-16,M=0;M<16;++M)x.push(x[L++]);this._time.push(P)}},p.flush=function(P){var x=t.gt(this._time,P)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(P,x,L,M){this.recalcMatrix(P),x=x||this.computedEye,L=L||h,M=M||this.computedUp,this.setMatrix(P,m(this.computedMatrix,x,L,M));for(var s=0,E=0;E<3;++E)s+=Math.pow(L[E]-x[E],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},p.rotate=function(P,x,L,M){this.recalcMatrix(P);var s=this.computedInverse;x&&u(s,s,x),L&&f(s,s,L),M&&l(s,s,M),this.setMatrix(P,n(this.computedMatrix,s))};var b=[0,0,0];p.pan=function(P,x,L,M){b[0]=-(x||0),b[1]=-(L||0),b[2]=-(M||0),this.recalcMatrix(P);var s=this.computedInverse;c(s,s,b),this.setMatrix(P,n(s,s))},p.translate=function(P,x,L,M){b[0]=x||0,b[1]=L||0,b[2]=M||0,this.recalcMatrix(P);var s=this.computedMatrix;c(s,s,b),this.setMatrix(P,s)},p.setMatrix=function(P,x){if(!(P<this.lastT())){this._time.push(P);for(var L=0;L<16;++L)this._components.push(x[L])}},p.setDistance=function(P,x){this.computedRadius[0]=x},p.setDistanceLimits=function(P,x){var L=this._limits;L[0]=P,L[1]=x},p.getDistanceLimits=function(P){var x=this._limits;return P?(P[0]=x[0],P[1]=x[1],P):x};function T(P){P=P||{};var x=P.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(x)}},3090:function(v,d,r){v.exports=i;var t=r(3250)[3];function i(n){var f=n.length;if(f<3){for(var p=new Array(f),u=0;u<f;++u)p[u]=u;return f===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:p}for(var l=new Array(f),u=0;u<f;++u)l[u]=u;l.sort(function(x,L){var M=n[x][0]-n[L][0];return M||n[x][1]-n[L][1]});for(var m=[l[0],l[1]],c=[l[0],l[1]],u=2;u<f;++u){for(var A=l[u],h=n[A],o=m.length;o>1&&t(n[m[o-2]],n[m[o-1]],h)<=0;)o-=1,m.pop();for(m.push(A),o=c.length;o>1&&t(n[c[o-2]],n[c[o-1]],h)>=0;)o-=1,c.pop();c.push(A)}for(var p=new Array(c.length+m.length-2),b=0,u=0,T=m.length;u<T;++u)p[b++]=m[u];for(var P=c.length-2;P>0;--P)p[b++]=c[P];return p}},351:function(v,d,r){v.exports=i;var t=r(4687);function i(n,f){f||(f=n,n=window);var u=0,l=0,m=0,c={shift:!1,alt:!1,control:!1,meta:!1},A=!1;function h(w){var O=!1;return"altKey"in w&&(O=O||w.altKey!==c.alt,c.alt=!!w.altKey),"shiftKey"in w&&(O=O||w.shiftKey!==c.shift,c.shift=!!w.shiftKey),"ctrlKey"in w&&(O=O||w.ctrlKey!==c.control,c.control=!!w.ctrlKey),"metaKey"in w&&(O=O||w.metaKey!==c.meta,c.meta=!!w.metaKey),O}function o(w,O){var _=t.x(O),U=t.y(O);"buttons"in O&&(w=O.buttons|0),(w!==u||_!==l||U!==m||h(O))&&(u=w|0,l=_||0,m=U||0,f&&f(u,l,m,c))}function p(w){o(0,w)}function b(){(u||l||m||c.shift||c.alt||c.meta||c.control)&&(l=m=0,u=0,c.shift=c.alt=c.control=c.meta=!1,f&&f(0,0,0,c))}function T(w){h(w)&&f&&f(u,l,m,c)}function P(w){t.buttons(w)===0?o(0,w):o(u,w)}function x(w){o(u|t.buttons(w),w)}function L(w){o(u&~t.buttons(w),w)}function M(){A||(A=!0,n.addEventListener("mousemove",P),n.addEventListener("mousedown",x),n.addEventListener("mouseup",L),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",b),n.addEventListener("keyup",T),n.addEventListener("keydown",T),n.addEventListener("keypress",T),n!==window&&(window.addEventListener("blur",b),window.addEventListener("keyup",T),window.addEventListener("keydown",T),window.addEventListener("keypress",T)))}function s(){A&&(A=!1,n.removeEventListener("mousemove",P),n.removeEventListener("mousedown",x),n.removeEventListener("mouseup",L),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",b),n.removeEventListener("keyup",T),n.removeEventListener("keydown",T),n.removeEventListener("keypress",T),n!==window&&(window.removeEventListener("blur",b),window.removeEventListener("keyup",T),window.removeEventListener("keydown",T),window.removeEventListener("keypress",T)))}M();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return A},set:function(w){w?M():s()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),E}},24:function(v){var d={left:0,top:0};v.exports=r;function r(i,n,f){n=n||i.currentTarget||i.srcElement,Array.isArray(f)||(f=[0,0]);var u=i.clientX||0,l=i.clientY||0,m=t(n);return f[0]=u-m.left,f[1]=l-m.top,f}function t(i){return i===window||i===document||i===document.body?d:i.getBoundingClientRect()}},4687:function(v,d){function r(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var u=f.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in f){var u=f.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}d.buttons=r;function t(f){return f.target||f.srcElement||window}d.element=t;function i(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var u=t(f),l=u.getBoundingClientRect();return f.clientX-l.left}return 0}d.x=i;function n(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var u=t(f),l=u.getBoundingClientRect();return f.clientY-l.top}return 0}d.y=n},8512:function(v,d,r){var t=r(665);v.exports=i;function i(n,f,u){typeof n=="function"&&(u=!!f,f=n,n=window);var l=t("ex",n),m=function(c){u&&c.preventDefault();var A=c.deltaX||0,h=c.deltaY||0,o=c.deltaZ||0,p=c.deltaMode,b=1;switch(p){case 1:b=l;break;case 2:b=window.innerHeight;break}if(A*=b,h*=b,o*=b,A||h||o)return f(A,h,o,c)};return n.addEventListener("wheel",m),m}},2640:function(v,d,r){var t=r(1888);v.exports=f;var i={"false,0,1":function(l,m,c,A,h){return function(p,b,T,P){var x=p.shape[0]|0,L=p.shape[1]|0,M=p.data,s=p.offset|0,E=p.stride[0]|0,w=p.stride[1]|0,O=s,_,U=-E|0,z=0,F=-w|0,B=0,N=-E-w|0,V=0,X=E|0,q=w-E*x|0,te=0,ne=0,ce=0,Q=2*x|0,Z=A(Q),re=A(Q),Y=0,oe=0,ue=-1,K=-1,$=0,le=-x|0,ae=x|0,he=0,xe=-x-1|0,Me=x-1|0,Ae=0,ke=0,we=0;for(te=0;te<x;++te)Z[Y++]=c(M[O],b,T,P),O+=X;if(O+=q,L>0){if(ne=1,Z[Y++]=c(M[O],b,T,P),O+=X,x>0)for(te=1,_=M[O],oe=Z[Y]=c(_,b,T,P),$=Z[Y+ue],he=Z[Y+le],Ae=Z[Y+xe],(oe!==$||oe!==he||oe!==Ae)&&(z=M[O+U],B=M[O+F],V=M[O+N],l(te,ne,_,z,B,V,oe,$,he,Ae,b,T,P),ke=re[Y]=ce++),Y+=1,O+=X,te=2;te<x;++te)_=M[O],oe=Z[Y]=c(_,b,T,P),$=Z[Y+ue],he=Z[Y+le],Ae=Z[Y+xe],(oe!==$||oe!==he||oe!==Ae)&&(z=M[O+U],B=M[O+F],V=M[O+N],l(te,ne,_,z,B,V,oe,$,he,Ae,b,T,P),ke=re[Y]=ce++,Ae!==$&&m(re[Y+ue],ke,V,z,Ae,$,b,T,P)),Y+=1,O+=X;for(O+=q,Y=0,we=ue,ue=K,K=we,we=le,le=ae,ae=we,we=xe,xe=Me,Me=we,ne=2;ne<L;++ne){if(Z[Y++]=c(M[O],b,T,P),O+=X,x>0)for(te=1,_=M[O],oe=Z[Y]=c(_,b,T,P),$=Z[Y+ue],he=Z[Y+le],Ae=Z[Y+xe],(oe!==$||oe!==he||oe!==Ae)&&(z=M[O+U],B=M[O+F],V=M[O+N],l(te,ne,_,z,B,V,oe,$,he,Ae,b,T,P),ke=re[Y]=ce++,Ae!==he&&m(re[Y+le],ke,B,V,he,Ae,b,T,P)),Y+=1,O+=X,te=2;te<x;++te)_=M[O],oe=Z[Y]=c(_,b,T,P),$=Z[Y+ue],he=Z[Y+le],Ae=Z[Y+xe],(oe!==$||oe!==he||oe!==Ae)&&(z=M[O+U],B=M[O+F],V=M[O+N],l(te,ne,_,z,B,V,oe,$,he,Ae,b,T,P),ke=re[Y]=ce++,Ae!==he&&m(re[Y+le],ke,B,V,he,Ae,b,T,P),Ae!==$&&m(re[Y+ue],ke,V,z,Ae,$,b,T,P)),Y+=1,O+=X;ne&1&&(Y=0),we=ue,ue=K,K=we,we=le,le=ae,ae=we,we=xe,xe=Me,Me=we,O+=q}}h(re),h(Z)}},"false,1,0":function(l,m,c,A,h){return function(p,b,T,P){var x=p.shape[0]|0,L=p.shape[1]|0,M=p.data,s=p.offset|0,E=p.stride[0]|0,w=p.stride[1]|0,O=s,_,U=-E|0,z=0,F=-w|0,B=0,N=-E-w|0,V=0,X=w|0,q=E-w*L|0,te=0,ne=0,ce=0,Q=2*L|0,Z=A(Q),re=A(Q),Y=0,oe=0,ue=-1,K=-1,$=0,le=-L|0,ae=L|0,he=0,xe=-L-1|0,Me=L-1|0,Ae=0,ke=0,we=0;for(ne=0;ne<L;++ne)Z[Y++]=c(M[O],b,T,P),O+=X;if(O+=q,x>0){if(te=1,Z[Y++]=c(M[O],b,T,P),O+=X,L>0)for(ne=1,_=M[O],oe=Z[Y]=c(_,b,T,P),he=Z[Y+le],$=Z[Y+ue],Ae=Z[Y+xe],(oe!==he||oe!==$||oe!==Ae)&&(z=M[O+U],B=M[O+F],V=M[O+N],l(te,ne,_,z,B,V,oe,he,$,Ae,b,T,P),ke=re[Y]=ce++),Y+=1,O+=X,ne=2;ne<L;++ne)_=M[O],oe=Z[Y]=c(_,b,T,P),he=Z[Y+le],$=Z[Y+ue],Ae=Z[Y+xe],(oe!==he||oe!==$||oe!==Ae)&&(z=M[O+U],B=M[O+F],V=M[O+N],l(te,ne,_,z,B,V,oe,he,$,Ae,b,T,P),ke=re[Y]=ce++,Ae!==$&&m(re[Y+ue],ke,B,V,$,Ae,b,T,P)),Y+=1,O+=X;for(O+=q,Y=0,we=le,le=ae,ae=we,we=ue,ue=K,K=we,we=xe,xe=Me,Me=we,te=2;te<x;++te){if(Z[Y++]=c(M[O],b,T,P),O+=X,L>0)for(ne=1,_=M[O],oe=Z[Y]=c(_,b,T,P),he=Z[Y+le],$=Z[Y+ue],Ae=Z[Y+xe],(oe!==he||oe!==$||oe!==Ae)&&(z=M[O+U],B=M[O+F],V=M[O+N],l(te,ne,_,z,B,V,oe,he,$,Ae,b,T,P),ke=re[Y]=ce++,Ae!==he&&m(re[Y+le],ke,V,z,Ae,he,b,T,P)),Y+=1,O+=X,ne=2;ne<L;++ne)_=M[O],oe=Z[Y]=c(_,b,T,P),he=Z[Y+le],$=Z[Y+ue],Ae=Z[Y+xe],(oe!==he||oe!==$||oe!==Ae)&&(z=M[O+U],B=M[O+F],V=M[O+N],l(te,ne,_,z,B,V,oe,he,$,Ae,b,T,P),ke=re[Y]=ce++,Ae!==$&&m(re[Y+ue],ke,B,V,$,Ae,b,T,P),Ae!==he&&m(re[Y+le],ke,V,z,Ae,he,b,T,P)),Y+=1,O+=X;te&1&&(Y=0),we=le,le=ae,ae=we,we=ue,ue=K,K=we,we=xe,xe=Me,Me=we,O+=q}}h(re),h(Z)}}};function n(u,l,m,c,A,h){var o=[h,A].join(","),p=i[o];return p(u,l,m,t.mallocUint32,t.freeUint32)}function f(u){function l(b){throw new Error("ndarray-extract-contour: "+b)}typeof u!="object"&&l("Must specify arguments");var m=u.order;Array.isArray(m)||l("Must specify order");var c=u.arrayArguments||1;c<1&&l("Must have at least one array argument");var A=u.scalarArguments||0;A<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var h=u.getters||[],o=new Array(c),p=0;p<c;++p)h.indexOf(p)>=0?o[p]=!0:o[p]=!1;return n(u.vertex,u.cell,u.phase,A,m,o)}},6199:function(v,d,r){var t=r(1338),i={zero:function(T,P,x,L){var M=T[0],s=x[0];L|=0;var E=0,w=s;for(E=0;E<M;++E)P[L]=0,L+=w},fdTemplate1:function(T,P,x,L,M,s,E){var w=T[0],O=x[0],_=s[0],U=-1*O,z=O;L|=0,E|=0;var F=0,B=O,N=_;for(F=0;F<w;++F)M[E]=.5*(P[L+U]-P[L+z]),L+=B,E+=N},fdTemplate2:function(T,P,x,L,M,s,E,w,O,_){var U=T[0],z=T[1],F=x[0],B=x[1],N=s[0],V=s[1],X=O[0],q=O[1],te=-1*F,ne=F,ce=-1*B,Q=B;L|=0,E|=0,_|=0;var Z=0,re=0,Y=B,oe=F-z*B,ue=V,K=N-z*V,$=q,le=X-z*q;for(re=0;re<U;++re){for(Z=0;Z<z;++Z)M[E]=.5*(P[L+te]-P[L+ne]),w[_]=.5*(P[L+ce]-P[L+Q]),L+=Y,E+=ue,_+=$;L+=oe,E+=K,_+=le}}},n={cdiff:function(T){var P={};return function(L,M,s){var E=L.dtype,w=L.order,O=M.dtype,_=M.order,U=s.dtype,z=s.order,F=[E,w.join(),O,_.join(),U,z.join()].join(),B=P[F];return B||(P[F]=B=T([E,w,O,_,U,z])),B(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0,s.data,s.stride,s.offset|0)}},zero:function(T){var P={};return function(L){var M=L.dtype,s=L.order,E=[M,s.join()].join(),w=P[E];return w||(P[E]=w=T([M,s])),w(L.shape.slice(0),L.data,L.stride,L.offset|0)}},fdTemplate1:function(T){var P={};return function(L,M){var s=L.dtype,E=L.order,w=M.dtype,O=M.order,_=[s,E.join(),w,O.join()].join(),U=P[_];return U||(P[_]=U=T([s,E,w,O])),U(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0)}},fdTemplate2:function(T){var P={};return function(L,M,s){var E=L.dtype,w=L.order,O=M.dtype,_=M.order,U=s.dtype,z=s.order,F=[E,w.join(),O,_.join(),U,z.join()].join(),B=P[F];return B||(P[F]=B=T([E,w,O,_,U,z])),B(L.shape.slice(0),L.data,L.stride,L.offset|0,M.data,M.stride,M.offset|0,s.data,s.stride,s.offset|0)}}};function f(T){var P=n[T.funcName];return P(u.bind(void 0,T))}function u(T){return i[T.funcName]}function l(T){return f({funcName:T.funcName})}var m={},c={},A=l({funcName:"cdiff"}),h=l({funcName:"zero"});function o(T){return T in m?m[T]:m[T]=l({funcName:"fdTemplate"+T})}function p(T,P,x,L){return function(M,s){var E=s.shape.slice();return E[0]>2&&E[1]>2&&L(s.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),M.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),M.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(x(s.pick(0,-1).lo(1).hi(E[1]-2),M.pick(0,-1,1).lo(1).hi(E[1]-2)),P(M.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(x(s.pick(E[0]-1,-1).lo(1).hi(E[1]-2),M.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),P(M.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(x(s.pick(-1,0).lo(1).hi(E[0]-2),M.pick(-1,0,0).lo(1).hi(E[0]-2)),P(M.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(x(s.pick(-1,E[1]-1).lo(1).hi(E[0]-2),M.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),P(M.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),M.set(0,0,0,0),M.set(0,0,1,0),M.set(E[0]-1,0,0,0),M.set(E[0]-1,0,1,0),M.set(0,E[1]-1,0,0),M.set(0,E[1]-1,1,0),M.set(E[0]-1,E[1]-1,0,0),M.set(E[0]-1,E[1]-1,1,0),M}}function b(T){var P=T.join(),E=c[P];if(E)return E;for(var x=T.length,L=[A,h],M=1;M<=x;++M)L.push(o(M));var s=p,E=s.apply(void 0,L);return c[P]=E,E}v.exports=function(P,x,L){if(Array.isArray(L)||(typeof L=="string"?L=t(x.dimension,L):L=t(x.dimension,"clamp")),x.size===0)return P;if(x.dimension===0)return P.set(0),P;var M=b(L);return M(P,x)}},4317:function(v){function d(f,u){var l=Math.floor(u),m=u-l,c=0<=l&&l<f.shape[0],A=0<=l+1&&l+1<f.shape[0],h=c?+f.get(l):0,o=A?+f.get(l+1):0;return(1-m)*h+m*o}function r(f,u,l){var m=Math.floor(u),c=u-m,A=0<=m&&m<f.shape[0],h=0<=m+1&&m+1<f.shape[0],o=Math.floor(l),p=l-o,b=0<=o&&o<f.shape[1],T=0<=o+1&&o+1<f.shape[1],P=A&&b?f.get(m,o):0,x=A&&T?f.get(m,o+1):0,L=h&&b?f.get(m+1,o):0,M=h&&T?f.get(m+1,o+1):0;return(1-p)*((1-c)*P+c*L)+p*((1-c)*x+c*M)}function t(f,u,l,m){var c=Math.floor(u),A=u-c,h=0<=c&&c<f.shape[0],o=0<=c+1&&c+1<f.shape[0],p=Math.floor(l),b=l-p,T=0<=p&&p<f.shape[1],P=0<=p+1&&p+1<f.shape[1],x=Math.floor(m),L=m-x,M=0<=x&&x<f.shape[2],s=0<=x+1&&x+1<f.shape[2],E=h&&T&&M?f.get(c,p,x):0,w=h&&P&&M?f.get(c,p+1,x):0,O=o&&T&&M?f.get(c+1,p,x):0,_=o&&P&&M?f.get(c+1,p+1,x):0,U=h&&T&&s?f.get(c,p,x+1):0,z=h&&P&&s?f.get(c,p+1,x+1):0,F=o&&T&&s?f.get(c+1,p,x+1):0,B=o&&P&&s?f.get(c+1,p+1,x+1):0;return(1-L)*((1-b)*((1-A)*E+A*O)+b*((1-A)*w+A*_))+L*((1-b)*((1-A)*U+A*F)+b*((1-A)*z+A*B))}function i(f){var u=f.shape.length|0,l=new Array(u),m=new Array(u),c=new Array(u),A=new Array(u),h,o;for(h=0;h<u;++h)o=+arguments[h+1],l[h]=Math.floor(o),m[h]=o-l[h],c[h]=0<=l[h]&&l[h]<f.shape[h],A[h]=0<=l[h]+1&&l[h]+1<f.shape[h];var p=0,b,T,P;e:for(h=0;h<1<<u;++h){for(T=1,P=f.offset,b=0;b<u;++b)if(h&1<<b){if(!A[b])continue e;T*=m[b],P+=f.stride[b]*(l[b]+1)}else{if(!c[b])continue e;T*=1-m[b],P+=f.stride[b]*l[b]}p+=T*f.data[P]}return p}function n(f,u,l,m){switch(f.shape.length){case 0:return 0;case 1:return d(f,u);case 2:return r(f,u,l);case 3:return t(f,u,l,m);default:return i.apply(void 0,arguments)}}v.exports=n,v.exports.d1=d,v.exports.d2=r,v.exports.d3=t},5298:function(v,d){var r={"float64,2,1,0":function(){return function(c,A,h,o,p){var b=c[0],T=c[1],P=c[2],x=h[0],L=h[1],M=h[2];o|=0;var s=0,E=0,w=0,O=M,_=L-P*M,U=x-T*L;for(w=0;w<b;++w){for(E=0;E<T;++E){for(s=0;s<P;++s)A[o]/=p,o+=O;o+=_}o+=U}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,A,h,o,p,b,T,P){var x=c[0],L=c[1],M=c[2],s=h[0],E=h[1],w=h[2],O=b[0],_=b[1],U=b[2];o|=0,T|=0;for(var z=o,F=T,B=c[0]|0;B>0;){B<64?(x=B,B=0):(x=64,B-=64);for(var N=c[1]|0;N>0;){N<64?(L=N,N=0):(L=64,N-=64),o=z+B*s+N*E,T=F+B*O+N*_;var V=0,X=0,q=0,te=w,ne=s-M*w,ce=E-x*s,Q=U,Z=O-M*U,re=_-x*O;for(q=0;q<L;++q){for(X=0;X<x;++X){for(V=0;V<M;++V)A[o]=p[T]*P,o+=te,T+=Q;o+=ne,T+=Z}o+=ce,T+=re}}}}},"float32,1,0,float32,1,0":function(){return function(c,A,h,o,p,b,T){var P=c[0],x=c[1],L=h[0],M=h[1],s=b[0],E=b[1];o|=0,T|=0;var w=0,O=0,_=M,U=L-x*M,z=E,F=s-x*E;for(O=0;O<P;++O){for(w=0;w<x;++w)A[o]=p[T],o+=_,T+=z;o+=U,T+=F}}},"float32,1,0,float32,0,1":function(){return function(c,A,h,o,p,b,T){var P=c[0],x=c[1],L=h[0],M=h[1],s=b[0],E=b[1];o|=0,T|=0;for(var w=o,O=T,_=c[1]|0;_>0;){_<64?(x=_,_=0):(x=64,_-=64);for(var U=c[0]|0;U>0;){U<64?(P=U,U=0):(P=64,U-=64),o=w+_*M+U*L,T=O+_*E+U*s;var z=0,F=0,B=M,N=L-x*M,V=E,X=s-x*E;for(F=0;F<P;++F){for(z=0;z<x;++z)A[o]=p[T],o+=B,T+=V;o+=N,T+=X}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,A,h,o,p,b,T){var P=c[0],x=c[1],L=c[2],M=h[0],s=h[1],E=h[2],w=b[0],O=b[1],_=b[2];o|=0,T|=0;for(var U=o,z=T,F=c[2]|0;F>0;){F<64?(L=F,F=0):(L=64,F-=64);for(var B=c[0]|0;B>0;){B<64?(P=B,B=0):(P=64,B-=64);for(var N=c[1]|0;N>0;){N<64?(x=N,N=0):(x=64,N-=64),o=U+F*E+B*M+N*s,T=z+F*_+B*w+N*O;var V=0,X=0,q=0,te=E,ne=M-L*E,ce=s-P*M,Q=_,Z=w-L*_,re=O-P*w;for(q=0;q<x;++q){for(X=0;X<P;++X){for(V=0;V<L;++V)A[o]=p[T],o+=te,T+=Q;o+=ne,T+=Z}o+=ce,T+=re}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,A,h,o,p,b,T){var P=c[0],x=c[1],L=c[2],M=h[0],s=h[1],E=h[2],w=b[0],O=b[1],_=b[2];o|=0,T|=0;var U=0,z=0,F=0,B=E,N=M-L*E,V=s-P*M,X=_,q=w-L*_,te=O-P*w;for(F=0;F<x;++F){for(z=0;z<P;++z){for(U=0;U<L;++U)A[o]=p[T],o+=B,T+=X;o+=N,T+=q}o+=V,T+=te}}}};function t(m,c){var A=c.join(","),h=r[A];return h()}var i=t,n={mul:function(m){var c={};return function(h,o,p){var b=h.dtype,T=h.order,P=o.dtype,x=o.order,L=p.dtype,M=p.order,s=[b,T.join(),P,x.join(),L,M.join()].join(),E=c[s];return E||(c[s]=E=m([b,T,P,x,L,M])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,p.data,p.stride,p.offset|0)}},muls:function(m){var c={};return function(h,o,p){var b=h.dtype,T=h.order,P=o.dtype,x=o.order,L=[b,T.join(),P,x.join()].join(),M=c[L];return M||(c[L]=M=m([b,T,P,x])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,p)}},mulseq:function(m){var c={};return function(h,o){var p=h.dtype,b=h.order,T=[p,b.join()].join(),P=c[T];return P||(c[T]=P=m([p,b])),P(h.shape.slice(0),h.data,h.stride,h.offset|0,o)}},div:function(m){var c={};return function(h,o,p){var b=h.dtype,T=h.order,P=o.dtype,x=o.order,L=p.dtype,M=p.order,s=[b,T.join(),P,x.join(),L,M.join()].join(),E=c[s];return E||(c[s]=E=m([b,T,P,x,L,M])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,p.data,p.stride,p.offset|0)}},divs:function(m){var c={};return function(h,o,p){var b=h.dtype,T=h.order,P=o.dtype,x=o.order,L=[b,T.join(),P,x.join()].join(),M=c[L];return M||(c[L]=M=m([b,T,P,x])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0,p)}},divseq:function(m){var c={};return function(h,o){var p=h.dtype,b=h.order,T=[p,b.join()].join(),P=c[T];return P||(c[T]=P=m([p,b])),P(h.shape.slice(0),h.data,h.stride,h.offset|0,o)}},assign:function(m){var c={};return function(h,o){var p=h.dtype,b=h.order,T=o.dtype,P=o.order,x=[p,b.join(),T,P.join()].join(),L=c[x];return L||(c[x]=L=m([p,b,T,P])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,o.data,o.stride,o.offset|0)}}};function f(m){var c=n[m.funcName];return c(i.bind(void 0,m))}function u(m){return f({funcName:m.funcName})}var l={mul:"*",div:"/"};(function(){for(var m in l)d[m]=u({funcName:m}),d[m+"s"]=u({funcName:m+"s"}),d[m+"seq"]=u({funcName:m+"seq"})})(),d.assign=u({funcName:"assign"})},9994:function(v,d,r){var t=r(9618),i=r(8277);v.exports=function(f,u){for(var l=[],m=f,c=1;Array.isArray(m);)l.push(m.length),c*=m.length,m=m[0];return l.length===0?t():(u||(u=t(new Float64Array(c),l)),i(u,f),u)}},8277:function(v){function d(){return function(u,l,m,c,A){var h=u[0],o=u[1],p=u[2],b=m[0],T=m[1],P=m[2],x=[0,0,0];c|=0;var L=0,M=0,s=0,E=P,w=T-p*P,O=b-o*T;for(s=0;s<h;++s){for(M=0;M<o;++M){for(L=0;L<p;++L){{var _=A,U;for(U=0;U<x.length-1;++U)_=_[x[U]];l[c]=_[x[x.length-1]]}c+=E,++x[2]}c+=w,x[2]-=p,++x[1]}c+=O,x[1]-=o,++x[0]}}}function r(){return d()}var t=r;function i(u){var l={};return function(c,A){var h=c.dtype,o=c.order,p=[h,o.join()].join(),b=l[p];return b||(l[p]=b=u([h,o])),b(c.shape.slice(0),c.data,c.stride,c.offset|0,A)}}function n(u){return i(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"convert"})},7640:function(v,d,r){var t=r(1888);function i(A){switch(A){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(A,h){return function(p,b,T,P,x,L,M,s,E,w,O){var _,U,z,F=p*x+P,B,N=A(s),V,X,q,te;for(_=p+1;_<=b;++_){for(U=_,F+=x,z=F,V=0,X=F,B=0;B<s;++B)N[V++]=T[X],X+=E;e:for(;U-- >p;){V=0,X=z-x;t:for(B=0;B<s;++B){if(q=T[X],te=N[V],q<te)break e;if(q>te)break t;X+=w,V+=O}for(V=z,X=z-x,B=0;B<s;++B)T[V]=T[X],V+=E,X+=E;z-=x}for(V=z,X=0,B=0;B<s;++B)T[V]=N[X++],V+=E}h(N)}}};function f(A,h){var o=i(h),p=[h,A].join(","),b=n[p];return o?b(o[0],o[1]):b()}var u={"uint32,1,0":function(A,h,o){return function p(b,T,P,x,L,M,s,E,w,O,_){var U=(T-b+1)/6|0,z=b+U,F=T-U,B=b+T>>1,N=B-U,V=B+U,X=z,q=N,te=B,ne=V,ce=F,Q=b+1,Z=T-1,re=!0,Y,oe,ue,K,$,le,ae,he,xe,Me=0,Ae=0,ke=0,we,Ee,be,Le,Ue,Ve,Fe,He,st,vt,lt,et,ct,ht,mt,xt,Mt=E,tt=h(Mt),Oe=h(Mt);Ee=L*X,be=L*q,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=X,X=q,q=oe;break e}if(ke<0)break e;xt+=O}Ee=L*ne,be=L*ce,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=ne,ne=ce,ce=oe;break e}if(ke<0)break e;xt+=O}Ee=L*X,be=L*te,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=X,X=te,te=oe;break e}if(ke<0)break e;xt+=O}Ee=L*q,be=L*te,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=q,q=te,te=oe;break e}if(ke<0)break e;xt+=O}Ee=L*X,be=L*ne,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=X,X=ne,ne=oe;break e}if(ke<0)break e;xt+=O}Ee=L*te,be=L*ne,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=te,te=ne,ne=oe;break e}if(ke<0)break e;xt+=O}Ee=L*q,be=L*ce,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=q,q=ce,ce=oe;break e}if(ke<0)break e;xt+=O}Ee=L*q,be=L*te,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=q,q=te,te=oe;break e}if(ke<0)break e;xt+=O}Ee=L*ne,be=L*ce,xt=x;e:for(we=0;we<E;++we){if(ae=Ee+xt,he=be+xt,ke=P[ae]-P[he],ke>0){oe=ne,ne=ce,ce=oe;break e}if(ke<0)break e;xt+=O}for(Ee=L*X,be=L*q,Le=L*te,Ue=L*ne,Ve=L*ce,Fe=L*z,He=L*B,st=L*F,mt=0,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,xe=Le+xt,vt=Ue+xt,lt=Ve+xt,et=Fe+xt,ct=He+xt,ht=st+xt,tt[mt]=P[he],Oe[mt]=P[vt],re=re&&tt[mt]===Oe[mt],ue=P[ae],K=P[xe],$=P[lt],P[et]=ue,P[ct]=K,P[ht]=$,++mt,xt+=w;for(Ee=L*N,be=L*b,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,P[ae]=P[he],xt+=w;for(Ee=L*V,be=L*T,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,P[ae]=P[he],xt+=w;if(re)for(le=Q;le<=Z;++le){ae=x+le*L,mt=0;e:for(we=0;we<E;++we){if(ke=P[ae]-tt[mt],ke!==0)break e;mt+=_,ae+=O}if(ke!==0)if(ke<0){if(le!==Q)for(Ee=L*le,be=L*Q,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;++Q}else for(;;){ae=x+Z*L,mt=0;e:for(we=0;we<E;++we){if(ke=P[ae]-tt[mt],ke!==0)break e;mt+=_,ae+=O}if(ke>0)Z--;else if(ke<0){for(Ee=L*le,be=L*Q,Le=L*Z,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,xe=Le+xt,Y=P[ae],P[ae]=P[he],P[he]=P[xe],P[xe]=Y,xt+=w;++Q,--Z;break}else{for(Ee=L*le,be=L*Z,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;--Z;break}}}else for(le=Q;le<=Z;++le){ae=x+le*L,mt=0;e:for(we=0;we<E;++we){if(Me=P[ae]-tt[mt],Me!==0)break e;mt+=_,ae+=O}if(Me<0){if(le!==Q)for(Ee=L*le,be=L*Q,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;++Q}else{ae=x+le*L,mt=0;e:for(we=0;we<E;++we){if(Ae=P[ae]-Oe[mt],Ae!==0)break e;mt+=_,ae+=O}if(Ae>0)for(;;){ae=x+Z*L,mt=0;e:for(we=0;we<E;++we){if(ke=P[ae]-Oe[mt],ke!==0)break e;mt+=_,ae+=O}if(ke>0){if(--Z<le)break;continue}else{ae=x+Z*L,mt=0;e:for(we=0;we<E;++we){if(ke=P[ae]-tt[mt],ke!==0)break e;mt+=_,ae+=O}if(ke<0){for(Ee=L*le,be=L*Q,Le=L*Z,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,xe=Le+xt,Y=P[ae],P[ae]=P[he],P[he]=P[xe],P[xe]=Y,xt+=w;++Q,--Z}else{for(Ee=L*le,be=L*Z,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;--Z}break}}}}for(Ee=L*b,be=L*(Q-1),mt=0,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,P[ae]=P[he],P[he]=tt[mt],++mt,xt+=w;for(Ee=L*T,be=L*(Z+1),mt=0,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,P[ae]=P[he],P[he]=Oe[mt],++mt,xt+=w;if(Q-2-b<=32?A(b,Q-2,P,x,L,M,s,E,w,O,_):p(b,Q-2,P,x,L,M,s,E,w,O,_),T-(Z+2)<=32?A(Z+2,T,P,x,L,M,s,E,w,O,_):p(Z+2,T,P,x,L,M,s,E,w,O,_),re){o(tt),o(Oe);return}if(Q<z&&Z>F){e:for(;;){for(ae=x+Q*L,mt=0,xt=x,we=0;we<E;++we){if(P[ae]!==tt[mt])break e;++mt,ae+=w}++Q}e:for(;;){for(ae=x+Z*L,mt=0,xt=x,we=0;we<E;++we){if(P[ae]!==Oe[mt])break e;++mt,ae+=w}--Z}for(le=Q;le<=Z;++le){ae=x+le*L,mt=0;e:for(we=0;we<E;++we){if(Me=P[ae]-tt[mt],Me!==0)break e;mt+=_,ae+=O}if(Me===0){if(le!==Q)for(Ee=L*le,be=L*Q,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;++Q}else{ae=x+le*L,mt=0;e:for(we=0;we<E;++we){if(Ae=P[ae]-Oe[mt],Ae!==0)break e;mt+=_,ae+=O}if(Ae===0)for(;;){ae=x+Z*L,mt=0;e:for(we=0;we<E;++we){if(ke=P[ae]-Oe[mt],ke!==0)break e;mt+=_,ae+=O}if(ke===0){if(--Z<le)break;continue}else{ae=x+Z*L,mt=0;e:for(we=0;we<E;++we){if(ke=P[ae]-tt[mt],ke!==0)break e;mt+=_,ae+=O}if(ke<0){for(Ee=L*le,be=L*Q,Le=L*Z,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,xe=Le+xt,Y=P[ae],P[ae]=P[he],P[he]=P[xe],P[xe]=Y,xt+=w;++Q,--Z}else{for(Ee=L*le,be=L*Z,xt=x,we=0;we<E;++we)ae=Ee+xt,he=be+xt,Y=P[ae],P[ae]=P[he],P[he]=Y,xt+=w;--Z}break}}}}}o(tt),o(Oe),Z-Q<=32?A(Q,Z,P,x,L,M,s,E,w,O,_):p(Q,Z,P,x,L,M,s,E,w,O,_)}}};function l(A,h,o){var p=i(h),b=[h,A].join(","),T=u[b];return A.length>1&&p?T(o,p[0],p[1]):T(o)}var m={"uint32,1,0":function(A,h){return function(o){var p=o.data,b=o.offset|0,T=o.shape,P=o.stride,x=P[0]|0,L=T[0]|0,M=P[1]|0,s=T[1]|0,E=M,w=M,O=1;L<=32?A(0,L-1,p,b,x,M,L,s,E,w,O):h(0,L-1,p,b,x,M,L,s,E,w,O)}}};function c(A,h){var o=[h,A].join(","),p=m[o],b=f(A,h),T=l(A,h,b);return p(b,T)}v.exports=c},446:function(v,d,r){var t=r(7640),i={};function n(f){var u=f.order,l=f.dtype,m=[u,l],c=m.join(":"),A=i[c];return A||(i[c]=A=t(u,l)),A(f),f}v.exports=n},9618:function(v,d,r){var t=r(7163),i=typeof Float64Array<"u";function n(h,o){return h[0]-o[0]}function f(){var h=this.stride,o=new Array(h.length),p;for(p=0;p<o.length;++p)o[p]=[Math.abs(h[p]),p];o.sort(n);var b=new Array(o.length);for(p=0;p<b.length;++p)b[p]=o[p][1];return b}var u={T:function(h){function o(b){this.data=b}var p=o.prototype;return p.dtype=h,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new o(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(T){return new o(T)}},0:function(h,o){function p(T,P){this.data=T,this.offset=P}var b=p.prototype;return b.dtype=h,b.index=function(){return this.offset},b.dimension=0,b.size=1,b.shape=b.stride=b.order=[],b.lo=b.hi=b.transpose=b.step=function(){return new p(this.data,this.offset)},b.pick=function(){return o(this.data)},b.valueOf=b.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},b.set=function(P){return h==="generic"?this.data.set(this.offset,P):this.data[this.offset]=P},function(P,x,L,M){return new p(P,M)}},1:function(h,o,p){function b(P,x,L,M){this.data=P,this.shape=[x],this.stride=[L],this.offset=M|0}var T=b.prototype;return T.dtype=h,T.dimension=1,Object.defineProperty(T,"size",{get:function(){return this.shape[0]}}),T.order=[0],T.set=function(x,L){return h==="generic"?this.data.set(this.offset+this.stride[0]*x,L):this.data[this.offset+this.stride[0]*x]=L},T.get=function(x){return h==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},T.index=function(x){return this.offset+this.stride[0]*x},T.hi=function(x){return new b(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,this.stride[0],this.offset)},T.lo=function(x){var L=this.offset,M=0,s=this.shape[0],E=this.stride[0];return typeof x=="number"&&x>=0&&(M=x|0,L+=E*M,s-=M),new b(this.data,s,E,L)},T.step=function(x){var L=this.shape[0],M=this.stride[0],s=this.offset,E=0,w=Math.ceil;return typeof x=="number"&&(E=x|0,E<0?(s+=M*(L-1),L=w(-L/E)):L=w(L/E),M*=E),new b(this.data,L,M,s)},T.transpose=function(x){x=x===void 0?0:x|0;var L=this.shape,M=this.stride;return new b(this.data,L[x],M[x],this.offset)},T.pick=function(x){var L=[],M=[],s=this.offset;typeof x=="number"&&x>=0?s=s+this.stride[0]*x|0:(L.push(this.shape[0]),M.push(this.stride[0]));var E=o[L.length+1];return E(this.data,L,M,s)},function(x,L,M,s){return new b(x,L[0],M[0],s)}},2:function(h,o,p){function b(P,x,L,M,s,E){this.data=P,this.shape=[x,L],this.stride=[M,s],this.offset=E|0}var T=b.prototype;return T.dtype=h,T.dimension=2,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(T,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),T.set=function(x,L,M){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*L,M):this.data[this.offset+this.stride[0]*x+this.stride[1]*L]=M},T.get=function(x,L){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*L):this.data[this.offset+this.stride[0]*x+this.stride[1]*L]},T.index=function(x,L){return this.offset+this.stride[0]*x+this.stride[1]*L},T.hi=function(x,L){return new b(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof L!="number"||L<0?this.shape[1]:L|0,this.stride[0],this.stride[1],this.offset)},T.lo=function(x,L){var M=this.offset,s=0,E=this.shape[0],w=this.shape[1],O=this.stride[0],_=this.stride[1];return typeof x=="number"&&x>=0&&(s=x|0,M+=O*s,E-=s),typeof L=="number"&&L>=0&&(s=L|0,M+=_*s,w-=s),new b(this.data,E,w,O,_,M)},T.step=function(x,L){var M=this.shape[0],s=this.shape[1],E=this.stride[0],w=this.stride[1],O=this.offset,_=0,U=Math.ceil;return typeof x=="number"&&(_=x|0,_<0?(O+=E*(M-1),M=U(-M/_)):M=U(M/_),E*=_),typeof L=="number"&&(_=L|0,_<0?(O+=w*(s-1),s=U(-s/_)):s=U(s/_),w*=_),new b(this.data,M,s,E,w,O)},T.transpose=function(x,L){x=x===void 0?0:x|0,L=L===void 0?1:L|0;var M=this.shape,s=this.stride;return new b(this.data,M[x],M[L],s[x],s[L],this.offset)},T.pick=function(x,L){var M=[],s=[],E=this.offset;typeof x=="number"&&x>=0?E=E+this.stride[0]*x|0:(M.push(this.shape[0]),s.push(this.stride[0])),typeof L=="number"&&L>=0?E=E+this.stride[1]*L|0:(M.push(this.shape[1]),s.push(this.stride[1]));var w=o[M.length+1];return w(this.data,M,s,E)},function(x,L,M,s){return new b(x,L[0],L[1],M[0],M[1],s)}},3:function(h,o,p){function b(P,x,L,M,s,E,w,O){this.data=P,this.shape=[x,L,M],this.stride=[s,E,w],this.offset=O|0}var T=b.prototype;return T.dtype=h,T.dimension=3,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(T,"order",{get:function(){var x=Math.abs(this.stride[0]),L=Math.abs(this.stride[1]),M=Math.abs(this.stride[2]);return x>L?L>M?[2,1,0]:x>M?[1,2,0]:[1,0,2]:x>M?[2,0,1]:M>L?[0,1,2]:[0,2,1]}}),T.set=function(x,L,M,s){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M,s):this.data[this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M]=s},T.get=function(x,L,M){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M):this.data[this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M]},T.index=function(x,L,M){return this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M},T.hi=function(x,L,M){return new b(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof L!="number"||L<0?this.shape[1]:L|0,typeof M!="number"||M<0?this.shape[2]:M|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},T.lo=function(x,L,M){var s=this.offset,E=0,w=this.shape[0],O=this.shape[1],_=this.shape[2],U=this.stride[0],z=this.stride[1],F=this.stride[2];return typeof x=="number"&&x>=0&&(E=x|0,s+=U*E,w-=E),typeof L=="number"&&L>=0&&(E=L|0,s+=z*E,O-=E),typeof M=="number"&&M>=0&&(E=M|0,s+=F*E,_-=E),new b(this.data,w,O,_,U,z,F,s)},T.step=function(x,L,M){var s=this.shape[0],E=this.shape[1],w=this.shape[2],O=this.stride[0],_=this.stride[1],U=this.stride[2],z=this.offset,F=0,B=Math.ceil;return typeof x=="number"&&(F=x|0,F<0?(z+=O*(s-1),s=B(-s/F)):s=B(s/F),O*=F),typeof L=="number"&&(F=L|0,F<0?(z+=_*(E-1),E=B(-E/F)):E=B(E/F),_*=F),typeof M=="number"&&(F=M|0,F<0?(z+=U*(w-1),w=B(-w/F)):w=B(w/F),U*=F),new b(this.data,s,E,w,O,_,U,z)},T.transpose=function(x,L,M){x=x===void 0?0:x|0,L=L===void 0?1:L|0,M=M===void 0?2:M|0;var s=this.shape,E=this.stride;return new b(this.data,s[x],s[L],s[M],E[x],E[L],E[M],this.offset)},T.pick=function(x,L,M){var s=[],E=[],w=this.offset;typeof x=="number"&&x>=0?w=w+this.stride[0]*x|0:(s.push(this.shape[0]),E.push(this.stride[0])),typeof L=="number"&&L>=0?w=w+this.stride[1]*L|0:(s.push(this.shape[1]),E.push(this.stride[1])),typeof M=="number"&&M>=0?w=w+this.stride[2]*M|0:(s.push(this.shape[2]),E.push(this.stride[2]));var O=o[s.length+1];return O(this.data,s,E,w)},function(x,L,M,s){return new b(x,L[0],L[1],L[2],M[0],M[1],M[2],s)}},4:function(h,o,p){function b(P,x,L,M,s,E,w,O,_,U){this.data=P,this.shape=[x,L,M,s],this.stride=[E,w,O,_],this.offset=U|0}var T=b.prototype;return T.dtype=h,T.dimension=4,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(T,"order",{get:p}),T.set=function(x,L,M,s,E){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s,E):this.data[this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s]=E},T.get=function(x,L,M,s){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s):this.data[this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s]},T.index=function(x,L,M,s){return this.offset+this.stride[0]*x+this.stride[1]*L+this.stride[2]*M+this.stride[3]*s},T.hi=function(x,L,M,s){return new b(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof L!="number"||L<0?this.shape[1]:L|0,typeof M!="number"||M<0?this.shape[2]:M|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},T.lo=function(x,L,M,s){var E=this.offset,w=0,O=this.shape[0],_=this.shape[1],U=this.shape[2],z=this.shape[3],F=this.stride[0],B=this.stride[1],N=this.stride[2],V=this.stride[3];return typeof x=="number"&&x>=0&&(w=x|0,E+=F*w,O-=w),typeof L=="number"&&L>=0&&(w=L|0,E+=B*w,_-=w),typeof M=="number"&&M>=0&&(w=M|0,E+=N*w,U-=w),typeof s=="number"&&s>=0&&(w=s|0,E+=V*w,z-=w),new b(this.data,O,_,U,z,F,B,N,V,E)},T.step=function(x,L,M,s){var E=this.shape[0],w=this.shape[1],O=this.shape[2],_=this.shape[3],U=this.stride[0],z=this.stride[1],F=this.stride[2],B=this.stride[3],N=this.offset,V=0,X=Math.ceil;return typeof x=="number"&&(V=x|0,V<0?(N+=U*(E-1),E=X(-E/V)):E=X(E/V),U*=V),typeof L=="number"&&(V=L|0,V<0?(N+=z*(w-1),w=X(-w/V)):w=X(w/V),z*=V),typeof M=="number"&&(V=M|0,V<0?(N+=F*(O-1),O=X(-O/V)):O=X(O/V),F*=V),typeof s=="number"&&(V=s|0,V<0?(N+=B*(_-1),_=X(-_/V)):_=X(_/V),B*=V),new b(this.data,E,w,O,_,U,z,F,B,N)},T.transpose=function(x,L,M,s){x=x===void 0?0:x|0,L=L===void 0?1:L|0,M=M===void 0?2:M|0,s=s===void 0?3:s|0;var E=this.shape,w=this.stride;return new b(this.data,E[x],E[L],E[M],E[s],w[x],w[L],w[M],w[s],this.offset)},T.pick=function(x,L,M,s){var E=[],w=[],O=this.offset;typeof x=="number"&&x>=0?O=O+this.stride[0]*x|0:(E.push(this.shape[0]),w.push(this.stride[0])),typeof L=="number"&&L>=0?O=O+this.stride[1]*L|0:(E.push(this.shape[1]),w.push(this.stride[1])),typeof M=="number"&&M>=0?O=O+this.stride[2]*M|0:(E.push(this.shape[2]),w.push(this.stride[2])),typeof s=="number"&&s>=0?O=O+this.stride[3]*s|0:(E.push(this.shape[3]),w.push(this.stride[3]));var _=o[E.length+1];return _(this.data,E,w,O)},function(x,L,M,s){return new b(x,L[0],L[1],L[2],L[3],M[0],M[1],M[2],M[3],s)}},5:function(o,p,b){function T(x,L,M,s,E,w,O,_,U,z,F,B){this.data=x,this.shape=[L,M,s,E,w],this.stride=[O,_,U,z,F],this.offset=B|0}var P=T.prototype;return P.dtype=o,P.dimension=5,Object.defineProperty(P,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(P,"order",{get:b}),P.set=function(L,M,s,E,w,O){return o==="generic"?this.data.set(this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w,O):this.data[this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w]=O},P.get=function(L,M,s,E,w){return o==="generic"?this.data.get(this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w):this.data[this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w]},P.index=function(L,M,s,E,w){return this.offset+this.stride[0]*L+this.stride[1]*M+this.stride[2]*s+this.stride[3]*E+this.stride[4]*w},P.hi=function(L,M,s,E,w){return new T(this.data,typeof L!="number"||L<0?this.shape[0]:L|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof w!="number"||w<0?this.shape[4]:w|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},P.lo=function(L,M,s,E,w){var O=this.offset,_=0,U=this.shape[0],z=this.shape[1],F=this.shape[2],B=this.shape[3],N=this.shape[4],V=this.stride[0],X=this.stride[1],q=this.stride[2],te=this.stride[3],ne=this.stride[4];return typeof L=="number"&&L>=0&&(_=L|0,O+=V*_,U-=_),typeof M=="number"&&M>=0&&(_=M|0,O+=X*_,z-=_),typeof s=="number"&&s>=0&&(_=s|0,O+=q*_,F-=_),typeof E=="number"&&E>=0&&(_=E|0,O+=te*_,B-=_),typeof w=="number"&&w>=0&&(_=w|0,O+=ne*_,N-=_),new T(this.data,U,z,F,B,N,V,X,q,te,ne,O)},P.step=function(L,M,s,E,w){var O=this.shape[0],_=this.shape[1],U=this.shape[2],z=this.shape[3],F=this.shape[4],B=this.stride[0],N=this.stride[1],V=this.stride[2],X=this.stride[3],q=this.stride[4],te=this.offset,ne=0,ce=Math.ceil;return typeof L=="number"&&(ne=L|0,ne<0?(te+=B*(O-1),O=ce(-O/ne)):O=ce(O/ne),B*=ne),typeof M=="number"&&(ne=M|0,ne<0?(te+=N*(_-1),_=ce(-_/ne)):_=ce(_/ne),N*=ne),typeof s=="number"&&(ne=s|0,ne<0?(te+=V*(U-1),U=ce(-U/ne)):U=ce(U/ne),V*=ne),typeof E=="number"&&(ne=E|0,ne<0?(te+=X*(z-1),z=ce(-z/ne)):z=ce(z/ne),X*=ne),typeof w=="number"&&(ne=w|0,ne<0?(te+=q*(F-1),F=ce(-F/ne)):F=ce(F/ne),q*=ne),new T(this.data,O,_,U,z,F,B,N,V,X,q,te)},P.transpose=function(L,M,s,E,w){L=L===void 0?0:L|0,M=M===void 0?1:M|0,s=s===void 0?2:s|0,E=E===void 0?3:E|0,w=w===void 0?4:w|0;var O=this.shape,_=this.stride;return new T(this.data,O[L],O[M],O[s],O[E],O[w],_[L],_[M],_[s],_[E],_[w],this.offset)},P.pick=function(L,M,s,E,w){var O=[],_=[],U=this.offset;typeof L=="number"&&L>=0?U=U+this.stride[0]*L|0:(O.push(this.shape[0]),_.push(this.stride[0])),typeof M=="number"&&M>=0?U=U+this.stride[1]*M|0:(O.push(this.shape[1]),_.push(this.stride[1])),typeof s=="number"&&s>=0?U=U+this.stride[2]*s|0:(O.push(this.shape[2]),_.push(this.stride[2])),typeof E=="number"&&E>=0?U=U+this.stride[3]*E|0:(O.push(this.shape[3]),_.push(this.stride[3])),typeof w=="number"&&w>=0?U=U+this.stride[4]*w|0:(O.push(this.shape[4]),_.push(this.stride[4]));var z=p[O.length+1];return z(this.data,O,_,U)},function(L,M,s,E){return new T(L,M[0],M[1],M[2],M[3],M[4],s[0],s[1],s[2],s[3],s[4],E)}}};function l(h,o){var p=o===-1?"T":String(o),b=u[p];return o===-1?b(h):o===0?b(h,c[h][0]):b(h,c[h],f)}function m(h){if(t(h))return"buffer";if(i)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function A(h,o,p,b){if(h===void 0){var s=c.array[0];return s([])}else typeof h=="number"&&(h=[h]);o===void 0&&(o=[h.length]);var T=o.length;if(p===void 0){p=new Array(T);for(var P=T-1,x=1;P>=0;--P)p[P]=x,x*=o[P]}if(b===void 0){b=0;for(var P=0;P<T;++P)p[P]<0&&(b-=(o[P]-1)*p[P])}for(var L=m(h),M=c[L];M.length<=T+1;)M.push(l(L,M.length-1));var s=M[T+1];return s(h,o,p,b)}v.exports=A},1278:function(v,d,r){var t=r(2361),i=Math.pow(2,-1074),n=-1>>>0;v.exports=f;function f(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-i:i;var m=t.hi(u),c=t.lo(u);return l>u==u>0?c===n?(m+=1,c=0):c+=1:c===0?(c=n,m-=1):c-=1,t.pack(c,m)}},8406:function(v,d){var r=1e-6,t=1e-6;d.vertexNormals=function(i,n,f){for(var u=n.length,l=new Array(u),m=f===void 0?r:f,c=0;c<u;++c)l[c]=[0,0,0];for(var c=0;c<i.length;++c)for(var A=i[c],h=0,o=A[A.length-1],p=A[0],b=0;b<A.length;++b){h=o,o=p,p=A[(b+1)%A.length];for(var T=n[h],P=n[o],x=n[p],L=new Array(3),M=0,s=new Array(3),E=0,w=0;w<3;++w)L[w]=T[w]-P[w],M+=L[w]*L[w],s[w]=x[w]-P[w],E+=s[w]*s[w];if(M*E>m)for(var O=l[o],_=1/Math.sqrt(M*E),w=0;w<3;++w){var U=(w+1)%3,z=(w+2)%3;O[w]+=_*(s[U]*L[z]-s[z]*L[U])}}for(var c=0;c<u;++c){for(var O=l[c],F=0,w=0;w<3;++w)F+=O[w]*O[w];if(F>m)for(var _=1/Math.sqrt(F),w=0;w<3;++w)O[w]*=_;else for(var w=0;w<3;++w)O[w]=0}return l},d.faceNormals=function(i,n,f){for(var u=i.length,l=new Array(u),m=f===void 0?t:f,c=0;c<u;++c){for(var A=i[c],h=new Array(3),o=0;o<3;++o)h[o]=n[A[o]];for(var p=new Array(3),b=new Array(3),o=0;o<3;++o)p[o]=h[1][o]-h[0][o],b[o]=h[2][o]-h[0][o];for(var T=new Array(3),P=0,o=0;o<3;++o){var x=(o+1)%3,L=(o+2)%3;T[o]=p[x]*b[L]-p[L]*b[x],P+=T[o]*T[o]}P>m?P=1/Math.sqrt(P):P=0;for(var o=0;o<3;++o)T[o]*=P;l[c]=T}return l}},4081:function(v){v.exports=d;function d(r,t,i,n,f,u,l,m,c,A){var h=t+u+A;if(o>0){var o=Math.sqrt(h+1);r[0]=.5*(l-c)/o,r[1]=.5*(m-n)/o,r[2]=.5*(i-u)/o,r[3]=.5*o}else{var p=Math.max(t,u,A),o=Math.sqrt(2*p-h+1);t>=p?(r[0]=.5*o,r[1]=.5*(f+i)/o,r[2]=.5*(m+n)/o,r[3]=.5*(l-c)/o):u>=p?(r[0]=.5*(i+f)/o,r[1]=.5*o,r[2]=.5*(c+l)/o,r[3]=.5*(m-n)/o):(r[0]=.5*(n+m)/o,r[1]=.5*(l+c)/o,r[2]=.5*o,r[3]=.5*(i-f)/o)}return r}},9977:function(v,d,r){v.exports=o;var t=r(9215),i=r(6582),n=r(7399),f=r(7608),u=r(4081);function l(p,b,T){return Math.sqrt(Math.pow(p,2)+Math.pow(b,2)+Math.pow(T,2))}function m(p,b,T,P){return Math.sqrt(Math.pow(p,2)+Math.pow(b,2)+Math.pow(T,2)+Math.pow(P,2))}function c(p,b){var T=b[0],P=b[1],x=b[2],L=b[3],M=m(T,P,x,L);M>1e-6?(p[0]=T/M,p[1]=P/M,p[2]=x/M,p[3]=L/M):(p[0]=p[1]=p[2]=0,p[3]=1)}function A(p,b,T){this.radius=t([T]),this.center=t(b),this.rotation=t(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=A.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var b=this.computedRotation;c(b,b);var T=this.computedMatrix;n(T,b);var P=this.computedCenter,x=this.computedEye,L=this.computedUp,M=Math.exp(this.computedRadius[0]);x[0]=P[0]+M*T[2],x[1]=P[1]+M*T[6],x[2]=P[2]+M*T[10],L[0]=T[1],L[1]=T[5],L[2]=T[9];for(var s=0;s<3;++s){for(var E=0,w=0;w<3;++w)E+=T[s+4*w]*x[w];T[12+s]=-E}},h.getMatrix=function(p,b){this.recalcMatrix(p);var T=this.computedMatrix;if(b){for(var P=0;P<16;++P)b[P]=T[P];return b}return T},h.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},h.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},h.pan=function(p,b,T,P){b=b||0,T=T||0,P=P||0,this.recalcMatrix(p);var x=this.computedMatrix,L=x[1],M=x[5],s=x[9],E=l(L,M,s);L/=E,M/=E,s/=E;var w=x[0],O=x[4],_=x[8],U=w*L+O*M+_*s;w-=L*U,O-=M*U,_-=s*U;var z=l(w,O,_);w/=z,O/=z,_/=z,x[2],x[6],x[10];var F=w*b+L*T,B=O*b+M*T,N=_*b+s*T;this.center.move(p,F,B,N);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+P),this.radius.set(p,Math.log(V))},h.rotate=function(p,b,T,P){this.recalcMatrix(p),b=b||0,T=T||0;var x=this.computedMatrix,L=x[0],M=x[4],s=x[8],E=x[1],w=x[5],O=x[9],_=x[2],U=x[6],z=x[10],F=b*L+T*E,B=b*M+T*w,N=b*s+T*O,V=-(U*N-z*B),X=-(z*F-_*N),q=-(_*B-U*F),te=Math.sqrt(Math.max(0,1-Math.pow(V,2)-Math.pow(X,2)-Math.pow(q,2))),ne=m(V,X,q,te);ne>1e-6?(V/=ne,X/=ne,q/=ne,te/=ne):(V=X=q=0,te=1);var ce=this.computedRotation,Q=ce[0],Z=ce[1],re=ce[2],Y=ce[3],oe=Q*te+Y*V+Z*q-re*X,ue=Z*te+Y*X+re*V-Q*q,K=re*te+Y*q+Q*X-Z*V,$=Y*te-Q*V-Z*X-re*q;if(P){V=_,X=U,q=z;var le=Math.sin(P)/l(V,X,q);V*=le,X*=le,q*=le,te=Math.cos(b),oe=oe*te+$*V+ue*q-K*X,ue=ue*te+$*X+K*V-oe*q,K=K*te+$*q+oe*X-ue*V,$=$*te-oe*V-ue*X-K*q}var ae=m(oe,ue,K,$);ae>1e-6?(oe/=ae,ue/=ae,K/=ae,$/=ae):(oe=ue=K=0,$=1),this.rotation.set(p,oe,ue,K,$)},h.lookAt=function(p,b,T,P){this.recalcMatrix(p),T=T||this.computedCenter,b=b||this.computedEye,P=P||this.computedUp;var x=this.computedMatrix;i(x,b,T,P);var L=this.computedRotation;u(L,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),c(L,L),this.rotation.set(p,L[0],L[1],L[2],L[3]);for(var M=0,s=0;s<3;++s)M+=Math.pow(T[s]-b[s],2);this.radius.set(p,.5*Math.log(Math.max(M,1e-6))),this.center.set(p,T[0],T[1],T[2])},h.translate=function(p,b,T,P){this.center.move(p,b||0,T||0,P||0)},h.setMatrix=function(p,b){var T=this.computedRotation;u(T,b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]),c(T,T),this.rotation.set(p,T[0],T[1],T[2],T[3]);var P=this.computedMatrix;f(P,b);var x=P[15];if(Math.abs(x)>1e-6){var L=P[12]/x,M=P[13]/x,s=P[14]/x;this.recalcMatrix(p);var E=Math.exp(this.computedRadius[0]);this.center.set(p,L-P[2]*E,M-P[6]*E,s-P[10]*E),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},h.setDistance=function(p,b){b>0&&this.radius.set(p,Math.log(b))},h.setDistanceLimits=function(p,b){p>0?p=Math.log(p):p=-1/0,b>0?b=Math.log(b):b=1/0,b=Math.max(b,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=b},h.getDistanceLimits=function(p){var b=this.radius.bounds;return p?(p[0]=Math.exp(b[0][0]),p[1]=Math.exp(b[1][0]),p):[Math.exp(b[0][0]),Math.exp(b[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(p){var b=this.lastT(),T=p.center;T&&this.center.set(b,T[0],T[1],T[2]);var P=p.rotation;P&&this.rotation.set(b,P[0],P[1],P[2],P[3]);var x=p.distance;x&&x>0&&this.radius.set(b,Math.log(x)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function o(p){p=p||{};var b=p.center||[0,0,0],T=p.rotation||[0,0,0,1],P=p.radius||1;b=[].slice.call(b,0,3),T=[].slice.call(T,0,4),c(T,T);var x=new A(T,b,Math.log(P));return x.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&x.lookAt(0,p.eye,p.center,p.up),x}},1371:function(v,d,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(n,f,u){return u=typeof u<"u"?u+"":" ",t(u,f)+n}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var i=parseFloat(r,10);return t[0]=i,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,d,r){v.exports=i;var t=r(3140);function i(n,f){for(var u=f.length|0,l=n.length,m=[new Array(u),new Array(u)],c=0;c<u;++c)m[0][c]=[],m[1][c]=[];for(var c=0;c<l;++c){var A=n[c];m[0][A[0]].push(A),m[1][A[1]].push(A)}for(var h=[],c=0;c<u;++c)m[0][c].length+m[1][c].length===0&&h.push([c]);function o(M,s){var E=m[s][M[s]];E.splice(E.indexOf(M),1)}function p(M,s,E){for(var w,O,_,U=0;U<2;++U)if(m[U][s].length>0){w=m[U][s][0],_=U;break}O=w[_^1];for(var z=0;z<2;++z)for(var F=m[z][s],B=0;B<F.length;++B){var N=F[B],V=N[z^1],X=t(f[M],f[s],f[O],f[V]);X>0&&(w=N,O=V,_=z)}return E||w&&o(w,_),O}function b(M,s){var E=m[s][M][0],w=[M];o(E,s);for(var O=E[s^1];;){for(;O!==M;)w.push(O),O=p(w[w.length-2],O,!1);if(m[0][M].length+m[1][M].length===0)break;var _=w[w.length-1],U=M,z=w[1],F=p(_,U,!0);if(t(f[_],f[U],f[z],f[F])<0)break;w.push(M),O=p(_,U)}return w}function T(M,s){return s[1]===s[s.length-1]}for(var c=0;c<u;++c)for(var P=0;P<2;++P){for(var x=[];m[P][c].length>0;){m[0][c].length;var L=b(c,P);T(x,L)?x.push.apply(x,L):(x.length>0&&h.push(x),x=L)}x.length>0&&h.push(x)}return h}},5609:function(v,d,r){v.exports=i;var t=r(3134);function i(n,f){for(var u=t(n,f.length),l=new Array(f.length),m=new Array(f.length),c=[],A=0;A<f.length;++A){var h=u[A].length;m[A]=h,l[A]=!0,h<=1&&c.push(A)}for(;c.length>0;){var o=c.pop();l[o]=!1;for(var p=u[o],A=0;A<p.length;++A){var b=p[A];--m[b]===0&&c.push(b)}}for(var T=new Array(f.length),P=[],A=0;A<f.length;++A)if(l[A]){var o=P.length;T[A]=o,P.push(f[A])}else T[A]=-1;for(var x=[],A=0;A<n.length;++A){var L=n[A];l[L[0]]&&l[L[1]]&&x.push([T[L[0]],T[L[1]]])}return[x,P]}},2095:function(v,d,r){v.exports=h;var t=r(3134),i=r(3088),n=r(5085),f=r(5250),u=r(8210),l=r(1682),m=r(5609);function c(o,p){for(var b=new Array(o),T=0;T<o;++T)b[T]=p;return b}function A(o){for(var p=new Array(o),b=0;b<o;++b)p[b]=[];return p}function h(o,p){var $=m(o,p);o=$[0],p=$[1];var b=p.length;o.length;for(var T=t(o,p.length),P=0;P<b;++P)if(T[P].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=i(o,p);function L(ke){for(var we=ke.length,Ee=[0],be=0;be<we;++be){var Le=p[ke[be]],Ue=p[ke[(be+1)%we]],Ve=f(-Le[0],Le[1]),Fe=f(-Le[0],Ue[1]),He=f(Ue[0],Le[1]),st=f(Ue[0],Ue[1]);Ee=u(Ee,u(u(Ve,Fe),u(He,st)))}return Ee[Ee.length-1]>0}x=x.filter(L);for(var M=x.length,s=new Array(M),E=new Array(M),P=0;P<M;++P){s[P]=P;var w=new Array(M),O=x[P].map(function(we){return p[we]}),_=n([O]),U=0;e:for(var z=0;z<M;++z)if(w[z]=0,P!==z){for(var F=x[z],B=F.length,N=0;N<B;++N){var V=_(p[F[N]]);if(V!==0){V<0&&(w[z]=1,U+=1);continue e}}w[z]=1,U+=1}E[P]=[U,P,w]}E.sort(function(ke,we){return we[0]-ke[0]});for(var P=0;P<M;++P)for(var w=E[P],X=w[1],q=w[2],z=0;z<M;++z)q[z]&&(s[z]=X);for(var te=A(M),P=0;P<M;++P)te[P].push(s[P]),te[s[P]].push(P);for(var ne={},ce=c(b,!1),P=0;P<M;++P)for(var F=x[P],B=F.length,z=0;z<B;++z){var Q=F[z],Z=F[(z+1)%B],re=Math.min(Q,Z)+":"+Math.max(Q,Z);if(re in ne){var Y=ne[re];te[Y].push(P),te[P].push(Y),ce[Q]=ce[Z]=!0}else ne[re]=P}function oe(ke){for(var we=ke.length,Ee=0;Ee<we;++Ee)if(!ce[ke[Ee]])return!1;return!0}for(var ue=[],K=c(M,-1),P=0;P<M;++P)s[P]===P&&!oe(x[P])?(ue.push(P),K[P]=0):K[P]=-1;for(var $=[];ue.length>0;){var le=ue.pop(),ae=te[le];l(ae,function(ke,we){return ke-we});var he=ae.length,xe=K[le],Me;if(xe===0){var F=x[le];Me=[F]}for(var P=0;P<he;++P){var Ae=ae[P];if(!(K[Ae]>=0)&&(K[Ae]=xe^1,ue.push(Ae),xe===0)){var F=x[Ae];oe(F)||(F.reverse(),Me.push(F))}}xe===0&&$.push(Me)}return $}},5085:function(v,d,r){v.exports=p;var t=r(3250)[3],i=r(4209),n=r(3352),f=r(2478);function u(){return!0}function l(b){return function(T,P){var x=b[T];return x?!!x.queryPoint(P,u):!1}}function m(b){for(var T={},P=0;P<b.length;++P){var x=b[P],L=x[0][0],M=x[0][1],s=x[1][1],E=[Math.min(M,s),Math.max(M,s)];L in T?T[L].push(E):T[L]=[E]}for(var w={},O=Object.keys(T),P=0;P<O.length;++P){var _=T[O[P]];w[O[P]]=n(_)}return l(w)}function c(b,T){return function(P){var x=f.le(T,P[0]);if(x<0)return 1;var L=b[x];if(!L)if(x>0&&T[x]===P[0])L=b[x-1];else return 1;for(var M=1;L;){var s=L.key,E=t(P,s[0],s[1]);if(s[0][0]<s[1][0])if(E<0)L=L.left;else if(E>0)M=-1,L=L.right;else return 0;else if(E>0)L=L.left;else if(E<0)M=1,L=L.right;else return 0}return M}}function A(b){return 1}function h(b){return function(P){return b(P[0],P[1])?0:1}}function o(b,T){return function(x){return b(x[0],x[1])?0:T(x)}}function p(b){for(var T=b.length,P=[],x=[],L=0;L<T;++L)for(var M=b[L],s=M.length,E=s-1,w=0;w<s;E=w++){var O=M[E],_=M[w];O[0]===_[0]?x.push([O,_]):P.push([O,_])}if(P.length===0)return x.length===0?A:h(m(x));var U=i(P),z=c(U.slabs,U.coordinates);return x.length===0?z:o(m(x),z)}},9346:function(v){var d=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function i(n,f,u,l,m){d.length<l.length&&(d=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var c=0;c<l.length;++c)d[c]=n[c]-l[c],r[c]=f[c]-n[c],t[c]=u[c]-n[c];for(var A=0,h=0,o=0,p=0,b=0,T=0,c=0;c<l.length;++c){var P=r[c],x=t[c],L=d[c];A+=P*P,h+=P*x,o+=x*x,p+=L*P,b+=L*x,T+=L*L}var M=Math.abs(A*o-h*h),s=h*b-o*p,E=h*p-A*b,w;if(s+E<=M)if(s<0)E<0&&p<0?(E=0,-p>=A?(s=1,w=A+2*p+T):(s=-p/A,w=p*s+T)):(s=0,b>=0?(E=0,w=T):-b>=o?(E=1,w=o+2*b+T):(E=-b/o,w=b*E+T));else if(E<0)E=0,p>=0?(s=0,w=T):-p>=A?(s=1,w=A+2*p+T):(s=-p/A,w=p*s+T);else{var O=1/M;s*=O,E*=O,w=s*(A*s+h*E+2*p)+E*(h*s+o*E+2*b)+T}else{var _,U,z,F;s<0?(_=h+p,U=o+b,U>_?(z=U-_,F=A-2*h+o,z>=F?(s=1,E=0,w=A+2*p+T):(s=z/F,E=1-s,w=s*(A*s+h*E+2*p)+E*(h*s+o*E+2*b)+T)):(s=0,U<=0?(E=1,w=o+2*b+T):b>=0?(E=0,w=T):(E=-b/o,w=b*E+T))):E<0?(_=h+b,U=A+p,U>_?(z=U-_,F=A-2*h+o,z>=F?(E=1,s=0,w=o+2*b+T):(E=z/F,s=1-E,w=s*(A*s+h*E+2*p)+E*(h*s+o*E+2*b)+T)):(E=0,U<=0?(s=1,w=A+2*p+T):p>=0?(s=0,w=T):(s=-p/A,w=p*s+T))):(z=o+b-h-p,z<=0?(s=0,E=1,w=o+2*b+T):(F=A-2*h+o,z>=F?(s=1,E=0,w=A+2*p+T):(s=z/F,E=1-s,w=s*(A*s+h*E+2*p)+E*(h*s+o*E+2*b)+T)))}for(var B=1-s-E,c=0;c<l.length;++c)m[c]=B*n[c]+s*f[c]+E*u[c];return w<0?0:w}v.exports=i},8648:function(v,d,r){v.exports=r(783)},2653:function(v,d,r){var t=r(3865);v.exports=i;function i(n,f){for(var u=n.length,l=new Array(u),m=0;m<u;++m)l[m]=t(n[m],f[m]);return l}},5838:function(v,d,r){v.exports=i;var t=r(7842);function i(n){for(var f=new Array(n.length),u=0;u<n.length;++u)f[u]=t(n[u]);return f}},8987:function(v,d,r){var t=r(7842),i=r(6504);v.exports=n;function n(f,u){for(var l=t(u),m=f.length,c=new Array(m),A=0;A<m;++A)c[A]=i(f[A],l);return c}},544:function(v,d,r){var t=r(5572);v.exports=i;function i(n,f){for(var u=n.length,l=new Array(u),m=0;m<u;++m)l[m]=t(n[m],f[m]);return l}},5771:function(v,d,r){var t=r(8507),i=r(3788),n=r(2419);v.exports=f;function f(u){u.sort(i);for(var l=u.length,m=0,c=0;c<l;++c){var A=u[c],h=n(A);if(h!==0){if(m>0){var o=u[m-1];if(t(A,o)===0&&n(o)!==h){m-=1;continue}}u[m++]=A}}return u.length=m,u}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var d="",r;v.exports=t;function t(i,n){if(typeof i!="string")throw new TypeError("expected a string");if(n===1)return i;if(n===2)return i+i;var f=i.length*n;if(r!==i||typeof r>"u")r=i,d="";else if(d.length>=f)return d.substr(0,f);for(;f>d.length&&n>1;)n&1&&(d+=i),n>>=1,i+=i;return d+=i,d=d.substr(0,f),d}},3025:function(v,d,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=d;function d(r){for(var t=r.length,i=r[r.length-1],n=t,f=t-2;f>=0;--f){var u=i,l=r[f];i=u+l;var m=i-u,c=l-m;c&&(r[--n]=i,i=c)}for(var A=0,f=n;f<t;++f){var u=r[f],l=i;i=u+l;var m=i-u,c=l-m;c&&(r[A++]=c)}return r[A++]=i,r.length=A,r}},2962:function(v,d,r){var t=r(5250),i=r(8210),n=r(3012),f=r(7004),u=6;function l(T,P,x,L){return function(s){return L(T(x(s[0][0],s[1][1]),x(-s[0][1],s[1][0])))}}function m(T,P,x,L){return function(s){return L(T(P(T(x(s[1][1],s[2][2]),x(-s[1][2],s[2][1])),s[0][0]),T(P(T(x(s[1][0],s[2][2]),x(-s[1][2],s[2][0])),-s[0][1]),P(T(x(s[1][0],s[2][1]),x(-s[1][1],s[2][0])),s[0][2]))))}}function c(T,P,x,L){return function(s){return L(T(T(P(T(P(T(x(s[2][2],s[3][3]),x(-s[2][3],s[3][2])),s[1][1]),T(P(T(x(s[2][1],s[3][3]),x(-s[2][3],s[3][1])),-s[1][2]),P(T(x(s[2][1],s[3][2]),x(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),P(T(P(T(x(s[2][2],s[3][3]),x(-s[2][3],s[3][2])),s[1][0]),T(P(T(x(s[2][0],s[3][3]),x(-s[2][3],s[3][0])),-s[1][2]),P(T(x(s[2][0],s[3][2]),x(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),T(P(T(P(T(x(s[2][1],s[3][3]),x(-s[2][3],s[3][1])),s[1][0]),T(P(T(x(s[2][0],s[3][3]),x(-s[2][3],s[3][0])),-s[1][1]),P(T(x(s[2][0],s[3][1]),x(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),P(T(P(T(x(s[2][1],s[3][2]),x(-s[2][2],s[3][1])),s[1][0]),T(P(T(x(s[2][0],s[3][2]),x(-s[2][2],s[3][0])),-s[1][1]),P(T(x(s[2][0],s[3][1]),x(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function A(T,P,x,L){return function(s){return L(T(T(P(T(T(P(T(P(T(x(s[3][3],s[4][4]),x(-s[3][4],s[4][3])),s[2][2]),T(P(T(x(s[3][2],s[4][4]),x(-s[3][4],s[4][2])),-s[2][3]),P(T(x(s[3][2],s[4][3]),x(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),P(T(P(T(x(s[3][3],s[4][4]),x(-s[3][4],s[4][3])),s[2][1]),T(P(T(x(s[3][1],s[4][4]),x(-s[3][4],s[4][1])),-s[2][3]),P(T(x(s[3][1],s[4][3]),x(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),T(P(T(P(T(x(s[3][2],s[4][4]),x(-s[3][4],s[4][2])),s[2][1]),T(P(T(x(s[3][1],s[4][4]),x(-s[3][4],s[4][1])),-s[2][2]),P(T(x(s[3][1],s[4][2]),x(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),P(T(P(T(x(s[3][2],s[4][3]),x(-s[3][3],s[4][2])),s[2][1]),T(P(T(x(s[3][1],s[4][3]),x(-s[3][3],s[4][1])),-s[2][2]),P(T(x(s[3][1],s[4][2]),x(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),P(T(T(P(T(P(T(x(s[3][3],s[4][4]),x(-s[3][4],s[4][3])),s[2][2]),T(P(T(x(s[3][2],s[4][4]),x(-s[3][4],s[4][2])),-s[2][3]),P(T(x(s[3][2],s[4][3]),x(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),P(T(P(T(x(s[3][3],s[4][4]),x(-s[3][4],s[4][3])),s[2][0]),T(P(T(x(s[3][0],s[4][4]),x(-s[3][4],s[4][0])),-s[2][3]),P(T(x(s[3][0],s[4][3]),x(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),T(P(T(P(T(x(s[3][2],s[4][4]),x(-s[3][4],s[4][2])),s[2][0]),T(P(T(x(s[3][0],s[4][4]),x(-s[3][4],s[4][0])),-s[2][2]),P(T(x(s[3][0],s[4][2]),x(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),P(T(P(T(x(s[3][2],s[4][3]),x(-s[3][3],s[4][2])),s[2][0]),T(P(T(x(s[3][0],s[4][3]),x(-s[3][3],s[4][0])),-s[2][2]),P(T(x(s[3][0],s[4][2]),x(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),T(P(T(T(P(T(P(T(x(s[3][3],s[4][4]),x(-s[3][4],s[4][3])),s[2][1]),T(P(T(x(s[3][1],s[4][4]),x(-s[3][4],s[4][1])),-s[2][3]),P(T(x(s[3][1],s[4][3]),x(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),P(T(P(T(x(s[3][3],s[4][4]),x(-s[3][4],s[4][3])),s[2][0]),T(P(T(x(s[3][0],s[4][4]),x(-s[3][4],s[4][0])),-s[2][3]),P(T(x(s[3][0],s[4][3]),x(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),T(P(T(P(T(x(s[3][1],s[4][4]),x(-s[3][4],s[4][1])),s[2][0]),T(P(T(x(s[3][0],s[4][4]),x(-s[3][4],s[4][0])),-s[2][1]),P(T(x(s[3][0],s[4][1]),x(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),P(T(P(T(x(s[3][1],s[4][3]),x(-s[3][3],s[4][1])),s[2][0]),T(P(T(x(s[3][0],s[4][3]),x(-s[3][3],s[4][0])),-s[2][1]),P(T(x(s[3][0],s[4][1]),x(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),T(P(T(T(P(T(P(T(x(s[3][2],s[4][4]),x(-s[3][4],s[4][2])),s[2][1]),T(P(T(x(s[3][1],s[4][4]),x(-s[3][4],s[4][1])),-s[2][2]),P(T(x(s[3][1],s[4][2]),x(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),P(T(P(T(x(s[3][2],s[4][4]),x(-s[3][4],s[4][2])),s[2][0]),T(P(T(x(s[3][0],s[4][4]),x(-s[3][4],s[4][0])),-s[2][2]),P(T(x(s[3][0],s[4][2]),x(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),T(P(T(P(T(x(s[3][1],s[4][4]),x(-s[3][4],s[4][1])),s[2][0]),T(P(T(x(s[3][0],s[4][4]),x(-s[3][4],s[4][0])),-s[2][1]),P(T(x(s[3][0],s[4][1]),x(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),P(T(P(T(x(s[3][1],s[4][2]),x(-s[3][2],s[4][1])),s[2][0]),T(P(T(x(s[3][0],s[4][2]),x(-s[3][2],s[4][0])),-s[2][1]),P(T(x(s[3][0],s[4][1]),x(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),P(T(T(P(T(P(T(x(s[3][2],s[4][3]),x(-s[3][3],s[4][2])),s[2][1]),T(P(T(x(s[3][1],s[4][3]),x(-s[3][3],s[4][1])),-s[2][2]),P(T(x(s[3][1],s[4][2]),x(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),P(T(P(T(x(s[3][2],s[4][3]),x(-s[3][3],s[4][2])),s[2][0]),T(P(T(x(s[3][0],s[4][3]),x(-s[3][3],s[4][0])),-s[2][2]),P(T(x(s[3][0],s[4][2]),x(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),T(P(T(P(T(x(s[3][1],s[4][3]),x(-s[3][3],s[4][1])),s[2][0]),T(P(T(x(s[3][0],s[4][3]),x(-s[3][3],s[4][0])),-s[2][1]),P(T(x(s[3][0],s[4][1]),x(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),P(T(P(T(x(s[3][1],s[4][2]),x(-s[3][2],s[4][1])),s[2][0]),T(P(T(x(s[3][0],s[4][2]),x(-s[3][2],s[4][0])),-s[2][1]),P(T(x(s[3][0],s[4][1]),x(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function h(T){var P=T===2?l:T===3?m:T===4?c:T===5?A:void 0;return P(i,n,t,f)}var o=[function(){return[0]},function(P){return[P[0][0]]}];function p(T,P,x,L,M,s,E,w){return function(_){switch(_.length){case 0:return T(_);case 1:return P(_);case 2:return x(_);case 3:return L(_);case 4:return M(_);case 5:return s(_)}var U=E[_.length];return U||(U=E[_.length]=w(_.length)),U(_)}}function b(){for(;o.length<u;)o.push(h(o.length));v.exports=p.apply(void 0,o.concat([o,h]));for(var T=0;T<o.length;++T)v.exports[T]=o[T]}b()},1944:function(v,d,r){var t=r(5250),i=r(8210);v.exports=n;function n(f,u){for(var l=t(f[0],u[0]),m=1;m<f.length;++m)l=i(l,t(f[m],u[m]));return l}},2646:function(v,d,r){var t=r(5250),i=r(8210),n=r(8545),f=r(3012),u=6;function l(M){var s=M===3?h:M===4?o:M===5?p:b;return s(i,n,t,f)}function m(){return 0}function c(){return 0}function A(){return 0}function h(M,s,E,w){function O(_,U,z){var F=E(_[0],_[0]),B=w(F,U[0]),N=w(F,z[0]),V=E(U[0],U[0]),X=w(V,_[0]),q=w(V,z[0]),te=E(z[0],z[0]),ne=w(te,_[0]),ce=w(te,U[0]),Q=M(s(ce,q),s(X,B)),Z=s(ne,N),re=s(Q,Z);return re[re.length-1]}return O}function o(M,s,E,w){function O(_,U,z,F){var B=M(E(_[0],_[0]),E(_[1],_[1])),N=w(B,U[0]),V=w(B,z[0]),X=w(B,F[0]),q=M(E(U[0],U[0]),E(U[1],U[1])),te=w(q,_[0]),ne=w(q,z[0]),ce=w(q,F[0]),Q=M(E(z[0],z[0]),E(z[1],z[1])),Z=w(Q,_[0]),re=w(Q,U[0]),Y=w(Q,F[0]),oe=M(E(F[0],F[0]),E(F[1],F[1])),ue=w(oe,_[0]),K=w(oe,U[0]),$=w(oe,z[0]),le=M(M(w(s($,Y),U[1]),M(w(s(K,ce),-z[1]),w(s(re,ne),F[1]))),M(w(s(K,ce),_[1]),M(w(s(ue,X),-U[1]),w(s(te,N),F[1])))),ae=M(M(w(s($,Y),_[1]),M(w(s(ue,X),-z[1]),w(s(Z,V),F[1]))),M(w(s(re,ne),_[1]),M(w(s(Z,V),-U[1]),w(s(te,N),z[1])))),he=s(le,ae);return he[he.length-1]}return O}function p(M,s,E,w){function O(_,U,z,F,B){var N=M(E(_[0],_[0]),M(E(_[1],_[1]),E(_[2],_[2]))),V=w(N,U[0]),X=w(N,z[0]),q=w(N,F[0]),te=w(N,B[0]),ne=M(E(U[0],U[0]),M(E(U[1],U[1]),E(U[2],U[2]))),ce=w(ne,_[0]),Q=w(ne,z[0]),Z=w(ne,F[0]),re=w(ne,B[0]),Y=M(E(z[0],z[0]),M(E(z[1],z[1]),E(z[2],z[2]))),oe=w(Y,_[0]),ue=w(Y,U[0]),K=w(Y,F[0]),$=w(Y,B[0]),le=M(E(F[0],F[0]),M(E(F[1],F[1]),E(F[2],F[2]))),ae=w(le,_[0]),he=w(le,U[0]),xe=w(le,z[0]),Me=w(le,B[0]),Ae=M(E(B[0],B[0]),M(E(B[1],B[1]),E(B[2],B[2]))),ke=w(Ae,_[0]),we=w(Ae,U[0]),Ee=w(Ae,z[0]),be=w(Ae,F[0]),Le=M(M(M(w(M(w(s(be,Me),z[1]),M(w(s(Ee,$),-F[1]),w(s(xe,K),B[1]))),U[2]),M(w(M(w(s(be,Me),U[1]),M(w(s(we,re),-F[1]),w(s(he,Z),B[1]))),-z[2]),w(M(w(s(Ee,$),U[1]),M(w(s(we,re),-z[1]),w(s(ue,Q),B[1]))),F[2]))),M(w(M(w(s(xe,K),U[1]),M(w(s(he,Z),-z[1]),w(s(ue,Q),F[1]))),-B[2]),M(w(M(w(s(be,Me),U[1]),M(w(s(we,re),-F[1]),w(s(he,Z),B[1]))),_[2]),w(M(w(s(be,Me),_[1]),M(w(s(ke,te),-F[1]),w(s(ae,q),B[1]))),-U[2])))),M(M(w(M(w(s(we,re),_[1]),M(w(s(ke,te),-U[1]),w(s(ce,V),B[1]))),F[2]),M(w(M(w(s(he,Z),_[1]),M(w(s(ae,q),-U[1]),w(s(ce,V),F[1]))),-B[2]),w(M(w(s(xe,K),U[1]),M(w(s(he,Z),-z[1]),w(s(ue,Q),F[1]))),_[2]))),M(w(M(w(s(xe,K),_[1]),M(w(s(ae,q),-z[1]),w(s(oe,X),F[1]))),-U[2]),M(w(M(w(s(he,Z),_[1]),M(w(s(ae,q),-U[1]),w(s(ce,V),F[1]))),z[2]),w(M(w(s(ue,Q),_[1]),M(w(s(oe,X),-U[1]),w(s(ce,V),z[1]))),-F[2]))))),Ue=M(M(M(w(M(w(s(be,Me),z[1]),M(w(s(Ee,$),-F[1]),w(s(xe,K),B[1]))),_[2]),w(M(w(s(be,Me),_[1]),M(w(s(ke,te),-F[1]),w(s(ae,q),B[1]))),-z[2])),M(w(M(w(s(Ee,$),_[1]),M(w(s(ke,te),-z[1]),w(s(oe,X),B[1]))),F[2]),w(M(w(s(xe,K),_[1]),M(w(s(ae,q),-z[1]),w(s(oe,X),F[1]))),-B[2]))),M(M(w(M(w(s(Ee,$),U[1]),M(w(s(we,re),-z[1]),w(s(ue,Q),B[1]))),_[2]),w(M(w(s(Ee,$),_[1]),M(w(s(ke,te),-z[1]),w(s(oe,X),B[1]))),-U[2])),M(w(M(w(s(we,re),_[1]),M(w(s(ke,te),-U[1]),w(s(ce,V),B[1]))),z[2]),w(M(w(s(ue,Q),_[1]),M(w(s(oe,X),-U[1]),w(s(ce,V),z[1]))),-B[2])))),Ve=s(Le,Ue);return Ve[Ve.length-1]}return O}function b(M,s,E,w){function O(_,U,z,F,B,N){var V=M(M(E(_[0],_[0]),E(_[1],_[1])),M(E(_[2],_[2]),E(_[3],_[3]))),X=w(V,U[0]),q=w(V,z[0]),te=w(V,F[0]),ne=w(V,B[0]),ce=w(V,N[0]),Q=M(M(E(U[0],U[0]),E(U[1],U[1])),M(E(U[2],U[2]),E(U[3],U[3]))),Z=w(Q,_[0]),re=w(Q,z[0]),Y=w(Q,F[0]),oe=w(Q,B[0]),ue=w(Q,N[0]),K=M(M(E(z[0],z[0]),E(z[1],z[1])),M(E(z[2],z[2]),E(z[3],z[3]))),$=w(K,_[0]),le=w(K,U[0]),ae=w(K,F[0]),he=w(K,B[0]),xe=w(K,N[0]),Me=M(M(E(F[0],F[0]),E(F[1],F[1])),M(E(F[2],F[2]),E(F[3],F[3]))),Ae=w(Me,_[0]),ke=w(Me,U[0]),we=w(Me,z[0]),Ee=w(Me,B[0]),be=w(Me,N[0]),Le=M(M(E(B[0],B[0]),E(B[1],B[1])),M(E(B[2],B[2]),E(B[3],B[3]))),Ue=w(Le,_[0]),Ve=w(Le,U[0]),Fe=w(Le,z[0]),He=w(Le,F[0]),st=w(Le,N[0]),vt=M(M(E(N[0],N[0]),E(N[1],N[1])),M(E(N[2],N[2]),E(N[3],N[3]))),lt=w(vt,_[0]),et=w(vt,U[0]),ct=w(vt,z[0]),ht=w(vt,F[0]),mt=w(vt,B[0]),xt=M(M(M(w(M(M(w(M(w(s(mt,st),F[1]),M(w(s(ht,be),-B[1]),w(s(He,Ee),N[1]))),z[2]),w(M(w(s(mt,st),z[1]),M(w(s(ct,xe),-B[1]),w(s(Fe,he),N[1]))),-F[2])),M(w(M(w(s(ht,be),z[1]),M(w(s(ct,xe),-F[1]),w(s(we,ae),N[1]))),B[2]),w(M(w(s(He,Ee),z[1]),M(w(s(Fe,he),-F[1]),w(s(we,ae),B[1]))),-N[2]))),U[3]),M(w(M(M(w(M(w(s(mt,st),F[1]),M(w(s(ht,be),-B[1]),w(s(He,Ee),N[1]))),U[2]),w(M(w(s(mt,st),U[1]),M(w(s(et,ue),-B[1]),w(s(Ve,oe),N[1]))),-F[2])),M(w(M(w(s(ht,be),U[1]),M(w(s(et,ue),-F[1]),w(s(ke,Y),N[1]))),B[2]),w(M(w(s(He,Ee),U[1]),M(w(s(Ve,oe),-F[1]),w(s(ke,Y),B[1]))),-N[2]))),-z[3]),w(M(M(w(M(w(s(mt,st),z[1]),M(w(s(ct,xe),-B[1]),w(s(Fe,he),N[1]))),U[2]),w(M(w(s(mt,st),U[1]),M(w(s(et,ue),-B[1]),w(s(Ve,oe),N[1]))),-z[2])),M(w(M(w(s(ct,xe),U[1]),M(w(s(et,ue),-z[1]),w(s(le,re),N[1]))),B[2]),w(M(w(s(Fe,he),U[1]),M(w(s(Ve,oe),-z[1]),w(s(le,re),B[1]))),-N[2]))),F[3]))),M(M(w(M(M(w(M(w(s(ht,be),z[1]),M(w(s(ct,xe),-F[1]),w(s(we,ae),N[1]))),U[2]),w(M(w(s(ht,be),U[1]),M(w(s(et,ue),-F[1]),w(s(ke,Y),N[1]))),-z[2])),M(w(M(w(s(ct,xe),U[1]),M(w(s(et,ue),-z[1]),w(s(le,re),N[1]))),F[2]),w(M(w(s(we,ae),U[1]),M(w(s(ke,Y),-z[1]),w(s(le,re),F[1]))),-N[2]))),-B[3]),w(M(M(w(M(w(s(He,Ee),z[1]),M(w(s(Fe,he),-F[1]),w(s(we,ae),B[1]))),U[2]),w(M(w(s(He,Ee),U[1]),M(w(s(Ve,oe),-F[1]),w(s(ke,Y),B[1]))),-z[2])),M(w(M(w(s(Fe,he),U[1]),M(w(s(Ve,oe),-z[1]),w(s(le,re),B[1]))),F[2]),w(M(w(s(we,ae),U[1]),M(w(s(ke,Y),-z[1]),w(s(le,re),F[1]))),-B[2]))),N[3])),M(w(M(M(w(M(w(s(mt,st),F[1]),M(w(s(ht,be),-B[1]),w(s(He,Ee),N[1]))),U[2]),w(M(w(s(mt,st),U[1]),M(w(s(et,ue),-B[1]),w(s(Ve,oe),N[1]))),-F[2])),M(w(M(w(s(ht,be),U[1]),M(w(s(et,ue),-F[1]),w(s(ke,Y),N[1]))),B[2]),w(M(w(s(He,Ee),U[1]),M(w(s(Ve,oe),-F[1]),w(s(ke,Y),B[1]))),-N[2]))),_[3]),w(M(M(w(M(w(s(mt,st),F[1]),M(w(s(ht,be),-B[1]),w(s(He,Ee),N[1]))),_[2]),w(M(w(s(mt,st),_[1]),M(w(s(lt,ce),-B[1]),w(s(Ue,ne),N[1]))),-F[2])),M(w(M(w(s(ht,be),_[1]),M(w(s(lt,ce),-F[1]),w(s(Ae,te),N[1]))),B[2]),w(M(w(s(He,Ee),_[1]),M(w(s(Ue,ne),-F[1]),w(s(Ae,te),B[1]))),-N[2]))),-U[3])))),M(M(M(w(M(M(w(M(w(s(mt,st),U[1]),M(w(s(et,ue),-B[1]),w(s(Ve,oe),N[1]))),_[2]),w(M(w(s(mt,st),_[1]),M(w(s(lt,ce),-B[1]),w(s(Ue,ne),N[1]))),-U[2])),M(w(M(w(s(et,ue),_[1]),M(w(s(lt,ce),-U[1]),w(s(Z,X),N[1]))),B[2]),w(M(w(s(Ve,oe),_[1]),M(w(s(Ue,ne),-U[1]),w(s(Z,X),B[1]))),-N[2]))),F[3]),w(M(M(w(M(w(s(ht,be),U[1]),M(w(s(et,ue),-F[1]),w(s(ke,Y),N[1]))),_[2]),w(M(w(s(ht,be),_[1]),M(w(s(lt,ce),-F[1]),w(s(Ae,te),N[1]))),-U[2])),M(w(M(w(s(et,ue),_[1]),M(w(s(lt,ce),-U[1]),w(s(Z,X),N[1]))),F[2]),w(M(w(s(ke,Y),_[1]),M(w(s(Ae,te),-U[1]),w(s(Z,X),F[1]))),-N[2]))),-B[3])),M(w(M(M(w(M(w(s(He,Ee),U[1]),M(w(s(Ve,oe),-F[1]),w(s(ke,Y),B[1]))),_[2]),w(M(w(s(He,Ee),_[1]),M(w(s(Ue,ne),-F[1]),w(s(Ae,te),B[1]))),-U[2])),M(w(M(w(s(Ve,oe),_[1]),M(w(s(Ue,ne),-U[1]),w(s(Z,X),B[1]))),F[2]),w(M(w(s(ke,Y),_[1]),M(w(s(Ae,te),-U[1]),w(s(Z,X),F[1]))),-B[2]))),N[3]),w(M(M(w(M(w(s(ht,be),z[1]),M(w(s(ct,xe),-F[1]),w(s(we,ae),N[1]))),U[2]),w(M(w(s(ht,be),U[1]),M(w(s(et,ue),-F[1]),w(s(ke,Y),N[1]))),-z[2])),M(w(M(w(s(ct,xe),U[1]),M(w(s(et,ue),-z[1]),w(s(le,re),N[1]))),F[2]),w(M(w(s(we,ae),U[1]),M(w(s(ke,Y),-z[1]),w(s(le,re),F[1]))),-N[2]))),_[3]))),M(M(w(M(M(w(M(w(s(ht,be),z[1]),M(w(s(ct,xe),-F[1]),w(s(we,ae),N[1]))),_[2]),w(M(w(s(ht,be),_[1]),M(w(s(lt,ce),-F[1]),w(s(Ae,te),N[1]))),-z[2])),M(w(M(w(s(ct,xe),_[1]),M(w(s(lt,ce),-z[1]),w(s($,q),N[1]))),F[2]),w(M(w(s(we,ae),_[1]),M(w(s(Ae,te),-z[1]),w(s($,q),F[1]))),-N[2]))),-U[3]),w(M(M(w(M(w(s(ht,be),U[1]),M(w(s(et,ue),-F[1]),w(s(ke,Y),N[1]))),_[2]),w(M(w(s(ht,be),_[1]),M(w(s(lt,ce),-F[1]),w(s(Ae,te),N[1]))),-U[2])),M(w(M(w(s(et,ue),_[1]),M(w(s(lt,ce),-U[1]),w(s(Z,X),N[1]))),F[2]),w(M(w(s(ke,Y),_[1]),M(w(s(Ae,te),-U[1]),w(s(Z,X),F[1]))),-N[2]))),z[3])),M(w(M(M(w(M(w(s(ct,xe),U[1]),M(w(s(et,ue),-z[1]),w(s(le,re),N[1]))),_[2]),w(M(w(s(ct,xe),_[1]),M(w(s(lt,ce),-z[1]),w(s($,q),N[1]))),-U[2])),M(w(M(w(s(et,ue),_[1]),M(w(s(lt,ce),-U[1]),w(s(Z,X),N[1]))),z[2]),w(M(w(s(le,re),_[1]),M(w(s($,q),-U[1]),w(s(Z,X),z[1]))),-N[2]))),-F[3]),w(M(M(w(M(w(s(we,ae),U[1]),M(w(s(ke,Y),-z[1]),w(s(le,re),F[1]))),_[2]),w(M(w(s(we,ae),_[1]),M(w(s(Ae,te),-z[1]),w(s($,q),F[1]))),-U[2])),M(w(M(w(s(ke,Y),_[1]),M(w(s(Ae,te),-U[1]),w(s(Z,X),F[1]))),z[2]),w(M(w(s(le,re),_[1]),M(w(s($,q),-U[1]),w(s(Z,X),z[1]))),-F[2]))),N[3]))))),Mt=M(M(M(w(M(M(w(M(w(s(mt,st),F[1]),M(w(s(ht,be),-B[1]),w(s(He,Ee),N[1]))),z[2]),w(M(w(s(mt,st),z[1]),M(w(s(ct,xe),-B[1]),w(s(Fe,he),N[1]))),-F[2])),M(w(M(w(s(ht,be),z[1]),M(w(s(ct,xe),-F[1]),w(s(we,ae),N[1]))),B[2]),w(M(w(s(He,Ee),z[1]),M(w(s(Fe,he),-F[1]),w(s(we,ae),B[1]))),-N[2]))),_[3]),M(w(M(M(w(M(w(s(mt,st),F[1]),M(w(s(ht,be),-B[1]),w(s(He,Ee),N[1]))),_[2]),w(M(w(s(mt,st),_[1]),M(w(s(lt,ce),-B[1]),w(s(Ue,ne),N[1]))),-F[2])),M(w(M(w(s(ht,be),_[1]),M(w(s(lt,ce),-F[1]),w(s(Ae,te),N[1]))),B[2]),w(M(w(s(He,Ee),_[1]),M(w(s(Ue,ne),-F[1]),w(s(Ae,te),B[1]))),-N[2]))),-z[3]),w(M(M(w(M(w(s(mt,st),z[1]),M(w(s(ct,xe),-B[1]),w(s(Fe,he),N[1]))),_[2]),w(M(w(s(mt,st),_[1]),M(w(s(lt,ce),-B[1]),w(s(Ue,ne),N[1]))),-z[2])),M(w(M(w(s(ct,xe),_[1]),M(w(s(lt,ce),-z[1]),w(s($,q),N[1]))),B[2]),w(M(w(s(Fe,he),_[1]),M(w(s(Ue,ne),-z[1]),w(s($,q),B[1]))),-N[2]))),F[3]))),M(M(w(M(M(w(M(w(s(ht,be),z[1]),M(w(s(ct,xe),-F[1]),w(s(we,ae),N[1]))),_[2]),w(M(w(s(ht,be),_[1]),M(w(s(lt,ce),-F[1]),w(s(Ae,te),N[1]))),-z[2])),M(w(M(w(s(ct,xe),_[1]),M(w(s(lt,ce),-z[1]),w(s($,q),N[1]))),F[2]),w(M(w(s(we,ae),_[1]),M(w(s(Ae,te),-z[1]),w(s($,q),F[1]))),-N[2]))),-B[3]),w(M(M(w(M(w(s(He,Ee),z[1]),M(w(s(Fe,he),-F[1]),w(s(we,ae),B[1]))),_[2]),w(M(w(s(He,Ee),_[1]),M(w(s(Ue,ne),-F[1]),w(s(Ae,te),B[1]))),-z[2])),M(w(M(w(s(Fe,he),_[1]),M(w(s(Ue,ne),-z[1]),w(s($,q),B[1]))),F[2]),w(M(w(s(we,ae),_[1]),M(w(s(Ae,te),-z[1]),w(s($,q),F[1]))),-B[2]))),N[3])),M(w(M(M(w(M(w(s(mt,st),z[1]),M(w(s(ct,xe),-B[1]),w(s(Fe,he),N[1]))),U[2]),w(M(w(s(mt,st),U[1]),M(w(s(et,ue),-B[1]),w(s(Ve,oe),N[1]))),-z[2])),M(w(M(w(s(ct,xe),U[1]),M(w(s(et,ue),-z[1]),w(s(le,re),N[1]))),B[2]),w(M(w(s(Fe,he),U[1]),M(w(s(Ve,oe),-z[1]),w(s(le,re),B[1]))),-N[2]))),_[3]),w(M(M(w(M(w(s(mt,st),z[1]),M(w(s(ct,xe),-B[1]),w(s(Fe,he),N[1]))),_[2]),w(M(w(s(mt,st),_[1]),M(w(s(lt,ce),-B[1]),w(s(Ue,ne),N[1]))),-z[2])),M(w(M(w(s(ct,xe),_[1]),M(w(s(lt,ce),-z[1]),w(s($,q),N[1]))),B[2]),w(M(w(s(Fe,he),_[1]),M(w(s(Ue,ne),-z[1]),w(s($,q),B[1]))),-N[2]))),-U[3])))),M(M(M(w(M(M(w(M(w(s(mt,st),U[1]),M(w(s(et,ue),-B[1]),w(s(Ve,oe),N[1]))),_[2]),w(M(w(s(mt,st),_[1]),M(w(s(lt,ce),-B[1]),w(s(Ue,ne),N[1]))),-U[2])),M(w(M(w(s(et,ue),_[1]),M(w(s(lt,ce),-U[1]),w(s(Z,X),N[1]))),B[2]),w(M(w(s(Ve,oe),_[1]),M(w(s(Ue,ne),-U[1]),w(s(Z,X),B[1]))),-N[2]))),z[3]),w(M(M(w(M(w(s(ct,xe),U[1]),M(w(s(et,ue),-z[1]),w(s(le,re),N[1]))),_[2]),w(M(w(s(ct,xe),_[1]),M(w(s(lt,ce),-z[1]),w(s($,q),N[1]))),-U[2])),M(w(M(w(s(et,ue),_[1]),M(w(s(lt,ce),-U[1]),w(s(Z,X),N[1]))),z[2]),w(M(w(s(le,re),_[1]),M(w(s($,q),-U[1]),w(s(Z,X),z[1]))),-N[2]))),-B[3])),M(w(M(M(w(M(w(s(Fe,he),U[1]),M(w(s(Ve,oe),-z[1]),w(s(le,re),B[1]))),_[2]),w(M(w(s(Fe,he),_[1]),M(w(s(Ue,ne),-z[1]),w(s($,q),B[1]))),-U[2])),M(w(M(w(s(Ve,oe),_[1]),M(w(s(Ue,ne),-U[1]),w(s(Z,X),B[1]))),z[2]),w(M(w(s(le,re),_[1]),M(w(s($,q),-U[1]),w(s(Z,X),z[1]))),-B[2]))),N[3]),w(M(M(w(M(w(s(He,Ee),z[1]),M(w(s(Fe,he),-F[1]),w(s(we,ae),B[1]))),U[2]),w(M(w(s(He,Ee),U[1]),M(w(s(Ve,oe),-F[1]),w(s(ke,Y),B[1]))),-z[2])),M(w(M(w(s(Fe,he),U[1]),M(w(s(Ve,oe),-z[1]),w(s(le,re),B[1]))),F[2]),w(M(w(s(we,ae),U[1]),M(w(s(ke,Y),-z[1]),w(s(le,re),F[1]))),-B[2]))),_[3]))),M(M(w(M(M(w(M(w(s(He,Ee),z[1]),M(w(s(Fe,he),-F[1]),w(s(we,ae),B[1]))),_[2]),w(M(w(s(He,Ee),_[1]),M(w(s(Ue,ne),-F[1]),w(s(Ae,te),B[1]))),-z[2])),M(w(M(w(s(Fe,he),_[1]),M(w(s(Ue,ne),-z[1]),w(s($,q),B[1]))),F[2]),w(M(w(s(we,ae),_[1]),M(w(s(Ae,te),-z[1]),w(s($,q),F[1]))),-B[2]))),-U[3]),w(M(M(w(M(w(s(He,Ee),U[1]),M(w(s(Ve,oe),-F[1]),w(s(ke,Y),B[1]))),_[2]),w(M(w(s(He,Ee),_[1]),M(w(s(Ue,ne),-F[1]),w(s(Ae,te),B[1]))),-U[2])),M(w(M(w(s(Ve,oe),_[1]),M(w(s(Ue,ne),-U[1]),w(s(Z,X),B[1]))),F[2]),w(M(w(s(ke,Y),_[1]),M(w(s(Ae,te),-U[1]),w(s(Z,X),F[1]))),-B[2]))),z[3])),M(w(M(M(w(M(w(s(Fe,he),U[1]),M(w(s(Ve,oe),-z[1]),w(s(le,re),B[1]))),_[2]),w(M(w(s(Fe,he),_[1]),M(w(s(Ue,ne),-z[1]),w(s($,q),B[1]))),-U[2])),M(w(M(w(s(Ve,oe),_[1]),M(w(s(Ue,ne),-U[1]),w(s(Z,X),B[1]))),z[2]),w(M(w(s(le,re),_[1]),M(w(s($,q),-U[1]),w(s(Z,X),z[1]))),-B[2]))),-F[3]),w(M(M(w(M(w(s(we,ae),U[1]),M(w(s(ke,Y),-z[1]),w(s(le,re),F[1]))),_[2]),w(M(w(s(we,ae),_[1]),M(w(s(Ae,te),-z[1]),w(s($,q),F[1]))),-U[2])),M(w(M(w(s(ke,Y),_[1]),M(w(s(Ae,te),-U[1]),w(s(Z,X),F[1]))),z[2]),w(M(w(s(le,re),_[1]),M(w(s($,q),-U[1]),w(s(Z,X),z[1]))),-F[2]))),B[3]))))),tt=s(xt,Mt);return tt[tt.length-1]}return O}var T=[m,c,A];function P(M){var s=T[M.length];return s||(s=T[M.length]=l(M.length)),s.apply(void 0,M)}function x(M,s,E,w,O,_,U,z){function F(B,N,V,X,q,te){switch(arguments.length){case 0:case 1:return 0;case 2:return w(B,N);case 3:return O(B,N,V);case 4:return _(B,N,V,X);case 5:return U(B,N,V,X,q);case 6:return z(B,N,V,X,q,te)}for(var ne=new Array(arguments.length),ce=0;ce<arguments.length;++ce)ne[ce]=arguments[ce];return M(ne)}return F}function L(){for(;T.length<=u;)T.push(l(T.length));v.exports=x.apply(void 0,[P].concat(T));for(var M=0;M<=u;++M)v.exports[M]=T[M]}L()},727:function(v,d,r){var t=r(2962),i=6;function n(T){var P=T===2?l:T===3?m:T===4?c:T===5?A:h;return T<6?P(t[T]):P(t)}function f(){return[[0]]}function u(T,P){return[[P[0]],[T[0][0]]]}function l(T){return function(x,L){return[T([[+L[0],+x[0][1]],[+L[1],+x[1][1]]]),T([[+x[0][0],+L[0]],[+x[1][0],+L[1]]]),T(x)]}}function m(T){return function(x,L){return[T([[+L[0],+x[0][1],+x[0][2]],[+L[1],+x[1][1],+x[1][2]],[+L[2],+x[2][1],+x[2][2]]]),T([[+x[0][0],+L[0],+x[0][2]],[+x[1][0],+L[1],+x[1][2]],[+x[2][0],+L[2],+x[2][2]]]),T([[+x[0][0],+x[0][1],+L[0]],[+x[1][0],+x[1][1],+L[1]],[+x[2][0],+x[2][1],+L[2]]]),T(x)]}}function c(T){return function(x,L){return[T([[+L[0],+x[0][1],+x[0][2],+x[0][3]],[+L[1],+x[1][1],+x[1][2],+x[1][3]],[+L[2],+x[2][1],+x[2][2],+x[2][3]],[+L[3],+x[3][1],+x[3][2],+x[3][3]]]),T([[+x[0][0],+L[0],+x[0][2],+x[0][3]],[+x[1][0],+L[1],+x[1][2],+x[1][3]],[+x[2][0],+L[2],+x[2][2],+x[2][3]],[+x[3][0],+L[3],+x[3][2],+x[3][3]]]),T([[+x[0][0],+x[0][1],+L[0],+x[0][3]],[+x[1][0],+x[1][1],+L[1],+x[1][3]],[+x[2][0],+x[2][1],+L[2],+x[2][3]],[+x[3][0],+x[3][1],+L[3],+x[3][3]]]),T([[+x[0][0],+x[0][1],+x[0][2],+L[0]],[+x[1][0],+x[1][1],+x[1][2],+L[1]],[+x[2][0],+x[2][1],+x[2][2],+L[2]],[+x[3][0],+x[3][1],+x[3][2],+L[3]]]),T(x)]}}function A(T){return function(x,L){return[T([[+L[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+L[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+L[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+L[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+L[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),T([[+x[0][0],+L[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+L[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+L[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+L[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+L[4],+x[4][2],+x[4][3],+x[4][4]]]),T([[+x[0][0],+x[0][1],+L[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+L[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+L[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+L[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+L[4],+x[4][3],+x[4][4]]]),T([[+x[0][0],+x[0][1],+x[0][2],+L[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+L[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+L[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+L[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+L[4],+x[4][4]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+L[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+L[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+L[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+L[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+L[4]]]),T(x)]}}function h(T){return function(x,L){return[T([[+L[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+L[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+L[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+L[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+L[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+L[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+L[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+L[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+L[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+L[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+L[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+L[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+L[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+L[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+L[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+L[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+L[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+L[5],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+L[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+L[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+L[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+L[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+L[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+L[5],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+L[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+L[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+L[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+L[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+L[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+L[5],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+L[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+L[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+L[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+L[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+L[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+L[5]]]),T(x)]}}var o=[f,u];function p(T,P,x,L,M,s,E,w){return function(_,U){switch(_.length){case 0:return T(_,U);case 1:return P(_,U);case 2:return x(_,U);case 3:return L(_,U);case 4:return M(_,U);case 5:return s(_,U)}var z=E[_.length];return z||(z=E[_.length]=w(_.length)),z(_,U)}}function b(){for(;o.length<i;)o.push(n(o.length));v.exports=p.apply(void 0,o.concat([o,n]));for(var T=0;T<i;++T)v.exports[T]=o[T]}b()},3250:function(v,d,r){var t=r(5250),i=r(8210),n=r(3012),f=r(8545),u=5,l=11102230246251565e-32,m=(3+16*l)*l,c=(7+56*l)*l;function A(s,E,w,O){return function(U,z,F){var B=s(s(E(z[1],F[0]),E(-F[1],z[0])),s(E(U[1],z[0]),E(-z[1],U[0]))),N=s(E(U[1],F[0]),E(-F[1],U[0])),V=O(B,N);return V[V.length-1]}}function h(s,E,w,O){return function(U,z,F,B){var N=s(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),z[2]),s(w(s(E(z[1],B[0]),E(-B[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),B[2]))),s(w(s(E(z[1],B[0]),E(-B[1],z[0])),U[2]),s(w(s(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),w(s(E(U[1],z[0]),E(-z[1],U[0])),B[2])))),V=s(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),U[2]),s(w(s(E(U[1],B[0]),E(-B[1],U[0])),-F[2]),w(s(E(U[1],F[0]),E(-F[1],U[0])),B[2]))),s(w(s(E(z[1],F[0]),E(-F[1],z[0])),U[2]),s(w(s(E(U[1],F[0]),E(-F[1],U[0])),-z[2]),w(s(E(U[1],z[0]),E(-z[1],U[0])),F[2])))),X=O(N,V);return X[X.length-1]}}function o(s,E,w,O){return function(U,z,F,B,N){var V=s(s(s(w(s(w(s(E(B[1],N[0]),E(-N[1],B[0])),F[2]),s(w(s(E(F[1],N[0]),E(-N[1],F[0])),-B[2]),w(s(E(F[1],B[0]),E(-B[1],F[0])),N[2]))),z[3]),s(w(s(w(s(E(B[1],N[0]),E(-N[1],B[0])),z[2]),s(w(s(E(z[1],N[0]),E(-N[1],z[0])),-B[2]),w(s(E(z[1],B[0]),E(-B[1],z[0])),N[2]))),-F[3]),w(s(w(s(E(F[1],N[0]),E(-N[1],F[0])),z[2]),s(w(s(E(z[1],N[0]),E(-N[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),N[2]))),B[3]))),s(w(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),z[2]),s(w(s(E(z[1],B[0]),E(-B[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),B[2]))),-N[3]),s(w(s(w(s(E(B[1],N[0]),E(-N[1],B[0])),z[2]),s(w(s(E(z[1],N[0]),E(-N[1],z[0])),-B[2]),w(s(E(z[1],B[0]),E(-B[1],z[0])),N[2]))),U[3]),w(s(w(s(E(B[1],N[0]),E(-N[1],B[0])),U[2]),s(w(s(E(U[1],N[0]),E(-N[1],U[0])),-B[2]),w(s(E(U[1],B[0]),E(-B[1],U[0])),N[2]))),-z[3])))),s(s(w(s(w(s(E(z[1],N[0]),E(-N[1],z[0])),U[2]),s(w(s(E(U[1],N[0]),E(-N[1],U[0])),-z[2]),w(s(E(U[1],z[0]),E(-z[1],U[0])),N[2]))),B[3]),s(w(s(w(s(E(z[1],B[0]),E(-B[1],z[0])),U[2]),s(w(s(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),w(s(E(U[1],z[0]),E(-z[1],U[0])),B[2]))),-N[3]),w(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),z[2]),s(w(s(E(z[1],B[0]),E(-B[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),B[2]))),U[3]))),s(w(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),U[2]),s(w(s(E(U[1],B[0]),E(-B[1],U[0])),-F[2]),w(s(E(U[1],F[0]),E(-F[1],U[0])),B[2]))),-z[3]),s(w(s(w(s(E(z[1],B[0]),E(-B[1],z[0])),U[2]),s(w(s(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),w(s(E(U[1],z[0]),E(-z[1],U[0])),B[2]))),F[3]),w(s(w(s(E(z[1],F[0]),E(-F[1],z[0])),U[2]),s(w(s(E(U[1],F[0]),E(-F[1],U[0])),-z[2]),w(s(E(U[1],z[0]),E(-z[1],U[0])),F[2]))),-B[3]))))),X=s(s(s(w(s(w(s(E(B[1],N[0]),E(-N[1],B[0])),F[2]),s(w(s(E(F[1],N[0]),E(-N[1],F[0])),-B[2]),w(s(E(F[1],B[0]),E(-B[1],F[0])),N[2]))),U[3]),w(s(w(s(E(B[1],N[0]),E(-N[1],B[0])),U[2]),s(w(s(E(U[1],N[0]),E(-N[1],U[0])),-B[2]),w(s(E(U[1],B[0]),E(-B[1],U[0])),N[2]))),-F[3])),s(w(s(w(s(E(F[1],N[0]),E(-N[1],F[0])),U[2]),s(w(s(E(U[1],N[0]),E(-N[1],U[0])),-F[2]),w(s(E(U[1],F[0]),E(-F[1],U[0])),N[2]))),B[3]),w(s(w(s(E(F[1],B[0]),E(-B[1],F[0])),U[2]),s(w(s(E(U[1],B[0]),E(-B[1],U[0])),-F[2]),w(s(E(U[1],F[0]),E(-F[1],U[0])),B[2]))),-N[3]))),s(s(w(s(w(s(E(F[1],N[0]),E(-N[1],F[0])),z[2]),s(w(s(E(z[1],N[0]),E(-N[1],z[0])),-F[2]),w(s(E(z[1],F[0]),E(-F[1],z[0])),N[2]))),U[3]),w(s(w(s(E(F[1],N[0]),E(-N[1],F[0])),U[2]),s(w(s(E(U[1],N[0]),E(-N[1],U[0])),-F[2]),w(s(E(U[1],F[0]),E(-F[1],U[0])),N[2]))),-z[3])),s(w(s(w(s(E(z[1],N[0]),E(-N[1],z[0])),U[2]),s(w(s(E(U[1],N[0]),E(-N[1],U[0])),-z[2]),w(s(E(U[1],z[0]),E(-z[1],U[0])),N[2]))),F[3]),w(s(w(s(E(z[1],F[0]),E(-F[1],z[0])),U[2]),s(w(s(E(U[1],F[0]),E(-F[1],U[0])),-z[2]),w(s(E(U[1],z[0]),E(-z[1],U[0])),F[2]))),-N[3])))),q=O(V,X);return q[q.length-1]}}function p(s){var E=s===3?A:s===4?h:o;return E(i,t,n,f)}var b=p(3),T=p(4),P=[function(){return 0},function(){return 0},function(E,w){return w[0]-E[0]},function(E,w,O){var _=(E[1]-O[1])*(w[0]-O[0]),U=(E[0]-O[0])*(w[1]-O[1]),z=_-U,F;if(_>0){if(U<=0)return z;F=_+U}else if(_<0){if(U>=0)return z;F=-(_+U)}else return z;var B=m*F;return z>=B||z<=-B?z:b(E,w,O)},function(E,w,O,_){var U=E[0]-_[0],z=w[0]-_[0],F=O[0]-_[0],B=E[1]-_[1],N=w[1]-_[1],V=O[1]-_[1],X=E[2]-_[2],q=w[2]-_[2],te=O[2]-_[2],ne=z*V,ce=F*N,Q=F*B,Z=U*V,re=U*N,Y=z*B,oe=X*(ne-ce)+q*(Q-Z)+te*(re-Y),ue=(Math.abs(ne)+Math.abs(ce))*Math.abs(X)+(Math.abs(Q)+Math.abs(Z))*Math.abs(q)+(Math.abs(re)+Math.abs(Y))*Math.abs(te),K=c*ue;return oe>K||-oe>K?oe:T(E,w,O,_)}];function x(s){var E=P[s.length];return E||(E=P[s.length]=p(s.length)),E.apply(void 0,s)}function L(s,E,w,O,_,U,z){return function(B,N,V,X,q){switch(arguments.length){case 0:case 1:return 0;case 2:return O(B,N);case 3:return _(B,N,V);case 4:return U(B,N,V,X);case 5:return z(B,N,V,X,q)}for(var te=new Array(arguments.length),ne=0;ne<arguments.length;++ne)te[ne]=arguments[ne];return s(te)}}function M(){for(;P.length<=u;)P.push(p(P.length));v.exports=L.apply(void 0,[x].concat(P));for(var s=0;s<=u;++s)v.exports[s]=P[s]}M()},5382:function(v,d,r){var t=r(8210),i=r(3012);v.exports=n;function n(f,u){if(f.length===1)return i(u,f[0]);if(u.length===1)return i(f,u[0]);if(f.length===0||u.length===0)return[0];var l=[0];if(f.length<u.length)for(var m=0;m<f.length;++m)l=t(l,i(u,f[m]));else for(var m=0;m<u.length;++m)l=t(l,i(f,u[m]));return l}},3012:function(v,d,r){var t=r(5250),i=r(9362);v.exports=n;function n(f,u){var l=f.length;if(l===1){var m=t(f[0],u);return m[0]?m:[m[1]]}var c=new Array(2*l),A=[.1,.1],h=[.1,.1],o=0;t(f[0],u,A),A[0]&&(c[o++]=A[0]);for(var p=1;p<l;++p){t(f[p],u,h);var b=A[1];i(b,h[0],A),A[0]&&(c[o++]=A[0]);var T=h[1],P=A[1],x=T+P,L=x-T,M=P-L;A[1]=x,M&&(c[o++]=M)}return A[1]&&(c[o++]=A[1]),o===0&&(c[o++]=0),c.length=o,c}},1125:function(v,d,r){v.exports=n;var t=r(3250)[3];function i(f,u,l,m){for(var c=0;c<2;++c){var A=f[c],h=u[c],o=Math.min(A,h),p=Math.max(A,h),b=l[c],T=m[c],P=Math.min(b,T),x=Math.max(b,T);if(x<o||p<P)return!1}return!0}function n(f,u,l,m){var c=t(f,l,m),A=t(u,l,m);if(c>0&&A>0||c<0&&A<0)return!1;var h=t(l,f,u),o=t(m,f,u);return h>0&&o>0||h<0&&o<0?!1:c===0&&A===0&&h===0&&o===0?i(f,u,l,m):!0}},8545:function(v){v.exports=r;function d(t,i){var n=t+i,f=n-t,u=n-f,l=i-f,m=t-u,c=m+l;return c?[c,n]:[n]}function r(t,i){var n=t.length|0,f=i.length|0;if(n===1&&f===1)return d(t[0],-i[0]);var u=n+f,l=new Array(u),m=0,c=0,A=0,h=Math.abs,o=t[c],p=h(o),b=-i[A],T=h(b),P,x;p<T?(x=o,c+=1,c<n&&(o=t[c],p=h(o))):(x=b,A+=1,A<f&&(b=-i[A],T=h(b))),c<n&&p<T||A>=f?(P=o,c+=1,c<n&&(o=t[c],p=h(o))):(P=b,A+=1,A<f&&(b=-i[A],T=h(b)));for(var L=P+x,M=L-P,s=x-M,E=s,w=L,O,_,U,z,F;c<n&&A<f;)p<T?(P=o,c+=1,c<n&&(o=t[c],p=h(o))):(P=b,A+=1,A<f&&(b=-i[A],T=h(b))),x=E,L=P+x,M=L-P,s=x-M,s&&(l[m++]=s),O=w+L,_=O-w,U=O-_,z=L-_,F=w-U,E=F+z,w=O;for(;c<n;)P=o,x=E,L=P+x,M=L-P,s=x-M,s&&(l[m++]=s),O=w+L,_=O-w,U=O-_,z=L-_,F=w-U,E=F+z,w=O,c+=1,c<n&&(o=t[c]);for(;A<f;)P=b,x=E,L=P+x,M=L-P,s=x-M,s&&(l[m++]=s),O=w+L,_=O-w,U=O-_,z=L-_,F=w-U,E=F+z,w=O,A+=1,A<f&&(b=-i[A]);return E&&(l[m++]=E),w&&(l[m++]=w),m||(l[m++]=0),l.length=m,l}},8210:function(v){v.exports=r;function d(t,i){var n=t+i,f=n-t,u=n-f,l=i-f,m=t-u,c=m+l;return c?[c,n]:[n]}function r(t,i){var n=t.length|0,f=i.length|0;if(n===1&&f===1)return d(t[0],i[0]);var u=n+f,l=new Array(u),m=0,c=0,A=0,h=Math.abs,o=t[c],p=h(o),b=i[A],T=h(b),P,x;p<T?(x=o,c+=1,c<n&&(o=t[c],p=h(o))):(x=b,A+=1,A<f&&(b=i[A],T=h(b))),c<n&&p<T||A>=f?(P=o,c+=1,c<n&&(o=t[c],p=h(o))):(P=b,A+=1,A<f&&(b=i[A],T=h(b)));for(var L=P+x,M=L-P,s=x-M,E=s,w=L,O,_,U,z,F;c<n&&A<f;)p<T?(P=o,c+=1,c<n&&(o=t[c],p=h(o))):(P=b,A+=1,A<f&&(b=i[A],T=h(b))),x=E,L=P+x,M=L-P,s=x-M,s&&(l[m++]=s),O=w+L,_=O-w,U=O-_,z=L-_,F=w-U,E=F+z,w=O;for(;c<n;)P=o,x=E,L=P+x,M=L-P,s=x-M,s&&(l[m++]=s),O=w+L,_=O-w,U=O-_,z=L-_,F=w-U,E=F+z,w=O,c+=1,c<n&&(o=t[c]);for(;A<f;)P=b,x=E,L=P+x,M=L-P,s=x-M,s&&(l[m++]=s),O=w+L,_=O-w,U=O-_,z=L-_,F=w-U,E=F+z,w=O,A+=1,A<f&&(b=i[A]);return E&&(l[m++]=E),w&&(l[m++]=w),m||(l[m++]=0),l.length=m,l}},9127:function(v,d,r){v.exports=n;var t=r(6204),i=r(5771);function n(f){return i(t(f))}},7765:function(v,d,r){v.exports=o;var t=r(9618),i=r(1888),n=r(446),f=r(1570);function u(p){for(var b=p.length,T=0,P=0;P<b;++P)T=Math.max(T,p[P].length)|0;return T-1}function l(p,b){for(var T=p.length,P=i.mallocUint8(T),x=0;x<T;++x)P[x]=p[x]<b|0;return P}function m(p,b){for(var T=p.length,P=b*(b+1)/2*T|0,x=i.mallocUint32(P*2),L=0,M=0;M<T;++M)for(var s=p[M],b=s.length,E=0;E<b;++E)for(var w=0;w<E;++w){var O=s[w],_=s[E];x[L++]=Math.min(O,_)|0,x[L++]=Math.max(O,_)|0}var U=L/2|0;n(t(x,[U,2]));for(var z=2,M=2;M<L;M+=2)x[M-2]===x[M]&&x[M-1]===x[M+1]||(x[z++]=x[M],x[z++]=x[M+1]);return t(x,[z/2|0,2])}function c(p,b,T,P){for(var x=p.data,L=p.shape[0],M=i.mallocDouble(L),s=0,E=0;E<L;++E){var w=x[2*E],O=x[2*E+1];if(T[w]!==T[O]){var _=b[w],U=b[O];x[2*s]=w,x[2*s+1]=O,M[s++]=(U-P)/(U-_)}}return p.shape[0]=s,t(M,[s])}function A(p,b){var T=i.mallocInt32(b*2),P=p.shape[0],x=p.data;T[0]=0;for(var L=0,M=0;M<P;++M){var s=x[2*M];if(s!==L){for(T[2*L+1]=M;++L<s;)T[2*L]=M,T[2*L+1]=M;T[2*L]=M}}for(T[2*L+1]=P;++L<b;)T[2*L]=T[2*L+1]=P;return T}function h(p){for(var b=p.shape[0]|0,T=p.data,P=new Array(b),x=0;x<b;++x)P[x]=[T[2*x],T[2*x+1]];return P}function o(p,b,T,P){T=T||0,typeof P>"u"&&(P=u(p));var x=p.length;if(x===0||P<1)return{cells:[],vertexIds:[],vertexWeights:[]};var L=l(b,+T),M=m(p,P),s=c(M,b,L,+T),E=A(M,b.length|0),w=f(P)(p,M.data,E,L),O=h(M),_=[].slice.call(s.data,0,s.shape[0]);return i.free(L),i.free(M.data),i.free(s.data),i.free(E),{cells:w,vertexIds:O,vertexWeights:_}}},1570:function(v){v.exports=r;var d=[function(){function i(n,f,u,l){for(var m=n.length,c=[],A=0;A<m;++A){var h=n[A];h.length}return c}return i},function(){function i(f,u,l,m){for(var c=Math.min(l,m)|0,A=Math.max(l,m)|0,h=f[2*c],o=f[2*c+1];h<o;){var p=h+o>>1,b=u[2*p+1];if(b===A)return p;A<b?o=p:h=p+1}return h}function n(f,u,l,m){for(var c=f.length,A=[],h=0;h<c;++h){var o=f[h],p=o.length;if(p===2){var b=(m[o[0]]<<0)+(m[o[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:A.push([i(l,u,o[0],o[1])]);break;case 2:A.push([i(l,u,o[1],o[0])]);break}}}return A}return n},function(){function i(f,u,l,m){for(var c=Math.min(l,m)|0,A=Math.max(l,m)|0,h=f[2*c],o=f[2*c+1];h<o;){var p=h+o>>1,b=u[2*p+1];if(b===A)return p;A<b?o=p:h=p+1}return h}function n(f,u,l,m){for(var c=f.length,A=[],h=0;h<c;++h){var o=f[h],p=o.length;if(p===3){var b=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(b===0||b===7)continue;switch(b){case 0:break;case 1:A.push([i(l,u,o[0],o[2]),i(l,u,o[0],o[1])]);break;case 2:A.push([i(l,u,o[1],o[0]),i(l,u,o[1],o[2])]);break;case 3:A.push([i(l,u,o[0],o[2]),i(l,u,o[1],o[2])]);break;case 4:A.push([i(l,u,o[2],o[1]),i(l,u,o[2],o[0])]);break;case 5:A.push([i(l,u,o[2],o[1]),i(l,u,o[0],o[1])]);break;case 6:A.push([i(l,u,o[1],o[0]),i(l,u,o[2],o[0])]);break}}else if(p===2){var b=(m[o[0]]<<0)+(m[o[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:A.push([i(l,u,o[0],o[1])]);break;case 2:A.push([i(l,u,o[1],o[0])]);break}}}return A}return n},function(){function i(f,u,l,m){for(var c=Math.min(l,m)|0,A=Math.max(l,m)|0,h=f[2*c],o=f[2*c+1];h<o;){var p=h+o>>1,b=u[2*p+1];if(b===A)return p;A<b?o=p:h=p+1}return h}function n(f,u,l,m){for(var c=f.length,A=[],h=0;h<c;++h){var o=f[h],p=o.length;if(p===4){var b=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2)+(m[o[3]]<<3);if(b===0||b===15)continue;switch(b){case 0:break;case 1:A.push([i(l,u,o[0],o[1]),i(l,u,o[0],o[2]),i(l,u,o[0],o[3])]);break;case 2:A.push([i(l,u,o[1],o[2]),i(l,u,o[1],o[0]),i(l,u,o[1],o[3])]);break;case 3:A.push([i(l,u,o[1],o[2]),i(l,u,o[0],o[2]),i(l,u,o[0],o[3])],[i(l,u,o[1],o[3]),i(l,u,o[1],o[2]),i(l,u,o[0],o[3])]);break;case 4:A.push([i(l,u,o[2],o[0]),i(l,u,o[2],o[1]),i(l,u,o[2],o[3])]);break;case 5:A.push([i(l,u,o[0],o[1]),i(l,u,o[2],o[1]),i(l,u,o[0],o[3])],[i(l,u,o[2],o[1]),i(l,u,o[2],o[3]),i(l,u,o[0],o[3])]);break;case 6:A.push([i(l,u,o[2],o[0]),i(l,u,o[1],o[0]),i(l,u,o[1],o[3])],[i(l,u,o[2],o[3]),i(l,u,o[2],o[0]),i(l,u,o[1],o[3])]);break;case 7:A.push([i(l,u,o[0],o[3]),i(l,u,o[1],o[3]),i(l,u,o[2],o[3])]);break;case 8:A.push([i(l,u,o[3],o[1]),i(l,u,o[3],o[0]),i(l,u,o[3],o[2])]);break;case 9:A.push([i(l,u,o[3],o[1]),i(l,u,o[0],o[1]),i(l,u,o[0],o[2])],[i(l,u,o[3],o[2]),i(l,u,o[3],o[1]),i(l,u,o[0],o[2])]);break;case 10:A.push([i(l,u,o[1],o[0]),i(l,u,o[3],o[0]),i(l,u,o[1],o[2])],[i(l,u,o[3],o[0]),i(l,u,o[3],o[2]),i(l,u,o[1],o[2])]);break;case 11:A.push([i(l,u,o[1],o[2]),i(l,u,o[0],o[2]),i(l,u,o[3],o[2])]);break;case 12:A.push([i(l,u,o[3],o[0]),i(l,u,o[2],o[0]),i(l,u,o[2],o[1])],[i(l,u,o[3],o[1]),i(l,u,o[3],o[0]),i(l,u,o[2],o[1])]);break;case 13:A.push([i(l,u,o[0],o[1]),i(l,u,o[2],o[1]),i(l,u,o[3],o[1])]);break;case 14:A.push([i(l,u,o[2],o[0]),i(l,u,o[1],o[0]),i(l,u,o[3],o[0])]);break}}else if(p===3){var b=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(b===0||b===7)continue;switch(b){case 0:break;case 1:A.push([i(l,u,o[0],o[2]),i(l,u,o[0],o[1])]);break;case 2:A.push([i(l,u,o[1],o[0]),i(l,u,o[1],o[2])]);break;case 3:A.push([i(l,u,o[0],o[2]),i(l,u,o[1],o[2])]);break;case 4:A.push([i(l,u,o[2],o[1]),i(l,u,o[2],o[0])]);break;case 5:A.push([i(l,u,o[2],o[1]),i(l,u,o[0],o[1])]);break;case 6:A.push([i(l,u,o[1],o[0]),i(l,u,o[2],o[0])]);break}}else if(p===2){var b=(m[o[0]]<<0)+(m[o[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:break;case 1:A.push([i(l,u,o[0],o[1])]);break;case 2:A.push([i(l,u,o[1],o[0])]);break}}}return A}return n}];function r(t){return d[t]()}},6803:function(v,d,r){r(8828),r(1755);function t(i,n){var f=i.length,u=i.length-n.length,l=Math.min;if(u)return u;switch(f){case 0:return 0;case 1:return i[0]-n[0];case 2:var o=i[0]+i[1]-n[0]-n[1];return o||l(i[0],i[1])-l(n[0],n[1]);case 3:var m=i[0]+i[1],c=n[0]+n[1];if(o=m+i[2]-(c+n[2]),o)return o;var A=l(i[0],i[1]),h=l(n[0],n[1]),o=l(A,i[2])-l(h,n[2]);return o||l(A+i[2],m)-l(h+n[2],c);default:var p=i.slice(0);p.sort();var b=n.slice(0);b.sort();for(var T=0;T<f;++T)if(u=p[T]-b[T],u)return u;return 0}}d.Fw=t},3105:function(v,d){"use restrict";var r=32;d.INT_BITS=r,d.INT_MAX=2147483647,d.INT_MIN=-1<<r-1,d.sign=function(n){return(n>0)-(n<0)},d.abs=function(n){var f=n>>r-1;return(n^f)-f},d.min=function(n,f){return f^(n^f)&-(n<f)},d.max=function(n,f){return n^(n^f)&-(n<f)},d.isPow2=function(n){return!(n&n-1)&&!!n},d.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},d.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},d.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}d.countTrailingZeros=t,d.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},d.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},d.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,m=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--m;n[f]=l<<m&255}})(i),d.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},d.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},d.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},d.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},d.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},d.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},2014:function(v,d,r){"use restrict";var t=r(3105),i=r(4623);function n(s){for(var E=0,w=Math.max,O=0,_=s.length;O<_;++O)E=w(E,s[O].length);return E-1}d.dimension=n;function f(s){for(var E=-1,w=Math.max,O=0,_=s.length;O<_;++O)for(var U=s[O],z=0,F=U.length;z<F;++z)E=w(E,U[z]);return E+1}d.countVertices=f;function u(s){for(var E=new Array(s.length),w=0,O=s.length;w<O;++w)E[w]=s[w].slice(0);return E}d.cloneCells=u;function l(s,E){var w=s.length,O=s.length-E.length,_=Math.min;if(O)return O;switch(w){case 0:return 0;case 1:return s[0]-E[0];case 2:var N=s[0]+s[1]-E[0]-E[1];return N||_(s[0],s[1])-_(E[0],E[1]);case 3:var U=s[0]+s[1],z=E[0]+E[1];if(N=U+s[2]-(z+E[2]),N)return N;var F=_(s[0],s[1]),B=_(E[0],E[1]),N=_(F,s[2])-_(B,E[2]);return N||_(F+s[2],U)-_(B+E[2],z);default:var V=s.slice(0);V.sort();var X=E.slice(0);X.sort();for(var q=0;q<w;++q)if(O=V[q]-X[q],O)return O;return 0}}d.compareCells=l;function m(s,E){return l(s[0],E[0])}function c(s,E){if(E){for(var w=s.length,O=new Array(w),_=0;_<w;++_)O[_]=[s[_],E[_]];O.sort(m);for(var _=0;_<w;++_)s[_]=O[_][0],E[_]=O[_][1];return s}else return s.sort(l),s}d.normalize=c;function A(s){if(s.length===0)return[];for(var E=1,w=s.length,O=1;O<w;++O){var _=s[O];if(l(_,s[O-1])){if(O===E){E++;continue}s[E++]=_}}return s.length=E,s}d.unique=A;function h(s,E){for(var w=0,O=s.length-1,_=-1;w<=O;){var U=w+O>>1,z=l(s[U],E);z<=0?(z===0&&(_=U),w=U+1):z>0&&(O=U-1)}return _}d.findCell=h;function o(s,E){for(var w=new Array(s.length),O=0,_=w.length;O<_;++O)w[O]=[];for(var U=[],O=0,z=E.length;O<z;++O)for(var F=E[O],B=F.length,N=1,V=1<<B;N<V;++N){U.length=t.popCount(N);for(var X=0,q=0;q<B;++q)N&1<<q&&(U[X++]=F[q]);var te=h(s,U);if(!(te<0))for(;w[te++].push(O),!(te>=s.length||l(s[te],U)!==0););}return w}d.incidence=o;function p(s,E){if(!E)return o(A(T(s,0)),s);for(var w=new Array(E),O=0;O<E;++O)w[O]=[];for(var O=0,_=s.length;O<_;++O)for(var U=s[O],z=0,F=U.length;z<F;++z)w[U[z]].push(O);return w}d.dual=p;function b(s){for(var E=[],w=0,O=s.length;w<O;++w)for(var _=s[w],U=_.length|0,z=1,F=1<<U;z<F;++z){for(var B=[],N=0;N<U;++N)z>>>N&1&&B.push(_[N]);E.push(B)}return c(E)}d.explode=b;function T(s,E){if(E<0)return[];for(var w=[],O=(1<<E+1)-1,_=0;_<s.length;++_)for(var U=s[_],z=O;z<1<<U.length;z=t.nextCombination(z)){for(var F=new Array(E+1),B=0,N=0;N<U.length;++N)z&1<<N&&(F[B++]=U[N]);w.push(F)}return c(w)}d.skeleton=T;function P(s){for(var E=[],w=0,O=s.length;w<O;++w)for(var _=s[w],U=0,z=_.length;U<z;++U){for(var F=new Array(_.length-1),B=0,N=0;B<z;++B)B!==U&&(F[N++]=_[B]);E.push(F)}return c(E)}d.boundary=P;function x(s,E){for(var w=new i(E),O=0;O<s.length;++O)for(var _=s[O],U=0;U<_.length;++U)for(var z=U+1;z<_.length;++z)w.link(_[U],_[z]);for(var F=[],B=w.ranks,O=0;O<B.length;++O)B[O]=-1;for(var O=0;O<s.length;++O){var N=w.find(s[O][0]);B[N]<0?(B[N]=F.length,F.push([s[O].slice(0)])):F[B[N]].push(s[O].slice(0))}return F}function L(s){for(var E=A(c(T(s,0))),w=new i(E.length),O=0;O<s.length;++O)for(var _=s[O],U=0;U<_.length;++U)for(var z=h(E,[_[U]]),F=U+1;F<_.length;++F)w.link(z,h(E,[_[F]]));for(var B=[],N=w.ranks,O=0;O<N.length;++O)N[O]=-1;for(var O=0;O<s.length;++O){var V=w.find(h(E,[s[O][0]]));N[V]<0?(N[V]=B.length,B.push([s[O].slice(0)])):B[N[V]].push(s[O].slice(0))}return B}function M(s,E){return E?x(s,E):L(s)}d.connectedComponents=M},4623:function(v){"use restrict";v.exports=d;function d(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}d.prototype.length=function(){return this.roots.length},d.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},d.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var i=t[r];t[r]=t[i],r=i}return r},d.prototype.link=function(r,t){var i=this.find(r),n=this.find(t);if(i!==n){var f=this.ranks,u=this.roots,l=f[i],m=f[n];l<m?u[i]=n:m<l?u[n]=i:(u[n]=i,++f[i])}}},5878:function(v,d,r){v.exports=f;var t=r(3250),i=r(2014);function n(u,l,m){var c=Math.abs(t(u,l,m)),A=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2));return c/A}function f(u,l,m){for(var c=l.length,A=u.length,h=new Array(c),o=new Array(c),p=new Array(c),b=new Array(c),T=0;T<c;++T)h[T]=o[T]=-1,p[T]=1/0,b[T]=!1;for(var T=0;T<A;++T){var P=u[T];if(P.length!==2)throw new Error("Input must be a graph");var x=P[1],L=P[0];o[L]!==-1?o[L]=-2:o[L]=x,h[x]!==-1?h[x]=-2:h[x]=L}function M(Q){if(b[Q])return 1/0;var Z=h[Q],re=o[Q];return Z<0||re<0?1/0:n(l[Q],l[Z],l[re])}function s(Q,Z){var re=B[Q],Y=B[Z];B[Q]=Y,B[Z]=re,N[re]=Z,N[Y]=Q}function E(Q){return p[B[Q]]}function w(Q){return Q&1?Q-1>>1:(Q>>1)-1}function O(Q){for(var Z=E(Q);;){var re=Z,Y=2*Q+1,oe=2*(Q+1),ue=Q;if(Y<X){var K=E(Y);K<re&&(ue=Y,re=K)}if(oe<X){var $=E(oe);$<re&&(ue=oe)}if(ue===Q)return Q;s(Q,ue),Q=ue}}function _(Q){for(var Z=E(Q);Q>0;){var re=w(Q);if(re>=0){var Y=E(re);if(Z<Y){s(Q,re),Q=re;continue}}return Q}}function U(){if(X>0){var Q=B[0];return s(0,X-1),X-=1,O(0),Q}return-1}function z(Q,Z){var re=B[Q];return p[re]===Z?Q:(p[re]=-1/0,_(Q),U(),p[re]=Z,X+=1,_(X-1))}function F(Q){if(!b[Q]){b[Q]=!0;var Z=h[Q],re=o[Q];h[re]>=0&&(h[re]=Z),o[Z]>=0&&(o[Z]=re),N[Z]>=0&&z(N[Z],M(Z)),N[re]>=0&&z(N[re],M(re))}}for(var B=[],N=new Array(c),T=0;T<c;++T){var V=p[T]=M(T);V<1/0?(N[T]=B.length,B.push(T)):N[T]=-1}for(var X=B.length,T=X>>1;T>=0;--T)O(T);for(;;){var q=U();if(q<0||p[q]>m)break;F(q)}for(var te=[],T=0;T<c;++T)b[T]||(N[T]=te.length,te.push(l[T].slice()));te.length;function ne(Q,Z){if(Q[Z]<0)return Z;var re=Z,Y=Z;do{var oe=Q[Y];if(!b[Y]||oe<0||oe===Y||(Y=oe,oe=Q[Y],!b[Y]||oe<0||oe===Y))break;Y=oe,re=Q[re]}while(re!==Y);for(var ue=Z;ue!==Y;ue=Q[ue])Q[ue]=Y;return Y}var ce=[];return u.forEach(function(Q){var Z=ne(h,Q[0]),re=ne(o,Q[1]);if(Z>=0&&re>=0&&Z!==re){var Y=N[Z],oe=N[re];Y!==oe&&ce.push([Y,oe])}}),i.unique(i.normalize(ce)),{positions:te,edges:ce}}},1303:function(v,d,r){v.exports=n;var t=r(3250);function i(f,u){var l,m;if(u[0][0]<u[1][0])l=u[0],m=u[1];else if(u[0][0]>u[1][0])l=u[1],m=u[0];else{var c=Math.min(f[0][1],f[1][1]),A=Math.max(f[0][1],f[1][1]),h=Math.min(u[0][1],u[1][1]),o=Math.max(u[0][1],u[1][1]);return A<h?A-h:c>o?c-o:A-o}var p,b;f[0][1]<f[1][1]?(p=f[0],b=f[1]):(p=f[1],b=f[0]);var T=t(m,l,p);return T||(T=t(m,l,b),T)?T:b-m}function n(f,u){var l,m;if(u[0][0]<u[1][0])l=u[0],m=u[1];else if(u[0][0]>u[1][0])l=u[1],m=u[0];else return i(u,f);var c,A;if(f[0][0]<f[1][0])c=f[0],A=f[1];else if(f[0][0]>f[1][0])c=f[1],A=f[0];else return-i(f,u);var h=t(l,m,A),o=t(l,m,c);if(h<0){if(o<=0)return h}else if(h>0){if(o>=0)return h}else if(o)return o;if(h=t(A,c,m),o=t(A,c,l),h<0){if(o<=0)return h}else if(h>0){if(o>=0)return h}else if(o)return o;return m[0]-A[0]}},4209:function(v,d,r){v.exports=o;var t=r(2478),i=r(3840),n=r(3250),f=r(1303);function u(p,b,T){this.slabs=p,this.coordinates=b,this.horizontal=T}var l=u.prototype;function m(p,b){return p.y-b}function c(p,b){for(var T=null;p;){var P=p.key,x,L;P[0][0]<P[1][0]?(x=P[0],L=P[1]):(x=P[1],L=P[0]);var M=n(x,L,b);if(M<0)p=p.left;else if(M>0)if(b[0]!==P[1][0])T=p,p=p.right;else{var s=c(p.right,b);if(s)return s;p=p.left}else{if(b[0]!==P[1][0])return p;var s=c(p.right,b);if(s)return s;p=p.left}}return T}l.castUp=function(p){var b=t.le(this.coordinates,p[0]);if(b<0)return-1;this.slabs[b];var T=c(this.slabs[b],p),P=-1;if(T&&(P=T.value),this.coordinates[b]===p[0]){var x=null;if(T&&(x=T.key),b>0){var L=c(this.slabs[b-1],p);L&&(x?f(L.key,x)>0&&(x=L.key,P=L.value):(P=L.value,x=L.key))}var M=this.horizontal[b];if(M.length>0){var s=t.ge(M,p[1],m);if(s<M.length){var E=M[s];if(p[1]===E.y){if(E.closed)return E.index;for(;s<M.length-1&&M[s+1].y===p[1];)if(s=s+1,E=M[s],E.closed)return E.index;if(E.y===p[1]&&!E.start){if(s=s+1,s>=M.length)return P;E=M[s]}}if(E.start)if(x){var w=n(x[0],x[1],[p[0],E.y]);x[0][0]>x[1][0]&&(w=-w),w>0&&(P=E.index)}else P=E.index;else E.y!==p[1]&&(P=E.index)}}}return P};function A(p,b,T,P){this.y=p,this.index=b,this.start=T,this.closed=P}function h(p,b,T,P){this.x=p,this.segment=b,this.create=T,this.index=P}function o(p){for(var b=p.length,T=2*b,P=new Array(T),x=0;x<b;++x){var L=p[x],M=L[0][0]<L[1][0];P[2*x]=new h(L[0][0],L,M,x),P[2*x+1]=new h(L[1][0],L,!M,x)}P.sort(function(F,B){var N=F.x-B.x;return N||(N=F.create-B.create,N)?N:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(B.segment[0][1],B.segment[1][1])});for(var s=i(f),E=[],w=[],O=[],x=0;x<T;){for(var _=P[x].x,U=[];x<T;){var z=P[x];if(z.x!==_)break;x+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(U.push(new A(z.segment[0][1],z.index,!0,!0)),U.push(new A(z.segment[1][1],z.index,!1,!1))):(U.push(new A(z.segment[1][1],z.index,!0,!1)),U.push(new A(z.segment[0][1],z.index,!1,!0)))):z.create?s=s.insert(z.segment,z.index):s=s.remove(z.segment)}E.push(s.root),w.push(_),O.push(U)}return new u(E,w,O)}},5202:function(v,d,r){var t=r(1944),i=r(8210);v.exports=u,v.exports.positive=l,v.exports.negative=m;function n(c,A){var h=i(t(c,A),[A[A.length-1]]);return h[h.length-1]}function f(c,A,h,o){var p=o-A,b=-A/p;b<0?b=0:b>1&&(b=1);for(var T=1-b,P=c.length,x=new Array(P),L=0;L<P;++L)x[L]=b*c[L]+T*h[L];return x}function u(c,A){for(var h=[],o=[],p=n(c[c.length-1],A),b=c[c.length-1],T=c[0],P=0;P<c.length;++P,b=T){T=c[P];var x=n(T,A);if(p<0&&x>0||p>0&&x<0){var L=f(b,x,T,p);h.push(L),o.push(L.slice())}x<0?o.push(T.slice()):x>0?h.push(T.slice()):(h.push(T.slice()),o.push(T.slice())),p=x}return{positive:h,negative:o}}function l(c,A){for(var h=[],o=n(c[c.length-1],A),p=c[c.length-1],b=c[0],T=0;T<c.length;++T,p=b){b=c[T];var P=n(b,A);(o<0&&P>0||o>0&&P<0)&&h.push(f(p,P,b,o)),P>=0&&h.push(b.slice()),o=P}return h}function m(c,A){for(var h=[],o=n(c[c.length-1],A),p=c[c.length-1],b=c[0],T=0;T<c.length;++T,p=b){b=c[T];var P=n(b,A);(o<0&&P>0||o>0&&P<0)&&h.push(f(p,P,b,o)),P<=0&&h.push(b.slice()),o=P}return h}},3387:function(v,d,r){var t;(function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(c){return u(m(c),arguments)}function f(c,A){return n.apply(null,[c].concat(A||[]))}function u(c,A){var h=1,o=c.length,p,b="",T,P,x,L,M,s,E,w;for(T=0;T<o;T++)if(typeof c[T]=="string")b+=c[T];else if(typeof c[T]=="object"){if(x=c[T],x.keys)for(p=A[h],P=0;P<x.keys.length;P++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[P],x.keys[P-1]));p=p[x.keys[P]]}else x.param_no?p=A[x.param_no]:p=A[h++];if(i.not_type.test(x.type)&&i.not_primitive.test(x.type)&&p instanceof Function&&(p=p()),i.numeric_arg.test(x.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(i.number.test(x.type)&&(E=p>=0),x.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,x.width?parseInt(x.width):0);break;case"e":p=x.precision?parseFloat(p).toExponential(x.precision):parseFloat(p).toExponential();break;case"f":p=x.precision?parseFloat(p).toFixed(x.precision):parseFloat(p);break;case"g":p=x.precision?String(Number(p.toPrecision(x.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=x.precision?p.substring(0,x.precision):p;break;case"t":p=String(!!p),p=x.precision?p.substring(0,x.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=x.precision?p.substring(0,x.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=x.precision?p.substring(0,x.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}i.json.test(x.type)?b+=p:(i.number.test(x.type)&&(!E||x.sign)?(w=E?"+":"-",p=p.toString().replace(i.sign,"")):w="",M=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",s=x.width-(w+p).length,L=x.width&&s>0?M.repeat(s):"",b+=x.align?w+p+L:M==="0"?w+L+p:L+w+p)}return b}var l=Object.create(null);function m(c){if(l[c])return l[c];for(var A=c,h,o=[],p=0;A;){if((h=i.text.exec(A))!==null)o.push(h[0]);else if((h=i.modulo.exec(A))!==null)o.push("%");else if((h=i.placeholder.exec(A))!==null){if(h[2]){p|=1;var b=[],T=h[2],P=[];if((P=i.key.exec(T))!==null)for(b.push(P[1]);(T=T.substring(P[0].length))!=="";)if((P=i.key_access.exec(T))!==null)b.push(P[1]);else if((P=i.index_access.exec(T))!==null)b.push(P[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=b}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");A=A.substring(h[0].length)}return l[c]=o}d.sprintf=n,d.vsprintf=f,typeof window<"u"&&(window.sprintf=n,window.vsprintf=f,t=(function(){return{sprintf:n,vsprintf:f}}).call(d,r,d,v),t!==void 0&&(v.exports=t))})()},3711:function(v,d,r){v.exports=m;var t=r(2640),i=r(781),n={"2d":function(c,A,h){var o=c({order:A,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(b,T,P,x){return b>x|0},vertex:function(b,T,P,x,L,M,s,E,w,O,_,U,z){var F=(s<<0)+(E<<1)+(w<<2)+(O<<3)|0;if(!(F===0||F===15))switch(F){case 0:_.push([b-.5,T-.5]);break;case 1:_.push([b-.25-.25*(x+P-2*z)/(P-x),T-.25-.25*(L+P-2*z)/(P-L)]);break;case 2:_.push([b-.75-.25*(-x-P+2*z)/(x-P),T-.25-.25*(M+x-2*z)/(x-M)]);break;case 3:_.push([b-.5,T-.5-.5*(L+P+M+x-4*z)/(P-L+x-M)]);break;case 4:_.push([b-.25-.25*(M+L-2*z)/(L-M),T-.75-.25*(-L-P+2*z)/(L-P)]);break;case 5:_.push([b-.5-.5*(x+P+M+L-4*z)/(P-x+L-M),T-.5]);break;case 6:_.push([b-.5-.25*(-x-P+M+L)/(x-P+L-M),T-.5-.25*(-L-P+M+x)/(L-P+x-M)]);break;case 7:_.push([b-.75-.25*(M+L-2*z)/(L-M),T-.75-.25*(M+x-2*z)/(x-M)]);break;case 8:_.push([b-.75-.25*(-M-L+2*z)/(M-L),T-.75-.25*(-M-x+2*z)/(M-x)]);break;case 9:_.push([b-.5-.25*(x+P+-M-L)/(P-x+M-L),T-.5-.25*(L+P+-M-x)/(P-L+M-x)]);break;case 10:_.push([b-.5-.5*(-x-P+-M-L+4*z)/(x-P+M-L),T-.5]);break;case 11:_.push([b-.25-.25*(-M-L+2*z)/(M-L),T-.75-.25*(L+P-2*z)/(P-L)]);break;case 12:_.push([b-.5,T-.5-.5*(-L-P+-M-x+4*z)/(L-P+M-x)]);break;case 13:_.push([b-.75-.25*(x+P-2*z)/(P-x),T-.25-.25*(-M-x+2*z)/(M-x)]);break;case 14:_.push([b-.25-.25*(-x-P+2*z)/(x-P),T-.25-.25*(-L-P+2*z)/(L-P)]);break;case 15:_.push([b-.5,T-.5]);break}},cell:function(b,T,P,x,L,M,s,E,w){L?E.push([b,T]):E.push([T,b])}});return function(p,b){var T=[],P=[];return o(p,T,P,b),{positions:T,cells:P}}}};function f(c,A){var h=c.length+"d",o=n[h];if(o)return o(t,c,A)}function u(c,A){for(var h=i(c,A),o=h.length,p=new Array(o),b=new Array(o),T=0;T<o;++T)p[T]=[h[T]],b[T]=[T];return{positions:p,cells:b}}var l={};function m(c,p){if(c.dimension<=0)return{positions:[],cells:[]};if(c.dimension===1)return u(c,p);var h=c.order.join()+"-"+c.dtype,o=l[h],p=+p||0;return o||(o=l[h]=f(c.order,c.dtype)),o(c,p)}},529:function(v,d,r){v.exports=u;var t=r(4359),i=window||g.global||{},n=i.__TEXT_CACHE||{};i.__TEXT_CACHE={};function f(l){for(var m=l.cells,c=l.positions,A=new Float32Array(m.length*6),h=0,o=0,p=0;p<m.length;++p)for(var b=m[p],T=0;T<3;++T){var P=c[b[T]];A[h++]=P[0],A[h++]=P[1]+1.4,o=Math.max(P[0],o)}return{data:A,shape:o}}function u(l,m,A){var A=A||{},h=A.fontStyle||"normal",o=A.fontWeight||"normal",p=A.fontVariant||"normal",b=[h,o,p,l].join("_"),T=n[b];T||(T=n[b]={" ":{data:new Float32Array(0),shape:.2}});var P=T[m];if(!P)if(m.length<=1||!/\d/.test(m))P=T[m]=f(t(m,{triangles:!0,font:l,fontStyle:h,fontWeight:o,fontVariant:p,textAlign:A.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var x=m.split(/(\d|\s)/),L=new Array(x.length),M=0,s=0,E=0;E<x.length;++E)L[E]=u(l,x[E]),M+=L[E].data.length,s+=L[E].shape,E>0&&(s+=.02);for(var w=new Float32Array(M),O=0,_=-.5*s,E=0;E<L.length;++E){for(var U=L[E].data,z=0;z<U.length;z+=2)w[O++]=U[z]+_,w[O++]=U[z+1];_+=L[E].shape+.02}P=T[m]={data:w,shape:s}}return P}},665:function(v,d,r){var t=r(3202);v.exports=u;var i=96;function n(l,m){var c=t(getComputedStyle(l).getPropertyValue(m));return c[0]*u(c[1],l)}function f(l,m){var c=document.createElement("div");c.style["font-size"]="128"+l,m.appendChild(c);var A=n(c,"font-size")/128;return m.removeChild(c),A}function u(l,m){switch(m=m||document.body,l=(l||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),l){case"%":return m.clientHeight/100;case"ch":case"ex":return f(l,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},7261:function(v,d,r){v.exports=b;var t=r(9215),i=r(7608),n=r(6079),f=r(5911),u=r(3536),l=r(244);function m(T,P,x){return Math.sqrt(Math.pow(T,2)+Math.pow(P,2)+Math.pow(x,2))}function c(T){return Math.min(1,Math.max(-1,T))}function A(T){var P=Math.abs(T[0]),x=Math.abs(T[1]),L=Math.abs(T[2]),M=[0,0,0];P>Math.max(x,L)?M[2]=1:x>Math.max(P,L)?M[0]=1:M[1]=1;for(var s=0,E=0,w=0;w<3;++w)s+=T[w]*T[w],E+=M[w]*T[w];for(var w=0;w<3;++w)M[w]-=E/s*T[w];return u(M,M),M}function h(T,P,x,L,M,s,E,w){this.center=t(x),this.up=t(L),this.right=t(M),this.radius=t([s]),this.angle=t([E,w]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(T,P),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var O=0;O<16;++O)this.computedMatrix[O]=.5;this.recalcMatrix(0)}var o=h.prototype;o.setDistanceLimits=function(T,P){T>0?T=Math.log(T):T=-1/0,P>0?P=Math.log(P):P=1/0,P=Math.max(P,T),this.radius.bounds[0][0]=T,this.radius.bounds[1][0]=P},o.getDistanceLimits=function(T){var P=this.radius.bounds[0];return T?(T[0]=Math.exp(P[0][0]),T[1]=Math.exp(P[1][0]),T):[Math.exp(P[0][0]),Math.exp(P[1][0])]},o.recalcMatrix=function(T){this.center.curve(T),this.up.curve(T),this.right.curve(T),this.radius.curve(T),this.angle.curve(T);for(var P=this.computedUp,x=this.computedRight,L=0,M=0,s=0;s<3;++s)M+=P[s]*x[s],L+=P[s]*P[s];for(var E=Math.sqrt(L),w=0,s=0;s<3;++s)x[s]-=P[s]*M/L,w+=x[s]*x[s],P[s]/=E;for(var O=Math.sqrt(w),s=0;s<3;++s)x[s]/=O;var _=this.computedToward;f(_,P,x),u(_,_);for(var U=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],F=this.computedAngle[1],B=Math.cos(z),N=Math.sin(z),V=Math.cos(F),X=Math.sin(F),q=this.computedCenter,te=B*V,ne=N*V,ce=X,Q=-B*X,Z=-N*X,re=V,Y=this.computedEye,oe=this.computedMatrix,s=0;s<3;++s){var ue=te*x[s]+ne*_[s]+ce*P[s];oe[4*s+1]=Q*x[s]+Z*_[s]+re*P[s],oe[4*s+2]=ue,oe[4*s+3]=0}var K=oe[1],$=oe[5],le=oe[9],ae=oe[2],he=oe[6],xe=oe[10],Me=$*xe-le*he,Ae=le*ae-K*xe,ke=K*he-$*ae,we=m(Me,Ae,ke);Me/=we,Ae/=we,ke/=we,oe[0]=Me,oe[4]=Ae,oe[8]=ke;for(var s=0;s<3;++s)Y[s]=q[s]+oe[2+4*s]*U;for(var s=0;s<3;++s){for(var w=0,Ee=0;Ee<3;++Ee)w+=oe[s+4*Ee]*Y[Ee];oe[12+s]=-w}oe[15]=1},o.getMatrix=function(T,P){this.recalcMatrix(T);var x=this.computedMatrix;if(P){for(var L=0;L<16;++L)P[L]=x[L];return P}return x};var p=[0,0,0];o.rotate=function(T,P,x,L){if(this.angle.move(T,P,x),L){this.recalcMatrix(T);var M=this.computedMatrix;p[0]=M[2],p[1]=M[6],p[2]=M[10];for(var s=this.computedUp,E=this.computedRight,w=this.computedToward,O=0;O<3;++O)M[4*O]=s[O],M[4*O+1]=E[O],M[4*O+2]=w[O];n(M,M,L,p);for(var O=0;O<3;++O)s[O]=M[4*O],E[O]=M[4*O+1];this.up.set(T,s[0],s[1],s[2]),this.right.set(T,E[0],E[1],E[2])}},o.pan=function(T,P,x,L){P=P||0,x=x||0,L=L||0,this.recalcMatrix(T);var M=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=M[1],E=M[5],w=M[9],O=m(s,E,w);s/=O,E/=O,w/=O;var _=M[0],U=M[4],z=M[8],F=_*s+U*E+z*w;_-=s*F,U-=E*F,z-=w*F;var B=m(_,U,z);_/=B,U/=B,z/=B;var N=_*P+s*x,V=U*P+E*x,X=z*P+w*x;this.center.move(T,N,V,X);var q=Math.exp(this.computedRadius[0]);q=Math.max(1e-4,q+L),this.radius.set(T,Math.log(q))},o.translate=function(T,P,x,L){this.center.move(T,P||0,x||0,L||0)},o.setMatrix=function(T,P,x,L){var M=1;typeof x=="number"&&(M=x|0),(M<0||M>3)&&(M=1);var s=(M+2)%3;P||(this.recalcMatrix(T),P=this.computedMatrix);var E=P[M],w=P[M+4],O=P[M+8];if(L){var U=Math.abs(E),z=Math.abs(w),F=Math.abs(O),B=Math.max(U,z,F);U===B?(E=E<0?-1:1,w=O=0):F===B?(O=O<0?-1:1,E=w=0):(w=w<0?-1:1,E=O=0)}else{var _=m(E,w,O);E/=_,w/=_,O/=_}var N=P[s],V=P[s+4],X=P[s+8],q=N*E+V*w+X*O;N-=E*q,V-=w*q,X-=O*q;var te=m(N,V,X);N/=te,V/=te,X/=te;var ne=w*X-O*V,ce=O*N-E*X,Q=E*V-w*N,Z=m(ne,ce,Q);ne/=Z,ce/=Z,Q/=Z,this.center.jump(T,Ve,Fe,He),this.radius.idle(T),this.up.jump(T,E,w,O),this.right.jump(T,N,V,X);var re,Y;if(M===2){var oe=P[1],ue=P[5],K=P[9],$=oe*N+ue*V+K*X,le=oe*ne+ue*ce+K*Q;Me<0?re=-Math.PI/2:re=Math.PI/2,Y=Math.atan2(le,$)}else{var ae=P[2],he=P[6],xe=P[10],Me=ae*E+he*w+xe*O,Ae=ae*N+he*V+xe*X,ke=ae*ne+he*ce+xe*Q;re=Math.asin(c(Me)),Y=Math.atan2(ke,Ae)}this.angle.jump(T,Y,re),this.recalcMatrix(T);var we=P[2],Ee=P[6],be=P[10],Le=this.computedMatrix;i(Le,P);var Ue=Le[15],Ve=Le[12]/Ue,Fe=Le[13]/Ue,He=Le[14]/Ue,st=Math.exp(this.computedRadius[0]);this.center.jump(T,Ve-we*st,Fe-Ee*st,He-be*st)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(T){this.center.idle(T),this.up.idle(T),this.right.idle(T),this.radius.idle(T),this.angle.idle(T)},o.flush=function(T){this.center.flush(T),this.up.flush(T),this.right.flush(T),this.radius.flush(T),this.angle.flush(T)},o.setDistance=function(T,P){P>0&&this.radius.set(T,Math.log(P))},o.lookAt=function(T,P,x,L){this.recalcMatrix(T),P=P||this.computedEye,x=x||this.computedCenter,L=L||this.computedUp;var M=L[0],s=L[1],E=L[2],w=m(M,s,E);if(!(w<1e-6)){M/=w,s/=w,E/=w;var O=P[0]-x[0],_=P[1]-x[1],U=P[2]-x[2],z=m(O,_,U);if(!(z<1e-6)){O/=z,_/=z,U/=z;var F=this.computedRight,B=F[0],N=F[1],V=F[2],X=M*B+s*N+E*V;B-=X*M,N-=X*s,V-=X*E;var q=m(B,N,V);if(!(q<.01&&(B=s*U-E*_,N=E*O-M*U,V=M*_-s*O,q=m(B,N,V),q<1e-6))){B/=q,N/=q,V/=q,this.up.set(T,M,s,E),this.right.set(T,B,N,V),this.center.set(T,x[0],x[1],x[2]),this.radius.set(T,Math.log(z));var te=s*V-E*N,ne=E*B-M*V,ce=M*N-s*B,Q=m(te,ne,ce);te/=Q,ne/=Q,ce/=Q;var Z=M*O+s*_+E*U,re=B*O+N*_+V*U,Y=te*O+ne*_+ce*U,oe=Math.asin(c(Z)),ue=Math.atan2(Y,re),K=this.angle._state,$=K[K.length-1],le=K[K.length-2];$=$%(2*Math.PI);var ae=Math.abs($+2*Math.PI-ue),he=Math.abs($-ue),xe=Math.abs($-2*Math.PI-ue);ae<he&&($+=2*Math.PI),xe<he&&($-=2*Math.PI),this.angle.jump(this.angle.lastT(),$,le),this.angle.set(T,ue,oe)}}}};function b(T){T=T||{};var P=T.center||[0,0,0],x=T.up||[0,1,0],L=T.right||A(x),M=T.radius||1,s=T.theta||0,E=T.phi||0;if(P=[].slice.call(P,0,3),x=[].slice.call(x,0,3),u(x,x),L=[].slice.call(L,0,3),u(L,L),"eye"in T){var w=T.eye,O=[w[0]-P[0],w[1]-P[1],w[2]-P[2]];f(L,O,x),m(L[0],L[1],L[2])<1e-6?L=A(x):u(L,L),M=m(O[0],O[1],O[2]);var _=l(x,O)/M,U=l(L,O)/M;E=Math.acos(_),s=Math.acos(U)}return M=Math.log(M),new h(T.zoomMin,T.zoomMax,P,x,L,M,s,E)}},5250:function(v){v.exports=r;var d=+(Math.pow(2,27)+1);function r(t,i,n){var f=t*i,u=d*t,l=u-t,m=u-l,c=t-m,A=d*i,h=A-i,o=A-h,p=i-o,b=f-m*o,T=b-c*o,P=T-m*p,x=c*p-P;return n?(n[0]=x,n[1]=f,n):[x,f]}},9362:function(v){v.exports=d;function d(r,t,i){var n=r+t,f=n-r,u=n-f,l=t-f,m=r-u;return i?(i[0]=m+l,i[1]=n,i):[m+l,n]}},1888:function(v,d,r){var t=r(8828),i=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var f=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",m=r.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=i([32,0])),m.BIGUINT64||(m.BIGUINT64=i([32,0])),m.BIGINT64||(m.BIGINT64=i([32,0])),m.BUFFER||(m.BUFFER=i([32,0]));var c=m.DATA,A=m.BUFFER;d.free=function(B){if(n.isBuffer(B))A[t.log2(B.length)].push(B);else{if(Object.prototype.toString.call(B)!=="[object ArrayBuffer]"&&(B=B.buffer),!B)return;var N=B.length||B.byteLength,V=t.log2(N)|0;c[V].push(B)}};function h(F){if(F){var B=F.length||F.byteLength,N=t.log2(B);c[N].push(F)}}function o(F){h(F.buffer)}d.freeUint8=d.freeUint16=d.freeUint32=d.freeBigUint64=d.freeInt8=d.freeInt16=d.freeInt32=d.freeBigInt64=d.freeFloat32=d.freeFloat=d.freeFloat64=d.freeDouble=d.freeUint8Clamped=d.freeDataView=o,d.freeArrayBuffer=h,d.freeBuffer=function(B){A[t.log2(B.length)].push(B)},d.malloc=function(B,N){if(N===void 0||N==="arraybuffer")return p(B);switch(N){case"uint8":return b(B);case"uint16":return T(B);case"uint32":return P(B);case"int8":return x(B);case"int16":return L(B);case"int32":return M(B);case"float":case"float32":return s(B);case"double":case"float64":return E(B);case"uint8_clamped":return w(B);case"bigint64":return _(B);case"biguint64":return O(B);case"buffer":return z(B);case"data":case"dataview":return U(B);default:return null}return null};function p(B){var B=t.nextPow2(B),N=t.log2(B),V=c[N];return V.length>0?V.pop():new ArrayBuffer(B)}d.mallocArrayBuffer=p;function b(F){return new Uint8Array(p(F),0,F)}d.mallocUint8=b;function T(F){return new Uint16Array(p(2*F),0,F)}d.mallocUint16=T;function P(F){return new Uint32Array(p(4*F),0,F)}d.mallocUint32=P;function x(F){return new Int8Array(p(F),0,F)}d.mallocInt8=x;function L(F){return new Int16Array(p(2*F),0,F)}d.mallocInt16=L;function M(F){return new Int32Array(p(4*F),0,F)}d.mallocInt32=M;function s(F){return new Float32Array(p(4*F),0,F)}d.mallocFloat32=d.mallocFloat=s;function E(F){return new Float64Array(p(8*F),0,F)}d.mallocFloat64=d.mallocDouble=E;function w(F){return f?new Uint8ClampedArray(p(F),0,F):b(F)}d.mallocUint8Clamped=w;function O(F){return u?new BigUint64Array(p(8*F),0,F):null}d.mallocBigUint64=O;function _(F){return l?new BigInt64Array(p(8*F),0,F):null}d.mallocBigInt64=_;function U(F){return new DataView(p(F),0,F)}d.mallocDataView=U;function z(F){F=t.nextPow2(F);var B=t.log2(F),N=A[B];return N.length>0?N.pop():new n(F)}d.mallocBuffer=z,d.clearCache=function(){for(var B=0;B<32;++B)m.UINT8[B].length=0,m.UINT16[B].length=0,m.UINT32[B].length=0,m.INT8[B].length=0,m.INT16[B].length=0,m.INT32[B].length=0,m.FLOAT[B].length=0,m.DOUBLE[B].length=0,m.BIGUINT64[B].length=0,m.BIGINT64[B].length=0,m.UINT8C[B].length=0,c[B].length=0,A[B].length=0}},1755:function(v){"use restrict";v.exports=d;function d(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}var r=d.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var i=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[i]!==t;){var f=n[i];n[i]=t,i=f}return t},r.link=function(t,i){var n=this.find(t),f=this.find(i);if(n!==f){var u=this.ranks,l=this.roots,m=u[n],c=u[f];m<c?l[n]=f:c<m?l[f]=n:(l[f]=n,++u[n])}}},1682:function(v){function d(i,n){for(var f=1,u=i.length,l=i[0],m=i[0],c=1;c<u;++c)if(m=l,l=i[c],n(l,m)){if(c===f){f++;continue}i[f++]=l}return i.length=f,i}function r(i){for(var n=1,f=i.length,u=i[0],l=i[0],m=1;m<f;++m,l=u)if(l=u,u=i[m],u!==l){if(m===n){n++;continue}i[n++]=u}return i.length=n,i}function t(i,n,f){return i.length===0?i:n?(f||i.sort(n),d(i,n)):(f||i.sort(),r(i))}v.exports=t},4359:function(v,d,r){v.exports=f;var t=r(7718),i=null,n=null;typeof document<"u"&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,n=i.getContext("2d"));function f(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||i,l.context||n,l)}},7718:function(v,d,r){v.exports=_,v.exports.processPixels=O;var t=r(3711),i=r(9618),n=r(5878),f=r(332),u=r(2538),l=r(2095),m="b",c="b|",A="i",h="i|",o="sup",p="+",b="+1",T="sub",P="-",x="-1";function L(U,z,F,B){for(var N="<"+U+">",V="</"+U+">",X=N.length,q=V.length,te=z[0]===p||z[0]===P,ne=0,ce=-q;ne>-1&&(ne=F.indexOf(N,ne),!(ne===-1||(ce=F.indexOf(V,ne+X),ce===-1)||ce<=ne));){for(var Q=ne;Q<ce+q;++Q)if(Q<ne+X||Q>=ce)B[Q]=null,F=F.substr(0,Q)+" "+F.substr(Q+1);else if(B[Q]!==null){var Z=B[Q].indexOf(z[0]);Z===-1?B[Q]+=z:te&&(B[Q]=B[Q].substr(0,Z+1)+(1+parseInt(B[Q][Z+1]))+B[Q].substr(Z+2))}var re=ne+X,Y=F.substr(re,ce-re),oe=Y.indexOf(N);oe!==-1?ne=oe:ne=ce+q}return B}function M(U,z,F){for(var B=z.textAlign||"start",N=z.textBaseline||"alphabetic",V=[1<<30,1<<30],X=[0,0],q=U.length,te=0;te<q;++te)for(var ne=U[te],ce=0;ce<2;++ce)V[ce]=Math.min(V[ce],ne[ce])|0,X[ce]=Math.max(X[ce],ne[ce])|0;var Q=0;switch(B){case"center":Q=-.5*(V[0]+X[0]);break;case"right":case"end":Q=-X[0];break;case"left":case"start":Q=-V[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var Z=0;switch(N){case"hanging":case"top":Z=-V[1];break;case"middle":Z=-.5*(V[1]+X[1]);break;case"alphabetic":case"ideographic":Z=-3*F;break;case"bottom":Z=-X[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+N+"'")}var re=1/F;return"lineHeight"in z?re*=+z.lineHeight:"width"in z?re=z.width/(X[0]-V[0]):"height"in z&&(re=z.height/(X[1]-V[1])),U.map(function(Y){return[re*(Y[0]+Q),re*(Y[1]+Z)]})}function s(U,z,F,B,N,V){F=F.replace(/\n/g,""),V.breaklines===!0?F=F.replace(/\<br\>/g,`
`):F=F.replace(/\<br\>/g," ");var X="",q=[];for($=0;$<F.length;++$)q[$]=X;V.bolds===!0&&(q=L(m,c,F,q)),V.italics===!0&&(q=L(A,h,F,q)),V.superscripts===!0&&(q=L(o,b,F,q)),V.subscripts===!0&&(q=L(T,x,F,q));var te=[],ne="";for($=0;$<F.length;++$)q[$]!==null&&(ne+=F[$],te.push(q[$]));var ce=ne.split(`
`),Q=ce.length,Z=Math.round(N*B),re=B,Y=B*2,oe=0,ue=Q*Z+Y;U.height<ue&&(U.height=ue),z.fillStyle="#000",z.fillRect(0,0,U.width,U.height),z.fillStyle="#fff";var K,$,le,ae,he,xe=0,Me="";function Ae(){if(Me!==""){var He=z.measureText(Me).width;z.fillText(Me,re+le,Y+ae),le+=He}}function ke(){return""+Math.round(he)+"px "}function we(He,st){var vt=""+z.font;if(V.subscripts===!0){var lt=He.indexOf(P),et=st.indexOf(P),ct=lt>-1?parseInt(He[1+lt]):0,ht=et>-1?parseInt(st[1+et]):0;ct!==ht&&(vt=vt.replace(ke(),"?px "),he*=Math.pow(.75,ht-ct),vt=vt.replace("?px ",ke())),ae+=.25*Z*(ht-ct)}if(V.superscripts===!0){var mt=He.indexOf(p),xt=st.indexOf(p),Mt=mt>-1?parseInt(He[1+mt]):0,tt=xt>-1?parseInt(st[1+xt]):0;Mt!==tt&&(vt=vt.replace(ke(),"?px "),he*=Math.pow(.75,tt-Mt),vt=vt.replace("?px ",ke())),ae-=.25*Z*(tt-Mt)}if(V.bolds===!0){var Oe=He.indexOf(c)>-1,Ye=st.indexOf(c)>-1;!Oe&&Ye&&(Ze?vt=vt.replace("italic ","italic bold "):vt="bold "+vt),Oe&&!Ye&&(vt=vt.replace("bold ",""))}if(V.italics===!0){var Ze=He.indexOf(h)>-1,We=st.indexOf(h)>-1;!Ze&&We&&(vt="italic "+vt),Ze&&!We&&(vt=vt.replace("italic ",""))}z.font=vt}for(K=0;K<Q;++K){var Ee=ce[K]+`
`;for(le=0,ae=K*Z,he=B,Me="",$=0;$<Ee.length;++$){var be=$+xe<te.length?te[$+xe]:te[te.length-1];X===be?Me+=Ee[$]:(Ae(),Me=Ee[$],be!==void 0&&(we(X,be),X=be))}Ae(),xe+=Ee.length;var Le=Math.round(le+2*re)|0;oe<Le&&(oe=Le)}var Ue=oe,Ve=Y+Z*Q,Fe=i(z.getImageData(0,0,Ue,Ve).data,[Ve,Ue,4]);return Fe.pick(-1,-1,0).transpose(1,0)}function E(U,z){var F=t(U,128);return z?n(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function w(U,z,F,B){var N=E(U,B),V=M(N.positions,z,F),X=N.edges,q=z.orientation==="ccw";if(f(V,X),z.polygons||z.polygon||z.polyline){for(var te=l(X,V),ne=new Array(te.length),ce=0;ce<te.length;++ce){for(var Q=te[ce],Z=new Array(Q.length),re=0;re<Q.length;++re){for(var Y=Q[re],oe=new Array(Y.length),ue=0;ue<Y.length;++ue)oe[ue]=V[Y[ue]].slice();q&&oe.reverse(),Z[re]=oe}ne[ce]=Z}return ne}else return z.triangles||z.triangulate||z.triangle?{cells:u(V,X,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:X,positions:V}}function O(U,z,F){try{return w(U,z,F,!0)}catch{}try{return w(U,z,F,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(U,z,F,B){var N=64,V=1.25,X={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};B&&(B.size&&B.size>0&&(N=B.size),B.lineSpacing&&B.lineSpacing>0&&(V=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(X.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(X.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(X.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(X.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(X.superscripts=!!B.styletags.superscripts)),F.font=[B.fontStyle,B.fontVariant,B.fontWeight,N+"px",B.font].filter(function(te){return te}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr";var q=s(z,F,U,N,V,X);return O(q,B,N)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(E){E.permitHostObjects___&&E.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new i,f=Object.freeze({});if(n.set(f,1),n.get(f)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,m=Object.isExtensible,c="weakmap:",A=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),o=new Uint8Array(h);crypto.getRandomValues(o),A=c+"rand:"+Array.prototype.map.call(o,function(E){return(E%36).toString(36)}).join("")+"___"}function p(E){return!(E.substr(0,c.length)==c&&E.substr(E.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(w){return u(w).filter(p)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(w){return b(w).filter(p)}})}function T(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var w=E[A];if(w&&w.key===E)return w;if(m(E)){w={key:E};try{return l(E,A,{value:w,writable:!1,enumerable:!1,configurable:!1}),w}catch{return}}}(function(){var E=Object.freeze;l(Object,"freeze",{value:function(U){return T(U),E(U)}});var w=Object.seal;l(Object,"seal",{value:function(U){return T(U),w(U)}});var O=Object.preventExtensions;l(Object,"preventExtensions",{value:function(U){return T(U),O(U)}})})();function P(E){return E.prototype=null,Object.freeze(E)}var x=!1;function L(){!x&&typeof console<"u"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var M=0,s=function(){this instanceof s||L();var E=[],w=[],O=M++;function _(B,N){var V,X=T(B);return X?O in X?X[O]:N:(V=E.indexOf(B),V>=0?w[V]:N)}function U(B){var N=T(B);return N?O in N:E.indexOf(B)>=0}function z(B,N){var V,X=T(B);return X?X[O]=N:(V=E.indexOf(B),V>=0?w[V]=N:(V=E.length,w[V]=N,E[V]=B)),this}function F(B){var N=T(B),V,X;return N?O in N&&delete N[O]:(V=E.indexOf(B),V<0?!1:(X=E.length-1,E[V]=void 0,w[V]=w[X],E[V]=E[X],E.length=X,w.length=X,!0))}return Object.create(s.prototype,{get___:{value:P(_)},has___:{value:P(U)},set___:{value:P(z)},delete___:{value:P(F)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(w,O){return this.get___(w,O)},writable:!0,configurable:!0},has:{value:function(w){return this.has___(w)},writable:!0,configurable:!0},set:{value:function(w,O){return this.set___(w,O)},writable:!0,configurable:!0},delete:{value:function(w){return this.delete___(w)},writable:!0,configurable:!0}}),typeof i=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof s||L();var w=new i,O=void 0,_=!1;function U(N,V){return O?w.has(N)?w.get(N):O.get___(N,V):w.get(N,V)}function z(N){return w.has(N)||(O?O.has___(N):!1)}var F;t?F=function(N,V){return w.set(N,V),w.has(N)||(O||(O=new s),O.set(N,V)),this}:F=function(N,V){if(_)try{w.set(N,V)}catch{O||(O=new s),O.set___(N,V)}else w.set(N,V);return this};function B(N){var V=!!w.delete(N);return O&&O.delete___(N)||V}return Object.create(s.prototype,{get___:{value:P(U)},has___:{value:P(z)},set___:{value:P(F)},delete___:{value:P(B)},permitHostObjects___:{value:P(function(N){if(N===r)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=s.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},236:function(v,d,r){var t=r(8284);v.exports=i;function i(){var n={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var u=f.valueOf(n);return u&&u.identity===n?u:t(f,n)}}},8284:function(v){v.exports=d;function d(r,t){var i={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==t?n.apply(this,arguments):i},writable:!0}),i}},606:function(v,d,r){var t=r(236);v.exports=i;function i(){var n=t();return{get:function(f,u){var l=n(f);return l.hasOwnProperty("value")?l.value:u},set:function(f,u){return n(f).value=u,this},has:function(f){return"value"in n(f)},delete:function(f){return delete n(f).value}}}},3349:function(v){function d(){return function(u,l,m,c,A,h){var o=u[0],p=m[0],b=[0],T=p;c|=0;var P=0,x=p;for(P=0;P<o;++P){{var L=l[c]-h,M=l[c+T]-h;L>=0!=M>=0&&A.push(b[0]+.5+.5*(L+M)/(L-M))}c+=x,++b[0]}}}function r(){return d()}var t=r;function i(u){var l={};return function(c,A,h){var o=c.dtype,p=c.order,b=[o,p.join()].join(),T=l[b];return T||(l[b]=T=u([o,p])),T(c.shape.slice(0),c.data,c.stride,c.offset|0,A,h)}}function n(u){return i(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"zeroCrossings"})},781:function(v,d,r){v.exports=i;var t=r(3349);function i(n,f){var u=[];return f=+f||0,t(n.hi(n.shape[0]-1),u,f),u}},7790:function(){}},a={};function C(v){var d=a[v];if(d!==void 0)return d.exports;var r=a[v]={id:v,loaded:!1,exports:{}};return R[v].call(r.exports,r,r.exports,C),r.loaded=!0,r.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var S=C(1964);H.exports=S})()},33576:function(H,G,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(tt,Oe){if(!(tt instanceof Oe))throw new TypeError("Cannot call a class as a function")}function R(tt,Oe){for(var Ye=0;Ye<Oe.length;Ye++){var Ze=Oe[Ye];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(tt,C(Ze.key),Ze)}}function a(tt,Oe,Ye){return Oe&&R(tt.prototype,Oe),Ye&&R(tt,Ye),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function C(tt){var Oe=S(tt,"string");return f(Oe)==="symbol"?Oe:String(Oe)}function S(tt,Oe){if(f(tt)!=="object"||tt===null)return tt;var Ye=tt[Symbol.toPrimitive];if(Ye!==void 0){var Ze=Ye.call(tt,Oe||"default");if(f(Ze)!=="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Oe==="string"?String:Number)(tt)}function v(tt,Oe,Ye){function Ze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Oe=r(Oe),d(tt,Ze()?Reflect.construct(Oe,Ye||[],r(tt).constructor):Oe.apply(tt,Ye))}function d(tt,Oe){if(Oe&&(f(Oe)==="object"||typeof Oe=="function"))return Oe;if(Oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(tt)}function r(tt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ye){return Ye.__proto__||Object.getPrototypeOf(Ye)},r(tt)}function t(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function i(tt,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),Oe&&n(tt,Oe)}function n(tt,Oe){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ze,We){return Ze.__proto__=We,Ze},n(tt,Oe)}function f(tt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},f(tt)}var u=e(59968),l=e(35984),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;G.Buffer=o,G.SlowBuffer=O,G.INSPECT_MAX_BYTES=50;var c=2147483647;G.kMaxLength=c,o.TYPED_ARRAY_SUPPORT=A(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A(){try{var tt=new Uint8Array(1),Oe={foo:function(){return 42}};return Object.setPrototypeOf(Oe,Uint8Array.prototype),Object.setPrototypeOf(tt,Oe),tt.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function h(tt){if(tt>c)throw new RangeError('The value "'+tt+'" is invalid for option "size"');var Oe=new Uint8Array(tt);return Object.setPrototypeOf(Oe,o.prototype),Oe}function o(tt,Oe,Ye){if(typeof tt=="number"){if(typeof Oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(tt)}return p(tt,Oe,Ye)}o.poolSize=8192;function p(tt,Oe,Ye){if(typeof tt=="string")return x(tt,Oe);if(ArrayBuffer.isView(tt))return M(tt);if(tt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(tt));if(ct(tt,ArrayBuffer)||tt&&ct(tt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ct(tt,SharedArrayBuffer)||tt&&ct(tt.buffer,SharedArrayBuffer)))return s(tt,Oe,Ye);if(typeof tt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ze=tt.valueOf&&tt.valueOf();if(Ze!=null&&Ze!==tt)return o.from(Ze,Oe,Ye);var We=E(tt);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof tt[Symbol.toPrimitive]=="function")return o.from(tt[Symbol.toPrimitive]("string"),Oe,Ye);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(tt))}o.from=function(tt,Oe,Ye){return p(tt,Oe,Ye)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function b(tt){if(typeof tt!="number")throw new TypeError('"size" argument must be of type number');if(tt<0)throw new RangeError('The value "'+tt+'" is invalid for option "size"')}function T(tt,Oe,Ye){return b(tt),tt<=0?h(tt):Oe!==void 0?typeof Ye=="string"?h(tt).fill(Oe,Ye):h(tt).fill(Oe):h(tt)}o.alloc=function(tt,Oe,Ye){return T(tt,Oe,Ye)};function P(tt){return b(tt),h(tt<0?0:w(tt)|0)}o.allocUnsafe=function(tt){return P(tt)},o.allocUnsafeSlow=function(tt){return P(tt)};function x(tt,Oe){if((typeof Oe!="string"||Oe==="")&&(Oe="utf8"),!o.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);var Ye=_(tt,Oe)|0,Ze=h(Ye),We=Ze.write(tt,Oe);return We!==Ye&&(Ze=Ze.slice(0,We)),Ze}function L(tt){for(var Oe=tt.length<0?0:w(tt.length)|0,Ye=h(Oe),Ze=0;Ze<Oe;Ze+=1)Ye[Ze]=tt[Ze]&255;return Ye}function M(tt){if(ct(tt,Uint8Array)){var Oe=new Uint8Array(tt);return s(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return L(tt)}function s(tt,Oe,Ye){if(Oe<0||tt.byteLength<Oe)throw new RangeError('"offset" is outside of buffer bounds');if(tt.byteLength<Oe+(Ye||0))throw new RangeError('"length" is outside of buffer bounds');var Ze;return Oe===void 0&&Ye===void 0?Ze=new Uint8Array(tt):Ye===void 0?Ze=new Uint8Array(tt,Oe):Ze=new Uint8Array(tt,Oe,Ye),Object.setPrototypeOf(Ze,o.prototype),Ze}function E(tt){if(o.isBuffer(tt)){var Oe=w(tt.length)|0,Ye=h(Oe);return Ye.length===0||tt.copy(Ye,0,0,Oe),Ye}if(tt.length!==void 0)return typeof tt.length!="number"||ht(tt.length)?h(0):L(tt);if(tt.type==="Buffer"&&Array.isArray(tt.data))return L(tt.data)}function w(tt){if(tt>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return tt|0}function O(tt){return+tt!=tt&&(tt=0),o.alloc(+tt)}o.isBuffer=function(Oe){return Oe!=null&&Oe._isBuffer===!0&&Oe!==o.prototype},o.compare=function(Oe,Ye){if(ct(Oe,Uint8Array)&&(Oe=o.from(Oe,Oe.offset,Oe.byteLength)),ct(Ye,Uint8Array)&&(Ye=o.from(Ye,Ye.offset,Ye.byteLength)),!o.isBuffer(Oe)||!o.isBuffer(Ye))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Oe===Ye)return 0;for(var Ze=Oe.length,We=Ye.length,_e=0,Ie=Math.min(Ze,We);_e<Ie;++_e)if(Oe[_e]!==Ye[_e]){Ze=Oe[_e],We=Ye[_e];break}return Ze<We?-1:We<Ze?1:0},o.isEncoding=function(Oe){switch(String(Oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(Oe,Ye){if(!Array.isArray(Oe))throw new TypeError('"list" argument must be an Array of Buffers');if(Oe.length===0)return o.alloc(0);var Ze;if(Ye===void 0)for(Ye=0,Ze=0;Ze<Oe.length;++Ze)Ye+=Oe[Ze].length;var We=o.allocUnsafe(Ye),_e=0;for(Ze=0;Ze<Oe.length;++Ze){var Ie=Oe[Ze];if(ct(Ie,Uint8Array))_e+Ie.length>We.length?(o.isBuffer(Ie)||(Ie=o.from(Ie)),Ie.copy(We,_e)):Uint8Array.prototype.set.call(We,Ie,_e);else if(o.isBuffer(Ie))Ie.copy(We,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=Ie.length}return We};function _(tt,Oe){if(o.isBuffer(tt))return tt.length;if(ArrayBuffer.isView(tt)||ct(tt,ArrayBuffer))return tt.byteLength;if(typeof tt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(tt));var Ye=tt.length,Ze=arguments.length>2&&arguments[2]===!0;if(!Ze&&Ye===0)return 0;for(var We=!1;;)switch(Oe){case"ascii":case"latin1":case"binary":return Ye;case"utf8":case"utf-8":return He(tt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ye*2;case"hex":return Ye>>>1;case"base64":return lt(tt).length;default:if(We)return Ze?-1:He(tt).length;Oe=(""+Oe).toLowerCase(),We=!0}}o.byteLength=_;function U(tt,Oe,Ye){var Ze=!1;if((Oe===void 0||Oe<0)&&(Oe=0),Oe>this.length||((Ye===void 0||Ye>this.length)&&(Ye=this.length),Ye<=0)||(Ye>>>=0,Oe>>>=0,Ye<=Oe))return"";for(tt||(tt="utf8");;)switch(tt){case"hex":return oe(this,Oe,Ye);case"utf8":case"utf-8":return ce(this,Oe,Ye);case"ascii":return re(this,Oe,Ye);case"latin1":case"binary":return Y(this,Oe,Ye);case"base64":return ne(this,Oe,Ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,Oe,Ye);default:if(Ze)throw new TypeError("Unknown encoding: "+tt);tt=(tt+"").toLowerCase(),Ze=!0}}o.prototype._isBuffer=!0;function z(tt,Oe,Ye){var Ze=tt[Oe];tt[Oe]=tt[Ye],tt[Ye]=Ze}o.prototype.swap16=function(){var Oe=this.length;if(Oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ye=0;Ye<Oe;Ye+=2)z(this,Ye,Ye+1);return this},o.prototype.swap32=function(){var Oe=this.length;if(Oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ye=0;Ye<Oe;Ye+=4)z(this,Ye,Ye+3),z(this,Ye+1,Ye+2);return this},o.prototype.swap64=function(){var Oe=this.length;if(Oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ye=0;Ye<Oe;Ye+=8)z(this,Ye,Ye+7),z(this,Ye+1,Ye+6),z(this,Ye+2,Ye+5),z(this,Ye+3,Ye+4);return this},o.prototype.toString=function(){var Oe=this.length;return Oe===0?"":arguments.length===0?ce(this,0,Oe):U.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(Oe){if(!o.isBuffer(Oe))throw new TypeError("Argument must be a Buffer");return this===Oe?!0:o.compare(this,Oe)===0},o.prototype.inspect=function(){var Oe="",Ye=G.INSPECT_MAX_BYTES;return Oe=this.toString("hex",0,Ye).replace(/(.{2})/g,"$1 ").trim(),this.length>Ye&&(Oe+=" ... "),"<Buffer "+Oe+">"},m&&(o.prototype[m]=o.prototype.inspect),o.prototype.compare=function(Oe,Ye,Ze,We,_e){if(ct(Oe,Uint8Array)&&(Oe=o.from(Oe,Oe.offset,Oe.byteLength)),!o.isBuffer(Oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(Oe));if(Ye===void 0&&(Ye=0),Ze===void 0&&(Ze=Oe?Oe.length:0),We===void 0&&(We=0),_e===void 0&&(_e=this.length),Ye<0||Ze>Oe.length||We<0||_e>this.length)throw new RangeError("out of range index");if(We>=_e&&Ye>=Ze)return 0;if(We>=_e)return-1;if(Ye>=Ze)return 1;if(Ye>>>=0,Ze>>>=0,We>>>=0,_e>>>=0,this===Oe)return 0;for(var Ie=_e-We,Xe=Ze-Ye,De=Math.min(Ie,Xe),de=this.slice(We,_e),Te=Oe.slice(Ye,Ze),Be=0;Be<De;++Be)if(de[Be]!==Te[Be]){Ie=de[Be],Xe=Te[Be];break}return Ie<Xe?-1:Xe<Ie?1:0};function F(tt,Oe,Ye,Ze,We){if(tt.length===0)return-1;if(typeof Ye=="string"?(Ze=Ye,Ye=0):Ye>2147483647?Ye=2147483647:Ye<-2147483648&&(Ye=-2147483648),Ye=+Ye,ht(Ye)&&(Ye=We?0:tt.length-1),Ye<0&&(Ye=tt.length+Ye),Ye>=tt.length){if(We)return-1;Ye=tt.length-1}else if(Ye<0)if(We)Ye=0;else return-1;if(typeof Oe=="string"&&(Oe=o.from(Oe,Ze)),o.isBuffer(Oe))return Oe.length===0?-1:B(tt,Oe,Ye,Ze,We);if(typeof Oe=="number")return Oe=Oe&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(tt,Oe,Ye):Uint8Array.prototype.lastIndexOf.call(tt,Oe,Ye):B(tt,[Oe],Ye,Ze,We);throw new TypeError("val must be string, number or Buffer")}function B(tt,Oe,Ye,Ze,We){var _e=1,Ie=tt.length,Xe=Oe.length;if(Ze!==void 0&&(Ze=String(Ze).toLowerCase(),Ze==="ucs2"||Ze==="ucs-2"||Ze==="utf16le"||Ze==="utf-16le")){if(tt.length<2||Oe.length<2)return-1;_e=2,Ie/=2,Xe/=2,Ye/=2}function De(at,it){return _e===1?at[it]:at.readUInt16BE(it*_e)}var de;if(We){var Te=-1;for(de=Ye;de<Ie;de++)if(De(tt,de)===De(Oe,Te===-1?0:de-Te)){if(Te===-1&&(Te=de),de-Te+1===Xe)return Te*_e}else Te!==-1&&(de-=de-Te),Te=-1}else for(Ye+Xe>Ie&&(Ye=Ie-Xe),de=Ye;de>=0;de--){for(var Be=!0,Qe=0;Qe<Xe;Qe++)if(De(tt,de+Qe)!==De(Oe,Qe)){Be=!1;break}if(Be)return de}return-1}o.prototype.includes=function(Oe,Ye,Ze){return this.indexOf(Oe,Ye,Ze)!==-1},o.prototype.indexOf=function(Oe,Ye,Ze){return F(this,Oe,Ye,Ze,!0)},o.prototype.lastIndexOf=function(Oe,Ye,Ze){return F(this,Oe,Ye,Ze,!1)};function N(tt,Oe,Ye,Ze){Ye=Number(Ye)||0;var We=tt.length-Ye;Ze?(Ze=Number(Ze),Ze>We&&(Ze=We)):Ze=We;var _e=Oe.length;Ze>_e/2&&(Ze=_e/2);var Ie;for(Ie=0;Ie<Ze;++Ie){var Xe=parseInt(Oe.substr(Ie*2,2),16);if(ht(Xe))return Ie;tt[Ye+Ie]=Xe}return Ie}function V(tt,Oe,Ye,Ze){return et(He(Oe,tt.length-Ye),tt,Ye,Ze)}function X(tt,Oe,Ye,Ze){return et(st(Oe),tt,Ye,Ze)}function q(tt,Oe,Ye,Ze){return et(lt(Oe),tt,Ye,Ze)}function te(tt,Oe,Ye,Ze){return et(vt(Oe,tt.length-Ye),tt,Ye,Ze)}o.prototype.write=function(Oe,Ye,Ze,We){if(Ye===void 0)We="utf8",Ze=this.length,Ye=0;else if(Ze===void 0&&typeof Ye=="string")We=Ye,Ze=this.length,Ye=0;else if(isFinite(Ye))Ye=Ye>>>0,isFinite(Ze)?(Ze=Ze>>>0,We===void 0&&(We="utf8")):(We=Ze,Ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _e=this.length-Ye;if((Ze===void 0||Ze>_e)&&(Ze=_e),Oe.length>0&&(Ze<0||Ye<0)||Ye>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var Ie=!1;;)switch(We){case"hex":return N(this,Oe,Ye,Ze);case"utf8":case"utf-8":return V(this,Oe,Ye,Ze);case"ascii":case"latin1":case"binary":return X(this,Oe,Ye,Ze);case"base64":return q(this,Oe,Ye,Ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,Oe,Ye,Ze);default:if(Ie)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Ie=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(tt,Oe,Ye){return Oe===0&&Ye===tt.length?u.fromByteArray(tt):u.fromByteArray(tt.slice(Oe,Ye))}function ce(tt,Oe,Ye){Ye=Math.min(tt.length,Ye);for(var Ze=[],We=Oe;We<Ye;){var _e=tt[We],Ie=null,Xe=_e>239?4:_e>223?3:_e>191?2:1;if(We+Xe<=Ye){var De=void 0,de=void 0,Te=void 0,Be=void 0;switch(Xe){case 1:_e<128&&(Ie=_e);break;case 2:De=tt[We+1],(De&192)===128&&(Be=(_e&31)<<6|De&63,Be>127&&(Ie=Be));break;case 3:De=tt[We+1],de=tt[We+2],(De&192)===128&&(de&192)===128&&(Be=(_e&15)<<12|(De&63)<<6|de&63,Be>2047&&(Be<55296||Be>57343)&&(Ie=Be));break;case 4:De=tt[We+1],de=tt[We+2],Te=tt[We+3],(De&192)===128&&(de&192)===128&&(Te&192)===128&&(Be=(_e&15)<<18|(De&63)<<12|(de&63)<<6|Te&63,Be>65535&&Be<1114112&&(Ie=Be))}}Ie===null?(Ie=65533,Xe=1):Ie>65535&&(Ie-=65536,Ze.push(Ie>>>10&1023|55296),Ie=56320|Ie&1023),Ze.push(Ie),We+=Xe}return Z(Ze)}var Q=4096;function Z(tt){var Oe=tt.length;if(Oe<=Q)return String.fromCharCode.apply(String,tt);for(var Ye="",Ze=0;Ze<Oe;)Ye+=String.fromCharCode.apply(String,tt.slice(Ze,Ze+=Q));return Ye}function re(tt,Oe,Ye){var Ze="";Ye=Math.min(tt.length,Ye);for(var We=Oe;We<Ye;++We)Ze+=String.fromCharCode(tt[We]&127);return Ze}function Y(tt,Oe,Ye){var Ze="";Ye=Math.min(tt.length,Ye);for(var We=Oe;We<Ye;++We)Ze+=String.fromCharCode(tt[We]);return Ze}function oe(tt,Oe,Ye){var Ze=tt.length;(!Oe||Oe<0)&&(Oe=0),(!Ye||Ye<0||Ye>Ze)&&(Ye=Ze);for(var We="",_e=Oe;_e<Ye;++_e)We+=mt[tt[_e]];return We}function ue(tt,Oe,Ye){for(var Ze=tt.slice(Oe,Ye),We="",_e=0;_e<Ze.length-1;_e+=2)We+=String.fromCharCode(Ze[_e]+Ze[_e+1]*256);return We}o.prototype.slice=function(Oe,Ye){var Ze=this.length;Oe=~~Oe,Ye=Ye===void 0?Ze:~~Ye,Oe<0?(Oe+=Ze,Oe<0&&(Oe=0)):Oe>Ze&&(Oe=Ze),Ye<0?(Ye+=Ze,Ye<0&&(Ye=0)):Ye>Ze&&(Ye=Ze),Ye<Oe&&(Ye=Oe);var We=this.subarray(Oe,Ye);return Object.setPrototypeOf(We,o.prototype),We};function K(tt,Oe,Ye){if(tt%1!==0||tt<0)throw new RangeError("offset is not uint");if(tt+Oe>Ye)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(Oe,Ye,Ze){Oe=Oe>>>0,Ye=Ye>>>0,Ze||K(Oe,Ye,this.length);for(var We=this[Oe],_e=1,Ie=0;++Ie<Ye&&(_e*=256);)We+=this[Oe+Ie]*_e;return We},o.prototype.readUintBE=o.prototype.readUIntBE=function(Oe,Ye,Ze){Oe=Oe>>>0,Ye=Ye>>>0,Ze||K(Oe,Ye,this.length);for(var We=this[Oe+--Ye],_e=1;Ye>0&&(_e*=256);)We+=this[Oe+--Ye]*_e;return We},o.prototype.readUint8=o.prototype.readUInt8=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,1,this.length),this[Oe]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,2,this.length),this[Oe]|this[Oe+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,2,this.length),this[Oe]<<8|this[Oe+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,4,this.length),(this[Oe]|this[Oe+1]<<8|this[Oe+2]<<16)+this[Oe+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,4,this.length),this[Oe]*16777216+(this[Oe+1]<<16|this[Oe+2]<<8|this[Oe+3])},o.prototype.readBigUInt64LE=xt(function(Oe){Oe=Oe>>>0,Le(Oe,"offset");var Ye=this[Oe],Ze=this[Oe+7];(Ye===void 0||Ze===void 0)&&Ue(Oe,this.length-8);var We=Ye+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,24),_e=this[++Oe]+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+Ze*Math.pow(2,24);return BigInt(We)+(BigInt(_e)<<BigInt(32))}),o.prototype.readBigUInt64BE=xt(function(Oe){Oe=Oe>>>0,Le(Oe,"offset");var Ye=this[Oe],Ze=this[Oe+7];(Ye===void 0||Ze===void 0)&&Ue(Oe,this.length-8);var We=Ye*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+this[++Oe],_e=this[++Oe]*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+Ze;return(BigInt(We)<<BigInt(32))+BigInt(_e)}),o.prototype.readIntLE=function(Oe,Ye,Ze){Oe=Oe>>>0,Ye=Ye>>>0,Ze||K(Oe,Ye,this.length);for(var We=this[Oe],_e=1,Ie=0;++Ie<Ye&&(_e*=256);)We+=this[Oe+Ie]*_e;return _e*=128,We>=_e&&(We-=Math.pow(2,8*Ye)),We},o.prototype.readIntBE=function(Oe,Ye,Ze){Oe=Oe>>>0,Ye=Ye>>>0,Ze||K(Oe,Ye,this.length);for(var We=Ye,_e=1,Ie=this[Oe+--We];We>0&&(_e*=256);)Ie+=this[Oe+--We]*_e;return _e*=128,Ie>=_e&&(Ie-=Math.pow(2,8*Ye)),Ie},o.prototype.readInt8=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,1,this.length),this[Oe]&128?(255-this[Oe]+1)*-1:this[Oe]},o.prototype.readInt16LE=function(Oe,Ye){Oe=Oe>>>0,Ye||K(Oe,2,this.length);var Ze=this[Oe]|this[Oe+1]<<8;return Ze&32768?Ze|4294901760:Ze},o.prototype.readInt16BE=function(Oe,Ye){Oe=Oe>>>0,Ye||K(Oe,2,this.length);var Ze=this[Oe+1]|this[Oe]<<8;return Ze&32768?Ze|4294901760:Ze},o.prototype.readInt32LE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,4,this.length),this[Oe]|this[Oe+1]<<8|this[Oe+2]<<16|this[Oe+3]<<24},o.prototype.readInt32BE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,4,this.length),this[Oe]<<24|this[Oe+1]<<16|this[Oe+2]<<8|this[Oe+3]},o.prototype.readBigInt64LE=xt(function(Oe){Oe=Oe>>>0,Le(Oe,"offset");var Ye=this[Oe],Ze=this[Oe+7];(Ye===void 0||Ze===void 0)&&Ue(Oe,this.length-8);var We=this[Oe+4]+this[Oe+5]*Math.pow(2,8)+this[Oe+6]*Math.pow(2,16)+(Ze<<24);return(BigInt(We)<<BigInt(32))+BigInt(Ye+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,24))}),o.prototype.readBigInt64BE=xt(function(Oe){Oe=Oe>>>0,Le(Oe,"offset");var Ye=this[Oe],Ze=this[Oe+7];(Ye===void 0||Ze===void 0)&&Ue(Oe,this.length-8);var We=(Ye<<24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+this[++Oe];return(BigInt(We)<<BigInt(32))+BigInt(this[++Oe]*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+Ze)}),o.prototype.readFloatLE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,4,this.length),l.read(this,Oe,!0,23,4)},o.prototype.readFloatBE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,4,this.length),l.read(this,Oe,!1,23,4)},o.prototype.readDoubleLE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,8,this.length),l.read(this,Oe,!0,52,8)},o.prototype.readDoubleBE=function(Oe,Ye){return Oe=Oe>>>0,Ye||K(Oe,8,this.length),l.read(this,Oe,!1,52,8)};function $(tt,Oe,Ye,Ze,We,_e){if(!o.isBuffer(tt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Oe>We||Oe<_e)throw new RangeError('"value" argument is out of bounds');if(Ye+Ze>tt.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(Oe,Ye,Ze,We){if(Oe=+Oe,Ye=Ye>>>0,Ze=Ze>>>0,!We){var _e=Math.pow(2,8*Ze)-1;$(this,Oe,Ye,Ze,_e,0)}var Ie=1,Xe=0;for(this[Ye]=Oe&255;++Xe<Ze&&(Ie*=256);)this[Ye+Xe]=Oe/Ie&255;return Ye+Ze},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(Oe,Ye,Ze,We){if(Oe=+Oe,Ye=Ye>>>0,Ze=Ze>>>0,!We){var _e=Math.pow(2,8*Ze)-1;$(this,Oe,Ye,Ze,_e,0)}var Ie=Ze-1,Xe=1;for(this[Ye+Ie]=Oe&255;--Ie>=0&&(Xe*=256);)this[Ye+Ie]=Oe/Xe&255;return Ye+Ze},o.prototype.writeUint8=o.prototype.writeUInt8=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,1,255,0),this[Ye]=Oe&255,Ye+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,2,65535,0),this[Ye]=Oe&255,this[Ye+1]=Oe>>>8,Ye+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,2,65535,0),this[Ye]=Oe>>>8,this[Ye+1]=Oe&255,Ye+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,4,4294967295,0),this[Ye+3]=Oe>>>24,this[Ye+2]=Oe>>>16,this[Ye+1]=Oe>>>8,this[Ye]=Oe&255,Ye+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,4,4294967295,0),this[Ye]=Oe>>>24,this[Ye+1]=Oe>>>16,this[Ye+2]=Oe>>>8,this[Ye+3]=Oe&255,Ye+4};function le(tt,Oe,Ye,Ze,We){be(Oe,Ze,We,tt,Ye,7);var _e=Number(Oe&BigInt(4294967295));tt[Ye++]=_e,_e=_e>>8,tt[Ye++]=_e,_e=_e>>8,tt[Ye++]=_e,_e=_e>>8,tt[Ye++]=_e;var Ie=Number(Oe>>BigInt(32)&BigInt(4294967295));return tt[Ye++]=Ie,Ie=Ie>>8,tt[Ye++]=Ie,Ie=Ie>>8,tt[Ye++]=Ie,Ie=Ie>>8,tt[Ye++]=Ie,Ye}function ae(tt,Oe,Ye,Ze,We){be(Oe,Ze,We,tt,Ye,7);var _e=Number(Oe&BigInt(4294967295));tt[Ye+7]=_e,_e=_e>>8,tt[Ye+6]=_e,_e=_e>>8,tt[Ye+5]=_e,_e=_e>>8,tt[Ye+4]=_e;var Ie=Number(Oe>>BigInt(32)&BigInt(4294967295));return tt[Ye+3]=Ie,Ie=Ie>>8,tt[Ye+2]=Ie,Ie=Ie>>8,tt[Ye+1]=Ie,Ie=Ie>>8,tt[Ye]=Ie,Ye+8}o.prototype.writeBigUInt64LE=xt(function(Oe){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,Oe,Ye,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=xt(function(Oe){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,Oe,Ye,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(Oe,Ye,Ze,We){if(Oe=+Oe,Ye=Ye>>>0,!We){var _e=Math.pow(2,8*Ze-1);$(this,Oe,Ye,Ze,_e-1,-_e)}var Ie=0,Xe=1,De=0;for(this[Ye]=Oe&255;++Ie<Ze&&(Xe*=256);)Oe<0&&De===0&&this[Ye+Ie-1]!==0&&(De=1),this[Ye+Ie]=(Oe/Xe>>0)-De&255;return Ye+Ze},o.prototype.writeIntBE=function(Oe,Ye,Ze,We){if(Oe=+Oe,Ye=Ye>>>0,!We){var _e=Math.pow(2,8*Ze-1);$(this,Oe,Ye,Ze,_e-1,-_e)}var Ie=Ze-1,Xe=1,De=0;for(this[Ye+Ie]=Oe&255;--Ie>=0&&(Xe*=256);)Oe<0&&De===0&&this[Ye+Ie+1]!==0&&(De=1),this[Ye+Ie]=(Oe/Xe>>0)-De&255;return Ye+Ze},o.prototype.writeInt8=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,1,127,-128),Oe<0&&(Oe=255+Oe+1),this[Ye]=Oe&255,Ye+1},o.prototype.writeInt16LE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,2,32767,-32768),this[Ye]=Oe&255,this[Ye+1]=Oe>>>8,Ye+2},o.prototype.writeInt16BE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,2,32767,-32768),this[Ye]=Oe>>>8,this[Ye+1]=Oe&255,Ye+2},o.prototype.writeInt32LE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,4,2147483647,-2147483648),this[Ye]=Oe&255,this[Ye+1]=Oe>>>8,this[Ye+2]=Oe>>>16,this[Ye+3]=Oe>>>24,Ye+4},o.prototype.writeInt32BE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||$(this,Oe,Ye,4,2147483647,-2147483648),Oe<0&&(Oe=4294967295+Oe+1),this[Ye]=Oe>>>24,this[Ye+1]=Oe>>>16,this[Ye+2]=Oe>>>8,this[Ye+3]=Oe&255,Ye+4},o.prototype.writeBigInt64LE=xt(function(Oe){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,Oe,Ye,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=xt(function(Oe){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,Oe,Ye,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(tt,Oe,Ye,Ze,We,_e){if(Ye+Ze>tt.length)throw new RangeError("Index out of range");if(Ye<0)throw new RangeError("Index out of range")}function xe(tt,Oe,Ye,Ze,We){return Oe=+Oe,Ye=Ye>>>0,We||he(tt,Oe,Ye,4),l.write(tt,Oe,Ye,Ze,23,4),Ye+4}o.prototype.writeFloatLE=function(Oe,Ye,Ze){return xe(this,Oe,Ye,!0,Ze)},o.prototype.writeFloatBE=function(Oe,Ye,Ze){return xe(this,Oe,Ye,!1,Ze)};function Me(tt,Oe,Ye,Ze,We){return Oe=+Oe,Ye=Ye>>>0,We||he(tt,Oe,Ye,8),l.write(tt,Oe,Ye,Ze,52,8),Ye+8}o.prototype.writeDoubleLE=function(Oe,Ye,Ze){return Me(this,Oe,Ye,!0,Ze)},o.prototype.writeDoubleBE=function(Oe,Ye,Ze){return Me(this,Oe,Ye,!1,Ze)},o.prototype.copy=function(Oe,Ye,Ze,We){if(!o.isBuffer(Oe))throw new TypeError("argument should be a Buffer");if(Ze||(Ze=0),!We&&We!==0&&(We=this.length),Ye>=Oe.length&&(Ye=Oe.length),Ye||(Ye=0),We>0&&We<Ze&&(We=Ze),We===Ze||Oe.length===0||this.length===0)return 0;if(Ye<0)throw new RangeError("targetStart out of bounds");if(Ze<0||Ze>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),Oe.length-Ye<We-Ze&&(We=Oe.length-Ye+Ze);var _e=We-Ze;return this===Oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ye,Ze,We):Uint8Array.prototype.set.call(Oe,this.subarray(Ze,We),Ye),_e},o.prototype.fill=function(Oe,Ye,Ze,We){if(typeof Oe=="string"){if(typeof Ye=="string"?(We=Ye,Ye=0,Ze=this.length):typeof Ze=="string"&&(We=Ze,Ze=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!o.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(Oe.length===1){var _e=Oe.charCodeAt(0);(We==="utf8"&&_e<128||We==="latin1")&&(Oe=_e)}}else typeof Oe=="number"?Oe=Oe&255:typeof Oe=="boolean"&&(Oe=Number(Oe));if(Ye<0||this.length<Ye||this.length<Ze)throw new RangeError("Out of range index");if(Ze<=Ye)return this;Ye=Ye>>>0,Ze=Ze===void 0?this.length:Ze>>>0,Oe||(Oe=0);var Ie;if(typeof Oe=="number")for(Ie=Ye;Ie<Ze;++Ie)this[Ie]=Oe;else{var Xe=o.isBuffer(Oe)?Oe:o.from(Oe,We),De=Xe.length;if(De===0)throw new TypeError('The value "'+Oe+'" is invalid for argument "value"');for(Ie=0;Ie<Ze-Ye;++Ie)this[Ie+Ye]=Xe[Ie%De]}return this};var Ae={};function ke(tt,Oe,Ye){Ae[tt]=function(Ze){i(We,Ze);function We(){var _e;return g(this,We),_e=v(this,We),Object.defineProperty(t(_e),"message",{value:Oe.apply(t(_e),arguments),writable:!0,configurable:!0}),_e.name="".concat(_e.name," [").concat(tt,"]"),_e.stack,delete _e.name,_e}return a(We,[{key:"code",get:function(){return tt},set:function(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(tt,"]: ").concat(this.message)}}]),We}(Ye)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(tt){return tt?"".concat(tt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(tt,Oe){return'The "'.concat(tt,'" argument must be of type number. Received type ').concat(f(Oe))},TypeError),ke("ERR_OUT_OF_RANGE",function(tt,Oe,Ye){var Ze='The value of "'.concat(tt,'" is out of range.'),We=Ye;return Number.isInteger(Ye)&&Math.abs(Ye)>Math.pow(2,32)?We=we(String(Ye)):typeof Ye=="bigint"&&(We=String(Ye),(Ye>Math.pow(BigInt(2),BigInt(32))||Ye<-Math.pow(BigInt(2),BigInt(32)))&&(We=we(We)),We+="n"),Ze+=" It must be ".concat(Oe,". Received ").concat(We),Ze},RangeError);function we(tt){for(var Oe="",Ye=tt.length,Ze=tt[0]==="-"?1:0;Ye>=Ze+4;Ye-=3)Oe="_".concat(tt.slice(Ye-3,Ye)).concat(Oe);return"".concat(tt.slice(0,Ye)).concat(Oe)}function Ee(tt,Oe,Ye){Le(Oe,"offset"),(tt[Oe]===void 0||tt[Oe+Ye]===void 0)&&Ue(Oe,tt.length-(Ye+1))}function be(tt,Oe,Ye,Ze,We,_e){if(tt>Ye||tt<Oe){var Ie=typeof Oe=="bigint"?"n":"",Xe;throw _e>3?Oe===0||Oe===BigInt(0)?Xe=">= 0".concat(Ie," and < 2").concat(Ie," ** ").concat((_e+1)*8).concat(Ie):Xe=">= -(2".concat(Ie," ** ").concat((_e+1)*8-1).concat(Ie,") and < 2 ** ")+"".concat((_e+1)*8-1).concat(Ie):Xe=">= ".concat(Oe).concat(Ie," and <= ").concat(Ye).concat(Ie),new Ae.ERR_OUT_OF_RANGE("value",Xe,tt)}Ee(Ze,We,_e)}function Le(tt,Oe){if(typeof tt!="number")throw new Ae.ERR_INVALID_ARG_TYPE(Oe,"number",tt)}function Ue(tt,Oe,Ye){throw Math.floor(tt)!==tt?(Le(tt,Ye),new Ae.ERR_OUT_OF_RANGE(Ye||"offset","an integer",tt)):Oe<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(Ye||"offset",">= ".concat(Ye?1:0," and <= ").concat(Oe),tt)}var Ve=/[^+/0-9A-Za-z-_]/g;function Fe(tt){if(tt=tt.split("=")[0],tt=tt.trim().replace(Ve,""),tt.length<2)return"";for(;tt.length%4!==0;)tt=tt+"=";return tt}function He(tt,Oe){Oe=Oe||1/0;for(var Ye,Ze=tt.length,We=null,_e=[],Ie=0;Ie<Ze;++Ie){if(Ye=tt.charCodeAt(Ie),Ye>55295&&Ye<57344){if(!We){if(Ye>56319){(Oe-=3)>-1&&_e.push(239,191,189);continue}else if(Ie+1===Ze){(Oe-=3)>-1&&_e.push(239,191,189);continue}We=Ye;continue}if(Ye<56320){(Oe-=3)>-1&&_e.push(239,191,189),We=Ye;continue}Ye=(We-55296<<10|Ye-56320)+65536}else We&&(Oe-=3)>-1&&_e.push(239,191,189);if(We=null,Ye<128){if((Oe-=1)<0)break;_e.push(Ye)}else if(Ye<2048){if((Oe-=2)<0)break;_e.push(Ye>>6|192,Ye&63|128)}else if(Ye<65536){if((Oe-=3)<0)break;_e.push(Ye>>12|224,Ye>>6&63|128,Ye&63|128)}else if(Ye<1114112){if((Oe-=4)<0)break;_e.push(Ye>>18|240,Ye>>12&63|128,Ye>>6&63|128,Ye&63|128)}else throw new Error("Invalid code point")}return _e}function st(tt){for(var Oe=[],Ye=0;Ye<tt.length;++Ye)Oe.push(tt.charCodeAt(Ye)&255);return Oe}function vt(tt,Oe){for(var Ye,Ze,We,_e=[],Ie=0;Ie<tt.length&&!((Oe-=2)<0);++Ie)Ye=tt.charCodeAt(Ie),Ze=Ye>>8,We=Ye%256,_e.push(We),_e.push(Ze);return _e}function lt(tt){return u.toByteArray(Fe(tt))}function et(tt,Oe,Ye,Ze){var We;for(We=0;We<Ze&&!(We+Ye>=Oe.length||We>=tt.length);++We)Oe[We+Ye]=tt[We];return We}function ct(tt,Oe){return tt instanceof Oe||tt!=null&&tt.constructor!=null&&tt.constructor.name!=null&&tt.constructor.name===Oe.name}function ht(tt){return tt!==tt}var mt=function(){for(var tt="0123456789abcdef",Oe=new Array(256),Ye=0;Ye<16;++Ye)for(var Ze=Ye*16,We=0;We<16;++We)Oe[Ze+We]=tt[Ye]+tt[We];return Oe}();function xt(tt){return typeof BigInt>"u"?Mt:tt}function Mt(){throw new Error("BigInt not supported")}},25928:function(H){H.exports=R,H.exports.isMobile=R,H.exports.default=R;var G=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function R(a){a||(a={});var C=a.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var S=G.test(C)&&!e.test(C)||!!a.tablet&&g.test(C);return!S&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(S=!0),S}},48932:function(H,G,e){e.r(G),e.d(G,{sankeyCenter:function(){return i},sankeyCircular:function(){return E},sankeyJustify:function(){return t},sankeyLeft:function(){return d},sankeyRight:function(){return r}});var g=e(84706),R=e(34712),a=e(10132),C=e(6688),S=e.n(C);function v(Ae){return Ae.target.depth}function d(Ae){return Ae.depth}function r(Ae,ke){return ke-1-Ae.height}function t(Ae,ke){return Ae.sourceLinks.length?Ae.depth:ke-1}function i(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,g.SY)(Ae.sourceLinks,v)-1:0}function n(Ae){return function(){return Ae}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function u(Ae,ke){return m(Ae.source,ke.source)||Ae.index-ke.index}function l(Ae,ke){return m(Ae.target,ke.target)||Ae.index-ke.index}function m(Ae,ke){return Ae.partOfCycle===ke.partOfCycle?Ae.y0-ke.y0:Ae.circularLinkType==="top"||ke.circularLinkType==="bottom"?-1:1}function c(Ae){return Ae.value}function A(Ae){return(Ae.y0+Ae.y1)/2}function h(Ae){return A(Ae.source)}function o(Ae){return A(Ae.target)}function p(Ae){return Ae.index}function b(Ae){return Ae.nodes}function T(Ae){return Ae.links}function P(Ae,ke){var we=Ae.get(ke);if(!we)throw new Error("missing: "+ke);return we}function x(Ae,ke){return ke(Ae)}var L=25,M=10,s=.3;function E(){var Ae=0,ke=0,we=1,Ee=1,be=24,Le,Ue=p,Ve=t,Fe=b,He=T,st=32,vt=2,lt,et=null;function ct(){var Ze={nodes:Fe.apply(null,arguments),links:He.apply(null,arguments)};ht(Ze),w(Ze,Ue,et),mt(Ze),tt(Ze),O(Ze,Ue),Oe(Ze,st,Ue),Ye(Ze);for(var We=4,_e=0;_e<We;_e++)$(Ze,Ee,Ue),le(Ze,Ee,Ue),oe(Ze,ke,Ee,Ue),$(Ze,Ee,Ue),le(Ze,Ee,Ue);return Me(Ze,ke,Ee),N(Ze,vt,Ee,Ue),Ze}ct.nodeId=function(Ze){return arguments.length?(Ue=typeof Ze=="function"?Ze:n(Ze),ct):Ue},ct.nodeAlign=function(Ze){return arguments.length?(Ve=typeof Ze=="function"?Ze:n(Ze),ct):Ve},ct.nodeWidth=function(Ze){return arguments.length?(be=+Ze,ct):be},ct.nodePadding=function(Ze){return arguments.length?(Le=+Ze,ct):Le},ct.nodes=function(Ze){return arguments.length?(Fe=typeof Ze=="function"?Ze:n(Ze),ct):Fe},ct.links=function(Ze){return arguments.length?(He=typeof Ze=="function"?Ze:n(Ze),ct):He},ct.size=function(Ze){return arguments.length?(Ae=ke=0,we=+Ze[0],Ee=+Ze[1],ct):[we-Ae,Ee-ke]},ct.extent=function(Ze){return arguments.length?(Ae=+Ze[0][0],we=+Ze[1][0],ke=+Ze[0][1],Ee=+Ze[1][1],ct):[[Ae,ke],[we,Ee]]},ct.iterations=function(Ze){return arguments.length?(st=+Ze,ct):st},ct.circularLinkGap=function(Ze){return arguments.length?(vt=+Ze,ct):vt},ct.nodePaddingRatio=function(Ze){return arguments.length?(lt=+Ze,ct):lt},ct.sortNodes=function(Ze){return arguments.length?(et=Ze,ct):et},ct.update=function(Ze){return O(Ze,Ue),Ye(Ze),Ze.links.forEach(function(We){We.circular&&(We.circularLinkType=We.y0+We.y1<Ee?"top":"bottom",We.source.circularLinkType=We.circularLinkType,We.target.circularLinkType=We.circularLinkType)}),$(Ze,Ee,Ue,!1),le(Ze,Ee,Ue),N(Ze,vt,Ee,Ue),Ze};function ht(Ze){Ze.nodes.forEach(function(_e,Ie){_e.index=Ie,_e.sourceLinks=[],_e.targetLinks=[]});var We=(0,R.kH)(Ze.nodes,Ue);return Ze.links.forEach(function(_e,Ie){_e.index=Ie;var Xe=_e.source,De=_e.target;(typeof Xe>"u"?"undefined":f(Xe))!=="object"&&(Xe=_e.source=P(We,Xe)),(typeof De>"u"?"undefined":f(De))!=="object"&&(De=_e.target=P(We,De)),Xe.sourceLinks.push(_e),De.targetLinks.push(_e)}),Ze}function mt(Ze){Ze.nodes.forEach(function(We){We.partOfCycle=!1,We.value=Math.max((0,g.oh)(We.sourceLinks,c),(0,g.oh)(We.targetLinks,c)),We.sourceLinks.forEach(function(_e){_e.circular&&(We.partOfCycle=!0,We.circularLinkType=_e.circularLinkType)}),We.targetLinks.forEach(function(_e){_e.circular&&(We.partOfCycle=!0,We.circularLinkType=_e.circularLinkType)})})}function xt(Ze){var We=0,_e=0,Ie=0,Xe=0,De=(0,g.kv)(Ze.nodes,function(de){return de.column});return Ze.links.forEach(function(de){de.circular&&(de.circularLinkType=="top"?We=We+de.width:_e=_e+de.width,de.target.column==0&&(Xe=Xe+de.width),de.source.column==De&&(Ie=Ie+de.width))}),We=We>0?We+L+M:We,_e=_e>0?_e+L+M:_e,Ie=Ie>0?Ie+L+M:Ie,Xe=Xe>0?Xe+L+M:Xe,{top:We,bottom:_e,left:Xe,right:Ie}}function Mt(Ze,We){var _e=(0,g.kv)(Ze.nodes,function(Qe){return Qe.column}),Ie=we-Ae,Xe=Ee-ke,De=Ie+We.right+We.left,de=Xe+We.top+We.bottom,Te=Ie/De,Be=Xe/de;return Ae=Ae*Te+We.left,we=We.right==0?we:we*Te,ke=ke*Be+We.top,Ee=Ee*Be,Ze.nodes.forEach(function(Qe){Qe.x0=Ae+Qe.column*((we-Ae-be)/_e),Qe.x1=Qe.x0+be}),Be}function tt(Ze){var We,_e,Ie;for(We=Ze.nodes,_e=[],Ie=0;We.length;++Ie,We=_e,_e=[])We.forEach(function(Xe){Xe.depth=Ie,Xe.sourceLinks.forEach(function(De){_e.indexOf(De.target)<0&&!De.circular&&_e.push(De.target)})});for(We=Ze.nodes,_e=[],Ie=0;We.length;++Ie,We=_e,_e=[])We.forEach(function(Xe){Xe.height=Ie,Xe.targetLinks.forEach(function(De){_e.indexOf(De.source)<0&&!De.circular&&_e.push(De.source)})});Ze.nodes.forEach(function(Xe){Xe.column=Math.floor(Ve.call(null,Xe,Ie))})}function Oe(Ze,We,_e){var Ie=(0,R.UJ)().key(function(Qe){return Qe.column}).sortKeys(g.XE).entries(Ze.nodes).map(function(Qe){return Qe.values});de(_e),Be();for(var Xe=1,De=We;De>0;--De)Te(Xe*=.99,_e),Be();function de(Qe){if(lt){var at=1/0;Ie.forEach(function(Tt){var Lt=Ee*lt/(Tt.length+1);at=Lt<at?Lt:at}),Le=at}var it=(0,g.SY)(Ie,function(Tt){return(Ee-ke-(Tt.length-1)*Le)/(0,g.oh)(Tt,c)});it=it*s,Ze.links.forEach(function(Tt){Tt.width=Tt.value*it});var Wt=xt(Ze),Yt=Mt(Ze,Wt);it=it*Yt,Ze.links.forEach(function(Tt){Tt.width=Tt.value*it}),Ie.forEach(function(Tt){var Lt=Tt.length;Tt.forEach(function(Xt,Tr){Xt.depth==Ie.length-1&&Lt==1||Xt.depth==0&&Lt==1?(Xt.y0=Ee/2-Xt.value*it,Xt.y1=Xt.y0+Xt.value*it):Xt.partOfCycle?z(Xt,Qe)==0?(Xt.y0=Ee/2+Tr,Xt.y1=Xt.y0+Xt.value*it):Xt.circularLinkType=="top"?(Xt.y0=ke+Tr,Xt.y1=Xt.y0+Xt.value*it):(Xt.y0=Ee-Xt.value*it-Tr,Xt.y1=Xt.y0+Xt.value*it):Wt.top==0||Wt.bottom==0?(Xt.y0=(Ee-ke)/Lt*Tr,Xt.y1=Xt.y0+Xt.value*it):(Xt.y0=(Ee-ke)/2-Lt/2+Tr,Xt.y1=Xt.y0+Xt.value*it)})})}function Te(Qe,at){var it=Ie.length;Ie.forEach(function(Wt){var Yt=Wt.length,Tt=Wt[0].depth;Wt.forEach(function(Lt){var Xt;if((Lt.sourceLinks.length||Lt.targetLinks.length)&&!(Lt.partOfCycle&&z(Lt,at)>0))if(Tt==0&&Yt==1)Xt=Lt.y1-Lt.y0,Lt.y0=Ee/2-Xt/2,Lt.y1=Ee/2+Xt/2;else if(Tt==it-1&&Yt==1)Xt=Lt.y1-Lt.y0,Lt.y0=Ee/2-Xt/2,Lt.y1=Ee/2+Xt/2;else{var Tr=0,gt=(0,g.mo)(Lt.sourceLinks,o),Kt=(0,g.mo)(Lt.targetLinks,h);gt&&Kt?Tr=(gt+Kt)/2:Tr=gt||Kt;var Qt=(Tr-A(Lt))*Qe;Lt.y0+=Qt,Lt.y1+=Qt}})})}function Be(){Ie.forEach(function(Qe){var at,it,Wt=ke,Yt=Qe.length,Tt;for(Qe.sort(m),Tt=0;Tt<Yt;++Tt)at=Qe[Tt],it=Wt-at.y0,it>0&&(at.y0+=it,at.y1+=it),Wt=at.y1+Le;if(it=Wt-Le-Ee,it>0)for(Wt=at.y0-=it,at.y1-=it,Tt=Yt-2;Tt>=0;--Tt)at=Qe[Tt],it=at.y1+Le-Wt,it>0&&(at.y0-=it,at.y1-=it),Wt=at.y0})}}function Ye(Ze){Ze.nodes.forEach(function(We){We.sourceLinks.sort(l),We.targetLinks.sort(u)}),Ze.nodes.forEach(function(We){var _e=We.y0,Ie=_e,Xe=We.y1,De=Xe;We.sourceLinks.forEach(function(de){de.circular?(de.y0=Xe-de.width/2,Xe=Xe-de.width):(de.y0=_e+de.width/2,_e+=de.width)}),We.targetLinks.forEach(function(de){de.circular?(de.y1=De-de.width/2,De=De-de.width):(de.y1=Ie+de.width/2,Ie+=de.width)})})}return ct}function w(Ae,ke,we){var Ee=0;if(we===null){for(var be=[],Le=0;Le<Ae.links.length;Le++){var Ue=Ae.links[Le],Ve=Ue.source.index,Fe=Ue.target.index;be[Ve]||(be[Ve]=[]),be[Fe]||(be[Fe]=[]),be[Ve].indexOf(Fe)===-1&&be[Ve].push(Fe)}var He=S()(be);He.sort(function(et,ct){return et.length-ct.length});var st={};for(Le=0;Le<He.length;Le++){var vt=He[Le],lt=vt.slice(-2);st[lt[0]]||(st[lt[0]]={}),st[lt[0]][lt[1]]=!0}Ae.links.forEach(function(et){var ct=et.target.index,ht=et.source.index;ct===ht||st[ht]&&st[ht][ct]?(et.circular=!0,et.circularLinkID=Ee,Ee=Ee+1):et.circular=!1})}else Ae.links.forEach(function(et){et.source[we]<et.target[we]?et.circular=!1:(et.circular=!0,et.circularLinkID=Ee,Ee=Ee+1)})}function O(Ae,ke){var we=0,Ee=0;Ae.links.forEach(function(be){be.circular&&(be.source.circularLinkType||be.target.circularLinkType?be.circularLinkType=be.source.circularLinkType?be.source.circularLinkType:be.target.circularLinkType:be.circularLinkType=we<Ee?"top":"bottom",be.circularLinkType=="top"?we=we+1:Ee=Ee+1,Ae.nodes.forEach(function(Le){(x(Le,ke)==x(be.source,ke)||x(Le,ke)==x(be.target,ke))&&(Le.circularLinkType=be.circularLinkType)}))}),Ae.links.forEach(function(be){be.circular&&(be.source.circularLinkType==be.target.circularLinkType&&(be.circularLinkType=be.source.circularLinkType),xe(be,ke)&&(be.circularLinkType=be.source.circularLinkType))})}function _(Ae){var ke=Math.abs(Ae.y1-Ae.y0),we=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(we/ke)}function U(Ae,ke){return Ae.source.column<ke.target.column?!1:!(Ae.target.column>ke.source.column)}function z(Ae,ke){var we=0;Ae.sourceLinks.forEach(function(be){we=be.circular&&!xe(be,ke)?we+1:we});var Ee=0;return Ae.targetLinks.forEach(function(be){Ee=be.circular&&!xe(be,ke)?Ee+1:Ee}),we+Ee}function F(Ae){var ke=Ae.source.sourceLinks,we=0;ke.forEach(function(Le){we=Le.circular?we+1:we});var Ee=Ae.target.targetLinks,be=0;return Ee.forEach(function(Le){be=Le.circular?be+1:be}),!(we>1||be>1)}function B(Ae,ke,we){return Ae.sort(X),Ae.forEach(function(Ee,be){var Le=0;if(xe(Ee,we)&&F(Ee))Ee.circularPathData.verticalBuffer=Le+Ee.width/2;else{var Ue=0;for(Ue;Ue<be;Ue++)if(U(Ae[be],Ae[Ue])){var Ve=Ae[Ue].circularPathData.verticalBuffer+Ae[Ue].width/2+ke;Le=Ve>Le?Ve:Le}Ee.circularPathData.verticalBuffer=Le+Ee.width/2}}),Ae}function N(Ae,ke,we,Ee){var be=5,Le=(0,g.SY)(Ae.links,function(Fe){return Fe.source.y0});Ae.links.forEach(function(Fe){Fe.circular&&(Fe.circularPathData={})});var Ue=Ae.links.filter(function(Fe){return Fe.circularLinkType=="top"});B(Ue,ke,Ee);var Ve=Ae.links.filter(function(Fe){return Fe.circularLinkType=="bottom"});B(Ve,ke,Ee),Ae.links.forEach(function(Fe){if(Fe.circular){if(Fe.circularPathData.arcRadius=Fe.width+M,Fe.circularPathData.leftNodeBuffer=be,Fe.circularPathData.rightNodeBuffer=be,Fe.circularPathData.sourceWidth=Fe.source.x1-Fe.source.x0,Fe.circularPathData.sourceX=Fe.source.x0+Fe.circularPathData.sourceWidth,Fe.circularPathData.targetX=Fe.target.x0,Fe.circularPathData.sourceY=Fe.y0,Fe.circularPathData.targetY=Fe.y1,xe(Fe,Ee)&&F(Fe))Fe.circularPathData.leftSmallArcRadius=M+Fe.width/2,Fe.circularPathData.leftLargeArcRadius=M+Fe.width/2,Fe.circularPathData.rightSmallArcRadius=M+Fe.width/2,Fe.circularPathData.rightLargeArcRadius=M+Fe.width/2,Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Fe.source.y1+L+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Fe.source.y0-L-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius);else{var He=Fe.source.column,st=Fe.circularLinkType,vt=Ae.links.filter(function(ct){return ct.source.column==He&&ct.circularLinkType==st});Fe.circularLinkType=="bottom"?vt.sort(te):vt.sort(q);var lt=0;vt.forEach(function(ct,ht){ct.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.leftSmallArcRadius=M+Fe.width/2+lt,Fe.circularPathData.leftLargeArcRadius=M+Fe.width/2+ht*ke+lt),lt=lt+ct.width}),He=Fe.target.column,vt=Ae.links.filter(function(ct){return ct.target.column==He&&ct.circularLinkType==st}),Fe.circularLinkType=="bottom"?vt.sort(ce):vt.sort(ne),lt=0,vt.forEach(function(ct,ht){ct.circularLinkID==Fe.circularLinkID&&(Fe.circularPathData.rightSmallArcRadius=M+Fe.width/2+lt,Fe.circularPathData.rightLargeArcRadius=M+Fe.width/2+ht*ke+lt),lt=lt+ct.width}),Fe.circularLinkType=="bottom"?(Fe.circularPathData.verticalFullExtent=Math.max(we,Fe.source.y1,Fe.target.y1)+L+Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent-Fe.circularPathData.rightLargeArcRadius):(Fe.circularPathData.verticalFullExtent=Le-L-Fe.circularPathData.verticalBuffer,Fe.circularPathData.verticalLeftInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.leftLargeArcRadius,Fe.circularPathData.verticalRightInnerExtent=Fe.circularPathData.verticalFullExtent+Fe.circularPathData.rightLargeArcRadius)}Fe.circularPathData.leftInnerExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightInnerExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightNodeBuffer,Fe.circularPathData.leftFullExtent=Fe.circularPathData.sourceX+Fe.circularPathData.leftLargeArcRadius+Fe.circularPathData.leftNodeBuffer,Fe.circularPathData.rightFullExtent=Fe.circularPathData.targetX-Fe.circularPathData.rightLargeArcRadius-Fe.circularPathData.rightNodeBuffer}if(Fe.circular)Fe.path=V(Fe);else{var et=(0,a.ak)().source(function(ct){var ht=ct.source.x0+(ct.source.x1-ct.source.x0),mt=ct.y0;return[ht,mt]}).target(function(ct){var ht=ct.target.x0,mt=ct.y1;return[ht,mt]});Fe.path=et(Fe)}})}function V(Ae){var ke="";return Ae.circularLinkType=="top"?ke="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:ke="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,ke}function X(Ae,ke){return Q(Ae)==Q(ke)?Ae.circularLinkType=="bottom"?te(Ae,ke):q(Ae,ke):Q(ke)-Q(Ae)}function q(Ae,ke){return Ae.y0-ke.y0}function te(Ae,ke){return ke.y0-Ae.y0}function ne(Ae,ke){return Ae.y1-ke.y1}function ce(Ae,ke){return ke.y1-Ae.y1}function Q(Ae){return Ae.target.column-Ae.source.column}function Z(Ae){return Ae.target.x0-Ae.source.x1}function re(Ae,ke){var we=_(Ae),Ee=Z(ke)/Math.tan(we),be=he(Ae)=="up"?Ae.y1+Ee:Ae.y1-Ee;return be}function Y(Ae,ke){var we=_(Ae),Ee=Z(ke)/Math.tan(we),be=he(Ae)=="up"?Ae.y1-Ee:Ae.y1+Ee;return be}function oe(Ae,ke,we,Ee){Ae.links.forEach(function(be){if(!be.circular&&be.target.column-be.source.column>1){var Le=be.source.column+1,Ue=be.target.column-1,Ve=1,Fe=Ue-Le+1;for(Ve=1;Le<=Ue;Le++,Ve++)Ae.nodes.forEach(function(He){if(He.column==Le){var st=Ve/(Fe+1),vt=Math.pow(1-st,3),lt=3*st*Math.pow(1-st,2),et=3*Math.pow(st,2)*(1-st),ct=Math.pow(st,3),ht=vt*be.y0+lt*be.y0+et*be.y1+ct*be.y1,mt=ht-be.width/2,xt=ht+be.width/2,Mt;mt>He.y0&&mt<He.y1?(Mt=He.y1-mt+10,Mt=He.circularLinkType=="bottom"?Mt:-Mt,He=K(He,Mt,ke,we),Ae.nodes.forEach(function(tt){x(tt,Ee)==x(He,Ee)||tt.column!=He.column||ue(He,tt)&&K(tt,Mt,ke,we)})):xt>He.y0&&xt<He.y1?(Mt=xt-He.y0+10,He=K(He,Mt,ke,we),Ae.nodes.forEach(function(tt){x(tt,Ee)==x(He,Ee)||tt.column!=He.column||tt.y0<He.y1&&tt.y1>He.y1&&K(tt,Mt,ke,we)})):mt<He.y0&&xt>He.y1&&(Mt=xt-He.y0+10,He=K(He,Mt,ke,we),Ae.nodes.forEach(function(tt){x(tt,Ee)==x(He,Ee)||tt.column!=He.column||tt.y0<He.y1&&tt.y1>He.y1&&K(tt,Mt,ke,we)}))}})}})}function ue(Ae,ke){return Ae.y0>ke.y0&&Ae.y0<ke.y1||Ae.y1>ke.y0&&Ae.y1<ke.y1?!0:Ae.y0<ke.y0&&Ae.y1>ke.y1}function K(Ae,ke,we,Ee){return Ae.y0+ke>=we&&Ae.y1+ke<=Ee&&(Ae.y0=Ae.y0+ke,Ae.y1=Ae.y1+ke,Ae.targetLinks.forEach(function(be){be.y1=be.y1+ke}),Ae.sourceLinks.forEach(function(be){be.y0=be.y0+ke})),Ae}function $(Ae,ke,we,Ee){Ae.nodes.forEach(function(be){Ee&&be.y+(be.y1-be.y0)>ke&&(be.y=be.y-(be.y+(be.y1-be.y0)-ke));var Le=Ae.links.filter(function(Fe){return x(Fe.source,we)==x(be,we)}),Ue=Le.length;Ue>1&&Le.sort(function(Fe,He){if(!Fe.circular&&!He.circular){if(Fe.target.column==He.target.column)return Fe.y1-He.y1;if(ae(Fe,He)){if(Fe.target.column>He.target.column){var st=Y(He,Fe);return Fe.y1-st}if(He.target.column>Fe.target.column){var vt=Y(Fe,He);return vt-He.y1}}else return Fe.y1-He.y1}if(Fe.circular&&!He.circular)return Fe.circularLinkType=="top"?-1:1;if(He.circular&&!Fe.circular)return He.circularLinkType=="top"?1:-1;if(Fe.circular&&He.circular)return Fe.circularLinkType===He.circularLinkType&&Fe.circularLinkType=="top"?Fe.target.column===He.target.column?Fe.target.y1-He.target.y1:He.target.column-Fe.target.column:Fe.circularLinkType===He.circularLinkType&&Fe.circularLinkType=="bottom"?Fe.target.column===He.target.column?He.target.y1-Fe.target.y1:Fe.target.column-He.target.column:Fe.circularLinkType=="top"?-1:1});var Ve=be.y0;Le.forEach(function(Fe){Fe.y0=Ve+Fe.width/2,Ve=Ve+Fe.width}),Le.forEach(function(Fe,He){if(Fe.circularLinkType=="bottom"){var st=He+1,vt=0;for(st;st<Ue;st++)vt=vt+Le[st].width;Fe.y0=be.y1-vt-Fe.width/2}})})}function le(Ae,ke,we){Ae.nodes.forEach(function(Ee){var be=Ae.links.filter(function(Ve){return x(Ve.target,we)==x(Ee,we)}),Le=be.length;Le>1&&be.sort(function(Ve,Fe){if(!Ve.circular&&!Fe.circular){if(Ve.source.column==Fe.source.column)return Ve.y0-Fe.y0;if(ae(Ve,Fe)){if(Fe.source.column<Ve.source.column){var He=re(Fe,Ve);return Ve.y0-He}if(Ve.source.column<Fe.source.column){var st=re(Ve,Fe);return st-Fe.y0}}else return Ve.y0-Fe.y0}if(Ve.circular&&!Fe.circular)return Ve.circularLinkType=="top"?-1:1;if(Fe.circular&&!Ve.circular)return Fe.circularLinkType=="top"?1:-1;if(Ve.circular&&Fe.circular)return Ve.circularLinkType===Fe.circularLinkType&&Ve.circularLinkType=="top"?Ve.source.column===Fe.source.column?Ve.source.y1-Fe.source.y1:Ve.source.column-Fe.source.column:Ve.circularLinkType===Fe.circularLinkType&&Ve.circularLinkType=="bottom"?Ve.source.column===Fe.source.column?Ve.source.y1-Fe.source.y1:Fe.source.column-Ve.source.column:Ve.circularLinkType=="top"?-1:1});var Ue=Ee.y0;be.forEach(function(Ve){Ve.y1=Ue+Ve.width/2,Ue=Ue+Ve.width}),be.forEach(function(Ve,Fe){if(Ve.circularLinkType=="bottom"){var He=Fe+1,st=0;for(He;He<Le;He++)st=st+be[He].width;Ve.y1=Ee.y1-st-Ve.width/2}})})}function ae(Ae,ke){return he(Ae)==he(ke)}function he(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function xe(Ae,ke){return x(Ae.source,ke)==x(Ae.target,ke)}function Me(Ae,ke,we){var Ee=Ae.nodes,be=Ae.links,Le=!1,Ue=!1;if(be.forEach(function(lt){lt.circularLinkType=="top"?Le=!0:lt.circularLinkType=="bottom"&&(Ue=!0)}),Le==!1||Ue==!1){var Ve=(0,g.SY)(Ee,function(lt){return lt.y0}),Fe=(0,g.kv)(Ee,function(lt){return lt.y1}),He=Fe-Ve,st=we-ke,vt=st/He;Ee.forEach(function(lt){var et=(lt.y1-lt.y0)*vt;lt.y0=(lt.y0-Ve)*vt,lt.y1=lt.y0+et}),be.forEach(function(lt){lt.y0=(lt.y0-Ve)*vt,lt.y1=(lt.y1-Ve)*vt,lt.width=lt.width*vt})}}},26800:function(H,G,e){e.r(G),e.d(G,{sankey:function(){return p},sankeyCenter:function(){return d},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return S}});var g=e(84706),R=e(34712);function a(L){return L.target.depth}function C(L){return L.depth}function S(L,M){return M-1-L.height}function v(L,M){return L.sourceLinks.length?L.depth:M-1}function d(L){return L.targetLinks.length?L.depth:L.sourceLinks.length?(0,g.SY)(L.sourceLinks,a)-1:0}function r(L){return function(){return L}}function t(L,M){return n(L.source,M.source)||L.index-M.index}function i(L,M){return n(L.target,M.target)||L.index-M.index}function n(L,M){return L.y0-M.y0}function f(L){return L.value}function u(L){return(L.y0+L.y1)/2}function l(L){return u(L.source)*L.value}function m(L){return u(L.target)*L.value}function c(L){return L.index}function A(L){return L.nodes}function h(L){return L.links}function o(L,M){var s=L.get(M);if(!s)throw new Error("missing: "+M);return s}function p(){var L=0,M=0,s=1,E=1,w=24,O=8,_=c,U=v,z=A,F=h,B=32,N=2/3;function V(){var Q={nodes:z.apply(null,arguments),links:F.apply(null,arguments)};return X(Q),q(Q),te(Q),ne(Q),ce(Q),Q}V.update=function(Q){return ce(Q),Q},V.nodeId=function(Q){return arguments.length?(_=typeof Q=="function"?Q:r(Q),V):_},V.nodeAlign=function(Q){return arguments.length?(U=typeof Q=="function"?Q:r(Q),V):U},V.nodeWidth=function(Q){return arguments.length?(w=+Q,V):w},V.nodePadding=function(Q){return arguments.length?(O=+Q,V):O},V.nodes=function(Q){return arguments.length?(z=typeof Q=="function"?Q:r(Q),V):z},V.links=function(Q){return arguments.length?(F=typeof Q=="function"?Q:r(Q),V):F},V.size=function(Q){return arguments.length?(L=M=0,s=+Q[0],E=+Q[1],V):[s-L,E-M]},V.extent=function(Q){return arguments.length?(L=+Q[0][0],s=+Q[1][0],M=+Q[0][1],E=+Q[1][1],V):[[L,M],[s,E]]},V.iterations=function(Q){return arguments.length?(B=+Q,V):B};function X(Q){Q.nodes.forEach(function(re,Y){re.index=Y,re.sourceLinks=[],re.targetLinks=[]});var Z=(0,R.kH)(Q.nodes,_);Q.links.forEach(function(re,Y){re.index=Y;var oe=re.source,ue=re.target;typeof oe!="object"&&(oe=re.source=o(Z,oe)),typeof ue!="object"&&(ue=re.target=o(Z,ue)),oe.sourceLinks.push(re),ue.targetLinks.push(re)})}function q(Q){Q.nodes.forEach(function(Z){Z.value=Math.max((0,g.oh)(Z.sourceLinks,f),(0,g.oh)(Z.targetLinks,f))})}function te(Q){var Z,re,Y;for(Z=Q.nodes,re=[],Y=0;Z.length;++Y,Z=re,re=[])Z.forEach(function(ue){ue.depth=Y,ue.sourceLinks.forEach(function(K){re.indexOf(K.target)<0&&re.push(K.target)})});for(Z=Q.nodes,re=[],Y=0;Z.length;++Y,Z=re,re=[])Z.forEach(function(ue){ue.height=Y,ue.targetLinks.forEach(function(K){re.indexOf(K.source)<0&&re.push(K.source)})});var oe=(s-L-w)/(Y-1);Q.nodes.forEach(function(ue){ue.x1=(ue.x0=L+Math.max(0,Math.min(Y-1,Math.floor(U.call(null,ue,Y))))*oe)+w})}function ne(Q){var Z=(0,R.UJ)().key(function(le){return le.x0}).sortKeys(g.XE).entries(Q.nodes).map(function(le){return le.values});oe(),$();for(var re=1,Y=B;Y>0;--Y)K(re*=.99),$(),ue(re),$();function oe(){var le=(0,g.kv)(Z,function(xe){return xe.length}),ae=N*(E-M)/(le-1);O>ae&&(O=ae);var he=(0,g.SY)(Z,function(xe){return(E-M-(xe.length-1)*O)/(0,g.oh)(xe,f)});Z.forEach(function(xe){xe.forEach(function(Me,Ae){Me.y1=(Me.y0=Ae)+Me.value*he})}),Q.links.forEach(function(xe){xe.width=xe.value*he})}function ue(le){Z.forEach(function(ae){ae.forEach(function(he){if(he.targetLinks.length){var xe=((0,g.oh)(he.targetLinks,l)/(0,g.oh)(he.targetLinks,f)-u(he))*le;he.y0+=xe,he.y1+=xe}})})}function K(le){Z.slice().reverse().forEach(function(ae){ae.forEach(function(he){if(he.sourceLinks.length){var xe=((0,g.oh)(he.sourceLinks,m)/(0,g.oh)(he.sourceLinks,f)-u(he))*le;he.y0+=xe,he.y1+=xe}})})}function $(){Z.forEach(function(le){var ae,he,xe=M,Me=le.length,Ae;for(le.sort(n),Ae=0;Ae<Me;++Ae)ae=le[Ae],he=xe-ae.y0,he>0&&(ae.y0+=he,ae.y1+=he),xe=ae.y1+O;if(he=xe-O-E,he>0)for(xe=ae.y0-=he,ae.y1-=he,Ae=Me-2;Ae>=0;--Ae)ae=le[Ae],he=ae.y1+O-xe,he>0&&(ae.y0-=he,ae.y1-=he),xe=ae.y0})}}function ce(Q){Q.nodes.forEach(function(Z){Z.sourceLinks.sort(i),Z.targetLinks.sort(t)}),Q.nodes.forEach(function(Z){var re=Z.y0,Y=re;Z.sourceLinks.forEach(function(oe){oe.y0=re+oe.width/2,re+=oe.width}),Z.targetLinks.forEach(function(oe){oe.y1=Y+oe.width/2,Y+=oe.width})})}return V}var b=e(10132);function T(L){return[L.source.x1,L.y0]}function P(L){return[L.target.x0,L.y1]}function x(){return(0,b.ak)().source(T).target(P)}},33428:function(H,G,e){var g,R;(function(){var a={version:"3.8.0"},C=[].slice,S=function(fe){return C.call(fe)},v=self.document;function d(fe){return fe&&(fe.ownerDocument||fe.document||fe).documentElement}function r(fe){return fe&&(fe.ownerDocument&&fe.ownerDocument.defaultView||fe.document&&fe||fe.defaultView)}if(v)try{S(v.documentElement.childNodes)[0].nodeType}catch{S=function(Ce){for(var Ne=Ce.length,qe=new Array(Ne);Ne--;)qe[Ne]=Ce[Ne];return qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,i=t.setAttribute,n=t.setAttributeNS,f=this.CSSStyleDeclaration.prototype,u=f.setProperty;t.setAttribute=function(Ce,Ne){i.call(this,Ce,Ne+"")},t.setAttributeNS=function(Ce,Ne,qe){n.call(this,Ce,Ne,qe+"")},f.setProperty=function(Ce,Ne,qe){u.call(this,Ce,Ne+"",qe)}}a.ascending=l;function l(fe,Ce){return fe<Ce?-1:fe>Ce?1:fe>=Ce?0:NaN}a.descending=function(fe,Ce){return Ce<fe?-1:Ce>fe?1:Ce>=fe?0:NaN},a.min=function(fe,Ce){var Ne=-1,qe=fe.length,rt,ft;if(arguments.length===1){for(;++Ne<qe;)if((ft=fe[Ne])!=null&&ft>=ft){rt=ft;break}for(;++Ne<qe;)(ft=fe[Ne])!=null&&rt>ft&&(rt=ft)}else{for(;++Ne<qe;)if((ft=Ce.call(fe,fe[Ne],Ne))!=null&&ft>=ft){rt=ft;break}for(;++Ne<qe;)(ft=Ce.call(fe,fe[Ne],Ne))!=null&&rt>ft&&(rt=ft)}return rt},a.max=function(fe,Ce){var Ne=-1,qe=fe.length,rt,ft;if(arguments.length===1){for(;++Ne<qe;)if((ft=fe[Ne])!=null&&ft>=ft){rt=ft;break}for(;++Ne<qe;)(ft=fe[Ne])!=null&&ft>rt&&(rt=ft)}else{for(;++Ne<qe;)if((ft=Ce.call(fe,fe[Ne],Ne))!=null&&ft>=ft){rt=ft;break}for(;++Ne<qe;)(ft=Ce.call(fe,fe[Ne],Ne))!=null&&ft>rt&&(rt=ft)}return rt},a.extent=function(fe,Ce){var Ne=-1,qe=fe.length,rt,ft,Pt;if(arguments.length===1){for(;++Ne<qe;)if((ft=fe[Ne])!=null&&ft>=ft){rt=Pt=ft;break}for(;++Ne<qe;)(ft=fe[Ne])!=null&&(rt>ft&&(rt=ft),Pt<ft&&(Pt=ft))}else{for(;++Ne<qe;)if((ft=Ce.call(fe,fe[Ne],Ne))!=null&&ft>=ft){rt=Pt=ft;break}for(;++Ne<qe;)(ft=Ce.call(fe,fe[Ne],Ne))!=null&&(rt>ft&&(rt=ft),Pt<ft&&(Pt=ft))}return[rt,Pt]};function m(fe){return fe===null?NaN:+fe}function c(fe){return!isNaN(fe)}a.sum=function(fe,Ce){var Ne=0,qe=fe.length,rt,ft=-1;if(arguments.length===1)for(;++ft<qe;)c(rt=+fe[ft])&&(Ne+=rt);else for(;++ft<qe;)c(rt=+Ce.call(fe,fe[ft],ft))&&(Ne+=rt);return Ne},a.mean=function(fe,Ce){var Ne=0,qe=fe.length,rt,ft=-1,Pt=qe;if(arguments.length===1)for(;++ft<qe;)c(rt=m(fe[ft]))?Ne+=rt:--Pt;else for(;++ft<qe;)c(rt=m(Ce.call(fe,fe[ft],ft)))?Ne+=rt:--Pt;if(Pt)return Ne/Pt},a.quantile=function(fe,Ce){var Ne=(fe.length-1)*Ce+1,qe=Math.floor(Ne),rt=+fe[qe-1],ft=Ne-qe;return ft?rt+ft*(fe[qe]-rt):rt},a.median=function(fe,Ce){var Ne=[],qe=fe.length,rt,ft=-1;if(arguments.length===1)for(;++ft<qe;)c(rt=m(fe[ft]))&&Ne.push(rt);else for(;++ft<qe;)c(rt=m(Ce.call(fe,fe[ft],ft)))&&Ne.push(rt);if(Ne.length)return a.quantile(Ne.sort(l),.5)},a.variance=function(fe,Ce){var Ne=fe.length,qe=0,rt,ft,Pt=0,At=-1,Vt=0;if(arguments.length===1)for(;++At<Ne;)c(rt=m(fe[At]))&&(ft=rt-qe,qe+=ft/++Vt,Pt+=ft*(rt-qe));else for(;++At<Ne;)c(rt=m(Ce.call(fe,fe[At],At)))&&(ft=rt-qe,qe+=ft/++Vt,Pt+=ft*(rt-qe));if(Vt>1)return Pt/(Vt-1)},a.deviation=function(){var fe=a.variance.apply(this,arguments);return fe&&Math.sqrt(fe)};function A(fe){return{left:function(Ce,Ne,qe,rt){for(arguments.length<3&&(qe=0),arguments.length<4&&(rt=Ce.length);qe<rt;){var ft=qe+rt>>>1;fe(Ce[ft],Ne)<0?qe=ft+1:rt=ft}return qe},right:function(Ce,Ne,qe,rt){for(arguments.length<3&&(qe=0),arguments.length<4&&(rt=Ce.length);qe<rt;){var ft=qe+rt>>>1;fe(Ce[ft],Ne)>0?rt=ft:qe=ft+1}return qe}}}var h=A(l);a.bisectLeft=h.left,a.bisect=a.bisectRight=h.right,a.bisector=function(fe){return A(fe.length===1?function(Ce,Ne){return l(fe(Ce),Ne)}:fe)},a.shuffle=function(fe,Ce,Ne){(qe=arguments.length)<3&&(Ne=fe.length,qe<2&&(Ce=0));for(var qe=Ne-Ce,rt,ft;qe;)ft=Math.random()*qe--|0,rt=fe[qe+Ce],fe[qe+Ce]=fe[ft+Ce],fe[ft+Ce]=rt;return fe},a.permute=function(fe,Ce){for(var Ne=Ce.length,qe=new Array(Ne);Ne--;)qe[Ne]=fe[Ce[Ne]];return qe},a.pairs=function(fe){for(var Ce=0,Ne=fe.length-1,qe=fe[0],rt=new Array(Ne<0?0:Ne);Ce<Ne;)rt[Ce]=[qe,qe=fe[++Ce]];return rt},a.transpose=function(fe){if(!(ft=fe.length))return[];for(var Ce=-1,Ne=a.min(fe,o),qe=new Array(Ne);++Ce<Ne;)for(var rt=-1,ft,Pt=qe[Ce]=new Array(ft);++rt<ft;)Pt[rt]=fe[rt][Ce];return qe};function o(fe){return fe.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(fe){var Ce=[];for(var Ne in fe)Ce.push(Ne);return Ce},a.values=function(fe){var Ce=[];for(var Ne in fe)Ce.push(fe[Ne]);return Ce},a.entries=function(fe){var Ce=[];for(var Ne in fe)Ce.push({key:Ne,value:fe[Ne]});return Ce},a.merge=function(fe){for(var Ce=fe.length,Ne,qe=-1,rt=0,ft,Pt;++qe<Ce;)rt+=fe[qe].length;for(ft=new Array(rt);--Ce>=0;)for(Pt=fe[Ce],Ne=Pt.length;--Ne>=0;)ft[--rt]=Pt[Ne];return ft};var p=Math.abs;a.range=function(fe,Ce,Ne){if(arguments.length<3&&(Ne=1,arguments.length<2&&(Ce=fe,fe=0)),(Ce-fe)/Ne===1/0)throw new Error("infinite range");var qe=[],rt=b(p(Ne)),ft=-1,Pt;if(fe*=rt,Ce*=rt,Ne*=rt,Ne<0)for(;(Pt=fe+Ne*++ft)>Ce;)qe.push(Pt/rt);else for(;(Pt=fe+Ne*++ft)<Ce;)qe.push(Pt/rt);return qe};function b(fe){for(var Ce=1;fe*Ce%1;)Ce*=10;return Ce}function T(fe,Ce){for(var Ne in Ce)Object.defineProperty(fe.prototype,Ne,{value:Ce[Ne],enumerable:!1})}a.map=function(fe,Ce){var Ne=new P;if(fe instanceof P)fe.forEach(function(At,Vt){Ne.set(At,Vt)});else if(Array.isArray(fe)){var qe=-1,rt=fe.length,ft;if(arguments.length===1)for(;++qe<rt;)Ne.set(qe,fe[qe]);else for(;++qe<rt;)Ne.set(Ce.call(fe,ft=fe[qe],qe),ft)}else for(var Pt in fe)Ne.set(Pt,fe[Pt]);return Ne};function P(){this._=Object.create(null)}var x="__proto__",L="\0";T(P,{has:E,get:function(fe){return this._[M(fe)]},set:function(fe,Ce){return this._[M(fe)]=Ce},remove:w,keys:O,values:function(){var fe=[];for(var Ce in this._)fe.push(this._[Ce]);return fe},entries:function(){var fe=[];for(var Ce in this._)fe.push({key:s(Ce),value:this._[Ce]});return fe},size:_,empty:U,forEach:function(fe){for(var Ce in this._)fe.call(this,s(Ce),this._[Ce])}});function M(fe){return(fe+="")===x||fe[0]===L?L+fe:fe}function s(fe){return(fe+="")[0]===L?fe.slice(1):fe}function E(fe){return M(fe)in this._}function w(fe){return(fe=M(fe))in this._&&delete this._[fe]}function O(){var fe=[];for(var Ce in this._)fe.push(s(Ce));return fe}function _(){var fe=0;for(var Ce in this._)++fe;return fe}function U(){for(var fe in this._)return!1;return!0}a.nest=function(){var fe={},Ce=[],Ne=[],qe,rt;function ft(At,Vt,Gt){if(Gt>=Ce.length)return rt?rt.call(fe,Vt):qe?Vt.sort(qe):Vt;for(var nr=-1,Lr=Vt.length,Pr=Ce[Gt++],en,on,Dr,Vr=new P,Jr;++nr<Lr;)(Jr=Vr.get(en=Pr(on=Vt[nr])))?Jr.push(on):Vr.set(en,[on]);return At?(on=At(),Dr=function(un,dn){on.set(un,ft(At,dn,Gt))}):(on={},Dr=function(un,dn){on[un]=ft(At,dn,Gt)}),Vr.forEach(Dr),on}function Pt(At,Vt){if(Vt>=Ce.length)return At;var Gt=[],nr=Ne[Vt++];return At.forEach(function(Lr,Pr){Gt.push({key:Lr,values:Pt(Pr,Vt)})}),nr?Gt.sort(function(Lr,Pr){return nr(Lr.key,Pr.key)}):Gt}return fe.map=function(At,Vt){return ft(Vt,At,0)},fe.entries=function(At){return Pt(ft(a.map,At,0),0)},fe.key=function(At){return Ce.push(At),fe},fe.sortKeys=function(At){return Ne[Ce.length-1]=At,fe},fe.sortValues=function(At){return qe=At,fe},fe.rollup=function(At){return rt=At,fe},fe},a.set=function(fe){var Ce=new z;if(fe)for(var Ne=0,qe=fe.length;Ne<qe;++Ne)Ce.add(fe[Ne]);return Ce};function z(){this._=Object.create(null)}T(z,{has:E,add:function(fe){return this._[M(fe+="")]=!0,fe},remove:w,values:O,size:_,empty:U,forEach:function(fe){for(var Ce in this._)fe.call(this,s(Ce))}}),a.behavior={};function F(fe){return fe}a.rebind=function(fe,Ce){for(var Ne=1,qe=arguments.length,rt;++Ne<qe;)fe[rt=arguments[Ne]]=B(fe,Ce,Ce[rt]);return fe};function B(fe,Ce,Ne){return function(){var qe=Ne.apply(Ce,arguments);return qe===Ce?fe:qe}}function N(fe,Ce){if(Ce in fe)return Ce;Ce=Ce.charAt(0).toUpperCase()+Ce.slice(1);for(var Ne=0,qe=V.length;Ne<qe;++Ne){var rt=V[Ne]+Ce;if(rt in fe)return rt}}var V=["webkit","ms","moz","Moz","o","O"];function X(){}a.dispatch=function(){for(var fe=new q,Ce=-1,Ne=arguments.length;++Ce<Ne;)fe[arguments[Ce]]=te(fe);return fe};function q(){}q.prototype.on=function(fe,Ce){var Ne=fe.indexOf("."),qe="";if(Ne>=0&&(qe=fe.slice(Ne+1),fe=fe.slice(0,Ne)),fe)return arguments.length<2?this[fe].on(qe):this[fe].on(qe,Ce);if(arguments.length===2){if(Ce==null)for(fe in this)this.hasOwnProperty(fe)&&this[fe].on(qe,null);return this}};function te(fe){var Ce=[],Ne=new P;function qe(){for(var rt=Ce,ft=-1,Pt=rt.length,At;++ft<Pt;)(At=rt[ft].on)&&At.apply(this,arguments);return fe}return qe.on=function(rt,ft){var Pt=Ne.get(rt),At;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Ce=Ce.slice(0,At=Ce.indexOf(Pt)).concat(Ce.slice(At+1)),Ne.remove(rt)),ft&&Ce.push(Ne.set(rt,{on:ft})),fe)},qe}a.event=null;function ne(){a.event.preventDefault()}function ce(){for(var fe=a.event,Ce;Ce=fe.sourceEvent;)fe=Ce;return fe}function Q(fe){for(var Ce=new q,Ne=0,qe=arguments.length;++Ne<qe;)Ce[arguments[Ne]]=te(Ce);return Ce.of=function(rt,ft){return function(Pt){try{var At=Pt.sourceEvent=a.event;Pt.target=fe,a.event=Pt,Ce[Pt.type].apply(rt,ft)}finally{a.event=At}}},Ce}a.requote=function(fe){return fe.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,re={}.__proto__?function(fe,Ce){fe.__proto__=Ce}:function(fe,Ce){for(var Ne in Ce)fe[Ne]=Ce[Ne]};function Y(fe){return re(fe,$),fe}var oe=function(fe,Ce){return Ce.querySelector(fe)},ue=function(fe,Ce){return Ce.querySelectorAll(fe)},K=function(fe,Ce){var Ne=fe.matches||fe[N(fe,"matchesSelector")];return K=function(qe,rt){return Ne.call(qe,rt)},K(fe,Ce)};typeof Sizzle=="function"&&(oe=function(fe,Ce){return Sizzle(fe,Ce)[0]||null},ue=Sizzle,K=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var $=a.selection.prototype=[];$.select=function(fe){var Ce=[],Ne,qe,rt,ft;fe=le(fe);for(var Pt=-1,At=this.length;++Pt<At;){Ce.push(Ne=[]),Ne.parentNode=(rt=this[Pt]).parentNode;for(var Vt=-1,Gt=rt.length;++Vt<Gt;)(ft=rt[Vt])?(Ne.push(qe=fe.call(ft,ft.__data__,Vt,Pt)),qe&&"__data__"in ft&&(qe.__data__=ft.__data__)):Ne.push(null)}return Y(Ce)};function le(fe){return typeof fe=="function"?fe:function(){return oe(fe,this)}}$.selectAll=function(fe){var Ce=[],Ne,qe;fe=ae(fe);for(var rt=-1,ft=this.length;++rt<ft;)for(var Pt=this[rt],At=-1,Vt=Pt.length;++At<Vt;)(qe=Pt[At])&&(Ce.push(Ne=S(fe.call(qe,qe.__data__,At,rt))),Ne.parentNode=qe);return Y(Ce)};function ae(fe){return typeof fe=="function"?fe:function(){return ue(fe,this)}}var he="http://www.w3.org/1999/xhtml",xe={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:xe,qualify:function(fe){var Ce=fe.indexOf(":"),Ne=fe;return Ce>=0&&(Ne=fe.slice(0,Ce))!=="xmlns"&&(fe=fe.slice(Ce+1)),xe.hasOwnProperty(Ne)?{space:xe[Ne],local:fe}:fe}},$.attr=function(fe,Ce){if(arguments.length<2){if(typeof fe=="string"){var Ne=this.node();return fe=a.ns.qualify(fe),fe.local?Ne.getAttributeNS(fe.space,fe.local):Ne.getAttribute(fe)}for(Ce in fe)this.each(Me(Ce,fe[Ce]));return this}return this.each(Me(fe,Ce))};function Me(fe,Ce){fe=a.ns.qualify(fe);function Ne(){this.removeAttribute(fe)}function qe(){this.removeAttributeNS(fe.space,fe.local)}function rt(){this.setAttribute(fe,Ce)}function ft(){this.setAttributeNS(fe.space,fe.local,Ce)}function Pt(){var Vt=Ce.apply(this,arguments);Vt==null?this.removeAttribute(fe):this.setAttribute(fe,Vt)}function At(){var Vt=Ce.apply(this,arguments);Vt==null?this.removeAttributeNS(fe.space,fe.local):this.setAttributeNS(fe.space,fe.local,Vt)}return Ce==null?fe.local?qe:Ne:typeof Ce=="function"?fe.local?At:Pt:fe.local?ft:rt}function Ae(fe){return fe.trim().replace(/\s+/g," ")}$.classed=function(fe,Ce){if(arguments.length<2){if(typeof fe=="string"){var Ne=this.node(),qe=(fe=we(fe)).length,rt=-1;if(Ce=Ne.classList){for(;++rt<qe;)if(!Ce.contains(fe[rt]))return!1}else for(Ce=Ne.getAttribute("class");++rt<qe;)if(!ke(fe[rt]).test(Ce))return!1;return!0}for(Ce in fe)this.each(Ee(Ce,fe[Ce]));return this}return this.each(Ee(fe,Ce))};function ke(fe){return new RegExp("(?:^|\\s+)"+a.requote(fe)+"(?:\\s+|$)","g")}function we(fe){return(fe+"").trim().split(/^|\s+/)}function Ee(fe,Ce){fe=we(fe).map(be);var Ne=fe.length;function qe(){for(var ft=-1;++ft<Ne;)fe[ft](this,Ce)}function rt(){for(var ft=-1,Pt=Ce.apply(this,arguments);++ft<Ne;)fe[ft](this,Pt)}return typeof Ce=="function"?rt:qe}function be(fe){var Ce=ke(fe);return function(Ne,qe){if(rt=Ne.classList)return qe?rt.add(fe):rt.remove(fe);var rt=Ne.getAttribute("class")||"";qe?(Ce.lastIndex=0,Ce.test(rt)||Ne.setAttribute("class",Ae(rt+" "+fe))):Ne.setAttribute("class",Ae(rt.replace(Ce," ")))}}$.style=function(fe,Ce,Ne){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Ce="");for(Ne in fe)this.each(Le(Ne,fe[Ne],Ce));return this}if(qe<2){var rt=this.node();return r(rt).getComputedStyle(rt,null).getPropertyValue(fe)}Ne=""}return this.each(Le(fe,Ce,Ne))};function Le(fe,Ce,Ne){function qe(){this.style.removeProperty(fe)}function rt(){this.style.setProperty(fe,Ce,Ne)}function ft(){var Pt=Ce.apply(this,arguments);Pt==null?this.style.removeProperty(fe):this.style.setProperty(fe,Pt,Ne)}return Ce==null?qe:typeof Ce=="function"?ft:rt}$.property=function(fe,Ce){if(arguments.length<2){if(typeof fe=="string")return this.node()[fe];for(Ce in fe)this.each(Ue(Ce,fe[Ce]));return this}return this.each(Ue(fe,Ce))};function Ue(fe,Ce){function Ne(){delete this[fe]}function qe(){this[fe]=Ce}function rt(){var ft=Ce.apply(this,arguments);ft==null?delete this[fe]:this[fe]=ft}return Ce==null?Ne:typeof Ce=="function"?rt:qe}$.text=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Ce=fe.apply(this,arguments);this.textContent=Ce??""}:fe==null?function(){this.textContent=""}:function(){this.textContent=fe}):this.node().textContent},$.html=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Ce=fe.apply(this,arguments);this.innerHTML=Ce??""}:fe==null?function(){this.innerHTML=""}:function(){this.innerHTML=fe}):this.node().innerHTML},$.append=function(fe){return fe=Ve(fe),this.select(function(){return this.appendChild(fe.apply(this,arguments))})};function Ve(fe){function Ce(){var qe=this.ownerDocument,rt=this.namespaceURI;return rt===he&&qe.documentElement.namespaceURI===he?qe.createElement(fe):qe.createElementNS(rt,fe)}function Ne(){return this.ownerDocument.createElementNS(fe.space,fe.local)}return typeof fe=="function"?fe:(fe=a.ns.qualify(fe)).local?Ne:Ce}$.insert=function(fe,Ce){return fe=Ve(fe),Ce=le(Ce),this.select(function(){return this.insertBefore(fe.apply(this,arguments),Ce.apply(this,arguments)||null)})},$.remove=function(){return this.each(Fe)};function Fe(){var fe=this.parentNode;fe&&fe.removeChild(this)}$.data=function(fe,Ce){var Ne=-1,qe=this.length,rt,ft;if(!arguments.length){for(fe=new Array(qe=(rt=this[0]).length);++Ne<qe;)(ft=rt[Ne])&&(fe[Ne]=ft.__data__);return fe}function Pt(nr,Lr){var Pr,en=nr.length,on=Lr.length,Dr=Math.min(en,on),Vr=new Array(on),Jr=new Array(on),un=new Array(en),dn,rn;if(Ce){var Wn=new P,ra=new Array(en),ca;for(Pr=-1;++Pr<en;)(dn=nr[Pr])&&(Wn.has(ca=Ce.call(dn,dn.__data__,Pr))?un[Pr]=dn:Wn.set(ca,dn),ra[Pr]=ca);for(Pr=-1;++Pr<on;)(dn=Wn.get(ca=Ce.call(Lr,rn=Lr[Pr],Pr)))?dn!==!0&&(Vr[Pr]=dn,dn.__data__=rn):Jr[Pr]=He(rn),Wn.set(ca,!0);for(Pr=-1;++Pr<en;)Pr in ra&&Wn.get(ra[Pr])!==!0&&(un[Pr]=nr[Pr])}else{for(Pr=-1;++Pr<Dr;)dn=nr[Pr],rn=Lr[Pr],dn?(dn.__data__=rn,Vr[Pr]=dn):Jr[Pr]=He(rn);for(;Pr<on;++Pr)Jr[Pr]=He(Lr[Pr]);for(;Pr<en;++Pr)un[Pr]=nr[Pr]}Jr.update=Vr,Jr.parentNode=Vr.parentNode=un.parentNode=nr.parentNode,At.push(Jr),Vt.push(Vr),Gt.push(un)}var At=et([]),Vt=Y([]),Gt=Y([]);if(typeof fe=="function")for(;++Ne<qe;)Pt(rt=this[Ne],fe.call(rt,rt.parentNode.__data__,Ne));else for(;++Ne<qe;)Pt(rt=this[Ne],fe);return Vt.enter=function(){return At},Vt.exit=function(){return Gt},Vt};function He(fe){return{__data__:fe}}$.datum=function(fe){return arguments.length?this.property("__data__",fe):this.property("__data__")},$.filter=function(fe){var Ce=[],Ne,qe,rt;typeof fe!="function"&&(fe=st(fe));for(var ft=0,Pt=this.length;ft<Pt;ft++){Ce.push(Ne=[]),Ne.parentNode=(qe=this[ft]).parentNode;for(var At=0,Vt=qe.length;At<Vt;At++)(rt=qe[At])&&fe.call(rt,rt.__data__,At,ft)&&Ne.push(rt)}return Y(Ce)};function st(fe){return function(){return K(this,fe)}}$.order=function(){for(var fe=-1,Ce=this.length;++fe<Ce;)for(var Ne=this[fe],qe=Ne.length-1,rt=Ne[qe],ft;--qe>=0;)(ft=Ne[qe])&&(rt&&rt!==ft.nextSibling&&rt.parentNode.insertBefore(ft,rt),rt=ft);return this},$.sort=function(fe){fe=vt.apply(this,arguments);for(var Ce=-1,Ne=this.length;++Ce<Ne;)this[Ce].sort(fe);return this.order()};function vt(fe){return arguments.length||(fe=l),function(Ce,Ne){return Ce&&Ne?fe(Ce.__data__,Ne.__data__):!Ce-!Ne}}$.each=function(fe){return lt(this,function(Ce,Ne,qe){fe.call(Ce,Ce.__data__,Ne,qe)})};function lt(fe,Ce){for(var Ne=0,qe=fe.length;Ne<qe;Ne++)for(var rt=fe[Ne],ft=0,Pt=rt.length,At;ft<Pt;ft++)(At=rt[ft])&&Ce(At,ft,Ne);return fe}$.call=function(fe){var Ce=S(arguments);return fe.apply(Ce[0]=this,Ce),this},$.empty=function(){return!this.node()},$.node=function(){for(var fe=0,Ce=this.length;fe<Ce;fe++)for(var Ne=this[fe],qe=0,rt=Ne.length;qe<rt;qe++){var ft=Ne[qe];if(ft)return ft}return null},$.size=function(){var fe=0;return lt(this,function(){++fe}),fe};function et(fe){return re(fe,ct),fe}var ct=[];a.selection.enter=et,a.selection.enter.prototype=ct,ct.append=$.append,ct.empty=$.empty,ct.node=$.node,ct.call=$.call,ct.size=$.size,ct.select=function(fe){for(var Ce=[],Ne,qe,rt,ft,Pt,At=-1,Vt=this.length;++At<Vt;){rt=(ft=this[At]).update,Ce.push(Ne=[]),Ne.parentNode=ft.parentNode;for(var Gt=-1,nr=ft.length;++Gt<nr;)(Pt=ft[Gt])?(Ne.push(rt[Gt]=qe=fe.call(ft.parentNode,Pt.__data__,Gt,At)),qe.__data__=Pt.__data__):Ne.push(null)}return Y(Ce)},ct.insert=function(fe,Ce){return arguments.length<2&&(Ce=ht(this)),$.insert.call(this,fe,Ce)};function ht(fe){var Ce,Ne;return function(qe,rt,ft){var Pt=fe[ft].update,At=Pt.length,Vt;for(ft!=Ne&&(Ne=ft,Ce=0),rt>=Ce&&(Ce=rt+1);!(Vt=Pt[Ce])&&++Ce<At;);return Vt}}a.select=function(fe){var Ce;return typeof fe=="string"?(Ce=[oe(fe,v)],Ce.parentNode=v.documentElement):(Ce=[fe],Ce.parentNode=d(fe)),Y([Ce])},a.selectAll=function(fe){var Ce;return typeof fe=="string"?(Ce=S(ue(fe,v)),Ce.parentNode=v.documentElement):(Ce=S(fe),Ce.parentNode=null),Y([Ce])},$.on=function(fe,Ce,Ne){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Ce=!1);for(Ne in fe)this.each(mt(Ne,fe[Ne],Ce));return this}if(qe<2)return(qe=this.node()["__on"+fe])&&qe._;Ne=!1}return this.each(mt(fe,Ce,Ne))};function mt(fe,Ce,Ne){var qe="__on"+fe,rt=fe.indexOf("."),ft=Mt;rt>0&&(fe=fe.slice(0,rt));var Pt=xt.get(fe);Pt&&(fe=Pt,ft=tt);function At(){var nr=this[qe];nr&&(this.removeEventListener(fe,nr,nr.$),delete this[qe])}function Vt(){var nr=ft(Ce,S(arguments));At.call(this),this.addEventListener(fe,this[qe]=nr,nr.$=Ne),nr._=Ce}function Gt(){var nr=new RegExp("^__on([^.]+)"+a.requote(fe)+"$"),Lr;for(var Pr in this)if(Lr=Pr.match(nr)){var en=this[Pr];this.removeEventListener(Lr[1],en,en.$),delete this[Pr]}}return rt?Ce?Vt:At:Ce?X:Gt}var xt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&xt.forEach(function(fe){"on"+fe in v&&xt.remove(fe)});function Mt(fe,Ce){return function(Ne){var qe=a.event;a.event=Ne,Ce[0]=this.__data__;try{fe.apply(this,Ce)}finally{a.event=qe}}}function tt(fe,Ce){var Ne=Mt(fe,Ce);return function(qe){var rt=this,ft=qe.relatedTarget;(!ft||ft!==rt&&!(ft.compareDocumentPosition(rt)&8))&&Ne.call(rt,qe)}}var Oe,Ye=0;function Ze(fe){var Ce=".dragsuppress-"+ ++Ye,Ne="click"+Ce,qe=a.select(r(fe)).on("touchmove"+Ce,ne).on("dragstart"+Ce,ne).on("selectstart"+Ce,ne);if(Oe==null&&(Oe="onselectstart"in fe?!1:N(fe.style,"userSelect")),Oe){var rt=d(fe).style,ft=rt[Oe];rt[Oe]="none"}return function(Pt){if(qe.on(Ce,null),Oe&&(rt[Oe]=ft),Pt){var At=function(){qe.on(Ne,null)};qe.on(Ne,function(){ne(),At()},!0),setTimeout(At,0)}}}a.mouse=function(fe){return _e(fe,ce())};var We=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _e(fe,Ce){Ce.changedTouches&&(Ce=Ce.changedTouches[0]);var Ne=fe.ownerSVGElement||fe;if(Ne.createSVGPoint){var qe=Ne.createSVGPoint();if(We<0){var rt=r(fe);if(rt.scrollX||rt.scrollY){Ne=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ft=Ne[0][0].getScreenCTM();We=!(ft.f||ft.e),Ne.remove()}}return We?(qe.x=Ce.pageX,qe.y=Ce.pageY):(qe.x=Ce.clientX,qe.y=Ce.clientY),qe=qe.matrixTransform(fe.getScreenCTM().inverse()),[qe.x,qe.y]}var Pt=fe.getBoundingClientRect();return[Ce.clientX-Pt.left-fe.clientLeft,Ce.clientY-Pt.top-fe.clientTop]}a.touch=function(fe,Ce,Ne){if(arguments.length<3&&(Ne=Ce,Ce=ce().changedTouches),Ce){for(var qe=0,rt=Ce.length,ft;qe<rt;++qe)if((ft=Ce[qe]).identifier===Ne)return _e(fe,ft)}},a.behavior.drag=function(){var fe=Q(rt,"drag","dragstart","dragend"),Ce=null,Ne=ft(X,a.mouse,r,"mousemove","mouseup"),qe=ft(Ie,a.touch,F,"touchmove","touchend");function rt(){this.on("mousedown.drag",Ne).on("touchstart.drag",qe)}function ft(Pt,At,Vt,Gt,nr){return function(){var Lr=this,Pr=a.event.target.correspondingElement||a.event.target,en=Lr.parentNode,on=fe.of(Lr,arguments),Dr=0,Vr=Pt(),Jr=".drag"+(Vr==null?"":"-"+Vr),un,dn=a.select(Vt(Pr)).on(Gt+Jr,ra).on(nr+Jr,ca),rn=Ze(Pr),Wn=At(en,Vr);Ce?(un=Ce.apply(Lr,arguments),un=[un.x-Wn[0],un.y-Wn[1]]):un=[0,0],on({type:"dragstart"});function ra(){var ea=At(en,Vr),sa,ha;ea&&(sa=ea[0]-Wn[0],ha=ea[1]-Wn[1],Dr|=sa|ha,Wn=ea,on({type:"drag",x:ea[0]+un[0],y:ea[1]+un[1],dx:sa,dy:ha}))}function ca(){At(en,Vr)&&(dn.on(Gt+Jr,null).on(nr+Jr,null),rn(Dr),on({type:"dragend"}))}}}return rt.origin=function(Pt){return arguments.length?(Ce=Pt,rt):Ce},a.rebind(rt,fe,"on")};function Ie(){return a.event.changedTouches[0].identifier}a.touches=function(fe,Ce){return arguments.length<2&&(Ce=ce().touches),Ce?S(Ce).map(function(Ne){var qe=_e(fe,Ne);return qe.identifier=Ne.identifier,qe}):[]};var Xe=1e-6,De=Xe*Xe,de=Math.PI,Te=2*de,Be=Te-Xe,Qe=de/2,at=de/180,it=180/de;function Wt(fe,Ce,Ne){return(Ce[0]-fe[0])*(Ne[1]-fe[1])-(Ce[1]-fe[1])*(Ne[0]-fe[0])}function Yt(fe){return fe>1?Qe:fe<-1?-Qe:Math.asin(fe)}function Tt(fe){return((fe=Math.exp(fe))-1/fe)/2}function Lt(fe){return((fe=Math.exp(fe))+1/fe)/2}function Xt(fe){return((fe=Math.exp(2*fe))-1)/(fe+1)}var Tr=Math.SQRT2,gt=2,Kt=4;a.interpolateZoom=function(fe,Ce){var Ne=fe[0],qe=fe[1],rt=fe[2],ft=Ce[0],Pt=Ce[1],At=Ce[2],Vt=ft-Ne,Gt=Pt-qe,nr=Vt*Vt+Gt*Gt,Lr,Pr;if(nr<De)Pr=Math.log(At/rt)/Tr,Lr=function(un){return[Ne+un*Vt,qe+un*Gt,rt*Math.exp(Tr*un*Pr)]};else{var en=Math.sqrt(nr),on=(At*At-rt*rt+Kt*nr)/(2*rt*gt*en),Dr=(At*At-rt*rt-Kt*nr)/(2*At*gt*en),Vr=Math.log(Math.sqrt(on*on+1)-on),Jr=Math.log(Math.sqrt(Dr*Dr+1)-Dr);Pr=(Jr-Vr)/Tr,Lr=function(un){var dn=un*Pr,rn=Lt(Vr),Wn=rt/(gt*en)*(rn*Xt(Tr*dn+Vr)-Tt(Vr));return[Ne+Wn*Vt,qe+Wn*Gt,rt*rn/Lt(Tr*dn+Vr)]}}return Lr.duration=Pr*1e3,Lr},a.behavior.zoom=function(){var fe={x:0,y:0,k:1},Ce,Ne,qe,rt=[960,500],ft=Qt,Pt=250,At=0,Vt="mousedown.zoom",Gt="mousemove.zoom",nr="mouseup.zoom",Lr,Pr="touchstart.zoom",en,on=Q(dn,"zoomstart","zoom","zoomend"),Dr,Vr,Jr,un;fr||(fr="onwheel"in v?(yr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(yr=function(){return a.event.wheelDelta},"mousewheel"):(yr=function(){return-a.event.detail},"MozMousePixelScroll"));function dn(Qn){Qn.on(Vt,Fa).on(fr+".zoom",Ki).on("dblclick.zoom",di).on(Pr,li)}dn.event=function(Qn){Qn.each(function(){var Wa=on.of(this,arguments),Ea=fe;kr?a.select(this).transition().each("start.zoom",function(){fe=this.__chart__||{x:0,y:0,k:1},ha(Wa)}).tween("zoom:zoom",function(){var qa=rt[0],Ei=rt[1],ui=Ne?Ne[0]:qa/2,fo=Ne?Ne[1]:Ei/2,co=a.interpolateZoom([(ui-fe.x)/fe.k,(fo-fe.y)/fe.k,qa/fe.k],[(ui-Ea.x)/Ea.k,(fo-Ea.y)/Ea.k,qa/Ea.k]);return function(mo){var Ci=co(mo),Po=qa/Ci[2];this.__chart__=fe={x:ui-Ci[0]*Po,y:fo-Ci[1]*Po,k:Po},Va(Wa)}}).each("interrupt.zoom",function(){La(Wa)}).each("end.zoom",function(){La(Wa)}):(this.__chart__=fe,ha(Wa),Va(Wa),La(Wa))})},dn.translate=function(Qn){return arguments.length?(fe={x:+Qn[0],y:+Qn[1],k:fe.k},sa(),dn):[fe.x,fe.y]},dn.scale=function(Qn){return arguments.length?(fe={x:fe.x,y:fe.y,k:null},ra(+Qn),sa(),dn):fe.k},dn.scaleExtent=function(Qn){return arguments.length?(ft=Qn==null?Qt:[+Qn[0],+Qn[1]],dn):ft},dn.center=function(Qn){return arguments.length?(qe=Qn&&[+Qn[0],+Qn[1]],dn):qe},dn.size=function(Qn){return arguments.length?(rt=Qn&&[+Qn[0],+Qn[1]],dn):rt},dn.duration=function(Qn){return arguments.length?(Pt=+Qn,dn):Pt},dn.x=function(Qn){return arguments.length?(Vr=Qn,Dr=Qn.copy(),fe={x:0,y:0,k:1},dn):Vr},dn.y=function(Qn){return arguments.length?(un=Qn,Jr=Qn.copy(),fe={x:0,y:0,k:1},dn):un};function rn(Qn){return[(Qn[0]-fe.x)/fe.k,(Qn[1]-fe.y)/fe.k]}function Wn(Qn){return[Qn[0]*fe.k+fe.x,Qn[1]*fe.k+fe.y]}function ra(Qn){fe.k=Math.max(ft[0],Math.min(ft[1],Qn))}function ca(Qn,Wa){Wa=Wn(Wa),fe.x+=Qn[0]-Wa[0],fe.y+=Qn[1]-Wa[1]}function ea(Qn,Wa,Ea,qa){Qn.__chart__={x:fe.x,y:fe.y,k:fe.k},ra(Math.pow(2,qa)),ca(Ne=Wa,Ea),Qn=a.select(Qn),Pt>0&&(Qn=Qn.transition().duration(Pt)),Qn.call(dn.event)}function sa(){Vr&&Vr.domain(Dr.range().map(function(Qn){return(Qn-fe.x)/fe.k}).map(Dr.invert)),un&&un.domain(Jr.range().map(function(Qn){return(Qn-fe.y)/fe.k}).map(Jr.invert))}function ha(Qn){At++||Qn({type:"zoomstart"})}function Va(Qn){sa(),Qn({type:"zoom",scale:fe.k,translate:[fe.x,fe.y]})}function La(Qn){--At||(Qn({type:"zoomend"}),Ne=null)}function Fa(){var Qn=this,Wa=on.of(Qn,arguments),Ea=0,qa=a.select(r(Qn)).on(Gt,fo).on(nr,co),Ei=rn(a.mouse(Qn)),ui=Ze(Qn);Ft.call(Qn),ha(Wa);function fo(){Ea=1,ca(a.mouse(Qn),Ei),Va(Wa)}function co(){qa.on(Gt,null).on(nr,null),ui(Ea),La(Wa)}}function li(){var Qn=this,Wa=on.of(Qn,arguments),Ea={},qa=0,Ei,ui=".zoom-"+a.event.changedTouches[0].identifier,fo="touchmove"+ui,co="touchend"+ui,mo=[],Ci=a.select(Qn),Po=Ze(Qn);Ra(),ha(Wa),Ci.on(Vt,null).on(Pr,Ra);function ua(){var xo=a.touches(Qn);return Ei=fe.k,xo.forEach(function(pi){pi.identifier in Ea&&(Ea[pi.identifier]=rn(pi))}),xo}function Ra(){var xo=a.event.target;a.select(xo).on(fo,Zo).on(co,ns),mo.push(xo);for(var pi=a.event.changedTouches,ro=0,Ji=pi.length;ro<Ji;++ro)Ea[pi[ro].identifier]=null;var Fs=ua(),tl=Date.now();if(Fs.length===1){if(tl-en<500){var Oi=Fs[0];ea(Qn,Oi,Ea[Oi.identifier],Math.floor(Math.log(fe.k)/Math.LN2)+1),ne()}en=tl}else if(Fs.length>1){var Oi=Fs[0],mu=Fs[1],ei=Oi[0]-mu[0],zi=Oi[1]-mu[1];qa=ei*ei+zi*zi}}function Zo(){var xo=a.touches(Qn),pi,ro,Ji,Fs;Ft.call(Qn);for(var tl=0,Oi=xo.length;tl<Oi;++tl,Fs=null)if(Ji=xo[tl],Fs=Ea[Ji.identifier]){if(ro)break;pi=Ji,ro=Fs}if(Fs){var mu=(mu=Ji[0]-pi[0])*mu+(mu=Ji[1]-pi[1])*mu,ei=qa&&Math.sqrt(mu/qa);pi=[(pi[0]+Ji[0])/2,(pi[1]+Ji[1])/2],ro=[(ro[0]+Fs[0])/2,(ro[1]+Fs[1])/2],ra(ei*Ei)}en=null,ca(pi,ro),Va(Wa)}function ns(){if(a.event.touches.length){for(var xo=a.event.changedTouches,pi=0,ro=xo.length;pi<ro;++pi)delete Ea[xo[pi].identifier];for(var Ji in Ea)return void ua()}a.selectAll(mo).on(ui,null),Ci.on(Vt,Fa).on(Pr,li),Po(),La(Wa)}}function Ki(){var Qn=on.of(this,arguments);Lr?clearTimeout(Lr):(Ft.call(this),Ce=rn(Ne=qe||a.mouse(this)),ha(Qn)),Lr=setTimeout(function(){Lr=null,La(Qn)},50),ne(),ra(Math.pow(2,yr()*.002)*fe.k),ca(Ne,Ce),Va(Qn)}function di(){var Qn=a.mouse(this),Wa=Math.log(fe.k)/Math.LN2;ea(this,Qn,rn(Qn),a.event.shiftKey?Math.ceil(Wa)-1:Math.floor(Wa)+1)}return a.rebind(dn,on,"on")};var Qt=[0,1/0],yr,fr;a.color=yt;function yt(){}yt.prototype.toString=function(){return this.rgb()+""},a.hsl=ot;function ot(fe,Ce,Ne){return this instanceof ot?(this.h=+fe,this.s=+Ce,void(this.l=+Ne)):arguments.length<2?fe instanceof ot?new ot(fe.h,fe.s,fe.l):Ar(""+fe,cr,ot):new ot(fe,Ce,Ne)}var bt=ot.prototype=new yt;bt.brighter=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new ot(this.h,this.s,this.l/fe)},bt.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new ot(this.h,this.s,fe*this.l)},bt.rgb=function(){return Et(this.h,this.s,this.l)};function Et(fe,Ce,Ne){var qe,rt;fe=isNaN(fe)?0:(fe%=360)<0?fe+360:fe,Ce=isNaN(Ce)||Ce<0?0:Ce>1?1:Ce,Ne=Ne<0?0:Ne>1?1:Ne,rt=Ne<=.5?Ne*(1+Ce):Ne+Ce-Ne*Ce,qe=2*Ne-rt;function ft(At){return At>360?At-=360:At<0&&(At+=360),At<60?qe+(rt-qe)*At/60:At<180?rt:At<240?qe+(rt-qe)*(240-At)/60:qe}function Pt(At){return Math.round(ft(At)*255)}return new or(Pt(fe+120),Pt(fe),Pt(fe-120))}a.hcl=Dt;function Dt(fe,Ce,Ne){return this instanceof Dt?(this.h=+fe,this.c=+Ce,void(this.l=+Ne)):arguments.length<2?fe instanceof Dt?new Dt(fe.h,fe.c,fe.l):fe instanceof Nt?Ot(fe.l,fe.a,fe.b):Ot((fe=Hr((fe=a.rgb(fe)).r,fe.g,fe.b)).l,fe.a,fe.b):new Dt(fe,Ce,Ne)}var Ht=Dt.prototype=new yt;Ht.brighter=function(fe){return new Dt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?fe:1)))},Ht.darker=function(fe){return new Dt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?fe:1)))},Ht.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(fe,Ce,Ne){return isNaN(fe)&&(fe=0),isNaN(Ce)&&(Ce=0),new Nt(Ne,Math.cos(fe*=at)*Ce,Math.sin(fe)*Ce)}a.lab=Nt;function Nt(fe,Ce,Ne){return this instanceof Nt?(this.l=+fe,this.a=+Ce,void(this.b=+Ne)):arguments.length<2?fe instanceof Nt?new Nt(fe.l,fe.a,fe.b):fe instanceof Dt?Bt(fe.h,fe.c,fe.l):Hr((fe=or(fe)).r,fe.g,fe.b):new Nt(fe,Ce,Ne)}var Jt=18,hr=.95047,Zt=1,dr=1.08883,je=Nt.prototype=new yt;je.brighter=function(fe){return new Nt(Math.min(100,this.l+Jt*(arguments.length?fe:1)),this.a,this.b)},je.darker=function(fe){return new Nt(Math.max(0,this.l-Jt*(arguments.length?fe:1)),this.a,this.b)},je.rgb=function(){return Ge(this.l,this.a,this.b)};function Ge(fe,Ce,Ne){var qe=(fe+16)/116,rt=qe+Ce/500,ft=qe-Ne/200;return rt=kt(rt)*hr,qe=kt(qe)*Zt,ft=kt(ft)*dr,new or(ar(3.2404542*rt-1.5371385*qe-.4985314*ft),ar(-.969266*rt+1.8760108*qe+.041556*ft),ar(.0556434*rt-.2040259*qe+1.0572252*ft))}function Ot(fe,Ce,Ne){return fe>0?new Dt(Math.atan2(Ne,Ce)*it,Math.sqrt(Ce*Ce+Ne*Ne),fe):new Dt(NaN,NaN,fe)}function kt(fe){return fe>.206893034?fe*fe*fe:(fe-.13793103448275862)/7.787037}function $t(fe){return fe>.008856?Math.pow(fe,.3333333333333333):7.787037*fe+.13793103448275862}function ar(fe){return Math.round(255*(fe<=.00304?12.92*fe:1.055*Math.pow(fe,.4166666666666667)-.055))}a.rgb=or;function or(fe,Ce,Ne){return this instanceof or?(this.r=~~fe,this.g=~~Ce,void(this.b=~~Ne)):arguments.length<2?fe instanceof or?new or(fe.r,fe.g,fe.b):Ar(""+fe,or,Et):new or(fe,Ce,Ne)}function rr(fe){return new or(fe>>16,fe>>8&255,fe&255)}function zt(fe){return rr(fe)+""}var vr=or.prototype=new yt;vr.brighter=function(fe){fe=Math.pow(.7,arguments.length?fe:1);var Ce=this.r,Ne=this.g,qe=this.b,rt=30;return!Ce&&!Ne&&!qe?new or(rt,rt,rt):(Ce&&Ce<rt&&(Ce=rt),Ne&&Ne<rt&&(Ne=rt),qe&&qe<rt&&(qe=rt),new or(Math.min(255,Ce/fe),Math.min(255,Ne/fe),Math.min(255,qe/fe)))},vr.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new or(fe*this.r,fe*this.g,fe*this.b)},vr.hsl=function(){return cr(this.r,this.g,this.b)},vr.toString=function(){return"#"+gr(this.r)+gr(this.g)+gr(this.b)};function gr(fe){return fe<16?"0"+Math.max(0,fe).toString(16):Math.min(255,fe).toString(16)}function Ar(fe,Ce,Ne){var qe=0,rt=0,ft=0,Pt,At,Vt;if(Pt=/([a-z]+)\((.*)\)/.exec(fe=fe.toLowerCase()),Pt)switch(At=Pt[2].split(","),Pt[1]){case"hsl":return Ne(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Ce(Ir(At[0]),Ir(At[1]),Ir(At[2]))}return(Vt=cn.get(fe))?Ce(Vt.r,Vt.g,Vt.b):(fe!=null&&fe.charAt(0)==="#"&&!isNaN(Vt=parseInt(fe.slice(1),16))&&(fe.length===4?(qe=(Vt&3840)>>4,qe=qe>>4|qe,rt=Vt&240,rt=rt>>4|rt,ft=Vt&15,ft=ft<<4|ft):fe.length===7&&(qe=(Vt&16711680)>>16,rt=(Vt&65280)>>8,ft=Vt&255)),Ce(qe,rt,ft))}function cr(fe,Ce,Ne){var qe=Math.min(fe/=255,Ce/=255,Ne/=255),rt=Math.max(fe,Ce,Ne),ft=rt-qe,Pt,At,Vt=(rt+qe)/2;return ft?(At=Vt<.5?ft/(rt+qe):ft/(2-rt-qe),fe==rt?Pt=(Ce-Ne)/ft+(Ce<Ne?6:0):Ce==rt?Pt=(Ne-fe)/ft+2:Pt=(fe-Ce)/ft+4,Pt*=60):(Pt=NaN,At=Vt>0&&Vt<1?0:Pt),new ot(Pt,At,Vt)}function Hr(fe,Ce,Ne){fe=Rr(fe),Ce=Rr(Ce),Ne=Rr(Ne);var qe=$t((.4124564*fe+.3575761*Ce+.1804375*Ne)/hr),rt=$t((.2126729*fe+.7151522*Ce+.072175*Ne)/Zt),ft=$t((.0193339*fe+.119192*Ce+.9503041*Ne)/dr);return Nt(116*rt-16,500*(qe-rt),200*(rt-ft))}function Rr(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function Ir(fe){var Ce=parseFloat(fe);return fe.charAt(fe.length-1)==="%"?Math.round(Ce*2.55):Ce}var cn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});cn.forEach(function(fe,Ce){cn.set(fe,rr(Ce))});function Zr(fe){return typeof fe=="function"?fe:function(){return fe}}a.functor=Zr,a.xhr=An(F);function An(fe){return function(Ce,Ne,qe){return arguments.length===2&&typeof Ne=="function"&&(qe=Ne,Ne=null),Sn(Ce,Ne,fe,qe)}}function Sn(fe,Ce,Ne,qe){var rt={},ft=a.dispatch("beforesend","progress","load","error"),Pt={},At=new XMLHttpRequest,Vt=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(fe)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Gt:At.onreadystatechange=function(){At.readyState>3&&Gt()};function Gt(){var nr=At.status,Lr;if(!nr&&Or(At)||nr>=200&&nr<300||nr===304){try{Lr=Ne.call(rt,At)}catch(Pr){ft.error.call(rt,Pr);return}ft.load.call(rt,Lr)}else ft.error.call(rt,At)}return At.onprogress=function(nr){var Lr=a.event;a.event=nr;try{ft.progress.call(rt,At)}finally{a.event=Lr}},rt.header=function(nr,Lr){return nr=(nr+"").toLowerCase(),arguments.length<2?Pt[nr]:(Lr==null?delete Pt[nr]:Pt[nr]=Lr+"",rt)},rt.mimeType=function(nr){return arguments.length?(Ce=nr==null?null:nr+"",rt):Ce},rt.responseType=function(nr){return arguments.length?(Vt=nr,rt):Vt},rt.response=function(nr){return Ne=nr,rt},["get","post"].forEach(function(nr){rt[nr]=function(){return rt.send.apply(rt,[nr].concat(S(arguments)))}}),rt.send=function(nr,Lr,Pr){if(arguments.length===2&&typeof Lr=="function"&&(Pr=Lr,Lr=null),At.open(nr,fe,!0),Ce!=null&&!("accept"in Pt)&&(Pt.accept=Ce+",*/*"),At.setRequestHeader)for(var en in Pt)At.setRequestHeader(en,Pt[en]);return Ce!=null&&At.overrideMimeType&&At.overrideMimeType(Ce),Vt!=null&&(At.responseType=Vt),Pr!=null&&rt.on("error",Pr).on("load",function(on){Pr(null,on)}),ft.beforesend.call(rt,At),At.send(Lr??null),rt},rt.abort=function(){return At.abort(),rt},a.rebind(rt,ft,"on"),qe==null?rt:rt.get(br(qe))}function br(fe){return fe.length===1?function(Ce,Ne){fe(Ce==null?Ne:null)}:fe}function Or(fe){var Ce=fe.responseType;return Ce&&Ce!=="text"?fe.response:fe.responseText}a.dsv=function(fe,Ce){var Ne=new RegExp('["'+fe+`
]`),qe=fe.charCodeAt(0);function rt(Gt,nr,Lr){arguments.length<3&&(Lr=nr,nr=null);var Pr=Sn(Gt,Ce,nr==null?ft:Pt(nr),Lr);return Pr.row=function(en){return arguments.length?Pr.response((nr=en)==null?ft:Pt(en)):nr},Pr}function ft(Gt){return rt.parse(Gt.responseText)}function Pt(Gt){return function(nr){return rt.parse(nr.responseText,Gt)}}rt.parse=function(Gt,nr){var Lr;return rt.parseRows(Gt,function(Pr,en){if(Lr)return Lr(Pr,en-1);var on=function(Dr){for(var Vr={},Jr=Pr.length,un=0;un<Jr;++un)Vr[Pr[un]]=Dr[un];return Vr};Lr=nr?function(Dr,Vr){return nr(on(Dr),Vr)}:on})},rt.parseRows=function(Gt,nr){var Lr={},Pr={},en=[],on=Gt.length,Dr=0,Vr=0,Jr,un;function dn(){if(Dr>=on)return Pr;if(un)return un=!1,Lr;var Wn=Dr;if(Gt.charCodeAt(Wn)===34){for(var ra=Wn;ra++<on;)if(Gt.charCodeAt(ra)===34){if(Gt.charCodeAt(ra+1)!==34)break;++ra}Dr=ra+2;var ca=Gt.charCodeAt(ra+1);return ca===13?(un=!0,Gt.charCodeAt(ra+2)===10&&++Dr):ca===10&&(un=!0),Gt.slice(Wn+1,ra).replace(/""/g,'"')}for(;Dr<on;){var ca=Gt.charCodeAt(Dr++),ea=1;if(ca===10)un=!0;else if(ca===13)un=!0,Gt.charCodeAt(Dr)===10&&(++Dr,++ea);else if(ca!==qe)continue;return Gt.slice(Wn,Dr-ea)}return Gt.slice(Wn)}for(;(Jr=dn())!==Pr;){for(var rn=[];Jr!==Lr&&Jr!==Pr;)rn.push(Jr),Jr=dn();nr&&(rn=nr(rn,Vr++))==null||en.push(rn)}return en},rt.format=function(Gt){if(Array.isArray(Gt[0]))return rt.formatRows(Gt);var nr=new z,Lr=[];return Gt.forEach(function(Pr){for(var en in Pr)nr.has(en)||Lr.push(nr.add(en))}),[Lr.map(Vt).join(fe)].concat(Gt.map(function(Pr){return Lr.map(function(en){return Vt(Pr[en])}).join(fe)})).join(`
`)},rt.formatRows=function(Gt){return Gt.map(At).join(`
`)};function At(Gt){return Gt.map(Vt).join(fe)}function Vt(Gt){return Ne.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return rt},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var jr,zr,pn,hn,Ln=this[N(this,"requestAnimationFrame")]||function(fe){setTimeout(fe,17)};a.timer=function(){Rn.apply(this,arguments)};function Rn(fe,Ce,Ne){var qe=arguments.length;qe<2&&(Ce=0),qe<3&&(Ne=Date.now());var rt=Ne+Ce,ft={c:fe,t:rt,n:null};return zr?zr.n=ft:jr=ft,zr=ft,pn||(hn=clearTimeout(hn),pn=1,Ln(Gn)),ft}function Gn(){var fe=oa(),Ce=xa()-fe;Ce>24?(isFinite(Ce)&&(clearTimeout(hn),hn=setTimeout(Gn,Ce)),pn=0):(pn=1,Ln(Gn))}a.timer.flush=function(){oa(),xa()};function oa(){for(var fe=Date.now(),Ce=jr;Ce;)fe>=Ce.t&&Ce.c(fe-Ce.t)&&(Ce.c=null),Ce=Ce.n;return fe}function xa(){for(var fe,Ce=jr,Ne=1/0;Ce;)Ce.c?(Ce.t<Ne&&(Ne=Ce.t),Ce=(fe=Ce).n):Ce=fe?fe.n=Ce.n:jr=Ce.n;return zr=fe,Ne}a.round=function(fe,Ce){return Ce?Math.round(fe*(Ce=Math.pow(10,Ce)))/Ce:Math.round(fe)},a.geom={};function Ta(fe){return fe[0]}function da(fe){return fe[1]}a.geom.hull=function(fe){var Ce=Ta,Ne=da;if(arguments.length)return qe(fe);function qe(rt){if(rt.length<3)return[];var ft=Zr(Ce),Pt=Zr(Ne),At,Vt=rt.length,Gt=[],nr=[];for(At=0;At<Vt;At++)Gt.push([+ft.call(this,rt[At],At),+Pt.call(this,rt[At],At),At]);for(Gt.sort(mr),At=0;At<Vt;At++)nr.push([Gt[At][0],-Gt[At][1]]);var Lr=Hn(Gt),Pr=Hn(nr),en=Pr[0]===Lr[0],on=Pr[Pr.length-1]===Lr[Lr.length-1],Dr=[];for(At=Lr.length-1;At>=0;--At)Dr.push(rt[Gt[Lr[At]][2]]);for(At=+en;At<Pr.length-on;++At)Dr.push(rt[Gt[Pr[At]][2]]);return Dr}return qe.x=function(rt){return arguments.length?(Ce=rt,qe):Ce},qe.y=function(rt){return arguments.length?(Ne=rt,qe):Ne},qe};function Hn(fe){for(var Ce=fe.length,Ne=[0,1],qe=2,rt=2;rt<Ce;rt++){for(;qe>1&&Wt(fe[Ne[qe-2]],fe[Ne[qe-1]],fe[rt])<=0;)--qe;Ne[qe++]=rt}return Ne.slice(0,qe)}function mr(fe,Ce){return fe[0]-Ce[0]||fe[1]-Ce[1]}a.geom.polygon=function(fe){return re(fe,$r),fe};var $r=a.geom.polygon.prototype=[];$r.area=function(){for(var fe=-1,Ce=this.length,Ne,qe=this[Ce-1],rt=0;++fe<Ce;)Ne=qe,qe=this[fe],rt+=Ne[1]*qe[0]-Ne[0]*qe[1];return rt*.5},$r.centroid=function(fe){var Ce=-1,Ne=this.length,qe=0,rt=0,ft,Pt=this[Ne-1],At;for(arguments.length||(fe=-1/(6*this.area()));++Ce<Ne;)ft=Pt,Pt=this[Ce],At=ft[0]*Pt[1]-Pt[0]*ft[1],qe+=(ft[0]+Pt[0])*At,rt+=(ft[1]+Pt[1])*At;return[qe*fe,rt*fe]},$r.clip=function(fe){for(var Ce,Ne=zn(fe),qe=-1,rt=this.length-zn(this),ft,Pt,At=this[rt-1],Vt,Gt,nr;++qe<rt;){for(Ce=fe.slice(),fe.length=0,Vt=this[qe],Gt=Ce[(Pt=Ce.length-Ne)-1],ft=-1;++ft<Pt;)nr=Ce[ft],Qr(nr,At,Vt)?(Qr(Gt,At,Vt)||fe.push(vn(Gt,nr,At,Vt)),fe.push(nr)):Qr(Gt,At,Vt)&&fe.push(vn(Gt,nr,At,Vt)),Gt=nr;Ne&&fe.push(fe[0]),At=Vt}return fe};function Qr(fe,Ce,Ne){return(Ne[0]-Ce[0])*(fe[1]-Ce[1])<(Ne[1]-Ce[1])*(fe[0]-Ce[0])}function vn(fe,Ce,Ne,qe){var rt=fe[0],ft=Ne[0],Pt=Ce[0]-rt,At=qe[0]-ft,Vt=fe[1],Gt=Ne[1],nr=Ce[1]-Vt,Lr=qe[1]-Gt,Pr=(At*(Vt-Gt)-Lr*(rt-ft))/(Lr*Pt-At*nr);return[rt+Pr*Pt,Vt+Pr*nr]}function zn(fe){var Ce=fe[0],Ne=fe[fe.length-1];return!(Ce[0]-Ne[0]||Ce[1]-Ne[1])}var bn,wn,Bn,$n=[],pa,Oa,Sr=[];function Fr(){es(this),this.edge=this.site=this.circle=null}function Mr(fe){var Ce=$n.pop()||new Fr;return Ce.site=fe,Ce}function Nr(fe){On(fe),Bn.remove(fe),$n.push(fe),es(fe)}function mn(fe){var Ce=fe.circle,Ne=Ce.x,qe=Ce.cy,rt={x:Ne,y:qe},ft=fe.P,Pt=fe.N,At=[fe];Nr(fe);for(var Vt=ft;Vt.circle&&p(Ne-Vt.circle.x)<Xe&&p(qe-Vt.circle.cy)<Xe;)ft=Vt.P,At.unshift(Vt),Nr(Vt),Vt=ft;At.unshift(Vt),On(Vt);for(var Gt=Pt;Gt.circle&&p(Ne-Gt.circle.x)<Xe&&p(qe-Gt.circle.cy)<Xe;)Pt=Gt.N,At.push(Gt),Nr(Gt),Gt=Pt;At.push(Gt),On(Gt);var nr=At.length,Lr;for(Lr=1;Lr<nr;++Lr)Gt=At[Lr],Vt=At[Lr-1],Da(Gt.edge,Vt.site,Gt.site,rt);Vt=At[0],Gt=At[nr-1],Gt.edge=la(Vt.site,Gt.site,null,rt),Tn(Vt),Tn(Gt)}function Dn(fe){for(var Ce=fe.x,Ne=fe.y,qe,rt,ft,Pt,At=Bn._;At;)if(ft=gn(At,Ne)-Ce,ft>Xe)At=At.L;else if(Pt=Ce-sn(At,Ne),Pt>Xe){if(!At.R){qe=At;break}At=At.R}else{ft>-Xe?(qe=At.P,rt=At):Pt>-Xe?(qe=At,rt=At.N):qe=rt=At;break}var Vt=Mr(fe);if(Bn.insert(qe,Vt),!(!qe&&!rt)){if(qe===rt){On(qe),rt=Mr(qe.site),Bn.insert(Vt,rt),Vt.edge=rt.edge=la(qe.site,Vt.site),Tn(qe),Tn(rt);return}if(!rt){Vt.edge=la(qe.site,Vt.site);return}On(qe),On(rt);var Gt=qe.site,nr=Gt.x,Lr=Gt.y,Pr=fe.x-nr,en=fe.y-Lr,on=rt.site,Dr=on.x-nr,Vr=on.y-Lr,Jr=2*(Pr*Vr-en*Dr),un=Pr*Pr+en*en,dn=Dr*Dr+Vr*Vr,rn={x:(Vr*un-en*dn)/Jr+nr,y:(Pr*dn-Dr*un)/Jr+Lr};Da(rt.edge,Gt,on,rn),Vt.edge=la(Gt,fe,null,rn),rt.edge=la(fe,on,null,rn),Tn(qe),Tn(rt)}}function gn(fe,Ce){var Ne=fe.site,qe=Ne.x,rt=Ne.y,ft=rt-Ce;if(!ft)return qe;var Pt=fe.P;if(!Pt)return-1/0;Ne=Pt.site;var At=Ne.x,Vt=Ne.y,Gt=Vt-Ce;if(!Gt)return At;var nr=At-qe,Lr=1/ft-1/Gt,Pr=nr/Gt;return Lr?(-Pr+Math.sqrt(Pr*Pr-2*Lr*(nr*nr/(-2*Gt)-Vt+Gt/2+rt-ft/2)))/Lr+qe:(qe+At)/2}function sn(fe,Ce){var Ne=fe.N;if(Ne)return gn(Ne,Ce);var qe=fe.site;return qe.y===Ce?qe.x:1/0}function Cr(fe){this.site=fe,this.edges=[]}Cr.prototype.prepare=function(){for(var fe=this.edges,Ce=fe.length,Ne;Ce--;)Ne=fe[Ce].edge,(!Ne.b||!Ne.a)&&fe.splice(Ce,1);return fe.sort(Gr),fe.length};function Kr(fe){for(var Ce=fe[0][0],Ne=fe[1][0],qe=fe[0][1],rt=fe[1][1],ft,Pt,At,Vt,Gt=wn,nr=Gt.length,Lr,Pr,en,on,Dr,Vr;nr--;)if(Lr=Gt[nr],!(!Lr||!Lr.prepare()))for(en=Lr.edges,on=en.length,Pr=0;Pr<on;)Vr=en[Pr].end(),At=Vr.x,Vt=Vr.y,Dr=en[++Pr%on].start(),ft=Dr.x,Pt=Dr.y,(p(At-ft)>Xe||p(Vt-Pt)>Xe)&&(en.splice(Pr,0,new bi(ma(Lr.site,Vr,p(At-Ce)<Xe&&rt-Vt>Xe?{x:Ce,y:p(ft-Ce)<Xe?Pt:rt}:p(Vt-rt)<Xe&&Ne-At>Xe?{x:p(Pt-rt)<Xe?ft:Ne,y:rt}:p(At-Ne)<Xe&&Vt-qe>Xe?{x:Ne,y:p(ft-Ne)<Xe?Pt:qe}:p(Vt-qe)<Xe&&At-Ce>Xe?{x:p(Pt-qe)<Xe?ft:Ce,y:qe}:null),Lr.site,null)),++on)}function Gr(fe,Ce){return Ce.angle-fe.angle}function tn(){es(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tn(fe){var Ce=fe.P,Ne=fe.N;if(!(!Ce||!Ne)){var qe=Ce.site,rt=fe.site,ft=Ne.site;if(qe!==ft){var Pt=rt.x,At=rt.y,Vt=qe.x-Pt,Gt=qe.y-At,nr=ft.x-Pt,Vr=ft.y-At,Lr=2*(Vt*Vr-Gt*nr);if(!(Lr>=-De)){var Pr=Vt*Vt+Gt*Gt,en=nr*nr+Vr*Vr,on=(Vr*Pr-Gt*en)/Lr,Dr=(Vt*en-nr*Pr)/Lr,Vr=Dr+At,Jr=Sr.pop()||new tn;Jr.arc=fe,Jr.site=rt,Jr.x=on+Pt,Jr.y=Vr+Math.sqrt(on*on+Dr*Dr),Jr.cy=Vr,fe.circle=Jr;for(var un=null,dn=Oa._;dn;)if(Jr.y<dn.y||Jr.y===dn.y&&Jr.x<=dn.x)if(dn.L)dn=dn.L;else{un=dn.P;break}else if(dn.R)dn=dn.R;else{un=dn;break}Oa.insert(un,Jr),un||(pa=Jr)}}}}function On(fe){var Ce=fe.circle;Ce&&(Ce.P||(pa=Ce.N),Oa.remove(Ce),Sr.push(Ce),es(Ce),fe.circle=null)}function Mn(fe,Ce,Ne,qe){return function(rt){var ft=rt.a,Pt=rt.b,At=ft.x,Vt=ft.y,Gt=Pt.x,nr=Pt.y,Lr=0,Pr=1,en=Gt-At,on=nr-Vt,Dr;if(Dr=fe-At,!(!en&&Dr>0)){if(Dr/=en,en<0){if(Dr<Lr)return;Dr<Pr&&(Pr=Dr)}else if(en>0){if(Dr>Pr)return;Dr>Lr&&(Lr=Dr)}if(Dr=Ne-At,!(!en&&Dr<0)){if(Dr/=en,en<0){if(Dr>Pr)return;Dr>Lr&&(Lr=Dr)}else if(en>0){if(Dr<Lr)return;Dr<Pr&&(Pr=Dr)}if(Dr=Ce-Vt,!(!on&&Dr>0)){if(Dr/=on,on<0){if(Dr<Lr)return;Dr<Pr&&(Pr=Dr)}else if(on>0){if(Dr>Pr)return;Dr>Lr&&(Lr=Dr)}if(Dr=qe-Vt,!(!on&&Dr<0)){if(Dr/=on,on<0){if(Dr>Pr)return;Dr>Lr&&(Lr=Dr)}else if(on>0){if(Dr<Lr)return;Dr<Pr&&(Pr=Dr)}return Lr>0&&(rt.a={x:At+Lr*en,y:Vt+Lr*on}),Pr<1&&(rt.b={x:At+Pr*en,y:Vt+Pr*on}),rt}}}}}}function Un(fe){for(var Ce=bn,Ne=Mn(fe[0][0],fe[0][1],fe[1][0],fe[1][1]),qe=Ce.length,rt;qe--;)rt=Ce[qe],(!Fn(rt,fe)||!Ne(rt)||p(rt.a.x-rt.b.x)<Xe&&p(rt.a.y-rt.b.y)<Xe)&&(rt.a=rt.b=null,Ce.splice(qe,1))}function Fn(fe,Ce){var Ne=fe.b;if(Ne)return!0;var qe=fe.a,rt=Ce[0][0],ft=Ce[1][0],Pt=Ce[0][1],At=Ce[1][1],Vt=fe.l,Gt=fe.r,nr=Vt.x,Lr=Vt.y,Pr=Gt.x,en=Gt.y,on=(nr+Pr)/2,Dr=(Lr+en)/2,Vr,Jr;if(en===Lr){if(on<rt||on>=ft)return;if(nr>Pr){if(!qe)qe={x:on,y:Pt};else if(qe.y>=At)return;Ne={x:on,y:At}}else{if(!qe)qe={x:on,y:At};else if(qe.y<Pt)return;Ne={x:on,y:Pt}}}else if(Vr=(nr-Pr)/(en-Lr),Jr=Dr-Vr*on,Vr<-1||Vr>1)if(nr>Pr){if(!qe)qe={x:(Pt-Jr)/Vr,y:Pt};else if(qe.y>=At)return;Ne={x:(At-Jr)/Vr,y:At}}else{if(!qe)qe={x:(At-Jr)/Vr,y:At};else if(qe.y<Pt)return;Ne={x:(Pt-Jr)/Vr,y:Pt}}else if(Lr<en){if(!qe)qe={x:rt,y:Vr*rt+Jr};else if(qe.x>=ft)return;Ne={x:ft,y:Vr*ft+Jr}}else{if(!qe)qe={x:ft,y:Vr*ft+Jr};else if(qe.x<rt)return;Ne={x:rt,y:Vr*rt+Jr}}return fe.a=qe,fe.b=Ne,!0}function va(fe,Ce){this.l=fe,this.r=Ce,this.a=this.b=null}function la(fe,Ce,Ne,qe){var rt=new va(fe,Ce);return bn.push(rt),Ne&&Da(rt,fe,Ce,Ne),qe&&Da(rt,Ce,fe,qe),wn[fe.i].edges.push(new bi(rt,fe,Ce)),wn[Ce.i].edges.push(new bi(rt,Ce,fe)),rt}function ma(fe,Ce,Ne){var qe=new va(fe,null);return qe.a=Ce,qe.b=Ne,bn.push(qe),qe}function Da(fe,Ce,Ne,qe){!fe.a&&!fe.b?(fe.a=qe,fe.l=Ce,fe.r=Ne):fe.l===Ne?fe.b=qe:fe.a=qe}function bi(fe,Ce,Ne){var qe=fe.a,rt=fe.b;this.edge=fe,this.site=Ce,this.angle=Ne?Math.atan2(Ne.y-Ce.y,Ne.x-Ce.x):fe.l===Ce?Math.atan2(rt.x-qe.x,qe.y-rt.y):Math.atan2(qe.x-rt.x,rt.y-qe.y)}bi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function si(){this._=null}function es(fe){fe.U=fe.C=fe.L=fe.R=fe.P=fe.N=null}si.prototype={insert:function(fe,Ce){var Ne,qe,rt;if(fe){if(Ce.P=fe,Ce.N=fe.N,fe.N&&(fe.N.P=Ce),fe.N=Ce,fe.R){for(fe=fe.R;fe.L;)fe=fe.L;fe.L=Ce}else fe.R=Ce;Ne=fe}else this._?(fe=ql(this._),Ce.P=null,Ce.N=fe,fe.P=fe.L=Ce,Ne=fe):(Ce.P=Ce.N=null,this._=Ce,Ne=null);for(Ce.L=Ce.R=null,Ce.U=Ne,Ce.C=!0,fe=Ce;Ne&&Ne.C;)qe=Ne.U,Ne===qe.L?(rt=qe.R,rt&&rt.C?(Ne.C=rt.C=!1,qe.C=!0,fe=qe):(fe===Ne.R&&(Wo(this,Ne),fe=Ne,Ne=fe.U),Ne.C=!1,qe.C=!0,po(this,qe))):(rt=qe.L,rt&&rt.C?(Ne.C=rt.C=!1,qe.C=!0,fe=qe):(fe===Ne.L&&(po(this,Ne),fe=Ne,Ne=fe.U),Ne.C=!1,qe.C=!0,Wo(this,qe))),Ne=fe.U;this._.C=!1},remove:function(fe){fe.N&&(fe.N.P=fe.P),fe.P&&(fe.P.N=fe.N),fe.N=fe.P=null;var Ce=fe.U,Ne,qe=fe.L,rt=fe.R,ft,Pt;if(qe?rt?ft=ql(rt):ft=qe:ft=rt,Ce?Ce.L===fe?Ce.L=ft:Ce.R=ft:this._=ft,qe&&rt?(Pt=ft.C,ft.C=fe.C,ft.L=qe,qe.U=ft,ft!==rt?(Ce=ft.U,ft.U=fe.U,fe=ft.R,Ce.L=fe,ft.R=rt,rt.U=ft):(ft.U=Ce,Ce=ft,fe=ft.R)):(Pt=fe.C,fe=ft),fe&&(fe.U=Ce),!Pt){if(fe&&fe.C){fe.C=!1;return}do{if(fe===this._)break;if(fe===Ce.L){if(Ne=Ce.R,Ne.C&&(Ne.C=!1,Ce.C=!0,Wo(this,Ce),Ne=Ce.R),Ne.L&&Ne.L.C||Ne.R&&Ne.R.C){(!Ne.R||!Ne.R.C)&&(Ne.L.C=!1,Ne.C=!0,po(this,Ne),Ne=Ce.R),Ne.C=Ce.C,Ce.C=Ne.R.C=!1,Wo(this,Ce),fe=this._;break}}else if(Ne=Ce.L,Ne.C&&(Ne.C=!1,Ce.C=!0,po(this,Ce),Ne=Ce.L),Ne.L&&Ne.L.C||Ne.R&&Ne.R.C){(!Ne.L||!Ne.L.C)&&(Ne.R.C=!1,Ne.C=!0,Wo(this,Ne),Ne=Ce.L),Ne.C=Ce.C,Ce.C=Ne.L.C=!1,po(this,Ce),fe=this._;break}Ne.C=!0,fe=Ce,Ce=Ce.U}while(!fe.C);fe&&(fe.C=!1)}}};function Wo(fe,Ce){var Ne=Ce,qe=Ce.R,rt=Ne.U;rt?rt.L===Ne?rt.L=qe:rt.R=qe:fe._=qe,qe.U=rt,Ne.U=qe,Ne.R=qe.L,Ne.R&&(Ne.R.U=Ne),qe.L=Ne}function po(fe,Ce){var Ne=Ce,qe=Ce.L,rt=Ne.U;rt?rt.L===Ne?rt.L=qe:rt.R=qe:fe._=qe,qe.U=rt,Ne.U=qe,Ne.L=qe.R,Ne.L&&(Ne.L.U=Ne),qe.R=Ne}function ql(fe){for(;fe.L;)fe=fe.L;return fe}function qf(fe,Ce){var Ne=fe.sort(Hc).pop(),qe,rt,ft;for(bn=[],wn=new Array(fe.length),Bn=new si,Oa=new si;;)if(ft=pa,Ne&&(!ft||Ne.y<ft.y||Ne.y===ft.y&&Ne.x<ft.x))(Ne.x!==qe||Ne.y!==rt)&&(wn[Ne.i]=new Cr(Ne),Dn(Ne),qe=Ne.x,rt=Ne.y),Ne=fe.pop();else if(ft)mn(ft.arc);else break;Ce&&(Un(Ce),Kr(Ce));var Pt={cells:wn,edges:bn};return Bn=Oa=bn=wn=null,Pt}function Hc(fe,Ce){return Ce.y-fe.y||Ce.x-fe.x}a.geom.voronoi=function(fe){var Ce=Ta,Ne=da,qe=Ce,rt=Ne,ft=ai;if(fe)return Pt(fe);function Pt(Vt){var Gt=new Array(Vt.length),nr=ft[0][0],Lr=ft[0][1],Pr=ft[1][0],en=ft[1][1];return qf(At(Vt),ft).cells.forEach(function(on,Dr){var Vr=on.edges,Jr=on.site,un=Gt[Dr]=Vr.length?Vr.map(function(dn){var rn=dn.start();return[rn.x,rn.y]}):Jr.x>=nr&&Jr.x<=Pr&&Jr.y>=Lr&&Jr.y<=en?[[nr,en],[Pr,en],[Pr,Lr],[nr,Lr]]:[];un.point=Vt[Dr]}),Gt}function At(Vt){return Vt.map(function(Gt,nr){return{x:Math.round(qe(Gt,nr)/Xe)*Xe,y:Math.round(rt(Gt,nr)/Xe)*Xe,i:nr}})}return Pt.links=function(Vt){return qf(At(Vt)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:Vt[Gt.l.i],target:Vt[Gt.r.i]}})},Pt.triangles=function(Vt){var Gt=[];return qf(At(Vt)).cells.forEach(function(nr,Lr){for(var Pr=nr.site,en=nr.edges.sort(Gr),on=-1,Dr=en.length,Vr,Jr=en[Dr-1].edge,un=Jr.l===Pr?Jr.r:Jr.l;++on<Dr;)Vr=un,Jr=en[on].edge,un=Jr.l===Pr?Jr.r:Jr.l,Lr<Vr.i&&Lr<un.i&&Nu(Pr,Vr,un)<0&&Gt.push([Vt[Lr],Vt[Vr.i],Vt[un.i]])}),Gt},Pt.x=function(Vt){return arguments.length?(qe=Zr(Ce=Vt),Pt):Ce},Pt.y=function(Vt){return arguments.length?(rt=Zr(Ne=Vt),Pt):Ne},Pt.clipExtent=function(Vt){return arguments.length?(ft=Vt??ai,Pt):ft===ai?null:ft},Pt.size=function(Vt){return arguments.length?Pt.clipExtent(Vt&&[[0,0],Vt]):ft===ai?null:ft&&ft[1]},Pt};var ai=[[-1e6,-1e6],[1e6,1e6]];function Nu(fe,Ce,Ne){return(fe.x-Ne.x)*(Ce.y-fe.y)-(fe.x-Ce.x)*(Ne.y-fe.y)}a.geom.delaunay=function(fe){return a.geom.voronoi().triangles(fe)},a.geom.quadtree=function(fe,Ce,Ne,qe,rt){var ft=Ta,Pt=da,At;if(At=arguments.length)return ft=ec,Pt=so,At===3&&(rt=Ne,qe=Ce,Ne=Ce=0),Vt(fe);function Vt(Gt){var nr,Lr=Zr(ft),Pr=Zr(Pt),en,on,Dr,Vr,Jr,un,dn,rn;if(Ce!=null)Jr=Ce,un=Ne,dn=qe,rn=rt;else if(dn=rn=-(Jr=un=1/0),en=[],on=[],Vr=Gt.length,At)for(Dr=0;Dr<Vr;++Dr)nr=Gt[Dr],nr.x<Jr&&(Jr=nr.x),nr.y<un&&(un=nr.y),nr.x>dn&&(dn=nr.x),nr.y>rn&&(rn=nr.y),en.push(nr.x),on.push(nr.y);else for(Dr=0;Dr<Vr;++Dr){var Wn=+Lr(nr=Gt[Dr],Dr),ra=+Pr(nr,Dr);Wn<Jr&&(Jr=Wn),ra<un&&(un=ra),Wn>dn&&(dn=Wn),ra>rn&&(rn=ra),en.push(Wn),on.push(ra)}var ca=dn-Jr,ea=rn-un;ca>ea?rn=un+ca:dn=Jr+ea;function sa(La,Fa,li,Ki,di,Qn,Wa,Ea){if(!(isNaN(li)||isNaN(Ki)))if(La.leaf){var qa=La.x,Ei=La.y;if(qa!=null)if(p(qa-li)+p(Ei-Ki)<.01)ha(La,Fa,li,Ki,di,Qn,Wa,Ea);else{var ui=La.point;La.x=La.y=La.point=null,ha(La,ui,qa,Ei,di,Qn,Wa,Ea),ha(La,Fa,li,Ki,di,Qn,Wa,Ea)}else La.x=li,La.y=Ki,La.point=Fa}else ha(La,Fa,li,Ki,di,Qn,Wa,Ea)}function ha(La,Fa,li,Ki,di,Qn,Wa,Ea){var qa=(di+Wa)*.5,Ei=(Qn+Ea)*.5,ui=li>=qa,fo=Ki>=Ei,co=fo<<1|ui;La.leaf=!1,La=La.nodes[co]||(La.nodes[co]=Oo()),ui?di=qa:Wa=qa,fo?Qn=Ei:Ea=Ei,sa(La,Fa,li,Ki,di,Qn,Wa,Ea)}var Va=Oo();if(Va.add=function(La){sa(Va,La,+Lr(La,++Dr),+Pr(La,Dr),Jr,un,dn,rn)},Va.visit=function(La){eu(La,Va,Jr,un,dn,rn)},Va.find=function(La){return wf(Va,La[0],La[1],Jr,un,dn,rn)},Dr=-1,Ce==null){for(;++Dr<Vr;)sa(Va,Gt[Dr],en[Dr],on[Dr],Jr,un,dn,rn);--Dr}else Gt.forEach(Va.add);return en=on=Gt=nr=null,Va}return Vt.x=function(Gt){return arguments.length?(ft=Gt,Vt):ft},Vt.y=function(Gt){return arguments.length?(Pt=Gt,Vt):Pt},Vt.extent=function(Gt){return arguments.length?(Gt==null?Ce=Ne=qe=rt=null:(Ce=+Gt[0][0],Ne=+Gt[0][1],qe=+Gt[1][0],rt=+Gt[1][1]),Vt):Ce==null?null:[[Ce,Ne],[qe,rt]]},Vt.size=function(Gt){return arguments.length?(Gt==null?Ce=Ne=qe=rt=null:(Ce=Ne=0,qe=+Gt[0],rt=+Gt[1]),Vt):Ce==null?null:[qe-Ce,rt-Ne]},Vt};function ec(fe){return fe.x}function so(fe){return fe.y}function Oo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function eu(fe,Ce,Ne,qe,rt,ft){if(!fe(Ce,Ne,qe,rt,ft)){var Pt=(Ne+rt)*.5,At=(qe+ft)*.5,Vt=Ce.nodes;Vt[0]&&eu(fe,Vt[0],Ne,qe,Pt,At),Vt[1]&&eu(fe,Vt[1],Pt,qe,rt,At),Vt[2]&&eu(fe,Vt[2],Ne,At,Pt,ft),Vt[3]&&eu(fe,Vt[3],Pt,At,rt,ft)}}function wf(fe,Ce,Ne,qe,rt,ft,Pt){var At=1/0,Vt;return function Gt(nr,Lr,Pr,en,on){if(!(Lr>ft||Pr>Pt||en<qe||on<rt)){if(Dr=nr.point){var Dr,Vr=Ce-nr.x,Jr=Ne-nr.y,un=Vr*Vr+Jr*Jr;if(un<At){var dn=Math.sqrt(At=un);qe=Ce-dn,rt=Ne-dn,ft=Ce+dn,Pt=Ne+dn,Vt=Dr}}for(var rn=nr.nodes,Wn=(Lr+en)*.5,ra=(Pr+on)*.5,ca=Ce>=Wn,ea=Ne>=ra,sa=ea<<1|ca,ha=sa+4;sa<ha;++sa)if(nr=rn[sa&3])switch(sa&3){case 0:Gt(nr,Lr,Pr,Wn,ra);break;case 1:Gt(nr,Wn,Pr,en,ra);break;case 2:Gt(nr,Lr,ra,Wn,on);break;case 3:Gt(nr,Wn,ra,en,on);break}}}(fe,qe,rt,ft,Pt),Vt}a.interpolateRgb=Wi;function Wi(fe,Ce){fe=a.rgb(fe),Ce=a.rgb(Ce);var Ne=fe.r,qe=fe.g,rt=fe.b,ft=Ce.r-Ne,Pt=Ce.g-qe,At=Ce.b-rt;return function(Vt){return"#"+gr(Math.round(Ne+ft*Vt))+gr(Math.round(qe+Pt*Vt))+gr(Math.round(rt+At*Vt))}}a.interpolateObject=tu;function tu(fe,Ce){var Ne={},qe={},rt;for(rt in fe)rt in Ce?Ne[rt]=yo(fe[rt],Ce[rt]):qe[rt]=fe[rt];for(rt in Ce)rt in fe||(qe[rt]=Ce[rt]);return function(ft){for(rt in Ne)qe[rt]=Ne[rt](ft);return qe}}a.interpolateNumber=Zi;function Zi(fe,Ce){return fe=+fe,Ce=+Ce,function(Ne){return fe*(1-Ne)+Ce*Ne}}a.interpolateString=eo;function eo(fe,Ce){var Ne=ru.lastIndex=go.lastIndex=0,qe,rt,ft,Pt=-1,At=[],Vt=[];for(fe=fe+"",Ce=Ce+"";(qe=ru.exec(fe))&&(rt=go.exec(Ce));)(ft=rt.index)>Ne&&(ft=Ce.slice(Ne,ft),At[Pt]?At[Pt]+=ft:At[++Pt]=ft),(qe=qe[0])===(rt=rt[0])?At[Pt]?At[Pt]+=rt:At[++Pt]=rt:(At[++Pt]=null,Vt.push({i:Pt,x:Zi(qe,rt)})),Ne=go.lastIndex;return Ne<Ce.length&&(ft=Ce.slice(Ne),At[Pt]?At[Pt]+=ft:At[++Pt]=ft),At.length<2?Vt[0]?(Ce=Vt[0].x,function(Gt){return Ce(Gt)+""}):function(){return Ce}:(Ce=Vt.length,function(Gt){for(var nr=0,Lr;nr<Ce;++nr)At[(Lr=Vt[nr]).i]=Lr.x(Gt);return At.join("")})}var ru=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,go=new RegExp(ru.source,"g");a.interpolate=yo;function yo(fe,Ce){for(var Ne=a.interpolators.length,qe;--Ne>=0&&!(qe=a.interpolators[Ne](fe,Ce)););return qe}a.interpolators=[function(fe,Ce){var Ne=typeof Ce;return(Ne==="string"?cn.has(Ce.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ce)?Wi:eo:Ce instanceof yt?Wi:Array.isArray(Ce)?ts:Ne==="object"&&isNaN(Ce)?tu:Zi)(fe,Ce)}],a.interpolateArray=ts;function ts(fe,Ce){var Ne=[],qe=[],rt=fe.length,ft=Ce.length,Pt=Math.min(fe.length,Ce.length),At;for(At=0;At<Pt;++At)Ne.push(yo(fe[At],Ce[At]));for(;At<rt;++At)qe[At]=fe[At];for(;At<ft;++At)qe[At]=Ce[At];return function(Vt){for(At=0;At<Pt;++At)qe[At]=Ne[At](Vt);return qe}}var Gc=function(){return F},jo=a.map({linear:Gc,poly:Wc,quad:function(){return ul},cubic:function(){return _s},sin:function(){return Qh},exp:function(){return Tf},circle:function(){return qh},elastic:ev,back:tv,bounce:function(){return nc}}),$h=a.map({in:F,out:lo,"in-out":tc,"out-in":function(fe){return tc(lo(fe))}});a.ease=function(fe){var Ce=fe.indexOf("-"),Ne=Ce>=0?fe.slice(0,Ce):fe,qe=Ce>=0?fe.slice(Ce+1):"in";return Ne=jo.get(Ne)||Gc,qe=$h.get(qe)||F,ks(qe(Ne.apply(null,C.call(arguments,1))))};function ks(fe){return function(Ce){return Ce<=0?0:Ce>=1?1:fe(Ce)}}function lo(fe){return function(Ce){return 1-fe(1-Ce)}}function tc(fe){return function(Ce){return .5*(Ce<.5?fe(2*Ce):2-fe(2-2*Ce))}}function ul(fe){return fe*fe}function _s(fe){return fe*fe*fe}function rc(fe){if(fe<=0)return 0;if(fe>=1)return 1;var Ce=fe*fe,Ne=Ce*fe;return 4*(fe<.5?Ne:3*(fe-Ce)+Ne-.75)}function Wc(fe){return function(Ce){return Math.pow(Ce,fe)}}function Qh(fe){return 1-Math.cos(fe*Qe)}function Tf(fe){return Math.pow(2,10*(fe-1))}function qh(fe){return 1-Math.sqrt(1-fe*fe)}function ev(fe,Ce){var Ne;return arguments.length<2&&(Ce=.45),arguments.length?Ne=Ce/Te*Math.asin(1/fe):(fe=1,Ne=Ce/4),function(qe){return 1+fe*Math.pow(2,-10*qe)*Math.sin((qe-Ne)*Te/Ce)}}function tv(fe){return fe||(fe=1.70158),function(Ce){return Ce*Ce*((fe+1)*Ce-fe)}}function nc(fe){return fe<.36363636363636365?7.5625*fe*fe:fe<.7272727272727273?7.5625*(fe-=.5454545454545454)*fe+.75:fe<.9090909090909091?7.5625*(fe-=.8181818181818182)*fe+.9375:7.5625*(fe-=.9545454545454546)*fe+.984375}a.interpolateHcl=rv;function rv(fe,Ce){fe=a.hcl(fe),Ce=a.hcl(Ce);var Ne=fe.h,qe=fe.c,rt=fe.l,ft=Ce.h-Ne,Pt=Ce.c-qe,At=Ce.l-rt;return isNaN(Pt)&&(Pt=0,qe=isNaN(qe)?Ce.c:qe),isNaN(ft)?(ft=0,Ne=isNaN(Ne)?Ce.h:Ne):ft>180?ft-=360:ft<-180&&(ft+=360),function(Vt){return Bt(Ne+ft*Vt,qe+Pt*Vt,rt+At*Vt)+""}}a.interpolateHsl=nv;function nv(fe,Ce){fe=a.hsl(fe),Ce=a.hsl(Ce);var Ne=fe.h,qe=fe.s,rt=fe.l,ft=Ce.h-Ne,Pt=Ce.s-qe,At=Ce.l-rt;return isNaN(Pt)&&(Pt=0,qe=isNaN(qe)?Ce.s:qe),isNaN(ft)?(ft=0,Ne=isNaN(Ne)?Ce.h:Ne):ft>180?ft-=360:ft<-180&&(ft+=360),function(Vt){return Et(Ne+ft*Vt,qe+Pt*Vt,rt+At*Vt)+""}}a.interpolateLab=jc;function jc(fe,Ce){fe=a.lab(fe),Ce=a.lab(Ce);var Ne=fe.l,qe=fe.a,rt=fe.b,ft=Ce.l-Ne,Pt=Ce.a-qe,At=Ce.b-rt;return function(Vt){return Ge(Ne+ft*Vt,qe+Pt*Vt,rt+At*Vt)+""}}a.interpolateRound=Yc;function Yc(fe,Ce){return Ce-=fe,function(Ne){return Math.round(fe+Ce*Ne)}}a.transform=function(fe){var Ce=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(Ne){if(Ne!=null){Ce.setAttribute("transform",Ne);var qe=Ce.transform.baseVal.consolidate()}return new Rl(qe?qe.matrix:Xc)})(fe)};function Rl(fe){var Ce=[fe.a,fe.b],Ne=[fe.c,fe.d],qe=Bu(Ce),rt=nu(Ce,Ne),ft=Bu(Uu(Ne,Ce,-rt))||0;Ce[0]*Ne[1]<Ne[0]*Ce[1]&&(Ce[0]*=-1,Ce[1]*=-1,qe*=-1,rt*=-1),this.rotate=(qe?Math.atan2(Ce[1],Ce[0]):Math.atan2(-Ne[0],Ne[1]))*it,this.translate=[fe.e,fe.f],this.scale=[qe,ft],this.skew=ft?Math.atan2(rt,ft)*it:0}Rl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function nu(fe,Ce){return fe[0]*Ce[0]+fe[1]*Ce[1]}function Bu(fe){var Ce=Math.sqrt(nu(fe,fe));return Ce&&(fe[0]/=Ce,fe[1]/=Ce),Ce}function Uu(fe,Ce,Ne){return fe[0]+=Ne*Ce[0],fe[1]+=Ne*Ce[1],fe}var Xc={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=Sf;function Zs(fe){return fe.length?fe.pop()+",":""}function av(fe,Ce,Ne,qe){if(fe[0]!==Ce[0]||fe[1]!==Ce[1]){var rt=Ne.push("translate(",null,",",null,")");qe.push({i:rt-4,x:Zi(fe[0],Ce[0])},{i:rt-2,x:Zi(fe[1],Ce[1])})}else(Ce[0]||Ce[1])&&Ne.push("translate("+Ce+")")}function Af(fe,Ce,Ne,qe){fe!==Ce?(fe-Ce>180?Ce+=360:Ce-fe>180&&(fe+=360),qe.push({i:Ne.push(Zs(Ne)+"rotate(",null,")")-2,x:Zi(fe,Ce)})):Ce&&Ne.push(Zs(Ne)+"rotate("+Ce+")")}function Zc(fe,Ce,Ne,qe){fe!==Ce?qe.push({i:Ne.push(Zs(Ne)+"skewX(",null,")")-2,x:Zi(fe,Ce)}):Ce&&Ne.push(Zs(Ne)+"skewX("+Ce+")")}function Kc(fe,Ce,Ne,qe){if(fe[0]!==Ce[0]||fe[1]!==Ce[1]){var rt=Ne.push(Zs(Ne)+"scale(",null,",",null,")");qe.push({i:rt-4,x:Zi(fe[0],Ce[0])},{i:rt-2,x:Zi(fe[1],Ce[1])})}else(Ce[0]!==1||Ce[1]!==1)&&Ne.push(Zs(Ne)+"scale("+Ce+")")}function Sf(fe,Ce){var Ne=[],qe=[];return fe=a.transform(fe),Ce=a.transform(Ce),av(fe.translate,Ce.translate,Ne,qe),Af(fe.rotate,Ce.rotate,Ne,qe),Zc(fe.skew,Ce.skew,Ne,qe),Kc(fe.scale,Ce.scale,Ne,qe),fe=Ce=null,function(rt){for(var ft=-1,Pt=qe.length,At;++ft<Pt;)Ne[(At=qe[ft]).i]=At.x(rt);return Ne.join("")}}function ps(fe,Ce){return Ce=(Ce-=fe=+fe)||1/Ce,function(Ne){return(Ne-fe)/Ce}}function au(fe,Ce){return Ce=(Ce-=fe=+fe)||1/Ce,function(Ne){return Math.max(0,Math.min(1,(Ne-fe)/Ce))}}a.layout={},a.layout.bundle=function(){return function(fe){for(var Ce=[],Ne=-1,qe=fe.length;++Ne<qe;)Ce.push(Dl(fe[Ne]));return Ce}};function Dl(fe){for(var Ce=fe.source,Ne=fe.target,qe=fl(Ce,Ne),rt=[Ce];Ce!==qe;)Ce=Ce.parent,rt.push(Ce);for(var ft=rt.length;Ne!==qe;)rt.splice(ft,0,Ne),Ne=Ne.parent;return rt}function Vu(fe){for(var Ce=[],Ne=fe.parent;Ne!=null;)Ce.push(fe),fe=Ne,Ne=Ne.parent;return Ce.push(fe),Ce}function fl(fe,Ce){if(fe===Ce)return fe;for(var Ne=Vu(fe),qe=Vu(Ce),rt=Ne.pop(),ft=qe.pop(),Pt=null;rt===ft;)Pt=rt,rt=Ne.pop(),ft=qe.pop();return Pt}a.layout.chord=function(){var fe={},Ce,Ne,qe,rt,ft=0,Pt,At,Vt;function Gt(){var Lr={},Pr=[],en=a.range(rt),on=[],Dr,Vr,Jr,un,dn;for(Ce=[],Ne=[],Dr=0,un=-1;++un<rt;){for(Vr=0,dn=-1;++dn<rt;)Vr+=qe[un][dn];Pr.push(Vr),on.push(a.range(rt)),Dr+=Vr}for(Pt&&en.sort(function(Va,La){return Pt(Pr[Va],Pr[La])}),At&&on.forEach(function(Va,La){Va.sort(function(Fa,li){return At(qe[La][Fa],qe[La][li])})}),Dr=(Te-ft*rt)/Dr,Vr=0,un=-1;++un<rt;){for(Jr=Vr,dn=-1;++dn<rt;){var rn=en[un],Wn=on[rn][dn],ra=qe[rn][Wn],ca=Vr,ea=Vr+=ra*Dr;Lr[rn+"-"+Wn]={index:rn,subindex:Wn,startAngle:ca,endAngle:ea,value:ra}}Ne[rn]={index:rn,startAngle:Jr,endAngle:Vr,value:Pr[rn]},Vr+=ft}for(un=-1;++un<rt;)for(dn=un-1;++dn<rt;){var sa=Lr[un+"-"+dn],ha=Lr[dn+"-"+un];(sa.value||ha.value)&&Ce.push(sa.value<ha.value?{source:ha,target:sa}:{source:sa,target:ha})}Vt&&nr()}function nr(){Ce.sort(function(Lr,Pr){return Vt((Lr.source.value+Lr.target.value)/2,(Pr.source.value+Pr.target.value)/2)})}return fe.matrix=function(Lr){return arguments.length?(rt=(qe=Lr)&&qe.length,Ce=Ne=null,fe):qe},fe.padding=function(Lr){return arguments.length?(ft=Lr,Ce=Ne=null,fe):ft},fe.sortGroups=function(Lr){return arguments.length?(Pt=Lr,Ce=Ne=null,fe):Pt},fe.sortSubgroups=function(Lr){return arguments.length?(At=Lr,Ce=null,fe):At},fe.sortChords=function(Lr){return arguments.length?(Vt=Lr,Ce&&nr(),fe):Vt},fe.chords=function(){return Ce||Gt(),Ce},fe.groups=function(){return Ne||Gt(),Ne},fe},a.layout.force=function(){var fe={},Ce=a.dispatch("start","tick","end"),Ne,qe=[1,1],rt,ft,Pt=.9,At=ic,Vt=iv,Gt=-30,nr=Mf,Lr=.1,Pr=.64,en=[],on=[],Dr,Vr,Jr;function un(rn){return function(Wn,ra,ca,ea){if(Wn.point!==rn){var sa=Wn.cx-rn.x,ha=Wn.cy-rn.y,Va=ea-ra,La=sa*sa+ha*ha;if(Va*Va/Pr<La){if(La<nr){var Fa=Wn.charge/La;rn.px-=sa*Fa,rn.py-=ha*Fa}return!0}if(Wn.point&&La&&La<nr){var Fa=Wn.pointCharge/La;rn.px-=sa*Fa,rn.py-=ha*Fa}}return!Wn.charge}}fe.tick=function(){if((ft*=.99)<.005)return Ne=null,Ce.end({type:"end",alpha:ft=0}),!0;var rn=en.length,Wn=on.length,ra,ca,ea,sa,ha,Va,La,Fa,li;for(ca=0;ca<Wn;++ca)ea=on[ca],sa=ea.source,ha=ea.target,Fa=ha.x-sa.x,li=ha.y-sa.y,(Va=Fa*Fa+li*li)&&(Va=ft*Vr[ca]*((Va=Math.sqrt(Va))-Dr[ca])/Va,Fa*=Va,li*=Va,ha.x-=Fa*(La=sa.weight+ha.weight?sa.weight/(sa.weight+ha.weight):.5),ha.y-=li*La,sa.x+=Fa*(La=1-La),sa.y+=li*La);if((La=ft*Lr)&&(Fa=qe[0]/2,li=qe[1]/2,ca=-1,La))for(;++ca<rn;)ea=en[ca],ea.x+=(Fa-ea.x)*La,ea.y+=(li-ea.y)*La;if(Gt)for(Fi(ra=a.geom.quadtree(en),ft,Jr),ca=-1;++ca<rn;)(ea=en[ca]).fixed||ra.visit(un(ea));for(ca=-1;++ca<rn;)ea=en[ca],ea.fixed?(ea.x=ea.px,ea.y=ea.py):(ea.x-=(ea.px-(ea.px=ea.x))*Pt,ea.y-=(ea.py-(ea.py=ea.y))*Pt);Ce.tick({type:"tick",alpha:ft})},fe.nodes=function(rn){return arguments.length?(en=rn,fe):en},fe.links=function(rn){return arguments.length?(on=rn,fe):on},fe.size=function(rn){return arguments.length?(qe=rn,fe):qe},fe.linkDistance=function(rn){return arguments.length?(At=typeof rn=="function"?rn:+rn,fe):At},fe.distance=fe.linkDistance,fe.linkStrength=function(rn){return arguments.length?(Vt=typeof rn=="function"?rn:+rn,fe):Vt},fe.friction=function(rn){return arguments.length?(Pt=+rn,fe):Pt},fe.charge=function(rn){return arguments.length?(Gt=typeof rn=="function"?rn:+rn,fe):Gt},fe.chargeDistance=function(rn){return arguments.length?(nr=rn*rn,fe):Math.sqrt(nr)},fe.gravity=function(rn){return arguments.length?(Lr=+rn,fe):Lr},fe.theta=function(rn){return arguments.length?(Pr=rn*rn,fe):Math.sqrt(Pr)},fe.alpha=function(rn){return arguments.length?(rn=+rn,ft?rn>0?ft=rn:(Ne.c=null,Ne.t=NaN,Ne=null,Ce.end({type:"end",alpha:ft=0})):rn>0&&(Ce.start({type:"start",alpha:ft=rn}),Ne=Rn(fe.tick)),fe):ft},fe.start=function(){var rn,Wn=en.length,ra=on.length,ca=qe[0],ea=qe[1],sa,ha;for(rn=0;rn<Wn;++rn)(ha=en[rn]).index=rn,ha.weight=0;for(rn=0;rn<ra;++rn)ha=on[rn],typeof ha.source=="number"&&(ha.source=en[ha.source]),typeof ha.target=="number"&&(ha.target=en[ha.target]),++ha.source.weight,++ha.target.weight;for(rn=0;rn<Wn;++rn)ha=en[rn],isNaN(ha.x)&&(ha.x=Va("x",ca)),isNaN(ha.y)&&(ha.y=Va("y",ea)),isNaN(ha.px)&&(ha.px=ha.x),isNaN(ha.py)&&(ha.py=ha.y);if(Dr=[],typeof At=="function")for(rn=0;rn<ra;++rn)Dr[rn]=+At.call(this,on[rn],rn);else for(rn=0;rn<ra;++rn)Dr[rn]=At;if(Vr=[],typeof Vt=="function")for(rn=0;rn<ra;++rn)Vr[rn]=+Vt.call(this,on[rn],rn);else for(rn=0;rn<ra;++rn)Vr[rn]=Vt;if(Jr=[],typeof Gt=="function")for(rn=0;rn<Wn;++rn)Jr[rn]=+Gt.call(this,en[rn],rn);else for(rn=0;rn<Wn;++rn)Jr[rn]=Gt;function Va(La,Fa){if(!sa){for(sa=new Array(Wn),di=0;di<Wn;++di)sa[di]=[];for(di=0;di<ra;++di){var li=on[di];sa[li.source.index].push(li.target),sa[li.target.index].push(li.source)}}for(var Ki=sa[rn],di=-1,Qn=Ki.length,Wa;++di<Qn;)if(!isNaN(Wa=Ki[di][La]))return Wa;return Math.random()*Fa}return fe.resume()},fe.resume=function(){return fe.alpha(.1)},fe.stop=function(){return fe.alpha(0)},fe.drag=function(){if(rt||(rt=a.behavior.drag().origin(F).on("dragstart.force",Os).on("drag.force",dn).on("dragend.force",ac)),!arguments.length)return rt;this.on("mouseover.force",iu).on("mouseout.force",gs).call(rt)};function dn(rn){rn.px=a.event.x,rn.py=a.event.y,fe.resume()}return a.rebind(fe,Ce,"on")};function Os(fe){fe.fixed|=2}function ac(fe){fe.fixed&=-7}function iu(fe){fe.fixed|=4,fe.px=fe.x,fe.py=fe.y}function gs(fe){fe.fixed&=-5}function Fi(fe,Ce,Ne){var qe=0,rt=0;if(fe.charge=0,!fe.leaf)for(var ft=fe.nodes,Pt=ft.length,At=-1,Vt;++At<Pt;)Vt=ft[At],Vt!=null&&(Fi(Vt,Ce,Ne),fe.charge+=Vt.charge,qe+=Vt.charge*Vt.cx,rt+=Vt.charge*Vt.cy);if(fe.point){fe.leaf||(fe.point.x+=Math.random()-.5,fe.point.y+=Math.random()-.5);var Gt=Ce*Ne[fe.point.index];fe.charge+=fe.pointCharge=Gt,qe+=Gt*fe.point.x,rt+=Gt*fe.point.y}fe.cx=qe/fe.charge,fe.cy=rt/fe.charge}var ic=20,iv=1,Mf=1/0;a.layout.hierarchy=function(){var fe=Cf,Ce=Ef,Ne=lu;function qe(rt){var ft=[rt],Pt=[],At;for(rt.depth=0;(At=ft.pop())!=null;)if(Pt.push(At),(Gt=Ce.call(qe,At,At.depth))&&(Vt=Gt.length)){for(var Vt,Gt,nr;--Vt>=0;)ft.push(nr=Gt[Vt]),nr.parent=At,nr.depth=At.depth+1;Ne&&(At.value=0),At.children=Gt}else Ne&&(At.value=+Ne.call(qe,At,At.depth)||0),delete At.children;return Yo(rt,function(Lr){var Pr,en;fe&&(Pr=Lr.children)&&Pr.sort(fe),Ne&&(en=Lr.parent)&&(en.value+=Lr.value)}),Pt}return qe.sort=function(rt){return arguments.length?(fe=rt,qe):fe},qe.children=function(rt){return arguments.length?(Ce=rt,qe):Ce},qe.value=function(rt){return arguments.length?(Ne=rt,qe):Ne},qe.revalue=function(rt){return Ne&&(su(rt,function(ft){ft.children&&(ft.value=0)}),Yo(rt,function(ft){var Pt;ft.children||(ft.value=+Ne.call(qe,ft,ft.depth)||0),(Pt=ft.parent)&&(Pt.value+=ft.value)})),rt},qe};function ou(fe,Ce){return a.rebind(fe,Ce,"sort","children","value"),fe.nodes=fe,fe.links=ov,fe}function su(fe,Ce){for(var Ne=[fe];(fe=Ne.pop())!=null;)if(Ce(fe),(rt=fe.children)&&(qe=rt.length))for(var qe,rt;--qe>=0;)Ne.push(rt[qe])}function Yo(fe,Ce){for(var Ne=[fe],qe=[];(fe=Ne.pop())!=null;)if(qe.push(fe),(Pt=fe.children)&&(ft=Pt.length))for(var rt=-1,ft,Pt;++rt<ft;)Ne.push(Pt[rt]);for(;(fe=qe.pop())!=null;)Ce(fe)}function Ef(fe){return fe.children}function lu(fe){return fe.value}function Cf(fe,Ce){return Ce.value-fe.value}function ov(fe){return a.merge(fe.map(function(Ce){return(Ce.children||[]).map(function(Ne){return{source:Ce,target:Ne}})}))}a.layout.partition=function(){var fe=a.layout.hierarchy(),Ce=[1,1];function Ne(ft,Pt,At,Vt){var Gt=ft.children;if(ft.x=Pt,ft.y=ft.depth*Vt,ft.dx=At,ft.dy=Vt,Gt&&(Lr=Gt.length)){var nr=-1,Lr,Pr,en;for(At=ft.value?At/ft.value:0;++nr<Lr;)Ne(Pr=Gt[nr],Pt,en=Pr.value*At,Vt),Pt+=en}}function qe(ft){var Pt=ft.children,At=0;if(Pt&&(Gt=Pt.length))for(var Vt=-1,Gt;++Vt<Gt;)At=Math.max(At,qe(Pt[Vt]));return 1+At}function rt(ft,Pt){var At=fe.call(this,ft,Pt);return Ne(At[0],0,Ce[0],Ce[1]/qe(At[0])),At}return rt.size=function(ft){return arguments.length?(Ce=ft,rt):Ce},ou(rt,fe)},a.layout.pie=function(){var fe=Number,Ce=Jc,Ne=0,qe=Te,rt=0;function ft(Pt){var At=Pt.length,Vt=Pt.map(function(un,dn){return+fe.call(ft,un,dn)}),Gt=+(typeof Ne=="function"?Ne.apply(this,arguments):Ne),nr=(typeof qe=="function"?qe.apply(this,arguments):qe)-Gt,Lr=Math.min(Math.abs(nr)/At,+(typeof rt=="function"?rt.apply(this,arguments):rt)),Pr=Lr*(nr<0?-1:1),en=a.sum(Vt),on=en?(nr-At*Pr)/en:0,Dr=a.range(At),Vr=[],Jr;return Ce!=null&&Dr.sort(Ce===Jc?function(un,dn){return Vt[dn]-Vt[un]}:function(un,dn){return Ce(Pt[un],Pt[dn])}),Dr.forEach(function(un){Vr[un]={data:Pt[un],value:Jr=Vt[un],startAngle:Gt,endAngle:Gt+=Jr*on+Pr,padAngle:Lr}}),Vr}return ft.value=function(Pt){return arguments.length?(fe=Pt,ft):fe},ft.sort=function(Pt){return arguments.length?(Ce=Pt,ft):Ce},ft.startAngle=function(Pt){return arguments.length?(Ne=Pt,ft):Ne},ft.endAngle=function(Pt){return arguments.length?(qe=Pt,ft):qe},ft.padAngle=function(Pt){return arguments.length?(rt=Pt,ft):rt},ft};var Jc={};a.layout.stack=function(){var fe=F,Ce=Hu,Ne=Pf,qe=lc,rt=oc,ft=sc;function Pt(At,Vt){if(!(on=At.length))return At;var Gt=At.map(function(un,dn){return fe.call(Pt,un,dn)}),nr=Gt.map(function(un){return un.map(function(dn,rn){return[rt.call(Pt,dn,rn),ft.call(Pt,dn,rn)]})}),Lr=Ce.call(Pt,nr,Vt);Gt=a.permute(Gt,Lr),nr=a.permute(nr,Lr);var Pr=Ne.call(Pt,nr,Vt),en=Gt[0].length,on,Dr,Vr,Jr;for(Vr=0;Vr<en;++Vr)for(qe.call(Pt,Gt[0][Vr],Jr=Pr[Vr],nr[0][Vr][1]),Dr=1;Dr<on;++Dr)qe.call(Pt,Gt[Dr][Vr],Jr+=nr[Dr-1][Vr][1],nr[Dr][Vr][1]);return At}return Pt.values=function(At){return arguments.length?(fe=At,Pt):fe},Pt.order=function(At){return arguments.length?(Ce=typeof At=="function"?At:uu.get(At)||Hu,Pt):Ce},Pt.offset=function(At){return arguments.length?(Ne=typeof At=="function"?At:Lf.get(At)||Pf,Pt):Ne},Pt.x=function(At){return arguments.length?(rt=At,Pt):rt},Pt.y=function(At){return arguments.length?(ft=At,Pt):ft},Pt.out=function(At){return arguments.length?(qe=At,Pt):qe},Pt};function oc(fe){return fe.x}function sc(fe){return fe.y}function lc(fe,Ce,Ne){fe.y0=Ce,fe.y=Ne}var uu=a.map({"inside-out":function(fe){var Ce=fe.length,Ne,qe,rt=fe.map(wi),ft=fe.map($c),Pt=a.range(Ce).sort(function(Lr,Pr){return rt[Lr]-rt[Pr]}),At=0,Vt=0,Gt=[],nr=[];for(Ne=0;Ne<Ce;++Ne)qe=Pt[Ne],At<Vt?(At+=ft[qe],Gt.push(qe)):(Vt+=ft[qe],nr.push(qe));return nr.reverse().concat(Gt)},reverse:function(fe){return a.range(fe.length).reverse()},default:Hu}),Lf=a.map({silhouette:function(fe){var Ce=fe.length,Ne=fe[0].length,qe=[],rt=0,ft,Pt,At,Vt=[];for(Pt=0;Pt<Ne;++Pt){for(ft=0,At=0;ft<Ce;ft++)At+=fe[ft][Pt][1];At>rt&&(rt=At),qe.push(At)}for(Pt=0;Pt<Ne;++Pt)Vt[Pt]=(rt-qe[Pt])/2;return Vt},wiggle:function(fe){var Ce=fe.length,Ne=fe[0],qe=Ne.length,rt,ft,Pt,At,Vt,Gt,nr,Lr,Pr,en=[];for(en[0]=Lr=Pr=0,ft=1;ft<qe;++ft){for(rt=0,At=0;rt<Ce;++rt)At+=fe[rt][ft][1];for(rt=0,Vt=0,nr=Ne[ft][0]-Ne[ft-1][0];rt<Ce;++rt){for(Pt=0,Gt=(fe[rt][ft][1]-fe[rt][ft-1][1])/(2*nr);Pt<rt;++Pt)Gt+=(fe[Pt][ft][1]-fe[Pt][ft-1][1])/nr;Vt+=Gt*fe[rt][ft][1]}en[ft]=Lr-=At?Vt/At*nr:0,Lr<Pr&&(Pr=Lr)}for(ft=0;ft<qe;++ft)en[ft]-=Pr;return en},expand:function(fe){var Ce=fe.length,Ne=fe[0].length,qe=1/Ce,rt,ft,Pt,At=[];for(ft=0;ft<Ne;++ft){for(rt=0,Pt=0;rt<Ce;rt++)Pt+=fe[rt][ft][1];if(Pt)for(rt=0;rt<Ce;rt++)fe[rt][ft][1]/=Pt;else for(rt=0;rt<Ce;rt++)fe[rt][ft][1]=qe}for(ft=0;ft<Ne;++ft)At[ft]=0;return At},zero:Pf});function Hu(fe){return a.range(fe.length)}function Pf(fe){for(var Ce=-1,Ne=fe[0].length,qe=[];++Ce<Ne;)qe[Ce]=0;return qe}function wi(fe){for(var Ce=1,Ne=0,qe=fe[0][1],rt,ft=fe.length;Ce<ft;++Ce)(rt=fe[Ce][1])>qe&&(Ne=Ce,qe=rt);return Ne}function $c(fe){return fe.reduce(ys,0)}function ys(fe,Ce){return fe+Ce[1]}a.layout.histogram=function(){var fe=!0,Ce=Number,Ne=Il,qe=Qc;function rt(ft,Pr){for(var At=[],Vt=ft.map(Ce,this),Gt=Ne.call(this,Vt,Pr),nr=qe.call(this,Gt,Vt,Pr),Lr,Pr=-1,en=Vt.length,on=nr.length-1,Dr=fe?1:1/en,Vr;++Pr<on;)Lr=At[Pr]=[],Lr.dx=nr[Pr+1]-(Lr.x=nr[Pr]),Lr.y=0;if(on>0)for(Pr=-1;++Pr<en;)Vr=Vt[Pr],Vr>=Gt[0]&&Vr<=Gt[1]&&(Lr=At[a.bisect(nr,Vr,1,on)-1],Lr.y+=Dr,Lr.push(ft[Pr]));return At}return rt.value=function(ft){return arguments.length?(Ce=ft,rt):Ce},rt.range=function(ft){return arguments.length?(Ne=Zr(ft),rt):Ne},rt.bins=function(ft){return arguments.length?(qe=typeof ft=="number"?function(Pt){return uc(Pt,ft)}:Zr(ft),rt):qe},rt.frequency=function(ft){return arguments.length?(fe=!!ft,rt):fe},rt};function Qc(fe,Ce){return uc(fe,Math.ceil(Math.log(Ce.length)/Math.LN2+1))}function uc(fe,Ce){for(var Ne=-1,qe=+fe[0],rt=(fe[1]-qe)/Ce,ft=[];++Ne<=Ce;)ft[Ne]=rt*Ne+qe;return ft}function Il(fe){return[a.min(fe),a.max(fe)]}a.layout.pack=function(){var fe=a.layout.hierarchy().sort(cl),Ce=0,Ne=[1,1],qe;function rt(ft,Pt){var At=fe.call(this,ft,Pt),Vt=At[0],Gt=Ne[0],nr=Ne[1],Lr=qe==null?Math.sqrt:typeof qe=="function"?qe:function(){return qe};if(Vt.x=Vt.y=0,Yo(Vt,function(en){en.r=+Lr(en.value)}),Yo(Vt,ms),Ce){var Pr=Ce*(qe?1:Math.max(2*Vt.r/Gt,2*Vt.r/nr))/2;Yo(Vt,function(en){en.r+=Pr}),Yo(Vt,ms),Yo(Vt,function(en){en.r-=Pr})}return hl(Vt,Gt/2,nr/2,qe?1:1/Math.max(2*Vt.r/Gt,2*Vt.r/nr)),At}return rt.size=function(ft){return arguments.length?(Ne=ft,rt):Ne},rt.radius=function(ft){return arguments.length?(qe=ft==null||typeof ft=="function"?ft:+ft,rt):qe},rt.padding=function(ft){return arguments.length?(Ce=+ft,rt):Ce},ou(rt,fe)};function cl(fe,Ce){return fe.value-Ce.value}function Rf(fe,Ce){var Ne=fe._pack_next;fe._pack_next=Ce,Ce._pack_prev=fe,Ce._pack_next=Ne,Ne._pack_prev=Ce}function ji(fe,Ce){fe._pack_next=Ce,Ce._pack_prev=fe}function Gu(fe,Ce){var Ne=Ce.x-fe.x,qe=Ce.y-fe.y,rt=fe.r+Ce.r;return .999*rt*rt>Ne*Ne+qe*qe}function ms(fe){if(!(Ce=fe.children)||!(Pr=Ce.length))return;var Ce,Ne=1/0,qe=-1/0,rt=1/0,ft=-1/0,Pt,At,Vt,Gt,nr,Lr,Pr;function en(rn){Ne=Math.min(rn.x-rn.r,Ne),qe=Math.max(rn.x+rn.r,qe),rt=Math.min(rn.y-rn.r,rt),ft=Math.max(rn.y+rn.r,ft)}if(Ce.forEach(Ks),Pt=Ce[0],Pt.x=-Pt.r,Pt.y=0,en(Pt),Pr>1&&(At=Ce[1],At.x=At.r,At.y=0,en(At),Pr>2))for(Vt=Ce[2],xs(Pt,At,Vt),en(Vt),Rf(Pt,Vt),Pt._pack_prev=Vt,Rf(Vt,At),At=Pt._pack_next,Gt=3;Gt<Pr;Gt++){xs(Pt,At,Vt=Ce[Gt]);var on=0,Dr=1,Vr=1;for(nr=At._pack_next;nr!==At;nr=nr._pack_next,Dr++)if(Gu(nr,Vt)){on=1;break}if(on==1)for(Lr=Pt._pack_prev;Lr!==nr._pack_prev&&!Gu(Lr,Vt);Lr=Lr._pack_prev,Vr++);on?(Dr<Vr||Dr==Vr&&At.r<Pt.r?ji(Pt,At=nr):ji(Pt=Lr,At),Gt--):(Rf(Pt,Vt),At=Vt,en(Vt))}var Jr=(Ne+qe)/2,un=(rt+ft)/2,dn=0;for(Gt=0;Gt<Pr;Gt++)Vt=Ce[Gt],Vt.x-=Jr,Vt.y-=un,dn=Math.max(dn,Vt.r+Math.sqrt(Vt.x*Vt.x+Vt.y*Vt.y));fe.r=dn,Ce.forEach(kl)}function Ks(fe){fe._pack_next=fe._pack_prev=fe}function kl(fe){delete fe._pack_next,delete fe._pack_prev}function hl(fe,Ce,Ne,qe){var rt=fe.children;if(fe.x=Ce+=qe*fe.x,fe.y=Ne+=qe*fe.y,fe.r*=qe,rt)for(var ft=-1,Pt=rt.length;++ft<Pt;)hl(rt[ft],Ce,Ne,qe)}function xs(fe,Ce,Ne){var qe=fe.r+Ne.r,rt=Ce.x-fe.x,ft=Ce.y-fe.y;if(qe&&(rt||ft)){var Pt=Ce.r+Ne.r,At=rt*rt+ft*ft;Pt*=Pt,qe*=qe;var Vt=.5+(qe-Pt)/(2*At),Gt=Math.sqrt(Math.max(0,2*Pt*(qe+At)-(qe-=At)*qe-Pt*Pt))/(2*At);Ne.x=fe.x+Vt*rt+Gt*ft,Ne.y=fe.y+Vt*ft-Gt*rt}else Ne.x=fe.x+qe,Ne.y=fe.y}a.layout.tree=function(){var fe=a.layout.hierarchy().sort(null).value(null),Ce=Js,Ne=[1,1],qe=null;function rt(nr,Lr){var Pr=fe.call(this,nr,Lr),en=Pr[0],on=ft(en);if(Yo(on,Pt),on.parent.m=-on.z,su(on,At),qe)su(en,Gt);else{var Dr=en,Vr=en,Jr=en;su(en,function(Wn){Wn.x<Dr.x&&(Dr=Wn),Wn.x>Vr.x&&(Vr=Wn),Wn.depth>Jr.depth&&(Jr=Wn)});var un=Ce(Dr,Vr)/2-Dr.x,dn=Ne[0]/(Vr.x+Ce(Vr,Dr)/2+un),rn=Ne[1]/(Jr.depth||1);su(en,function(Wn){Wn.x=(Wn.x+un)*dn,Wn.y=Wn.depth*rn})}return Pr}function ft(nr){for(var Lr={A:null,children:[nr]},Pr=[Lr],en;(en=Pr.pop())!=null;)for(var on=en.children,Dr,Vr=0,Jr=on.length;Vr<Jr;++Vr)Pr.push((on[Vr]=Dr={_:on[Vr],parent:en,children:(Dr=on[Vr].children)&&Dr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Vr}).a=Dr);return Lr.children[0]}function Pt(nr){var Lr=nr.children,Pr=nr.parent.children,en=nr.i?Pr[nr.i-1]:null;if(Lr.length){sv(nr);var on=(Lr[0].z+Lr[Lr.length-1].z)/2;en?(nr.z=en.z+Ce(nr._,en._),nr.m=nr.z-on):nr.z=on}else en&&(nr.z=en.z+Ce(nr._,en._));nr.parent.A=Vt(nr,en,nr.parent.A||Pr[0])}function At(nr){nr._.x=nr.z+nr.parent.m,nr.m+=nr.parent.m}function Vt(nr,Lr,Pr){if(Lr){for(var en=nr,on=nr,Dr=Lr,Vr=en.parent.children[0],Jr=en.m,un=on.m,dn=Dr.m,rn=Vr.m,Wn;Dr=os(Dr),en=bs(en),Dr&&en;)Vr=bs(Vr),on=os(on),on.a=nr,Wn=Dr.z+dn-en.z-Jr+Ce(Dr._,en._),Wn>0&&(Wu(lv(Dr,nr,Pr),nr,Wn),Jr+=Wn,un+=Wn),dn+=Dr.m,Jr+=en.m,rn+=Vr.m,un+=on.m;Dr&&!os(on)&&(on.t=Dr,on.m+=dn-un),en&&!bs(Vr)&&(Vr.t=en,Vr.m+=Jr-rn,Pr=nr)}return Pr}function Gt(nr){nr.x*=Ne[0],nr.y=nr.depth*Ne[1]}return rt.separation=function(nr){return arguments.length?(Ce=nr,rt):Ce},rt.size=function(nr){return arguments.length?(qe=(Ne=nr)==null?Gt:null,rt):qe?null:Ne},rt.nodeSize=function(nr){return arguments.length?(qe=(Ne=nr)==null?null:Gt,rt):qe?Ne:null},ou(rt,fe)};function Js(fe,Ce){return fe.parent==Ce.parent?1:2}function bs(fe){var Ce=fe.children;return Ce.length?Ce[0]:fe.t}function os(fe){var Ce=fe.children,Ne;return(Ne=Ce.length)?Ce[Ne-1]:fe.t}function Wu(fe,Ce,Ne){var qe=Ne/(Ce.i-fe.i);Ce.c-=qe,Ce.s+=Ne,fe.c+=qe,Ce.z+=Ne,Ce.m+=Ne}function sv(fe){for(var Ce=0,Ne=0,qe=fe.children,rt=qe.length,ft;--rt>=0;)ft=qe[rt],ft.z+=Ce,ft.m+=Ce,Ce+=ft.s+(Ne+=ft.c)}function lv(fe,Ce,Ne){return fe.a.parent===Ce.parent?fe.a:Ne}a.layout.cluster=function(){var fe=a.layout.hierarchy().sort(null).value(null),Ce=Js,Ne=[1,1],qe=!1;function rt(ft,Pt){var At=fe.call(this,ft,Pt),Vt=At[0],Gt,nr=0;Yo(Vt,function(Dr){var Vr=Dr.children;Vr&&Vr.length?(Dr.x=fv(Vr),Dr.y=uv(Vr)):(Dr.x=Gt?nr+=Ce(Dr,Gt):0,Dr.y=0,Gt=Dr)});var Lr=fc(Vt),Pr=qc(Vt),en=Lr.x-Ce(Lr,Pr)/2,on=Pr.x+Ce(Pr,Lr)/2;return Yo(Vt,qe?function(Dr){Dr.x=(Dr.x-Vt.x)*Ne[0],Dr.y=(Vt.y-Dr.y)*Ne[1]}:function(Dr){Dr.x=(Dr.x-en)/(on-en)*Ne[0],Dr.y=(1-(Vt.y?Dr.y/Vt.y:1))*Ne[1]}),At}return rt.separation=function(ft){return arguments.length?(Ce=ft,rt):Ce},rt.size=function(ft){return arguments.length?(qe=(Ne=ft)==null,rt):qe?null:Ne},rt.nodeSize=function(ft){return arguments.length?(qe=(Ne=ft)!=null,rt):qe?Ne:null},ou(rt,fe)};function uv(fe){return 1+a.max(fe,function(Ce){return Ce.y})}function fv(fe){return fe.reduce(function(Ce,Ne){return Ce+Ne.x},0)/fe.length}function fc(fe){var Ce=fe.children;return Ce&&Ce.length?fc(Ce[0]):fe}function qc(fe){var Ce=fe.children,Ne;return Ce&&(Ne=Ce.length)?qc(Ce[Ne-1]):fe}a.layout.treemap=function(){var fe=a.layout.hierarchy(),Ce=Math.round,Ne=[1,1],qe=null,rt=fu,ft=!1,Pt,At="squarify",Vt=.5*(1+Math.sqrt(5));function Gt(Dr,Vr){for(var Jr=-1,un=Dr.length,dn,rn;++Jr<un;)rn=(dn=Dr[Jr]).value*(Vr<0?0:Vr),dn.area=isNaN(rn)||rn<=0?0:rn}function nr(Dr){var Vr=Dr.children;if(Vr&&Vr.length){var Jr=rt(Dr),un=[],dn=Vr.slice(),rn,Wn=1/0,ra,ca=At==="slice"?Jr.dx:At==="dice"?Jr.dy:At==="slice-dice"?Dr.depth&1?Jr.dy:Jr.dx:Math.min(Jr.dx,Jr.dy),ea;for(Gt(dn,Jr.dx*Jr.dy/Dr.value),un.area=0;(ea=dn.length)>0;)un.push(rn=dn[ea-1]),un.area+=rn.area,At!=="squarify"||(ra=Pr(un,ca))<=Wn?(dn.pop(),Wn=ra):(un.area-=un.pop().area,en(un,ca,Jr,!1),ca=Math.min(Jr.dx,Jr.dy),un.length=un.area=0,Wn=1/0);un.length&&(en(un,ca,Jr,!0),un.length=un.area=0),Vr.forEach(nr)}}function Lr(Dr){var Vr=Dr.children;if(Vr&&Vr.length){var Jr=rt(Dr),un=Vr.slice(),dn,rn=[];for(Gt(un,Jr.dx*Jr.dy/Dr.value),rn.area=0;dn=un.pop();)rn.push(dn),rn.area+=dn.area,dn.z!=null&&(en(rn,dn.z?Jr.dx:Jr.dy,Jr,!un.length),rn.length=rn.area=0);Vr.forEach(Lr)}}function Pr(Dr,Vr){for(var Jr=Dr.area,un,dn=0,rn=1/0,Wn=-1,ra=Dr.length;++Wn<ra;)(un=Dr[Wn].area)&&(un<rn&&(rn=un),un>dn&&(dn=un));return Jr*=Jr,Vr*=Vr,Jr?Math.max(Vr*dn*Vt/Jr,Jr/(Vr*rn*Vt)):1/0}function en(Dr,Vr,Jr,un){var dn=-1,rn=Dr.length,Wn=Jr.x,ra=Jr.y,ca=Vr?Ce(Dr.area/Vr):0,ea;if(Vr==Jr.dx){for((un||ca>Jr.dy)&&(ca=Jr.dy);++dn<rn;)ea=Dr[dn],ea.x=Wn,ea.y=ra,ea.dy=ca,Wn+=ea.dx=Math.min(Jr.x+Jr.dx-Wn,ca?Ce(ea.area/ca):0);ea.z=!0,ea.dx+=Jr.x+Jr.dx-Wn,Jr.y+=ca,Jr.dy-=ca}else{for((un||ca>Jr.dx)&&(ca=Jr.dx);++dn<rn;)ea=Dr[dn],ea.x=Wn,ea.y=ra,ea.dx=ca,ra+=ea.dy=Math.min(Jr.y+Jr.dy-ra,ca?Ce(ea.area/ca):0);ea.z=!1,ea.dy+=Jr.y+Jr.dy-ra,Jr.x+=ca,Jr.dx-=ca}}function on(Dr){var Vr=Pt||fe(Dr),Jr=Vr[0];return Jr.x=Jr.y=0,Jr.value?(Jr.dx=Ne[0],Jr.dy=Ne[1]):Jr.dx=Jr.dy=0,Pt&&fe.revalue(Jr),Gt([Jr],Jr.dx*Jr.dy/Jr.value),(Pt?Lr:nr)(Jr),ft&&(Pt=Vr),Vr}return on.size=function(Dr){return arguments.length?(Ne=Dr,on):Ne},on.padding=function(Dr){if(!arguments.length)return qe;function Vr(dn){var rn=Dr.call(on,dn,dn.depth);return rn==null?fu(dn):uo(dn,typeof rn=="number"?[rn,rn,rn,rn]:rn)}function Jr(dn){return uo(dn,Dr)}var un;return rt=(qe=Dr)==null?fu:(un=typeof Dr)=="function"?Vr:(un==="number"&&(Dr=[Dr,Dr,Dr,Dr]),Jr),on},on.round=function(Dr){return arguments.length?(Ce=Dr?Math.round:Number,on):Ce!=Number},on.sticky=function(Dr){return arguments.length?(ft=Dr,Pt=null,on):ft},on.ratio=function(Dr){return arguments.length?(Vt=Dr,on):Vt},on.mode=function(Dr){return arguments.length?(At=Dr+"",on):At},ou(on,fe)};function fu(fe){return{x:fe.x,y:fe.y,dx:fe.dx,dy:fe.dy}}function uo(fe,Ce){var Ne=fe.x+Ce[3],qe=fe.y+Ce[0],rt=fe.dx-Ce[1]-Ce[3],ft=fe.dy-Ce[0]-Ce[2];return rt<0&&(Ne+=rt/2,rt=0),ft<0&&(qe+=ft/2,ft=0),{x:Ne,y:qe,dx:rt,dy:ft}}a.random={normal:function(fe,Ce){var Ne=arguments.length;return Ne<2&&(Ce=1),Ne<1&&(fe=0),function(){var qe,rt,ft;do qe=Math.random()*2-1,rt=Math.random()*2-1,ft=qe*qe+rt*rt;while(!ft||ft>1);return fe+Ce*qe*Math.sqrt(-2*Math.log(ft)/ft)}},logNormal:function(){var fe=a.random.normal.apply(a,arguments);return function(){return Math.exp(fe())}},bates:function(fe){var Ce=a.random.irwinHall(fe);return function(){return Ce()/fe}},irwinHall:function(fe){return function(){for(var Ce=0,Ne=0;Ne<fe;Ne++)Ce+=Math.random();return Ce}}},a.scale={};function rs(fe){var Ce=fe[0],Ne=fe[fe.length-1];return Ce<Ne?[Ce,Ne]:[Ne,Ce]}function cu(fe){return fe.rangeExtent?fe.rangeExtent():rs(fe.range())}function eh(fe,Ce,Ne,qe){var rt=Ne(fe[0],fe[1]),ft=qe(Ce[0],Ce[1]);return function(Pt){return ft(rt(Pt))}}function ju(fe,Ce){var Ne=0,qe=fe.length-1,rt=fe[Ne],ft=fe[qe],Pt;return ft<rt&&(Pt=Ne,Ne=qe,qe=Pt,Pt=rt,rt=ft,ft=Pt),fe[Ne]=Ce.floor(rt),fe[qe]=Ce.ceil(ft),fe}function $s(fe){return fe?{floor:function(Ce){return Math.floor(Ce/fe)*fe},ceil:function(Ce){return Math.ceil(Ce/fe)*fe}}:cv}var cv={floor:F,ceil:F};function th(fe,Ce,Ne,qe){var rt=[],ft=[],Pt=0,At=Math.min(fe.length,Ce.length)-1;for(fe[At]<fe[0]&&(fe=fe.slice().reverse(),Ce=Ce.slice().reverse());++Pt<=At;)rt.push(Ne(fe[Pt-1],fe[Pt])),ft.push(qe(Ce[Pt-1],Ce[Pt]));return function(Vt){var Gt=a.bisect(fe,Vt,1,At)-1;return ft[Gt](rt[Gt](Vt))}}a.scale.linear=function(){return rh([0,1],[0,1],yo,!1)};function rh(fe,Ce,Ne,qe){var rt,ft;function Pt(){var Vt=Math.min(fe.length,Ce.length)>2?th:eh,Gt=qe?au:ps;return rt=Vt(fe,Ce,Gt,Ne),ft=Vt(Ce,fe,Gt,yo),At}function At(Vt){return rt(Vt)}return At.invert=function(Vt){return ft(Vt)},At.domain=function(Vt){return arguments.length?(fe=Vt.map(Number),Pt()):fe},At.range=function(Vt){return arguments.length?(Ce=Vt,Pt()):Ce},At.rangeRound=function(Vt){return At.range(Vt).interpolate(Yc)},At.clamp=function(Vt){return arguments.length?(qe=Vt,Pt()):qe},At.interpolate=function(Vt){return arguments.length?(Ne=Vt,Pt()):Ne},At.ticks=function(Vt){return ws(fe,Vt)},At.tickFormat=function(Vt,Gt){return d3_scale_linearTickFormat(fe,Vt,Gt)},At.nice=function(Vt){return nh(fe,Vt),Pt()},At.copy=function(){return rh(fe,Ce,Ne,qe)},Pt()}function cc(fe,Ce){return a.rebind(fe,Ce,"range","rangeRound","interpolate","clamp")}function nh(fe,Ce){return ju(fe,$s(zo(fe,Ce)[2])),ju(fe,$s(zo(fe,Ce)[2])),fe}function zo(fe,Ce){Ce==null&&(Ce=10);var Ne=rs(fe),qe=Ne[1]-Ne[0],rt=Math.pow(10,Math.floor(Math.log(qe/Ce)/Math.LN10)),ft=Ce/qe*rt;return ft<=.15?rt*=10:ft<=.35?rt*=5:ft<=.75&&(rt*=2),Ne[0]=Math.ceil(Ne[0]/rt)*rt,Ne[1]=Math.floor(Ne[1]/rt)*rt+rt*.5,Ne[2]=rt,Ne}function ws(fe,Ce){return a.range.apply(a,zo(fe,Ce))}a.scale.log=function(){return vl(a.scale.linear().domain([0,1]),10,!0,[1,10])};function vl(fe,Ce,Ne,qe){function rt(At){return(Ne?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Ce)}function ft(At){return Ne?Math.pow(Ce,At):-Math.pow(Ce,-At)}function Pt(At){return fe(rt(At))}return Pt.invert=function(At){return ft(fe.invert(At))},Pt.domain=function(At){return arguments.length?(Ne=At[0]>=0,fe.domain((qe=At.map(Number)).map(rt)),Pt):qe},Pt.base=function(At){return arguments.length?(Ce=+At,fe.domain(qe.map(rt)),Pt):Ce},Pt.nice=function(){var At=ju(qe.map(rt),Ne?Math:hu);return fe.domain(At),qe=At.map(ft),Pt},Pt.ticks=function(){var At=rs(qe),Vt=[],Gt=At[0],nr=At[1],Lr=Math.floor(rt(Gt)),Pr=Math.ceil(rt(nr)),en=Ce%1?2:Ce;if(isFinite(Pr-Lr)){if(Ne){for(;Lr<Pr;Lr++)for(var on=1;on<en;on++)Vt.push(ft(Lr)*on);Vt.push(ft(Lr))}else for(Vt.push(ft(Lr));Lr++<Pr;)for(var on=en-1;on>0;on--)Vt.push(ft(Lr)*on);for(Lr=0;Vt[Lr]<Gt;Lr++);for(Pr=Vt.length;Vt[Pr-1]>nr;Pr--);Vt=Vt.slice(Lr,Pr)}return Vt},Pt.copy=function(){return vl(fe.copy(),Ce,Ne,qe)},cc(Pt,fe)}var hu={floor:function(fe){return-Math.ceil(-fe)},ceil:function(fe){return-Math.floor(-fe)}};a.scale.pow=function(){return Df(a.scale.linear(),1,[0,1])};function Df(fe,Ce,Ne){var qe=_l(Ce),rt=_l(1/Ce);function ft(Pt){return fe(qe(Pt))}return ft.invert=function(Pt){return rt(fe.invert(Pt))},ft.domain=function(Pt){return arguments.length?(fe.domain((Ne=Pt.map(Number)).map(qe)),ft):Ne},ft.ticks=function(Pt){return ws(Ne,Pt)},ft.tickFormat=function(Pt,At){return d3_scale_linearTickFormat(Ne,Pt,At)},ft.nice=function(Pt){return ft.domain(nh(Ne,Pt))},ft.exponent=function(Pt){return arguments.length?(qe=_l(Ce=Pt),rt=_l(1/Ce),fe.domain(Ne.map(qe)),ft):Ce},ft.copy=function(){return Df(fe.copy(),Ce,Ne)},cc(ft,fe)}function _l(fe){return function(Ce){return Ce<0?-Math.pow(-Ce,fe):Math.pow(Ce,fe)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Ol([],{t:"range",a:[[]]})};function Ol(fe,Ce){var Ne,qe,rt;function ft(At){return qe[((Ne.get(At)||(Ce.t==="range"?Ne.set(At,fe.push(At)):NaN))-1)%qe.length]}function Pt(At,Vt){return a.range(fe.length).map(function(Gt){return At+Vt*Gt})}return ft.domain=function(At){if(!arguments.length)return fe;fe=[],Ne=new P;for(var Vt=-1,Gt=At.length,nr;++Vt<Gt;)Ne.has(nr=At[Vt])||Ne.set(nr,fe.push(nr));return ft[Ce.t].apply(ft,Ce.a)},ft.range=function(At){return arguments.length?(qe=At,rt=0,Ce={t:"range",a:arguments},ft):qe},ft.rangePoints=function(At,Vt){arguments.length<2&&(Vt=0);var Gt=At[0],nr=At[1],Lr=fe.length<2?(Gt=(Gt+nr)/2,0):(nr-Gt)/(fe.length-1+Vt);return qe=Pt(Gt+Lr*Vt/2,Lr),rt=0,Ce={t:"rangePoints",a:arguments},ft},ft.rangeRoundPoints=function(At,Vt){arguments.length<2&&(Vt=0);var Gt=At[0],nr=At[1],Lr=fe.length<2?(Gt=nr=Math.round((Gt+nr)/2),0):(nr-Gt)/(fe.length-1+Vt)|0;return qe=Pt(Gt+Math.round(Lr*Vt/2+(nr-Gt-(fe.length-1+Vt)*Lr)/2),Lr),rt=0,Ce={t:"rangeRoundPoints",a:arguments},ft},ft.rangeBands=function(At,Vt,Gt){arguments.length<2&&(Vt=0),arguments.length<3&&(Gt=Vt);var nr=At[1]<At[0],Lr=At[nr-0],Pr=At[1-nr],en=(Pr-Lr)/(fe.length-Vt+2*Gt);return qe=Pt(Lr+en*Gt,en),nr&&qe.reverse(),rt=en*(1-Vt),Ce={t:"rangeBands",a:arguments},ft},ft.rangeRoundBands=function(At,Vt,Gt){arguments.length<2&&(Vt=0),arguments.length<3&&(Gt=Vt);var nr=At[1]<At[0],Lr=At[nr-0],Pr=At[1-nr],en=Math.floor((Pr-Lr)/(fe.length-Vt+2*Gt));return qe=Pt(Lr+Math.round((Pr-Lr-(fe.length-Vt)*en)/2),en),nr&&qe.reverse(),rt=Math.round(en*(1-Vt)),Ce={t:"rangeRoundBands",a:arguments},ft},ft.rangeBand=function(){return rt},ft.rangeExtent=function(){return rs(Ce.a[0])},ft.copy=function(){return Ol(fe,Ce)},ft.domain(fe)}a.scale.category10=function(){return a.scale.ordinal().range(ah)},a.scale.category20=function(){return a.scale.ordinal().range(Qs)},a.scale.category20b=function(){return a.scale.ordinal().range(vu)},a.scale.category20c=function(){return a.scale.ordinal().range(dl)};var ah=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(zt),Qs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(zt),vu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(zt),dl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(zt);a.scale.quantile=function(){return qs([],[])};function qs(fe,Ce){var Ne;function qe(){var ft=0,Pt=Ce.length;for(Ne=[];++ft<Pt;)Ne[ft-1]=a.quantile(fe,ft/Pt);return rt}function rt(ft){if(!isNaN(ft=+ft))return Ce[a.bisect(Ne,ft)]}return rt.domain=function(ft){return arguments.length?(fe=ft.map(m).filter(c).sort(l),qe()):fe},rt.range=function(ft){return arguments.length?(Ce=ft,qe()):Ce},rt.quantiles=function(){return Ne},rt.invertExtent=function(ft){return ft=Ce.indexOf(ft),ft<0?[NaN,NaN]:[ft>0?Ne[ft-1]:fe[0],ft<Ne.length?Ne[ft]:fe[fe.length-1]]},rt.copy=function(){return qs(fe,Ce)},qe()}a.scale.quantize=function(){return Yu(0,1,[0,1])};function Yu(fe,Ce,Ne){var qe,rt;function ft(At){return Ne[Math.max(0,Math.min(rt,Math.floor(qe*(At-fe))))]}function Pt(){return qe=Ne.length/(Ce-fe),rt=Ne.length-1,ft}return ft.domain=function(At){return arguments.length?(fe=+At[0],Ce=+At[At.length-1],Pt()):[fe,Ce]},ft.range=function(At){return arguments.length?(Ne=At,Pt()):Ne},ft.invertExtent=function(At){return At=Ne.indexOf(At),At=At<0?NaN:At/qe+fe,[At,At+1/qe]},ft.copy=function(){return Yu(fe,Ce,Ne)},Pt()}a.scale.threshold=function(){return du([.5],[0,1])};function du(fe,Ce){function Ne(qe){if(qe<=qe)return Ce[a.bisect(fe,qe)]}return Ne.domain=function(qe){return arguments.length?(fe=qe,Ne):fe},Ne.range=function(qe){return arguments.length?(Ce=qe,Ne):Ce},Ne.invertExtent=function(qe){return qe=Ce.indexOf(qe),[fe[qe-1],fe[qe]]},Ne.copy=function(){return du(fe,Ce)},Ne}a.scale.identity=function(){return gi([0,1])};function gi(fe){function Ce(Ne){return+Ne}return Ce.invert=Ce,Ce.domain=Ce.range=function(Ne){return arguments.length?(fe=Ne.map(Ce),Ce):fe},Ce.ticks=function(Ne){return ws(fe,Ne)},Ce.tickFormat=function(Ne,qe){return d3_scale_linearTickFormat(fe,Ne,qe)},Ce.copy=function(){return gi(fe)},Ce}a.svg={};function pu(){return 0}a.svg.arc=function(){var fe=ih,Ce=gu,Ne=pu,qe=If,rt=Xu,ft=kf,Pt=hc;function At(){var Gt=Math.max(0,+fe.apply(this,arguments)),nr=Math.max(0,+Ce.apply(this,arguments)),Lr=rt.apply(this,arguments)-Qe,Pr=ft.apply(this,arguments)-Qe,en=Math.abs(Pr-Lr),on=Lr>Pr?0:1;if(nr<Gt&&(Dr=nr,nr=Gt,Gt=Dr),en>=Be)return Vt(nr,on)+(Gt?Vt(Gt,1-on):"")+"Z";var Dr,Vr,Jr,un,dn=0,rn=0,Wn,ra,ca,ea,sa,ha,Va,La,Fa=[];if((un=(+Pt.apply(this,arguments)||0)/2)&&(Jr=qe===If?Math.sqrt(Gt*Gt+nr*nr):+qe.apply(this,arguments),on||(rn*=-1),nr&&(rn=Yt(Jr/nr*Math.sin(un))),Gt&&(dn=Yt(Jr/Gt*Math.sin(un)))),nr){Wn=nr*Math.cos(Lr+rn),ra=nr*Math.sin(Lr+rn),ca=nr*Math.cos(Pr-rn),ea=nr*Math.sin(Pr-rn);var li=Math.abs(Pr-Lr-2*rn)<=de?0:1;if(rn&&Zu(Wn,ra,ca,ea)===on^li){var Ki=(Lr+Pr)/2;Wn=nr*Math.cos(Ki),ra=nr*Math.sin(Ki),ca=ea=null}}else Wn=ra=0;if(Gt){sa=Gt*Math.cos(Pr-dn),ha=Gt*Math.sin(Pr-dn),Va=Gt*Math.cos(Lr+dn),La=Gt*Math.sin(Lr+dn);var di=Math.abs(Lr-Pr+2*dn)<=de?0:1;if(dn&&Zu(sa,ha,Va,La)===1-on^di){var Qn=(Lr+Pr)/2;sa=Gt*Math.cos(Qn),ha=Gt*Math.sin(Qn),Va=La=null}}else sa=ha=0;if(en>Xe&&(Dr=Math.min(Math.abs(nr-Gt)/2,+Ne.apply(this,arguments)))>.001){Vr=Gt<nr^on?0:1;var Wa=Dr,Ea=Dr;if(en<de){var qa=Va==null?[sa,ha]:ca==null?[Wn,ra]:vn([Wn,ra],[Va,La],[ca,ea],[sa,ha]),Ei=Wn-qa[0],ui=ra-qa[1],fo=ca-qa[0],co=ea-qa[1],mo=1/Math.sin(Math.acos((Ei*fo+ui*co)/(Math.sqrt(Ei*Ei+ui*ui)*Math.sqrt(fo*fo+co*co)))/2),Ci=Math.sqrt(qa[0]*qa[0]+qa[1]*qa[1]);Ea=Math.min(Dr,(Gt-Ci)/(mo-1)),Wa=Math.min(Dr,(nr-Ci)/(mo+1))}if(ca!=null){var Po=Ku(Va==null?[sa,ha]:[Va,La],[Wn,ra],nr,Wa,on),ua=Ku([ca,ea],[sa,ha],nr,Wa,on);Dr===Wa?Fa.push("M",Po[0],"A",Wa,",",Wa," 0 0,",Vr," ",Po[1],"A",nr,",",nr," 0 ",1-on^Zu(Po[1][0],Po[1][1],ua[1][0],ua[1][1]),",",on," ",ua[1],"A",Wa,",",Wa," 0 0,",Vr," ",ua[0]):Fa.push("M",Po[0],"A",Wa,",",Wa," 0 1,",Vr," ",ua[0])}else Fa.push("M",Wn,",",ra);if(Va!=null){var Ra=Ku([Wn,ra],[Va,La],Gt,-Ea,on),Zo=Ku([sa,ha],ca==null?[Wn,ra]:[ca,ea],Gt,-Ea,on);Dr===Ea?Fa.push("L",Zo[0],"A",Ea,",",Ea," 0 0,",Vr," ",Zo[1],"A",Gt,",",Gt," 0 ",on^Zu(Zo[1][0],Zo[1][1],Ra[1][0],Ra[1][1]),",",1-on," ",Ra[1],"A",Ea,",",Ea," 0 0,",Vr," ",Ra[0]):Fa.push("L",Zo[0],"A",Ea,",",Ea," 0 0,",Vr," ",Ra[0])}else Fa.push("L",sa,",",ha)}else Fa.push("M",Wn,",",ra),ca!=null&&Fa.push("A",nr,",",nr," 0 ",li,",",on," ",ca,",",ea),Fa.push("L",sa,",",ha),Va!=null&&Fa.push("A",Gt,",",Gt," 0 ",di,",",1-on," ",Va,",",La);return Fa.push("Z"),Fa.join("")}function Vt(Gt,nr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+nr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+nr+" 0,"+Gt}return At.innerRadius=function(Gt){return arguments.length?(fe=Zr(Gt),At):fe},At.outerRadius=function(Gt){return arguments.length?(Ce=Zr(Gt),At):Ce},At.cornerRadius=function(Gt){return arguments.length?(Ne=Zr(Gt),At):Ne},At.padRadius=function(Gt){return arguments.length?(qe=Gt==If?If:Zr(Gt),At):qe},At.startAngle=function(Gt){return arguments.length?(rt=Zr(Gt),At):rt},At.endAngle=function(Gt){return arguments.length?(ft=Zr(Gt),At):ft},At.padAngle=function(Gt){return arguments.length?(Pt=Zr(Gt),At):Pt},At.centroid=function(){var Gt=(+fe.apply(this,arguments)+ +Ce.apply(this,arguments))/2,nr=(+rt.apply(this,arguments)+ +ft.apply(this,arguments))/2-Qe;return[Math.cos(nr)*Gt,Math.sin(nr)*Gt]},At};var If="auto";function ih(fe){return fe.innerRadius}function gu(fe){return fe.outerRadius}function Xu(fe){return fe.startAngle}function kf(fe){return fe.endAngle}function hc(fe){return fe&&fe.padAngle}function Zu(fe,Ce,Ne,qe){return(fe-Ne)*Ce-(Ce-qe)*fe>0?0:1}function Ku(fe,Ce,Ne,qe,rt){var ft=fe[0]-Ce[0],Pt=fe[1]-Ce[1],At=(rt?qe:-qe)/Math.sqrt(ft*ft+Pt*Pt),Vt=At*Pt,Gt=-At*ft,nr=fe[0]+Vt,Lr=fe[1]+Gt,Pr=Ce[0]+Vt,en=Ce[1]+Gt,on=(nr+Pr)/2,Dr=(Lr+en)/2,Vr=Pr-nr,Jr=en-Lr,un=Vr*Vr+Jr*Jr,dn=Ne-qe,rn=nr*en-Pr*Lr,Wn=(Jr<0?-1:1)*Math.sqrt(Math.max(0,dn*dn*un-rn*rn)),ra=(rn*Jr-Vr*Wn)/un,ca=(-rn*Vr-Jr*Wn)/un,ea=(rn*Jr+Vr*Wn)/un,sa=(-rn*Vr+Jr*Wn)/un,ha=ra-on,Va=ca-Dr,La=ea-on,Fa=sa-Dr;return ha*ha+Va*Va>La*La+Fa*Fa&&(ra=ea,ca=sa),[[ra-Vt,ca-Gt],[ra*Ne/dn,ca*Ne/dn]]}function pl(){return!0}function Ju(fe){var Ce=Ta,Ne=da,qe=pl,rt=to,ft=rt.key,Pt=.7;function At(Vt){var Gt=[],nr=[],Lr=-1,Pr=Vt.length,en,on=Zr(Ce),Dr=Zr(Ne);function Vr(){Gt.push("M",rt(fe(nr),Pt))}for(;++Lr<Pr;)qe.call(this,en=Vt[Lr],Lr)?nr.push([+on.call(this,en,Lr),+Dr.call(this,en,Lr)]):nr.length&&(Vr(),nr=[]);return nr.length&&Vr(),Gt.length?Gt.join(""):null}return At.x=function(Vt){return arguments.length?(Ce=Vt,At):Ce},At.y=function(Vt){return arguments.length?(Ne=Vt,At):Ne},At.defined=function(Vt){return arguments.length?(qe=Vt,At):qe},At.interpolate=function(Vt){return arguments.length?(typeof Vt=="function"?ft=rt=Vt:ft=(rt=yl.get(Vt)||to).key,At):ft},At.tension=function(Vt){return arguments.length?(Pt=Vt,At):Pt},At}a.svg.line=function(){return Ju(F)};var yl=a.map({linear:to,"linear-closed":zs,step:vc,"step-before":zl,"step-after":_f,basis:yu,"basis-open":sh,"basis-closed":ml,bundle:vv,cardinal:oh,"cardinal-open":$u,"cardinal-closed":hv,monotone:zf});yl.forEach(function(fe,Ce){Ce.key=fe,Ce.closed=/-closed$/.test(fe)});function to(fe){return fe.length>1?fe.join("L"):fe+"Z"}function zs(fe){return fe.join("L")+"Z"}function vc(fe){for(var Ce=0,Ne=fe.length,qe=fe[0],rt=[qe[0],",",qe[1]];++Ce<Ne;)rt.push("H",(qe[0]+(qe=fe[Ce])[0])/2,"V",qe[1]);return Ne>1&&rt.push("H",qe[0]),rt.join("")}function zl(fe){for(var Ce=0,Ne=fe.length,qe=fe[0],rt=[qe[0],",",qe[1]];++Ce<Ne;)rt.push("V",(qe=fe[Ce])[1],"H",qe[0]);return rt.join("")}function _f(fe){for(var Ce=0,Ne=fe.length,qe=fe[0],rt=[qe[0],",",qe[1]];++Ce<Ne;)rt.push("H",(qe=fe[Ce])[0],"V",qe[1]);return rt.join("")}function $u(fe,Ce){return fe.length<4?to(fe):fe[1]+Lo(fe.slice(1,-1),Qu(fe,Ce))}function hv(fe,Ce){return fe.length<3?zs(fe):fe[0]+Lo((fe.push(fe[0]),fe),Qu([fe[fe.length-2]].concat(fe,[fe[1]]),Ce))}function oh(fe,Ce){return fe.length<3?to(fe):fe[0]+Lo(fe,Qu(fe,Ce))}function Lo(fe,Ce){if(Ce.length<1||fe.length!=Ce.length&&fe.length!=Ce.length+2)return to(fe);var Ne=fe.length!=Ce.length,qe="",rt=fe[0],ft=fe[1],Pt=Ce[0],At=Pt,Vt=1;if(Ne&&(qe+="Q"+(ft[0]-Pt[0]*2/3)+","+(ft[1]-Pt[1]*2/3)+","+ft[0]+","+ft[1],rt=fe[1],Vt=2),Ce.length>1){At=Ce[1],ft=fe[Vt],Vt++,qe+="C"+(rt[0]+Pt[0])+","+(rt[1]+Pt[1])+","+(ft[0]-At[0])+","+(ft[1]-At[1])+","+ft[0]+","+ft[1];for(var Gt=2;Gt<Ce.length;Gt++,Vt++)ft=fe[Vt],At=Ce[Gt],qe+="S"+(ft[0]-At[0])+","+(ft[1]-At[1])+","+ft[0]+","+ft[1]}if(Ne){var nr=fe[Vt];qe+="Q"+(ft[0]+At[0]*2/3)+","+(ft[1]+At[1]*2/3)+","+nr[0]+","+nr[1]}return qe}function Qu(fe,Ce){for(var Ne=[],qe=(1-Ce)/2,rt,ft=fe[0],Pt=fe[1],At=1,Vt=fe.length;++At<Vt;)rt=ft,ft=Pt,Pt=fe[At],Ne.push([qe*(Pt[0]-rt[0]),qe*(Pt[1]-rt[1])]);return Ne}function yu(fe){if(fe.length<3)return to(fe);var Ce=1,Ne=fe.length,qe=fe[0],rt=qe[0],ft=qe[1],Pt=[rt,rt,rt,(qe=fe[1])[0]],At=[ft,ft,ft,qe[1]],Vt=[rt,",",ft,"L",Xo(el,Pt),",",Xo(el,At)];for(fe.push(fe[Ne-1]);++Ce<=Ne;)qe=fe[Ce],Pt.shift(),Pt.push(qe[0]),At.shift(),At.push(qe[1]),xl(Vt,Pt,At);return fe.pop(),Vt.push("L",qe),Vt.join("")}function sh(fe){if(fe.length<4)return to(fe);for(var Ce=[],Ne=-1,qe=fe.length,rt,ft=[0],Pt=[0];++Ne<3;)rt=fe[Ne],ft.push(rt[0]),Pt.push(rt[1]);for(Ce.push(Xo(el,ft)+","+Xo(el,Pt)),--Ne;++Ne<qe;)rt=fe[Ne],ft.shift(),ft.push(rt[0]),Pt.shift(),Pt.push(rt[1]),xl(Ce,ft,Pt);return Ce.join("")}function ml(fe){for(var Ce,Ne=-1,qe=fe.length,rt=qe+4,ft,Pt=[],At=[];++Ne<4;)ft=fe[Ne%qe],Pt.push(ft[0]),At.push(ft[1]);for(Ce=[Xo(el,Pt),",",Xo(el,At)],--Ne;++Ne<rt;)ft=fe[Ne%qe],Pt.shift(),Pt.push(ft[0]),At.shift(),At.push(ft[1]),xl(Ce,Pt,At);return Ce.join("")}function vv(fe,Ce){var Ne=fe.length-1;if(Ne)for(var qe=fe[0][0],rt=fe[0][1],ft=fe[Ne][0]-qe,Pt=fe[Ne][1]-rt,At=-1,Vt,Gt;++At<=Ne;)Vt=fe[At],Gt=At/Ne,Vt[0]=Ce*Vt[0]+(1-Ce)*(qe+Gt*ft),Vt[1]=Ce*Vt[1]+(1-Ce)*(rt+Gt*Pt);return yu(fe)}function Xo(fe,Ce){return fe[0]*Ce[0]+fe[1]*Ce[1]+fe[2]*Ce[2]+fe[3]*Ce[3]}var qu=[0,2/3,1/3,0],Of=[0,1/3,2/3,0],el=[0,1/6,2/3,1/6];function xl(fe,Ce,Ne){fe.push("C",Xo(qu,Ce),",",Xo(qu,Ne),",",Xo(Of,Ce),",",Xo(Of,Ne),",",Xo(el,Ce),",",Xo(el,Ne))}function dc(fe,Ce){return(Ce[1]-fe[1])/(Ce[0]-fe[0])}function ef(fe){for(var Ce=0,Ne=fe.length-1,qe=[],rt=fe[0],ft=fe[1],Pt=qe[0]=dc(rt,ft);++Ce<Ne;)qe[Ce]=(Pt+(Pt=dc(rt=ft,ft=fe[Ce+1])))/2;return qe[Ce]=Pt,qe}function tf(fe){for(var Ce=[],Ne,qe,rt,ft,Pt=ef(fe),At=-1,Vt=fe.length-1;++At<Vt;)Ne=dc(fe[At],fe[At+1]),p(Ne)<Xe?Pt[At]=Pt[At+1]=0:(qe=Pt[At]/Ne,rt=Pt[At+1]/Ne,ft=qe*qe+rt*rt,ft>9&&(ft=Ne*3/Math.sqrt(ft),Pt[At]=ft*qe,Pt[At+1]=ft*rt));for(At=-1;++At<=Vt;)ft=(fe[Math.min(Vt,At+1)][0]-fe[Math.max(0,At-1)][0])/(6*(1+Pt[At]*Pt[At])),Ce.push([ft||0,Pt[At]*ft||0]);return Ce}function zf(fe){return fe.length<3?to(fe):fe[0]+Lo(fe,tf(fe))}a.svg.line.radial=function(){var fe=Ju(lh);return fe.radius=fe.x,delete fe.x,fe.angle=fe.y,delete fe.y,fe};function lh(fe){for(var Ce,Ne=-1,qe=fe.length,rt,ft;++Ne<qe;)Ce=fe[Ne],rt=Ce[0],ft=Ce[1]-Qe,Ce[0]=rt*Math.cos(ft),Ce[1]=rt*Math.sin(ft);return fe}function rf(fe){var Ce=Ta,Ne=Ta,qe=0,rt=da,ft=pl,Pt=to,At=Pt.key,Vt=Pt,Gt="L",nr=.7;function Lr(Pr){var en=[],on=[],Dr=[],Vr=-1,Jr=Pr.length,un,dn=Zr(Ce),rn=Zr(qe),Wn=Ce===Ne?function(){return ca}:Zr(Ne),ra=qe===rt?function(){return ea}:Zr(rt),ca,ea;function sa(){en.push("M",Pt(fe(Dr),nr),Gt,Vt(fe(on.reverse()),nr),"Z")}for(;++Vr<Jr;)ft.call(this,un=Pr[Vr],Vr)?(on.push([ca=+dn.call(this,un,Vr),ea=+rn.call(this,un,Vr)]),Dr.push([+Wn.call(this,un,Vr),+ra.call(this,un,Vr)])):on.length&&(sa(),on=[],Dr=[]);return on.length&&sa(),en.length?en.join(""):null}return Lr.x=function(Pr){return arguments.length?(Ce=Ne=Pr,Lr):Ne},Lr.x0=function(Pr){return arguments.length?(Ce=Pr,Lr):Ce},Lr.x1=function(Pr){return arguments.length?(Ne=Pr,Lr):Ne},Lr.y=function(Pr){return arguments.length?(qe=rt=Pr,Lr):rt},Lr.y0=function(Pr){return arguments.length?(qe=Pr,Lr):qe},Lr.y1=function(Pr){return arguments.length?(rt=Pr,Lr):rt},Lr.defined=function(Pr){return arguments.length?(ft=Pr,Lr):ft},Lr.interpolate=function(Pr){return arguments.length?(typeof Pr=="function"?At=Pt=Pr:At=(Pt=yl.get(Pr)||to).key,Vt=Pt.reverse||Pt,Gt=Pt.closed?"M":"L",Lr):At},Lr.tension=function(Pr){return arguments.length?(nr=Pr,Lr):nr},Lr}zl.reverse=_f,_f.reverse=zl,a.svg.area=function(){return rf(F)},a.svg.area.radial=function(){var fe=rf(lh);return fe.radius=fe.x,delete fe.x,fe.innerRadius=fe.x0,delete fe.x0,fe.outerRadius=fe.x1,delete fe.x1,fe.angle=fe.y,delete fe.y,fe.startAngle=fe.y0,delete fe.y0,fe.endAngle=fe.y1,delete fe.y1,fe};function pc(fe){return fe.source}function Fl(fe){return fe.target}a.svg.chord=function(){var fe=pc,Ce=Fl,Ne=gc,qe=Xu,rt=kf;function ft(nr,Lr){var Pr=Pt(this,fe,nr,Lr),en=Pt(this,Ce,nr,Lr);return"M"+Pr.p0+Vt(Pr.r,Pr.p1,Pr.a1-Pr.a0)+(At(Pr,en)?Gt(Pr.r,Pr.p1,Pr.r,Pr.p0):Gt(Pr.r,Pr.p1,en.r,en.p0)+Vt(en.r,en.p1,en.a1-en.a0)+Gt(en.r,en.p1,Pr.r,Pr.p0))+"Z"}function Pt(nr,Lr,Pr,en){var on=Lr.call(nr,Pr,en),Dr=Ne.call(nr,on,en),Vr=qe.call(nr,on,en)-Qe,Jr=rt.call(nr,on,en)-Qe;return{r:Dr,a0:Vr,a1:Jr,p0:[Dr*Math.cos(Vr),Dr*Math.sin(Vr)],p1:[Dr*Math.cos(Jr),Dr*Math.sin(Jr)]}}function At(nr,Lr){return nr.a0==Lr.a0&&nr.a1==Lr.a1}function Vt(nr,Lr,Pr){return"A"+nr+","+nr+" 0 "+ +(Pr>de)+",1 "+Lr}function Gt(nr,Lr,Pr,en){return"Q 0,0 "+en}return ft.radius=function(nr){return arguments.length?(Ne=Zr(nr),ft):Ne},ft.source=function(nr){return arguments.length?(fe=Zr(nr),ft):fe},ft.target=function(nr){return arguments.length?(Ce=Zr(nr),ft):Ce},ft.startAngle=function(nr){return arguments.length?(qe=Zr(nr),ft):qe},ft.endAngle=function(nr){return arguments.length?(rt=Zr(nr),ft):rt},ft};function gc(fe){return fe.radius}a.svg.diagonal=function(){var fe=pc,Ce=Fl,Ne=nf;function qe(rt,ft){var Pt=fe.call(this,rt,ft),At=Ce.call(this,rt,ft),Vt=(Pt.y+At.y)/2,Gt=[Pt,{x:Pt.x,y:Vt},{x:At.x,y:Vt},At];return Gt=Gt.map(Ne),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return qe.source=function(rt){return arguments.length?(fe=Zr(rt),qe):fe},qe.target=function(rt){return arguments.length?(Ce=Zr(rt),qe):Ce},qe.projection=function(rt){return arguments.length?(Ne=rt,qe):Ne},qe};function nf(fe){return[fe.x,fe.y]}a.svg.diagonal.radial=function(){var fe=a.svg.diagonal(),Ce=nf,Ne=fe.projection;return fe.projection=function(qe){return arguments.length?Ne(uh(Ce=qe)):Ce},fe};function uh(fe){return function(){var Ce=fe.apply(this,arguments),Ne=Ce[0],qe=Ce[1]-Qe;return[Ne*Math.cos(qe),Ne*Math.sin(qe)]}}a.svg.symbol=function(){var fe=nt,Ce=Je;function Ne(qe,rt){return(wt.get(fe.call(this,qe,rt))||pt)(Ce.call(this,qe,rt))}return Ne.type=function(qe){return arguments.length?(fe=Zr(qe),Ne):fe},Ne.size=function(qe){return arguments.length?(Ce=Zr(qe),Ne):Ce},Ne};function Je(){return 64}function nt(){return"circle"}function pt(fe){var Ce=Math.sqrt(fe/de);return"M0,"+Ce+"A"+Ce+","+Ce+" 0 1,1 0,"+-Ce+"A"+Ce+","+Ce+" 0 1,1 0,"+Ce+"Z"}var wt=a.map({circle:pt,cross:function(fe){var Ce=Math.sqrt(fe/5)/2;return"M"+-3*Ce+","+-Ce+"H"+-Ce+"V"+-3*Ce+"H"+Ce+"V"+-Ce+"H"+3*Ce+"V"+Ce+"H"+Ce+"V"+3*Ce+"H"+-Ce+"V"+Ce+"H"+-3*Ce+"Z"},diamond:function(fe){var Ce=Math.sqrt(fe/(2*It)),Ne=Ce*It;return"M0,"+-Ce+"L"+Ne+",0 0,"+Ce+" "+-Ne+",0Z"},square:function(fe){var Ce=Math.sqrt(fe)/2;return"M"+-Ce+","+-Ce+"L"+Ce+","+-Ce+" "+Ce+","+Ce+" "+-Ce+","+Ce+"Z"},"triangle-down":function(fe){var Ce=Math.sqrt(fe/_t),Ne=Ce*_t/2;return"M0,"+Ne+"L"+Ce+","+-Ne+" "+-Ce+","+-Ne+"Z"},"triangle-up":function(fe){var Ce=Math.sqrt(fe/_t),Ne=Ce*_t/2;return"M0,"+-Ne+"L"+Ce+","+Ne+" "+-Ce+","+Ne+"Z"}});a.svg.symbolTypes=wt.keys();var _t=Math.sqrt(3),It=Math.tan(30*at);$.transition=function(fe){for(var Ce=kr||++Er,Ne=Pn(fe),qe=[],rt,ft,Pt=Ur||{time:Date.now(),ease:rc,delay:0,duration:250},At=-1,Vt=this.length;++At<Vt;){qe.push(rt=[]);for(var Gt=this[At],nr=-1,Lr=Gt.length;++nr<Lr;)(ft=Gt[nr])&&In(ft,nr,Ne,Ce,Pt),rt.push(ft)}return wr(qe,Ne,Ce)},$.interrupt=function(fe){return this.each(fe==null?Ft:pr(Pn(fe)))};var Ft=pr(Pn());function pr(fe){return function(){var Ce,Ne,qe;(Ce=this[fe])&&(qe=Ce[Ne=Ce.active])&&(qe.timer.c=null,qe.timer.t=NaN,--Ce.count?delete Ce[Ne]:delete this[fe],Ce.active+=.5,qe.event&&qe.event.interrupt.call(this,this.__data__,qe.index))}}function wr(fe,Ce,Ne){return re(fe,sr),fe.namespace=Ce,fe.id=Ne,fe}var sr=[],Er=0,kr,Ur;sr.call=$.call,sr.empty=$.empty,sr.node=$.node,sr.size=$.size,a.transition=function(fe,Ce){return fe&&fe.transition?kr?fe.transition(Ce):fe:a.selection().transition(fe)},a.transition.prototype=sr,sr.select=function(fe){var Ce=this.id,Ne=this.namespace,qe=[],rt,ft,Pt;fe=le(fe);for(var At=-1,Vt=this.length;++At<Vt;){qe.push(rt=[]);for(var Gt=this[At],nr=-1,Lr=Gt.length;++nr<Lr;)(Pt=Gt[nr])&&(ft=fe.call(Pt,Pt.__data__,nr,At))?("__data__"in Pt&&(ft.__data__=Pt.__data__),In(ft,nr,Ne,Ce,Pt[Ne][Ce]),rt.push(ft)):rt.push(null)}return wr(qe,Ne,Ce)},sr.selectAll=function(fe){var Ce=this.id,Ne=this.namespace,qe=[],rt,ft,Pt,At,Vt;fe=ae(fe);for(var Gt=-1,nr=this.length;++Gt<nr;)for(var Lr=this[Gt],Pr=-1,en=Lr.length;++Pr<en;)if(Pt=Lr[Pr]){Vt=Pt[Ne][Ce],ft=fe.call(Pt,Pt.__data__,Pr,Gt),qe.push(rt=[]);for(var on=-1,Dr=ft.length;++on<Dr;)(At=ft[on])&&In(At,on,Ne,Ce,Vt),rt.push(At)}return wr(qe,Ne,Ce)},sr.filter=function(fe){var Ce=[],Ne,qe,rt;typeof fe!="function"&&(fe=st(fe));for(var ft=0,Pt=this.length;ft<Pt;ft++){Ce.push(Ne=[]);for(var qe=this[ft],At=0,Vt=qe.length;At<Vt;At++)(rt=qe[At])&&fe.call(rt,rt.__data__,At,ft)&&Ne.push(rt)}return wr(Ce,this.namespace,this.id)},sr.tween=function(fe,Ce){var Ne=this.id,qe=this.namespace;return arguments.length<2?this.node()[qe][Ne].tween.get(fe):lt(this,Ce==null?function(rt){rt[qe][Ne].tween.remove(fe)}:function(rt){rt[qe][Ne].tween.set(fe,Ce)})};function an(fe,Ce,Ne,qe){var rt=fe.id,ft=fe.namespace;return lt(fe,typeof Ne=="function"?function(Pt,At,Vt){Pt[ft][rt].tween.set(Ce,qe(Ne.call(Pt,Pt.__data__,At,Vt)))}:(Ne=qe(Ne),function(Pt){Pt[ft][rt].tween.set(Ce,Ne)}))}sr.attr=function(fe,Ce){if(arguments.length<2){for(Ce in fe)this.attr(Ce,fe[Ce]);return this}var Ne=fe=="transform"?Sf:yo,qe=a.ns.qualify(fe);function rt(){this.removeAttribute(qe)}function ft(){this.removeAttributeNS(qe.space,qe.local)}function Pt(Vt){return Vt==null?rt:(Vt+="",function(){var Gt=this.getAttribute(qe),nr;return Gt!==Vt&&(nr=Ne(Gt,Vt),function(Lr){this.setAttribute(qe,nr(Lr))})})}function At(Vt){return Vt==null?ft:(Vt+="",function(){var Gt=this.getAttributeNS(qe.space,qe.local),nr;return Gt!==Vt&&(nr=Ne(Gt,Vt),function(Lr){this.setAttributeNS(qe.space,qe.local,nr(Lr))})})}return an(this,"attr."+fe,Ce,qe.local?At:Pt)},sr.attrTween=function(fe,Ce){var Ne=a.ns.qualify(fe);function qe(ft,Pt){var At=Ce.call(this,ft,Pt,this.getAttribute(Ne));return At&&function(Vt){this.setAttribute(Ne,At(Vt))}}function rt(ft,Pt){var At=Ce.call(this,ft,Pt,this.getAttributeNS(Ne.space,Ne.local));return At&&function(Vt){this.setAttributeNS(Ne.space,Ne.local,At(Vt))}}return this.tween("attr."+fe,Ne.local?rt:qe)},sr.style=function(fe,Ce,Ne){var qe=arguments.length;if(qe<3){if(typeof fe!="string"){qe<2&&(Ce="");for(Ne in fe)this.style(Ne,fe[Ne],Ce);return this}Ne=""}function rt(){this.style.removeProperty(fe)}function ft(Pt){return Pt==null?rt:(Pt+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(fe),Vt;return At!==Pt&&(Vt=yo(At,Pt),function(Gt){this.style.setProperty(fe,Vt(Gt),Ne)})})}return an(this,"style."+fe,Ce,ft)},sr.styleTween=function(fe,Ce,Ne){arguments.length<3&&(Ne="");function qe(rt,ft){var Pt=Ce.call(this,rt,ft,r(this).getComputedStyle(this,null).getPropertyValue(fe));return Pt&&function(At){this.style.setProperty(fe,Pt(At),Ne)}}return this.tween("style."+fe,qe)},sr.text=function(fe){return an(this,"text",fe,xn)};function xn(fe){return fe==null&&(fe=""),function(){this.textContent=fe}}sr.remove=function(){var fe=this.namespace;return this.each("end.transition",function(){var Ce;this[fe].count<2&&(Ce=this.parentNode)&&Ce.removeChild(this)})},sr.ease=function(fe){var Ce=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Ce].ease:(typeof fe!="function"&&(fe=a.ease.apply(a,arguments)),lt(this,function(qe){qe[Ne][Ce].ease=fe}))},sr.delay=function(fe){var Ce=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Ce].delay:lt(this,typeof fe=="function"?function(qe,rt,ft){qe[Ne][Ce].delay=+fe.call(qe,qe.__data__,rt,ft)}:(fe=+fe,function(qe){qe[Ne][Ce].delay=fe}))},sr.duration=function(fe){var Ce=this.id,Ne=this.namespace;return arguments.length<1?this.node()[Ne][Ce].duration:lt(this,typeof fe=="function"?function(qe,rt,ft){qe[Ne][Ce].duration=Math.max(1,fe.call(qe,qe.__data__,rt,ft))}:(fe=Math.max(1,fe),function(qe){qe[Ne][Ce].duration=fe}))},sr.each=function(fe,Ce){var Ne=this.id,qe=this.namespace;if(arguments.length<2){var rt=Ur,ft=kr;try{kr=Ne,lt(this,function(Pt,At,Vt){Ur=Pt[qe][Ne],fe.call(Pt,Pt.__data__,At,Vt)})}finally{Ur=rt,kr=ft}}else lt(this,function(Pt){var At=Pt[qe][Ne];(At.event||(At.event=a.dispatch("start","end","interrupt"))).on(fe,Ce)});return this},sr.transition=function(){for(var fe=this.id,Ce=++Er,Ne=this.namespace,qe=[],rt,ft,Pt,At,Vt=0,Gt=this.length;Vt<Gt;Vt++){qe.push(rt=[]);for(var ft=this[Vt],nr=0,Lr=ft.length;nr<Lr;nr++)(Pt=ft[nr])&&(At=Pt[Ne][fe],In(Pt,nr,Ne,Ce,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),rt.push(Pt)}return wr(qe,Ne,Ce)};function Pn(fe){return fe==null?"__transition__":"__transition_"+fe+"__"}function In(fe,Ce,Ne,qe,rt){var ft=fe[Ne]||(fe[Ne]={active:0,count:0}),Pt=ft[qe],At,Vt,Gt,nr,Lr;function Pr(Dr){var Vr=Pt.delay;if(Vt.t=Vr+At,Vr<=Dr)return en(Dr-Vr);Vt.c=en}function en(Dr){var Vr=ft.active,Jr=ft[Vr];Jr&&(Jr.timer.c=null,Jr.timer.t=NaN,--ft.count,delete ft[Vr],Jr.event&&Jr.event.interrupt.call(fe,fe.__data__,Jr.index));for(var un in ft)if(+un<qe){var dn=ft[un];dn.timer.c=null,dn.timer.t=NaN,--ft.count,delete ft[un]}Vt.c=on,Rn(function(){return Vt.c&&on(Dr||1)&&(Vt.c=null,Vt.t=NaN),1},0,At),ft.active=qe,Pt.event&&Pt.event.start.call(fe,fe.__data__,Ce),Lr=[],Pt.tween.forEach(function(rn,Wn){(Wn=Wn.call(fe,fe.__data__,Ce))&&Lr.push(Wn)}),nr=Pt.ease,Gt=Pt.duration}function on(Dr){for(var Vr=Dr/Gt,Jr=nr(Vr),un=Lr.length;un>0;)Lr[--un].call(fe,Jr);if(Vr>=1)return Pt.event&&Pt.event.end.call(fe,fe.__data__,Ce),--ft.count?delete ft[qe]:delete fe[Ne],1}Pt||(At=rt.time,Vt=Rn(Pr,0,At),Pt=ft[qe]={tween:new P,time:At,timer:Vt,delay:rt.delay,duration:rt.duration,ease:rt.ease,index:Ce},rt=null,++ft.count)}a.svg.axis=function(){var fe=a.scale.linear(),Ce=Kn,Ne=6,qe=6,rt=3,ft=[10],Pt=null,At;function Vt(Gt){Gt.each(function(){var nr=a.select(this),Lr=this.__chart__||fe,Pr=this.__chart__=fe.copy(),en=Pt??(Pr.ticks?Pr.ticks.apply(Pr,ft):Pr.domain()),on=At??(Pr.tickFormat?Pr.tickFormat.apply(Pr,ft):F),Dr=nr.selectAll(".tick").data(en,Pr),Vr=Dr.enter().insert("g",".domain").attr("class","tick").style("opacity",Xe),Jr=a.transition(Dr.exit()).style("opacity",Xe).remove(),un=a.transition(Dr.order()).style("opacity",1),dn=Math.max(Ne,0)+rt,rn,Wn=cu(Pr),ra=nr.selectAll(".domain").data([0]),ca=(ra.enter().append("path").attr("class","domain"),a.transition(ra));Vr.append("line"),Vr.append("text");var ea=Vr.select("line"),sa=un.select("line"),ha=Dr.select("text").text(on),Va=Vr.select("text"),La=un.select("text"),Fa=Ce==="top"||Ce==="left"?-1:1,li,Ki,di,Qn;if(Ce==="bottom"||Ce==="top"?(rn=ka,li="x",di="y",Ki="x2",Qn="y2",ha.attr("dy",Fa<0?"0em":".71em").style("text-anchor","middle"),ca.attr("d","M"+Wn[0]+","+Fa*qe+"V0H"+Wn[1]+"V"+Fa*qe)):(rn=_a,li="y",di="x",Ki="y2",Qn="x2",ha.attr("dy",".32em").style("text-anchor",Fa<0?"end":"start"),ca.attr("d","M"+Fa*qe+","+Wn[0]+"H0V"+Wn[1]+"H"+Fa*qe)),ea.attr(Qn,Fa*Ne),Va.attr(di,Fa*dn),sa.attr(Ki,0).attr(Qn,Fa*Ne),La.attr(li,0).attr(di,Fa*dn),Pr.rangeBand){var Wa=Pr,Ea=Wa.rangeBand()/2;Lr=Pr=function(qa){return Wa(qa)+Ea}}else Lr.rangeBand?Lr=Pr:Jr.call(rn,Pr,Lr);Vr.call(rn,Lr,Pr),un.call(rn,Pr,Pr)})}return Vt.scale=function(Gt){return arguments.length?(fe=Gt,Vt):fe},Vt.orient=function(Gt){return arguments.length?(Ce=Gt in Ia?Gt+"":Kn,Vt):Ce},Vt.ticks=function(){return arguments.length?(ft=S(arguments),Vt):ft},Vt.tickValues=function(Gt){return arguments.length?(Pt=Gt,Vt):Pt},Vt.tickFormat=function(Gt){return arguments.length?(At=Gt,Vt):At},Vt.tickSize=function(Gt){var nr=arguments.length;return nr?(Ne=+Gt,qe=+arguments[nr-1],Vt):Ne},Vt.innerTickSize=function(Gt){return arguments.length?(Ne=+Gt,Vt):Ne},Vt.outerTickSize=function(Gt){return arguments.length?(qe=+Gt,Vt):qe},Vt.tickPadding=function(Gt){return arguments.length?(rt=+Gt,Vt):rt},Vt.tickSubdivide=function(){return arguments.length&&Vt},Vt};var Kn="bottom",Ia={top:1,right:1,bottom:1,left:1};function ka(fe,Ce,Ne){fe.attr("transform",function(qe){var rt=Ce(qe);return"translate("+(isFinite(rt)?rt:Ne(qe))+",0)"})}function _a(fe,Ce,Ne){fe.attr("transform",function(qe){var rt=Ce(qe);return"translate(0,"+(isFinite(rt)?rt:Ne(qe))+")"})}a.svg.brush=function(){var fe=Q(nr,"brushstart","brush","brushend"),Ce=null,Ne=null,qe=[0,0],rt=[0,0],ft,Pt,At=!0,Vt=!0,Gt=Qa[0];function nr(Dr){Dr.each(function(){var Vr=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",on).on("touchstart.brush",on),Jr=Vr.selectAll(".background").data([0]);Jr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Vr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var un=Vr.selectAll(".resize").data(Gt,F);un.exit().remove(),un.enter().append("g").attr("class",function(ra){return"resize "+ra}).style("cursor",function(ra){return Ba[ra]}).append("rect").attr("x",function(ra){return/[ew]$/.test(ra)?-3:null}).attr("y",function(ra){return/^[ns]/.test(ra)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),un.style("display",nr.empty()?"none":null);var dn=a.transition(Vr),rn=a.transition(Jr),Wn;Ce&&(Wn=cu(Ce),rn.attr("x",Wn[0]).attr("width",Wn[1]-Wn[0]),Pr(dn)),Ne&&(Wn=cu(Ne),rn.attr("y",Wn[0]).attr("height",Wn[1]-Wn[0]),en(dn)),Lr(dn)})}nr.event=function(Dr){Dr.each(function(){var Vr=fe.of(this,arguments),Jr={x:qe,y:rt,i:ft,j:Pt},un=this.__chart__||Jr;this.__chart__=Jr,kr?a.select(this).transition().each("start.brush",function(){ft=un.i,Pt=un.j,qe=un.x,rt=un.y,Vr({type:"brushstart"})}).tween("brush:brush",function(){var dn=ts(qe,Jr.x),rn=ts(rt,Jr.y);return ft=Pt=null,function(Wn){qe=Jr.x=dn(Wn),rt=Jr.y=rn(Wn),Vr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ft=Jr.i,Pt=Jr.j,Vr({type:"brush",mode:"resize"}),Vr({type:"brushend"})}):(Vr({type:"brushstart"}),Vr({type:"brush",mode:"resize"}),Vr({type:"brushend"}))})};function Lr(Dr){Dr.selectAll(".resize").attr("transform",function(Vr){return"translate("+qe[+/e$/.test(Vr)]+","+rt[+/^s/.test(Vr)]+")"})}function Pr(Dr){Dr.select(".extent").attr("x",qe[0]),Dr.selectAll(".extent,.n>rect,.s>rect").attr("width",qe[1]-qe[0])}function en(Dr){Dr.select(".extent").attr("y",rt[0]),Dr.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function on(){var Dr=this,Vr=a.select(a.event.target),Jr=fe.of(Dr,arguments),un=a.select(Dr),dn=Vr.datum(),rn=!/^(n|s)$/.test(dn)&&Ce,Wn=!/^(e|w)$/.test(dn)&&Ne,ra=Vr.classed("extent"),ca=Ze(Dr),ea,sa=a.mouse(Dr),ha,Va=a.select(r(Dr)).on("keydown.brush",li).on("keyup.brush",Ki);if(a.event.changedTouches?Va.on("touchmove.brush",di).on("touchend.brush",Wa):Va.on("mousemove.brush",di).on("mouseup.brush",Wa),un.interrupt().selectAll("*").interrupt(),ra)sa[0]=qe[0]-sa[0],sa[1]=rt[0]-sa[1];else if(dn){var La=+/w$/.test(dn),Fa=+/^n/.test(dn);ha=[qe[1-La]-sa[0],rt[1-Fa]-sa[1]],sa[0]=qe[La],sa[1]=rt[Fa]}else a.event.altKey&&(ea=sa.slice());un.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Vr.style("cursor")),Jr({type:"brushstart"}),di();function li(){a.event.keyCode==32&&(ra||(ea=null,sa[0]-=qe[1],sa[1]-=rt[1],ra=2),ne())}function Ki(){a.event.keyCode==32&&ra==2&&(sa[0]+=qe[1],sa[1]+=rt[1],ra=0,ne())}function di(){var Ea=a.mouse(Dr),qa=!1;ha&&(Ea[0]+=ha[0],Ea[1]+=ha[1]),ra||(a.event.altKey?(ea||(ea=[(qe[0]+qe[1])/2,(rt[0]+rt[1])/2]),sa[0]=qe[+(Ea[0]<ea[0])],sa[1]=rt[+(Ea[1]<ea[1])]):ea=null),rn&&Qn(Ea,Ce,0)&&(Pr(un),qa=!0),Wn&&Qn(Ea,Ne,1)&&(en(un),qa=!0),qa&&(Lr(un),Jr({type:"brush",mode:ra?"move":"resize"}))}function Qn(Ea,qa,Ei){var ui=cu(qa),fo=ui[0],co=ui[1],mo=sa[Ei],Ci=Ei?rt:qe,Po=Ci[1]-Ci[0],ua,Ra;if(ra&&(fo-=mo,co-=Po+mo),ua=(Ei?Vt:At)?Math.max(fo,Math.min(co,Ea[Ei])):Ea[Ei],ra?Ra=(ua+=mo)+Po:(ea&&(mo=Math.max(fo,Math.min(co,2*ea[Ei]-ua))),mo<ua?(Ra=ua,ua=mo):Ra=mo),Ci[0]!=ua||Ci[1]!=Ra)return Ei?Pt=null:ft=null,Ci[0]=ua,Ci[1]=Ra,!0}function Wa(){di(),un.style("pointer-events","all").selectAll(".resize").style("display",nr.empty()?"none":null),a.select("body").style("cursor",null),Va.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ca(),Jr({type:"brushend"})}}return nr.x=function(Dr){return arguments.length?(Ce=Dr,Gt=Qa[!Ce<<1|!Ne],nr):Ce},nr.y=function(Dr){return arguments.length?(Ne=Dr,Gt=Qa[!Ce<<1|!Ne],nr):Ne},nr.clamp=function(Dr){return arguments.length?(Ce&&Ne?(At=!!Dr[0],Vt=!!Dr[1]):Ce?At=!!Dr:Ne&&(Vt=!!Dr),nr):Ce&&Ne?[At,Vt]:Ce?At:Ne?Vt:null},nr.extent=function(Dr){var Vr,Jr,un,dn,rn;return arguments.length?(Ce&&(Vr=Dr[0],Jr=Dr[1],Ne&&(Vr=Vr[0],Jr=Jr[0]),ft=[Vr,Jr],Ce.invert&&(Vr=Ce(Vr),Jr=Ce(Jr)),Jr<Vr&&(rn=Vr,Vr=Jr,Jr=rn),(Vr!=qe[0]||Jr!=qe[1])&&(qe=[Vr,Jr])),Ne&&(un=Dr[0],dn=Dr[1],Ce&&(un=un[1],dn=dn[1]),Pt=[un,dn],Ne.invert&&(un=Ne(un),dn=Ne(dn)),dn<un&&(rn=un,un=dn,dn=rn),(un!=rt[0]||dn!=rt[1])&&(rt=[un,dn])),nr):(Ce&&(ft?(Vr=ft[0],Jr=ft[1]):(Vr=qe[0],Jr=qe[1],Ce.invert&&(Vr=Ce.invert(Vr),Jr=Ce.invert(Jr)),Jr<Vr&&(rn=Vr,Vr=Jr,Jr=rn))),Ne&&(Pt?(un=Pt[0],dn=Pt[1]):(un=rt[0],dn=rt[1],Ne.invert&&(un=Ne.invert(un),dn=Ne.invert(dn)),dn<un&&(rn=un,un=dn,dn=rn))),Ce&&Ne?[[Vr,un],[Jr,dn]]:Ce?[Vr,Jr]:Ne&&[un,dn])},nr.clear=function(){return nr.empty()||(qe=[0,0],rt=[0,0],ft=Pt=null),nr},nr.empty=function(){return!!Ce&&qe[0]==qe[1]||!!Ne&&rt[0]==rt[1]},a.rebind(nr,fe,"on")};var Ba={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=An(function(fe){return fe.responseText}),a.json=function(fe,Ce){return Sn(fe,"application/json",yi,Ce)};function yi(fe){return JSON.parse(fe.responseText)}a.html=function(fe,Ce){return Sn(fe,"text/html",Yi,Ce)};function Yi(fe){var Ce=v.createRange();return Ce.selectNode(v.body),Ce.createContextualFragment(fe.responseText)}a.xml=An(function(fe){return fe.responseXML}),g=a,R=typeof g=="function"?g.call(G,e,G,H):g,R!==void 0&&(H.exports=R)}).apply(self)},3480:function(H){(function(G,e){H.exports=e()})(this,function(){var G,e,g;function R(a,C){if(!G)G=C;else if(!e)e=C;else{var S="var sharedChunk = {}; ("+G+")(sharedChunk); ("+e+")(sharedChunk);",v={};G(v),g=C(v),typeof window<"u"&&(g.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return R(["exports"],function(a){function C(D,I){return I={exports:{}},D(I,I.exports),I.exports}var S="1.13.4",v=d;function d(D,I,W,ie){this.cx=3*D,this.bx=3*(W-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(ie-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ie,this.p2x=W,this.p2y=ie}d.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},d.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},d.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},d.prototype.solveCurveX=function(D,I){typeof I>"u"&&(I=1e-6);var W,ie,pe,Se,Re;for(pe=D,Re=0;Re<8;Re++){if(Se=this.sampleCurveX(pe)-D,Math.abs(Se)<I)return pe;var $e=this.sampleCurveDerivativeX(pe);if(Math.abs($e)<1e-6)break;pe=pe-Se/$e}if(W=0,ie=1,pe=D,pe<W)return W;if(pe>ie)return ie;for(;W<ie;){if(Se=this.sampleCurveX(pe),Math.abs(Se-D)<I)return pe;D>Se?W=pe:ie=pe,pe=(ie-W)*.5+W}return pe},d.prototype.solve=function(D,I){return this.sampleCurveY(this.solveCurveX(D,I))};var r=t;function t(D,I){this.x=D,this.y=I}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,I){return this.clone()._rotateAround(D,I)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var I=D.x-this.x,W=D.y-this.y;return I*I+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,I){return Math.atan2(this.x*I-this.y*D,this.x*D+this.y*I)},_matMult:function(D){var I=D[0]*this.x+D[1]*this.y,W=D[2]*this.x+D[3]*this.y;return this.x=I,this.y=W,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var I=Math.cos(D),W=Math.sin(D),ie=I*this.x-W*this.y,pe=W*this.x+I*this.y;return this.x=ie,this.y=pe,this},_rotateAround:function(D,I){var W=Math.cos(D),ie=Math.sin(D),pe=I.x+W*(this.x-I.x)-ie*(this.y-I.y),Se=I.y+ie*(this.x-I.x)+W*(this.y-I.y);return this.x=pe,this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(D){return D instanceof t?D:Array.isArray(D)?new t(D[0],D[1]):D};var i=typeof self<"u"?self:{};function n(D,I){if(Array.isArray(D)){if(!Array.isArray(I)||D.length!==I.length)return!1;for(var W=0;W<D.length;W++)if(!n(D[W],I[W]))return!1;return!0}if(typeof D=="object"&&D!==null&&I!==null){if(typeof I!="object")return!1;var ie=Object.keys(D);if(ie.length!==Object.keys(I).length)return!1;for(var pe in D)if(!n(D[pe],I[pe]))return!1;return!0}return D===I}var f=Math.pow(2,53)-1;function u(D){if(D<=0)return 0;if(D>=1)return 1;var I=D*D,W=I*D;return 4*(D<.5?W:3*(D-I)+W-.75)}function l(D,I,W,ie){var pe=new v(D,I,W,ie);return function(Se){return pe.solve(Se)}}var m=l(.25,.1,.25,1);function c(D,I,W){return Math.min(W,Math.max(I,D))}function A(D,I,W){var ie=W-I,pe=((D-I)%ie+ie)%ie+I;return pe===I?W:pe}function h(D,I,W){if(!D.length)return W(null,[]);var ie=D.length,pe=new Array(D.length),Se=null;D.forEach(function(Re,$e){I(Re,function(dt,St){dt&&(Se=dt),pe[$e]=St,--ie===0&&W(Se,pe)})})}function o(D){var I=[];for(var W in D)I.push(D[W]);return I}function p(D,I){var W=[];for(var ie in D)ie in I||W.push(ie);return W}function b(D){for(var I=[],W=arguments.length-1;W-- >0;)I[W]=arguments[W+1];for(var ie=0,pe=I;ie<pe.length;ie+=1){var Se=pe[ie];for(var Re in Se)D[Re]=Se[Re]}return D}function T(D,I){for(var W={},ie=0;ie<I.length;ie++){var pe=I[ie];pe in D&&(W[pe]=D[pe])}return W}var P=1;function x(){return P++}function L(){function D(I){return I?(I^Math.random()*16>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function M(D){return D<=1?1:Math.pow(2,Math.ceil(Math.log(D)/Math.LN2))}function s(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function E(D,I){D.forEach(function(W){I[W]&&(I[W]=I[W].bind(I))})}function w(D,I){return D.indexOf(I,D.length-I.length)!==-1}function O(D,I,W){var ie={};for(var pe in D)ie[pe]=I.call(W||this,D[pe],pe,D);return ie}function _(D,I,W){var ie={};for(var pe in D)I.call(W||this,D[pe],pe,D)&&(ie[pe]=D[pe]);return ie}function U(D){return Array.isArray(D)?D.map(U):typeof D=="object"&&D?O(D,U):D}function z(D,I){for(var W=0;W<D.length;W++)if(I.indexOf(D[W])>=0)return!0;return!1}var F={};function B(D){F[D]||(typeof console<"u"&&console.warn(D),F[D]=!0)}function N(D,I,W){return(W.y-D.y)*(I.x-D.x)>(I.y-D.y)*(W.x-D.x)}function V(D){for(var I=0,W=0,ie=D.length,pe=ie-1,Se=void 0,Re=void 0;W<ie;pe=W++)Se=D[W],Re=D[pe],I+=(Re.x-Se.x)*(Se.y+Re.y);return I}function X(D){var I=D[0],W=D[1],ie=D[2];return W+=90,W*=Math.PI/180,ie*=Math.PI/180,{x:I*Math.cos(W)*Math.sin(ie),y:I*Math.sin(W)*Math.sin(ie),z:I*Math.cos(ie)}}function q(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function te(D){var I=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,W={};if(D.replace(I,function(pe,Se,Re,$e){var dt=Re||$e;return W[Se]=dt?dt.toLowerCase():!0,""}),W["max-age"]){var ie=parseInt(W["max-age"],10);isNaN(ie)?delete W["max-age"]:W["max-age"]=ie}return W}var ne=null;function ce(D){if(ne==null){var I=D.navigator?D.navigator.userAgent:null;ne=!!D.safari||!!(I&&(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return ne}function Q(D){try{var I=i[D];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}function Z(D){return i.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(I,W){return String.fromCharCode(+("0x"+W))}))}function re(D){return decodeURIComponent(i.atob(D).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Y=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date),oe=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame,ue=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame,K,$,le={now:Y,frame:function(I){var W=oe(I);return{cancel:function(){return ue(W)}}},getImageData:function(I,W){W===void 0&&(W=0);var ie=i.document.createElement("canvas"),pe=ie.getContext("2d");if(!pe)throw new Error("failed to create canvas 2d context");return ie.width=I.width,ie.height=I.height,pe.drawImage(I,0,0,I.width,I.height),pe.getImageData(-W,-W,I.width+2*W,I.height+2*W)},resolveURL:function(I){return K||(K=i.document.createElement("a")),K.href=I,K.href},hardwareConcurrency:i.navigator&&i.navigator.hardwareConcurrency||4,get devicePixelRatio(){return i.devicePixelRatio},get prefersReducedMotion(){return i.matchMedia?($==null&&($=i.matchMedia("(prefers-reduced-motion: reduce)")),$.matches):!1}},ae={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},he={supported:!1,testSupport:we},xe,Me=!1,Ae,ke=!1;i.document&&(Ae=i.document.createElement("img"),Ae.onload=function(){xe&&Ee(xe),xe=null,ke=!0},Ae.onerror=function(){Me=!0,xe=null},Ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function we(D){Me||!Ae||(ke?Ee(D):xe=D)}function Ee(D){var I=D.createTexture();D.bindTexture(D.TEXTURE_2D,I);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,Ae),D.isContextLost())return;he.supported=!0}catch{}D.deleteTexture(I),Me=!0}var be="01";function Le(){for(var D="1",I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",W="",ie=0;ie<10;ie++)W+=I[Math.floor(Math.random()*62)];var pe=12*60*60*1e3,Se=[D,be,W].join(""),Re=Date.now()+pe;return{token:Se,tokenExpiresAt:Re}}var Ue=function(I,W){this._transformRequestFn=I,this._customAccessToken=W,this._createSkuToken()};Ue.prototype._createSkuToken=function(){var I=Le();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Ue.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ue.prototype.transformRequest=function(I,W){return this._transformRequestFn?this._transformRequestFn(I,W)||{url:I}:{url:I}},Ue.prototype.normalizeStyleURL=function(I,W){if(!Ve(I))return I;var ie=et(I);return ie.path="/styles/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||W)},Ue.prototype.normalizeGlyphsURL=function(I,W){if(!Ve(I))return I;var ie=et(I);return ie.path="/fonts/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||W)},Ue.prototype.normalizeSourceURL=function(I,W){if(!Ve(I))return I;var ie=et(I);return ie.path="/v4/"+ie.authority+".json",ie.params.push("secure"),this._makeAPIURL(ie,this._customAccessToken||W)},Ue.prototype.normalizeSpriteURL=function(I,W,ie,pe){var Se=et(I);return Ve(I)?(Se.path="/styles/v1"+Se.path+"/sprite"+W+ie,this._makeAPIURL(Se,this._customAccessToken||pe)):(Se.path+=""+W+ie,ct(Se))},Ue.prototype.normalizeTileURL=function(I,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!Ve(I))return I;var ie=et(I),pe=/(\.(png|jpg)\d*)(?=$)/,Se=/^.+\/v4\//,Re=le.devicePixelRatio>=2||W===512?"@2x":"",$e=he.supported?".webp":"$1";ie.path=ie.path.replace(pe,""+Re+$e),ie.path=ie.path.replace(Se,"/"),ie.path="/v4"+ie.path;var dt=this._customAccessToken||vt(ie.params)||ae.ACCESS_TOKEN;return ae.REQUIRE_ACCESS_TOKEN&&dt&&this._skuToken&&ie.params.push("sku="+this._skuToken),this._makeAPIURL(ie,dt)},Ue.prototype.canonicalizeTileURL=function(I,W){var ie="/v4/",pe=/\.[\w]+$/,Se=et(I);if(!Se.path.match(/(^\/v4\/)/)||!Se.path.match(pe))return I;var Re="mapbox://tiles/";Re+=Se.path.replace(ie,"");var $e=Se.params;return W&&($e=$e.filter(function(dt){return!dt.match(/^access_token=/)})),$e.length&&(Re+="?"+$e.join("&")),Re},Ue.prototype.canonicalizeTileset=function(I,W){for(var ie=W?Ve(W):!1,pe=[],Se=0,Re=I.tiles||[];Se<Re.length;Se+=1){var $e=Re[Se];He($e)?pe.push(this.canonicalizeTileURL($e,ie)):pe.push($e)}return pe},Ue.prototype._makeAPIURL=function(I,W){var ie="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",pe=et(ae.API_URL);if(I.protocol=pe.protocol,I.authority=pe.authority,I.protocol==="http"){var Se=I.params.indexOf("secure");Se>=0&&I.params.splice(Se,1)}if(pe.path!=="/"&&(I.path=""+pe.path+I.path),!ae.REQUIRE_ACCESS_TOKEN)return ct(I);if(W=W||ae.ACCESS_TOKEN,!W)throw new Error("An API access token is required to use Mapbox GL. "+ie);if(W[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ie);return I.params=I.params.filter(function(Re){return Re.indexOf("access_token")===-1}),I.params.push("access_token="+W),ct(I)};function Ve(D){return D.indexOf("mapbox:")===0}var Fe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function He(D){return Fe.test(D)}function st(D){return D.indexOf("sku=")>0&&He(D)}function vt(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I],pe=ie.match(/^access_token=(.*)$/);if(pe)return pe[1]}return null}var lt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function et(D){var I=D.match(lt);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function ct(D){var I=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+I}var ht="mapbox.eventData";function mt(D){if(!D)return null;var I=D.split(".");if(!I||I.length!==3)return null;try{var W=JSON.parse(re(I[1]));return W}catch{return null}}var xt=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};xt.prototype.getStorageKey=function(I){var W=mt(ae.ACCESS_TOKEN),ie="";return W&&W.u?ie=Z(W.u):ie=ae.ACCESS_TOKEN||"",I?ht+"."+I+":"+ie:ht+":"+ie},xt.prototype.fetchEventData=function(){var I=Q("localStorage"),W=this.getStorageKey(),ie=this.getStorageKey("uuid");if(I)try{var pe=i.localStorage.getItem(W);pe&&(this.eventData=JSON.parse(pe));var Se=i.localStorage.getItem(ie);Se&&(this.anonId=Se)}catch{B("Unable to read from LocalStorage")}},xt.prototype.saveEventData=function(){var I=Q("localStorage"),W=this.getStorageKey(),ie=this.getStorageKey("uuid");if(I)try{i.localStorage.setItem(ie,this.anonId),Object.keys(this.eventData).length>=1&&i.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},xt.prototype.processRequests=function(I){},xt.prototype.postEvent=function(I,W,ie,pe){var Se=this;if(ae.EVENTS_URL){var Re=et(ae.EVENTS_URL);Re.params.push("access_token="+(pe||ae.ACCESS_TOKEN||""));var $e={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:S,skuId:be,userId:this.anonId},dt=W?b($e,W):$e,St={url:ct(Re),headers:{"Content-Type":"text/plain"},body:JSON.stringify([dt])};this.pendingRequest=Nt(St,function(Rt){Se.pendingRequest=null,ie(Rt),Se.saveEventData(),Se.processRequests(pe)})}},xt.prototype.queueRequest=function(I,W){this.queue.push(I),this.processRequests(W)};var Mt=function(D){function I(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(ie,pe,Se,Re){this.skuToken=Se,(ae.EVENTS_URL&&Re||ae.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function($e){return Ve($e)||He($e)}))&&this.queueRequest({id:pe,timestamp:Date.now()},Re)},I.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){var Se=this.queue.shift(),Re=Se.id,$e=Se.timestamp;Re&&this.success[Re]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=L()),this.postEvent($e,{skuToken:this.skuToken},function(dt){dt||Re&&(pe.success[Re]=!0)},ie))}},I}(xt),tt=function(D){function I(W){D.call(this,"appUserTurnstile"),this._customAccessToken=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(ie,pe){ae.EVENTS_URL&&ae.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Se){return Ve(Se)||He(Se)})&&this.queueRequest(Date.now(),pe)},I.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Se=mt(ae.ACCESS_TOKEN),Re=Se?Se.u:ae.ACCESS_TOKEN,$e=Re!==this.eventData.tokenU;s(this.anonId)||(this.anonId=L(),$e=!0);var dt=this.queue.shift();if(this.eventData.lastSuccess){var St=new Date(this.eventData.lastSuccess),Rt=new Date(dt),jt=(dt-this.eventData.lastSuccess)/(24*60*60*1e3);$e=$e||jt>=1||jt<-1||St.getDate()!==Rt.getDate()}else $e=!0;if(!$e)return this.processRequests();this.postEvent(dt,{"enabled.telemetry":!1},function(ir){ir||(pe.eventData.lastSuccess=dt,pe.eventData.tokenU=Re)},ie)}},I}(xt),Oe=new tt,Ye=Oe.postTurnstileEvent.bind(Oe),Ze=new Mt,We=Ze.postMapLoadEvent.bind(Ze),_e="mapbox-tiles",Ie=500,Xe=50,De=1e3*60*7,de;function Te(){i.caches&&!de&&(de=i.caches.open(_e))}var Be;function Qe(D,I){if(Be===void 0)try{new Response(new ReadableStream),Be=!0}catch{Be=!1}Be?I(D.body):D.blob().then(I)}function at(D,I,W){if(Te(),!!de){var ie={status:I.status,statusText:I.statusText,headers:new i.Headers};I.headers.forEach(function(Re,$e){return ie.headers.set($e,Re)});var pe=te(I.headers.get("Cache-Control")||"");if(!pe["no-store"]){pe["max-age"]&&ie.headers.set("Expires",new Date(W+pe["max-age"]*1e3).toUTCString());var Se=new Date(ie.headers.get("Expires")).getTime()-W;Se<De||Qe(I,function(Re){var $e=new i.Response(Re,ie);Te(),de&&de.then(function(dt){return dt.put(it(D.url),$e)}).catch(function(dt){return B(dt.message)})})}}}function it(D){var I=D.indexOf("?");return I<0?D:D.slice(0,I)}function Wt(D,I){if(Te(),!de)return I(null);var W=it(D.url);de.then(function(ie){ie.match(W).then(function(pe){var Se=Yt(pe);ie.delete(W),Se&&ie.put(W,pe.clone()),I(null,pe,Se)}).catch(I)}).catch(I)}function Yt(D){if(!D)return!1;var I=new Date(D.headers.get("Expires")||0),W=te(D.headers.get("Cache-Control")||"");return I>Date.now()&&!W["no-cache"]}var Tt=1/0;function Lt(D){Tt++,Tt>Xe&&(D.getActor().send("enforceCacheSizeLimit",Ie),Tt=0)}function Xt(D){Te(),de&&de.then(function(I){I.keys().then(function(W){for(var ie=0;ie<W.length-D;ie++)I.delete(W[ie])})})}function Tr(D){var I=i.caches.delete(_e);D&&I.catch(D).then(function(){return D()})}function gt(D,I){Ie=D,Xe=I}var Kt;function Qt(){return Kt==null&&(Kt=i.OffscreenCanvas&&new i.OffscreenCanvas(1,1).getContext("2d")&&typeof i.createImageBitmap=="function"),Kt}var yr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yr);var fr=function(D){function I(W,ie,pe){ie===401&&He(pe)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,W),this.status=ie,this.url=pe,this.name=this.constructor.name,this.message=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),yt=q()?function(){return self.worker&&self.worker.referrer}:function(){return(i.location.protocol==="blob:"?i.parent:i).location.href},ot=function(D){return/^file:/.test(D)||/^file:/.test(yt())&&!/^\w+:/.test(D)};function bt(D,I){var W=new i.AbortController,ie=new i.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:yt(),signal:W.signal}),pe=!1,Se=!1,Re=st(ie.url);D.type==="json"&&ie.headers.set("Accept","application/json");var $e=function(St,Rt,jt){if(!Se){if(St&&St.message!=="SecurityError"&&B(St),Rt&&jt)return dt(Rt);var ir=Date.now();i.fetch(ie).then(function(tr){if(tr.ok){var xr=Re?tr.clone():null;return dt(tr,xr,ir)}else return I(new fr(tr.statusText,tr.status,D.url))}).catch(function(tr){tr.code!==20&&I(new Error(tr.message))})}},dt=function(St,Rt,jt){(D.type==="arrayBuffer"?St.arrayBuffer():D.type==="json"?St.json():St.text()).then(function(ir){Se||(Rt&&jt&&at(ie,Rt,jt),pe=!0,I(null,ir,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(ir){Se||I(new Error(ir.message))})};return Re?Wt(ie,$e):$e(null,null),{cancel:function(){Se=!0,pe||W.abort()}}}function Et(D,I){var W=new i.XMLHttpRequest;W.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(W.responseType="arraybuffer");for(var ie in D.headers)W.setRequestHeader(ie,D.headers[ie]);return D.type==="json"&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials=D.credentials==="include",W.onerror=function(){I(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||W.status===0)&&W.response!==null){var pe=W.response;if(D.type==="json")try{pe=JSON.parse(W.response)}catch(Se){return I(Se)}I(null,pe,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else I(new fr(W.statusText,W.status,D.url))},W.send(D.body),{cancel:function(){return W.abort()}}}var Dt=function(D,I){if(!ot(D.url)){if(i.fetch&&i.Request&&i.AbortController&&i.Request.prototype.hasOwnProperty("signal"))return bt(D,I);if(q()&&self.worker&&self.worker.actor){var W=!0;return self.worker.actor.send("getResource",D,I,void 0,W)}}return Et(D,I)},Ht=function(D,I){return Dt(b(D,{type:"json"}),I)},Bt=function(D,I){return Dt(b(D,{type:"arrayBuffer"}),I)},Nt=function(D,I){return Dt(b(D,{method:"POST"}),I)};function Jt(D){var I=i.document.createElement("a");return I.href=D,I.protocol===i.document.location.protocol&&I.host===i.document.location.host}var hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Zt(D,I,W,ie){var pe=new i.Image,Se=i.URL;pe.onload=function(){I(null,pe),Se.revokeObjectURL(pe.src),pe.onload=null,i.requestAnimationFrame(function(){pe.src=hr})},pe.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Re=new i.Blob([new Uint8Array(D)],{type:"image/png"});pe.cacheControl=W,pe.expires=ie,pe.src=D.byteLength?Se.createObjectURL(Re):hr}function dr(D,I){var W=new i.Blob([new Uint8Array(D)],{type:"image/png"});i.createImageBitmap(W).then(function(ie){I(null,ie)}).catch(function(ie){I(new Error("Could not load image because of "+ie.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var je,Ge,Ot=function(){je=[],Ge=0};Ot();var kt=function(D,I){if(he.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),Ge>=ae.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:D,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return je.push(W),W}Ge++;var ie=!1,pe=function(){if(!ie)for(ie=!0,Ge--;je.length&&Ge<ae.MAX_PARALLEL_IMAGE_REQUESTS;){var Re=je.shift(),$e=Re.requestParameters,dt=Re.callback,St=Re.cancelled;St||(Re.cancel=kt($e,dt).cancel)}},Se=Bt(D,function(Re,$e,dt,St){pe(),Re?I(Re):$e&&(Qt()?dr($e,I):Zt($e,I,dt,St))});return{cancel:function(){Se.cancel(),pe()}}},$t=function(D,I){var W=i.document.createElement("video");W.muted=!0,W.onloadstart=function(){I(null,W)};for(var ie=0;ie<D.length;ie++){var pe=i.document.createElement("source");Jt(D[ie])||(W.crossOrigin="Anonymous"),pe.src=D[ie],W.appendChild(pe)}return{cancel:function(){}}};function ar(D,I,W){var ie=W[D]&&W[D].indexOf(I)!==-1;ie||(W[D]=W[D]||[],W[D].push(I))}function or(D,I,W){if(W&&W[D]){var ie=W[D].indexOf(I);ie!==-1&&W[D].splice(ie,1)}}var rr=function(I,W){W===void 0&&(W={}),b(this,W),this.type=I},zt=function(D){function I(W,ie){ie===void 0&&(ie={}),D.call(this,"error",b({error:W},ie))}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(rr),vr=function(){};vr.prototype.on=function(I,W){return this._listeners=this._listeners||{},ar(I,W,this._listeners),this},vr.prototype.off=function(I,W){return or(I,W,this._listeners),or(I,W,this._oneTimeListeners),this},vr.prototype.once=function(I,W){return this._oneTimeListeners=this._oneTimeListeners||{},ar(I,W,this._oneTimeListeners),this},vr.prototype.fire=function(I,W){typeof I=="string"&&(I=new rr(I,W||{}));var ie=I.type;if(this.listens(ie)){I.target=this;for(var pe=this._listeners&&this._listeners[ie]?this._listeners[ie].slice():[],Se=0,Re=pe;Se<Re.length;Se+=1){var $e=Re[Se];$e.call(this,I)}for(var dt=this._oneTimeListeners&&this._oneTimeListeners[ie]?this._oneTimeListeners[ie].slice():[],St=0,Rt=dt;St<Rt.length;St+=1){var jt=Rt[St];or(ie,jt,this._oneTimeListeners),jt.call(this,I)}var ir=this._eventedParent;ir&&(b(I,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(I))}else I instanceof zt&&console.error(I.error);return this},vr.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},vr.prototype.setEventedParent=function(I,W){return this._eventedParent=I,this._eventedParentData=W,this};var gr=8,Ar={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},cr={"*":{type:"source"}},Hr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Rr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Ir={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},cn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Zr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},An={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Sn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},br={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Or=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],jr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},pn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},hn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ln={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},oa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},xa={type:"array",value:"*"},Ta={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},da={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Hn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},mr={type:"array",value:"*",minimum:1},$r={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Qr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],vn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},zn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},bn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},wn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Bn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},$n={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},pa={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Oa={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Sr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Fr={"*":{type:"string"}},Mr={$version:gr,$root:Ar,sources:cr,source:Hr,source_vector:Rr,source_raster:Ir,source_raster_dem:cn,source_geojson:Zr,source_video:An,source_image:Sn,layer:br,layout:Or,layout_background:jr,layout_fill:zr,layout_circle:pn,layout_heatmap:hn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Ln,layout_symbol:Rn,layout_raster:Gn,layout_hillshade:oa,filter:xa,filter_operator:Ta,geometry_type:da,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Hn,expression:mr,light:$r,paint:Qr,paint_fill:vn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:zn,paint_circle:bn,paint_heatmap:wn,paint_symbol:Bn,paint_raster:$n,paint_hillshade:pa,paint_background:Oa,transition:Sr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Fr},Nr=function(I,W,ie,pe){this.message=(I?I+": ":"")+ie,pe&&(this.identifier=pe),W!=null&&W.__line__&&(this.line=W.__line__)};function mn(D){var I=D.key,W=D.value;return W?[new Nr(I,W,"constants have been deprecated as of v8")]:[]}function Dn(D){for(var I=[],W=arguments.length-1;W-- >0;)I[W]=arguments[W+1];for(var ie=0,pe=I;ie<pe.length;ie+=1){var Se=pe[ie];for(var Re in Se)D[Re]=Se[Re]}return D}function gn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function sn(D){if(Array.isArray(D))return D.map(sn);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var I={};for(var W in D)I[W]=sn(D[W]);return I}return gn(D)}var Cr=function(D){function I(W,ie){D.call(this,ie),this.message=ie,this.key=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Error),Kr=function(I,W){W===void 0&&(W=[]),this.parent=I,this.bindings={};for(var ie=0,pe=W;ie<pe.length;ie+=1){var Se=pe[ie],Re=Se[0],$e=Se[1];this.bindings[Re]=$e}};Kr.prototype.concat=function(I){return new Kr(this,I)},Kr.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},Kr.prototype.has=function(I){return this.bindings[I]?!0:this.parent?this.parent.has(I):!1};var Gr={kind:"null"},tn={kind:"number"},Tn={kind:"string"},On={kind:"boolean"},Mn={kind:"color"},Un={kind:"object"},Fn={kind:"value"},va={kind:"error"},la={kind:"collator"},ma={kind:"formatted"},Da={kind:"resolvedImage"};function bi(D,I){return{kind:"array",itemType:D,N:I}}function si(D){if(D.kind==="array"){var I=si(D.itemType);return typeof D.N=="number"?"array<"+I+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+I+">"}else return D.kind}var es=[Gr,tn,Tn,On,Mn,ma,Un,bi(Fn),Da];function Wo(D,I){if(I.kind==="error")return null;if(D.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!Wo(D.itemType,I.itemType))&&(typeof D.N!="number"||D.N===I.N))return null}else{if(D.kind===I.kind)return null;if(D.kind==="value")for(var W=0,ie=es;W<ie.length;W+=1){var pe=ie[W];if(!Wo(pe,I))return null}}return"Expected "+si(D)+" but found "+si(I)+" instead."}function po(D,I){return I.some(function(W){return W.kind===D.kind})}function ql(D,I){return I.some(function(W){return W==="null"?D===null:W==="array"?Array.isArray(D):W==="object"?D&&!Array.isArray(D)&&typeof D=="object":W===typeof D})}var qf=C(function(D,I){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ie(St){return St=Math.round(St),St<0?0:St>255?255:St}function pe(St){return St<0?0:St>1?1:St}function Se(St){return St[St.length-1]==="%"?ie(parseFloat(St)/100*255):ie(parseInt(St))}function Re(St){return St[St.length-1]==="%"?pe(parseFloat(St)/100):pe(parseFloat(St))}function $e(St,Rt,jt){return jt<0?jt+=1:jt>1&&(jt-=1),jt*6<1?St+(Rt-St)*jt*6:jt*2<1?Rt:jt*3<2?St+(Rt-St)*(2/3-jt)*6:St}function dt(St){var Rt=St.replace(/ /g,"").toLowerCase();if(Rt in W)return W[Rt].slice();if(Rt[0]==="#"){if(Rt.length===4){var jt=parseInt(Rt.substr(1),16);return jt>=0&&jt<=4095?[(jt&3840)>>4|(jt&3840)>>8,jt&240|(jt&240)>>4,jt&15|(jt&15)<<4,1]:null}else if(Rt.length===7){var jt=parseInt(Rt.substr(1),16);return jt>=0&&jt<=16777215?[(jt&16711680)>>16,(jt&65280)>>8,jt&255,1]:null}return null}var ir=Rt.indexOf("("),tr=Rt.indexOf(")");if(ir!==-1&&tr+1===Rt.length){var xr=Rt.substr(0,ir),Br=Rt.substr(ir+1,tr-(ir+1)).split(","),ln=1;switch(xr){case"rgba":if(Br.length!==4)return null;ln=Re(Br.pop());case"rgb":return Br.length!==3?null:[Se(Br[0]),Se(Br[1]),Se(Br[2]),ln];case"hsla":if(Br.length!==4)return null;ln=Re(Br.pop());case"hsl":if(Br.length!==3)return null;var nn=(parseFloat(Br[0])%360+360)%360/360,Cn=Re(Br[1]),yn=Re(Br[2]),En=yn<=.5?yn*(Cn+1):yn+Cn-yn*Cn,_n=yn*2-En;return[ie($e(_n,En,nn+1/3)*255),ie($e(_n,En,nn)*255),ie($e(_n,En,nn-1/3)*255),ln];default:return null}}return null}try{I.parseCSSColor=dt}catch{}}),Hc=qf.parseCSSColor,ai=function(I,W,ie,pe){pe===void 0&&(pe=1),this.r=I,this.g=W,this.b=ie,this.a=pe};ai.parse=function(I){if(I){if(I instanceof ai)return I;if(typeof I=="string"){var W=Hc(I);if(W)return new ai(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},ai.prototype.toString=function(){var I=this.toArray(),W=I[0],ie=I[1],pe=I[2],Se=I[3];return"rgba("+Math.round(W)+","+Math.round(ie)+","+Math.round(pe)+","+Se+")"},ai.prototype.toArray=function(){var I=this,W=I.r,ie=I.g,pe=I.b,Se=I.a;return Se===0?[0,0,0,0]:[W*255/Se,ie*255/Se,pe*255/Se,Se]},ai.black=new ai(0,0,0,1),ai.white=new ai(1,1,1,1),ai.transparent=new ai(0,0,0,0),ai.red=new ai(1,0,0,1);var Nu=function(I,W,ie){I?this.sensitivity=W?"variant":"case":this.sensitivity=W?"accent":"base",this.locale=ie,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Nu.prototype.compare=function(I,W){return this.collator.compare(I,W)},Nu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ec=function(I,W,ie,pe,Se){this.text=I,this.image=W,this.scale=ie,this.fontStack=pe,this.textColor=Se},so=function(I){this.sections=I};so.fromString=function(I){return new so([new ec(I,null,null,null,null)])},so.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(I){return I.text.length!==0||I.image&&I.image.name.length!==0})},so.factory=function(I){return I instanceof so?I:so.fromString(I)},so.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(I){return I.text}).join("")},so.prototype.serialize=function(){for(var I=["format"],W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];if(pe.image){I.push(["image",pe.image.name]);continue}I.push(pe.text);var Se={};pe.fontStack&&(Se["text-font"]=["literal",pe.fontStack.split(",")]),pe.scale&&(Se["font-scale"]=pe.scale),pe.textColor&&(Se["text-color"]=["rgba"].concat(pe.textColor.toArray())),I.push(Se)}return I};var Oo=function(I){this.name=I.name,this.available=I.available};Oo.prototype.toString=function(){return this.name},Oo.fromString=function(I){return I?new Oo({name:I,available:!1}):null},Oo.prototype.serialize=function(){return["image",this.name]};function eu(D,I,W,ie){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof W=="number"&&W>=0&&W<=255)){var pe=typeof ie=="number"?[D,I,W,ie]:[D,I,W];return"Invalid rgba value ["+pe.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ie>"u"||typeof ie=="number"&&ie>=0&&ie<=1?null:"Invalid rgba value ["+[D,I,W,ie].join(", ")+"]: 'a' must be between 0 and 1."}function wf(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof ai)return!0;if(D instanceof Nu)return!0;if(D instanceof so)return!0;if(D instanceof Oo)return!0;if(Array.isArray(D)){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(!wf(ie))return!1}return!0}else if(typeof D=="object"){for(var pe in D)if(!wf(D[pe]))return!1;return!0}else return!1}function Wi(D){if(D===null)return Gr;if(typeof D=="string")return Tn;if(typeof D=="boolean")return On;if(typeof D=="number")return tn;if(D instanceof ai)return Mn;if(D instanceof Nu)return la;if(D instanceof so)return ma;if(D instanceof Oo)return Da;if(Array.isArray(D)){for(var I=D.length,W,ie=0,pe=D;ie<pe.length;ie+=1){var Se=pe[ie],Re=Wi(Se);if(!W)W=Re;else{if(W===Re)continue;W=Fn;break}}return bi(W||Fn,I)}else return Un}function tu(D){var I=typeof D;return D===null?"":I==="string"||I==="number"||I==="boolean"?String(D):D instanceof ai||D instanceof so||D instanceof Oo?D.toString():JSON.stringify(D)}var Zi=function(I,W){this.type=I,this.value=W};Zi.parse=function(I,W){if(I.length!==2)return W.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!wf(I[1]))return W.error("invalid value");var ie=I[1],pe=Wi(ie),Se=W.expectedType;return pe.kind==="array"&&pe.N===0&&Se&&Se.kind==="array"&&(typeof Se.N!="number"||Se.N===0)&&(pe=Se),new Zi(pe,ie)},Zi.prototype.evaluate=function(){return this.value},Zi.prototype.eachChild=function(){},Zi.prototype.outputDefined=function(){return!0},Zi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ai?["rgba"].concat(this.value.toArray()):this.value instanceof so?this.value.serialize():this.value};var eo=function(I){this.name="ExpressionEvaluationError",this.message=I};eo.prototype.toJSON=function(){return this.message};var ru={string:Tn,number:tn,boolean:On,object:Un},go=function(I,W){this.type=I,this.args=W};go.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ie=1,pe,Se=I[0];if(Se==="array"){var Re;if(I.length>2){var $e=I[1];if(typeof $e!="string"||!($e in ru)||$e==="object")return W.error('The item type argument of "array" must be one of string, number, boolean',1);Re=ru[$e],ie++}else Re=Fn;var dt;if(I.length>3){if(I[2]!==null&&(typeof I[2]!="number"||I[2]<0||I[2]!==Math.floor(I[2])))return W.error('The length argument to "array" must be a positive integer literal',2);dt=I[2],ie++}pe=bi(Re,dt)}else pe=ru[Se];for(var St=[];ie<I.length;ie++){var Rt=W.parse(I[ie],ie,Fn);if(!Rt)return null;St.push(Rt)}return new go(pe,St)},go.prototype.evaluate=function(I){for(var W=0;W<this.args.length;W++){var ie=this.args[W].evaluate(I),pe=Wo(this.type,Wi(ie));if(pe){if(W===this.args.length-1)throw new eo("Expected value to be of type "+si(this.type)+", but found "+si(Wi(ie))+" instead.")}else return ie}return null},go.prototype.eachChild=function(I){this.args.forEach(I)},go.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},go.prototype.serialize=function(){var I=this.type,W=[I.kind];if(I.kind==="array"){var ie=I.itemType;if(ie.kind==="string"||ie.kind==="number"||ie.kind==="boolean"){W.push(ie.kind);var pe=I.N;(typeof pe=="number"||this.args.length>1)&&W.push(pe)}}return W.concat(this.args.map(function(Se){return Se.serialize()}))};var yo=function(I){this.type=ma,this.sections=I};yo.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ie=I[1];if(!Array.isArray(ie)&&typeof ie=="object")return W.error("First argument must be an image or text section.");for(var pe=[],Se=!1,Re=1;Re<=I.length-1;++Re){var $e=I[Re];if(Se&&typeof $e=="object"&&!Array.isArray($e)){Se=!1;var dt=null;if($e["font-scale"]&&(dt=W.parse($e["font-scale"],1,tn),!dt))return null;var St=null;if($e["text-font"]&&(St=W.parse($e["text-font"],1,bi(Tn)),!St))return null;var Rt=null;if($e["text-color"]&&(Rt=W.parse($e["text-color"],1,Mn),!Rt))return null;var jt=pe[pe.length-1];jt.scale=dt,jt.font=St,jt.textColor=Rt}else{var ir=W.parse(I[Re],1,Fn);if(!ir)return null;var tr=ir.type.kind;if(tr!=="string"&&tr!=="value"&&tr!=="null"&&tr!=="resolvedImage")return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,pe.push({content:ir,scale:null,font:null,textColor:null})}}return new yo(pe)},yo.prototype.evaluate=function(I){var W=function(ie){var pe=ie.content.evaluate(I);return Wi(pe)===Da?new ec("",pe,null,null,null):new ec(tu(pe),null,ie.scale?ie.scale.evaluate(I):null,ie.font?ie.font.evaluate(I).join(","):null,ie.textColor?ie.textColor.evaluate(I):null)};return new so(this.sections.map(W))},yo.prototype.eachChild=function(I){for(var W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];I(pe.content),pe.scale&&I(pe.scale),pe.font&&I(pe.font),pe.textColor&&I(pe.textColor)}},yo.prototype.outputDefined=function(){return!1},yo.prototype.serialize=function(){for(var I=["format"],W=0,ie=this.sections;W<ie.length;W+=1){var pe=ie[W];I.push(pe.content.serialize());var Se={};pe.scale&&(Se["font-scale"]=pe.scale.serialize()),pe.font&&(Se["text-font"]=pe.font.serialize()),pe.textColor&&(Se["text-color"]=pe.textColor.serialize()),I.push(Se)}return I};var ts=function(I){this.type=Da,this.input=I};ts.parse=function(I,W){if(I.length!==2)return W.error("Expected two arguments.");var ie=W.parse(I[1],1,Tn);return ie?new ts(ie):W.error("No image name provided.")},ts.prototype.evaluate=function(I){var W=this.input.evaluate(I),ie=Oo.fromString(W);return ie&&I.availableImages&&(ie.available=I.availableImages.indexOf(W)>-1),ie},ts.prototype.eachChild=function(I){I(this.input)},ts.prototype.outputDefined=function(){return!1},ts.prototype.serialize=function(){return["image",this.input.serialize()]};var Gc={"to-boolean":On,"to-color":Mn,"to-number":tn,"to-string":Tn},jo=function(I,W){this.type=I,this.args=W};jo.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ie=I[0];if((ie==="to-boolean"||ie==="to-string")&&I.length!==2)return W.error("Expected one argument.");for(var pe=Gc[ie],Se=[],Re=1;Re<I.length;Re++){var $e=W.parse(I[Re],Re,Fn);if(!$e)return null;Se.push($e)}return new jo(pe,Se)},jo.prototype.evaluate=function(I){if(this.type.kind==="boolean")return!!this.args[0].evaluate(I);if(this.type.kind==="color"){for(var W,ie,pe=0,Se=this.args;pe<Se.length;pe+=1){var Re=Se[pe];if(W=Re.evaluate(I),ie=null,W instanceof ai)return W;if(typeof W=="string"){var $e=I.parseColor(W);if($e)return $e}else if(Array.isArray(W)&&(W.length<3||W.length>4?ie="Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":ie=eu(W[0],W[1],W[2],W[3]),!ie))return new ai(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new eo(ie||"Could not parse color from value '"+(typeof W=="string"?W:String(JSON.stringify(W)))+"'")}else if(this.type.kind==="number"){for(var dt=null,St=0,Rt=this.args;St<Rt.length;St+=1){var jt=Rt[St];if(dt=jt.evaluate(I),dt===null)return 0;var ir=Number(dt);if(!isNaN(ir))return ir}throw new eo("Could not convert "+JSON.stringify(dt)+" to number.")}else return this.type.kind==="formatted"?so.fromString(tu(this.args[0].evaluate(I))):this.type.kind==="resolvedImage"?Oo.fromString(tu(this.args[0].evaluate(I))):tu(this.args[0].evaluate(I))},jo.prototype.eachChild=function(I){this.args.forEach(I)},jo.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},jo.prototype.serialize=function(){if(this.type.kind==="formatted")return new yo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ts(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(W){I.push(W.serialize())}),I};var $h=["Unknown","Point","LineString","Polygon"],ks=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ks.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ks.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?$h[this.feature.type]:this.feature.type:null},ks.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ks.prototype.canonicalID=function(){return this.canonical},ks.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ks.prototype.parseColor=function(I){var W=this._parseColorCache[I];return W||(W=this._parseColorCache[I]=ai.parse(I)),W};var lo=function(I,W,ie,pe){this.name=I,this.type=W,this._evaluate=ie,this.args=pe};lo.prototype.evaluate=function(I){return this._evaluate(I,this.args)},lo.prototype.eachChild=function(I){this.args.forEach(I)},lo.prototype.outputDefined=function(){return!1},lo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},lo.parse=function(I,W){var ie,pe=I[0],Se=lo.definitions[pe];if(!Se)return W.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Re=Array.isArray(Se)?Se[0]:Se.type,$e=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,dt=$e.filter(function(Ma){var Pa=Ma[0];return!Array.isArray(Pa)||Pa.length===I.length-1}),St=null,Rt=0,jt=dt;Rt<jt.length;Rt+=1){var ir=jt[Rt],tr=ir[0],xr=ir[1];St=new Os(W.registry,W.path,null,W.scope);for(var Br=[],ln=!1,nn=1;nn<I.length;nn++){var Cn=I[nn],yn=Array.isArray(tr)?tr[nn-1]:tr.type,En=St.parse(Cn,1+Br.length,yn);if(!En){ln=!0;break}Br.push(En)}if(!ln){if(Array.isArray(tr)&&tr.length!==Br.length){St.error("Expected "+tr.length+" arguments, but found "+Br.length+" instead.");continue}for(var _n=0;_n<Br.length;_n++){var Yn=Array.isArray(tr)?tr[_n]:tr.type,ia=Br[_n];St.concat(_n+1).checkSubtype(Yn,ia.type)}if(St.errors.length===0)return new lo(pe,Re,xr,Br)}}if(dt.length===1)(ie=W.errors).push.apply(ie,St.errors);else{for(var ta=dt.length?dt:$e,Sa=ta.map(function(Ma){var Pa=Ma[0];return tc(Pa)}).join(" | "),ya=[],Aa=1;Aa<I.length;Aa++){var Ga=W.parse(I[Aa],1+ya.length);if(!Ga)return null;ya.push(si(Ga.type))}W.error("Expected arguments of type "+Sa+", but found ("+ya.join(", ")+") instead.")}return null},lo.register=function(I,W){lo.definitions=W;for(var ie in W)I[ie]=lo};function tc(D){return Array.isArray(D)?"("+D.map(si).join(", ")+")":"("+si(D.type)+"...)"}var ul=function(I,W,ie){this.type=la,this.locale=ie,this.caseSensitive=I,this.diacriticSensitive=W};ul.parse=function(I,W){if(I.length!==2)return W.error("Expected one argument.");var ie=I[1];if(typeof ie!="object"||Array.isArray(ie))return W.error("Collator options argument must be an object.");var pe=W.parse(ie["case-sensitive"]===void 0?!1:ie["case-sensitive"],1,On);if(!pe)return null;var Se=W.parse(ie["diacritic-sensitive"]===void 0?!1:ie["diacritic-sensitive"],1,On);if(!Se)return null;var Re=null;return ie.locale&&(Re=W.parse(ie.locale,1,Tn),!Re)?null:new ul(pe,Se,Re)},ul.prototype.evaluate=function(I){return new Nu(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},ul.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},ul.prototype.outputDefined=function(){return!1},ul.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var _s=8192;function rc(D,I){D[0]=Math.min(D[0],I[0]),D[1]=Math.min(D[1],I[1]),D[2]=Math.max(D[2],I[0]),D[3]=Math.max(D[3],I[1])}function Wc(D){return(180+D)/360}function Qh(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function Tf(D,I){return!(D[0]<=I[0]||D[2]>=I[2]||D[1]<=I[1]||D[3]>=I[3])}function qh(D,I){var W=Wc(D[0]),ie=Qh(D[1]),pe=Math.pow(2,I.z);return[Math.round(W*pe*_s),Math.round(ie*pe*_s)]}function ev(D,I,W){var ie=D[0]-I[0],pe=D[1]-I[1],Se=D[0]-W[0],Re=D[1]-W[1];return ie*Re-Se*pe===0&&ie*Se<=0&&pe*Re<=0}function tv(D,I,W){return I[1]>D[1]!=W[1]>D[1]&&D[0]<(W[0]-I[0])*(D[1]-I[1])/(W[1]-I[1])+I[0]}function nc(D,I){for(var W=!1,ie=0,pe=I.length;ie<pe;ie++)for(var Se=I[ie],Re=0,$e=Se.length;Re<$e-1;Re++){if(ev(D,Se[Re],Se[Re+1]))return!1;tv(D,Se[Re],Se[Re+1])&&(W=!W)}return W}function rv(D,I){for(var W=0;W<I.length;W++)if(nc(D,I[W]))return!0;return!1}function nv(D,I){return D[0]*I[1]-D[1]*I[0]}function jc(D,I,W,ie){var pe=D[0]-W[0],Se=D[1]-W[1],Re=I[0]-W[0],$e=I[1]-W[1],dt=ie[0]-W[0],St=ie[1]-W[1],Rt=pe*St-dt*Se,jt=Re*St-dt*$e;return Rt>0&&jt<0||Rt<0&&jt>0}function Yc(D,I,W,ie){var pe=[I[0]-D[0],I[1]-D[1]],Se=[ie[0]-W[0],ie[1]-W[1]];return nv(Se,pe)===0?!1:!!(jc(D,I,W,ie)&&jc(W,ie,D,I))}function Rl(D,I,W){for(var ie=0,pe=W;ie<pe.length;ie+=1)for(var Se=pe[ie],Re=0;Re<Se.length-1;++Re)if(Yc(D,I,Se[Re],Se[Re+1]))return!0;return!1}function nu(D,I){for(var W=0;W<D.length;++W)if(!nc(D[W],I))return!1;for(var ie=0;ie<D.length-1;++ie)if(Rl(D[ie],D[ie+1],I))return!1;return!0}function Bu(D,I){for(var W=0;W<I.length;W++)if(nu(D,I[W]))return!0;return!1}function Uu(D,I,W){for(var ie=[],pe=0;pe<D.length;pe++){for(var Se=[],Re=0;Re<D[pe].length;Re++){var $e=qh(D[pe][Re],W);rc(I,$e),Se.push($e)}ie.push(Se)}return ie}function Xc(D,I,W){for(var ie=[],pe=0;pe<D.length;pe++){var Se=Uu(D[pe],I,W);ie.push(Se)}return ie}function Zs(D,I,W,ie){if(D[0]<W[0]||D[0]>W[2]){var pe=ie*.5,Se=D[0]-W[0]>pe?-ie:W[0]-D[0]>pe?ie:0;Se===0&&(Se=D[0]-W[2]>pe?-ie:W[2]-D[0]>pe?ie:0),D[0]+=Se}rc(I,D)}function av(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function Af(D,I,W,ie){for(var pe=Math.pow(2,ie.z)*_s,Se=[ie.x*_s,ie.y*_s],Re=[],$e=0,dt=D;$e<dt.length;$e+=1)for(var St=dt[$e],Rt=0,jt=St;Rt<jt.length;Rt+=1){var ir=jt[Rt],tr=[ir.x+Se[0],ir.y+Se[1]];Zs(tr,I,W,pe),Re.push(tr)}return Re}function Zc(D,I,W,ie){for(var pe=Math.pow(2,ie.z)*_s,Se=[ie.x*_s,ie.y*_s],Re=[],$e=0,dt=D;$e<dt.length;$e+=1){for(var St=dt[$e],Rt=[],jt=0,ir=St;jt<ir.length;jt+=1){var tr=ir[jt],xr=[tr.x+Se[0],tr.y+Se[1]];rc(I,xr),Rt.push(xr)}Re.push(Rt)}if(I[2]-I[0]<=pe/2){av(I);for(var Br=0,ln=Re;Br<ln.length;Br+=1)for(var nn=ln[Br],Cn=0,yn=nn;Cn<yn.length;Cn+=1){var En=yn[Cn];Zs(En,I,W,pe)}}return Re}function Kc(D,I){var W=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=D.canonicalID();if(I.type==="Polygon"){var Se=Uu(I.coordinates,ie,pe),Re=Af(D.geometry(),W,ie,pe);if(!Tf(W,ie))return!1;for(var $e=0,dt=Re;$e<dt.length;$e+=1){var St=dt[$e];if(!nc(St,Se))return!1}}if(I.type==="MultiPolygon"){var Rt=Xc(I.coordinates,ie,pe),jt=Af(D.geometry(),W,ie,pe);if(!Tf(W,ie))return!1;for(var ir=0,tr=jt;ir<tr.length;ir+=1){var xr=tr[ir];if(!rv(xr,Rt))return!1}}return!0}function Sf(D,I){var W=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=D.canonicalID();if(I.type==="Polygon"){var Se=Uu(I.coordinates,ie,pe),Re=Zc(D.geometry(),W,ie,pe);if(!Tf(W,ie))return!1;for(var $e=0,dt=Re;$e<dt.length;$e+=1){var St=dt[$e];if(!nu(St,Se))return!1}}if(I.type==="MultiPolygon"){var Rt=Xc(I.coordinates,ie,pe),jt=Zc(D.geometry(),W,ie,pe);if(!Tf(W,ie))return!1;for(var ir=0,tr=jt;ir<tr.length;ir+=1){var xr=tr[ir];if(!Bu(xr,Rt))return!1}}return!0}var ps=function(I,W){this.type=On,this.geojson=I,this.geometries=W};ps.parse=function(I,W){if(I.length!==2)return W.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(wf(I[1])){var ie=I[1];if(ie.type==="FeatureCollection")for(var pe=0;pe<ie.features.length;++pe){var Se=ie.features[pe].geometry.type;if(Se==="Polygon"||Se==="MultiPolygon")return new ps(ie,ie.features[pe].geometry)}else if(ie.type==="Feature"){var Re=ie.geometry.type;if(Re==="Polygon"||Re==="MultiPolygon")return new ps(ie,ie.geometry)}else if(ie.type==="Polygon"||ie.type==="MultiPolygon")return new ps(ie,ie)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},ps.prototype.evaluate=function(I){if(I.geometry()!=null&&I.canonicalID()!=null){if(I.geometryType()==="Point")return Kc(I,this.geometries);if(I.geometryType()==="LineString")return Sf(I,this.geometries)}return!1},ps.prototype.eachChild=function(){},ps.prototype.outputDefined=function(){return!0},ps.prototype.serialize=function(){return["within",this.geojson]};function au(D){if(D instanceof lo){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof ps)return!1;var I=!0;return D.eachChild(function(W){I&&!au(W)&&(I=!1)}),I}function Dl(D){if(D instanceof lo&&D.name==="feature-state")return!1;var I=!0;return D.eachChild(function(W){I&&!Dl(W)&&(I=!1)}),I}function Vu(D,I){if(D instanceof lo&&I.indexOf(D.name)>=0)return!1;var W=!0;return D.eachChild(function(ie){W&&!Vu(ie,I)&&(W=!1)}),W}var fl=function(I,W){this.type=W.type,this.name=I,this.boundExpression=W};fl.parse=function(I,W){if(I.length!==2||typeof I[1]!="string")return W.error("'var' expression requires exactly one string literal argument.");var ie=I[1];return W.scope.has(ie)?new fl(ie,W.scope.get(ie)):W.error('Unknown variable "'+ie+'". Make sure "'+ie+'" has been bound in an enclosing "let" expression before using it.',1)},fl.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},fl.prototype.eachChild=function(){},fl.prototype.outputDefined=function(){return!1},fl.prototype.serialize=function(){return["var",this.name]};var Os=function(I,W,ie,pe,Se){W===void 0&&(W=[]),pe===void 0&&(pe=new Kr),Se===void 0&&(Se=[]),this.registry=I,this.path=W,this.key=W.map(function(Re){return"["+Re+"]"}).join(""),this.scope=pe,this.errors=Se,this.expectedType=ie};Os.prototype.parse=function(I,W,ie,pe,Se){return Se===void 0&&(Se={}),W?this.concat(W,ie,pe)._parse(I,Se):this._parse(I,Se)},Os.prototype._parse=function(I,W){(I===null||typeof I=="string"||typeof I=="boolean"||typeof I=="number")&&(I=["literal",I]);function ie(Rt,jt,ir){return ir==="assert"?new go(jt,[Rt]):ir==="coerce"?new jo(jt,[Rt]):Rt}if(Array.isArray(I)){if(I.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var pe=I[0];if(typeof pe!="string")return this.error("Expression name must be a string, but found "+typeof pe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[pe];if(Se){var Re=Se.parse(I,this);if(!Re)return null;if(this.expectedType){var $e=this.expectedType,dt=Re.type;if(($e.kind==="string"||$e.kind==="number"||$e.kind==="boolean"||$e.kind==="object"||$e.kind==="array")&&dt.kind==="value")Re=ie(Re,$e,W.typeAnnotation||"assert");else if(($e.kind==="color"||$e.kind==="formatted"||$e.kind==="resolvedImage")&&(dt.kind==="value"||dt.kind==="string"))Re=ie(Re,$e,W.typeAnnotation||"coerce");else if(this.checkSubtype($e,dt))return null}if(!(Re instanceof Zi)&&Re.type.kind!=="resolvedImage"&&ac(Re)){var St=new ks;try{Re=new Zi(Re.type,Re.evaluate(St))}catch(Rt){return this.error(Rt.message),null}}return Re}return this.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof I>"u"?this.error("'undefined' value invalid. Use null instead."):typeof I=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof I+" instead.")},Os.prototype.concat=function(I,W,ie){var pe=typeof I=="number"?this.path.concat(I):this.path,Se=ie?this.scope.concat(ie):this.scope;return new Os(this.registry,pe,W||null,Se,this.errors)},Os.prototype.error=function(I){for(var W=[],ie=arguments.length-1;ie-- >0;)W[ie]=arguments[ie+1];var pe=""+this.key+W.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new Cr(pe,I))},Os.prototype.checkSubtype=function(I,W){var ie=Wo(I,W);return ie&&this.error(ie),ie};function ac(D){if(D instanceof fl)return ac(D.boundExpression);if(D instanceof lo&&D.name==="error")return!1;if(D instanceof ul)return!1;if(D instanceof ps)return!1;var I=D instanceof jo||D instanceof go,W=!0;return D.eachChild(function(ie){I?W=W&&ac(ie):W=W&&ie instanceof Zi}),W?au(D)&&Vu(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function iu(D,I){for(var W=D.length-1,ie=0,pe=W,Se=0,Re,$e;ie<=pe;)if(Se=Math.floor((ie+pe)/2),Re=D[Se],$e=D[Se+1],Re<=I){if(Se===W||I<$e)return Se;ie=Se+1}else if(Re>I)pe=Se-1;else throw new eo("Input is not a number.");return 0}var gs=function(I,W,ie){this.type=I,this.input=W,this.labels=[],this.outputs=[];for(var pe=0,Se=ie;pe<Se.length;pe+=1){var Re=Se[pe],$e=Re[0],dt=Re[1];this.labels.push($e),this.outputs.push(dt)}};gs.parse=function(I,W){if(I.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return W.error("Expected an even number of arguments.");var ie=W.parse(I[1],1,tn);if(!ie)return null;var pe=[],Se=null;W.expectedType&&W.expectedType.kind!=="value"&&(Se=W.expectedType);for(var Re=1;Re<I.length;Re+=2){var $e=Re===1?-1/0:I[Re],dt=I[Re+1],St=Re,Rt=Re+1;if(typeof $e!="number")return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',St);if(pe.length&&pe[pe.length-1][0]>=$e)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',St);var jt=W.parse(dt,Rt,Se);if(!jt)return null;Se=Se||jt.type,pe.push([$e,jt])}return new gs(Se,ie,pe)},gs.prototype.evaluate=function(I){var W=this.labels,ie=this.outputs;if(W.length===1)return ie[0].evaluate(I);var pe=this.input.evaluate(I);if(pe<=W[0])return ie[0].evaluate(I);var Se=W.length;if(pe>=W[Se-1])return ie[Se-1].evaluate(I);var Re=iu(W,pe);return ie[Re].evaluate(I)},gs.prototype.eachChild=function(I){I(this.input);for(var W=0,ie=this.outputs;W<ie.length;W+=1){var pe=ie[W];I(pe)}},gs.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},gs.prototype.serialize=function(){for(var I=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&I.push(this.labels[W]),I.push(this.outputs[W].serialize());return I};function Fi(D,I,W){return D*(1-W)+I*W}function ic(D,I,W){return new ai(Fi(D.r,I.r,W),Fi(D.g,I.g,W),Fi(D.b,I.b,W),Fi(D.a,I.a,W))}function iv(D,I,W){return D.map(function(ie,pe){return Fi(ie,I[pe],W)})}var Mf=Object.freeze({__proto__:null,number:Fi,color:ic,array:iv}),ou=.95047,su=1,Yo=1.08883,Ef=4/29,lu=6/29,Cf=3*lu*lu,ov=lu*lu*lu,Jc=Math.PI/180,oc=180/Math.PI;function sc(D){return D>ov?Math.pow(D,.3333333333333333):D/Cf+Ef}function lc(D){return D>lu?D*D*D:Cf*(D-Ef)}function uu(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function Lf(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function Hu(D){var I=Lf(D.r),W=Lf(D.g),ie=Lf(D.b),pe=sc((.4124564*I+.3575761*W+.1804375*ie)/ou),Se=sc((.2126729*I+.7151522*W+.072175*ie)/su),Re=sc((.0193339*I+.119192*W+.9503041*ie)/Yo);return{l:116*Se-16,a:500*(pe-Se),b:200*(Se-Re),alpha:D.a}}function Pf(D){var I=(D.l+16)/116,W=isNaN(D.a)?I:I+D.a/500,ie=isNaN(D.b)?I:I-D.b/200;return I=su*lc(I),W=ou*lc(W),ie=Yo*lc(ie),new ai(uu(3.2404542*W-1.5371385*I-.4985314*ie),uu(-.969266*W+1.8760108*I+.041556*ie),uu(.0556434*W-.2040259*I+1.0572252*ie),D.alpha)}function wi(D,I,W){return{l:Fi(D.l,I.l,W),a:Fi(D.a,I.a,W),b:Fi(D.b,I.b,W),alpha:Fi(D.alpha,I.alpha,W)}}function $c(D){var I=Hu(D),W=I.l,ie=I.a,pe=I.b,Se=Math.atan2(pe,ie)*oc;return{h:Se<0?Se+360:Se,c:Math.sqrt(ie*ie+pe*pe),l:W,alpha:D.a}}function ys(D){var I=D.h*Jc,W=D.c,ie=D.l;return Pf({l:ie,a:Math.cos(I)*W,b:Math.sin(I)*W,alpha:D.alpha})}function Qc(D,I,W){var ie=I-D;return D+W*(ie>180||ie<-180?ie-360*Math.round(ie/360):ie)}function uc(D,I,W){return{h:Qc(D.h,I.h,W),c:Fi(D.c,I.c,W),l:Fi(D.l,I.l,W),alpha:Fi(D.alpha,I.alpha,W)}}var Il={forward:Hu,reverse:Pf,interpolate:wi},cl={forward:$c,reverse:ys,interpolate:uc},Rf=Object.freeze({__proto__:null,lab:Il,hcl:cl}),ji=function(I,W,ie,pe,Se){this.type=I,this.operator=W,this.interpolation=ie,this.input=pe,this.labels=[],this.outputs=[];for(var Re=0,$e=Se;Re<$e.length;Re+=1){var dt=$e[Re],St=dt[0],Rt=dt[1];this.labels.push(St),this.outputs.push(Rt)}};ji.interpolationFactor=function(I,W,ie,pe){var Se=0;if(I.name==="exponential")Se=Gu(W,I.base,ie,pe);else if(I.name==="linear")Se=Gu(W,1,ie,pe);else if(I.name==="cubic-bezier"){var Re=I.controlPoints,$e=new v(Re[0],Re[1],Re[2],Re[3]);Se=$e.solve(Gu(W,1,ie,pe))}return Se},ji.parse=function(I,W){var ie=I[0],pe=I[1],Se=I[2],Re=I.slice(3);if(!Array.isArray(pe)||pe.length===0)return W.error("Expected an interpolation type expression.",1);if(pe[0]==="linear")pe={name:"linear"};else if(pe[0]==="exponential"){var $e=pe[1];if(typeof $e!="number")return W.error("Exponential interpolation requires a numeric base.",1,1);pe={name:"exponential",base:$e}}else if(pe[0]==="cubic-bezier"){var dt=pe.slice(1);if(dt.length!==4||dt.some(function(nn){return typeof nn!="number"||nn<0||nn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pe={name:"cubic-bezier",controlPoints:dt}}else return W.error("Unknown interpolation type "+String(pe[0]),1,0);if(I.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return W.error("Expected an even number of arguments.");if(Se=W.parse(Se,2,tn),!Se)return null;var St=[],Rt=null;ie==="interpolate-hcl"||ie==="interpolate-lab"?Rt=Mn:W.expectedType&&W.expectedType.kind!=="value"&&(Rt=W.expectedType);for(var jt=0;jt<Re.length;jt+=2){var ir=Re[jt],tr=Re[jt+1],xr=jt+3,Br=jt+4;if(typeof ir!="number")return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(St.length&&St[St.length-1][0]>=ir)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var ln=W.parse(tr,Br,Rt);if(!ln)return null;Rt=Rt||ln.type,St.push([ir,ln])}return Rt.kind!=="number"&&Rt.kind!=="color"&&!(Rt.kind==="array"&&Rt.itemType.kind==="number"&&typeof Rt.N=="number")?W.error("Type "+si(Rt)+" is not interpolatable."):new ji(Rt,ie,pe,Se,St)},ji.prototype.evaluate=function(I){var W=this.labels,ie=this.outputs;if(W.length===1)return ie[0].evaluate(I);var pe=this.input.evaluate(I);if(pe<=W[0])return ie[0].evaluate(I);var Se=W.length;if(pe>=W[Se-1])return ie[Se-1].evaluate(I);var Re=iu(W,pe),$e=W[Re],dt=W[Re+1],St=ji.interpolationFactor(this.interpolation,pe,$e,dt),Rt=ie[Re].evaluate(I),jt=ie[Re+1].evaluate(I);return this.operator==="interpolate"?Mf[this.type.kind.toLowerCase()](Rt,jt,St):this.operator==="interpolate-hcl"?cl.reverse(cl.interpolate(cl.forward(Rt),cl.forward(jt),St)):Il.reverse(Il.interpolate(Il.forward(Rt),Il.forward(jt),St))},ji.prototype.eachChild=function(I){I(this.input);for(var W=0,ie=this.outputs;W<ie.length;W+=1){var pe=ie[W];I(pe)}},ji.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},ji.prototype.serialize=function(){var I;this.interpolation.name==="linear"?I=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?I=["linear"]:I=["exponential",this.interpolation.base]:I=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,I,this.input.serialize()],ie=0;ie<this.labels.length;ie++)W.push(this.labels[ie],this.outputs[ie].serialize());return W};function Gu(D,I,W,ie){var pe=ie-W,Se=D-W;return pe===0?0:I===1?Se/pe:(Math.pow(I,Se)-1)/(Math.pow(I,pe)-1)}var ms=function(I,W){this.type=I,this.args=W};ms.parse=function(I,W){if(I.length<2)return W.error("Expectected at least one argument.");var ie=null,pe=W.expectedType;pe&&pe.kind!=="value"&&(ie=pe);for(var Se=[],Re=0,$e=I.slice(1);Re<$e.length;Re+=1){var dt=$e[Re],St=W.parse(dt,1+Se.length,ie,void 0,{typeAnnotation:"omit"});if(!St)return null;ie=ie||St.type,Se.push(St)}var Rt=pe&&Se.some(function(jt){return Wo(pe,jt.type)});return Rt?new ms(Fn,Se):new ms(ie,Se)},ms.prototype.evaluate=function(I){for(var W=null,ie=0,pe,Se=0,Re=this.args;Se<Re.length;Se+=1){var $e=Re[Se];if(ie++,W=$e.evaluate(I),W&&W instanceof Oo&&!W.available&&(pe||(pe=W.name),W=null,ie===this.args.length&&(W=pe)),W!==null)break}return W},ms.prototype.eachChild=function(I){this.args.forEach(I)},ms.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},ms.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(W){I.push(W.serialize())}),I};var Ks=function(I,W){this.type=W.type,this.bindings=[].concat(I),this.result=W};Ks.prototype.evaluate=function(I){return this.result.evaluate(I)},Ks.prototype.eachChild=function(I){for(var W=0,ie=this.bindings;W<ie.length;W+=1){var pe=ie[W];I(pe[1])}I(this.result)},Ks.parse=function(I,W){if(I.length<4)return W.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var ie=[],pe=1;pe<I.length-1;pe+=2){var Se=I[pe];if(typeof Se!="string")return W.error("Expected string, but found "+typeof Se+" instead.",pe);if(/[^a-zA-Z0-9_]/.test(Se))return W.error("Variable names must contain only alphanumeric characters or '_'.",pe);var Re=W.parse(I[pe+1],pe+1);if(!Re)return null;ie.push([Se,Re])}var $e=W.parse(I[I.length-1],I.length-1,W.expectedType,ie);return $e?new Ks(ie,$e):null},Ks.prototype.outputDefined=function(){return this.result.outputDefined()},Ks.prototype.serialize=function(){for(var I=["let"],W=0,ie=this.bindings;W<ie.length;W+=1){var pe=ie[W],Se=pe[0],Re=pe[1];I.push(Se,Re.serialize())}return I.push(this.result.serialize()),I};var kl=function(I,W,ie){this.type=I,this.index=W,this.input=ie};kl.parse=function(I,W){if(I.length!==3)return W.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1,tn),pe=W.parse(I[2],2,bi(W.expectedType||Fn));if(!ie||!pe)return null;var Se=pe.type;return new kl(Se.itemType,ie,pe)},kl.prototype.evaluate=function(I){var W=this.index.evaluate(I),ie=this.input.evaluate(I);if(W<0)throw new eo("Array index out of bounds: "+W+" < 0.");if(W>=ie.length)throw new eo("Array index out of bounds: "+W+" > "+(ie.length-1)+".");if(W!==Math.floor(W))throw new eo("Array index must be an integer, but found "+W+" instead.");return ie[W]},kl.prototype.eachChild=function(I){I(this.index),I(this.input)},kl.prototype.outputDefined=function(){return!1},kl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var hl=function(I,W){this.type=On,this.needle=I,this.haystack=W};hl.parse=function(I,W){if(I.length!==3)return W.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1,Fn),pe=W.parse(I[2],2,Fn);return!ie||!pe?null:po(ie.type,[On,Tn,tn,Gr,Fn])?new hl(ie,pe):W.error("Expected first argument to be of type boolean, string, number or null, but found "+si(ie.type)+" instead")},hl.prototype.evaluate=function(I){var W=this.needle.evaluate(I),ie=this.haystack.evaluate(I);if(!ie)return!1;if(!ql(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+si(Wi(W))+" instead.");if(!ql(ie,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+si(Wi(ie))+" instead.");return ie.indexOf(W)>=0},hl.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},hl.prototype.outputDefined=function(){return!0},hl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var xs=function(I,W,ie){this.type=tn,this.needle=I,this.haystack=W,this.fromIndex=ie};xs.parse=function(I,W){if(I.length<=2||I.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1,Fn),pe=W.parse(I[2],2,Fn);if(!ie||!pe)return null;if(!po(ie.type,[On,Tn,tn,Gr,Fn]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+si(ie.type)+" instead");if(I.length===4){var Se=W.parse(I[3],3,tn);return Se?new xs(ie,pe,Se):null}else return new xs(ie,pe)},xs.prototype.evaluate=function(I){var W=this.needle.evaluate(I),ie=this.haystack.evaluate(I);if(!ql(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+si(Wi(W))+" instead.");if(!ql(ie,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+si(Wi(ie))+" instead.");if(this.fromIndex){var pe=this.fromIndex.evaluate(I);return ie.indexOf(W,pe)}return ie.indexOf(W)},xs.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},xs.prototype.outputDefined=function(){return!1},xs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Js=function(I,W,ie,pe,Se,Re){this.inputType=I,this.type=W,this.input=ie,this.cases=pe,this.outputs=Se,this.otherwise=Re};Js.parse=function(I,W){if(I.length<5)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!==1)return W.error("Expected an even number of arguments.");var ie,pe;W.expectedType&&W.expectedType.kind!=="value"&&(pe=W.expectedType);for(var Se={},Re=[],$e=2;$e<I.length-1;$e+=2){var dt=I[$e],St=I[$e+1];Array.isArray(dt)||(dt=[dt]);var Rt=W.concat($e);if(dt.length===0)return Rt.error("Expected at least one branch label.");for(var jt=0,ir=dt;jt<ir.length;jt+=1){var tr=ir[jt];if(typeof tr!="number"&&typeof tr!="string")return Rt.error("Branch labels must be numbers or strings.");if(typeof tr=="number"&&Math.abs(tr)>Number.MAX_SAFE_INTEGER)return Rt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof tr=="number"&&Math.floor(tr)!==tr)return Rt.error("Numeric branch labels must be integer values.");if(!ie)ie=Wi(tr);else if(Rt.checkSubtype(ie,Wi(tr)))return null;if(typeof Se[String(tr)]<"u")return Rt.error("Branch labels must be unique.");Se[String(tr)]=Re.length}var xr=W.parse(St,$e,pe);if(!xr)return null;pe=pe||xr.type,Re.push(xr)}var Br=W.parse(I[1],1,Fn);if(!Br)return null;var ln=W.parse(I[I.length-1],I.length-1,pe);return!ln||Br.type.kind!=="value"&&W.concat(1).checkSubtype(ie,Br.type)?null:new Js(ie,pe,Br,Se,Re,ln)},Js.prototype.evaluate=function(I){var W=this.input.evaluate(I),ie=Wi(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise;return ie.evaluate(I)},Js.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},Js.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},Js.prototype.serialize=function(){for(var I=this,W=["match",this.input.serialize()],ie=Object.keys(this.cases).sort(),pe=[],Se={},Re=0,$e=ie;Re<$e.length;Re+=1){var dt=$e[Re],St=Se[this.cases[dt]];St===void 0?(Se[this.cases[dt]]=pe.length,pe.push([this.cases[dt],[dt]])):pe[St][1].push(dt)}for(var Rt=function(Br){return I.inputType.kind==="number"?Number(Br):Br},jt=0,ir=pe;jt<ir.length;jt+=1){var tr=ir[jt],St=tr[0],xr=tr[1];xr.length===1?W.push(Rt(xr[0])):W.push(xr.map(Rt)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var bs=function(I,W,ie){this.type=I,this.branches=W,this.otherwise=ie};bs.parse=function(I,W){if(I.length<4)return W.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!==0)return W.error("Expected an odd number of arguments.");var ie;W.expectedType&&W.expectedType.kind!=="value"&&(ie=W.expectedType);for(var pe=[],Se=1;Se<I.length-1;Se+=2){var Re=W.parse(I[Se],Se,On);if(!Re)return null;var $e=W.parse(I[Se+1],Se+1,ie);if(!$e)return null;pe.push([Re,$e]),ie=ie||$e.type}var dt=W.parse(I[I.length-1],I.length-1,ie);return dt?new bs(ie,pe,dt):null},bs.prototype.evaluate=function(I){for(var W=0,ie=this.branches;W<ie.length;W+=1){var pe=ie[W],Se=pe[0],Re=pe[1];if(Se.evaluate(I))return Re.evaluate(I)}return this.otherwise.evaluate(I)},bs.prototype.eachChild=function(I){for(var W=0,ie=this.branches;W<ie.length;W+=1){var pe=ie[W],Se=pe[0],Re=pe[1];I(Se),I(Re)}I(this.otherwise)},bs.prototype.outputDefined=function(){return this.branches.every(function(I){I[0];var W=I[1];return W.outputDefined()})&&this.otherwise.outputDefined()},bs.prototype.serialize=function(){var I=["case"];return this.eachChild(function(W){I.push(W.serialize())}),I};var os=function(I,W,ie,pe){this.type=I,this.input=W,this.beginIndex=ie,this.endIndex=pe};os.parse=function(I,W){if(I.length<=2||I.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1,Fn),pe=W.parse(I[2],2,tn);if(!ie||!pe)return null;if(!po(ie.type,[bi(Fn),Tn,Fn]))return W.error("Expected first argument to be of type array or string, but found "+si(ie.type)+" instead");if(I.length===4){var Se=W.parse(I[3],3,tn);return Se?new os(ie.type,ie,pe,Se):null}else return new os(ie.type,ie,pe)},os.prototype.evaluate=function(I){var W=this.input.evaluate(I),ie=this.beginIndex.evaluate(I);if(!ql(W,["string","array"]))throw new eo("Expected first argument to be of type array or string, but found "+si(Wi(W))+" instead.");if(this.endIndex){var pe=this.endIndex.evaluate(I);return W.slice(ie,pe)}return W.slice(ie)},os.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},os.prototype.outputDefined=function(){return!1},os.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Wu(D,I){return D==="=="||D==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function sv(D,I,W){return I===W}function lv(D,I,W){return I!==W}function uv(D,I,W){return I<W}function fv(D,I,W){return I>W}function fc(D,I,W){return I<=W}function qc(D,I,W){return I>=W}function fu(D,I,W,ie){return ie.compare(I,W)===0}function uo(D,I,W,ie){return!fu(D,I,W,ie)}function rs(D,I,W,ie){return ie.compare(I,W)<0}function cu(D,I,W,ie){return ie.compare(I,W)>0}function eh(D,I,W,ie){return ie.compare(I,W)<=0}function ju(D,I,W,ie){return ie.compare(I,W)>=0}function $s(D,I,W){var ie=D!=="=="&&D!=="!=";return function(){function pe(Se,Re,$e){this.type=On,this.lhs=Se,this.rhs=Re,this.collator=$e,this.hasUntypedArgument=Se.type.kind==="value"||Re.type.kind==="value"}return pe.parse=function(Re,$e){if(Re.length!==3&&Re.length!==4)return $e.error("Expected two or three arguments.");var dt=Re[0],St=$e.parse(Re[1],1,Fn);if(!St)return null;if(!Wu(dt,St.type))return $e.concat(1).error('"'+dt+`" comparisons are not supported for type '`+si(St.type)+"'.");var Rt=$e.parse(Re[2],2,Fn);if(!Rt)return null;if(!Wu(dt,Rt.type))return $e.concat(2).error('"'+dt+`" comparisons are not supported for type '`+si(Rt.type)+"'.");if(St.type.kind!==Rt.type.kind&&St.type.kind!=="value"&&Rt.type.kind!=="value")return $e.error("Cannot compare types '"+si(St.type)+"' and '"+si(Rt.type)+"'.");ie&&(St.type.kind==="value"&&Rt.type.kind!=="value"?St=new go(Rt.type,[St]):St.type.kind!=="value"&&Rt.type.kind==="value"&&(Rt=new go(St.type,[Rt])));var jt=null;if(Re.length===4){if(St.type.kind!=="string"&&Rt.type.kind!=="string"&&St.type.kind!=="value"&&Rt.type.kind!=="value")return $e.error("Cannot use collator to compare non-string types.");if(jt=$e.parse(Re[3],3,la),!jt)return null}return new pe(St,Rt,jt)},pe.prototype.evaluate=function(Re){var $e=this.lhs.evaluate(Re),dt=this.rhs.evaluate(Re);if(ie&&this.hasUntypedArgument){var St=Wi($e),Rt=Wi(dt);if(St.kind!==Rt.kind||!(St.kind==="string"||St.kind==="number"))throw new eo('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+St.kind+", "+Rt.kind+") instead.")}if(this.collator&&!ie&&this.hasUntypedArgument){var jt=Wi($e),ir=Wi(dt);if(jt.kind!=="string"||ir.kind!=="string")return I(Re,$e,dt)}return this.collator?W(Re,$e,dt,this.collator.evaluate(Re)):I(Re,$e,dt)},pe.prototype.eachChild=function(Re){Re(this.lhs),Re(this.rhs),this.collator&&Re(this.collator)},pe.prototype.outputDefined=function(){return!0},pe.prototype.serialize=function(){var Re=[D];return this.eachChild(function($e){Re.push($e.serialize())}),Re},pe}()}var cv=$s("==",sv,fu),th=$s("!=",lv,uo),rh=$s("<",uv,rs),cc=$s(">",fv,cu),nh=$s("<=",fc,eh),zo=$s(">=",qc,ju),ws=function(I,W,ie,pe,Se){this.type=Tn,this.number=I,this.locale=W,this.currency=ie,this.minFractionDigits=pe,this.maxFractionDigits=Se};ws.parse=function(I,W){if(I.length!==3)return W.error("Expected two arguments.");var ie=W.parse(I[1],1,tn);if(!ie)return null;var pe=I[2];if(typeof pe!="object"||Array.isArray(pe))return W.error("NumberFormat options argument must be an object.");var Se=null;if(pe.locale&&(Se=W.parse(pe.locale,1,Tn),!Se))return null;var Re=null;if(pe.currency&&(Re=W.parse(pe.currency,1,Tn),!Re))return null;var $e=null;if(pe["min-fraction-digits"]&&($e=W.parse(pe["min-fraction-digits"],1,tn),!$e))return null;var dt=null;return pe["max-fraction-digits"]&&(dt=W.parse(pe["max-fraction-digits"],1,tn),!dt)?null:new ws(ie,Se,Re,$e,dt)},ws.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},ws.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},ws.prototype.outputDefined=function(){return!1},ws.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var vl=function(I){this.type=tn,this.input=I};vl.parse=function(I,W){if(I.length!==2)return W.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var ie=W.parse(I[1],1);return ie?ie.type.kind!=="array"&&ie.type.kind!=="string"&&ie.type.kind!=="value"?W.error("Expected argument of type string or array, but found "+si(ie.type)+" instead."):new vl(ie):null},vl.prototype.evaluate=function(I){var W=this.input.evaluate(I);if(typeof W=="string")return W.length;if(Array.isArray(W))return W.length;throw new eo("Expected value to be of type string or array, but found "+si(Wi(W))+" instead.")},vl.prototype.eachChild=function(I){I(this.input)},vl.prototype.outputDefined=function(){return!1},vl.prototype.serialize=function(){var I=["length"];return this.eachChild(function(W){I.push(W.serialize())}),I};var hu={"==":cv,"!=":th,">":cc,"<":rh,">=":zo,"<=":nh,array:go,at:kl,boolean:go,case:bs,coalesce:ms,collator:ul,format:yo,image:ts,in:hl,"index-of":xs,interpolate:ji,"interpolate-hcl":ji,"interpolate-lab":ji,length:vl,let:Ks,literal:Zi,match:Js,number:go,"number-format":ws,object:go,slice:os,step:gs,string:go,"to-boolean":jo,"to-color":jo,"to-number":jo,"to-string":jo,var:fl,within:ps};function Df(D,I){var W=I[0],ie=I[1],pe=I[2],Se=I[3];W=W.evaluate(D),ie=ie.evaluate(D),pe=pe.evaluate(D);var Re=Se?Se.evaluate(D):1,$e=eu(W,ie,pe,Re);if($e)throw new eo($e);return new ai(W/255*Re,ie/255*Re,pe/255*Re,Re)}function _l(D,I){return D in I}function Ol(D,I){var W=I[D];return typeof W>"u"?null:W}function ah(D,I,W,ie){for(;W<=ie;){var pe=W+ie>>1;if(I[pe]===D)return!0;I[pe]>D?ie=pe-1:W=pe+1}return!1}function Qs(D){return{type:D}}lo.register(hu,{error:[va,[Tn],function(D,I){var W=I[0];throw new eo(W.evaluate(D))}],typeof:[Tn,[Fn],function(D,I){var W=I[0];return si(Wi(W.evaluate(D)))}],"to-rgba":[bi(tn,4),[Mn],function(D,I){var W=I[0];return W.evaluate(D).toArray()}],rgb:[Mn,[tn,tn,tn],Df],rgba:[Mn,[tn,tn,tn,tn],Df],has:{type:On,overloads:[[[Tn],function(D,I){var W=I[0];return _l(W.evaluate(D),D.properties())}],[[Tn,Un],function(D,I){var W=I[0],ie=I[1];return _l(W.evaluate(D),ie.evaluate(D))}]]},get:{type:Fn,overloads:[[[Tn],function(D,I){var W=I[0];return Ol(W.evaluate(D),D.properties())}],[[Tn,Un],function(D,I){var W=I[0],ie=I[1];return Ol(W.evaluate(D),ie.evaluate(D))}]]},"feature-state":[Fn,[Tn],function(D,I){var W=I[0];return Ol(W.evaluate(D),D.featureState||{})}],properties:[Un,[],function(D){return D.properties()}],"geometry-type":[Tn,[],function(D){return D.geometryType()}],id:[Fn,[],function(D){return D.id()}],zoom:[tn,[],function(D){return D.globals.zoom}],"heatmap-density":[tn,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[tn,[],function(D){return D.globals.lineProgress||0}],accumulated:[Fn,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[tn,Qs(tn),function(D,I){for(var W=0,ie=0,pe=I;ie<pe.length;ie+=1){var Se=pe[ie];W+=Se.evaluate(D)}return W}],"*":[tn,Qs(tn),function(D,I){for(var W=1,ie=0,pe=I;ie<pe.length;ie+=1){var Se=pe[ie];W*=Se.evaluate(D)}return W}],"-":{type:tn,overloads:[[[tn,tn],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)-ie.evaluate(D)}],[[tn],function(D,I){var W=I[0];return-W.evaluate(D)}]]},"/":[tn,[tn,tn],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)/ie.evaluate(D)}],"%":[tn,[tn,tn],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)%ie.evaluate(D)}],ln2:[tn,[],function(){return Math.LN2}],pi:[tn,[],function(){return Math.PI}],e:[tn,[],function(){return Math.E}],"^":[tn,[tn,tn],function(D,I){var W=I[0],ie=I[1];return Math.pow(W.evaluate(D),ie.evaluate(D))}],sqrt:[tn,[tn],function(D,I){var W=I[0];return Math.sqrt(W.evaluate(D))}],log10:[tn,[tn],function(D,I){var W=I[0];return Math.log(W.evaluate(D))/Math.LN10}],ln:[tn,[tn],function(D,I){var W=I[0];return Math.log(W.evaluate(D))}],log2:[tn,[tn],function(D,I){var W=I[0];return Math.log(W.evaluate(D))/Math.LN2}],sin:[tn,[tn],function(D,I){var W=I[0];return Math.sin(W.evaluate(D))}],cos:[tn,[tn],function(D,I){var W=I[0];return Math.cos(W.evaluate(D))}],tan:[tn,[tn],function(D,I){var W=I[0];return Math.tan(W.evaluate(D))}],asin:[tn,[tn],function(D,I){var W=I[0];return Math.asin(W.evaluate(D))}],acos:[tn,[tn],function(D,I){var W=I[0];return Math.acos(W.evaluate(D))}],atan:[tn,[tn],function(D,I){var W=I[0];return Math.atan(W.evaluate(D))}],min:[tn,Qs(tn),function(D,I){return Math.min.apply(Math,I.map(function(W){return W.evaluate(D)}))}],max:[tn,Qs(tn),function(D,I){return Math.max.apply(Math,I.map(function(W){return W.evaluate(D)}))}],abs:[tn,[tn],function(D,I){var W=I[0];return Math.abs(W.evaluate(D))}],round:[tn,[tn],function(D,I){var W=I[0],ie=W.evaluate(D);return ie<0?-Math.round(-ie):Math.round(ie)}],floor:[tn,[tn],function(D,I){var W=I[0];return Math.floor(W.evaluate(D))}],ceil:[tn,[tn],function(D,I){var W=I[0];return Math.ceil(W.evaluate(D))}],"filter-==":[On,[Tn,Fn],function(D,I){var W=I[0],ie=I[1];return D.properties()[W.value]===ie.value}],"filter-id-==":[On,[Fn],function(D,I){var W=I[0];return D.id()===W.value}],"filter-type-==":[On,[Tn],function(D,I){var W=I[0];return D.geometryType()===W.value}],"filter-<":[On,[Tn,Fn],function(D,I){var W=I[0],ie=I[1],pe=D.properties()[W.value],Se=ie.value;return typeof pe==typeof Se&&pe<Se}],"filter-id-<":[On,[Fn],function(D,I){var W=I[0],ie=D.id(),pe=W.value;return typeof ie==typeof pe&&ie<pe}],"filter->":[On,[Tn,Fn],function(D,I){var W=I[0],ie=I[1],pe=D.properties()[W.value],Se=ie.value;return typeof pe==typeof Se&&pe>Se}],"filter-id->":[On,[Fn],function(D,I){var W=I[0],ie=D.id(),pe=W.value;return typeof ie==typeof pe&&ie>pe}],"filter-<=":[On,[Tn,Fn],function(D,I){var W=I[0],ie=I[1],pe=D.properties()[W.value],Se=ie.value;return typeof pe==typeof Se&&pe<=Se}],"filter-id-<=":[On,[Fn],function(D,I){var W=I[0],ie=D.id(),pe=W.value;return typeof ie==typeof pe&&ie<=pe}],"filter->=":[On,[Tn,Fn],function(D,I){var W=I[0],ie=I[1],pe=D.properties()[W.value],Se=ie.value;return typeof pe==typeof Se&&pe>=Se}],"filter-id->=":[On,[Fn],function(D,I){var W=I[0],ie=D.id(),pe=W.value;return typeof ie==typeof pe&&ie>=pe}],"filter-has":[On,[Fn],function(D,I){var W=I[0];return W.value in D.properties()}],"filter-has-id":[On,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[On,[bi(Tn)],function(D,I){var W=I[0];return W.value.indexOf(D.geometryType())>=0}],"filter-id-in":[On,[bi(Fn)],function(D,I){var W=I[0];return W.value.indexOf(D.id())>=0}],"filter-in-small":[On,[Tn,bi(Fn)],function(D,I){var W=I[0],ie=I[1];return ie.value.indexOf(D.properties()[W.value])>=0}],"filter-in-large":[On,[Tn,bi(Fn)],function(D,I){var W=I[0],ie=I[1];return ah(D.properties()[W.value],ie.value,0,ie.value.length-1)}],all:{type:On,overloads:[[[On,On],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)&&ie.evaluate(D)}],[Qs(On),function(D,I){for(var W=0,ie=I;W<ie.length;W+=1){var pe=ie[W];if(!pe.evaluate(D))return!1}return!0}]]},any:{type:On,overloads:[[[On,On],function(D,I){var W=I[0],ie=I[1];return W.evaluate(D)||ie.evaluate(D)}],[Qs(On),function(D,I){for(var W=0,ie=I;W<ie.length;W+=1){var pe=ie[W];if(pe.evaluate(D))return!0}return!1}]]},"!":[On,[On],function(D,I){var W=I[0];return!W.evaluate(D)}],"is-supported-script":[On,[Tn],function(D,I){var W=I[0],ie=D.globals&&D.globals.isSupportedScript;return ie?ie(W.evaluate(D)):!0}],upcase:[Tn,[Tn],function(D,I){var W=I[0];return W.evaluate(D).toUpperCase()}],downcase:[Tn,[Tn],function(D,I){var W=I[0];return W.evaluate(D).toLowerCase()}],concat:[Tn,Qs(Fn),function(D,I){return I.map(function(W){return tu(W.evaluate(D))}).join("")}],"resolved-locale":[Tn,[la],function(D,I){var W=I[0];return W.evaluate(D).resolvedLocale()}]});function vu(D){return{result:"success",value:D}}function dl(D){return{result:"error",value:D}}function qs(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function Yu(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function du(D){return!!D.expression&&D.expression.interpolated}function gi(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function pu(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function If(D){return D}function ih(D,I){var W=I.type==="color",ie=D.stops&&typeof D.stops[0][0]=="object",pe=ie||D.property!==void 0,Se=ie||!pe,Re=D.type||(du(I)?"exponential":"interval");if(W&&(D=Dn({},D),D.stops&&(D.stops=D.stops.map(function(ta){return[ta[0],ai.parse(ta[1])]})),D.default?D.default=ai.parse(D.default):D.default=ai.parse(I.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!Rf[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var $e,dt,St;if(Re==="exponential")$e=hc;else if(Re==="interval")$e=kf;else if(Re==="categorical"){$e=Xu,dt=Object.create(null);for(var Rt=0,jt=D.stops;Rt<jt.length;Rt+=1){var ir=jt[Rt];dt[ir[0]]=ir[1]}St=typeof D.stops[0][0]}else if(Re==="identity")$e=Zu;else throw new Error('Unknown function type "'+Re+'"');if(ie){for(var tr={},xr=[],Br=0;Br<D.stops.length;Br++){var ln=D.stops[Br],nn=ln[0].zoom;tr[nn]===void 0&&(tr[nn]={zoom:nn,type:D.type,property:D.property,default:D.default,stops:[]},xr.push(nn)),tr[nn].stops.push([ln[0].value,ln[1]])}for(var Cn=[],yn=0,En=xr;yn<En.length;yn+=1){var _n=En[yn];Cn.push([tr[_n].zoom,ih(tr[_n],I)])}var Yn={name:"linear"};return{kind:"composite",interpolationType:Yn,interpolationFactor:ji.interpolationFactor.bind(void 0,Yn),zoomStops:Cn.map(function(ta){return ta[0]}),evaluate:function(Sa,ya){var Aa=Sa.zoom;return hc({stops:Cn,base:D.base},I,Aa).evaluate(Aa,ya)}}}else if(Se){var ia=Re==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:ia,interpolationFactor:ji.interpolationFactor.bind(void 0,ia),zoomStops:D.stops.map(function(ta){return ta[0]}),evaluate:function(ta){var Sa=ta.zoom;return $e(D,I,Sa,dt,St)}}}else return{kind:"source",evaluate:function(Sa,ya){var Aa=ya&&ya.properties?ya.properties[D.property]:void 0;return Aa===void 0?gu(D.default,I.default):$e(D,I,Aa,dt,St)}}}function gu(D,I,W){if(D!==void 0)return D;if(I!==void 0)return I;if(W!==void 0)return W}function Xu(D,I,W,ie,pe){var Se=typeof W===pe?ie[W]:void 0;return gu(Se,D.default,I.default)}function kf(D,I,W){if(gi(W)!=="number")return gu(D.default,I.default);var ie=D.stops.length;if(ie===1||W<=D.stops[0][0])return D.stops[0][1];if(W>=D.stops[ie-1][0])return D.stops[ie-1][1];var pe=iu(D.stops.map(function(Se){return Se[0]}),W);return D.stops[pe][1]}function hc(D,I,W){var ie=D.base!==void 0?D.base:1;if(gi(W)!=="number")return gu(D.default,I.default);var pe=D.stops.length;if(pe===1||W<=D.stops[0][0])return D.stops[0][1];if(W>=D.stops[pe-1][0])return D.stops[pe-1][1];var Se=iu(D.stops.map(function(jt){return jt[0]}),W),Re=Ku(W,ie,D.stops[Se][0],D.stops[Se+1][0]),$e=D.stops[Se][1],dt=D.stops[Se+1][1],St=Mf[I.type]||If;if(D.colorSpace&&D.colorSpace!=="rgb"){var Rt=Rf[D.colorSpace];St=function(jt,ir){return Rt.reverse(Rt.interpolate(Rt.forward(jt),Rt.forward(ir),Re))}}return typeof $e.evaluate=="function"?{evaluate:function(){for(var ir=[],tr=arguments.length;tr--;)ir[tr]=arguments[tr];var xr=$e.evaluate.apply(void 0,ir),Br=dt.evaluate.apply(void 0,ir);if(!(xr===void 0||Br===void 0))return St(xr,Br,Re)}}:St($e,dt,Re)}function Zu(D,I,W){return I.type==="color"?W=ai.parse(W):I.type==="formatted"?W=so.fromString(W.toString()):I.type==="resolvedImage"?W=Oo.fromString(W.toString()):gi(W)!==I.type&&(I.type!=="enum"||!I.values[W])&&(W=void 0),gu(W,D.default,I.default)}function Ku(D,I,W,ie){var pe=ie-W,Se=D-W;return pe===0?0:I===1?Se/pe:(Math.pow(I,Se)-1)/(Math.pow(I,pe)-1)}var pl=function(I,W){this.expression=I,this._warningHistory={},this._evaluator=new ks,this._defaultValue=W?oh(W):null,this._enumValues=W&&W.type==="enum"?W.values:null};pl.prototype.evaluateWithoutErrorHandling=function(I,W,ie,pe,Se,Re){return this._evaluator.globals=I,this._evaluator.feature=W,this._evaluator.featureState=ie,this._evaluator.canonical=pe,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Re,this.expression.evaluate(this._evaluator)},pl.prototype.evaluate=function(I,W,ie,pe,Se,Re){this._evaluator.globals=I,this._evaluator.feature=W||null,this._evaluator.featureState=ie||null,this._evaluator.canonical=pe,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Re||null;try{var $e=this.expression.evaluate(this._evaluator);if($e==null||typeof $e=="number"&&$e!==$e)return this._defaultValue;if(this._enumValues&&!($e in this._enumValues))throw new eo("Expected value to be one of "+Object.keys(this._enumValues).map(function(dt){return JSON.stringify(dt)}).join(", ")+", but found "+JSON.stringify($e)+" instead.");return $e}catch(dt){return this._warningHistory[dt.message]||(this._warningHistory[dt.message]=!0,typeof console<"u"&&console.warn(dt.message)),this._defaultValue}};function Ju(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in hu}function yl(D,I){var W=new Os(hu,[],I?hv(I):void 0),ie=W.parse(D,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return ie?vu(new pl(ie,I)):dl(W.errors)}var to=function(I,W){this.kind=I,this._styleExpression=W,this.isStateDependent=I!=="constant"&&!Dl(W.expression)};to.prototype.evaluateWithoutErrorHandling=function(I,W,ie,pe,Se,Re){return this._styleExpression.evaluateWithoutErrorHandling(I,W,ie,pe,Se,Re)},to.prototype.evaluate=function(I,W,ie,pe,Se,Re){return this._styleExpression.evaluate(I,W,ie,pe,Se,Re)};var zs=function(I,W,ie,pe){this.kind=I,this.zoomStops=ie,this._styleExpression=W,this.isStateDependent=I!=="camera"&&!Dl(W.expression),this.interpolationType=pe};zs.prototype.evaluateWithoutErrorHandling=function(I,W,ie,pe,Se,Re){return this._styleExpression.evaluateWithoutErrorHandling(I,W,ie,pe,Se,Re)},zs.prototype.evaluate=function(I,W,ie,pe,Se,Re){return this._styleExpression.evaluate(I,W,ie,pe,Se,Re)},zs.prototype.interpolationFactor=function(I,W,ie){return this.interpolationType?ji.interpolationFactor(this.interpolationType,I,W,ie):0};function vc(D,I){if(D=yl(D,I),D.result==="error")return D;var W=D.value.expression,ie=au(W);if(!ie&&!qs(I))return dl([new Cr("","data expressions not supported")]);var pe=Vu(W,["zoom"]);if(!pe&&!Yu(I))return dl([new Cr("","zoom expressions not supported")]);var Se=$u(W);if(!Se&&!pe)return dl([new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Se instanceof Cr)return dl([Se]);if(Se instanceof ji&&!du(I))return dl([new Cr("",'"interpolate" expressions cannot be used with this property')]);if(!Se)return vu(ie?new to("constant",D.value):new to("source",D.value));var Re=Se instanceof ji?Se.interpolation:void 0;return vu(ie?new zs("camera",D.value,Se.labels,Re):new zs("composite",D.value,Se.labels,Re))}var zl=function(I,W){this._parameters=I,this._specification=W,Dn(this,ih(this._parameters,this._specification))};zl.deserialize=function(I){return new zl(I._parameters,I._specification)},zl.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};function _f(D,I){if(pu(D))return new zl(D,I);if(Ju(D)){var W=vc(D,I);if(W.result==="error")throw new Error(W.value.map(function(pe){return pe.key+": "+pe.message}).join(", "));return W.value}else{var ie=D;return typeof D=="string"&&I.type==="color"&&(ie=ai.parse(D)),{kind:"constant",evaluate:function(){return ie}}}}function $u(D){var I=null;if(D instanceof Ks)I=$u(D.result);else if(D instanceof ms)for(var W=0,ie=D.args;W<ie.length;W+=1){var pe=ie[W];if(I=$u(pe),I)break}else(D instanceof gs||D instanceof ji)&&D.input instanceof lo&&D.input.name==="zoom"&&(I=D);return I instanceof Cr||D.eachChild(function(Se){var Re=$u(Se);Re instanceof Cr?I=Re:!I&&Re?I=new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&Re&&I!==Re&&(I=new Cr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function hv(D){var I={color:Mn,string:Tn,number:tn,enum:Tn,boolean:On,formatted:ma,resolvedImage:Da};return D.type==="array"?bi(I[D.value]||Fn,D.length):I[D.type]}function oh(D){return D.type==="color"&&pu(D.default)?new ai(0,0,0,0):D.type==="color"?ai.parse(D.default)||null:D.default===void 0?null:D.default}function Lo(D){var I=D.key,W=D.value,ie=D.valueSpec||{},pe=D.objectElementValidators||{},Se=D.style,Re=D.styleSpec,$e=[],dt=gi(W);if(dt!=="object")return[new Nr(I,W,"object expected, "+dt+" found")];for(var St in W){var Rt=St.split(".")[0],jt=ie[Rt]||ie["*"],ir=void 0;if(pe[Rt])ir=pe[Rt];else if(ie[Rt])ir=kr;else if(pe["*"])ir=pe["*"];else if(ie["*"])ir=kr;else{$e.push(new Nr(I,W[St],'unknown property "'+St+'"'));continue}$e=$e.concat(ir({key:(I&&I+".")+St,value:W[St],valueSpec:jt,style:Se,styleSpec:Re,object:W,objectKey:St},W))}for(var tr in ie)pe[tr]||ie[tr].required&&ie[tr].default===void 0&&W[tr]===void 0&&$e.push(new Nr(I,W,'missing required property "'+tr+'"'));return $e}function Qu(D){var I=D.value,W=D.valueSpec,ie=D.style,pe=D.styleSpec,Se=D.key,Re=D.arrayElementValidator||kr;if(gi(I)!=="array")return[new Nr(Se,I,"array expected, "+gi(I)+" found")];if(W.length&&I.length!==W.length)return[new Nr(Se,I,"array length "+W.length+" expected, length "+I.length+" found")];if(W["min-length"]&&I.length<W["min-length"])return[new Nr(Se,I,"array length at least "+W["min-length"]+" expected, length "+I.length+" found")];var $e={type:W.value,values:W.values};pe.$version<7&&($e.function=W.function),gi(W.value)==="object"&&($e=W.value);for(var dt=[],St=0;St<I.length;St++)dt=dt.concat(Re({array:I,arrayIndex:St,value:I[St],valueSpec:$e,style:ie,styleSpec:pe,key:Se+"["+St+"]"}));return dt}function yu(D){var I=D.key,W=D.value,ie=D.valueSpec,pe=gi(W);return pe==="number"&&W!==W&&(pe="NaN"),pe!=="number"?[new Nr(I,W,"number expected, "+pe+" found")]:"minimum"in ie&&W<ie.minimum?[new Nr(I,W,W+" is less than the minimum value "+ie.minimum)]:"maximum"in ie&&W>ie.maximum?[new Nr(I,W,W+" is greater than the maximum value "+ie.maximum)]:[]}function sh(D){var I=D.valueSpec,W=gn(D.value.type),ie,pe={},Se,Re,$e=W!=="categorical"&&D.value.property===void 0,dt=!$e,St=gi(D.value.stops)==="array"&&gi(D.value.stops[0])==="array"&&gi(D.value.stops[0][0])==="object",Rt=Lo({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:jt,default:xr}});return W==="identity"&&$e&&Rt.push(new Nr(D.key,D.value,'missing required property "property"')),W!=="identity"&&!D.value.stops&&Rt.push(new Nr(D.key,D.value,'missing required property "stops"')),W==="exponential"&&D.valueSpec.expression&&!du(D.valueSpec)&&Rt.push(new Nr(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(dt&&!qs(D.valueSpec)?Rt.push(new Nr(D.key,D.value,"property functions not supported")):$e&&!Yu(D.valueSpec)&&Rt.push(new Nr(D.key,D.value,"zoom functions not supported"))),(W==="categorical"||St)&&D.value.property===void 0&&Rt.push(new Nr(D.key,D.value,'"property" property is required')),Rt;function jt(Br){if(W==="identity")return[new Nr(Br.key,Br.value,'identity function may not have a "stops" property')];var ln=[],nn=Br.value;return ln=ln.concat(Qu({key:Br.key,value:nn,valueSpec:Br.valueSpec,style:Br.style,styleSpec:Br.styleSpec,arrayElementValidator:ir})),gi(nn)==="array"&&nn.length===0&&ln.push(new Nr(Br.key,nn,"array must have at least one stop")),ln}function ir(Br){var ln=[],nn=Br.value,Cn=Br.key;if(gi(nn)!=="array")return[new Nr(Cn,nn,"array expected, "+gi(nn)+" found")];if(nn.length!==2)return[new Nr(Cn,nn,"array length 2 expected, length "+nn.length+" found")];if(St){if(gi(nn[0])!=="object")return[new Nr(Cn,nn,"object expected, "+gi(nn[0])+" found")];if(nn[0].zoom===void 0)return[new Nr(Cn,nn,"object stop key must have zoom")];if(nn[0].value===void 0)return[new Nr(Cn,nn,"object stop key must have value")];if(Re&&Re>gn(nn[0].zoom))return[new Nr(Cn,nn[0].zoom,"stop zoom values must appear in ascending order")];gn(nn[0].zoom)!==Re&&(Re=gn(nn[0].zoom),Se=void 0,pe={}),ln=ln.concat(Lo({key:Cn+"[0]",value:nn[0],valueSpec:{zoom:{}},style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{zoom:yu,value:tr}}))}else ln=ln.concat(tr({key:Cn+"[0]",value:nn[0],valueSpec:{},style:Br.style,styleSpec:Br.styleSpec},nn));return Ju(sn(nn[1]))?ln.concat([new Nr(Cn+"[1]",nn[1],"expressions are not allowed in function stops.")]):ln.concat(kr({key:Cn+"[1]",value:nn[1],valueSpec:I,style:Br.style,styleSpec:Br.styleSpec}))}function tr(Br,ln){var nn=gi(Br.value),Cn=gn(Br.value),yn=Br.value!==null?Br.value:ln;if(!ie)ie=nn;else if(nn!==ie)return[new Nr(Br.key,yn,nn+" stop domain type must match previous stop domain type "+ie)];if(nn!=="number"&&nn!=="string"&&nn!=="boolean")return[new Nr(Br.key,yn,"stop domain value must be a number, string, or boolean")];if(nn!=="number"&&W!=="categorical"){var En="number expected, "+nn+" found";return qs(I)&&W===void 0&&(En+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Nr(Br.key,yn,En)]}return W==="categorical"&&nn==="number"&&(!isFinite(Cn)||Math.floor(Cn)!==Cn)?[new Nr(Br.key,yn,"integer expected, found "+Cn)]:W!=="categorical"&&nn==="number"&&Se!==void 0&&Cn<Se?[new Nr(Br.key,yn,"stop domain values must appear in ascending order")]:(Se=Cn,W==="categorical"&&Cn in pe?[new Nr(Br.key,yn,"stop domain values must be unique")]:(pe[Cn]=!0,[]))}function xr(Br){return kr({key:Br.key,value:Br.value,valueSpec:I,style:Br.style,styleSpec:Br.styleSpec})}}function ml(D){var I=(D.expressionContext==="property"?vc:yl)(sn(D.value),D.valueSpec);if(I.result==="error")return I.value.map(function(ie){return new Nr(""+D.key+ie.key,D.value,ie.message)});var W=I.value.expression||I.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!W.outputDefined())return[new Nr(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!Dl(W))return[new Nr(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!Dl(W))return[new Nr(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!Vu(W,["zoom","feature-state"]))return[new Nr(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!au(W))return[new Nr(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vv(D){var I=D.value,W=D.key,ie=gi(I);return ie!=="boolean"?[new Nr(W,I,"boolean expected, "+ie+" found")]:[]}function Xo(D){var I=D.key,W=D.value,ie=gi(W);return ie!=="string"?[new Nr(I,W,"color expected, "+ie+" found")]:Hc(W)===null?[new Nr(I,W,'color expected, "'+W+'" found')]:[]}function qu(D){var I=D.key,W=D.value,ie=D.valueSpec,pe=[];return Array.isArray(ie.values)?ie.values.indexOf(gn(W))===-1&&pe.push(new Nr(I,W,"expected one of ["+ie.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(ie.values).indexOf(gn(W))===-1&&pe.push(new Nr(I,W,"expected one of ["+Object.keys(ie.values).join(", ")+"], "+JSON.stringify(W)+" found")),pe}function Of(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var I=0,W=D.slice(1);I<W.length;I+=1){var ie=W[I];if(!Of(ie)&&typeof ie!="boolean")return!1}return!0;default:return!0}}var el={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function xl(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};Of(D)||(D=tf(D));var I=yl(D,el);if(I.result==="error")throw new Error(I.value.map(function(ie){return ie.key+": "+ie.message}).join(", "));var W=ef(D);return{filter:function(ie,pe,Se){return I.value.evaluate(ie,pe,{},Se)},needGeometry:W}}function dc(D,I){return D<I?-1:D>I?1:0}function ef(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var I=1;I<D.length;I++)if(ef(D[I]))return!0;return!1}function tf(D){if(!D)return!0;var I=D[0];if(D.length<=1)return I!=="any";var W=I==="=="?zf(D[1],D[2],"=="):I==="!="?Fl(zf(D[1],D[2],"==")):I==="<"||I===">"||I==="<="||I===">="?zf(D[1],D[2],I):I==="any"?lh(D.slice(1)):I==="all"?["all"].concat(D.slice(1).map(tf)):I==="none"?["all"].concat(D.slice(1).map(tf).map(Fl)):I==="in"?rf(D[1],D.slice(2)):I==="!in"?Fl(rf(D[1],D.slice(2))):I==="has"?pc(D[1]):I==="!has"?Fl(pc(D[1])):I==="within"?D:!0;return W}function zf(D,I,W){switch(D){case"$type":return["filter-type-"+W,I];case"$id":return["filter-id-"+W,I];default:return["filter-"+W,D,I]}}function lh(D){return["any"].concat(D.map(tf))}function rf(D,I){if(I.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(W){return typeof W!=typeof I[0]})?["filter-in-large",D,["literal",I.sort(dc)]]:["filter-in-small",D,["literal",I]]}}function pc(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function Fl(D){return["!",D]}function gc(D){return Of(sn(D.value))?ml(Dn({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):nf(D)}function nf(D){var I=D.value,W=D.key;if(gi(I)!=="array")return[new Nr(W,I,"array expected, "+gi(I)+" found")];var ie=D.styleSpec,pe,Se=[];if(I.length<1)return[new Nr(W,I,"filter array must have at least 1 element")];switch(Se=Se.concat(qu({key:W+"[0]",value:I[0],valueSpec:ie.filter_operator,style:D.style,styleSpec:D.styleSpec})),gn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&gn(I[1])==="$type"&&Se.push(new Nr(W,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&Se.push(new Nr(W,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(pe=gi(I[1]),pe!=="string"&&Se.push(new Nr(W+"[1]",I[1],"string expected, "+pe+" found")));for(var Re=2;Re<I.length;Re++)pe=gi(I[Re]),gn(I[1])==="$type"?Se=Se.concat(qu({key:W+"["+Re+"]",value:I[Re],valueSpec:ie.geometry_type,style:D.style,styleSpec:D.styleSpec})):pe!=="string"&&pe!=="number"&&pe!=="boolean"&&Se.push(new Nr(W+"["+Re+"]",I[Re],"string, number, or boolean expected, "+pe+" found"));break;case"any":case"all":case"none":for(var $e=1;$e<I.length;$e++)Se=Se.concat(nf({key:W+"["+$e+"]",value:I[$e],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":pe=gi(I[1]),I.length!==2?Se.push(new Nr(W,I,'filter array for "'+I[0]+'" operator must have 2 elements')):pe!=="string"&&Se.push(new Nr(W+"[1]",I[1],"string expected, "+pe+" found"));break;case"within":pe=gi(I[1]),I.length!==2?Se.push(new Nr(W,I,'filter array for "'+I[0]+'" operator must have 2 elements')):pe!=="object"&&Se.push(new Nr(W+"[1]",I[1],"object expected, "+pe+" found"));break}return Se}function uh(D,I){var W=D.key,ie=D.style,pe=D.styleSpec,Se=D.value,Re=D.objectKey,$e=pe[I+"_"+D.layerType];if(!$e)return[];var dt=Re.match(/^(.*)-transition$/);if(I==="paint"&&dt&&$e[dt[1]]&&$e[dt[1]].transition)return kr({key:W,value:Se,valueSpec:pe.transition,style:ie,styleSpec:pe});var St=D.valueSpec||$e[Re];if(!St)return[new Nr(W,Se,'unknown property "'+Re+'"')];var Rt;if(gi(Se)==="string"&&qs(St)&&!St.tokens&&(Rt=/^{([^}]+)}$/.exec(Se)))return[new Nr(W,Se,'"'+Re+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Rt[1])+" }`.")];var jt=[];return D.layerType==="symbol"&&(Re==="text-field"&&ie&&!ie.glyphs&&jt.push(new Nr(W,Se,'use of "text-field" requires a style "glyphs" property')),Re==="text-font"&&pu(sn(Se))&&gn(Se.type)==="identity"&&jt.push(new Nr(W,Se,'"text-font" does not support identity functions'))),jt.concat(kr({key:D.key,value:Se,valueSpec:St,style:ie,styleSpec:pe,expressionContext:"property",propertyType:I,propertyKey:Re}))}function Je(D){return uh(D,"paint")}function nt(D){return uh(D,"layout")}function pt(D){var I=[],W=D.value,ie=D.key,pe=D.style,Se=D.styleSpec;!W.type&&!W.ref&&I.push(new Nr(ie,W,'either "type" or "ref" is required'));var Re=gn(W.type),$e=gn(W.ref);if(W.id)for(var dt=gn(W.id),St=0;St<D.arrayIndex;St++){var Rt=pe.layers[St];gn(Rt.id)===dt&&I.push(new Nr(ie,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Rt.id.__line__))}if("ref"in W){["type","source","source-layer","filter","layout"].forEach(function(xr){xr in W&&I.push(new Nr(ie,W[xr],'"'+xr+'" is prohibited for ref layers'))});var jt;pe.layers.forEach(function(xr){gn(xr.id)===$e&&(jt=xr)}),jt?jt.ref?I.push(new Nr(ie,W.ref,"ref cannot reference another ref layer")):Re=gn(jt.type):I.push(new Nr(ie,W.ref,'ref layer "'+$e+'" not found'))}else if(Re!=="background")if(!W.source)I.push(new Nr(ie,W,'missing required property "source"'));else{var ir=pe.sources&&pe.sources[W.source],tr=ir&&gn(ir.type);ir?tr==="vector"&&Re==="raster"?I.push(new Nr(ie,W.source,'layer "'+W.id+'" requires a raster source')):tr==="raster"&&Re!=="raster"?I.push(new Nr(ie,W.source,'layer "'+W.id+'" requires a vector source')):tr==="vector"&&!W["source-layer"]?I.push(new Nr(ie,W,'layer "'+W.id+'" must specify a "source-layer"')):tr==="raster-dem"&&Re!=="hillshade"?I.push(new Nr(ie,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):Re==="line"&&W.paint&&W.paint["line-gradient"]&&(tr!=="geojson"||!ir.lineMetrics)&&I.push(new Nr(ie,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Nr(ie,W.source,'source "'+W.source+'" not found'))}return I=I.concat(Lo({key:ie,value:W,valueSpec:Se.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return kr({key:ie+".type",value:W.type,valueSpec:Se.layer.type,style:D.style,styleSpec:D.styleSpec,object:W,objectKey:"type"})},filter:gc,layout:function(Br){return Lo({layer:W,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(nn){return nt(Dn({layerType:Re},nn))}}})},paint:function(Br){return Lo({layer:W,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(nn){return Je(Dn({layerType:Re},nn))}}})}}})),I}function wt(D){var I=D.value,W=D.key,ie=gi(I);return ie!=="string"?[new Nr(W,I,"string expected, "+ie+" found")]:[]}var _t={promoteId:Ft};function It(D){var I=D.value,W=D.key,ie=D.styleSpec,pe=D.style;if(!I.type)return[new Nr(W,I,'"type" is required')];var Se=gn(I.type),Re;switch(Se){case"vector":case"raster":case"raster-dem":return Re=Lo({key:W,value:I,valueSpec:ie["source_"+Se.replace("-","_")],style:D.style,styleSpec:ie,objectElementValidators:_t}),Re;case"geojson":if(Re=Lo({key:W,value:I,valueSpec:ie.source_geojson,style:pe,styleSpec:ie,objectElementValidators:_t}),I.cluster)for(var $e in I.clusterProperties){var dt=I.clusterProperties[$e],St=dt[0],Rt=dt[1],jt=typeof St=="string"?[St,["accumulated"],["get",$e]]:St;Re.push.apply(Re,ml({key:W+"."+$e+".map",value:Rt,expressionContext:"cluster-map"})),Re.push.apply(Re,ml({key:W+"."+$e+".reduce",value:jt,expressionContext:"cluster-reduce"}))}return Re;case"video":return Lo({key:W,value:I,valueSpec:ie.source_video,style:pe,styleSpec:ie});case"image":return Lo({key:W,value:I,valueSpec:ie.source_image,style:pe,styleSpec:ie});case"canvas":return[new Nr(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return qu({key:W+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pe,styleSpec:ie})}}function Ft(D){var I=D.key,W=D.value;if(gi(W)==="string")return wt({key:I,value:W});var ie=[];for(var pe in W)ie.push.apply(ie,wt({key:I+"."+pe,value:W[pe]}));return ie}function pr(D){var I=D.value,W=D.styleSpec,ie=W.light,pe=D.style,Se=[],Re=gi(I);if(I===void 0)return Se;if(Re!=="object")return Se=Se.concat([new Nr("light",I,"object expected, "+Re+" found")]),Se;for(var $e in I){var dt=$e.match(/^(.*)-transition$/);dt&&ie[dt[1]]&&ie[dt[1]].transition?Se=Se.concat(kr({key:$e,value:I[$e],valueSpec:W.transition,style:pe,styleSpec:W})):ie[$e]?Se=Se.concat(kr({key:$e,value:I[$e],valueSpec:ie[$e],style:pe,styleSpec:W})):Se=Se.concat([new Nr($e,I[$e],'unknown property "'+$e+'"')])}return Se}function wr(D){return wt(D).length===0?[]:ml(D)}function sr(D){return wt(D).length===0?[]:ml(D)}var Er={"*":function(){return[]},array:Qu,boolean:vv,number:yu,color:Xo,constants:mn,enum:qu,filter:gc,function:sh,layer:pt,object:Lo,source:It,light:pr,string:wt,formatted:wr,resolvedImage:sr};function kr(D){var I=D.value,W=D.valueSpec,ie=D.styleSpec;if(W.expression&&pu(gn(I)))return sh(D);if(W.expression&&Ju(sn(I)))return ml(D);if(W.type&&Er[W.type])return Er[W.type](D);var pe=Lo(Dn({},D,{valueSpec:W.type?ie[W.type]:W}));return pe}function Ur(D){var I=D.value,W=D.key,ie=wt(D);return ie.length||(I.indexOf("{fontstack}")===-1&&ie.push(new Nr(W,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&ie.push(new Nr(W,I,'"glyphs" url must include a "{range}" token'))),ie}function an(D,I){I===void 0&&(I=Mr);var W=[];return W=W.concat(kr({key:"",value:D,valueSpec:I.$root,styleSpec:I,style:D,objectElementValidators:{glyphs:Ur,"*":function(){return[]}}})),D.constants&&(W=W.concat(mn({key:"constants",value:D.constants,style:D,styleSpec:I}))),xn(W)}an.source=Pn(It),an.light=Pn(pr),an.layer=Pn(pt),an.filter=Pn(gc),an.paintProperty=Pn(Je),an.layoutProperty=Pn(nt);function xn(D){return[].concat(D).sort(function(I,W){return I.line-W.line})}function Pn(D){return function(){for(var I=[],W=arguments.length;W--;)I[W]=arguments[W];return xn(D.apply(this,I))}}var In=an,Kn=In.light,Ia=In.paintProperty,ka=In.layoutProperty;function _a(D,I){var W=!1;if(I&&I.length)for(var ie=0,pe=I;ie<pe.length;ie+=1){var Se=pe[ie];D.fire(new zt(new Error(Se.message))),W=!0}return W}var Ba=yi,Qa=3;function yi(D,I,W){var ie=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var pe=new Int32Array(this.arrayBuffer);D=pe[0],I=pe[1],W=pe[2],this.d=I+2*W;for(var Se=0;Se<this.d*this.d;Se++){var Re=pe[Qa+Se],$e=pe[Qa+Se+1];ie.push(Re===$e?null:pe.subarray(Re,$e))}var dt=pe[Qa+ie.length],St=pe[Qa+ie.length+1];this.keys=pe.subarray(dt,St),this.bboxes=pe.subarray(St),this.insert=this._insertReadonly}else{this.d=I+2*W;for(var Rt=0;Rt<this.d*this.d;Rt++)ie.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=D,this.padding=W,this.scale=I/D,this.uid=0;var jt=W/I*D;this.min=-jt,this.max=D+jt}yi.prototype.insert=function(D,I,W,ie,pe){this._forEachCell(I,W,ie,pe,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(I),this.bboxes.push(W),this.bboxes.push(ie),this.bboxes.push(pe)},yi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},yi.prototype._insertCell=function(D,I,W,ie,pe,Se){this.cells[pe].push(Se)},yi.prototype.query=function(D,I,W,ie,pe){var Se=this.min,Re=this.max;if(D<=Se&&I<=Se&&Re<=W&&Re<=ie&&!pe)return Array.prototype.slice.call(this.keys);var $e=[],dt={};return this._forEachCell(D,I,W,ie,this._queryCell,$e,dt,pe),$e},yi.prototype._queryCell=function(D,I,W,ie,pe,Se,Re,$e){var dt=this.cells[pe];if(dt!==null)for(var St=this.keys,Rt=this.bboxes,jt=0;jt<dt.length;jt++){var ir=dt[jt];if(Re[ir]===void 0){var tr=ir*4;($e?$e(Rt[tr+0],Rt[tr+1],Rt[tr+2],Rt[tr+3]):D<=Rt[tr+2]&&I<=Rt[tr+3]&&W>=Rt[tr+0]&&ie>=Rt[tr+1])?(Re[ir]=!0,Se.push(St[ir])):Re[ir]=!1}}},yi.prototype._forEachCell=function(D,I,W,ie,pe,Se,Re,$e){for(var dt=this._convertToCellCoord(D),St=this._convertToCellCoord(I),Rt=this._convertToCellCoord(W),jt=this._convertToCellCoord(ie),ir=dt;ir<=Rt;ir++)for(var tr=St;tr<=jt;tr++){var xr=this.d*tr+ir;if(!($e&&!$e(this._convertFromCellCoord(ir),this._convertFromCellCoord(tr),this._convertFromCellCoord(ir+1),this._convertFromCellCoord(tr+1)))&&pe.call(this,D,I,W,ie,xr,Se,Re,$e))return}},yi.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},yi.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},yi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,I=Qa+this.cells.length+1+1,W=0,ie=0;ie<this.cells.length;ie++)W+=this.cells[ie].length;var pe=new Int32Array(I+W+this.keys.length+this.bboxes.length);pe[0]=this.extent,pe[1]=this.n,pe[2]=this.padding;for(var Se=I,Re=0;Re<D.length;Re++){var $e=D[Re];pe[Qa+Re]=Se,pe.set($e,Se),Se+=$e.length}return pe[Qa+D.length]=Se,pe.set(this.keys,Se),Se+=this.keys.length,pe[Qa+D.length+1]=Se,pe.set(this.bboxes,Se),Se+=this.bboxes.length,pe.buffer};var Yi=i.ImageData,fe=i.ImageBitmap,Ce={};function Ne(D,I,W){W===void 0&&(W={}),Object.defineProperty(I,"_classRegistryKey",{value:D,writeable:!1}),Ce[D]={klass:I,omit:W.omit||[],shallow:W.shallow||[]}}Ne("Object",Object),Ba.serialize=function(I,W){var ie=I.toArrayBuffer();return W&&W.push(ie),{buffer:ie}},Ba.deserialize=function(I){return new Ba(I.buffer)},Ne("Grid",Ba),Ne("Color",ai),Ne("Error",Error),Ne("ResolvedImage",Oo),Ne("StylePropertyFunction",zl),Ne("StyleExpression",pl,{omit:["_evaluator"]}),Ne("ZoomDependentExpression",zs),Ne("ZoomConstantExpression",to),Ne("CompoundExpression",lo,{omit:["_evaluate"]});for(var qe in hu)hu[qe]._classRegistryKey||Ne("Expression_"+qe,hu[qe]);function rt(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function ft(D){return fe&&D instanceof fe}function Pt(D,I){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(rt(D)||ft(D))return I&&I.push(D),D;if(ArrayBuffer.isView(D)){var W=D;return I&&I.push(W.buffer),W}if(D instanceof Yi)return I&&I.push(D.data.buffer),D;if(Array.isArray(D)){for(var ie=[],pe=0,Se=D;pe<Se.length;pe+=1){var Re=Se[pe];ie.push(Pt(Re,I))}return ie}if(typeof D=="object"){var $e=D.constructor,dt=$e._classRegistryKey;if(!dt)throw new Error("can't serialize object of unregistered class");var St=$e.serialize?$e.serialize(D,I):{};if(!$e.serialize){for(var Rt in D)if(D.hasOwnProperty(Rt)&&!(Ce[dt].omit.indexOf(Rt)>=0)){var jt=D[Rt];St[Rt]=Ce[dt].shallow.indexOf(Rt)>=0?jt:Pt(jt,I)}D instanceof Error&&(St.message=D.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return dt!=="Object"&&(St.$name=dt),St}throw new Error("can't serialize object of type "+typeof D)}function At(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||rt(D)||ft(D)||ArrayBuffer.isView(D)||D instanceof Yi)return D;if(Array.isArray(D))return D.map(At);if(typeof D=="object"){var I=D.$name||"Object",W=Ce[I],ie=W.klass;if(!ie)throw new Error("can't deserialize unregistered class "+I);if(ie.deserialize)return ie.deserialize(D);for(var pe=Object.create(ie.prototype),Se=0,Re=Object.keys(D);Se<Re.length;Se+=1){var $e=Re[Se];if($e!=="$name"){var dt=D[$e];pe[$e]=Ce[I].shallow.indexOf($e)>=0?dt:At(dt)}}return pe}throw new Error("can't deserialize object of type "+typeof D)}var Vt=function(){this.first=!0};Vt.prototype.update=function(I,W){var ie=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=ie,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=ie,!0):(this.lastFloorZoom>ie?(this.lastIntegerZoom=ie+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<ie&&(this.lastIntegerZoom=ie,this.lastIntegerZoomTime=W),I!==this.lastZoom?(this.lastZoom=I,this.lastFloorZoom=ie,!0):!1)};var Gt={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function nr(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(on(ie.charCodeAt(0)))return!0}return!1}function Lr(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(!Pr(ie.charCodeAt(0)))return!1}return!0}function Pr(D){return!(Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D))}function en(D){return D<11904?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)||Gt["Vertical Forms"](D)||Gt["Yi Radicals"](D)||Gt["Yi Syllables"](D))}function on(D){return D===746||D===747?!0:D<4352?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Hangul Compatibility Jamo"](D)||Gt["Hangul Jamo Extended-A"](D)||Gt["Hangul Jamo Extended-B"](D)||Gt["Hangul Jamo"](D)||Gt["Hangul Syllables"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt.Kanbun(D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)&&D!==12540||Gt["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||Gt["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](D)||Gt["Unified Canadian Aboriginal Syllabics Extended"](D)||Gt["Vertical Forms"](D)||Gt["Yijing Hexagram Symbols"](D)||Gt["Yi Syllables"](D)||Gt["Yi Radicals"](D))}function Dr(D){return!!(Gt["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Gt["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Gt["Letterlike Symbols"](D)||Gt["Number Forms"](D)||Gt["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Gt["Control Pictures"](D)&&D!==9251||Gt["Optical Character Recognition"](D)||Gt["Enclosed Alphanumerics"](D)||Gt["Geometric Shapes"](D)||Gt["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Gt["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Gt["CJK Symbols and Punctuation"](D)||Gt.Katakana(D)||Gt["Private Use Area"](D)||Gt["CJK Compatibility Forms"](D)||Gt["Small Form Variants"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function Vr(D){return!(on(D)||Dr(D))}function Jr(D){return Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function un(D){return D>=1424&&D<=2303||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function dn(D,I){return!(!I&&un(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Gt.Khmer(D))}function rn(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(un(ie.charCodeAt(0)))return!0}return!1}function Wn(D,I){for(var W=0,ie=D;W<ie.length;W+=1){var pe=ie[W];if(!dn(pe.charCodeAt(0),I))return!1}return!0}var ra={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ca=null,ea=ra.unavailable,sa=null,ha=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(ea=ra.error),ca&&ca(D)};function Va(){La.fire(new rr("pluginStateChange",{pluginStatus:ea,pluginURL:sa}))}var La=new vr,Fa=function(){return ea},li=function(D){return D({pluginStatus:ea,pluginURL:sa}),La.on("pluginStateChange",D),D},Ki=function(D,I,W){if(W===void 0&&(W=!1),ea===ra.deferred||ea===ra.loading||ea===ra.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");sa=le.resolveURL(D),ea=ra.deferred,ca=I,Va(),W||di()},di=function(){if(ea!==ra.deferred||!sa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ea=ra.loading,Va(),sa&&Bt({url:sa},function(D){D?ha(D):(ea=ra.loaded,Va())})},Qn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ea===ra.loaded||Qn.applyArabicShaping!=null},isLoading:function(){return ea===ra.loading},setState:function(I){ea=I.pluginStatus,sa=I.pluginURL},isParsed:function(){return Qn.applyArabicShaping!=null&&Qn.processBidirectionalText!=null&&Qn.processStyledBidirectionalText!=null},getPluginURL:function(){return sa}},Wa=function(){!Qn.isLoading()&&!Qn.isLoaded()&&Fa()==="deferred"&&di()},Ea=function(I,W){this.zoom=I,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vt,this.transition={})};Ea.prototype.isSupportedScript=function(I){return Wn(I,Qn.isLoaded())},Ea.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ea.prototype.getCrossfadeParameters=function(){var I=this.zoom,W=I-Math.floor(I),ie=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*ie}:{fromScale:.5,toScale:1,t:1-(1-ie)*W}};var qa=function(I,W){this.property=I,this.value=W,this.expression=_f(W===void 0?I.specification.default:W,I.specification)};qa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},qa.prototype.possiblyEvaluate=function(I,W,ie){return this.property.possiblyEvaluate(this,I,W,ie)};var Ei=function(I){this.property=I,this.value=new qa(I,void 0)};Ei.prototype.transitioned=function(I,W){return new fo(this.property,this.value,W,b({},I.transition,this.transition),I.now)},Ei.prototype.untransitioned=function(){return new fo(this.property,this.value,null,{},0)};var ui=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};ui.prototype.getValue=function(I){return U(this._values[I].value.value)},ui.prototype.setValue=function(I,W){this._values.hasOwnProperty(I)||(this._values[I]=new Ei(this._values[I].property)),this._values[I].value=new qa(this._values[I].property,W===null?void 0:U(W))},ui.prototype.getTransition=function(I){return U(this._values[I].transition)},ui.prototype.setTransition=function(I,W){this._values.hasOwnProperty(I)||(this._values[I]=new Ei(this._values[I].property)),this._values[I].transition=U(W)||void 0},ui.prototype.serialize=function(){for(var I={},W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W],Se=this.getValue(pe);Se!==void 0&&(I[pe]=Se);var Re=this.getTransition(pe);Re!==void 0&&(I[pe+"-transition"]=Re)}return I},ui.prototype.transitioned=function(I,W){for(var ie=new co(this._properties),pe=0,Se=Object.keys(this._values);pe<Se.length;pe+=1){var Re=Se[pe];ie._values[Re]=this._values[Re].transitioned(I,W._values[Re])}return ie},ui.prototype.untransitioned=function(){for(var I=new co(this._properties),W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W];I._values[pe]=this._values[pe].untransitioned()}return I};var fo=function(I,W,ie,pe,Se){this.property=I,this.value=W,this.begin=Se+pe.delay||0,this.end=this.begin+pe.duration||0,I.specification.transition&&(pe.delay||pe.duration)&&(this.prior=ie)};fo.prototype.possiblyEvaluate=function(I,W,ie){var pe=I.now||0,Se=this.value.possiblyEvaluate(I,W,ie),Re=this.prior;if(Re){if(pe>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(pe<this.begin)return Re.possiblyEvaluate(I,W,ie);var $e=(pe-this.begin)/(this.end-this.begin);return this.property.interpolate(Re.possiblyEvaluate(I,W,ie),Se,u($e))}else return Se};var co=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};co.prototype.possiblyEvaluate=function(I,W,ie){for(var pe=new Po(this._properties),Se=0,Re=Object.keys(this._values);Se<Re.length;Se+=1){var $e=Re[Se];pe._values[$e]=this._values[$e].possiblyEvaluate(I,W,ie)}return pe},co.prototype.hasTransition=function(){for(var I=0,W=Object.keys(this._values);I<W.length;I+=1){var ie=W[I];if(this._values[ie].prior)return!0}return!1};var mo=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};mo.prototype.getValue=function(I){return U(this._values[I].value)},mo.prototype.setValue=function(I,W){this._values[I]=new qa(this._values[I].property,W===null?void 0:U(W))},mo.prototype.serialize=function(){for(var I={},W=0,ie=Object.keys(this._values);W<ie.length;W+=1){var pe=ie[W],Se=this.getValue(pe);Se!==void 0&&(I[pe]=Se)}return I},mo.prototype.possiblyEvaluate=function(I,W,ie){for(var pe=new Po(this._properties),Se=0,Re=Object.keys(this._values);Se<Re.length;Se+=1){var $e=Re[Se];pe._values[$e]=this._values[$e].possiblyEvaluate(I,W,ie)}return pe};var Ci=function(I,W,ie){this.property=I,this.value=W,this.parameters=ie};Ci.prototype.isConstant=function(){return this.value.kind==="constant"},Ci.prototype.constantOr=function(I){return this.value.kind==="constant"?this.value.value:I},Ci.prototype.evaluate=function(I,W,ie,pe){return this.property.evaluate(this.value,this.parameters,I,W,ie,pe)};var Po=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};Po.prototype.get=function(I){return this._values[I]};var ua=function(I){this.specification=I};ua.prototype.possiblyEvaluate=function(I,W){return I.expression.evaluate(W)},ua.prototype.interpolate=function(I,W,ie){var pe=Mf[this.specification.type];return pe?pe(I,W,ie):I};var Ra=function(I,W){this.specification=I,this.overrides=W};Ra.prototype.possiblyEvaluate=function(I,W,ie,pe){return I.expression.kind==="constant"||I.expression.kind==="camera"?new Ci(this,{kind:"constant",value:I.expression.evaluate(W,null,{},ie,pe)},W):new Ci(this,I.expression,W)},Ra.prototype.interpolate=function(I,W,ie){if(I.value.kind!=="constant"||W.value.kind!=="constant")return I;if(I.value.value===void 0||W.value.value===void 0)return new Ci(this,{kind:"constant",value:void 0},I.parameters);var pe=Mf[this.specification.type];return pe?new Ci(this,{kind:"constant",value:pe(I.value.value,W.value.value,ie)},I.parameters):I},Ra.prototype.evaluate=function(I,W,ie,pe,Se,Re){return I.kind==="constant"?I.value:I.evaluate(W,ie,pe,Se,Re)};var Zo=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ie,pe,Se,Re){if(ie.value===void 0)return new Ci(this,{kind:"constant",value:void 0},pe);if(ie.expression.kind==="constant"){var $e=ie.expression.evaluate(pe,null,{},Se,Re),dt=ie.property.specification.type==="resolvedImage",St=dt&&typeof $e!="string"?$e.name:$e,Rt=this._calculate(St,St,St,pe);return new Ci(this,{kind:"constant",value:Rt},pe)}else if(ie.expression.kind==="camera"){var jt=this._calculate(ie.expression.evaluate({zoom:pe.zoom-1}),ie.expression.evaluate({zoom:pe.zoom}),ie.expression.evaluate({zoom:pe.zoom+1}),pe);return new Ci(this,{kind:"constant",value:jt},pe)}else return new Ci(this,ie.expression,pe)},I.prototype.evaluate=function(ie,pe,Se,Re,$e,dt){if(ie.kind==="source"){var St=ie.evaluate(pe,Se,Re,$e,dt);return this._calculate(St,St,St,pe)}else return ie.kind==="composite"?this._calculate(ie.evaluate({zoom:Math.floor(pe.zoom)-1},Se,Re),ie.evaluate({zoom:Math.floor(pe.zoom)},Se,Re),ie.evaluate({zoom:Math.floor(pe.zoom)+1},Se,Re),pe):ie.value},I.prototype._calculate=function(ie,pe,Se,Re){var $e=Re.zoom;return $e>Re.zoomHistory.lastIntegerZoom?{from:ie,to:pe}:{from:Se,to:pe}},I.prototype.interpolate=function(ie){return ie},I}(Ra),ns=function(I){this.specification=I};ns.prototype.possiblyEvaluate=function(I,W,ie,pe){if(I.value!==void 0)if(I.expression.kind==="constant"){var Se=I.expression.evaluate(W,null,{},ie,pe);return this._calculate(Se,Se,Se,W)}else return this._calculate(I.expression.evaluate(new Ea(Math.floor(W.zoom-1),W)),I.expression.evaluate(new Ea(Math.floor(W.zoom),W)),I.expression.evaluate(new Ea(Math.floor(W.zoom+1),W)),W)},ns.prototype._calculate=function(I,W,ie,pe){var Se=pe.zoom;return Se>pe.zoomHistory.lastIntegerZoom?{from:I,to:W}:{from:ie,to:W}},ns.prototype.interpolate=function(I){return I};var xo=function(I){this.specification=I};xo.prototype.possiblyEvaluate=function(I,W,ie,pe){return!!I.expression.evaluate(W,null,{},ie,pe)},xo.prototype.interpolate=function(){return!1};var pi=function(I){this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var W in I){var ie=I[W];ie.specification.overridable&&this.overridableProperties.push(W);var pe=this.defaultPropertyValues[W]=new qa(ie,void 0),Se=this.defaultTransitionablePropertyValues[W]=new Ei(ie);this.defaultTransitioningPropertyValues[W]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=pe.possiblyEvaluate({})}};Ne("DataDrivenProperty",Ra),Ne("DataConstantProperty",ua),Ne("CrossFadedDataDrivenProperty",Zo),Ne("CrossFadedProperty",ns),Ne("ColorRampProperty",xo);var ro="-transition",Ji=function(D){function I(W,ie){if(D.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(W=W,this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),ie.layout&&(this._unevaluatedLayout=new mo(ie.layout)),ie.paint)){this._transitionablePaint=new ui(ie.paint);for(var pe in W.paint)this.setPaintProperty(pe,W.paint[pe],{validate:!1});for(var Se in W.layout)this.setLayoutProperty(Se,W.layout[Se],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Po(ie.paint)}}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(ie){return ie==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ie)},I.prototype.setLayoutProperty=function(ie,pe,Se){if(Se===void 0&&(Se={}),pe!=null){var Re="layers."+this.id+".layout."+ie;if(this._validate(ka,Re,ie,pe,Se))return}if(ie==="visibility"){this.visibility=pe;return}this._unevaluatedLayout.setValue(ie,pe)},I.prototype.getPaintProperty=function(ie){return w(ie,ro)?this._transitionablePaint.getTransition(ie.slice(0,-ro.length)):this._transitionablePaint.getValue(ie)},I.prototype.setPaintProperty=function(ie,pe,Se){if(Se===void 0&&(Se={}),pe!=null){var Re="layers."+this.id+".paint."+ie;if(this._validate(Ia,Re,ie,pe,Se))return!1}if(w(ie,ro))return this._transitionablePaint.setTransition(ie.slice(0,-ro.length),pe||void 0),!1;var $e=this._transitionablePaint._values[ie],dt=$e.property.specification["property-type"]==="cross-faded-data-driven",St=$e.value.isDataDriven(),Rt=$e.value;this._transitionablePaint.setValue(ie,pe),this._handleSpecialPaintPropertyUpdate(ie);var jt=this._transitionablePaint._values[ie].value,ir=jt.isDataDriven();return ir||St||dt||this._handleOverridablePaintPropertyUpdate(ie,Rt,jt)},I.prototype._handleSpecialPaintPropertyUpdate=function(ie){},I.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Se){return!1},I.prototype.isHidden=function(ie){return this.minzoom&&ie<this.minzoom||this.maxzoom&&ie>=this.maxzoom?!0:this.visibility==="none"},I.prototype.updateTransitions=function(ie){this._transitioningPaint=this._transitionablePaint.transitioned(ie,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(ie,pe){ie.getCrossfadeParameters&&(this._crossfadeParameters=ie.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ie,void 0,pe)),this.paint=this._transitioningPaint.possiblyEvaluate(ie,void 0,pe)},I.prototype.serialize=function(){var ie={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ie.layout=ie.layout||{},ie.layout.visibility=this.visibility),_(ie,function(pe,Se){return pe!==void 0&&!(Se==="layout"&&!Object.keys(pe).length)&&!(Se==="paint"&&!Object.keys(pe).length)})},I.prototype._validate=function(ie,pe,Se,Re,$e){return $e===void 0&&($e={}),$e&&$e.validate===!1?!1:_a(this,ie.call(In,{key:pe,layerType:this.type,objectKey:Se,value:Re,styleSpec:Mr,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var ie in this.paint._values){var pe=this.paint.get(ie);if(!(!(pe instanceof Ci)||!qs(pe.property.specification))&&(pe.value.kind==="source"||pe.value.kind==="composite")&&pe.value.isStateDependent)return!0}return!1},I}(vr),Fs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},tl=function(I,W){this._structArray=I,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Oi=128,mu=5,ei=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ei.serialize=function(I,W){return I._trim(),W&&(I.isTransferred=!0,W.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},ei.deserialize=function(I){var W=Object.create(this.prototype);return W.arrayBuffer=I.arrayBuffer,W.length=I.length,W.capacity=I.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},ei.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ei.prototype.clear=function(){this.length=0},ei.prototype.resize=function(I){this.reserve(I),this.length=I},ei.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(this.capacity*mu),Oi),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},ei.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function zi(D,I){I===void 0&&(I=1);var W=0,ie=0,pe=D.map(function(Re){var $e=dv(Re.type),dt=W=W0(W,Math.max(I,$e)),St=Re.components||1;return ie=Math.max(ie,$e),W+=$e*St,{name:Re.name,type:Re.type,components:St,offset:dt}}),Se=W0(W,Math.max(ie,I));return{members:pe,size:Se,alignment:I}}function dv(D){return Fs[D].BYTES_PER_ELEMENT}function W0(D,I){return Math.ceil(D/I)*I}var yc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},I.prototype.emplace=function(ie,pe,Se){var Re=ie*2;return this.int16[Re+0]=pe,this.int16[Re+1]=Se,ie},I}(ei);yc.prototype.bytesPerElement=4,Ne("StructArrayLayout2i4",yc);var lp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re){var $e=this.length;return this.resize($e+1),this.emplace($e,ie,pe,Se,Re)},I.prototype.emplace=function(ie,pe,Se,Re,$e){var dt=ie*4;return this.int16[dt+0]=pe,this.int16[dt+1]=Se,this.int16[dt+2]=Re,this.int16[dt+3]=$e,ie},I}(ei);lp.prototype.bytesPerElement=8,Ne("StructArrayLayout4i8",lp);var Ff=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Se,Re,$e,dt)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt,St){var Rt=ie*6;return this.int16[Rt+0]=pe,this.int16[Rt+1]=Se,this.int16[Rt+2]=Re,this.int16[Rt+3]=$e,this.int16[Rt+4]=dt,this.int16[Rt+5]=St,ie},I}(ei);Ff.prototype.bytesPerElement=12,Ne("StructArrayLayout2i4i12",Ff);var fh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Se,Re,$e,dt)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt,St){var Rt=ie*4,jt=ie*8;return this.int16[Rt+0]=pe,this.int16[Rt+1]=Se,this.uint8[jt+4]=Re,this.uint8[jt+5]=$e,this.uint8[jt+6]=dt,this.uint8[jt+7]=St,ie},I}(ei);fh.prototype.bytesPerElement=8,Ne("StructArrayLayout2i4ub8",fh);var ch=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},I.prototype.emplace=function(ie,pe,Se){var Re=ie*2;return this.float32[Re+0]=pe,this.float32[Re+1]=Se,ie},I}(ei);ch.prototype.bytesPerElement=8,Ne("StructArrayLayout2f8",ch);var Ts=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir){var tr=this.length;return this.resize(tr+1),this.emplace(tr,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr){var xr=ie*10;return this.uint16[xr+0]=pe,this.uint16[xr+1]=Se,this.uint16[xr+2]=Re,this.uint16[xr+3]=$e,this.uint16[xr+4]=dt,this.uint16[xr+5]=St,this.uint16[xr+6]=Rt,this.uint16[xr+7]=jt,this.uint16[xr+8]=ir,this.uint16[xr+9]=tr,ie},I}(ei);Ts.prototype.bytesPerElement=20,Ne("StructArrayLayout10ui20",Ts);var Nf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr){var Br=this.length;return this.resize(Br+1),this.emplace(Br,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br){var ln=ie*12;return this.int16[ln+0]=pe,this.int16[ln+1]=Se,this.int16[ln+2]=Re,this.int16[ln+3]=$e,this.uint16[ln+4]=dt,this.uint16[ln+5]=St,this.uint16[ln+6]=Rt,this.uint16[ln+7]=jt,this.int16[ln+8]=ir,this.int16[ln+9]=tr,this.int16[ln+10]=xr,this.int16[ln+11]=Br,ie},I}(ei);Nf.prototype.bytesPerElement=24,Ne("StructArrayLayout4i4ui4i24",Nf);var up=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se){var Re=this.length;return this.resize(Re+1),this.emplace(Re,ie,pe,Se)},I.prototype.emplace=function(ie,pe,Se,Re){var $e=ie*3;return this.float32[$e+0]=pe,this.float32[$e+1]=Se,this.float32[$e+2]=Re,ie},I}(ei);up.prototype.bytesPerElement=12,Ne("StructArrayLayout3f12",up);var fp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},I.prototype.emplace=function(ie,pe){var Se=ie*1;return this.uint32[Se+0]=pe,ie},I}(ei);fp.prototype.bytesPerElement=4,Ne("StructArrayLayout1ul4",fp);var pv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e,dt,St,Rt,jt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ie,pe,Se,Re,$e,dt,St,Rt,jt)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir){var tr=ie*10,xr=ie*5;return this.int16[tr+0]=pe,this.int16[tr+1]=Se,this.int16[tr+2]=Re,this.int16[tr+3]=$e,this.int16[tr+4]=dt,this.int16[tr+5]=St,this.uint32[xr+3]=Rt,this.uint16[tr+8]=jt,this.uint16[tr+9]=ir,ie},I}(ei);pv.prototype.bytesPerElement=20,Ne("StructArrayLayout6i1ul2ui20",pv);var Gv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e,dt){var St=this.length;return this.resize(St+1),this.emplace(St,ie,pe,Se,Re,$e,dt)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt,St){var Rt=ie*6;return this.int16[Rt+0]=pe,this.int16[Rt+1]=Se,this.int16[Rt+2]=Re,this.int16[Rt+3]=$e,this.int16[Rt+4]=dt,this.int16[Rt+5]=St,ie},I}(ei);Gv.prototype.bytesPerElement=12,Ne("StructArrayLayout2i2i2i12",Gv);var af=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e){var dt=this.length;return this.resize(dt+1),this.emplace(dt,ie,pe,Se,Re,$e)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt){var St=ie*4,Rt=ie*8;return this.float32[St+0]=pe,this.float32[St+1]=Se,this.float32[St+2]=Re,this.int16[Rt+6]=$e,this.int16[Rt+7]=dt,ie},I}(ei);af.prototype.bytesPerElement=16,Ne("StructArrayLayout2f1f2i16",af);var Ns=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re){var $e=this.length;return this.resize($e+1),this.emplace($e,ie,pe,Se,Re)},I.prototype.emplace=function(ie,pe,Se,Re,$e){var dt=ie*12,St=ie*3;return this.uint8[dt+0]=pe,this.uint8[dt+1]=Se,this.float32[St+1]=Re,this.float32[St+2]=$e,ie},I}(ei);Ns.prototype.bytesPerElement=12,Ne("StructArrayLayout2ub2f12",Ns);var of=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se){var Re=this.length;return this.resize(Re+1),this.emplace(Re,ie,pe,Se)},I.prototype.emplace=function(ie,pe,Se,Re){var $e=ie*3;return this.uint16[$e+0]=pe,this.uint16[$e+1]=Se,this.uint16[$e+2]=Re,ie},I}(ei);of.prototype.bytesPerElement=6,Ne("StructArrayLayout3ui6",of);var gv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br,ln,nn,Cn,yn){var En=this.length;return this.resize(En+1),this.emplace(En,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br,ln,nn,Cn,yn)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br,ln,nn,Cn,yn,En){var _n=ie*24,Yn=ie*12,ia=ie*48;return this.int16[_n+0]=pe,this.int16[_n+1]=Se,this.uint16[_n+2]=Re,this.uint16[_n+3]=$e,this.uint32[Yn+2]=dt,this.uint32[Yn+3]=St,this.uint32[Yn+4]=Rt,this.uint16[_n+10]=jt,this.uint16[_n+11]=ir,this.uint16[_n+12]=tr,this.float32[Yn+7]=xr,this.float32[Yn+8]=Br,this.uint8[ia+36]=ln,this.uint8[ia+37]=nn,this.uint8[ia+38]=Cn,this.uint32[Yn+10]=yn,this.int16[_n+22]=En,ie},I}(ei);gv.prototype.bytesPerElement=48,Ne("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",gv);var Wv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br,ln,nn,Cn,yn,En,_n,Yn,ia,ta,Sa,ya,Aa,Ga,Ma,Pa){var Za=this.length;return this.resize(Za+1),this.emplace(Za,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br,ln,nn,Cn,yn,En,_n,Yn,ia,ta,Sa,ya,Aa,Ga,Ma,Pa)},I.prototype.emplace=function(ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br,ln,nn,Cn,yn,En,_n,Yn,ia,ta,Sa,ya,Aa,Ga,Ma,Pa,Za){var Ua=ie*34,ci=ie*17;return this.int16[Ua+0]=pe,this.int16[Ua+1]=Se,this.int16[Ua+2]=Re,this.int16[Ua+3]=$e,this.int16[Ua+4]=dt,this.int16[Ua+5]=St,this.int16[Ua+6]=Rt,this.int16[Ua+7]=jt,this.uint16[Ua+8]=ir,this.uint16[Ua+9]=tr,this.uint16[Ua+10]=xr,this.uint16[Ua+11]=Br,this.uint16[Ua+12]=ln,this.uint16[Ua+13]=nn,this.uint16[Ua+14]=Cn,this.uint16[Ua+15]=yn,this.uint16[Ua+16]=En,this.uint16[Ua+17]=_n,this.uint16[Ua+18]=Yn,this.uint16[Ua+19]=ia,this.uint16[Ua+20]=ta,this.uint16[Ua+21]=Sa,this.uint16[Ua+22]=ya,this.uint32[ci+12]=Aa,this.float32[ci+13]=Ga,this.float32[ci+14]=Ma,this.float32[ci+15]=Pa,this.float32[ci+16]=Za,ie},I}(ei);Wv.prototype.bytesPerElement=68,Ne("StructArrayLayout8i15ui1ul4f68",Wv);var hh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},I.prototype.emplace=function(ie,pe){var Se=ie*1;return this.float32[Se+0]=pe,ie},I}(ei);hh.prototype.bytesPerElement=4,Ne("StructArrayLayout1f4",hh);var cp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se){var Re=this.length;return this.resize(Re+1),this.emplace(Re,ie,pe,Se)},I.prototype.emplace=function(ie,pe,Se,Re){var $e=ie*3;return this.int16[$e+0]=pe,this.int16[$e+1]=Se,this.int16[$e+2]=Re,ie},I}(ei);cp.prototype.bytesPerElement=6,Ne("StructArrayLayout3i6",cp);var Bf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se){var Re=this.length;return this.resize(Re+1),this.emplace(Re,ie,pe,Se)},I.prototype.emplace=function(ie,pe,Se,Re){var $e=ie*2,dt=ie*4;return this.uint32[$e+0]=pe,this.uint16[dt+2]=Se,this.uint16[dt+3]=Re,ie},I}(ei);Bf.prototype.bytesPerElement=8,Ne("StructArrayLayout1ul2ui8",Bf);var yv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ie,pe)},I.prototype.emplace=function(ie,pe,Se){var Re=ie*2;return this.uint16[Re+0]=pe,this.uint16[Re+1]=Se,ie},I}(ei);yv.prototype.bytesPerElement=4,Ne("StructArrayLayout2ui4",yv);var vh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},I.prototype.emplace=function(ie,pe){var Se=ie*1;return this.uint16[Se+0]=pe,ie},I}(ei);vh.prototype.bytesPerElement=2,Ne("StructArrayLayout1ui2",vh);var mc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ie,pe,Se,Re){var $e=this.length;return this.resize($e+1),this.emplace($e,ie,pe,Se,Re)},I.prototype.emplace=function(ie,pe,Se,Re,$e){var dt=ie*4;return this.float32[dt+0]=pe,this.float32[dt+1]=Se,this.float32[dt+2]=Re,this.float32[dt+3]=$e,ie},I}(ei);mc.prototype.bytesPerElement=16,Ne("StructArrayLayout4f16",mc);var j0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,W),I}(tl);j0.prototype.size=20;var hp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ie){return new j0(this,ie)},I}(pv);Ne("CollisionBoxArray",hp);var xc=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(ie){this._structArray.uint8[this._pos1+37]=ie},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(ie){this._structArray.uint8[this._pos1+38]=ie},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+10]=ie},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,W),I}(tl);xc.prototype.size=48;var vp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ie){return new xc(this,ie)},I}(gv);Ne("PlacedSymbolArray",vp);var dh=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+12]=ie},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,W),I}(tl);dh.prototype.size=68;var Y0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ie){return new dh(this,ie)},I}(Wv);Ne("SymbolInstanceArray",Y0);var X0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(ie){return this.float32[ie*1+0]},I}(hh);Ne("GlyphOffsetArray",X0);var Nl=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getx=function(ie){return this.int16[ie*3+0]},I.prototype.gety=function(ie){return this.int16[ie*3+1]},I.prototype.gettileUnitDistanceFromAnchor=function(ie){return this.int16[ie*3+2]},I}(cp);Ne("SymbolLineVertexArray",Nl);var Z0=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,W),I}(tl);Z0.prototype.size=8;var K0=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ie){return new Z0(this,ie)},I}(Bf);Ne("FeatureIndexArray",K0);var Zm=zi([{name:"a_pos",components:2,type:"Int16"}],4),J0=Zm.members,bo=function(I){I===void 0&&(I=[]),this.segments=I};bo.prototype.prepareSegment=function(I,W,ie,pe){var Se=this.segments[this.segments.length-1];return I>bo.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+bo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!Se||Se.vertexLength+I>bo.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==pe)&&(Se={vertexOffset:W.length,primitiveOffset:ie.length,vertexLength:0,primitiveLength:0},pe!==void 0&&(Se.sortKey=pe),this.segments.push(Se)),Se},bo.prototype.get=function(){return this.segments},bo.prototype.destroy=function(){for(var I=0,W=this.segments;I<W.length;I+=1){var ie=W[I];for(var pe in ie.vaos)ie.vaos[pe].destroy()}},bo.simpleSegment=function(I,W,ie,pe){return new bo([{vertexOffset:I,primitiveOffset:W,vertexLength:ie,primitiveLength:pe,vaos:{},sortKey:0}])},bo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ne("SegmentVector",bo);function ve(D,I){return D=c(Math.floor(D),0,255),I=c(Math.floor(I),0,255),256*D+I}var J=zi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ge=C(function(D){function I(W,ie){var pe,Se,Re,$e,dt,St,Rt,jt;for(pe=W.length&3,Se=W.length-pe,Re=ie,dt=3432918353,St=461845907,jt=0;jt<Se;)Rt=W.charCodeAt(jt)&255|(W.charCodeAt(++jt)&255)<<8|(W.charCodeAt(++jt)&255)<<16|(W.charCodeAt(++jt)&255)<<24,++jt,Rt=(Rt&65535)*dt+(((Rt>>>16)*dt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*St+(((Rt>>>16)*St&65535)<<16)&4294967295,Re^=Rt,Re=Re<<13|Re>>>19,$e=(Re&65535)*5+(((Re>>>16)*5&65535)<<16)&4294967295,Re=($e&65535)+27492+((($e>>>16)+58964&65535)<<16);switch(Rt=0,pe){case 3:Rt^=(W.charCodeAt(jt+2)&255)<<16;case 2:Rt^=(W.charCodeAt(jt+1)&255)<<8;case 1:Rt^=W.charCodeAt(jt)&255,Rt=(Rt&65535)*dt+(((Rt>>>16)*dt&65535)<<16)&4294967295,Rt=Rt<<15|Rt>>>17,Rt=(Rt&65535)*St+(((Rt>>>16)*St&65535)<<16)&4294967295,Re^=Rt}return Re^=W.length,Re^=Re>>>16,Re=(Re&65535)*2246822507+(((Re>>>16)*2246822507&65535)<<16)&4294967295,Re^=Re>>>13,Re=(Re&65535)*3266489909+(((Re>>>16)*3266489909&65535)<<16)&4294967295,Re^=Re>>>16,Re>>>0}D.exports=I}),ee=C(function(D){function I(W,ie){for(var pe=W.length,Se=ie^pe,Re=0,$e;pe>=4;)$e=W.charCodeAt(Re)&255|(W.charCodeAt(++Re)&255)<<8|(W.charCodeAt(++Re)&255)<<16|(W.charCodeAt(++Re)&255)<<24,$e=($e&65535)*1540483477+((($e>>>16)*1540483477&65535)<<16),$e^=$e>>>24,$e=($e&65535)*1540483477+((($e>>>16)*1540483477&65535)<<16),Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)^$e,pe-=4,++Re;switch(pe){case 3:Se^=(W.charCodeAt(Re+2)&255)<<16;case 2:Se^=(W.charCodeAt(Re+1)&255)<<8;case 1:Se^=W.charCodeAt(Re)&255,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16)}return Se^=Se>>>13,Se=(Se&65535)*1540483477+(((Se>>>16)*1540483477&65535)<<16),Se^=Se>>>15,Se>>>0}D.exports=I}),ye=ge,ze=ge,Ke=ee;ye.murmur3=ze,ye.murmur2=Ke;var ut=function(){this.ids=[],this.positions=[],this.indexed=!1};ut.prototype.add=function(I,W,ie,pe){this.ids.push(Ut(I)),this.positions.push(W,ie,pe)},ut.prototype.getPositions=function(I){for(var W=Ut(I),ie=0,pe=this.ids.length-1;ie<pe;){var Se=ie+pe>>1;this.ids[Se]>=W?pe=Se:ie=Se+1}for(var Re=[];this.ids[ie]===W;){var $e=this.positions[3*ie],dt=this.positions[3*ie+1],St=this.positions[3*ie+2];Re.push({index:$e,start:dt,end:St}),ie++}return Re},ut.serialize=function(I,W){var ie=new Float64Array(I.ids),pe=new Uint32Array(I.positions);return qt(ie,pe,0,ie.length-1),W&&W.push(ie.buffer,pe.buffer),{ids:ie,positions:pe}},ut.deserialize=function(I){var W=new ut;return W.ids=I.ids,W.positions=I.positions,W.indexed=!0,W};var Ct=Math.pow(2,53)-1;function Ut(D){var I=+D;return!isNaN(I)&&I<=Ct?I:ye(String(D))}function qt(D,I,W,ie){for(;W<ie;){for(var pe=D[W+ie>>1],Se=W-1,Re=ie+1;;){do Se++;while(D[Se]<pe);do Re--;while(D[Re]>pe);if(Se>=Re)break;ur(D,Se,Re),ur(I,3*Se,3*Re),ur(I,3*Se+1,3*Re+1),ur(I,3*Se+2,3*Re+2)}Re-W<ie-Re?(qt(D,I,W,Re),W=Re+1):(qt(D,I,Re+1,ie),ie=Re)}}function ur(D,I,W){var ie=D[I];D[I]=D[W],D[W]=ie}Ne("FeaturePositionMap",ut);var lr=function(I,W){this.gl=I.gl,this.location=W},_r=function(D){function I(W,ie){D.call(this,W,ie),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1i(this.location,ie))},I}(lr),Xr=function(D){function I(W,ie){D.call(this,W,ie),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1f(this.location,ie))},I}(lr),Yr=function(D){function I(W,ie){D.call(this,W,ie),this.current=[0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1])&&(this.current=ie,this.gl.uniform2f(this.location,ie[0],ie[1]))},I}(lr),Wr=function(D){function I(W,ie){D.call(this,W,ie),this.current=[0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2])&&(this.current=ie,this.gl.uniform3f(this.location,ie[0],ie[1],ie[2]))},I}(lr),qr=function(D){function I(W,ie){D.call(this,W,ie),this.current=[0,0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2]||ie[3]!==this.current[3])&&(this.current=ie,this.gl.uniform4f(this.location,ie[0],ie[1],ie[2],ie[3]))},I}(lr),fn=function(D){function I(W,ie){D.call(this,W,ie),this.current=ai.transparent}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){(ie.r!==this.current.r||ie.g!==this.current.g||ie.b!==this.current.b||ie.a!==this.current.a)&&(this.current=ie,this.gl.uniform4f(this.location,ie.r,ie.g,ie.b,ie.a))},I}(lr),kn=new Float32Array(16),Nn=function(D){function I(W,ie){D.call(this,W,ie),this.current=kn}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ie){if(ie[12]!==this.current[12]||ie[0]!==this.current[0]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);return}for(var pe=1;pe<16;pe++)if(ie[pe]!==this.current[pe]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);break}},I}(lr);function Xn(D){return[ve(255*D.r,255*D.g),ve(255*D.b,255*D.a)]}var Zn=function(I,W,ie){this.value=I,this.uniformNames=W.map(function(pe){return"u_"+pe}),this.type=ie};Zn.prototype.setUniform=function(I,W,ie){I.set(ie.constantOr(this.value))},Zn.prototype.getBinding=function(I,W,ie){return this.type==="color"?new fn(I,W):new Xr(I,W)};var jn=function(I,W){this.uniformNames=W.map(function(ie){return"u_"+ie}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};jn.prototype.setConstantPatternPositions=function(I,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=I.tlbr},jn.prototype.setUniform=function(I,W,ie,pe){var Se=pe==="u_pattern_to"?this.patternTo:pe==="u_pattern_from"?this.patternFrom:pe==="u_pixel_ratio_to"?this.pixelRatioTo:pe==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Se&&I.set(Se)},jn.prototype.getBinding=function(I,W,ie){return ie.substr(0,9)==="u_pattern"?new qr(I,W):new Xr(I,W)};var Jn=function(I,W,ie,pe){this.expression=I,this.type=ie,this.maxValue=0,this.paintVertexAttributes=W.map(function(Se){return{name:"a_"+Se,type:"Float32",components:ie==="color"?2:1,offset:0}}),this.paintVertexArray=new pe};Jn.prototype.populatePaintArray=function(I,W,ie,pe,Se){var Re=this.paintVertexArray.length,$e=this.expression.evaluate(new Ea(0),W,{},pe,[],Se);this.paintVertexArray.resize(I),this._setPaintValue(Re,I,$e)},Jn.prototype.updatePaintArray=function(I,W,ie,pe){var Se=this.expression.evaluate({zoom:0},ie,pe);this._setPaintValue(I,W,Se)},Jn.prototype._setPaintValue=function(I,W,ie){if(this.type==="color")for(var pe=Xn(ie),Se=I;Se<W;Se++)this.paintVertexArray.emplace(Se,pe[0],pe[1]);else{for(var Re=I;Re<W;Re++)this.paintVertexArray.emplace(Re,ie);this.maxValue=Math.max(this.maxValue,Math.abs(ie))}},Jn.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var aa=function(I,W,ie,pe,Se,Re){this.expression=I,this.uniformNames=W.map(function($e){return"u_"+$e+"_t"}),this.type=ie,this.useIntegerZoom=pe,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=W.map(function($e){return{name:"a_"+$e,type:"Float32",components:ie==="color"?4:2,offset:0}}),this.paintVertexArray=new Re};aa.prototype.populatePaintArray=function(I,W,ie,pe,Se){var Re=this.expression.evaluate(new Ea(this.zoom),W,{},pe,[],Se),$e=this.expression.evaluate(new Ea(this.zoom+1),W,{},pe,[],Se),dt=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(dt,I,Re,$e)},aa.prototype.updatePaintArray=function(I,W,ie,pe){var Se=this.expression.evaluate({zoom:this.zoom},ie,pe),Re=this.expression.evaluate({zoom:this.zoom+1},ie,pe);this._setPaintValue(I,W,Se,Re)},aa.prototype._setPaintValue=function(I,W,ie,pe){if(this.type==="color")for(var Se=Xn(ie),Re=Xn(pe),$e=I;$e<W;$e++)this.paintVertexArray.emplace($e,Se[0],Se[1],Re[0],Re[1]);else{for(var dt=I;dt<W;dt++)this.paintVertexArray.emplace(dt,ie,pe);this.maxValue=Math.max(this.maxValue,Math.abs(ie),Math.abs(pe))}},aa.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},aa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},aa.prototype.setUniform=function(I,W){var ie=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,pe=c(this.expression.interpolationFactor(ie,this.zoom,this.zoom+1),0,1);I.set(pe)},aa.prototype.getBinding=function(I,W,ie){return new Xr(I,W)};var fa=function(I,W,ie,pe,Se,Re){this.expression=I,this.type=W,this.useIntegerZoom=ie,this.zoom=pe,this.layerId=Re,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};fa.prototype.populatePaintArray=function(I,W,ie){var pe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(pe,I,W.patterns&&W.patterns[this.layerId],ie)},fa.prototype.updatePaintArray=function(I,W,ie,pe,Se){this._setPaintValues(I,W,ie.patterns&&ie.patterns[this.layerId],Se)},fa.prototype._setPaintValues=function(I,W,ie,pe){if(!(!pe||!ie)){var Se=ie.min,Re=ie.mid,$e=ie.max,dt=pe[Se],St=pe[Re],Rt=pe[$e];if(!(!dt||!St||!Rt))for(var jt=I;jt<W;jt++)this.zoomInPaintVertexArray.emplace(jt,St.tl[0],St.tl[1],St.br[0],St.br[1],dt.tl[0],dt.tl[1],dt.br[0],dt.br[1],St.pixelRatio,dt.pixelRatio),this.zoomOutPaintVertexArray.emplace(jt,St.tl[0],St.tl[1],St.br[0],St.br[1],Rt.tl[0],Rt.tl[1],Rt.br[0],Rt.br[1],St.pixelRatio,Rt.pixelRatio)}},fa.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,J.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,J.members,this.expression.isStateDependent))},fa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var wa=function(I,W,ie){this.binders={},this._buffers=[];var pe=[];for(var Se in I.paint._values)if(ie(Se)){var Re=I.paint.get(Se);if(!(!(Re instanceof Ci)||!qs(Re.property.specification))){var $e=Na(Se,I.type),dt=Re.value,St=Re.property.specification.type,Rt=Re.property.useIntegerZoom,jt=Re.property.specification["property-type"],ir=jt==="cross-faded"||jt==="cross-faded-data-driven";if(dt.kind==="constant")this.binders[Se]=ir?new jn(dt.value,$e):new Zn(dt.value,$e,St),pe.push("/u_"+Se);else if(dt.kind==="source"||ir){var tr=Ka(Se,St,"source");this.binders[Se]=ir?new fa(dt,St,Rt,W,tr,I.id):new Jn(dt,$e,St,tr),pe.push("/a_"+Se)}else{var xr=Ka(Se,St,"composite");this.binders[Se]=new aa(dt,$e,St,Rt,W,xr),pe.push("/z_"+Se)}}}this.cacheKey=pe.sort().join("")};wa.prototype.getMaxValue=function(I){var W=this.binders[I];return W instanceof Jn||W instanceof aa?W.maxValue:0},wa.prototype.populatePaintArrays=function(I,W,ie,pe,Se){for(var Re in this.binders){var $e=this.binders[Re];($e instanceof Jn||$e instanceof aa||$e instanceof fa)&&$e.populatePaintArray(I,W,ie,pe,Se)}},wa.prototype.setConstantPatternPositions=function(I,W){for(var ie in this.binders){var pe=this.binders[ie];pe instanceof jn&&pe.setConstantPatternPositions(I,W)}},wa.prototype.updatePaintArrays=function(I,W,ie,pe,Se){var Re=!1;for(var $e in I)for(var dt=W.getPositions($e),St=0,Rt=dt;St<Rt.length;St+=1){var jt=Rt[St],ir=ie.feature(jt.index);for(var tr in this.binders){var xr=this.binders[tr];if((xr instanceof Jn||xr instanceof aa||xr instanceof fa)&&xr.expression.isStateDependent===!0){var Br=pe.paint.get(tr);xr.expression=Br.value,xr.updatePaintArray(jt.start,jt.end,ir,I[$e],Se),Re=!0}}}return Re},wa.prototype.defines=function(){var I=[];for(var W in this.binders){var ie=this.binders[W];(ie instanceof Zn||ie instanceof jn)&&I.push.apply(I,ie.uniformNames.map(function(pe){return"#define HAS_UNIFORM_"+pe}))}return I},wa.prototype.getBinderAttributes=function(){var I=[];for(var W in this.binders){var ie=this.binders[W];if(ie instanceof Jn||ie instanceof aa)for(var pe=0;pe<ie.paintVertexAttributes.length;pe++)I.push(ie.paintVertexAttributes[pe].name);else if(ie instanceof fa)for(var Se=0;Se<J.members.length;Se++)I.push(J.members[Se].name)}return I},wa.prototype.getBinderUniforms=function(){var I=[];for(var W in this.binders){var ie=this.binders[W];if(ie instanceof Zn||ie instanceof jn||ie instanceof aa)for(var pe=0,Se=ie.uniformNames;pe<Se.length;pe+=1){var Re=Se[pe];I.push(Re)}}return I},wa.prototype.getPaintVertexBuffers=function(){return this._buffers},wa.prototype.getUniforms=function(I,W){var ie=[];for(var pe in this.binders){var Se=this.binders[pe];if(Se instanceof Zn||Se instanceof jn||Se instanceof aa)for(var Re=0,$e=Se.uniformNames;Re<$e.length;Re+=1){var dt=$e[Re];if(W[dt]){var St=Se.getBinding(I,W[dt],dt);ie.push({name:dt,property:pe,binding:St})}}}return ie},wa.prototype.setUniforms=function(I,W,ie,pe){for(var Se=0,Re=W;Se<Re.length;Se+=1){var $e=Re[Se],dt=$e.name,St=$e.property,Rt=$e.binding;this.binders[St].setUniform(Rt,pe,ie.get(St),dt)}},wa.prototype.updatePaintBuffers=function(I){this._buffers=[];for(var W in this.binders){var ie=this.binders[W];if(I&&ie instanceof fa){var pe=I.fromScale===2?ie.zoomInPaintVertexBuffer:ie.zoomOutPaintVertexBuffer;pe&&this._buffers.push(pe)}else(ie instanceof Jn||ie instanceof aa)&&ie.paintVertexBuffer&&this._buffers.push(ie.paintVertexBuffer)}},wa.prototype.upload=function(I){for(var W in this.binders){var ie=this.binders[W];(ie instanceof Jn||ie instanceof aa||ie instanceof fa)&&ie.upload(I)}this.updatePaintBuffers()},wa.prototype.destroy=function(){for(var I in this.binders){var W=this.binders[I];(W instanceof Jn||W instanceof aa||W instanceof fa)&&W.destroy()}};var ga=function(I,W,ie){ie===void 0&&(ie=function(){return!0}),this.programConfigurations={};for(var pe=0,Se=I;pe<Se.length;pe+=1){var Re=Se[pe];this.programConfigurations[Re.id]=new wa(Re,W,ie)}this.needsUpload=!1,this._featureMap=new ut,this._bufferOffset=0};ga.prototype.populatePaintArrays=function(I,W,ie,pe,Se,Re){for(var $e in this.programConfigurations)this.programConfigurations[$e].populatePaintArrays(I,W,pe,Se,Re);W.id!==void 0&&this._featureMap.add(W.id,ie,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},ga.prototype.updatePaintArrays=function(I,W,ie,pe){for(var Se=0,Re=ie;Se<Re.length;Se+=1){var $e=Re[Se];this.needsUpload=this.programConfigurations[$e.id].updatePaintArrays(I,this._featureMap,W,$e,pe)||this.needsUpload}},ga.prototype.get=function(I){return this.programConfigurations[I]},ga.prototype.upload=function(I){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(I);this.needsUpload=!1}},ga.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()};function Na(D,I){var W={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return W[D]||[D.replace(I+"-","").replace(/-/g,"_")]}function ri(D){var I={"line-pattern":{source:Ts,composite:Ts},"fill-pattern":{source:Ts,composite:Ts},"fill-extrusion-pattern":{source:Ts,composite:Ts}};return I[D]}function Ka(D,I,W){var ie={color:{source:ch,composite:mc},number:{source:hh,composite:ch}},pe=ri(D);return pe&&pe[W]||ie[I][W]}Ne("ConstantBinder",Zn),Ne("CrossFadedConstantBinder",jn),Ne("SourceExpressionBinder",Jn),Ne("CrossFadedCompositeBinder",fa),Ne("CompositeExpressionBinder",aa),Ne("ProgramConfiguration",wa,{omit:["_buffers"]}),Ne("ProgramConfigurationSet",ga);var Ca=8192,$a=15,ja=Math.pow(2,$a-1)-1,fi=-ja-1;function ii(D){for(var I=Ca/D.extent,W=D.loadGeometry(),ie=0;ie<W.length;ie++)for(var pe=W[ie],Se=0;Se<pe.length;Se++){var Re=pe[Se],$e=Math.round(Re.x*I),dt=Math.round(Re.y*I);Re.x=c($e,fi,ja),Re.y=c(dt,fi,ja),($e<Re.x||$e>Re.x+1||dt<Re.y||dt>Re.y+1)&&B("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return W}function Pi(D,I){return{type:D.type,id:D.id,properties:D.properties,geometry:I?ii(D):[]}}function ti(D,I,W,ie,pe){D.emplaceBack(I*2+(ie+1)/2,W*2+(pe+1)/2)}var Ti=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new yc,this.indexArray=new of,this.segments=new bo,this.programConfigurations=new ga(I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Ti.prototype.populate=function(I,W,ie){var pe=this.layers[0],Se=[],Re=null;pe.type==="circle"&&(Re=pe.layout.get("circle-sort-key"));for(var $e=0,dt=I;$e<dt.length;$e+=1){var St=dt[$e],Rt=St.feature,jt=St.id,ir=St.index,tr=St.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,Br=Pi(Rt,xr);if(this.layers[0]._featureFilter.filter(new Ea(this.zoom),Br,ie)){var ln=Re?Re.evaluate(Br,{},ie):void 0,nn={id:jt,properties:Rt.properties,type:Rt.type,sourceLayerIndex:tr,index:ir,geometry:xr?Br.geometry:ii(Rt),patterns:{},sortKey:ln};Se.push(nn)}}Re&&Se.sort(function(ya,Aa){return ya.sortKey-Aa.sortKey});for(var Cn=0,yn=Se;Cn<yn.length;Cn+=1){var En=yn[Cn],_n=En,Yn=_n.geometry,ia=_n.index,ta=_n.sourceLayerIndex,Sa=I[ia].feature;this.addFeature(En,Yn,ia,ie),W.featureIndex.insert(Sa,Yn,ia,ta,this.index)}},Ti.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ie)},Ti.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ti.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ti.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,J0),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Ti.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ti.prototype.addFeature=function(I,W,ie,pe){for(var Se=0,Re=W;Se<Re.length;Se+=1)for(var $e=Re[Se],dt=0,St=$e;dt<St.length;dt+=1){var Rt=St[dt],jt=Rt.x,ir=Rt.y;if(!(jt<0||jt>=Ca||ir<0||ir>=Ca)){var tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),xr=tr.vertexLength;ti(this.layoutVertexArray,jt,ir,-1,-1),ti(this.layoutVertexArray,jt,ir,1,-1),ti(this.layoutVertexArray,jt,ir,1,1),ti(this.layoutVertexArray,jt,ir,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),tr.vertexLength+=4,tr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ie,{},pe)},Ne("CircleBucket",Ti,{omit:["layers"]});function Ya(D,I){for(var W=0;W<D.length;W++)if(As(I,D[W]))return!0;for(var ie=0;ie<I.length;ie++)if(As(D,I[ie]))return!0;return!!wl(D,I)}function ni(D,I,W){return!!(As(D,I)||xu(I,D,W))}function $i(D,I){if(D.length===1)return bu(I,D[0]);for(var W=0;W<I.length;W++)for(var ie=I[W],pe=0;pe<ie.length;pe++)if(As(D,ie[pe]))return!0;for(var Se=0;Se<D.length;Se++)if(bu(I,D[Se]))return!0;for(var Re=0;Re<I.length;Re++)if(wl(D,I[Re]))return!0;return!1}function Ro(D,I,W){for(var ie=0;ie<I.length;ie++){var pe=I[ie];if(D.length>=3){for(var Se=0;Se<pe.length;Se++)if(As(D,pe[Se]))return!0}if(bl(D,pe,W))return!0}return!1}function bl(D,I,W){if(D.length>1){if(wl(D,I))return!0;for(var ie=0;ie<I.length;ie++)if(xu(I[ie],D,W))return!0}for(var pe=0;pe<D.length;pe++)if(xu(D[pe],I,W))return!0;return!1}function wl(D,I){if(D.length===0||I.length===0)return!1;for(var W=0;W<D.length-1;W++)for(var ie=D[W],pe=D[W+1],Se=0;Se<I.length-1;Se++){var Re=I[Se],$e=I[Se+1];if(Bl(ie,pe,Re,$e))return!0}return!1}function Bl(D,I,W,ie){return N(D,W,ie)!==N(I,W,ie)&&N(D,I,W)!==N(D,I,ie)}function xu(D,I,W){var ie=W*W;if(I.length===1)return D.distSqr(I[0])<ie;for(var pe=1;pe<I.length;pe++){var Se=I[pe-1],Re=I[pe];if(bc(D,Se,Re)<ie)return!0}return!1}function bc(D,I,W){var ie=I.distSqr(W);if(ie===0)return D.distSqr(I);var pe=((D.x-I.x)*(W.x-I.x)+(D.y-I.y)*(W.y-I.y))/ie;return pe<0?D.distSqr(I):pe>1?D.distSqr(W):D.distSqr(W.sub(I)._mult(pe)._add(I))}function bu(D,I){for(var W=!1,ie,pe,Se,Re=0;Re<D.length;Re++){ie=D[Re];for(var $e=0,dt=ie.length-1;$e<ie.length;dt=$e++)pe=ie[$e],Se=ie[dt],pe.y>I.y!=Se.y>I.y&&I.x<(Se.x-pe.x)*(I.y-pe.y)/(Se.y-pe.y)+pe.x&&(W=!W)}return W}function As(D,I){for(var W=!1,ie=0,pe=D.length-1;ie<D.length;pe=ie++){var Se=D[ie],Re=D[pe];Se.y>I.y!=Re.y>I.y&&I.x<(Re.x-Se.x)*(I.y-Se.y)/(Re.y-Se.y)+Se.x&&(W=!W)}return W}function wu(D,I,W,ie,pe){for(var Se=0,Re=D;Se<Re.length;Se+=1){var $e=Re[Se];if(I<=$e.x&&W<=$e.y&&ie>=$e.x&&pe>=$e.y)return!0}var dt=[new r(I,W),new r(I,pe),new r(ie,pe),new r(ie,W)];if(D.length>2)for(var St=0,Rt=dt;St<Rt.length;St+=1){var jt=Rt[St];if(As(D,jt))return!0}for(var ir=0;ir<D.length-1;ir++){var tr=D[ir],xr=D[ir+1];if(Bs(tr,xr,dt))return!0}return!1}function Bs(D,I,W){var ie=W[0],pe=W[2];if(D.x<ie.x&&I.x<ie.x||D.x>pe.x&&I.x>pe.x||D.y<ie.y&&I.y<ie.y||D.y>pe.y&&I.y>pe.y)return!1;var Se=N(D,I,W[0]);return Se!==N(D,I,W[1])||Se!==N(D,I,W[2])||Se!==N(D,I,W[3])}function Ss(D,I,W){var ie=I.paint.get(D).value;return ie.kind==="constant"?ie.value:W.programConfigurations.get(I.id).getMaxValue(D)}function Ul(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function sf(D,I,W,ie,pe){if(!I[0]&&!I[1])return D;var Se=r.convert(I)._mult(pe);W==="viewport"&&Se._rotate(-ie);for(var Re=[],$e=0;$e<D.length;$e++){var dt=D[$e];Re.push(dt.sub(Se))}return Re}var Vl=new pi({"circle-sort-key":new Ra(Mr.layout_circle["circle-sort-key"])}),jv=new pi({"circle-radius":new Ra(Mr.paint_circle["circle-radius"]),"circle-color":new Ra(Mr.paint_circle["circle-color"]),"circle-blur":new Ra(Mr.paint_circle["circle-blur"]),"circle-opacity":new Ra(Mr.paint_circle["circle-opacity"]),"circle-translate":new ua(Mr.paint_circle["circle-translate"]),"circle-translate-anchor":new ua(Mr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ua(Mr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ua(Mr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ra(Mr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ra(Mr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ra(Mr.paint_circle["circle-stroke-opacity"])}),ph={paint:jv,layout:Vl},Fo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,I=0,W=arguments.length;W--;)I+=D[W]*D[W];return Math.sqrt(I)});function Yv(){var D=new Fo(4);return Fo!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function mv(D,I,W){var ie=I[0],pe=I[1],Se=I[2],Re=I[3],$e=Math.sin(W),dt=Math.cos(W);return D[0]=ie*dt+Se*$e,D[1]=pe*dt+Re*$e,D[2]=ie*-$e+Se*dt,D[3]=pe*-$e+Re*dt,D}function ss(){var D=new Fo(9);return Fo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function gh(D,I){var W=Math.sin(I),ie=Math.cos(I);return D[0]=ie,D[1]=W,D[2]=0,D[3]=-W,D[4]=ie,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function Xv(){var D=new Fo(16);return Fo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function Zv(D){var I=new Fo(16);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I[3]=D[3],I[4]=D[4],I[5]=D[5],I[6]=D[6],I[7]=D[7],I[8]=D[8],I[9]=D[9],I[10]=D[10],I[11]=D[11],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15],I}function Kv(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function yh(D,I){var W=I[0],ie=I[1],pe=I[2],Se=I[3],Re=I[4],$e=I[5],dt=I[6],St=I[7],Rt=I[8],jt=I[9],ir=I[10],tr=I[11],xr=I[12],Br=I[13],ln=I[14],nn=I[15],Cn=W*$e-ie*Re,yn=W*dt-pe*Re,En=W*St-Se*Re,_n=ie*dt-pe*$e,Yn=ie*St-Se*$e,ia=pe*St-Se*dt,ta=Rt*Br-jt*xr,Sa=Rt*ln-ir*xr,ya=Rt*nn-tr*xr,Aa=jt*ln-ir*Br,Ga=jt*nn-tr*Br,Ma=ir*nn-tr*ln,Pa=Cn*Ma-yn*Ga+En*Aa+_n*ya-Yn*Sa+ia*ta;return Pa?(Pa=1/Pa,D[0]=($e*Ma-dt*Ga+St*Aa)*Pa,D[1]=(pe*Ga-ie*Ma-Se*Aa)*Pa,D[2]=(Br*ia-ln*Yn+nn*_n)*Pa,D[3]=(ir*Yn-jt*ia-tr*_n)*Pa,D[4]=(dt*ya-Re*Ma-St*Sa)*Pa,D[5]=(W*Ma-pe*ya+Se*Sa)*Pa,D[6]=(ln*En-xr*ia-nn*yn)*Pa,D[7]=(Rt*ia-ir*En+tr*yn)*Pa,D[8]=(Re*Ga-$e*ya+St*ta)*Pa,D[9]=(ie*ya-W*Ga-Se*ta)*Pa,D[10]=(xr*Yn-Br*En+nn*Cn)*Pa,D[11]=(jt*En-Rt*Yn-tr*Cn)*Pa,D[12]=($e*Sa-Re*Aa-dt*ta)*Pa,D[13]=(W*Aa-ie*Sa+pe*ta)*Pa,D[14]=(Br*yn-xr*_n-ln*Cn)*Pa,D[15]=(Rt*_n-jt*yn+ir*Cn)*Pa,D):null}function mh(D,I,W){var ie=I[0],pe=I[1],Se=I[2],Re=I[3],$e=I[4],dt=I[5],St=I[6],Rt=I[7],jt=I[8],ir=I[9],tr=I[10],xr=I[11],Br=I[12],ln=I[13],nn=I[14],Cn=I[15],yn=W[0],En=W[1],_n=W[2],Yn=W[3];return D[0]=yn*ie+En*$e+_n*jt+Yn*Br,D[1]=yn*pe+En*dt+_n*ir+Yn*ln,D[2]=yn*Se+En*St+_n*tr+Yn*nn,D[3]=yn*Re+En*Rt+_n*xr+Yn*Cn,yn=W[4],En=W[5],_n=W[6],Yn=W[7],D[4]=yn*ie+En*$e+_n*jt+Yn*Br,D[5]=yn*pe+En*dt+_n*ir+Yn*ln,D[6]=yn*Se+En*St+_n*tr+Yn*nn,D[7]=yn*Re+En*Rt+_n*xr+Yn*Cn,yn=W[8],En=W[9],_n=W[10],Yn=W[11],D[8]=yn*ie+En*$e+_n*jt+Yn*Br,D[9]=yn*pe+En*dt+_n*ir+Yn*ln,D[10]=yn*Se+En*St+_n*tr+Yn*nn,D[11]=yn*Re+En*Rt+_n*xr+Yn*Cn,yn=W[12],En=W[13],_n=W[14],Yn=W[15],D[12]=yn*ie+En*$e+_n*jt+Yn*Br,D[13]=yn*pe+En*dt+_n*ir+Yn*ln,D[14]=yn*Se+En*St+_n*tr+Yn*nn,D[15]=yn*Re+En*Rt+_n*xr+Yn*Cn,D}function no(D,I,W){var ie=W[0],pe=W[1],Se=W[2],Re,$e,dt,St,Rt,jt,ir,tr,xr,Br,ln,nn;return I===D?(D[12]=I[0]*ie+I[4]*pe+I[8]*Se+I[12],D[13]=I[1]*ie+I[5]*pe+I[9]*Se+I[13],D[14]=I[2]*ie+I[6]*pe+I[10]*Se+I[14],D[15]=I[3]*ie+I[7]*pe+I[11]*Se+I[15]):(Re=I[0],$e=I[1],dt=I[2],St=I[3],Rt=I[4],jt=I[5],ir=I[6],tr=I[7],xr=I[8],Br=I[9],ln=I[10],nn=I[11],D[0]=Re,D[1]=$e,D[2]=dt,D[3]=St,D[4]=Rt,D[5]=jt,D[6]=ir,D[7]=tr,D[8]=xr,D[9]=Br,D[10]=ln,D[11]=nn,D[12]=Re*ie+Rt*pe+xr*Se+I[12],D[13]=$e*ie+jt*pe+Br*Se+I[13],D[14]=dt*ie+ir*pe+ln*Se+I[14],D[15]=St*ie+tr*pe+nn*Se+I[15]),D}function Us(D,I,W){var ie=W[0],pe=W[1],Se=W[2];return D[0]=I[0]*ie,D[1]=I[1]*ie,D[2]=I[2]*ie,D[3]=I[3]*ie,D[4]=I[4]*pe,D[5]=I[5]*pe,D[6]=I[6]*pe,D[7]=I[7]*pe,D[8]=I[8]*Se,D[9]=I[9]*Se,D[10]=I[10]*Se,D[11]=I[11]*Se,D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15],D}function Vs(D,I,W){var ie=Math.sin(W),pe=Math.cos(W),Se=I[4],Re=I[5],$e=I[6],dt=I[7],St=I[8],Rt=I[9],jt=I[10],ir=I[11];return I!==D&&(D[0]=I[0],D[1]=I[1],D[2]=I[2],D[3]=I[3],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[4]=Se*pe+St*ie,D[5]=Re*pe+Rt*ie,D[6]=$e*pe+jt*ie,D[7]=dt*pe+ir*ie,D[8]=St*pe-Se*ie,D[9]=Rt*pe-Re*ie,D[10]=jt*pe-$e*ie,D[11]=ir*pe-dt*ie,D}function Jv(D,I,W){var ie=Math.sin(W),pe=Math.cos(W),Se=I[0],Re=I[1],$e=I[2],dt=I[3],St=I[4],Rt=I[5],jt=I[6],ir=I[7];return I!==D&&(D[8]=I[8],D[9]=I[9],D[10]=I[10],D[11]=I[11],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[0]=Se*pe+St*ie,D[1]=Re*pe+Rt*ie,D[2]=$e*pe+jt*ie,D[3]=dt*pe+ir*ie,D[4]=St*pe-Se*ie,D[5]=Rt*pe-Re*ie,D[6]=jt*pe-$e*ie,D[7]=ir*pe-dt*ie,D}function dp(D,I,W,ie,pe){var Se=1/Math.tan(I/2),Re;return D[0]=Se/W,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Se,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,pe!=null&&pe!==1/0?(Re=1/(ie-pe),D[10]=(pe+ie)*Re,D[14]=2*pe*ie*Re):(D[10]=-1,D[14]=-2*ie),D}function Km(D,I,W,ie,pe,Se,Re){var $e=1/(I-W),dt=1/(ie-pe),St=1/(Se-Re);return D[0]=-2*$e,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*dt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*St,D[11]=0,D[12]=(I+W)*$e,D[13]=(pe+ie)*dt,D[14]=(Re+Se)*St,D[15]=1,D}var Jm=mh;function xv(){var D=new Fo(3);return Fo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function $m(D){var I=new Fo(3);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I}function $v(D,I,W){return D[0]=I[0]+W[0],D[1]=I[1]+W[1],D[2]=I[2]+W[2],D}function Qm(D,I,W){return D[0]=I[0]-W[0],D[1]=I[1]-W[1],D[2]=I[2]-W[2],D}function qm(D,I,W){return D[0]=I[0]*W,D[1]=I[1]*W,D[2]=I[2]*W,D}function pp(D,I){var W=I[0],ie=I[1],pe=I[2],Se=W*W+ie*ie+pe*pe;return Se>0&&(Se=1/Math.sqrt(Se)),D[0]=I[0]*Se,D[1]=I[1]*Se,D[2]=I[2]*Se,D}function ZS(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]}function KS(D,I,W){var ie=I[0],pe=I[1],Se=I[2],Re=W[0],$e=W[1],dt=W[2];return D[0]=pe*dt-Se*$e,D[1]=Se*Re-ie*dt,D[2]=ie*$e-pe*Re,D}function JS(D,I,W){var ie=I[0],pe=I[1],Se=I[2];return D[0]=ie*W[0]+pe*W[3]+Se*W[6],D[1]=ie*W[1]+pe*W[4]+Se*W[7],D[2]=ie*W[2]+pe*W[5]+Se*W[8],D}var $S=Qm;(function(){var D=xv();return function(I,W,ie,pe,Se,Re){var $e,dt;for(W||(W=3),ie||(ie=0),pe?dt=Math.min(pe*W+ie,I.length):dt=I.length,$e=ie;$e<dt;$e+=W)D[0]=I[$e],D[1]=I[$e+1],D[2]=I[$e+2],Se(D,D,Re),I[$e]=D[0],I[$e+1]=D[1],I[$e+2]=D[2];return I}})();function QS(){var D=new Fo(4);return Fo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function qS(D,I,W){return D[0]=I[0]*W,D[1]=I[1]*W,D[2]=I[2]*W,D[3]=I[3]*W,D}function eM(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3]}function $0(D,I,W){var ie=I[0],pe=I[1],Se=I[2],Re=I[3];return D[0]=W[0]*ie+W[4]*pe+W[8]*Se+W[12]*Re,D[1]=W[1]*ie+W[5]*pe+W[9]*Se+W[13]*Re,D[2]=W[2]*ie+W[6]*pe+W[10]*Se+W[14]*Re,D[3]=W[3]*ie+W[7]*pe+W[11]*Se+W[15]*Re,D}(function(){var D=QS();return function(I,W,ie,pe,Se,Re){var $e,dt;for(W||(W=4),ie||(ie=0),pe?dt=Math.min(pe*W+ie,I.length):dt=I.length,$e=ie;$e<dt;$e+=W)D[0]=I[$e],D[1]=I[$e+1],D[2]=I[$e+2],D[3]=I[$e+3],Se(D,D,Re),I[$e]=D[0],I[$e+1]=D[1],I[$e+2]=D[2],I[$e+3]=D[3];return I}})();function tM(){var D=new Fo(2);return Fo!=Float32Array&&(D[0]=0,D[1]=0),D}function rM(D){var I=D[0],W=D[1];return I*I+W*W}var nM=rM;(function(){var D=tM();return function(I,W,ie,pe,Se,Re){var $e,dt;for(W||(W=2),ie||(ie=0),pe?dt=Math.min(pe*W+ie,I.length):dt=I.length,$e=ie;$e<dt;$e+=W)D[0]=I[$e],D[1]=I[$e+1],Se(D,D,Re),I[$e]=D[0],I[$e+1]=D[1];return I}})();var aM=function(D){function I(W){D.call(this,W,ph)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ie){return new Ti(ie)},I.prototype.queryRadius=function(ie){var pe=ie;return Ss("circle-radius",this,pe)+Ss("circle-stroke-width",this,pe)+Ul(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(ie,pe,Se,Re,$e,dt,St,Rt){for(var jt=sf(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),dt.angle,St),ir=this.paint.get("circle-radius").evaluate(pe,Se),tr=this.paint.get("circle-stroke-width").evaluate(pe,Se),xr=ir+tr,Br=this.paint.get("circle-pitch-alignment")==="map",ln=Br?jt:iM(jt,Rt),nn=Br?xr*St:xr,Cn=0,yn=Re;Cn<yn.length;Cn+=1)for(var En=yn[Cn],_n=0,Yn=En;_n<Yn.length;_n+=1){var ia=Yn[_n],ta=Br?ia:ow(ia,Rt),Sa=nn,ya=$0([],[ia.x,ia.y,0,1],Rt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Sa*=ya[3]/dt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Sa*=dt.cameraToCenterDistance/ya[3]),ni(ln,ta,Sa))return!0}return!1},I}(Ji);function ow(D,I){var W=$0([],[D.x,D.y,0,1],I);return new r(W[0]/W[3],W[1]/W[3])}function iM(D,I){return D.map(function(W){return ow(W,I)})}var sw=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Ti);Ne("HeatmapBucket",sw,{omit:["layers"]});function e1(D,I,W,ie){var pe=I.width,Se=I.height;if(!ie)ie=new Uint8Array(pe*Se*W);else if(ie instanceof Uint8ClampedArray)ie=new Uint8Array(ie.buffer);else if(ie.length!==pe*Se*W)throw new RangeError("mismatched image size");return D.width=pe,D.height=Se,D.data=ie,D}function lw(D,I,W){var ie=I.width,pe=I.height;if(!(ie===D.width&&pe===D.height)){var Se=e1({},{width:ie,height:pe},W);t1(D,Se,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ie),height:Math.min(D.height,pe)},W),D.width=ie,D.height=pe,D.data=Se.data}}function t1(D,I,W,ie,pe,Se){if(pe.width===0||pe.height===0)return I;if(pe.width>D.width||pe.height>D.height||W.x>D.width-pe.width||W.y>D.height-pe.height)throw new RangeError("out of range source coordinates for image copy");if(pe.width>I.width||pe.height>I.height||ie.x>I.width-pe.width||ie.y>I.height-pe.height)throw new RangeError("out of range destination coordinates for image copy");for(var Re=D.data,$e=I.data,dt=0;dt<pe.height;dt++)for(var St=((W.y+dt)*D.width+W.x)*Se,Rt=((ie.y+dt)*I.width+ie.x)*Se,jt=0;jt<pe.width*Se;jt++)$e[Rt+jt]=Re[St+jt];return I}var bv=function(I,W){e1(this,I,1,W)};bv.prototype.resize=function(I){lw(this,I,1)},bv.prototype.clone=function(){return new bv({width:this.width,height:this.height},new Uint8Array(this.data))},bv.copy=function(I,W,ie,pe,Se){t1(I,W,ie,pe,Se,1)};var Hs=function(I,W){e1(this,I,4,W)};Hs.prototype.resize=function(I){lw(this,I,4)},Hs.prototype.replace=function(I,W){W?this.data.set(I):I instanceof Uint8ClampedArray?this.data=new Uint8Array(I.buffer):this.data=I},Hs.prototype.clone=function(){return new Hs({width:this.width,height:this.height},new Uint8Array(this.data))},Hs.copy=function(I,W,ie,pe,Se){t1(I,W,ie,pe,Se,4)},Ne("AlphaImage",bv),Ne("RGBAImage",Hs);var oM=new pi({"heatmap-radius":new Ra(Mr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ra(Mr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ua(Mr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xo(Mr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ua(Mr.paint_heatmap["heatmap-opacity"])}),sM={paint:oM};function uw(D){var I={},W=D.resolution||256,ie=D.clips?D.clips.length:1,pe=D.image||new Hs({width:W,height:ie}),Se=function(Cn,yn,En){I[D.evaluationKey]=En;var _n=D.expression.evaluate(I);pe.data[Cn+yn+0]=Math.floor(_n.r*255/_n.a),pe.data[Cn+yn+1]=Math.floor(_n.g*255/_n.a),pe.data[Cn+yn+2]=Math.floor(_n.b*255/_n.a),pe.data[Cn+yn+3]=Math.floor(_n.a*255)};if(D.clips)for(var St=0,Rt=0;St<ie;++St,Rt+=W*4)for(var jt=0,ir=0;jt<W;jt++,ir+=4){var tr=jt/(W-1),xr=D.clips[St],Br=xr.start,ln=xr.end,nn=Br*(1-tr)+ln*tr;Se(Rt,ir,nn)}else for(var Re=0,$e=0;Re<W;Re++,$e+=4){var dt=Re/(W-1);Se(0,$e,dt)}return pe}var lM=function(D){function I(W){D.call(this,W,sM),this._updateColorRamp()}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ie){return new sw(ie)},I.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var ie=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=uw({expression:ie,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}(Ji),uM=new pi({"hillshade-illumination-direction":new ua(Mr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ua(Mr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ua(Mr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ua(Mr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ua(Mr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ua(Mr.paint_hillshade["hillshade-accent-color"])}),fM={paint:uM},cM=function(D){function I(W){D.call(this,W,fM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}(Ji),hM=zi([{name:"a_pos",components:2,type:"Int16"}],4),vM=hM.members,r1=Q0,dM=Q0;function Q0(D,I,W){W=W||2;var ie=I&&I.length,pe=ie?I[0]*W:D.length,Se=fw(D,0,pe,W,!0),Re=[];if(!Se||Se.next===Se.prev)return Re;var $e,dt,St,Rt,jt,ir,tr;if(ie&&(Se=xM(D,I,Se,W)),D.length>80*W){$e=St=D[0],dt=Rt=D[1];for(var xr=W;xr<pe;xr+=W)jt=D[xr],ir=D[xr+1],jt<$e&&($e=jt),ir<dt&&(dt=ir),jt>St&&(St=jt),ir>Rt&&(Rt=ir);tr=Math.max(St-$e,Rt-dt),tr=tr!==0?1/tr:0}return gp(Se,Re,W,$e,dt,tr),Re}function fw(D,I,W,ie,pe){var Se,Re;if(pe===i1(D,I,W,ie)>0)for(Se=I;Se<W;Se+=ie)Re=vw(Se,D[Se],D[Se+1],Re);else for(Se=W-ie;Se>=I;Se-=ie)Re=vw(Se,D[Se],D[Se+1],Re);return Re&&q0(Re,Re.next)&&(mp(Re),Re=Re.next),Re}function xh(D,I){if(!D)return D;I||(I=D);var W=D,ie;do if(ie=!1,!W.steiner&&(q0(W,W.next)||wo(W.prev,W,W.next)===0)){if(mp(W),W=I=W.prev,W===W.next)break;ie=!0}else W=W.next;while(ie||W!==I);return I}function gp(D,I,W,ie,pe,Se,Re){if(D){!Re&&Se&&SM(D,ie,pe,Se);for(var $e=D,dt,St;D.prev!==D.next;){if(dt=D.prev,St=D.next,Se?gM(D,ie,pe,Se):pM(D)){I.push(dt.i/W),I.push(D.i/W),I.push(St.i/W),mp(D),D=St.next,$e=St.next;continue}if(D=St,D===$e){Re?Re===1?(D=yM(xh(D),I,W),gp(D,I,W,ie,pe,Se,2)):Re===2&&mM(D,I,W,ie,pe,Se):gp(xh(D),I,W,ie,pe,Se,1);break}}}}function pM(D){var I=D.prev,W=D,ie=D.next;if(wo(I,W,ie)>=0)return!1;for(var pe=D.next.next;pe!==D.prev;){if(Qv(I.x,I.y,W.x,W.y,ie.x,ie.y,pe.x,pe.y)&&wo(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function gM(D,I,W,ie){var pe=D.prev,Se=D,Re=D.next;if(wo(pe,Se,Re)>=0)return!1;for(var $e=pe.x<Se.x?pe.x<Re.x?pe.x:Re.x:Se.x<Re.x?Se.x:Re.x,dt=pe.y<Se.y?pe.y<Re.y?pe.y:Re.y:Se.y<Re.y?Se.y:Re.y,St=pe.x>Se.x?pe.x>Re.x?pe.x:Re.x:Se.x>Re.x?Se.x:Re.x,Rt=pe.y>Se.y?pe.y>Re.y?pe.y:Re.y:Se.y>Re.y?Se.y:Re.y,jt=n1($e,dt,I,W,ie),ir=n1(St,Rt,I,W,ie),tr=D.prevZ,xr=D.nextZ;tr&&tr.z>=jt&&xr&&xr.z<=ir;){if(tr!==D.prev&&tr!==D.next&&Qv(pe.x,pe.y,Se.x,Se.y,Re.x,Re.y,tr.x,tr.y)&&wo(tr.prev,tr,tr.next)>=0||(tr=tr.prevZ,xr!==D.prev&&xr!==D.next&&Qv(pe.x,pe.y,Se.x,Se.y,Re.x,Re.y,xr.x,xr.y)&&wo(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;tr&&tr.z>=jt;){if(tr!==D.prev&&tr!==D.next&&Qv(pe.x,pe.y,Se.x,Se.y,Re.x,Re.y,tr.x,tr.y)&&wo(tr.prev,tr,tr.next)>=0)return!1;tr=tr.prevZ}for(;xr&&xr.z<=ir;){if(xr!==D.prev&&xr!==D.next&&Qv(pe.x,pe.y,Se.x,Se.y,Re.x,Re.y,xr.x,xr.y)&&wo(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function yM(D,I,W){var ie=D;do{var pe=ie.prev,Se=ie.next.next;!q0(pe,Se)&&cw(pe,ie,ie.next,Se)&&yp(pe,Se)&&yp(Se,pe)&&(I.push(pe.i/W),I.push(ie.i/W),I.push(Se.i/W),mp(ie),mp(ie.next),ie=D=Se),ie=ie.next}while(ie!==D);return xh(ie)}function mM(D,I,W,ie,pe,Se){var Re=D;do{for(var $e=Re.next.next;$e!==Re.prev;){if(Re.i!==$e.i&&CM(Re,$e)){var dt=hw(Re,$e);Re=xh(Re,Re.next),dt=xh(dt,dt.next),gp(Re,I,W,ie,pe,Se),gp(dt,I,W,ie,pe,Se);return}$e=$e.next}Re=Re.next}while(Re!==D)}function xM(D,I,W,ie){var pe=[],Se,Re,$e,dt,St;for(Se=0,Re=I.length;Se<Re;Se++)$e=I[Se]*ie,dt=Se<Re-1?I[Se+1]*ie:D.length,St=fw(D,$e,dt,ie,!1),St===St.next&&(St.steiner=!0),pe.push(EM(St));for(pe.sort(bM),Se=0;Se<pe.length;Se++)wM(pe[Se],W),W=xh(W,W.next);return W}function bM(D,I){return D.x-I.x}function wM(D,I){if(I=TM(D,I),I){var W=hw(I,D);xh(I,I.next),xh(W,W.next)}}function TM(D,I){var W=I,ie=D.x,pe=D.y,Se=-1/0,Re;do{if(pe<=W.y&&pe>=W.next.y&&W.next.y!==W.y){var $e=W.x+(pe-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if($e<=ie&&$e>Se){if(Se=$e,$e===ie){if(pe===W.y)return W;if(pe===W.next.y)return W.next}Re=W.x<W.next.x?W:W.next}}W=W.next}while(W!==I);if(!Re)return null;if(ie===Se)return Re;var dt=Re,St=Re.x,Rt=Re.y,jt=1/0,ir;W=Re;do ie>=W.x&&W.x>=St&&ie!==W.x&&Qv(pe<Rt?ie:Se,pe,St,Rt,pe<Rt?Se:ie,pe,W.x,W.y)&&(ir=Math.abs(pe-W.y)/(ie-W.x),yp(W,D)&&(ir<jt||ir===jt&&(W.x>Re.x||W.x===Re.x&&AM(Re,W)))&&(Re=W,jt=ir)),W=W.next;while(W!==dt);return Re}function AM(D,I){return wo(D.prev,D,I.prev)<0&&wo(I.next,D,D.next)<0}function SM(D,I,W,ie){var pe=D;do pe.z===null&&(pe.z=n1(pe.x,pe.y,I,W,ie)),pe.prevZ=pe.prev,pe.nextZ=pe.next,pe=pe.next;while(pe!==D);pe.prevZ.nextZ=null,pe.prevZ=null,MM(pe)}function MM(D){var I,W,ie,pe,Se,Re,$e,dt,St=1;do{for(W=D,D=null,Se=null,Re=0;W;){for(Re++,ie=W,$e=0,I=0;I<St&&($e++,ie=ie.nextZ,!!ie);I++);for(dt=St;$e>0||dt>0&&ie;)$e!==0&&(dt===0||!ie||W.z<=ie.z)?(pe=W,W=W.nextZ,$e--):(pe=ie,ie=ie.nextZ,dt--),Se?Se.nextZ=pe:D=pe,pe.prevZ=Se,Se=pe;W=ie}Se.nextZ=null,St*=2}while(Re>1);return D}function n1(D,I,W,ie,pe){return D=32767*(D-W)*pe,I=32767*(I-ie)*pe,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,D|I<<1}function EM(D){var I=D,W=D;do(I.x<W.x||I.x===W.x&&I.y<W.y)&&(W=I),I=I.next;while(I!==D);return W}function Qv(D,I,W,ie,pe,Se,Re,$e){return(pe-Re)*(I-$e)-(D-Re)*(Se-$e)>=0&&(D-Re)*(ie-$e)-(W-Re)*(I-$e)>=0&&(W-Re)*(Se-$e)-(pe-Re)*(ie-$e)>=0}function CM(D,I){return D.next.i!==I.i&&D.prev.i!==I.i&&!LM(D,I)&&(yp(D,I)&&yp(I,D)&&PM(D,I)&&(wo(D.prev,D,I.prev)||wo(D,I.prev,I))||q0(D,I)&&wo(D.prev,D,D.next)>0&&wo(I.prev,I,I.next)>0)}function wo(D,I,W){return(I.y-D.y)*(W.x-I.x)-(I.x-D.x)*(W.y-I.y)}function q0(D,I){return D.x===I.x&&D.y===I.y}function cw(D,I,W,ie){var pe=tg(wo(D,I,W)),Se=tg(wo(D,I,ie)),Re=tg(wo(W,ie,D)),$e=tg(wo(W,ie,I));return!!(pe!==Se&&Re!==$e||pe===0&&eg(D,W,I)||Se===0&&eg(D,ie,I)||Re===0&&eg(W,D,ie)||$e===0&&eg(W,I,ie))}function eg(D,I,W){return I.x<=Math.max(D.x,W.x)&&I.x>=Math.min(D.x,W.x)&&I.y<=Math.max(D.y,W.y)&&I.y>=Math.min(D.y,W.y)}function tg(D){return D>0?1:D<0?-1:0}function LM(D,I){var W=D;do{if(W.i!==D.i&&W.next.i!==D.i&&W.i!==I.i&&W.next.i!==I.i&&cw(W,W.next,D,I))return!0;W=W.next}while(W!==D);return!1}function yp(D,I){return wo(D.prev,D,D.next)<0?wo(D,I,D.next)>=0&&wo(D,D.prev,I)>=0:wo(D,I,D.prev)<0||wo(D,D.next,I)<0}function PM(D,I){var W=D,ie=!1,pe=(D.x+I.x)/2,Se=(D.y+I.y)/2;do W.y>Se!=W.next.y>Se&&W.next.y!==W.y&&pe<(W.next.x-W.x)*(Se-W.y)/(W.next.y-W.y)+W.x&&(ie=!ie),W=W.next;while(W!==D);return ie}function hw(D,I){var W=new a1(D.i,D.x,D.y),ie=new a1(I.i,I.x,I.y),pe=D.next,Se=I.prev;return D.next=I,I.prev=D,W.next=pe,pe.prev=W,ie.next=W,W.prev=ie,Se.next=ie,ie.prev=Se,ie}function vw(D,I,W,ie){var pe=new a1(D,I,W);return ie?(pe.next=ie.next,pe.prev=ie,ie.next.prev=pe,ie.next=pe):(pe.prev=pe,pe.next=pe),pe}function mp(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function a1(D,I,W){this.i=D,this.x=I,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Q0.deviation=function(D,I,W,ie){var pe=I&&I.length,Se=pe?I[0]*W:D.length,Re=Math.abs(i1(D,0,Se,W));if(pe)for(var $e=0,dt=I.length;$e<dt;$e++){var St=I[$e]*W,Rt=$e<dt-1?I[$e+1]*W:D.length;Re-=Math.abs(i1(D,St,Rt,W))}var jt=0;for($e=0;$e<ie.length;$e+=3){var ir=ie[$e]*W,tr=ie[$e+1]*W,xr=ie[$e+2]*W;jt+=Math.abs((D[ir]-D[xr])*(D[tr+1]-D[ir+1])-(D[ir]-D[tr])*(D[xr+1]-D[ir+1]))}return Re===0&&jt===0?0:Math.abs((jt-Re)/Re)};function i1(D,I,W,ie){for(var pe=0,Se=I,Re=W-ie;Se<W;Se+=ie)pe+=(D[Re]-D[Se])*(D[Se+1]+D[Re+1]),Re=Se;return pe}Q0.flatten=function(D){for(var I=D[0][0].length,W={vertices:[],holes:[],dimensions:I},ie=0,pe=0;pe<D.length;pe++){for(var Se=0;Se<D[pe].length;Se++)for(var Re=0;Re<I;Re++)W.vertices.push(D[pe][Se][Re]);pe>0&&(ie+=D[pe-1].length,W.holes.push(ie))}return W},r1.default=dM;function RM(D,I,W,ie,pe){dw(D,I,W||0,ie||D.length-1,pe||DM)}function dw(D,I,W,ie,pe){for(;ie>W;){if(ie-W>600){var Se=ie-W+1,Re=I-W+1,$e=Math.log(Se),dt=.5*Math.exp(2*$e/3),St=.5*Math.sqrt($e*dt*(Se-dt)/Se)*(Re-Se/2<0?-1:1),Rt=Math.max(W,Math.floor(I-Re*dt/Se+St)),jt=Math.min(ie,Math.floor(I+(Se-Re)*dt/Se+St));dw(D,I,Rt,jt,pe)}var ir=D[I],tr=W,xr=ie;for(xp(D,W,I),pe(D[ie],ir)>0&&xp(D,W,ie);tr<xr;){for(xp(D,tr,xr),tr++,xr--;pe(D[tr],ir)<0;)tr++;for(;pe(D[xr],ir)>0;)xr--}pe(D[W],ir)===0?xp(D,W,xr):(xr++,xp(D,xr,ie)),xr<=I&&(W=xr+1),I<=xr&&(ie=xr-1)}}function xp(D,I,W){var ie=D[I];D[I]=D[W],D[W]=ie}function DM(D,I){return D<I?-1:D>I?1:0}function o1(D,I){var W=D.length;if(W<=1)return[D];for(var ie=[],pe,Se,Re=0;Re<W;Re++){var $e=V(D[Re]);$e!==0&&(D[Re].area=Math.abs($e),Se===void 0&&(Se=$e<0),Se===$e<0?(pe&&ie.push(pe),pe=[D[Re]]):pe.push(D[Re]))}if(pe&&ie.push(pe),I>1)for(var dt=0;dt<ie.length;dt++)ie[dt].length<=I||(RM(ie[dt],I,1,ie[dt].length-1,IM),ie[dt]=ie[dt].slice(0,I));return ie}function IM(D,I){return I.area-D.area}function s1(D,I,W){for(var ie=W.patternDependencies,pe=!1,Se=0,Re=I;Se<Re.length;Se+=1){var $e=Re[Se],dt=$e.paint.get(D+"-pattern");dt.isConstant()||(pe=!0);var St=dt.constantOr(null);St&&(pe=!0,ie[St.to]=!0,ie[St.from]=!0)}return pe}function l1(D,I,W,ie,pe){for(var Se=pe.patternDependencies,Re=0,$e=I;Re<$e.length;Re+=1){var dt=$e[Re],St=dt.paint.get(D+"-pattern"),Rt=St.value;if(Rt.kind!=="constant"){var jt=Rt.evaluate({zoom:ie-1},W,{},pe.availableImages),ir=Rt.evaluate({zoom:ie},W,{},pe.availableImages),tr=Rt.evaluate({zoom:ie+1},W,{},pe.availableImages);jt=jt&&jt.name?jt.name:jt,ir=ir&&ir.name?ir.name:ir,tr=tr&&tr.name?tr.name:tr,Se[jt]=!0,Se[ir]=!0,Se[tr]=!0,W.patterns[dt.id]={min:jt,mid:ir,max:tr}}}return W}var kM=500,lf=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new yc,this.indexArray=new of,this.indexArray2=new yv,this.programConfigurations=new ga(I.layers,I.zoom),this.segments=new bo,this.segments2=new bo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};lf.prototype.populate=function(I,W,ie){this.hasPattern=s1("fill",this.layers,W);for(var pe=this.layers[0].layout.get("fill-sort-key"),Se=[],Re=0,$e=I;Re<$e.length;Re+=1){var dt=$e[Re],St=dt.feature,Rt=dt.id,jt=dt.index,ir=dt.sourceLayerIndex,tr=this.layers[0]._featureFilter.needGeometry,xr=Pi(St,tr);if(this.layers[0]._featureFilter.filter(new Ea(this.zoom),xr,ie)){var Br=pe?pe.evaluate(xr,{},ie,W.availableImages):void 0,ln={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:ir,index:jt,geometry:tr?xr.geometry:ii(St),patterns:{},sortKey:Br};Se.push(ln)}}pe&&Se.sort(function(ya,Aa){return ya.sortKey-Aa.sortKey});for(var nn=0,Cn=Se;nn<Cn.length;nn+=1){var yn=Cn[nn],En=yn,_n=En.geometry,Yn=En.index,ia=En.sourceLayerIndex;if(this.hasPattern){var ta=l1("fill",this.layers,yn,this.zoom,W);this.patternFeatures.push(ta)}else this.addFeature(yn,_n,Yn,ie,{});var Sa=I[Yn].feature;W.featureIndex.insert(Sa,_n,Yn,ia,this.index)}},lf.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ie)},lf.prototype.addFeatures=function(I,W,ie){for(var pe=0,Se=this.patternFeatures;pe<Se.length;pe+=1){var Re=Se[pe];this.addFeature(Re,Re.geometry,Re.index,W,ie)}},lf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},lf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},lf.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,vM),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},lf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},lf.prototype.addFeature=function(I,W,ie,pe,Se){for(var Re=0,$e=o1(W,kM);Re<$e.length;Re+=1){for(var dt=$e[Re],St=0,Rt=0,jt=dt;Rt<jt.length;Rt+=1){var ir=jt[Rt];St+=ir.length}for(var tr=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray),xr=tr.vertexLength,Br=[],ln=[],nn=0,Cn=dt;nn<Cn.length;nn+=1){var yn=Cn[nn];if(yn.length!==0){yn!==dt[0]&&ln.push(Br.length/2);var En=this.segments2.prepareSegment(yn.length,this.layoutVertexArray,this.indexArray2),_n=En.vertexLength;this.layoutVertexArray.emplaceBack(yn[0].x,yn[0].y),this.indexArray2.emplaceBack(_n+yn.length-1,_n),Br.push(yn[0].x),Br.push(yn[0].y);for(var Yn=1;Yn<yn.length;Yn++)this.layoutVertexArray.emplaceBack(yn[Yn].x,yn[Yn].y),this.indexArray2.emplaceBack(_n+Yn-1,_n+Yn),Br.push(yn[Yn].x),Br.push(yn[Yn].y);En.vertexLength+=yn.length,En.primitiveLength+=yn.length}}for(var ia=r1(Br,ln),ta=0;ta<ia.length;ta+=3)this.indexArray.emplaceBack(xr+ia[ta],xr+ia[ta+1],xr+ia[ta+2]);tr.vertexLength+=St,tr.primitiveLength+=ia.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ie,Se,pe)},Ne("FillBucket",lf,{omit:["layers","patternFeatures"]});var _M=new pi({"fill-sort-key":new Ra(Mr.layout_fill["fill-sort-key"])}),OM=new pi({"fill-antialias":new ua(Mr.paint_fill["fill-antialias"]),"fill-opacity":new Ra(Mr.paint_fill["fill-opacity"]),"fill-color":new Ra(Mr.paint_fill["fill-color"]),"fill-outline-color":new Ra(Mr.paint_fill["fill-outline-color"]),"fill-translate":new ua(Mr.paint_fill["fill-translate"]),"fill-translate-anchor":new ua(Mr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Zo(Mr.paint_fill["fill-pattern"])}),zM={paint:OM,layout:_M},FM=function(D){function I(W){D.call(this,W,zM)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ie,pe){D.prototype.recalculate.call(this,ie,pe);var Se=this.paint._values["fill-outline-color"];Se.value.kind==="constant"&&Se.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(ie){return new lf(ie)},I.prototype.queryRadius=function(){return Ul(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(ie,pe,Se,Re,$e,dt,St){var Rt=sf(ie,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),dt.angle,St);return $i(Rt,Re)},I.prototype.isTileClipped=function(){return!0},I}(Ji),NM=zi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),BM=NM.members,pw=qv;function qv(D,I,W,ie,pe){this.properties={},this.extent=W,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ie,this._values=pe,D.readFields(UM,this,I)}function UM(D,I,W){D==1?I.id=W.readVarint():D==2?VM(W,I):D==3?I.type=W.readVarint():D==4&&(I._geometry=W.pos)}function VM(D,I){for(var W=D.readVarint()+D.pos;D.pos<W;){var ie=I._keys[D.readVarint()],pe=I._values[D.readVarint()];I.properties[ie]=pe}}qv.types=["Unknown","Point","LineString","Polygon"],qv.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,W=1,ie=0,pe=0,Se=0,Re=[],$e;D.pos<I;){if(ie<=0){var dt=D.readVarint();W=dt&7,ie=dt>>3}if(ie--,W===1||W===2)pe+=D.readSVarint(),Se+=D.readSVarint(),W===1&&($e&&Re.push($e),$e=[]),$e.push(new r(pe,Se));else if(W===7)$e&&$e.push($e[0].clone());else throw new Error("unknown command "+W)}return $e&&Re.push($e),Re},qv.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,W=1,ie=0,pe=0,Se=0,Re=1/0,$e=-1/0,dt=1/0,St=-1/0;D.pos<I;){if(ie<=0){var Rt=D.readVarint();W=Rt&7,ie=Rt>>3}if(ie--,W===1||W===2)pe+=D.readSVarint(),Se+=D.readSVarint(),pe<Re&&(Re=pe),pe>$e&&($e=pe),Se<dt&&(dt=Se),Se>St&&(St=Se);else if(W!==7)throw new Error("unknown command "+W)}return[Re,dt,$e,St]},qv.prototype.toGeoJSON=function(D,I,W){var ie=this.extent*Math.pow(2,W),pe=this.extent*D,Se=this.extent*I,Re=this.loadGeometry(),$e=qv.types[this.type],dt,St;function Rt(tr){for(var xr=0;xr<tr.length;xr++){var Br=tr[xr],ln=180-(Br.y+Se)*360/ie;tr[xr]=[(Br.x+pe)*360/ie-180,360/Math.PI*Math.atan(Math.exp(ln*Math.PI/180))-90]}}switch(this.type){case 1:var jt=[];for(dt=0;dt<Re.length;dt++)jt[dt]=Re[dt][0];Re=jt,Rt(Re);break;case 2:for(dt=0;dt<Re.length;dt++)Rt(Re[dt]);break;case 3:for(Re=HM(Re),dt=0;dt<Re.length;dt++)for(St=0;St<Re[dt].length;St++)Rt(Re[dt][St]);break}Re.length===1?Re=Re[0]:$e="Multi"+$e;var ir={type:"Feature",geometry:{type:$e,coordinates:Re},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function HM(D){var I=D.length;if(I<=1)return[D];for(var W=[],ie,pe,Se=0;Se<I;Se++){var Re=GM(D[Se]);Re!==0&&(pe===void 0&&(pe=Re<0),pe===Re<0?(ie&&W.push(ie),ie=[D[Se]]):ie.push(D[Se]))}return ie&&W.push(ie),W}function GM(D){for(var I=0,W=0,ie=D.length,pe=ie-1,Se,Re;W<ie;pe=W++)Se=D[W],Re=D[pe],I+=(Re.x-Se.x)*(Se.y+Re.y);return I}var gw=yw;function yw(D,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(WM,this,I),this.length=this._features.length}function WM(D,I,W){D===15?I.version=W.readVarint():D===1?I.name=W.readString():D===5?I.extent=W.readVarint():D===2?I._features.push(W.pos):D===3?I._keys.push(W.readString()):D===4&&I._values.push(jM(W))}function jM(D){for(var I=null,W=D.readVarint()+D.pos;D.pos<W;){var ie=D.readVarint()>>3;I=ie===1?D.readString():ie===2?D.readFloat():ie===3?D.readDouble():ie===4?D.readVarint64():ie===5?D.readVarint():ie===6?D.readSVarint():ie===7?D.readBoolean():null}return I}yw.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var I=this._pbf.readVarint()+this._pbf.pos;return new pw(this._pbf,I,this.extent,this._keys,this._values)};var YM=XM;function XM(D,I){this.layers=D.readFields(ZM,{},I)}function ZM(D,I,W){if(D===3){var ie=new gw(W,W.readVarint()+W.pos);ie.length&&(I[ie.name]=ie)}}var KM=YM,JM=pw,$M=gw,ed={VectorTile:KM,VectorTileFeature:JM,VectorTileLayer:$M},QM=ed.VectorTileFeature.types,qM=500,u1=Math.pow(2,13);function bp(D,I,W,ie,pe,Se,Re,$e){D.emplaceBack(I,W,Math.floor(ie*u1)*2+Re,pe*u1*2,Se*u1*2,Math.round($e))}var uf=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Ff,this.indexArray=new of,this.programConfigurations=new ga(I.layers,I.zoom),this.segments=new bo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};uf.prototype.populate=function(I,W,ie){this.features=[],this.hasPattern=s1("fill-extrusion",this.layers,W);for(var pe=0,Se=I;pe<Se.length;pe+=1){var Re=Se[pe],$e=Re.feature,dt=Re.id,St=Re.index,Rt=Re.sourceLayerIndex,jt=this.layers[0]._featureFilter.needGeometry,ir=Pi($e,jt);if(this.layers[0]._featureFilter.filter(new Ea(this.zoom),ir,ie)){var tr={id:dt,sourceLayerIndex:Rt,index:St,geometry:jt?ir.geometry:ii($e),properties:$e.properties,type:$e.type,patterns:{}};this.hasPattern?this.features.push(l1("fill-extrusion",this.layers,tr,this.zoom,W)):this.addFeature(tr,tr.geometry,St,ie,{}),W.featureIndex.insert($e,tr.geometry,St,Rt,this.index,!0)}}},uf.prototype.addFeatures=function(I,W,ie){for(var pe=0,Se=this.features;pe<Se.length;pe+=1){var Re=Se[pe],$e=Re.geometry;this.addFeature(Re,$e,Re.index,W,ie)}},uf.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ie)},uf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},uf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},uf.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,BM),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},uf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},uf.prototype.addFeature=function(I,W,ie,pe,Se){for(var Re=0,$e=o1(W,qM);Re<$e.length;Re+=1){for(var dt=$e[Re],St=0,Rt=0,jt=dt;Rt<jt.length;Rt+=1){var ir=jt[Rt];St+=ir.length}for(var tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,Br=dt;xr<Br.length;xr+=1){var ln=Br[xr];if(ln.length!==0&&!t8(ln))for(var nn=0,Cn=0;Cn<ln.length;Cn++){var yn=ln[Cn];if(Cn>=1){var En=ln[Cn-1];if(!e8(yn,En)){tr.vertexLength+4>bo.MAX_VERTEX_ARRAY_LENGTH&&(tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _n=yn.sub(En)._perp()._unit(),Yn=En.dist(yn);nn+Yn>32768&&(nn=0),bp(this.layoutVertexArray,yn.x,yn.y,_n.x,_n.y,0,0,nn),bp(this.layoutVertexArray,yn.x,yn.y,_n.x,_n.y,0,1,nn),nn+=Yn,bp(this.layoutVertexArray,En.x,En.y,_n.x,_n.y,0,0,nn),bp(this.layoutVertexArray,En.x,En.y,_n.x,_n.y,0,1,nn);var ia=tr.vertexLength;this.indexArray.emplaceBack(ia,ia+2,ia+1),this.indexArray.emplaceBack(ia+1,ia+2,ia+3),tr.vertexLength+=4,tr.primitiveLength+=2}}}}if(tr.vertexLength+St>bo.MAX_VERTEX_ARRAY_LENGTH&&(tr=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray)),QM[I.type]==="Polygon"){for(var ta=[],Sa=[],ya=tr.vertexLength,Aa=0,Ga=dt;Aa<Ga.length;Aa+=1){var Ma=Ga[Aa];if(Ma.length!==0){Ma!==dt[0]&&Sa.push(ta.length/2);for(var Pa=0;Pa<Ma.length;Pa++){var Za=Ma[Pa];bp(this.layoutVertexArray,Za.x,Za.y,0,0,1,1,0),ta.push(Za.x),ta.push(Za.y)}}}for(var Ua=r1(ta,Sa),ci=0;ci<Ua.length;ci+=3)this.indexArray.emplaceBack(ya+Ua[ci],ya+Ua[ci+2],ya+Ua[ci+1]);tr.primitiveLength+=Ua.length/3,tr.vertexLength+=St}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ie,Se,pe)},Ne("FillExtrusionBucket",uf,{omit:["layers","features"]});function e8(D,I){return D.x===I.x&&(D.x<0||D.x>Ca)||D.y===I.y&&(D.y<0||D.y>Ca)}function t8(D){return D.every(function(I){return I.x<0})||D.every(function(I){return I.x>Ca})||D.every(function(I){return I.y<0})||D.every(function(I){return I.y>Ca})}var r8=new pi({"fill-extrusion-opacity":new ua(Mr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ra(Mr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ua(Mr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ua(Mr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Zo(Mr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ra(Mr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ra(Mr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ua(Mr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),n8={paint:r8},a8=function(D){function I(W){D.call(this,W,n8)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ie){return new uf(ie)},I.prototype.queryRadius=function(){return Ul(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(ie,pe,Se,Re,$e,dt,St,Rt){var jt=sf(ie,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),dt.angle,St),ir=this.paint.get("fill-extrusion-height").evaluate(pe,Se),tr=this.paint.get("fill-extrusion-base").evaluate(pe,Se),xr=s8(jt,Rt,dt,0),Br=o8(Re,tr,ir,Rt),ln=Br[0],nn=Br[1];return i8(ln,nn,xr)},I}(Ji);function wp(D,I){return D.x*I.x+D.y*I.y}function mw(D,I){if(D.length===1){for(var W=0,ie=I[W++],pe;!pe||ie.equals(pe);)if(pe=I[W++],!pe)return 1/0;for(;W<I.length;W++){var Se=I[W],Re=D[0],$e=pe.sub(ie),dt=Se.sub(ie),St=Re.sub(ie),Rt=wp($e,$e),jt=wp($e,dt),ir=wp(dt,dt),tr=wp(St,$e),xr=wp(St,dt),Br=Rt*ir-jt*jt,ln=(ir*tr-jt*xr)/Br,nn=(Rt*xr-jt*tr)/Br,Cn=1-ln-nn,yn=ie.z*Cn+pe.z*ln+Se.z*nn;if(isFinite(yn))return yn}return 1/0}else{for(var En=1/0,_n=0,Yn=I;_n<Yn.length;_n+=1){var ia=Yn[_n];En=Math.min(En,ia.z)}return En}}function i8(D,I,W){var ie=1/0;$i(W,I)&&(ie=mw(W,I[0]));for(var pe=0;pe<I.length;pe++)for(var Se=I[pe],Re=D[pe],$e=0;$e<Se.length-1;$e++){var dt=Se[$e],St=Se[$e+1],Rt=Re[$e],jt=Re[$e+1],ir=[dt,St,jt,Rt,dt];Ya(W,ir)&&(ie=Math.min(ie,mw(W,ir)))}return ie===1/0?!1:ie}function o8(D,I,W,ie){for(var pe=[],Se=[],Re=ie[8]*I,$e=ie[9]*I,dt=ie[10]*I,St=ie[11]*I,Rt=ie[8]*W,jt=ie[9]*W,ir=ie[10]*W,tr=ie[11]*W,xr=0,Br=D;xr<Br.length;xr+=1){for(var ln=Br[xr],nn=[],Cn=[],yn=0,En=ln;yn<En.length;yn+=1){var _n=En[yn],Yn=_n.x,ia=_n.y,ta=ie[0]*Yn+ie[4]*ia+ie[12],Sa=ie[1]*Yn+ie[5]*ia+ie[13],ya=ie[2]*Yn+ie[6]*ia+ie[14],Aa=ie[3]*Yn+ie[7]*ia+ie[15],Ga=ta+Re,Ma=Sa+$e,Pa=ya+dt,Za=Aa+St,Ua=ta+Rt,ci=Sa+jt,Si=ya+ir,hi=Aa+tr,vi=new r(Ga/Za,Ma/Za);vi.z=Pa/Za,nn.push(vi);var oi=new r(Ua/hi,ci/hi);oi.z=Si/hi,Cn.push(oi)}pe.push(nn),Se.push(Cn)}return[pe,Se]}function s8(D,I,W,ie){for(var pe=[],Se=0,Re=D;Se<Re.length;Se+=1){var $e=Re[Se],dt=[$e.x,$e.y,ie,1];$0(dt,dt,I),pe.push(new r(dt[0]/dt[3],dt[1]/dt[3]))}return pe}var l8=zi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),u8=l8.members,f8=zi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),c8=f8.members,h8=ed.VectorTileFeature.types,xw=63,v8=Math.cos(75/2*(Math.PI/180)),d8=15,p8=20,g8=15,bw=1/2,ww=Math.pow(2,g8-1)/bw,Ms=function(I){var W=this;this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ie){return ie.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ie){W.gradients[ie.id]={}}),this.layoutVertexArray=new fh,this.layoutVertexArray2=new ch,this.indexArray=new of,this.programConfigurations=new ga(I.layers,I.zoom),this.segments=new bo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ie){return ie.isStateDependent()}).map(function(ie){return ie.id})};Ms.prototype.populate=function(I,W,ie){this.hasPattern=s1("line",this.layers,W);for(var pe=this.layers[0].layout.get("line-sort-key"),Se=[],Re=0,$e=I;Re<$e.length;Re+=1){var dt=$e[Re],St=dt.feature,Rt=dt.id,jt=dt.index,ir=dt.sourceLayerIndex,tr=this.layers[0]._featureFilter.needGeometry,xr=Pi(St,tr);if(this.layers[0]._featureFilter.filter(new Ea(this.zoom),xr,ie)){var Br=pe?pe.evaluate(xr,{},ie):void 0,ln={id:Rt,properties:St.properties,type:St.type,sourceLayerIndex:ir,index:jt,geometry:tr?xr.geometry:ii(St),patterns:{},sortKey:Br};Se.push(ln)}}pe&&Se.sort(function(ya,Aa){return ya.sortKey-Aa.sortKey});for(var nn=0,Cn=Se;nn<Cn.length;nn+=1){var yn=Cn[nn],En=yn,_n=En.geometry,Yn=En.index,ia=En.sourceLayerIndex;if(this.hasPattern){var ta=l1("line",this.layers,yn,this.zoom,W);this.patternFeatures.push(ta)}else this.addFeature(yn,_n,Yn,ie,{});var Sa=I[Yn].feature;W.featureIndex.insert(Sa,_n,Yn,ia,this.index)}},Ms.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ie)},Ms.prototype.addFeatures=function(I,W,ie){for(var pe=0,Se=this.patternFeatures;pe<Se.length;pe+=1){var Re=Se[pe];this.addFeature(Re,Re.geometry,Re.index,W,ie)}},Ms.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ms.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ms.prototype.upload=function(I){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=I.createVertexBuffer(this.layoutVertexArray2,c8)),this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,u8),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Ms.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ms.prototype.lineFeatureClips=function(I){if(I.properties&&I.properties.hasOwnProperty("mapbox_clip_start")&&I.properties.hasOwnProperty("mapbox_clip_end")){var W=+I.properties.mapbox_clip_start,ie=+I.properties.mapbox_clip_end;return{start:W,end:ie}}},Ms.prototype.addFeature=function(I,W,ie,pe,Se){var Re=this.layers[0].layout,$e=Re.get("line-join").evaluate(I,{}),dt=Re.get("line-cap"),St=Re.get("line-miter-limit"),Rt=Re.get("line-round-limit");this.lineClips=this.lineFeatureClips(I);for(var jt=0,ir=W;jt<ir.length;jt+=1){var tr=ir[jt];this.addLine(tr,I,$e,dt,St,Rt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ie,Se,pe)},Ms.prototype.addLine=function(I,W,ie,pe,Se,Re){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var $e=0;$e<I.length-1;$e++)this.totalDistance+=I[$e].dist(I[$e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var dt=h8[W.type]==="Polygon",St=I.length;St>=2&&I[St-1].equals(I[St-2]);)St--;for(var Rt=0;Rt<St-1&&I[Rt].equals(I[Rt+1]);)Rt++;if(!(St<(dt?3:2))){ie==="bevel"&&(Se=1.05);var jt=this.overscaling<=16?d8*Ca/(512*this.overscaling):0,ir=this.segments.prepareSegment(St*10,this.layoutVertexArray,this.indexArray),tr,xr=void 0,Br=void 0,ln=void 0,nn=void 0;this.e1=this.e2=-1,dt&&(tr=I[St-2],nn=I[Rt].sub(tr)._unit()._perp());for(var Cn=Rt;Cn<St;Cn++)if(Br=Cn===St-1?dt?I[Rt+1]:void 0:I[Cn+1],!(Br&&I[Cn].equals(Br))){nn&&(ln=nn),tr&&(xr=tr),tr=I[Cn],nn=Br?Br.sub(tr)._unit()._perp():ln,ln=ln||nn;var yn=ln.add(nn);(yn.x!==0||yn.y!==0)&&yn._unit();var En=ln.x*nn.x+ln.y*nn.y,_n=yn.x*nn.x+yn.y*nn.y,Yn=_n!==0?1/_n:1/0,ia=2*Math.sqrt(2-2*_n),ta=_n<v8&&xr&&Br,Sa=ln.x*nn.y-ln.y*nn.x>0;if(ta&&Cn>Rt){var ya=tr.dist(xr);if(ya>2*jt){var Aa=tr.sub(tr.sub(xr)._mult(jt/ya)._round());this.updateDistance(xr,Aa),this.addCurrentVertex(Aa,ln,0,0,ir),xr=Aa}}var Ga=xr&&Br,Ma=Ga?ie:dt?"butt":pe;if(Ga&&Ma==="round"&&(Yn<Re?Ma="miter":Yn<=2&&(Ma="fakeround")),Ma==="miter"&&Yn>Se&&(Ma="bevel"),Ma==="bevel"&&(Yn>2&&(Ma="flipbevel"),Yn<Se&&(Ma="miter")),xr&&this.updateDistance(xr,tr),Ma==="miter")yn._mult(Yn),this.addCurrentVertex(tr,yn,0,0,ir);else if(Ma==="flipbevel"){if(Yn>100)yn=nn.mult(-1);else{var Pa=Yn*ln.add(nn).mag()/ln.sub(nn).mag();yn._perp()._mult(Pa*(Sa?-1:1))}this.addCurrentVertex(tr,yn,0,0,ir),this.addCurrentVertex(tr,yn.mult(-1),0,0,ir)}else if(Ma==="bevel"||Ma==="fakeround"){var Za=-Math.sqrt(Yn*Yn-1),Ua=Sa?Za:0,ci=Sa?0:Za;if(xr&&this.addCurrentVertex(tr,ln,Ua,ci,ir),Ma==="fakeround")for(var Si=Math.round(ia*180/Math.PI/p8),hi=1;hi<Si;hi++){var vi=hi/Si;if(vi!==.5){var oi=vi-.5,Ri=1.0904+En*(-3.2452+En*(3.55645-En*1.43519)),Ii=.848013+En*(-1.06021+En*.215638);vi=vi+vi*oi*(vi-1)*(Ri*oi*oi+Ii)}var Qi=nn.sub(ln)._mult(vi)._add(ln)._unit()._mult(Sa?-1:1);this.addHalfVertex(tr,Qi.x,Qi.y,!1,Sa,0,ir)}Br&&this.addCurrentVertex(tr,nn,-Ua,-ci,ir)}else if(Ma==="butt")this.addCurrentVertex(tr,yn,0,0,ir);else if(Ma==="square"){var ao=xr?1:-1;this.addCurrentVertex(tr,yn,ao,ao,ir)}else Ma==="round"&&(xr&&(this.addCurrentVertex(tr,ln,0,0,ir),this.addCurrentVertex(tr,ln,1,1,ir,!0)),Br&&(this.addCurrentVertex(tr,nn,-1,-1,ir,!0),this.addCurrentVertex(tr,nn,0,0,ir)));if(ta&&Cn<St-1){var Bo=tr.dist(Br);if(Bo>2*jt){var So=tr.add(Br.sub(tr)._mult(jt/Bo)._round());this.updateDistance(tr,So),this.addCurrentVertex(So,nn,0,0,ir),tr=So}}}}},Ms.prototype.addCurrentVertex=function(I,W,ie,pe,Se,Re){Re===void 0&&(Re=!1);var $e=W.x+W.y*ie,dt=W.y-W.x*ie,St=-W.x+W.y*pe,Rt=-W.y-W.x*pe;this.addHalfVertex(I,$e,dt,Re,!1,ie,Se),this.addHalfVertex(I,St,Rt,Re,!0,-pe,Se),this.distance>ww/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(I,W,ie,pe,Se,Re))},Ms.prototype.addHalfVertex=function(I,W,ie,pe,Se,Re,$e){var dt=I.x,St=I.y,Rt=this.lineClips?this.scaledDistance*(ww-1):this.scaledDistance,jt=Rt*bw;if(this.layoutVertexArray.emplaceBack((dt<<1)+(pe?1:0),(St<<1)+(Se?1:0),Math.round(xw*W)+128,Math.round(xw*ie)+128,(Re===0?0:Re<0?-1:1)+1|(jt&63)<<2,jt>>6),this.lineClips){var ir=this.scaledDistance-this.lineClips.start,tr=this.lineClips.end-this.lineClips.start,xr=ir/tr;this.layoutVertexArray2.emplaceBack(xr,this.lineClipsArray.length)}var Br=$e.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Br),$e.primitiveLength++),Se?this.e2=Br:this.e1=Br},Ms.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ms.prototype.updateDistance=function(I,W){this.distance+=I.dist(W),this.updateScaledDistance()},Ne("LineBucket",Ms,{omit:["layers","patternFeatures"]});var y8=new pi({"line-cap":new ua(Mr.layout_line["line-cap"]),"line-join":new Ra(Mr.layout_line["line-join"]),"line-miter-limit":new ua(Mr.layout_line["line-miter-limit"]),"line-round-limit":new ua(Mr.layout_line["line-round-limit"]),"line-sort-key":new Ra(Mr.layout_line["line-sort-key"])}),m8=new pi({"line-opacity":new Ra(Mr.paint_line["line-opacity"]),"line-color":new Ra(Mr.paint_line["line-color"]),"line-translate":new ua(Mr.paint_line["line-translate"]),"line-translate-anchor":new ua(Mr.paint_line["line-translate-anchor"]),"line-width":new Ra(Mr.paint_line["line-width"]),"line-gap-width":new Ra(Mr.paint_line["line-gap-width"]),"line-offset":new Ra(Mr.paint_line["line-offset"]),"line-blur":new Ra(Mr.paint_line["line-blur"]),"line-dasharray":new ns(Mr.paint_line["line-dasharray"]),"line-pattern":new Zo(Mr.paint_line["line-pattern"]),"line-gradient":new xo(Mr.paint_line["line-gradient"])}),Tw={paint:m8,layout:y8},x8=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ie,pe){return pe=new Ea(Math.floor(pe.zoom),{now:pe.now,fadeDuration:pe.fadeDuration,zoomHistory:pe.zoomHistory,transition:pe.transition}),D.prototype.possiblyEvaluate.call(this,ie,pe)},I.prototype.evaluate=function(ie,pe,Se,Re){return pe=b({},pe,{zoom:Math.floor(pe.zoom)}),D.prototype.evaluate.call(this,ie,pe,Se,Re)},I}(Ra),Aw=new x8(Tw.paint.properties["line-width"].specification);Aw.useIntegerZoom=!0;var b8=function(D){function I(W){D.call(this,W,Tw),this.gradientVersion=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(ie){if(ie==="line-gradient"){var pe=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=pe._styleExpression.expression instanceof gs,this.gradientVersion=(this.gradientVersion+1)%f}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(ie,pe){D.prototype.recalculate.call(this,ie,pe),this.paint._values["line-floorwidth"]=Aw.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ie)},I.prototype.createBucket=function(ie){return new Ms(ie)},I.prototype.queryRadius=function(ie){var pe=ie,Se=Sw(Ss("line-width",this,pe),Ss("line-gap-width",this,pe)),Re=Ss("line-offset",this,pe);return Se/2+Math.abs(Re)+Ul(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(ie,pe,Se,Re,$e,dt,St){var Rt=sf(ie,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),dt.angle,St),jt=St/2*Sw(this.paint.get("line-width").evaluate(pe,Se),this.paint.get("line-gap-width").evaluate(pe,Se)),ir=this.paint.get("line-offset").evaluate(pe,Se);return ir&&(Re=w8(Re,ir*St)),Ro(Rt,Re,jt)},I.prototype.isTileClipped=function(){return!0},I}(Ji);function Sw(D,I){return I>0?I+2*D:D}function w8(D,I){for(var W=[],ie=new r(0,0),pe=0;pe<D.length;pe++){for(var Se=D[pe],Re=[],$e=0;$e<Se.length;$e++){var dt=Se[$e-1],St=Se[$e],Rt=Se[$e+1],jt=$e===0?ie:St.sub(dt)._unit()._perp(),ir=$e===Se.length-1?ie:Rt.sub(St)._unit()._perp(),tr=jt._add(ir)._unit(),xr=tr.x*ir.x+tr.y*ir.y;tr._mult(1/xr),Re.push(tr._mult(I)._add(St))}W.push(Re)}return W}var T8=zi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),A8=zi([{name:"a_projected_pos",components:3,type:"Float32"}],4);zi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var S8=zi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);zi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Mw=zi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),M8=zi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);zi([{name:"triangle",components:3,type:"Uint16"}]),zi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),zi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),zi([{type:"Float32",name:"offsetX"}]),zi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function E8(D,I,W){var ie=I.layout.get("text-transform").evaluate(W,{});return ie==="uppercase"?D=D.toLocaleUpperCase():ie==="lowercase"&&(D=D.toLocaleLowerCase()),Qn.applyArabicShaping&&(D=Qn.applyArabicShaping(D)),D}function C8(D,I,W){return D.sections.forEach(function(ie){ie.text=E8(ie.text,I,W)}),D}function L8(D){var I={},W={},ie=[],pe=0;function Se(nn){ie.push(D[nn]),pe++}function Re(nn,Cn,yn){var En=W[nn];return delete W[nn],W[Cn]=En,ie[En].geometry[0].pop(),ie[En].geometry[0]=ie[En].geometry[0].concat(yn[0]),En}function $e(nn,Cn,yn){var En=I[Cn];return delete I[Cn],I[nn]=En,ie[En].geometry[0].shift(),ie[En].geometry[0]=yn[0].concat(ie[En].geometry[0]),En}function dt(nn,Cn,yn){var En=yn?Cn[0][Cn[0].length-1]:Cn[0][0];return nn+":"+En.x+":"+En.y}for(var St=0;St<D.length;St++){var Rt=D[St],jt=Rt.geometry,ir=Rt.text?Rt.text.toString():null;if(!ir){Se(St);continue}var tr=dt(ir,jt),xr=dt(ir,jt,!0);if(tr in W&&xr in I&&W[tr]!==I[xr]){var Br=$e(tr,xr,jt),ln=Re(tr,xr,ie[Br].geometry);delete I[tr],delete W[xr],W[dt(ir,ie[ln].geometry,!0)]=ln,ie[Br].geometry=null}else tr in W?Re(tr,xr,jt):xr in I?$e(tr,xr,jt):(Se(St),I[tr]=pe-1,W[xr]=pe-1)}return ie.filter(function(nn){return nn.geometry})}var Tp={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function P8(D){for(var I="",W=0;W<D.length;W++){var ie=D.charCodeAt(W+1)||null,pe=D.charCodeAt(W-1)||null,Se=(!ie||!Vr(ie)||Tp[D[W+1]])&&(!pe||!Vr(pe)||Tp[D[W-1]]);Se&&Tp[D[W]]?I+=Tp[D[W]]:I+=D[W]}return I}var Ko=24,R8=function(D,I,W,ie,pe){var Se,Re,$e=pe*8-ie-1,dt=(1<<$e)-1,St=dt>>1,Rt=-7,jt=W?pe-1:0,ir=W?-1:1,tr=D[I+jt];for(jt+=ir,Se=tr&(1<<-Rt)-1,tr>>=-Rt,Rt+=$e;Rt>0;Se=Se*256+D[I+jt],jt+=ir,Rt-=8);for(Re=Se&(1<<-Rt)-1,Se>>=-Rt,Rt+=ie;Rt>0;Re=Re*256+D[I+jt],jt+=ir,Rt-=8);if(Se===0)Se=1-St;else{if(Se===dt)return Re?NaN:(tr?-1:1)*(1/0);Re=Re+Math.pow(2,ie),Se=Se-St}return(tr?-1:1)*Re*Math.pow(2,Se-ie)},D8=function(D,I,W,ie,pe,Se){var Re,$e,dt,St=Se*8-pe-1,Rt=(1<<St)-1,jt=Rt>>1,ir=pe===23?Math.pow(2,-24)-Math.pow(2,-77):0,tr=ie?0:Se-1,xr=ie?1:-1,Br=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?($e=isNaN(I)?1:0,Re=Rt):(Re=Math.floor(Math.log(I)/Math.LN2),I*(dt=Math.pow(2,-Re))<1&&(Re--,dt*=2),Re+jt>=1?I+=ir/dt:I+=ir*Math.pow(2,1-jt),I*dt>=2&&(Re++,dt/=2),Re+jt>=Rt?($e=0,Re=Rt):Re+jt>=1?($e=(I*dt-1)*Math.pow(2,pe),Re=Re+jt):($e=I*Math.pow(2,jt-1)*Math.pow(2,pe),Re=0));pe>=8;D[W+tr]=$e&255,tr+=xr,$e/=256,pe-=8);for(Re=Re<<pe|$e,St+=pe;St>0;D[W+tr]=Re&255,tr+=xr,Re/=256,St-=8);D[W+tr-xr]|=Br*128},rg={read:R8,write:D8},ng=Di;function Di(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Di.Varint=0,Di.Fixed64=1,Di.Bytes=2,Di.Fixed32=5;var f1=65536*65536,Ew=1/f1,I8=12,Cw=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Di.prototype={destroy:function(){this.buf=null},readFields:function(D,I,W){for(W=W||this.length;this.pos<W;){var ie=this.readVarint(),pe=ie>>3,Se=this.pos;this.type=ie&7,D(pe,I,this),this.pos===Se&&this.skip(ie)}return I},readMessage:function(D,I){return this.readFields(D,I,this.readVarint()+this.pos)},readFixed32:function(){var D=ag(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=Pw(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=ag(this.buf,this.pos)+ag(this.buf,this.pos+4)*f1;return this.pos+=8,D},readSFixed64:function(){var D=ag(this.buf,this.pos)+Pw(this.buf,this.pos+4)*f1;return this.pos+=8,D},readFloat:function(){var D=rg.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=rg.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var I=this.buf,W,ie;return ie=I[this.pos++],W=ie&127,ie<128||(ie=I[this.pos++],W|=(ie&127)<<7,ie<128)||(ie=I[this.pos++],W|=(ie&127)<<14,ie<128)||(ie=I[this.pos++],W|=(ie&127)<<21,ie<128)?W:(ie=I[this.pos],W|=(ie&15)<<28,k8(W,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,I=this.pos;return this.pos=D,D-I>=I8&&Cw?X8(this.buf,I,D):Y8(this.buf,I,D)},readBytes:function(){var D=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,D);return this.pos=D,I},readPackedVarint:function(D,I){if(this.type!==Di.Bytes)return D.push(this.readVarint(I));var W=wc(this);for(D=D||[];this.pos<W;)D.push(this.readVarint(I));return D},readPackedSVarint:function(D){if(this.type!==Di.Bytes)return D.push(this.readSVarint());var I=wc(this);for(D=D||[];this.pos<I;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Di.Bytes)return D.push(this.readBoolean());var I=wc(this);for(D=D||[];this.pos<I;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Di.Bytes)return D.push(this.readFloat());var I=wc(this);for(D=D||[];this.pos<I;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Di.Bytes)return D.push(this.readDouble());var I=wc(this);for(D=D||[];this.pos<I;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Di.Bytes)return D.push(this.readFixed32());var I=wc(this);for(D=D||[];this.pos<I;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Di.Bytes)return D.push(this.readSFixed32());var I=wc(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Di.Bytes)return D.push(this.readFixed64());var I=wc(this);for(D=D||[];this.pos<I;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Di.Bytes)return D.push(this.readSFixed64());var I=wc(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed64());return D},skip:function(D){var I=D&7;if(I===Di.Varint)for(;this.buf[this.pos++]>127;);else if(I===Di.Bytes)this.pos=this.readVarint()+this.pos;else if(I===Di.Fixed32)this.pos+=4;else if(I===Di.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+I)},writeTag:function(D,I){this.writeVarint(D<<3|I)},realloc:function(D){for(var I=this.length||16;I<this.pos+D;)I*=2;if(I!==this.length){var W=new Uint8Array(I);W.set(this.buf),this.buf=W,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),rd(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),rd(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),rd(this.buf,D&-1,this.pos),rd(this.buf,Math.floor(D*Ew),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),rd(this.buf,D&-1,this.pos),rd(this.buf,Math.floor(D*Ew),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){_8(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var I=this.pos;this.pos=Z8(this.buf,D,this.pos);var W=this.pos-I;W>=128&&Lw(I,W,this),this.pos=I-1,this.writeVarint(W),this.pos+=W},writeFloat:function(D){this.realloc(4),rg.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),rg.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var I=D.length;this.writeVarint(I),this.realloc(I);for(var W=0;W<I;W++)this.buf[this.pos++]=D[W]},writeRawMessage:function(D,I){this.pos++;var W=this.pos;D(I,this);var ie=this.pos-W;ie>=128&&Lw(W,ie,this),this.pos=W-1,this.writeVarint(ie),this.pos+=ie},writeMessage:function(D,I,W){this.writeTag(D,Di.Bytes),this.writeRawMessage(I,W)},writePackedVarint:function(D,I){I.length&&this.writeMessage(D,F8,I)},writePackedSVarint:function(D,I){I.length&&this.writeMessage(D,N8,I)},writePackedBoolean:function(D,I){I.length&&this.writeMessage(D,V8,I)},writePackedFloat:function(D,I){I.length&&this.writeMessage(D,B8,I)},writePackedDouble:function(D,I){I.length&&this.writeMessage(D,U8,I)},writePackedFixed32:function(D,I){I.length&&this.writeMessage(D,H8,I)},writePackedSFixed32:function(D,I){I.length&&this.writeMessage(D,G8,I)},writePackedFixed64:function(D,I){I.length&&this.writeMessage(D,W8,I)},writePackedSFixed64:function(D,I){I.length&&this.writeMessage(D,j8,I)},writeBytesField:function(D,I){this.writeTag(D,Di.Bytes),this.writeBytes(I)},writeFixed32Field:function(D,I){this.writeTag(D,Di.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(D,I){this.writeTag(D,Di.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(D,I){this.writeTag(D,Di.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(D,I){this.writeTag(D,Di.Fixed64),this.writeSFixed64(I)},writeVarintField:function(D,I){this.writeTag(D,Di.Varint),this.writeVarint(I)},writeSVarintField:function(D,I){this.writeTag(D,Di.Varint),this.writeSVarint(I)},writeStringField:function(D,I){this.writeTag(D,Di.Bytes),this.writeString(I)},writeFloatField:function(D,I){this.writeTag(D,Di.Fixed32),this.writeFloat(I)},writeDoubleField:function(D,I){this.writeTag(D,Di.Fixed64),this.writeDouble(I)},writeBooleanField:function(D,I){this.writeVarintField(D,!!I)}};function k8(D,I,W){var ie=W.buf,pe,Se;if(Se=ie[W.pos++],pe=(Se&112)>>4,Se<128||(Se=ie[W.pos++],pe|=(Se&127)<<3,Se<128)||(Se=ie[W.pos++],pe|=(Se&127)<<10,Se<128)||(Se=ie[W.pos++],pe|=(Se&127)<<17,Se<128)||(Se=ie[W.pos++],pe|=(Se&127)<<24,Se<128)||(Se=ie[W.pos++],pe|=(Se&1)<<31,Se<128))return td(D,pe,I);throw new Error("Expected varint not more than 10 bytes")}function wc(D){return D.type===Di.Bytes?D.readVarint()+D.pos:D.pos+1}function td(D,I,W){return W?I*4294967296+(D>>>0):(I>>>0)*4294967296+(D>>>0)}function _8(D,I){var W,ie;if(D>=0?(W=D%4294967296|0,ie=D/4294967296|0):(W=~(-D%4294967296),ie=~(-D/4294967296),W^4294967295?W=W+1|0:(W=0,ie=ie+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),O8(W,ie,I),z8(ie,I)}function O8(D,I,W){W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos]=D&127}function z8(D,I){var W=(D&7)<<4;I.buf[I.pos++]|=W|((D>>>=3)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127)))))}function Lw(D,I,W){var ie=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(Math.LN2*7));W.realloc(ie);for(var pe=W.pos-1;pe>=D;pe--)W.buf[pe+ie]=W.buf[pe]}function F8(D,I){for(var W=0;W<D.length;W++)I.writeVarint(D[W])}function N8(D,I){for(var W=0;W<D.length;W++)I.writeSVarint(D[W])}function B8(D,I){for(var W=0;W<D.length;W++)I.writeFloat(D[W])}function U8(D,I){for(var W=0;W<D.length;W++)I.writeDouble(D[W])}function V8(D,I){for(var W=0;W<D.length;W++)I.writeBoolean(D[W])}function H8(D,I){for(var W=0;W<D.length;W++)I.writeFixed32(D[W])}function G8(D,I){for(var W=0;W<D.length;W++)I.writeSFixed32(D[W])}function W8(D,I){for(var W=0;W<D.length;W++)I.writeFixed64(D[W])}function j8(D,I){for(var W=0;W<D.length;W++)I.writeSFixed64(D[W])}function ag(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+D[I+3]*16777216}function rd(D,I,W){D[W]=I,D[W+1]=I>>>8,D[W+2]=I>>>16,D[W+3]=I>>>24}function Pw(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+(D[I+3]<<24)}function Y8(D,I,W){for(var ie="",pe=I;pe<W;){var Se=D[pe],Re=null,$e=Se>239?4:Se>223?3:Se>191?2:1;if(pe+$e>W)break;var dt,St,Rt;$e===1?Se<128&&(Re=Se):$e===2?(dt=D[pe+1],(dt&192)===128&&(Re=(Se&31)<<6|dt&63,Re<=127&&(Re=null))):$e===3?(dt=D[pe+1],St=D[pe+2],(dt&192)===128&&(St&192)===128&&(Re=(Se&15)<<12|(dt&63)<<6|St&63,(Re<=2047||Re>=55296&&Re<=57343)&&(Re=null))):$e===4&&(dt=D[pe+1],St=D[pe+2],Rt=D[pe+3],(dt&192)===128&&(St&192)===128&&(Rt&192)===128&&(Re=(Se&15)<<18|(dt&63)<<12|(St&63)<<6|Rt&63,(Re<=65535||Re>=1114112)&&(Re=null))),Re===null?(Re=65533,$e=1):Re>65535&&(Re-=65536,ie+=String.fromCharCode(Re>>>10&1023|55296),Re=56320|Re&1023),ie+=String.fromCharCode(Re),pe+=$e}return ie}function X8(D,I,W){return Cw.decode(D.subarray(I,W))}function Z8(D,I,W){for(var ie=0,pe,Se;ie<I.length;ie++){if(pe=I.charCodeAt(ie),pe>55295&&pe<57344)if(Se)if(pe<56320){D[W++]=239,D[W++]=191,D[W++]=189,Se=pe;continue}else pe=Se-55296<<10|pe-56320|65536,Se=null;else{pe>56319||ie+1===I.length?(D[W++]=239,D[W++]=191,D[W++]=189):Se=pe;continue}else Se&&(D[W++]=239,D[W++]=191,D[W++]=189,Se=null);pe<128?D[W++]=pe:(pe<2048?D[W++]=pe>>6|192:(pe<65536?D[W++]=pe>>12|224:(D[W++]=pe>>18|240,D[W++]=pe>>12&63|128),D[W++]=pe>>6&63|128),D[W++]=pe&63|128)}return W}var c1=3;function K8(D,I,W){D===1&&W.readMessage(J8,I)}function J8(D,I,W){if(D===3){var ie=W.readMessage($8,{}),pe=ie.id,Se=ie.bitmap,Re=ie.width,$e=ie.height,dt=ie.left,St=ie.top,Rt=ie.advance;I.push({id:pe,bitmap:new bv({width:Re+2*c1,height:$e+2*c1},Se),metrics:{width:Re,height:$e,left:dt,top:St,advance:Rt}})}}function $8(D,I,W){D===1?I.id=W.readVarint():D===2?I.bitmap=W.readBytes():D===3?I.width=W.readVarint():D===4?I.height=W.readVarint():D===5?I.left=W.readSVarint():D===6?I.top=W.readSVarint():D===7&&(I.advance=W.readVarint())}function Q8(D){return new ng(D).readFields(K8,[])}var Rw=c1;function Dw(D){for(var I=0,W=0,ie=0,pe=D;ie<pe.length;ie+=1){var Se=pe[ie];I+=Se.w*Se.h,W=Math.max(W,Se.w)}D.sort(function(ln,nn){return nn.h-ln.h});for(var Re=Math.max(Math.ceil(Math.sqrt(I/.95)),W),$e=[{x:0,y:0,w:Re,h:1/0}],dt=0,St=0,Rt=0,jt=D;Rt<jt.length;Rt+=1)for(var ir=jt[Rt],tr=$e.length-1;tr>=0;tr--){var xr=$e[tr];if(!(ir.w>xr.w||ir.h>xr.h)){if(ir.x=xr.x,ir.y=xr.y,St=Math.max(St,ir.y+ir.h),dt=Math.max(dt,ir.x+ir.w),ir.w===xr.w&&ir.h===xr.h){var Br=$e.pop();tr<$e.length&&($e[tr]=Br)}else ir.h===xr.h?(xr.x+=ir.w,xr.w-=ir.w):ir.w===xr.w?(xr.y+=ir.h,xr.h-=ir.h):($e.push({x:xr.x+ir.w,y:xr.y,w:xr.w-ir.w,h:ir.h}),xr.y+=ir.h,xr.h-=ir.h);break}}return{w:dt,h:St,fill:I/(dt*St)||0}}var rl=1,ig=function(I,W){var ie=W.pixelRatio,pe=W.version,Se=W.stretchX,Re=W.stretchY,$e=W.content;this.paddedRect=I,this.pixelRatio=ie,this.stretchX=Se,this.stretchY=Re,this.content=$e,this.version=pe},Ap={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ap.tl.get=function(){return[this.paddedRect.x+rl,this.paddedRect.y+rl]},Ap.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-rl,this.paddedRect.y+this.paddedRect.h-rl]},Ap.tlbr.get=function(){return this.tl.concat(this.br)},Ap.displaySize.get=function(){return[(this.paddedRect.w-rl*2)/this.pixelRatio,(this.paddedRect.h-rl*2)/this.pixelRatio]},Object.defineProperties(ig.prototype,Ap);var Sp=function(I,W){var ie={},pe={};this.haveRenderCallbacks=[];var Se=[];this.addImages(I,ie,Se),this.addImages(W,pe,Se);var Re=Dw(Se),$e=Re.w,dt=Re.h,St=new Hs({width:$e||1,height:dt||1});for(var Rt in I){var jt=I[Rt],ir=ie[Rt].paddedRect;Hs.copy(jt.data,St,{x:0,y:0},{x:ir.x+rl,y:ir.y+rl},jt.data)}for(var tr in W){var xr=W[tr],Br=pe[tr].paddedRect,ln=Br.x+rl,nn=Br.y+rl,Cn=xr.data.width,yn=xr.data.height;Hs.copy(xr.data,St,{x:0,y:0},{x:ln,y:nn},xr.data),Hs.copy(xr.data,St,{x:0,y:yn-1},{x:ln,y:nn-1},{width:Cn,height:1}),Hs.copy(xr.data,St,{x:0,y:0},{x:ln,y:nn+yn},{width:Cn,height:1}),Hs.copy(xr.data,St,{x:Cn-1,y:0},{x:ln-1,y:nn},{width:1,height:yn}),Hs.copy(xr.data,St,{x:0,y:0},{x:ln+Cn,y:nn},{width:1,height:yn})}this.image=St,this.iconPositions=ie,this.patternPositions=pe};Sp.prototype.addImages=function(I,W,ie){for(var pe in I){var Se=I[pe],Re={x:0,y:0,w:Se.data.width+2*rl,h:Se.data.height+2*rl};ie.push(Re),W[pe]=new ig(Re,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(pe)}},Sp.prototype.patchUpdatedImages=function(I,W){I.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ie in I.updatedImages)this.patchUpdatedImage(this.iconPositions[ie],I.getImage(ie),W),this.patchUpdatedImage(this.patternPositions[ie],I.getImage(ie),W)},Sp.prototype.patchUpdatedImage=function(I,W,ie){if(!(!I||!W)&&I.version!==W.version){I.version=W.version;var pe=I.tl,Se=pe[0],Re=pe[1];ie.update(W.data,void 0,{x:Se,y:Re})}},Ne("ImagePosition",ig),Ne("ImageAtlas",Sp);var Tl={horizontal:1,vertical:2,horizontalOnly:3},Mp=-17;function q8(D){for(var I=0,W=D;I<W.length;I+=1){var ie=W[I];if(ie.positionedGlyphs.length!==0)return!1}return!0}var Iw=57344,kw=63743,nd=function(){this.scale=1,this.fontStack="",this.imageName=null};nd.forText=function(I,W){var ie=new nd;return ie.scale=I||1,ie.fontStack=W,ie},nd.forImage=function(I){var W=new nd;return W.imageName=I,W};var ls=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};ls.fromFeature=function(I,W){for(var ie=new ls,pe=0;pe<I.sections.length;pe++){var Se=I.sections[pe];Se.image?ie.addImageSection(Se):ie.addTextSection(Se,W)}return ie},ls.prototype.length=function(){return this.text.length},ls.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},ls.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},ls.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},ls.prototype.verticalizePunctuation=function(){this.text=P8(this.text)},ls.prototype.trim=function(){for(var I=0,W=0;W<this.text.length&&Uf[this.text.charCodeAt(W)];W++)I++;for(var ie=this.text.length,pe=this.text.length-1;pe>=0&&pe>=I&&Uf[this.text.charCodeAt(pe)];pe--)ie--;this.text=this.text.substring(I,ie),this.sectionIndex=this.sectionIndex.slice(I,ie)},ls.prototype.substring=function(I,W){var ie=new ls;return ie.text=this.text.substring(I,W),ie.sectionIndex=this.sectionIndex.slice(I,W),ie.sections=this.sections,ie},ls.prototype.toString=function(){return this.text},ls.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(W,ie){return Math.max(W,I.sections[ie].scale)},0)},ls.prototype.addTextSection=function(I,W){this.text+=I.text,this.sections.push(nd.forText(I.scale,I.fontStack||W));for(var ie=this.sections.length-1,pe=0;pe<I.text.length;++pe)this.sectionIndex.push(ie)},ls.prototype.addImageSection=function(I){var W=I.image?I.image.name:"";if(W.length===0){B("Can't add FormattedSection with an empty image.");return}var ie=this.getNextImageSectionCharCode();if(!ie){B("Reached maximum number of images "+(kw-Iw+2));return}this.text+=String.fromCharCode(ie),this.sections.push(nd.forImage(W)),this.sectionIndex.push(this.sections.length-1)},ls.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=kw?null:++this.imageSectionID:(this.imageSectionID=Iw,this.imageSectionID)};function eE(D,I){for(var W=[],ie=D.text,pe=0,Se=0,Re=I;Se<Re.length;Se+=1){var $e=Re[Se];W.push(D.substring(pe,$e)),pe=$e}return pe<ie.length&&W.push(D.substring(pe,ie.length)),W}function og(D,I,W,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br){var ln=ls.fromFeature(D,pe);jt===Tl.vertical&&ln.verticalizePunctuation();var nn,Cn=Qn.processBidirectionalText,yn=Qn.processStyledBidirectionalText;if(Cn&&ln.sections.length===1){nn=[];for(var En=Cn(ln.toString(),h1(ln,St,Se,I,ie,tr,xr)),_n=0,Yn=En;_n<Yn.length;_n+=1){var ia=Yn[_n],ta=new ls;ta.text=ia,ta.sections=ln.sections;for(var Sa=0;Sa<ia.length;Sa++)ta.sectionIndex.push(0);nn.push(ta)}}else if(yn){nn=[];for(var ya=yn(ln.text,ln.sectionIndex,h1(ln,St,Se,I,ie,tr,xr)),Aa=0,Ga=ya;Aa<Ga.length;Aa+=1){var Ma=Ga[Aa],Pa=new ls;Pa.text=Ma[0],Pa.sectionIndex=Ma[1],Pa.sections=ln.sections,nn.push(Pa)}}else nn=eE(ln,h1(ln,St,Se,I,ie,tr,xr));var Za=[],Ua={positionedLines:Za,text:ln.toString(),top:Rt[1],bottom:Rt[1],left:Rt[0],right:Rt[0],writingMode:jt,iconsInText:!1,verticalizable:!1};return nE(Ua,I,W,ie,nn,Re,$e,dt,jt,St,ir,Br),q8(Za)?!1:Ua}var Uf={};Uf[9]=!0,Uf[10]=!0,Uf[11]=!0,Uf[12]=!0,Uf[13]=!0,Uf[32]=!0;var nl={};nl[10]=!0,nl[32]=!0,nl[38]=!0,nl[40]=!0,nl[41]=!0,nl[43]=!0,nl[45]=!0,nl[47]=!0,nl[173]=!0,nl[183]=!0,nl[8203]=!0,nl[8208]=!0,nl[8211]=!0,nl[8231]=!0;function _w(D,I,W,ie,pe,Se){if(I.imageName){var dt=ie[I.imageName];return dt?dt.displaySize[0]*I.scale*Ko/Se+pe:0}else{var Re=W[I.fontStack],$e=Re&&Re[D];return $e?$e.metrics.advance*I.scale+pe:0}}function tE(D,I,W,ie,pe,Se){for(var Re=0,$e=0;$e<D.length();$e++){var dt=D.getSection($e);Re+=_w(D.getCharCode($e),dt,ie,pe,I,Se)}var St=Math.max(1,Math.ceil(Re/W));return Re/St}function Ow(D,I,W,ie){var pe=Math.pow(D-I,2);return ie?D<I?pe/2:pe*2:pe+Math.abs(W)*W}function rE(D,I,W){var ie=0;return D===10&&(ie-=1e4),W&&(ie+=150),(D===40||D===65288)&&(ie+=50),(I===41||I===65289)&&(ie+=50),ie}function zw(D,I,W,ie,pe,Se){for(var Re=null,$e=Ow(I,W,pe,Se),dt=0,St=ie;dt<St.length;dt+=1){var Rt=St[dt],jt=I-Rt.x,ir=Ow(jt,W,pe,Se)+Rt.badness;ir<=$e&&(Re=Rt,$e=ir)}return{index:D,x:I,priorBreak:Re,badness:$e}}function Fw(D){return D?Fw(D.priorBreak).concat(D.index):[]}function h1(D,I,W,ie,pe,Se,Re){if(Se!=="point")return[];if(!D)return[];for(var $e=[],dt=tE(D,I,W,ie,pe,Re),St=D.text.indexOf("")>=0,Rt=0,jt=0;jt<D.length();jt++){var ir=D.getSection(jt),tr=D.getCharCode(jt);if(Uf[tr]||(Rt+=_w(tr,ir,ie,pe,I,Re)),jt<D.length()-1){var xr=en(tr);(nl[tr]||xr||ir.imageName)&&$e.push(zw(jt+1,Rt,dt,$e,rE(tr,D.getCharCode(jt+1),xr&&St),!1))}}return Fw(zw(D.length(),Rt,dt,$e,0,!0))}function v1(D){var I=.5,W=.5;switch(D){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0;break}return{horizontalAlign:I,verticalAlign:W}}function nE(D,I,W,ie,pe,Se,Re,$e,dt,St,Rt,jt){for(var ir=0,tr=Mp,xr=0,Br=0,ln=$e==="right"?1:$e==="left"?0:.5,nn=0,Cn=0,yn=pe;Cn<yn.length;Cn+=1){var En=yn[Cn];En.trim();var _n=En.getMaxScale(),Yn=(_n-1)*Ko,ia={positionedGlyphs:[],lineOffset:0};D.positionedLines[nn]=ia;var ta=ia.positionedGlyphs,Sa=0;if(!En.length()){tr+=Se,++nn;continue}for(var ya=0;ya<En.length();ya++){var Aa=En.getSection(ya),Ga=En.getSectionIndex(ya),Ma=En.getCharCode(ya),Pa=0,Za=null,Ua=null,ci=null,Si=Ko,hi=!(dt===Tl.horizontal||!Rt&&!on(Ma)||Rt&&(Uf[Ma]||Jr(Ma)));if(Aa.imageName){var Qi=ie[Aa.imageName];if(!Qi)continue;ci=Aa.imageName,D.iconsInText=D.iconsInText||!0,Ua=Qi.paddedRect;var ao=Qi.displaySize;Aa.scale=Aa.scale*Ko/jt,Za={width:ao[0],height:ao[1],left:rl,top:-Rw,advance:hi?ao[1]:ao[0]};var Bo=Ko-ao[1]*Aa.scale;Pa=Yn+Bo,Si=Za.advance;var So=hi?ao[0]*Aa.scale-Ko*_n:ao[1]*Aa.scale-Ko*_n;So>0&&So>Sa&&(Sa=So)}else{var vi=W[Aa.fontStack],oi=vi&&vi[Ma];if(oi&&oi.rect)Ua=oi.rect,Za=oi.metrics;else{var Ri=I[Aa.fontStack],Ii=Ri&&Ri[Ma];if(!Ii)continue;Za=Ii.metrics}Pa=(_n-Aa.scale)*Ko}hi?(D.verticalizable=!0,ta.push({glyph:Ma,imageName:ci,x:ir,y:tr+Pa,vertical:hi,scale:Aa.scale,fontStack:Aa.fontStack,sectionIndex:Ga,metrics:Za,rect:Ua}),ir+=Si*Aa.scale+St):(ta.push({glyph:Ma,imageName:ci,x:ir,y:tr+Pa,vertical:hi,scale:Aa.scale,fontStack:Aa.fontStack,sectionIndex:Ga,metrics:Za,rect:Ua}),ir+=Za.advance*Aa.scale+St)}if(ta.length!==0){var us=ir-St;xr=Math.max(us,xr),aE(ta,0,ta.length-1,ln,Sa)}ir=0;var fs=Se*_n+Sa;ia.lineOffset=Math.max(Sa,Yn),tr+=fs,Br=Math.max(fs,Br),++nn}var Uo=tr-Mp,Es=v1(Re),Cs=Es.horizontalAlign,Do=Es.verticalAlign;iE(D.positionedLines,ln,Cs,Do,xr,Br,Se,Uo,pe.length),D.top+=-Do*Uo,D.bottom=D.top+Uo,D.left+=-Cs*xr,D.right=D.left+xr}function aE(D,I,W,ie,pe){if(!(!ie&&!pe))for(var Se=D[W],Re=Se.metrics.advance*Se.scale,$e=(D[W].x+Re)*ie,dt=I;dt<=W;dt++)D[dt].x-=$e,D[dt].y+=pe}function iE(D,I,W,ie,pe,Se,Re,$e,dt){var St=(I-W)*pe,Rt=0;Se!==Re?Rt=-$e*ie-Mp:Rt=(-ie*dt+.5)*Re;for(var jt=0,ir=D;jt<ir.length;jt+=1)for(var tr=ir[jt],xr=0,Br=tr.positionedGlyphs;xr<Br.length;xr+=1){var ln=Br[xr];ln.x+=St,ln.y+=Rt}}function oE(D,I,W){var ie=v1(W),pe=ie.horizontalAlign,Se=ie.verticalAlign,Re=I[0],$e=I[1],dt=Re-D.displaySize[0]*pe,St=dt+D.displaySize[0],Rt=$e-D.displaySize[1]*Se,jt=Rt+D.displaySize[1];return{image:D,top:Rt,bottom:jt,left:dt,right:St}}function Nw(D,I,W,ie,pe,Se){var Re=D.image,$e;if(Re.content){var dt=Re.content,St=Re.pixelRatio||1;$e=[dt[0]/St,dt[1]/St,Re.displaySize[0]-dt[2]/St,Re.displaySize[1]-dt[3]/St]}var Rt=I.left*Se,jt=I.right*Se,ir,tr,xr,Br;W==="width"||W==="both"?(Br=pe[0]+Rt-ie[3],tr=pe[0]+jt+ie[1]):(Br=pe[0]+(Rt+jt-Re.displaySize[0])/2,tr=Br+Re.displaySize[0]);var ln=I.top*Se,nn=I.bottom*Se;return W==="height"||W==="both"?(ir=pe[1]+ln-ie[0],xr=pe[1]+nn+ie[2]):(ir=pe[1]+(ln+nn-Re.displaySize[1])/2,xr=ir+Re.displaySize[1]),{image:Re,top:ir,right:tr,bottom:xr,left:Br,collisionPadding:$e}}var ad=function(D){function I(W,ie,pe,Se){D.call(this,W,ie),this.angle=pe,Se!==void 0&&(this.segment=Se)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(r);Ne("Anchor",ad);var ff=128;function d1(D,I){var W=I.expression;if(W.kind==="constant"){var ie=W.evaluate(new Ea(D+1));return{kind:"constant",layoutSize:ie}}else{if(W.kind==="source")return{kind:"source"};for(var pe=W.zoomStops,Se=W.interpolationType,Re=0;Re<pe.length&&pe[Re]<=D;)Re++;Re=Math.max(0,Re-1);for(var $e=Re;$e<pe.length&&pe[$e]<D+1;)$e++;$e=Math.min(pe.length-1,$e);var dt=pe[Re],St=pe[$e];if(W.kind==="composite")return{kind:"composite",minZoom:dt,maxZoom:St,interpolationType:Se};var Rt=W.evaluate(new Ea(dt)),jt=W.evaluate(new Ea(St));return{kind:"camera",minZoom:dt,maxZoom:St,minSize:Rt,maxSize:jt,interpolationType:Se}}}function Bw(D,I,W){var ie=I.uSize,pe=I.uSizeT,Se=W.lowerSize,Re=W.upperSize;return D.kind==="source"?Se/ff:D.kind==="composite"?Fi(Se/ff,Re/ff,pe):ie}function Uw(D,I){var W=0,ie=0;if(D.kind==="constant")ie=D.layoutSize;else if(D.kind!=="source"){var pe=D.interpolationType,Se=D.minZoom,Re=D.maxZoom,$e=pe?c(ji.interpolationFactor(pe,I,Se,Re),0,1):0;D.kind==="camera"?ie=Fi(D.minSize,D.maxSize,$e):W=$e}return{uSizeT:W,uSize:ie}}var sE=Object.freeze({__proto__:null,getSizeData:d1,evaluateSizeForFeature:Bw,evaluateSizeForZoom:Uw,SIZE_PACK_FACTOR:ff});function Vw(D,I,W,ie,pe){if(I.segment===void 0)return!0;for(var Se=I,Re=I.segment+1,$e=0;$e>-W/2;){if(Re--,Re<0)return!1;$e-=D[Re].dist(Se),Se=D[Re]}$e+=D[Re].dist(D[Re+1]),Re++;for(var dt=[],St=0;$e<W/2;){var Rt=D[Re-1],jt=D[Re],ir=D[Re+1];if(!ir)return!1;var tr=Rt.angleTo(jt)-jt.angleTo(ir);for(tr=Math.abs((tr+3*Math.PI)%(Math.PI*2)-Math.PI),dt.push({distance:$e,angleDelta:tr}),St+=tr;$e-dt[0].distance>ie;)St-=dt.shift().angleDelta;if(St>pe)return!1;Re++,$e+=jt.dist(ir)}return!0}function Hw(D){for(var I=0,W=0;W<D.length-1;W++)I+=D[W].dist(D[W+1]);return I}function Gw(D,I,W){return D?.6*I*W:0}function Ww(D,I){return Math.max(D?D.right-D.left:0,I?I.right-I.left:0)}function lE(D,I,W,ie,pe,Se){for(var Re=Gw(W,pe,Se),$e=Ww(W,ie)*Se,dt=0,St=Hw(D)/2,Rt=0;Rt<D.length-1;Rt++){var jt=D[Rt],ir=D[Rt+1],tr=jt.dist(ir);if(dt+tr>St){var xr=(St-dt)/tr,Br=Fi(jt.x,ir.x,xr),ln=Fi(jt.y,ir.y,xr),nn=new ad(Br,ln,ir.angleTo(jt),Rt);return nn._round(),!Re||Vw(D,nn,$e,Re,I)?nn:void 0}dt+=tr}}function uE(D,I,W,ie,pe,Se,Re,$e,dt){var St=Gw(ie,Se,Re),Rt=Ww(ie,pe),jt=Rt*Re,ir=D[0].x===0||D[0].x===dt||D[0].y===0||D[0].y===dt;I-jt<I/4&&(I=jt+I/4);var tr=Se*2,xr=ir?I/2*$e%I:(Rt/2+tr)*Re*$e%I;return jw(D,xr,I,St,W,jt,ir,!1,dt)}function jw(D,I,W,ie,pe,Se,Re,$e,dt){for(var St=Se/2,Rt=Hw(D),jt=0,ir=I-W,tr=[],xr=0;xr<D.length-1;xr++){for(var Br=D[xr],ln=D[xr+1],nn=Br.dist(ln),Cn=ln.angleTo(Br);ir+W<jt+nn;){ir+=W;var yn=(ir-jt)/nn,En=Fi(Br.x,ln.x,yn),_n=Fi(Br.y,ln.y,yn);if(En>=0&&En<dt&&_n>=0&&_n<dt&&ir-St>=0&&ir+St<=Rt){var Yn=new ad(En,_n,Cn,xr);Yn._round(),(!ie||Vw(D,Yn,Se,ie,pe))&&tr.push(Yn)}}jt+=nn}return!$e&&!tr.length&&!Re&&(tr=jw(D,jt/2,W,ie,pe,Se,Re,!0,dt)),tr}function Yw(D,I,W,ie,pe){for(var Se=[],Re=0;Re<D.length;Re++)for(var $e=D[Re],dt=void 0,St=0;St<$e.length-1;St++){var Rt=$e[St],jt=$e[St+1];Rt.x<I&&jt.x<I||(Rt.x<I?Rt=new r(I,Rt.y+(jt.y-Rt.y)*((I-Rt.x)/(jt.x-Rt.x)))._round():jt.x<I&&(jt=new r(I,Rt.y+(jt.y-Rt.y)*((I-Rt.x)/(jt.x-Rt.x)))._round()),!(Rt.y<W&&jt.y<W)&&(Rt.y<W?Rt=new r(Rt.x+(jt.x-Rt.x)*((W-Rt.y)/(jt.y-Rt.y)),W)._round():jt.y<W&&(jt=new r(Rt.x+(jt.x-Rt.x)*((W-Rt.y)/(jt.y-Rt.y)),W)._round()),!(Rt.x>=ie&&jt.x>=ie)&&(Rt.x>=ie?Rt=new r(ie,Rt.y+(jt.y-Rt.y)*((ie-Rt.x)/(jt.x-Rt.x)))._round():jt.x>=ie&&(jt=new r(ie,Rt.y+(jt.y-Rt.y)*((ie-Rt.x)/(jt.x-Rt.x)))._round()),!(Rt.y>=pe&&jt.y>=pe)&&(Rt.y>=pe?Rt=new r(Rt.x+(jt.x-Rt.x)*((pe-Rt.y)/(jt.y-Rt.y)),pe)._round():jt.y>=pe&&(jt=new r(Rt.x+(jt.x-Rt.x)*((pe-Rt.y)/(jt.y-Rt.y)),pe)._round()),(!dt||!Rt.equals(dt[dt.length-1]))&&(dt=[Rt],Se.push(dt)),dt.push(jt)))))}return Se}var id=rl;function Xw(D,I,W,ie){var pe=[],Se=D.image,Re=Se.pixelRatio,$e=Se.paddedRect.w-2*id,dt=Se.paddedRect.h-2*id,St=D.right-D.left,Rt=D.bottom-D.top,jt=Se.stretchX||[[0,$e]],ir=Se.stretchY||[[0,dt]],tr=function(vi,oi){return vi+oi[1]-oi[0]},xr=jt.reduce(tr,0),Br=ir.reduce(tr,0),ln=$e-xr,nn=dt-Br,Cn=0,yn=xr,En=0,_n=Br,Yn=0,ia=ln,ta=0,Sa=nn;if(Se.content&&ie){var ya=Se.content;Cn=sg(jt,0,ya[0]),En=sg(ir,0,ya[1]),yn=sg(jt,ya[0],ya[2]),_n=sg(ir,ya[1],ya[3]),Yn=ya[0]-Cn,ta=ya[1]-En,ia=ya[2]-ya[0]-yn,Sa=ya[3]-ya[1]-_n}var Aa=function(vi,oi,Ri,Ii){var Qi=lg(vi.stretch-Cn,yn,St,D.left),ao=ug(vi.fixed-Yn,ia,vi.stretch,xr),Bo=lg(oi.stretch-En,_n,Rt,D.top),So=ug(oi.fixed-ta,Sa,oi.stretch,Br),us=lg(Ri.stretch-Cn,yn,St,D.left),fs=ug(Ri.fixed-Yn,ia,Ri.stretch,xr),Uo=lg(Ii.stretch-En,_n,Rt,D.top),Es=ug(Ii.fixed-ta,Sa,Ii.stretch,Br),Cs=new r(Qi,Bo),Do=new r(us,Bo),Ls=new r(us,Uo),Al=new r(Qi,Uo),Sc=new r(ao/Re,So/Re),Th=new r(fs/Re,Es/Re),Ah=I*Math.PI/180;if(Ah){var Sh=Math.sin(Ah),vd=Math.cos(Ah),Tu=[vd,-Sh,Sh,vd];Cs._matMult(Tu),Do._matMult(Tu),Al._matMult(Tu),Ls._matMult(Tu)}var pg=vi.stretch+vi.fixed,T1=Ri.stretch+Ri.fixed,gg=oi.stretch+oi.fixed,A1=Ii.stretch+Ii.fixed,Hl={x:Se.paddedRect.x+id+pg,y:Se.paddedRect.y+id+gg,w:T1-pg,h:A1-gg},dd=ia/Re/St,yg=Sa/Re/Rt;return{tl:Cs,tr:Do,bl:Al,br:Ls,tex:Hl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Sc,pixelOffsetBR:Th,minFontScaleX:dd,minFontScaleY:yg,isSDF:W}};if(!ie||!Se.stretchX&&!Se.stretchY)pe.push(Aa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:$e+1},{fixed:0,stretch:dt+1}));else for(var Ga=Zw(jt,ln,xr),Ma=Zw(ir,nn,Br),Pa=0;Pa<Ga.length-1;Pa++)for(var Za=Ga[Pa],Ua=Ga[Pa+1],ci=0;ci<Ma.length-1;ci++){var Si=Ma[ci],hi=Ma[ci+1];pe.push(Aa(Za,Si,Ua,hi))}return pe}function sg(D,I,W){for(var ie=0,pe=0,Se=D;pe<Se.length;pe+=1){var Re=Se[pe];ie+=Math.max(I,Math.min(W,Re[1]))-Math.max(I,Math.min(W,Re[0]))}return ie}function Zw(D,I,W){for(var ie=[{fixed:-id,stretch:0}],pe=0,Se=D;pe<Se.length;pe+=1){var Re=Se[pe],$e=Re[0],dt=Re[1],St=ie[ie.length-1];ie.push({fixed:$e-St.stretch,stretch:St.stretch}),ie.push({fixed:$e-St.stretch,stretch:St.stretch+(dt-$e)})}return ie.push({fixed:I+id,stretch:W}),ie}function lg(D,I,W,ie){return D/I*W+ie}function ug(D,I,W,ie){return D-I*W/ie}function fE(D,I,W,ie,pe,Se,Re,$e){for(var dt=ie.layout.get("text-rotate").evaluate(Se,{})*Math.PI/180,St=[],Rt=0,jt=I.positionedLines;Rt<jt.length;Rt+=1)for(var ir=jt[Rt],tr=0,xr=ir.positionedGlyphs;tr<xr.length;tr+=1){var Br=xr[tr];if(Br.rect){var ln=Br.rect||{},nn=1,Cn=Rw+nn,yn=!0,En=1,_n=0,Yn=(pe||$e)&&Br.vertical,ia=Br.metrics.advance*Br.scale/2;if($e&&I.verticalizable){var ta=(Br.scale-1)*Ko,Sa=(Ko-Br.metrics.width*Br.scale)/2;_n=ir.lineOffset/2-(Br.imageName?-Sa:ta)}if(Br.imageName){var ya=Re[Br.imageName];yn=ya.sdf,En=ya.pixelRatio,Cn=rl/En}var Aa=pe?[Br.x+ia,Br.y]:[0,0],Ga=pe?[0,0]:[Br.x+ia+W[0],Br.y+W[1]-_n],Ma=[0,0];Yn&&(Ma=Ga,Ga=[0,0]);var Pa=(Br.metrics.left-Cn)*Br.scale-ia+Ga[0],Za=(-Br.metrics.top-Cn)*Br.scale+Ga[1],Ua=Pa+ln.w*Br.scale/En,ci=Za+ln.h*Br.scale/En,Si=new r(Pa,Za),hi=new r(Ua,Za),vi=new r(Pa,ci),oi=new r(Ua,ci);if(Yn){var Ri=new r(-ia,ia-Mp),Ii=-Math.PI/2,Qi=Ko/2-ia,ao=Br.imageName?Qi:0,Bo=new r(5-Mp-Qi,-ao),So=new(Function.prototype.bind.apply(r,[null].concat(Ma)));Si._rotateAround(Ii,Ri)._add(Bo)._add(So),hi._rotateAround(Ii,Ri)._add(Bo)._add(So),vi._rotateAround(Ii,Ri)._add(Bo)._add(So),oi._rotateAround(Ii,Ri)._add(Bo)._add(So)}if(dt){var us=Math.sin(dt),fs=Math.cos(dt),Uo=[fs,-us,us,fs];Si._matMult(Uo),hi._matMult(Uo),vi._matMult(Uo),oi._matMult(Uo)}var Es=new r(0,0),Cs=new r(0,0),Do=0,Ls=0;St.push({tl:Si,tr:hi,bl:vi,br:oi,tex:ln,writingMode:I.writingMode,glyphOffset:Aa,sectionIndex:Br.sectionIndex,isSDF:yn,pixelOffsetTL:Es,pixelOffsetBR:Cs,minFontScaleX:Do,minFontScaleY:Ls})}}return St}var fg=function(I,W,ie,pe,Se,Re,$e,dt,St,Rt){if(this.boxStartIndex=I.length,St){var jt=Re.top,ir=Re.bottom,tr=Re.collisionPadding;tr&&(jt-=tr[1],ir+=tr[3]);var xr=ir-jt;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var Br=Re.top*$e-dt,ln=Re.bottom*$e+dt,nn=Re.left*$e-dt,Cn=Re.right*$e+dt,yn=Re.collisionPadding;if(yn&&(nn-=yn[0]*$e,Br-=yn[1]*$e,Cn+=yn[2]*$e,ln+=yn[3]*$e),Rt){var En=new r(nn,Br),_n=new r(Cn,Br),Yn=new r(nn,ln),ia=new r(Cn,ln),ta=Rt*Math.PI/180;En._rotate(ta),_n._rotate(ta),Yn._rotate(ta),ia._rotate(ta),nn=Math.min(En.x,_n.x,Yn.x,ia.x),Cn=Math.max(En.x,_n.x,Yn.x,ia.x),Br=Math.min(En.y,_n.y,Yn.y,ia.y),ln=Math.max(En.y,_n.y,Yn.y,ia.y)}I.emplaceBack(W.x,W.y,nn,Br,Cn,ln,ie,pe,Se)}this.boxEndIndex=I.length},od=function(I,W){if(I===void 0&&(I=[]),W===void 0&&(W=cE),this.data=I,this.length=this.data.length,this.compare=W,this.length>0)for(var ie=(this.length>>1)-1;ie>=0;ie--)this._down(ie)};od.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},od.prototype.pop=function(){if(this.length!==0){var I=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),I}},od.prototype.peek=function(){return this.data[0]},od.prototype._up=function(I){for(var W=this,ie=W.data,pe=W.compare,Se=ie[I];I>0;){var Re=I-1>>1,$e=ie[Re];if(pe(Se,$e)>=0)break;ie[I]=$e,I=Re}ie[I]=Se},od.prototype._down=function(I){for(var W=this,ie=W.data,pe=W.compare,Se=this.length>>1,Re=ie[I];I<Se;){var $e=(I<<1)+1,dt=ie[$e],St=$e+1;if(St<this.length&&pe(ie[St],dt)<0&&($e=St,dt=ie[St]),pe(dt,Re)>=0)break;ie[I]=dt,I=$e}ie[I]=Re};function cE(D,I){return D<I?-1:D>I?1:0}function hE(D,I,W){I===void 0&&(I=1),W===void 0&&(W=!1);for(var ie=1/0,pe=1/0,Se=-1/0,Re=-1/0,$e=D[0],dt=0;dt<$e.length;dt++){var St=$e[dt];(!dt||St.x<ie)&&(ie=St.x),(!dt||St.y<pe)&&(pe=St.y),(!dt||St.x>Se)&&(Se=St.x),(!dt||St.y>Re)&&(Re=St.y)}var Rt=Se-ie,jt=Re-pe,ir=Math.min(Rt,jt),tr=ir/2,xr=new od([],vE);if(ir===0)return new r(ie,pe);for(var Br=ie;Br<Se;Br+=ir)for(var ln=pe;ln<Re;ln+=ir)xr.push(new sd(Br+tr,ln+tr,tr,D));for(var nn=pE(D),Cn=xr.length;xr.length;){var yn=xr.pop();(yn.d>nn.d||!nn.d)&&(nn=yn,W&&console.log("found best %d after %d probes",Math.round(1e4*yn.d)/1e4,Cn)),!(yn.max-nn.d<=I)&&(tr=yn.h/2,xr.push(new sd(yn.p.x-tr,yn.p.y-tr,tr,D)),xr.push(new sd(yn.p.x+tr,yn.p.y-tr,tr,D)),xr.push(new sd(yn.p.x-tr,yn.p.y+tr,tr,D)),xr.push(new sd(yn.p.x+tr,yn.p.y+tr,tr,D)),Cn+=4)}return W&&(console.log("num probes: "+Cn),console.log("best distance: "+nn.d)),nn.p}function vE(D,I){return I.max-D.max}function sd(D,I,W,ie){this.p=new r(D,I),this.h=W,this.d=dE(this.p,ie),this.max=this.d+this.h*Math.SQRT2}function dE(D,I){for(var W=!1,ie=1/0,pe=0;pe<I.length;pe++)for(var Se=I[pe],Re=0,$e=Se.length,dt=$e-1;Re<$e;dt=Re++){var St=Se[Re],Rt=Se[dt];St.y>D.y!=Rt.y>D.y&&D.x<(Rt.x-St.x)*(D.y-St.y)/(Rt.y-St.y)+St.x&&(W=!W),ie=Math.min(ie,bc(D,St,Rt))}return(W?1:-1)*Math.sqrt(ie)}function pE(D){for(var I=0,W=0,ie=0,pe=D[0],Se=0,Re=pe.length,$e=Re-1;Se<Re;$e=Se++){var dt=pe[Se],St=pe[$e],Rt=dt.x*St.y-St.x*dt.y;W+=(dt.x+St.x)*Rt,ie+=(dt.y+St.y)*Rt,I+=Rt*3}return new sd(W/I,ie/I,0,D)}var ld=7,p1=Number.POSITIVE_INFINITY;function Kw(D,I){function W(pe,Se){var Re=0,$e=0;Se<0&&(Se=0);var dt=Se/Math.sqrt(2);switch(pe){case"top-right":case"top-left":$e=dt-ld;break;case"bottom-right":case"bottom-left":$e=-dt+ld;break;case"bottom":$e=-Se+ld;break;case"top":$e=Se-ld;break}switch(pe){case"top-right":case"bottom-right":Re=-dt;break;case"top-left":case"bottom-left":Re=dt;break;case"left":Re=Se;break;case"right":Re=-Se;break}return[Re,$e]}function ie(pe,Se,Re){var $e=0,dt=0;switch(Se=Math.abs(Se),Re=Math.abs(Re),pe){case"top-right":case"top-left":case"top":dt=Re-ld;break;case"bottom-right":case"bottom-left":case"bottom":dt=-Re+ld;break}switch(pe){case"top-right":case"bottom-right":case"right":$e=-Se;break;case"top-left":case"bottom-left":case"left":$e=Se;break}return[$e,dt]}return I[1]!==p1?ie(D,I[0],I[1]):W(D,I[0])}function gE(D,I,W,ie,pe,Se,Re){D.createArrays();var $e=512*D.overscaling;D.tilePixelRatio=Ca/$e,D.compareText={},D.iconsNeedLinear=!1;var dt=D.layers[0].layout,St=D.layers[0]._unevaluatedLayout._values,Rt={};if(D.textSizeData.kind==="composite"){var jt=D.textSizeData,ir=jt.minZoom,tr=jt.maxZoom;Rt.compositeTextSizes=[St["text-size"].possiblyEvaluate(new Ea(ir),Re),St["text-size"].possiblyEvaluate(new Ea(tr),Re)]}if(D.iconSizeData.kind==="composite"){var xr=D.iconSizeData,Br=xr.minZoom,ln=xr.maxZoom;Rt.compositeIconSizes=[St["icon-size"].possiblyEvaluate(new Ea(Br),Re),St["icon-size"].possiblyEvaluate(new Ea(ln),Re)]}Rt.layoutTextSize=St["text-size"].possiblyEvaluate(new Ea(D.zoom+1),Re),Rt.layoutIconSize=St["icon-size"].possiblyEvaluate(new Ea(D.zoom+1),Re),Rt.textMaxSize=St["text-size"].possiblyEvaluate(new Ea(18));for(var nn=dt.get("text-line-height")*Ko,Cn=dt.get("text-rotation-alignment")==="map"&&dt.get("symbol-placement")!=="point",yn=dt.get("text-keep-upright"),En=dt.get("text-size"),_n=function(){var ta=ia[Yn],Sa=dt.get("text-font").evaluate(ta,{},Re).join(","),ya=En.evaluate(ta,{},Re),Aa=Rt.layoutTextSize.evaluate(ta,{},Re),Ga=Rt.layoutIconSize.evaluate(ta,{},Re),Ma={horizontal:{},vertical:void 0},Pa=ta.text,Za=[0,0];if(Pa){var Ua=Pa.toString(),ci=dt.get("text-letter-spacing").evaluate(ta,{},Re)*Ko,Si=Lr(Ua)?ci:0,hi=dt.get("text-anchor").evaluate(ta,{},Re),vi=dt.get("text-variable-anchor");if(!vi){var oi=dt.get("text-radial-offset").evaluate(ta,{},Re);oi?Za=Kw(hi,[oi*Ko,p1]):Za=dt.get("text-offset").evaluate(ta,{},Re).map(function(Sc){return Sc*Ko})}var Ri=Cn?"center":dt.get("text-justify").evaluate(ta,{},Re),Ii=dt.get("symbol-placement"),Qi=Ii==="point"?dt.get("text-max-width").evaluate(ta,{},Re)*Ko:0,ao=function(){D.allowVerticalPlacement&&nr(Ua)&&(Ma.vertical=og(Pa,I,W,pe,Sa,Qi,nn,hi,"left",Si,Za,Tl.vertical,!0,Ii,Aa,ya))};if(!Cn&&vi){for(var Bo=Ri==="auto"?vi.map(function(Sc){return g1(Sc)}):[Ri],So=!1,us=0;us<Bo.length;us++){var fs=Bo[us];if(!Ma.horizontal[fs])if(So)Ma.horizontal[fs]=Ma.horizontal[0];else{var Uo=og(Pa,I,W,pe,Sa,Qi,nn,"center",fs,Si,Za,Tl.horizontal,!1,Ii,Aa,ya);Uo&&(Ma.horizontal[fs]=Uo,So=Uo.positionedLines.length===1)}}ao()}else{Ri==="auto"&&(Ri=g1(hi));var Es=og(Pa,I,W,pe,Sa,Qi,nn,hi,Ri,Si,Za,Tl.horizontal,!1,Ii,Aa,ya);Es&&(Ma.horizontal[Ri]=Es),ao(),nr(Ua)&&Cn&&yn&&(Ma.vertical=og(Pa,I,W,pe,Sa,Qi,nn,hi,Ri,Si,Za,Tl.vertical,!1,Ii,Aa,ya))}}var Cs=void 0,Do=!1;if(ta.icon&&ta.icon.name){var Ls=ie[ta.icon.name];Ls&&(Cs=oE(pe[ta.icon.name],dt.get("icon-offset").evaluate(ta,{},Re),dt.get("icon-anchor").evaluate(ta,{},Re)),Do=Ls.sdf,D.sdfIcons===void 0?D.sdfIcons=Ls.sdf:D.sdfIcons!==Ls.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ls.pixelRatio!==D.pixelRatio||dt.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var Al=$w(Ma.horizontal)||Ma.vertical;D.iconsInText=Al?Al.iconsInText:!1,(Al||Cs)&&yE(D,ta,Ma,Cs,ie,Rt,Aa,Ga,Za,Do,Re)},Yn=0,ia=D.features;Yn<ia.length;Yn+=1)_n();Se&&D.generateCollisionDebugBuffers()}function g1(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function yE(D,I,W,ie,pe,Se,Re,$e,dt,St,Rt){var jt=Se.textMaxSize.evaluate(I,{});jt===void 0&&(jt=Re);var ir=D.layers[0].layout,tr=ir.get("icon-offset").evaluate(I,{},Rt),xr=$w(W.horizontal),Br=24,ln=Re/Br,nn=D.tilePixelRatio*ln,Cn=D.tilePixelRatio*jt/Br,yn=D.tilePixelRatio*$e,En=D.tilePixelRatio*ir.get("symbol-spacing"),_n=ir.get("text-padding")*D.tilePixelRatio,Yn=ir.get("icon-padding")*D.tilePixelRatio,ia=ir.get("text-max-angle")/180*Math.PI,ta=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",Sa=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",ya=ir.get("symbol-placement"),Aa=En/2,Ga=ir.get("icon-text-fit"),Ma;ie&&Ga!=="none"&&(D.allowVerticalPlacement&&W.vertical&&(Ma=Nw(ie,W.vertical,Ga,ir.get("icon-text-fit-padding"),tr,ln)),xr&&(ie=Nw(ie,xr,Ga,ir.get("icon-text-fit-padding"),tr,ln)));var Pa=function(vd,Tu){Tu.x<0||Tu.x>=Ca||Tu.y<0||Tu.y>=Ca||mE(D,Tu,vd,W,ie,pe,Ma,D.layers[0],D.collisionBoxArray,I.index,I.sourceLayerIndex,D.index,nn,_n,ta,dt,yn,Yn,Sa,tr,I,Se,St,Rt,Re)};if(ya==="line")for(var Za=0,Ua=Yw(I.geometry,0,0,Ca,Ca);Za<Ua.length;Za+=1)for(var ci=Ua[Za],Si=uE(ci,En,ia,W.vertical||xr,ie,Br,Cn,D.overscaling,Ca),hi=0,vi=Si;hi<vi.length;hi+=1){var oi=vi[hi],Ri=xr;(!Ri||!xE(D,Ri.text,Aa,oi))&&Pa(ci,oi)}else if(ya==="line-center")for(var Ii=0,Qi=I.geometry;Ii<Qi.length;Ii+=1){var ao=Qi[Ii];if(ao.length>1){var Bo=lE(ao,ia,W.vertical||xr,ie,Br,Cn);Bo&&Pa(ao,Bo)}}else if(I.type==="Polygon")for(var So=0,us=o1(I.geometry,0);So<us.length;So+=1){var fs=us[So],Uo=hE(fs,16);Pa(fs[0],new ad(Uo.x,Uo.y,0))}else if(I.type==="LineString")for(var Es=0,Cs=I.geometry;Es<Cs.length;Es+=1){var Do=Cs[Es];Pa(Do,new ad(Do[0].x,Do[0].y,0))}else if(I.type==="Point")for(var Ls=0,Al=I.geometry;Ls<Al.length;Ls+=1)for(var Sc=Al[Ls],Th=0,Ah=Sc;Th<Ah.length;Th+=1){var Sh=Ah[Th];Pa([Sh],new ad(Sh.x,Sh.y,0))}}var Ep=255,bh=Ep*ff;function Jw(D,I,W,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr){var Br=fE(I,W,$e,pe,Se,Re,ie,D.allowVerticalPlacement),ln=D.textSizeData,nn=null;ln.kind==="source"?(nn=[ff*pe.layout.get("text-size").evaluate(Re,{})],nn[0]>bh&&B(D.layerIds[0]+': Value for "text-size" is >= '+Ep+'. Reduce your "text-size".')):ln.kind==="composite"&&(nn=[ff*tr.compositeTextSizes[0].evaluate(Re,{},xr),ff*tr.compositeTextSizes[1].evaluate(Re,{},xr)],(nn[0]>bh||nn[1]>bh)&&B(D.layerIds[0]+': Value for "text-size" is >= '+Ep+'. Reduce your "text-size".')),D.addSymbols(D.text,Br,nn,$e,Se,Re,St,I,dt.lineStartIndex,dt.lineLength,ir,xr);for(var Cn=0,yn=Rt;Cn<yn.length;Cn+=1){var En=yn[Cn];jt[En]=D.text.placedSymbolArray.length-1}return Br.length*4}function $w(D){for(var I in D)return D[I];return null}function mE(D,I,W,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir,tr,xr,Br,ln,nn,Cn,yn,En,_n,Yn,ia,ta){var Sa,ya=D.addToLineVertexArray(I,W),Aa,Ga,Ma,Pa,Za=0,Ua=0,ci=0,Si=0,hi=-1,vi=-1,oi={},Ri=ye(""),Ii=0,Qi=0;if($e._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Sa=$e.layout.get("text-offset").evaluate(En,{},ia).map(function(Pp){return Pp*Ko}),Ii=Sa[0],Qi=Sa[1]):(Ii=$e.layout.get("text-radial-offset").evaluate(En,{},ia)*Ko,Qi=p1),D.allowVerticalPlacement&&ie.vertical){var ao=$e.layout.get("text-rotate").evaluate(En,{},ia),Bo=ao+90,So=ie.vertical;Ma=new fg(dt,I,St,Rt,jt,So,ir,tr,xr,Bo),Re&&(Pa=new fg(dt,I,St,Rt,jt,Re,ln,nn,xr,Bo))}if(pe){var us=$e.layout.get("icon-rotate").evaluate(En,{}),fs=$e.layout.get("icon-text-fit")!=="none",Uo=Xw(pe,us,Yn,fs),Es=Re?Xw(Re,us,Yn,fs):void 0;Ga=new fg(dt,I,St,Rt,jt,pe,ln,nn,!1,us),Za=Uo.length*4;var Cs=D.iconSizeData,Do=null;Cs.kind==="source"?(Do=[ff*$e.layout.get("icon-size").evaluate(En,{})],Do[0]>bh&&B(D.layerIds[0]+': Value for "icon-size" is >= '+Ep+'. Reduce your "icon-size".')):Cs.kind==="composite"&&(Do=[ff*_n.compositeIconSizes[0].evaluate(En,{},ia),ff*_n.compositeIconSizes[1].evaluate(En,{},ia)],(Do[0]>bh||Do[1]>bh)&&B(D.layerIds[0]+': Value for "icon-size" is >= '+Ep+'. Reduce your "icon-size".')),D.addSymbols(D.icon,Uo,Do,yn,Cn,En,!1,I,ya.lineStartIndex,ya.lineLength,-1,ia),hi=D.icon.placedSymbolArray.length-1,Es&&(Ua=Es.length*4,D.addSymbols(D.icon,Es,Do,yn,Cn,En,Tl.vertical,I,ya.lineStartIndex,ya.lineLength,-1,ia),vi=D.icon.placedSymbolArray.length-1)}for(var Ls in ie.horizontal){var Al=ie.horizontal[Ls];if(!Aa){Ri=ye(Al.text);var Sc=$e.layout.get("text-rotate").evaluate(En,{},ia);Aa=new fg(dt,I,St,Rt,jt,Al,ir,tr,xr,Sc)}var Th=Al.positionedLines.length===1;if(ci+=Jw(D,I,Al,Se,$e,xr,En,Br,ya,ie.vertical?Tl.horizontal:Tl.horizontalOnly,Th?Object.keys(ie.horizontal):[Ls],oi,hi,_n,ia),Th)break}ie.vertical&&(Si+=Jw(D,I,ie.vertical,Se,$e,xr,En,Br,ya,Tl.vertical,["vertical"],oi,vi,_n,ia));var Ah=Aa?Aa.boxStartIndex:D.collisionBoxArray.length,Sh=Aa?Aa.boxEndIndex:D.collisionBoxArray.length,vd=Ma?Ma.boxStartIndex:D.collisionBoxArray.length,Tu=Ma?Ma.boxEndIndex:D.collisionBoxArray.length,pg=Ga?Ga.boxStartIndex:D.collisionBoxArray.length,T1=Ga?Ga.boxEndIndex:D.collisionBoxArray.length,gg=Pa?Pa.boxStartIndex:D.collisionBoxArray.length,A1=Pa?Pa.boxEndIndex:D.collisionBoxArray.length,Hl=-1,dd=function(Pp,v2){return Pp&&Pp.circleDiameter?Math.max(Pp.circleDiameter,v2):v2};Hl=dd(Aa,Hl),Hl=dd(Ma,Hl),Hl=dd(Ga,Hl),Hl=dd(Pa,Hl);var yg=Hl>-1?1:0;yg&&(Hl*=ta/Ko),D.glyphOffsetArray.length>=Ai.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),En.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,En.sortKey),D.symbolInstances.emplaceBack(I.x,I.y,oi.right>=0?oi.right:-1,oi.center>=0?oi.center:-1,oi.left>=0?oi.left:-1,oi.vertical||-1,hi,vi,Ri,Ah,Sh,vd,Tu,pg,T1,gg,A1,St,ci,Si,Za,Ua,yg,0,ir,Ii,Qi,Hl)}function xE(D,I,W,ie){var pe=D.compareText;if(!(I in pe))pe[I]=[];else for(var Se=pe[I],Re=Se.length-1;Re>=0;Re--)if(ie.dist(Se[Re])<W)return!0;return pe[I].push(ie),!1}var bE=ed.VectorTileFeature.types,wE=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function cg(D,I,W,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir){var tr=$e?Math.min(bh,Math.round($e[0])):0,xr=$e?Math.min(bh,Math.round($e[1])):0;D.emplaceBack(I,W,Math.round(ie*32),Math.round(pe*32),Se,Re,(tr<<1)+(dt?1:0),xr,St*16,Rt*16,jt*256,ir*256)}function y1(D,I,W){D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W)}function TE(D){for(var I=0,W=D.sections;I<W.length;I+=1){var ie=W[I];if(rn(ie.text))return!0}return!1}var ud=function(I){this.layoutVertexArray=new Nf,this.indexArray=new of,this.programConfigurations=I,this.segments=new bo,this.dynamicLayoutVertexArray=new up,this.opacityVertexArray=new fp,this.placedSymbolArray=new vp};ud.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},ud.prototype.upload=function(I,W,ie,pe){this.isEmpty()||(ie&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,T8.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,A8.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,wE,!0),this.opacityVertexBuffer.itemSize=1),(ie||pe)&&this.programConfigurations.upload(I))},ud.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ne("SymbolBuffers",ud);var Cp=function(I,W,ie){this.layoutVertexArray=new I,this.layoutAttributes=W,this.indexArray=new ie,this.segments=new bo,this.collisionVertexArray=new Ns};Cp.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,S8.members,!0)},Cp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ne("CollisionBuffers",Cp);var Ai=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(dt){return dt.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Kv([]),this.placementViewportMatrix=Kv([]);var W=this.layers[0],ie=W._unevaluatedLayout._values;this.textSizeData=d1(this.zoom,ie["text-size"]),this.iconSizeData=d1(this.zoom,ie["icon-size"]);var pe=this.layers[0].layout,Se=pe.get("symbol-sort-key"),Re=pe.get("symbol-z-order");this.canOverlap=pe.get("text-allow-overlap")||pe.get("icon-allow-overlap")||pe.get("text-ignore-placement")||pe.get("icon-ignore-placement"),this.sortFeaturesByKey=Re!=="viewport-y"&&Se.constantOr(1)!==void 0;var $e=Re==="viewport-y"||Re==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=$e&&this.canOverlap,pe.get("symbol-placement")==="point"&&(this.writingModes=pe.get("text-writing-mode").map(function(dt){return Tl[dt]})),this.stateDependentLayerIds=this.layers.filter(function(dt){return dt.isStateDependent()}).map(function(dt){return dt.id}),this.sourceID=I.sourceID};Ai.prototype.createArrays=function(){this.text=new ud(new ga(this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new ud(new ga(this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new X0,this.lineVertexArray=new Nl,this.symbolInstances=new Y0},Ai.prototype.calculateGlyphDependencies=function(I,W,ie,pe,Se){for(var Re=0;Re<I.length;Re++)if(W[I.charCodeAt(Re)]=!0,(ie||pe)&&Se){var $e=Tp[I.charAt(Re)];$e&&(W[$e.charCodeAt(0)]=!0)}},Ai.prototype.populate=function(I,W,ie){var pe=this.layers[0],Se=pe.layout,Re=Se.get("text-font"),$e=Se.get("text-field"),dt=Se.get("icon-image"),St=($e.value.kind!=="constant"||$e.value.value instanceof so&&!$e.value.value.isEmpty()||$e.value.value.toString().length>0)&&(Re.value.kind!=="constant"||Re.value.value.length>0),Rt=dt.value.kind!=="constant"||!!dt.value.value||Object.keys(dt.parameters).length>0,jt=Se.get("symbol-sort-key");if(this.features=[],!(!St&&!Rt)){for(var ir=W.iconDependencies,tr=W.glyphDependencies,xr=W.availableImages,Br=new Ea(this.zoom),ln=0,nn=I;ln<nn.length;ln+=1){var Cn=nn[ln],yn=Cn.feature,En=Cn.id,_n=Cn.index,Yn=Cn.sourceLayerIndex,ia=pe._featureFilter.needGeometry,ta=Pi(yn,ia);if(pe._featureFilter.filter(Br,ta,ie)){ia||(ta.geometry=ii(yn));var Sa=void 0;if(St){var ya=pe.getValueAndResolveTokens("text-field",ta,ie,xr),Aa=so.factory(ya);TE(Aa)&&(this.hasRTLText=!0),(!this.hasRTLText||Fa()==="unavailable"||this.hasRTLText&&Qn.isParsed())&&(Sa=C8(Aa,pe,ta))}var Ga=void 0;if(Rt){var Ma=pe.getValueAndResolveTokens("icon-image",ta,ie,xr);Ma instanceof Oo?Ga=Ma:Ga=Oo.fromString(Ma)}if(!(!Sa&&!Ga)){var Pa=this.sortFeaturesByKey?jt.evaluate(ta,{},ie):void 0,Za={id:En,text:Sa,icon:Ga,index:_n,sourceLayerIndex:Yn,geometry:ta.geometry,properties:yn.properties,type:bE[yn.type],sortKey:Pa};if(this.features.push(Za),Ga&&(ir[Ga.name]=!0),Sa){var Ua=Re.evaluate(ta,{},ie).join(","),ci=Se.get("text-rotation-alignment")==="map"&&Se.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Tl.vertical)>=0;for(var Si=0,hi=Sa.sections;Si<hi.length;Si+=1){var vi=hi[Si];if(vi.image)ir[vi.image.name]=!0;else{var oi=nr(Sa.toString()),Ri=vi.fontStack||Ua,Ii=tr[Ri]=tr[Ri]||{};this.calculateGlyphDependencies(vi.text,Ii,ci,this.allowVerticalPlacement,oi)}}}}}}Se.get("symbol-placement")==="line"&&(this.features=L8(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Qi,ao){return Qi.sortKey-ao.sortKey})}},Ai.prototype.update=function(I,W,ie){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(I,W,this.layers,ie),this.icon.programConfigurations.updatePaintArrays(I,W,this.layers,ie))},Ai.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ai.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ai.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ai.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ai.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ai.prototype.addToLineVertexArray=function(I,W){var ie=this.lineVertexArray.length;if(I.segment!==void 0){for(var pe=I.dist(W[I.segment+1]),Se=I.dist(W[I.segment]),Re={},$e=I.segment+1;$e<W.length;$e++)Re[$e]={x:W[$e].x,y:W[$e].y,tileUnitDistanceFromAnchor:pe},$e<W.length-1&&(pe+=W[$e+1].dist(W[$e]));for(var dt=I.segment||0;dt>=0;dt--)Re[dt]={x:W[dt].x,y:W[dt].y,tileUnitDistanceFromAnchor:Se},dt>0&&(Se+=W[dt-1].dist(W[dt]));for(var St=0;St<W.length;St++){var Rt=Re[St];this.lineVertexArray.emplaceBack(Rt.x,Rt.y,Rt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ie,lineLength:this.lineVertexArray.length-ie}},Ai.prototype.addSymbols=function(I,W,ie,pe,Se,Re,$e,dt,St,Rt,jt,ir){for(var tr=I.indexArray,xr=I.layoutVertexArray,Br=I.segments.prepareSegment(4*W.length,xr,tr,this.canOverlap?Re.sortKey:void 0),ln=this.glyphOffsetArray.length,nn=Br.vertexLength,Cn=this.allowVerticalPlacement&&$e===Tl.vertical?Math.PI/2:0,yn=Re.text&&Re.text.sections,En=0;En<W.length;En++){var _n=W[En],Yn=_n.tl,ia=_n.tr,ta=_n.bl,Sa=_n.br,ya=_n.tex,Aa=_n.pixelOffsetTL,Ga=_n.pixelOffsetBR,Ma=_n.minFontScaleX,Pa=_n.minFontScaleY,Za=_n.glyphOffset,Ua=_n.isSDF,ci=_n.sectionIndex,Si=Br.vertexLength,hi=Za[1];cg(xr,dt.x,dt.y,Yn.x,hi+Yn.y,ya.x,ya.y,ie,Ua,Aa.x,Aa.y,Ma,Pa),cg(xr,dt.x,dt.y,ia.x,hi+ia.y,ya.x+ya.w,ya.y,ie,Ua,Ga.x,Aa.y,Ma,Pa),cg(xr,dt.x,dt.y,ta.x,hi+ta.y,ya.x,ya.y+ya.h,ie,Ua,Aa.x,Ga.y,Ma,Pa),cg(xr,dt.x,dt.y,Sa.x,hi+Sa.y,ya.x+ya.w,ya.y+ya.h,ie,Ua,Ga.x,Ga.y,Ma,Pa),y1(I.dynamicLayoutVertexArray,dt,Cn),tr.emplaceBack(Si,Si+1,Si+2),tr.emplaceBack(Si+1,Si+2,Si+3),Br.vertexLength+=4,Br.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Za[0]),(En===W.length-1||ci!==W[En+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(xr.length,Re,Re.index,{},ir,yn&&yn[ci])}I.placedSymbolArray.emplaceBack(dt.x,dt.y,ln,this.glyphOffsetArray.length-ln,nn,St,Rt,dt.segment,ie?ie[0]:0,ie?ie[1]:0,pe[0],pe[1],$e,0,!1,0,jt)},Ai.prototype._addCollisionDebugVertex=function(I,W,ie,pe,Se,Re){return W.emplaceBack(0,0),I.emplaceBack(ie.x,ie.y,pe,Se,Math.round(Re.x),Math.round(Re.y))},Ai.prototype.addCollisionDebugVertices=function(I,W,ie,pe,Se,Re,$e){var dt=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),St=dt.vertexLength,Rt=Se.layoutVertexArray,jt=Se.collisionVertexArray,ir=$e.anchorX,tr=$e.anchorY;this._addCollisionDebugVertex(Rt,jt,Re,ir,tr,new r(I,W)),this._addCollisionDebugVertex(Rt,jt,Re,ir,tr,new r(ie,W)),this._addCollisionDebugVertex(Rt,jt,Re,ir,tr,new r(ie,pe)),this._addCollisionDebugVertex(Rt,jt,Re,ir,tr,new r(I,pe)),dt.vertexLength+=4;var xr=Se.indexArray;xr.emplaceBack(St,St+1),xr.emplaceBack(St+1,St+2),xr.emplaceBack(St+2,St+3),xr.emplaceBack(St+3,St),dt.primitiveLength+=4},Ai.prototype.addDebugCollisionBoxes=function(I,W,ie,pe){for(var Se=I;Se<W;Se++){var Re=this.collisionBoxArray.get(Se),$e=Re.x1,dt=Re.y1,St=Re.x2,Rt=Re.y2;this.addCollisionDebugVertices($e,dt,St,Rt,pe?this.textCollisionBox:this.iconCollisionBox,Re.anchorPoint,ie)}},Ai.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Cp(Gv,Mw.members,yv),this.iconCollisionBox=new Cp(Gv,Mw.members,yv);for(var I=0;I<this.symbolInstances.length;I++){var W=this.symbolInstances.get(I);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},Ai.prototype._deserializeCollisionBoxesForSymbol=function(I,W,ie,pe,Se,Re,$e,dt,St){for(var Rt={},jt=W;jt<ie;jt++){var ir=I.get(jt);Rt.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},Rt.textFeatureIndex=ir.featureIndex;break}for(var tr=pe;tr<Se;tr++){var xr=I.get(tr);Rt.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},Rt.verticalTextFeatureIndex=xr.featureIndex;break}for(var Br=Re;Br<$e;Br++){var ln=I.get(Br);Rt.iconBox={x1:ln.x1,y1:ln.y1,x2:ln.x2,y2:ln.y2,anchorPointX:ln.anchorPointX,anchorPointY:ln.anchorPointY},Rt.iconFeatureIndex=ln.featureIndex;break}for(var nn=dt;nn<St;nn++){var Cn=I.get(nn);Rt.verticalIconBox={x1:Cn.x1,y1:Cn.y1,x2:Cn.x2,y2:Cn.y2,anchorPointX:Cn.anchorPointX,anchorPointY:Cn.anchorPointY},Rt.verticalIconFeatureIndex=Cn.featureIndex;break}return Rt},Ai.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var ie=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,ie.textBoxStartIndex,ie.textBoxEndIndex,ie.verticalTextBoxStartIndex,ie.verticalTextBoxEndIndex,ie.iconBoxStartIndex,ie.iconBoxEndIndex,ie.verticalIconBoxStartIndex,ie.verticalIconBoxEndIndex))}},Ai.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ai.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ai.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ai.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ai.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ai.prototype.addIndicesForPlacedSymbol=function(I,W){for(var ie=I.placedSymbolArray.get(W),pe=ie.vertexStartIndex+ie.numGlyphs*4,Se=ie.vertexStartIndex;Se<pe;Se+=4)I.indexArray.emplaceBack(Se,Se+1,Se+2),I.indexArray.emplaceBack(Se+1,Se+2,Se+3)},Ai.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var W=Math.sin(I),ie=Math.cos(I),pe=[],Se=[],Re=[],$e=0;$e<this.symbolInstances.length;++$e){Re.push($e);var dt=this.symbolInstances.get($e);pe.push(Math.round(W*dt.anchorX+ie*dt.anchorY)|0),Se.push(dt.featureIndex)}return Re.sort(function(St,Rt){return pe[St]-pe[Rt]||Se[Rt]-Se[St]}),Re},Ai.prototype.addToSortKeyRanges=function(I,W){var ie=this.sortKeyRanges[this.sortKeyRanges.length-1];ie&&ie.sortKey===W?ie.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:I,symbolInstanceEnd:I+1})},Ai.prototype.sortFeatures=function(I){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ie=0,pe=this.symbolInstanceIndexes;ie<pe.length;ie+=1){var Se=pe[ie],Re=this.symbolInstances.get(Se);this.featureSortOrder.push(Re.featureIndex),[Re.rightJustifiedTextSymbolIndex,Re.centerJustifiedTextSymbolIndex,Re.leftJustifiedTextSymbolIndex].forEach(function($e,dt,St){$e>=0&&St.indexOf($e)===dt&&W.addIndicesForPlacedSymbol(W.text,$e)}),Re.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Re.verticalPlacedTextSymbolIndex),Re.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Re.placedIconSymbolIndex),Re.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Re.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ne("SymbolBucket",Ai,{omit:["layers","collisionBoxArray","features","compareText"]}),Ai.MAX_GLYPHS=65535,Ai.addDynamicAttributes=y1;function AE(D,I){return I.replace(/{([^{}]+)}/g,function(W,ie){return ie in D?String(D[ie]):""})}var SE=new pi({"symbol-placement":new ua(Mr.layout_symbol["symbol-placement"]),"symbol-spacing":new ua(Mr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ua(Mr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ra(Mr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ua(Mr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ua(Mr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ua(Mr.layout_symbol["icon-ignore-placement"]),"icon-optional":new ua(Mr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ua(Mr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ra(Mr.layout_symbol["icon-size"]),"icon-text-fit":new ua(Mr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ua(Mr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ra(Mr.layout_symbol["icon-image"]),"icon-rotate":new Ra(Mr.layout_symbol["icon-rotate"]),"icon-padding":new ua(Mr.layout_symbol["icon-padding"]),"icon-keep-upright":new ua(Mr.layout_symbol["icon-keep-upright"]),"icon-offset":new Ra(Mr.layout_symbol["icon-offset"]),"icon-anchor":new Ra(Mr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ua(Mr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ua(Mr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ua(Mr.layout_symbol["text-rotation-alignment"]),"text-field":new Ra(Mr.layout_symbol["text-field"]),"text-font":new Ra(Mr.layout_symbol["text-font"]),"text-size":new Ra(Mr.layout_symbol["text-size"]),"text-max-width":new Ra(Mr.layout_symbol["text-max-width"]),"text-line-height":new ua(Mr.layout_symbol["text-line-height"]),"text-letter-spacing":new Ra(Mr.layout_symbol["text-letter-spacing"]),"text-justify":new Ra(Mr.layout_symbol["text-justify"]),"text-radial-offset":new Ra(Mr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ua(Mr.layout_symbol["text-variable-anchor"]),"text-anchor":new Ra(Mr.layout_symbol["text-anchor"]),"text-max-angle":new ua(Mr.layout_symbol["text-max-angle"]),"text-writing-mode":new ua(Mr.layout_symbol["text-writing-mode"]),"text-rotate":new Ra(Mr.layout_symbol["text-rotate"]),"text-padding":new ua(Mr.layout_symbol["text-padding"]),"text-keep-upright":new ua(Mr.layout_symbol["text-keep-upright"]),"text-transform":new Ra(Mr.layout_symbol["text-transform"]),"text-offset":new Ra(Mr.layout_symbol["text-offset"]),"text-allow-overlap":new ua(Mr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ua(Mr.layout_symbol["text-ignore-placement"]),"text-optional":new ua(Mr.layout_symbol["text-optional"])}),ME=new pi({"icon-opacity":new Ra(Mr.paint_symbol["icon-opacity"]),"icon-color":new Ra(Mr.paint_symbol["icon-color"]),"icon-halo-color":new Ra(Mr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ra(Mr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ra(Mr.paint_symbol["icon-halo-blur"]),"icon-translate":new ua(Mr.paint_symbol["icon-translate"]),"icon-translate-anchor":new ua(Mr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ra(Mr.paint_symbol["text-opacity"]),"text-color":new Ra(Mr.paint_symbol["text-color"],{runtimeType:Mn,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new Ra(Mr.paint_symbol["text-halo-color"]),"text-halo-width":new Ra(Mr.paint_symbol["text-halo-width"]),"text-halo-blur":new Ra(Mr.paint_symbol["text-halo-blur"]),"text-translate":new ua(Mr.paint_symbol["text-translate"]),"text-translate-anchor":new ua(Mr.paint_symbol["text-translate-anchor"])}),m1={paint:ME,layout:SE},fd=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:Gr,this.defaultValue=I};fd.prototype.evaluate=function(I){if(I.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(I.formattedSection))return W.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},fd.prototype.eachChild=function(I){if(!this.defaultValue.isConstant()){var W=this.defaultValue.value;I(W._styleExpression.expression)}},fd.prototype.outputDefined=function(){return!1},fd.prototype.serialize=function(){return null},Ne("FormatSectionOverride",fd,{omit:["defaultValue"]});var EE=function(D){function I(W){D.call(this,W,m1)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ie,pe){if(D.prototype.recalculate.call(this,ie,pe),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Se=this.layout.get("text-writing-mode");if(Se){for(var Re=[],$e=0,dt=Se;$e<dt.length;$e+=1){var St=dt[$e];Re.indexOf(St)<0&&Re.push(St)}this.layout._values["text-writing-mode"]=Re}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(ie,pe,Se,Re){var $e=this.layout.get(ie).evaluate(pe,{},Se,Re),dt=this._unevaluatedLayout._values[ie];return!dt.isDataDriven()&&!Ju(dt.value)&&$e?AE(pe.properties,$e):$e},I.prototype.createBucket=function(ie){return new Ai(ie)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var ie=0,pe=m1.paint.overridableProperties;ie<pe.length;ie+=1){var Se=pe[ie];if(I.hasPaintOverride(this.layout,Se)){var Re=this.paint.get(Se),$e=new fd(Re),dt=new pl($e,Re.property.specification),St=null;Re.value.kind==="constant"||Re.value.kind==="source"?St=new to("source",dt):St=new zs("composite",dt,Re.value.zoomStops,Re.value._interpolationType),this.paint._values[Se]=new Ci(Re.property,St,Re.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Se){return!this.layout||pe.isDataDriven()||Se.isDataDriven()?!1:I.hasPaintOverride(this.layout,ie)},I.hasPaintOverride=function(ie,pe){var Se=ie.get("text-field"),Re=m1.paint.properties[pe],$e=!1,dt=function(jt){for(var ir=0,tr=jt;ir<tr.length;ir+=1){var xr=tr[ir];if(Re.overrides&&Re.overrides.hasOverride(xr)){$e=!0;return}}};if(Se.value.kind==="constant"&&Se.value.value instanceof so)dt(Se.value.value.sections);else if(Se.value.kind==="source"){var St=function(jt){if(!$e)if(jt instanceof Zi&&Wi(jt.value)===ma){var ir=jt.value;dt(ir.sections)}else jt instanceof yo?dt(jt.sections):jt.eachChild(St)},Rt=Se.value;Rt._styleExpression&&St(Rt._styleExpression.expression)}return $e},I}(Ji),CE=new pi({"background-color":new ua(Mr.paint_background["background-color"]),"background-pattern":new ns(Mr.paint_background["background-pattern"]),"background-opacity":new ua(Mr.paint_background["background-opacity"])}),LE={paint:CE},PE=function(D){function I(W){D.call(this,W,LE)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Ji),RE=new pi({"raster-opacity":new ua(Mr.paint_raster["raster-opacity"]),"raster-hue-rotate":new ua(Mr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ua(Mr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ua(Mr.paint_raster["raster-brightness-max"]),"raster-saturation":new ua(Mr.paint_raster["raster-saturation"]),"raster-contrast":new ua(Mr.paint_raster["raster-contrast"]),"raster-resampling":new ua(Mr.paint_raster["raster-resampling"]),"raster-fade-duration":new ua(Mr.paint_raster["raster-fade-duration"])}),DE={paint:RE},IE=function(D){function I(W){D.call(this,W,DE)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Ji);function kE(D){var I=[],W=D.id;return W===void 0&&I.push({message:"layers."+W+': missing required property "id"'}),D.render===void 0&&I.push({message:"layers."+W+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&I.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),I}var _E=function(D){function I(W){D.call(this,W,{}),this.implementation=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(ie){this.implementation.onAdd&&this.implementation.onAdd(ie,ie.painter.context.gl)},I.prototype.onRemove=function(ie){this.implementation.onRemove&&this.implementation.onRemove(ie,ie.painter.context.gl)},I}(Ji),OE={circle:aM,heatmap:lM,hillshade:cM,fill:FM,"fill-extrusion":a8,line:b8,symbol:EE,background:PE,raster:IE};function zE(D){return D.type==="custom"?new _E(D):new OE[D.type](D)}var Qw=i.HTMLImageElement,qw=i.HTMLCanvasElement,e2=i.HTMLVideoElement,t2=i.ImageData,hg=i.ImageBitmap,wv=function(I,W,ie,pe){this.context=I,this.format=ie,this.texture=I.gl.createTexture(),this.update(W,pe)};wv.prototype.update=function(I,W,ie){var pe=I.width,Se=I.height,Re=(!this.size||this.size[0]!==pe||this.size[1]!==Se)&&!ie,$e=this,dt=$e.context,St=dt.gl;if(this.useMipmap=!!(W&&W.useMipmap),St.bindTexture(St.TEXTURE_2D,this.texture),dt.pixelStoreUnpackFlipY.set(!1),dt.pixelStoreUnpack.set(1),dt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!W||W.premultiply!==!1)),Re)this.size=[pe,Se],I instanceof Qw||I instanceof qw||I instanceof e2||I instanceof t2||hg&&I instanceof hg?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,I):St.texImage2D(St.TEXTURE_2D,0,this.format,pe,Se,0,this.format,St.UNSIGNED_BYTE,I.data);else{var Rt=ie||{x:0,y:0},jt=Rt.x,ir=Rt.y;I instanceof Qw||I instanceof qw||I instanceof e2||I instanceof t2||hg&&I instanceof hg?St.texSubImage2D(St.TEXTURE_2D,0,jt,ir,St.RGBA,St.UNSIGNED_BYTE,I):St.texSubImage2D(St.TEXTURE_2D,0,jt,ir,pe,Se,St.RGBA,St.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&St.generateMipmap(St.TEXTURE_2D)},wv.prototype.bind=function(I,W,ie){var pe=this,Se=pe.context,Re=Se.gl;Re.bindTexture(Re.TEXTURE_2D,this.texture),ie===Re.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ie=Re.LINEAR),I!==this.filter&&(Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_MAG_FILTER,I),Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_MIN_FILTER,ie||I),this.filter=I),W!==this.wrap&&(Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_WRAP_S,W),Re.texParameteri(Re.TEXTURE_2D,Re.TEXTURE_WRAP_T,W),this.wrap=W)},wv.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},wv.prototype.destroy=function(){var I=this.context,W=I.gl;W.deleteTexture(this.texture),this.texture=null};var x1=function(I){var W=this;this._callback=I,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};x1.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},x1.prototype.remove=function(){delete this._channel,this._callback=function(){}};var cd=function(I,W,ie){this.target=I,this.parent=W,this.mapId=ie,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new x1(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=q()?I:i};cd.prototype.send=function(I,W,ie,pe,Se){var Re=this;Se===void 0&&(Se=!1);var $e=Math.round(Math.random()*1e18).toString(36).substring(0,10);ie&&(this.callbacks[$e]=ie);var dt=ce(this.globalScope)?void 0:[];return this.target.postMessage({id:$e,type:I,hasCallback:!!ie,targetMapId:pe,mustQueue:Se,sourceMapId:this.mapId,data:Pt(W,dt)},dt),{cancel:function(){ie&&delete Re.callbacks[$e],Re.target.postMessage({id:$e,type:"<cancel>",targetMapId:pe,sourceMapId:Re.mapId})}}},cd.prototype.receive=function(I){var W=I.data,ie=W.id;if(ie&&!(W.targetMapId&&this.mapId!==W.targetMapId))if(W.type==="<cancel>"){delete this.tasks[ie];var pe=this.cancelCallbacks[ie];delete this.cancelCallbacks[ie],pe&&pe()}else q()||W.mustQueue?(this.tasks[ie]=W,this.taskQueue.push(ie),this.invoker.trigger()):this.processTask(ie,W)},cd.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),W=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(I,W)}},cd.prototype.processTask=function(I,W){var ie=this;if(W.type==="<response>"){var pe=this.callbacks[I];delete this.callbacks[I],pe&&(W.error?pe(At(W.error)):pe(null,At(W.data)))}else{var Se=!1,Re=ce(this.globalScope)?void 0:[],$e=W.hasCallback?function(ir,tr){Se=!0,delete ie.cancelCallbacks[I],ie.target.postMessage({id:I,type:"<response>",sourceMapId:ie.mapId,error:ir?Pt(ir):null,data:Pt(tr,Re)},Re)}:function(ir){Se=!0},dt=null,St=At(W.data);if(this.parent[W.type])dt=this.parent[W.type](W.sourceMapId,St,$e);else if(this.parent.getWorkerSource){var Rt=W.type.split("."),jt=this.parent.getWorkerSource(W.sourceMapId,Rt[0],St.source);dt=jt[Rt[1]](St,$e)}else $e(new Error("Could not find function "+W.type));!Se&&dt&&dt.cancel&&(this.cancelCallbacks[I]=dt.cancel)}},cd.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function FE(D,I,W){I=Math.pow(2,W)-I-1;var ie=r2(D*256,I*256,W),pe=r2((D+1)*256,(I+1)*256,W);return ie[0]+","+ie[1]+","+pe[0]+","+pe[1]}function r2(D,I,W){var ie=2*Math.PI*6378137/256/Math.pow(2,W),pe=D*ie-2*Math.PI*6378137/2,Se=I*ie-2*Math.PI*6378137/2;return[pe,Se]}var To=function(I,W){I&&(W?this.setSouthWest(I).setNorthEast(W):I.length===4?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};To.prototype.setNorthEast=function(I){return this._ne=I instanceof Ni?new Ni(I.lng,I.lat):Ni.convert(I),this},To.prototype.setSouthWest=function(I){return this._sw=I instanceof Ni?new Ni(I.lng,I.lat):Ni.convert(I),this},To.prototype.extend=function(I){var W=this._sw,ie=this._ne,pe,Se;if(I instanceof Ni)pe=I,Se=I;else if(I instanceof To){if(pe=I._sw,Se=I._ne,!pe||!Se)return this}else{if(Array.isArray(I))if(I.length===4||I.every(Array.isArray)){var Re=I;return this.extend(To.convert(Re))}else{var $e=I;return this.extend(Ni.convert($e))}return this}return!W&&!ie?(this._sw=new Ni(pe.lng,pe.lat),this._ne=new Ni(Se.lng,Se.lat)):(W.lng=Math.min(pe.lng,W.lng),W.lat=Math.min(pe.lat,W.lat),ie.lng=Math.max(Se.lng,ie.lng),ie.lat=Math.max(Se.lat,ie.lat)),this},To.prototype.getCenter=function(){return new Ni((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},To.prototype.getSouthWest=function(){return this._sw},To.prototype.getNorthEast=function(){return this._ne},To.prototype.getNorthWest=function(){return new Ni(this.getWest(),this.getNorth())},To.prototype.getSouthEast=function(){return new Ni(this.getEast(),this.getSouth())},To.prototype.getWest=function(){return this._sw.lng},To.prototype.getSouth=function(){return this._sw.lat},To.prototype.getEast=function(){return this._ne.lng},To.prototype.getNorth=function(){return this._ne.lat},To.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},To.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},To.prototype.isEmpty=function(){return!(this._sw&&this._ne)},To.prototype.contains=function(I){var W=Ni.convert(I),ie=W.lng,pe=W.lat,Se=this._sw.lat<=pe&&pe<=this._ne.lat,Re=this._sw.lng<=ie&&ie<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Re=this._sw.lng>=ie&&ie>=this._ne.lng),Se&&Re},To.convert=function(I){return!I||I instanceof To?I:new To(I)};var n2=63710088e-1,Ni=function(I,W){if(isNaN(I)||isNaN(W))throw new Error("Invalid LngLat object: ("+I+", "+W+")");if(this.lng=+I,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ni.prototype.wrap=function(){return new Ni(A(this.lng,-180,180),this.lat)},Ni.prototype.toArray=function(){return[this.lng,this.lat]},Ni.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ni.prototype.distanceTo=function(I){var W=Math.PI/180,ie=this.lat*W,pe=I.lat*W,Se=Math.sin(ie)*Math.sin(pe)+Math.cos(ie)*Math.cos(pe)*Math.cos((I.lng-this.lng)*W),Re=n2*Math.acos(Math.min(Se,1));return Re},Ni.prototype.toBounds=function(I){I===void 0&&(I=0);var W=40075017,ie=360*I/W,pe=ie/Math.cos(Math.PI/180*this.lat);return new To(new Ni(this.lng-pe,this.lat-ie),new Ni(this.lng+pe,this.lat+ie))},Ni.convert=function(I){if(I instanceof Ni)return I;if(Array.isArray(I)&&(I.length===2||I.length===3))return new Ni(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&typeof I=="object"&&I!==null)return new Ni(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var a2=2*Math.PI*n2;function i2(D){return a2*Math.cos(D*Math.PI/180)}function o2(D){return(180+D)/360}function s2(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function l2(D,I){return D/i2(I)}function NE(D){return D*360-180}function b1(D){var I=180-D*360;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}function BE(D,I){return D*i2(b1(I))}function UE(D){return 1/Math.cos(D*Math.PI/180)}var Tv=function(I,W,ie){ie===void 0&&(ie=0),this.x=+I,this.y=+W,this.z=+ie};Tv.fromLngLat=function(I,W){W===void 0&&(W=0);var ie=Ni.convert(I);return new Tv(o2(ie.lng),s2(ie.lat),l2(W,ie.lat))},Tv.prototype.toLngLat=function(){return new Ni(NE(this.x),b1(this.y))},Tv.prototype.toAltitude=function(){return BE(this.z,this.y)},Tv.prototype.meterInMercatorCoordinateUnits=function(){return 1/a2*UE(b1(this.y))};var Av=function(I,W,ie){this.z=I,this.x=W,this.y=ie,this.key=Lp(0,I,I,W,ie)};Av.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},Av.prototype.url=function(I,W){var ie=FE(this.x,this.y,this.z),pe=VE(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(W==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pe).replace("{bbox-epsg-3857}",ie)},Av.prototype.getTilePoint=function(I){var W=Math.pow(2,this.z);return new r((I.x*W-this.x)*Ca,(I.y*W-this.y)*Ca)},Av.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var u2=function(I,W){this.wrap=I,this.canonical=W,this.key=Lp(I,W.z,W.z,W.x,W.y)},Ao=function(I,W,ie,pe,Se){this.overscaledZ=I,this.wrap=W,this.canonical=new Av(ie,+pe,+Se),this.key=Lp(W,I,ie,pe,Se)};Ao.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},Ao.prototype.scaledTo=function(I){var W=this.canonical.z-I;return I>this.canonical.z?new Ao(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ao(I,this.wrap,I,this.canonical.x>>W,this.canonical.y>>W)},Ao.prototype.calculateScaledKey=function(I,W){var ie=this.canonical.z-I;return I>this.canonical.z?Lp(this.wrap*+W,I,this.canonical.z,this.canonical.x,this.canonical.y):Lp(this.wrap*+W,I,I,this.canonical.x>>ie,this.canonical.y>>ie)},Ao.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var W=this.canonical.z-I.canonical.z;return I.overscaledZ===0||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>W&&I.canonical.y===this.canonical.y>>W},Ao.prototype.children=function(I){if(this.overscaledZ>=I)return[new Ao(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,ie=this.canonical.x*2,pe=this.canonical.y*2;return[new Ao(W,this.wrap,W,ie,pe),new Ao(W,this.wrap,W,ie+1,pe),new Ao(W,this.wrap,W,ie,pe+1),new Ao(W,this.wrap,W,ie+1,pe+1)]},Ao.prototype.isLessThan=function(I){return this.wrap<I.wrap?!0:this.wrap>I.wrap?!1:this.overscaledZ<I.overscaledZ?!0:this.overscaledZ>I.overscaledZ?!1:this.canonical.x<I.canonical.x?!0:this.canonical.x>I.canonical.x?!1:this.canonical.y<I.canonical.y},Ao.prototype.wrapped=function(){return new Ao(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ao.prototype.unwrapTo=function(I){return new Ao(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},Ao.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ao.prototype.toUnwrapped=function(){return new u2(this.wrap,this.canonical)},Ao.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ao.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new Tv(I.x-this.wrap,I.y))};function Lp(D,I,W,ie,pe){D*=2,D<0&&(D=D*-1-1);var Se=1<<W;return(Se*Se*D+Se*pe+ie).toString(36)+W.toString(36)+I.toString(36)}function VE(D,I,W){for(var ie="",pe,Se=D;Se>0;Se--)pe=1<<Se-1,ie+=(I&pe?1:0)+(W&pe?2:0);return ie}Ne("CanonicalTileID",Av),Ne("OverscaledTileID",Ao,{omit:["posMatrix"]});var Tc=function(I,W,ie){if(this.uid=I,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(ie&&ie!=="mapbox"&&ie!=="terrarium")return B('"'+ie+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var pe=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=ie||"mapbox";for(var Se=0;Se<pe;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(pe,Se)]=this.data[this._idx(pe-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,pe)]=this.data[this._idx(Se,pe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(pe,-1)]=this.data[this._idx(pe-1,0)],this.data[this._idx(-1,pe)]=this.data[this._idx(0,pe-1)],this.data[this._idx(pe,pe)]=this.data[this._idx(pe-1,pe-1)]};Tc.prototype.get=function(I,W){var ie=new Uint8Array(this.data.buffer),pe=this._idx(I,W)*4,Se=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Se(ie[pe],ie[pe+1],ie[pe+2])},Tc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Tc.prototype._idx=function(I,W){if(I<-1||I>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(I+1)},Tc.prototype._unpackMapbox=function(I,W,ie){return(I*256*256+W*256+ie)/10-1e4},Tc.prototype._unpackTerrarium=function(I,W,ie){return I*256+W+ie/256-32768},Tc.prototype.getPixels=function(){return new Hs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Tc.prototype.backfillBorder=function(I,W,ie){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var pe=W*this.dim,Se=W*this.dim+this.dim,Re=ie*this.dim,$e=ie*this.dim+this.dim;switch(W){case-1:pe=Se-1;break;case 1:Se=pe+1;break}switch(ie){case-1:Re=$e-1;break;case 1:$e=Re+1;break}for(var dt=-W*this.dim,St=-ie*this.dim,Rt=Re;Rt<$e;Rt++)for(var jt=pe;jt<Se;jt++)this.data[this._idx(jt,Rt)]=I.data[this._idx(jt+dt,Rt+St)]},Ne("DEMData",Tc);function HE(D,I){var W={};if(!I)return W;for(var ie=function(){var Re=Se[pe],$e=Re.layerIds.map(function(jt){return I.getLayer(jt)}).filter(Boolean);if($e.length!==0){Re.layers=$e,Re.stateDependentLayerIds&&(Re.stateDependentLayers=Re.stateDependentLayerIds.map(function(jt){return $e.filter(function(ir){return ir.id===jt})[0]}));for(var dt=0,St=$e;dt<St.length;dt+=1){var Rt=St[dt];W[Rt.id]=Re}}},pe=0,Se=D;pe<Se.length;pe+=1)ie();return W}var vg=function(I){this._stringToNumber={},this._numberToString=[];for(var W=0;W<I.length;W++){var ie=I[W];this._stringToNumber[ie]=W,this._numberToString[W]=ie}};vg.prototype.encode=function(I){return this._stringToNumber[I]},vg.prototype.decode=function(I){return this._numberToString[I]};var dg=function(I,W,ie,pe,Se){this.type="Feature",this._vectorTileFeature=I,I._z=W,I._x=ie,I._y=pe,this.properties=I.properties,this.id=Se},w1={geometry:{configurable:!0}};w1.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},w1.geometry.set=function(D){this._geometry=D},dg.prototype.toJSON=function(){var I={geometry:this.geometry};for(var W in this)W==="_geometry"||W==="_vectorTileFeature"||(I[W]=this[W]);return I},Object.defineProperties(dg.prototype,w1);var hd=function(){this.state={},this.stateChanges={},this.deletedStates={}};hd.prototype.updateState=function(I,W,ie){var pe=String(W);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][pe]=this.stateChanges[I][pe]||{},b(this.stateChanges[I][pe],ie),this.deletedStates[I]===null){this.deletedStates[I]={};for(var Se in this.state[I])Se!==pe&&(this.deletedStates[I][Se]=null)}else{var Re=this.deletedStates[I]&&this.deletedStates[I][pe]===null;if(Re){this.deletedStates[I][pe]={};for(var $e in this.state[I][pe])ie[$e]||(this.deletedStates[I][pe][$e]=null)}else for(var dt in ie){var St=this.deletedStates[I]&&this.deletedStates[I][pe]&&this.deletedStates[I][pe][dt]===null;St&&delete this.deletedStates[I][pe][dt]}}},hd.prototype.removeFeatureState=function(I,W,ie){var pe=this.deletedStates[I]===null;if(!pe){var Se=String(W);if(this.deletedStates[I]=this.deletedStates[I]||{},ie&&W!==void 0)this.deletedStates[I][Se]!==null&&(this.deletedStates[I][Se]=this.deletedStates[I][Se]||{},this.deletedStates[I][Se][ie]=null);else if(W!==void 0){var Re=this.stateChanges[I]&&this.stateChanges[I][Se];if(Re){this.deletedStates[I][Se]={};for(ie in this.stateChanges[I][Se])this.deletedStates[I][Se][ie]=null}else this.deletedStates[I][Se]=null}else this.deletedStates[I]=null}},hd.prototype.getState=function(I,W){var ie=String(W),pe=this.state[I]||{},Se=this.stateChanges[I]||{},Re=b({},pe[ie],Se[ie]);if(this.deletedStates[I]===null)return{};if(this.deletedStates[I]){var $e=this.deletedStates[I][W];if($e===null)return{};for(var dt in $e)delete Re[dt]}return Re},hd.prototype.initializeTileState=function(I,W){I.setFeatureState(this.state,W)},hd.prototype.coalesceChanges=function(I,W){var ie={};for(var pe in this.stateChanges){this.state[pe]=this.state[pe]||{};var Se={};for(var Re in this.stateChanges[pe])this.state[pe][Re]||(this.state[pe][Re]={}),b(this.state[pe][Re],this.stateChanges[pe][Re]),Se[Re]=this.state[pe][Re];ie[pe]=Se}for(var $e in this.deletedStates){this.state[$e]=this.state[$e]||{};var dt={};if(this.deletedStates[$e]===null)for(var St in this.state[$e])dt[St]={},this.state[$e][St]={};else for(var Rt in this.deletedStates[$e]){var jt=this.deletedStates[$e][Rt]===null;if(jt)this.state[$e][Rt]={};else for(var ir=0,tr=Object.keys(this.deletedStates[$e][Rt]);ir<tr.length;ir+=1){var xr=tr[ir];delete this.state[$e][Rt][xr]}dt[Rt]=this.state[$e][Rt]}ie[$e]=ie[$e]||{},b(ie[$e],dt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ie).length!==0)for(var Br in I){var ln=I[Br];ln.setFeatureState(ie,W)}};var Ac=function(I,W){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new Ba(Ca,16,0),this.grid3D=new Ba(Ca,16,0),this.featureIndexArray=new K0,this.promoteId=W};Ac.prototype.insert=function(I,W,ie,pe,Se,Re){var $e=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ie,pe,Se);for(var dt=Re?this.grid3D:this.grid,St=0;St<W.length;St++){for(var Rt=W[St],jt=[1/0,1/0,-1/0,-1/0],ir=0;ir<Rt.length;ir++){var tr=Rt[ir];jt[0]=Math.min(jt[0],tr.x),jt[1]=Math.min(jt[1],tr.y),jt[2]=Math.max(jt[2],tr.x),jt[3]=Math.max(jt[3],tr.y)}jt[0]<Ca&&jt[1]<Ca&&jt[2]>=0&&jt[3]>=0&&dt.insert($e,jt[0],jt[1],jt[2],jt[3])}},Ac.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ed.VectorTile(new ng(this.rawTileData)).layers,this.sourceLayerCoder=new vg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ac.prototype.query=function(I,W,ie,pe){var Se=this;this.loadVTLayers();for(var Re=I.params||{},$e=Ca/I.tileSize/I.scale,dt=xl(Re.filter),St=I.queryGeometry,Rt=I.queryPadding*$e,jt=c2(St),ir=this.grid.query(jt.minX-Rt,jt.minY-Rt,jt.maxX+Rt,jt.maxY+Rt),tr=c2(I.cameraQueryGeometry),xr=this.grid3D.query(tr.minX-Rt,tr.minY-Rt,tr.maxX+Rt,tr.maxY+Rt,function(Yn,ia,ta,Sa){return wu(I.cameraQueryGeometry,Yn-Rt,ia-Rt,ta+Rt,Sa+Rt)}),Br=0,ln=xr;Br<ln.length;Br+=1){var nn=ln[Br];ir.push(nn)}ir.sort(GE);for(var Cn={},yn,En=function(Yn){var ia=ir[Yn];if(ia!==yn){yn=ia;var ta=Se.featureIndexArray.get(ia),Sa=null;Se.loadMatchingFeature(Cn,ta.bucketIndex,ta.sourceLayerIndex,ta.featureIndex,dt,Re.layers,Re.availableImages,W,ie,pe,function(ya,Aa,Ga){return Sa||(Sa=ii(ya)),Aa.queryIntersectsFeature(St,ya,Ga,Sa,Se.z,I.transform,$e,I.pixelPosMatrix)})}},_n=0;_n<ir.length;_n++)En(_n);return Cn},Ac.prototype.loadMatchingFeature=function(I,W,ie,pe,Se,Re,$e,dt,St,Rt,jt){var ir=this.bucketLayerIDs[W];if(!(Re&&!z(Re,ir))){var tr=this.sourceLayerCoder.decode(ie),xr=this.vtLayers[tr],Br=xr.feature(pe);if(Se.needGeometry){var ln=Pi(Br,!0);if(!Se.filter(new Ea(this.tileID.overscaledZ),ln,this.tileID.canonical))return}else if(!Se.filter(new Ea(this.tileID.overscaledZ),Br))return;for(var nn=this.getId(Br,tr),Cn=0;Cn<ir.length;Cn++){var yn=ir[Cn];if(!(Re&&Re.indexOf(yn)<0)){var En=dt[yn];if(En){var _n={};nn!==void 0&&Rt&&(_n=Rt.getState(En.sourceLayer||"_geojsonTileLayer",nn));var Yn=b({},St[yn]);Yn.paint=f2(Yn.paint,En.paint,Br,_n,$e),Yn.layout=f2(Yn.layout,En.layout,Br,_n,$e);var ia=!jt||jt(Br,En,_n);if(ia){var ta=new dg(Br,this.z,this.x,this.y,nn);ta.layer=Yn;var Sa=I[yn];Sa===void 0&&(Sa=I[yn]=[]),Sa.push({featureIndex:pe,feature:ta,intersectionZ:ia})}}}}}},Ac.prototype.lookupSymbolFeatures=function(I,W,ie,pe,Se,Re,$e,dt){var St={};this.loadVTLayers();for(var Rt=xl(Se),jt=0,ir=I;jt<ir.length;jt+=1){var tr=ir[jt];this.loadMatchingFeature(St,ie,pe,tr,Rt,Re,$e,dt,W)}return St},Ac.prototype.hasLayer=function(I){for(var W=0,ie=this.bucketLayerIDs;W<ie.length;W+=1)for(var pe=ie[W],Se=0,Re=pe;Se<Re.length;Se+=1){var $e=Re[Se];if(I===$e)return!0}return!1},Ac.prototype.getId=function(I,W){var ie=I.id;if(this.promoteId){var pe=typeof this.promoteId=="string"?this.promoteId:this.promoteId[W];ie=I.properties[pe],typeof ie=="boolean"&&(ie=Number(ie))}return ie},Ne("FeatureIndex",Ac,{omit:["rawTileData","sourceLayerCoder"]});function f2(D,I,W,ie,pe){return O(D,function(Se,Re){var $e=I instanceof Po?I.get(Re):null;return $e&&$e.evaluate?$e.evaluate(W,ie,pe):$e})}function c2(D){for(var I=1/0,W=1/0,ie=-1/0,pe=-1/0,Se=0,Re=D;Se<Re.length;Se+=1){var $e=Re[Se];I=Math.min(I,$e.x),W=Math.min(W,$e.y),ie=Math.max(ie,$e.x),pe=Math.max(pe,$e.y)}return{minX:I,minY:W,maxX:ie,maxY:pe}}function GE(D,I){return I-D}var WE=3e4,No=function(I,W){this.tileID=I,this.uid=x(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};No.prototype.registerFadeDuration=function(I){var W=I+this.timeAdded;W<le.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},No.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},No.prototype.loadVectorData=function(I,W,ie){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!I){this.collisionBoxArray=new hp;return}I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=HE(I.buckets,W.style),this.hasSymbolBuckets=!1;for(var pe in this.buckets){var Se=this.buckets[pe];if(Se instanceof Ai)if(this.hasSymbolBuckets=!0,ie)Se.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Re in this.buckets){var $e=this.buckets[Re];if($e instanceof Ai&&$e.hasRTLText){this.hasRTLText=!0,Wa();break}}this.queryPadding=0;for(var dt in this.buckets){var St=this.buckets[dt];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(dt).queryRadius(St))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)},No.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},No.prototype.getBucket=function(I){return this.buckets[I.id]},No.prototype.upload=function(I){for(var W in this.buckets){var ie=this.buckets[W];ie.uploadPending()&&ie.upload(I)}var pe=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new wv(I,this.imageAtlas.image,pe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new wv(I,this.glyphAtlasImage,pe.ALPHA),this.glyphAtlasImage=null)},No.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},No.prototype.queryRenderedFeatures=function(I,W,ie,pe,Se,Re,$e,dt,St,Rt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:pe,cameraQueryGeometry:Se,scale:Re,tileSize:this.tileSize,pixelPosMatrix:Rt,transform:dt,params:$e,queryPadding:this.queryPadding*St},I,W,ie)},No.prototype.querySourceFeatures=function(I,W){var ie=this.latestFeatureIndex;if(!(!ie||!ie.rawTileData)){var pe=ie.loadVTLayers(),Se=W?W.sourceLayer:"",Re=pe._geojsonTileLayer||pe[Se];if(Re)for(var $e=xl(W&&W.filter),dt=this.tileID.canonical,St=dt.z,Rt=dt.x,jt=dt.y,ir={z:St,x:Rt,y:jt},tr=0;tr<Re.length;tr++){var xr=Re.feature(tr);if($e.needGeometry){var Br=Pi(xr,!0);if(!$e.filter(new Ea(this.tileID.overscaledZ),Br,this.tileID.canonical))continue}else if(!$e.filter(new Ea(this.tileID.overscaledZ),xr))continue;var ln=ie.getId(xr,Se),nn=new dg(xr,St,Rt,jt,ln);nn.tile=ir,I.push(nn)}}},No.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},No.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},No.prototype.setExpiryData=function(I){var W=this.expirationTime;if(I.cacheControl){var ie=te(I.cacheControl);ie["max-age"]&&(this.expirationTime=Date.now()+ie["max-age"]*1e3)}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var pe=Date.now(),Se=!1;if(this.expirationTime>pe)Se=!1;else if(!W)Se=!0;else if(this.expirationTime<W)Se=!0;else{var Re=this.expirationTime-W;Re?this.expirationTime=pe+Math.max(Re,WE):Se=!0}Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},No.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},No.prototype.setFeatureState=function(I,W){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(I).length===0)){var ie=this.latestFeatureIndex.loadVTLayers();for(var pe in this.buckets)if(W.style.hasLayer(pe)){var Se=this.buckets[pe],Re=Se.layers[0].sourceLayer||"_geojsonTileLayer",$e=ie[Re],dt=I[Re];if(!(!$e||!dt||Object.keys(dt).length===0)){Se.update(dt,$e,this.imageAtlas&&this.imageAtlas.patternPositions||{});var St=W&&W.style&&W.style.getLayer(pe);St&&(this.queryPadding=Math.max(this.queryPadding,St.queryRadius(Se)))}}}},No.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},No.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<le.now()},No.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},No.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=le.now()+I},No.prototype.setDependencies=function(I,W){for(var ie={},pe=0,Se=W;pe<Se.length;pe+=1){var Re=Se[pe];ie[Re]=!0}this.dependencies[I]=ie},No.prototype.hasDependency=function(I,W){for(var ie=0,pe=I;ie<pe.length;ie+=1){var Se=pe[ie],Re=this.dependencies[Se];if(Re)for(var $e=0,dt=W;$e<dt.length;$e+=1){var St=dt[$e];if(Re[St])return!0}}return!1};var jE=["type","source","source-layer","minzoom","maxzoom","filter","layout"],wh=i.performance,h2=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},wh.mark(this._marks.start)};h2.prototype.finish=function(){wh.mark(this._marks.end);var I=wh.getEntriesByName(this._marks.measure);return I.length===0&&(wh.measure(this._marks.measure,this._marks.start,this._marks.end),I=wh.getEntriesByName(this._marks.measure),wh.clearMarks(this._marks.start),wh.clearMarks(this._marks.end),wh.clearMeasures(this._marks.measure)),I},a.Actor=cd,a.AlphaImage=bv,a.CanonicalTileID=Av,a.CollisionBoxArray=hp,a.Color=ai,a.DEMData=Tc,a.DataConstantProperty=ua,a.DictionaryCoder=vg,a.EXTENT=Ca,a.ErrorEvent=zt,a.EvaluationParameters=Ea,a.Event=rr,a.Evented=vr,a.FeatureIndex=Ac,a.FillBucket=lf,a.FillExtrusionBucket=uf,a.ImageAtlas=Sp,a.ImagePosition=ig,a.LineBucket=Ms,a.LngLat=Ni,a.LngLatBounds=To,a.MercatorCoordinate=Tv,a.ONE_EM=Ko,a.OverscaledTileID=Ao,a.Point=r,a.Point$1=r,a.Properties=pi,a.Protobuf=ng,a.RGBAImage=Hs,a.RequestManager=Ue,a.RequestPerformance=h2,a.ResourceType=yr,a.SegmentVector=bo,a.SourceFeatureState=hd,a.StructArrayLayout1ui2=vh,a.StructArrayLayout2f1f2i16=af,a.StructArrayLayout2i4=yc,a.StructArrayLayout3ui6=of,a.StructArrayLayout4i8=lp,a.SymbolBucket=Ai,a.Texture=wv,a.Tile=No,a.Transitionable=ui,a.Uniform1f=Xr,a.Uniform1i=_r,a.Uniform2f=Yr,a.Uniform3f=Wr,a.Uniform4f=qr,a.UniformColor=fn,a.UniformMatrix4f=Nn,a.UnwrappedTileID=u2,a.ValidationError=Nr,a.WritingMode=Tl,a.ZoomHistory=Vt,a.add=$v,a.addDynamicAttributes=y1,a.asyncAll=h,a.bezier=l,a.bindAll=E,a.browser=le,a.cacheEntryPossiblyAdded=Lt,a.clamp=c,a.clearTileCache=Tr,a.clipLine=Yw,a.clone=Zv,a.clone$1=U,a.clone$2=$m,a.collisionCircleLayout=M8,a.config=ae,a.create=Xv,a.create$1=ss,a.create$2=Yv,a.createCommonjsModule=C,a.createExpression=yl,a.createLayout=zi,a.createStyleLayer=zE,a.cross=KS,a.deepEqual=n,a.dot=ZS,a.dot$1=eM,a.ease=m,a.emitValidationErrors=_a,a.endsWith=w,a.enforceCacheSizeLimit=Xt,a.evaluateSizeForFeature=Bw,a.evaluateSizeForZoom=Uw,a.evaluateVariableOffset=Kw,a.evented=La,a.extend=b,a.featureFilter=xl,a.filterObject=_,a.fromRotation=gh,a.getAnchorAlignment=v1,a.getAnchorJustification=g1,a.getArrayBuffer=Bt,a.getImage=kt,a.getJSON=Ht,a.getRTLTextPluginStatus=Fa,a.getReferrer=yt,a.getVideo=$t,a.identity=Kv,a.invert=yh,a.isChar=Gt,a.isMapboxURL=Ve,a.keysDifference=p,a.makeRequest=Dt,a.mapObject=O,a.mercatorXfromLng=o2,a.mercatorYfromLat=s2,a.mercatorZfromAltitude=l2,a.mul=Jm,a.multiply=mh,a.mvt=ed,a.nextPowerOfTwo=M,a.normalize=pp,a.number=Fi,a.offscreenCanvasSupported=Qt,a.ortho=Km,a.parseGlyphPBF=Q8,a.pbf=ng,a.performSymbolLayout=gE,a.perspective=dp,a.pick=T,a.plugin=Qn,a.polygonIntersectsPolygon=Ya,a.postMapLoadEvent=We,a.postTurnstileEvent=Ye,a.potpack=Dw,a.refProperties=jE,a.register=Ne,a.registerForPluginStateChange=li,a.renderColorRamp=uw,a.rotate=mv,a.rotateX=Vs,a.rotateZ=Jv,a.scale=Us,a.scale$1=qS,a.scale$2=qm,a.setCacheLimits=gt,a.setRTLTextPlugin=Ki,a.sphericalToCartesian=X,a.sqrLen=nM,a.styleSpec=Mr,a.sub=$S,a.symbolSize=sE,a.transformMat3=JS,a.transformMat4=$0,a.translate=no,a.triggerPluginCompletionEvent=ha,a.uniqueId=x,a.validateCustomStyleLayer=kE,a.validateLight=Kn,a.validateStyle=In,a.values=o,a.vectorTile=ed,a.version=S,a.warnOnce=B,a.webpSupported=he,a.window=i,a.wrap=A}),R(["./shared"],function(a){function C(yt){var ot=typeof yt;if(ot==="number"||ot==="boolean"||ot==="string"||yt===void 0||yt===null)return JSON.stringify(yt);if(Array.isArray(yt)){for(var bt="[",Et=0,Dt=yt;Et<Dt.length;Et+=1){var Ht=Dt[Et];bt+=C(Ht)+","}return bt+"]"}for(var Bt=Object.keys(yt).sort(),Nt="{",Jt=0;Jt<Bt.length;Jt++)Nt+=JSON.stringify(Bt[Jt])+":"+C(yt[Bt[Jt]])+",";return Nt+"}"}function S(yt){for(var ot="",bt=0,Et=a.refProperties;bt<Et.length;bt+=1){var Dt=Et[bt];ot+="/"+C(yt[Dt])}return ot}function v(yt,ot){for(var bt={},Et=0;Et<yt.length;Et++){var Dt=ot&&ot[yt[Et].id]||S(yt[Et]);ot&&(ot[yt[Et].id]=Dt);var Ht=bt[Dt];Ht||(Ht=bt[Dt]=[]),Ht.push(yt[Et])}var Bt=[];for(var Nt in bt)Bt.push(bt[Nt]);return Bt}var d=function(ot){this.keyCache={},ot&&this.replace(ot)};d.prototype.replace=function(ot){this._layerConfigs={},this._layers={},this.update(ot,[])},d.prototype.update=function(ot,bt){for(var Et=this,Dt=0,Ht=ot;Dt<Ht.length;Dt+=1){var Bt=Ht[Dt];this._layerConfigs[Bt.id]=Bt;var Nt=this._layers[Bt.id]=a.createStyleLayer(Bt);Nt._featureFilter=a.featureFilter(Nt.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var Jt=0,hr=bt;Jt<hr.length;Jt+=1){var Zt=hr[Jt];delete this.keyCache[Zt],delete this._layerConfigs[Zt],delete this._layers[Zt]}this.familiesBySource={};for(var dr=v(a.values(this._layerConfigs),this.keyCache),je=0,Ge=dr;je<Ge.length;je+=1){var Ot=Ge[je],kt=Ot.map(function(vr){return Et._layers[vr.id]}),$t=kt[0];if($t.visibility!=="none"){var ar=$t.source||"",or=this.familiesBySource[ar];or||(or=this.familiesBySource[ar]={});var rr=$t.sourceLayer||"_geojsonTileLayer",zt=or[rr];zt||(zt=or[rr]=[]),zt.push(kt)}}};var r=1,t=function(ot){var bt={},Et=[];for(var Dt in ot){var Ht=ot[Dt],Bt=bt[Dt]={};for(var Nt in Ht){var Jt=Ht[+Nt];if(!(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)){var hr={x:0,y:0,w:Jt.bitmap.width+2*r,h:Jt.bitmap.height+2*r};Et.push(hr),Bt[Nt]={rect:hr,metrics:Jt.metrics}}}}var Zt=a.potpack(Et),dr=Zt.w,je=Zt.h,Ge=new a.AlphaImage({width:dr||1,height:je||1});for(var Ot in ot){var kt=ot[Ot];for(var $t in kt){var ar=kt[+$t];if(!(!ar||ar.bitmap.width===0||ar.bitmap.height===0)){var or=bt[Ot][$t].rect;a.AlphaImage.copy(ar.bitmap,Ge,{x:0,y:0},{x:or.x+r,y:or.y+r},ar.bitmap)}}}this.image=Ge,this.positions=bt};a.register("GlyphAtlas",t);var i=function(ot){this.tileID=new a.OverscaledTileID(ot.tileID.overscaledZ,ot.tileID.wrap,ot.tileID.canonical.z,ot.tileID.canonical.x,ot.tileID.canonical.y),this.uid=ot.uid,this.zoom=ot.zoom,this.pixelRatio=ot.pixelRatio,this.tileSize=ot.tileSize,this.source=ot.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ot.showCollisionBoxes,this.collectResourceTiming=!!ot.collectResourceTiming,this.returnDependencies=!!ot.returnDependencies,this.promoteId=ot.promoteId};i.prototype.parse=function(ot,bt,Et,Dt,Ht){var Bt=this;this.status="parsing",this.data=ot,this.collisionBoxArray=new a.CollisionBoxArray;var Nt=new a.DictionaryCoder(Object.keys(ot.layers).sort()),Jt=new a.FeatureIndex(this.tileID,this.promoteId);Jt.bucketLayerIDs=[];var hr={},Zt={featureIndex:Jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Et},dr=bt.familiesBySource[this.source];for(var je in dr){var Ge=ot.layers[je];if(Ge){Ge.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+je+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=Nt.encode(je),kt=[],$t=0;$t<Ge.length;$t++){var ar=Ge.feature($t),or=Jt.getId(ar,je);kt.push({feature:ar,id:or,index:$t,sourceLayerIndex:Ot})}for(var rr=0,zt=dr[je];rr<zt.length;rr+=1){var vr=zt[rr],gr=vr[0];if(!(gr.minzoom&&this.zoom<Math.floor(gr.minzoom))&&!(gr.maxzoom&&this.zoom>=gr.maxzoom)&&gr.visibility!=="none"){n(vr,this.zoom,Et);var Ar=hr[gr.id]=gr.createBucket({index:Jt.bucketLayerIDs.length,layers:vr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source});Ar.populate(kt,Zt,this.tileID.canonical),Jt.bucketLayerIDs.push(vr.map(function(br){return br.id}))}}}}var cr,Hr,Rr,Ir,cn=a.mapObject(Zt.glyphDependencies,function(br){return Object.keys(br).map(Number)});Object.keys(cn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:cn},function(br,Or){cr||(cr=br,Hr=Or,Sn.call(Bt))}):Hr={};var Zr=Object.keys(Zt.iconDependencies);Zr.length?Dt.send("getImages",{icons:Zr,source:this.source,tileID:this.tileID,type:"icons"},function(br,Or){cr||(cr=br,Rr=Or,Sn.call(Bt))}):Rr={};var An=Object.keys(Zt.patternDependencies);An.length?Dt.send("getImages",{icons:An,source:this.source,tileID:this.tileID,type:"patterns"},function(br,Or){cr||(cr=br,Ir=Or,Sn.call(Bt))}):Ir={},Sn.call(this);function Sn(){if(cr)return Ht(cr);if(Hr&&Rr&&Ir){var br=new t(Hr),Or=new a.ImageAtlas(Rr,Ir);for(var jr in hr){var zr=hr[jr];zr instanceof a.SymbolBucket?(n(zr.layers,this.zoom,Et),a.performSymbolLayout(zr,Hr,br.positions,Rr,Or.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):zr.hasPattern&&(zr instanceof a.LineBucket||zr instanceof a.FillBucket||zr instanceof a.FillExtrusionBucket)&&(n(zr.layers,this.zoom,Et),zr.addFeatures(Zt,this.tileID.canonical,Or.patternPositions))}this.status="done",Ht(null,{buckets:a.values(hr).filter(function(pn){return!pn.isEmpty()}),featureIndex:Jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:br.image,imageAtlas:Or,glyphMap:this.returnDependencies?Hr:null,iconMap:this.returnDependencies?Rr:null,glyphPositions:this.returnDependencies?br.positions:null})}}};function n(yt,ot,bt){for(var Et=new a.EvaluationParameters(ot),Dt=0,Ht=yt;Dt<Ht.length;Dt+=1){var Bt=Ht[Dt];Bt.recalculate(Et,bt)}}function f(yt,ot){var bt=a.getArrayBuffer(yt.request,function(Et,Dt,Ht,Bt){Et?ot(Et):Dt&&ot(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Dt)),rawData:Dt,cacheControl:Ht,expires:Bt})});return function(){bt.cancel(),ot()}}var u=function(ot,bt,Et,Dt){this.actor=ot,this.layerIndex=bt,this.availableImages=Et,this.loadVectorData=Dt||f,this.loading={},this.loaded={}};u.prototype.loadTile=function(ot,bt){var Et=this,Dt=ot.uid;this.loading||(this.loading={});var Ht=ot&&ot.request&&ot.request.collectResourceTiming?new a.RequestPerformance(ot.request):!1,Bt=this.loading[Dt]=new i(ot);Bt.abort=this.loadVectorData(ot,function(Nt,Jt){if(delete Et.loading[Dt],Nt||!Jt)return Bt.status="done",Et.loaded[Dt]=Bt,bt(Nt);var hr=Jt.rawData,Zt={};Jt.expires&&(Zt.expires=Jt.expires),Jt.cacheControl&&(Zt.cacheControl=Jt.cacheControl);var dr={};if(Ht){var je=Ht.finish();je&&(dr.resourceTiming=JSON.parse(JSON.stringify(je)))}Bt.vectorTile=Jt.vectorTile,Bt.parse(Jt.vectorTile,Et.layerIndex,Et.availableImages,Et.actor,function(Ge,Ot){if(Ge||!Ot)return bt(Ge);bt(null,a.extend({rawTileData:hr.slice(0)},Ot,Zt,dr))}),Et.loaded=Et.loaded||{},Et.loaded[Dt]=Bt})},u.prototype.reloadTile=function(ot,bt){var Et=this,Dt=this.loaded,Ht=ot.uid,Bt=this;if(Dt&&Dt[Ht]){var Nt=Dt[Ht];Nt.showCollisionBoxes=ot.showCollisionBoxes;var Jt=function(hr,Zt){var dr=Nt.reloadCallback;dr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Bt.layerIndex,Et.availableImages,Bt.actor,dr)),bt(hr,Zt)};Nt.status==="parsing"?Nt.reloadCallback=Jt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Jt):Jt())}},u.prototype.abortTile=function(ot,bt){var Et=this.loading,Dt=ot.uid;Et&&Et[Dt]&&Et[Dt].abort&&(Et[Dt].abort(),delete Et[Dt]),bt()},u.prototype.removeTile=function(ot,bt){var Et=this.loaded,Dt=ot.uid;Et&&Et[Dt]&&delete Et[Dt],bt()};var l=a.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(ot,bt){var Et=ot.uid,Dt=ot.encoding,Ht=ot.rawImageData,Bt=l&&Ht instanceof l?this.getImageData(Ht):Ht,Nt=new a.DEMData(Et,Bt,Dt);this.loaded=this.loaded||{},this.loaded[Et]=Nt,bt(null,Nt)},m.prototype.getImageData=function(ot){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ot.width,ot.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ot.width,this.offscreenCanvas.height=ot.height,this.offscreenCanvasContext.drawImage(ot,0,0,ot.width,ot.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,ot.width+2,ot.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:bt.width,height:bt.height},bt.data)},m.prototype.removeTile=function(ot){var bt=this.loaded,Et=ot.uid;bt&&bt[Et]&&delete bt[Et]};var c=A;function A(yt,ot){var bt=yt&&yt.type,Et;if(bt==="FeatureCollection")for(Et=0;Et<yt.features.length;Et++)A(yt.features[Et],ot);else if(bt==="GeometryCollection")for(Et=0;Et<yt.geometries.length;Et++)A(yt.geometries[Et],ot);else if(bt==="Feature")A(yt.geometry,ot);else if(bt==="Polygon")h(yt.coordinates,ot);else if(bt==="MultiPolygon")for(Et=0;Et<yt.coordinates.length;Et++)h(yt.coordinates[Et],ot);return yt}function h(yt,ot){if(yt.length!==0){o(yt[0],ot);for(var bt=1;bt<yt.length;bt++)o(yt[bt],!ot)}}function o(yt,ot){for(var bt=0,Et=0,Dt=yt.length,Ht=Dt-1;Et<Dt;Ht=Et++)bt+=(yt[Et][0]-yt[Ht][0])*(yt[Ht][1]+yt[Et][1]);bt>=0!=!!ot&&yt.reverse()}var p=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,b=function(ot){this._feature=ot,this.extent=a.EXTENT,this.type=ot.type,this.properties=ot.tags,"id"in ot&&!isNaN(ot.id)&&(this.id=parseInt(ot.id,10))};b.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ot=[],bt=0,Et=this._feature.geometry;bt<Et.length;bt+=1){var Dt=Et[bt];ot.push([new a.Point$1(Dt[0],Dt[1])])}return ot}else{for(var Ht=[],Bt=0,Nt=this._feature.geometry;Bt<Nt.length;Bt+=1){for(var Jt=Nt[Bt],hr=[],Zt=0,dr=Jt;Zt<dr.length;Zt+=1){var je=dr[Zt];hr.push(new a.Point$1(je[0],je[1]))}Ht.push(hr)}return Ht}},b.prototype.toGeoJSON=function(ot,bt,Et){return p.call(this,ot,bt,Et)};var T=function(ot){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=ot.length,this._features=ot};T.prototype.feature=function(ot){return new b(this._features[ot])};var P=a.vectorTile.VectorTileFeature,x=L;function L(yt,ot){this.options=ot||{},this.features=yt,this.length=yt.length}L.prototype.feature=function(yt){return new M(this.features[yt],this.options.extent)};function M(yt,ot){this.id=typeof yt.id=="number"?yt.id:void 0,this.type=yt.type,this.rawGeometry=yt.type===1?[yt.geometry]:yt.geometry,this.properties=yt.tags,this.extent=ot||4096}M.prototype.loadGeometry=function(){var yt=this.rawGeometry;this.geometry=[];for(var ot=0;ot<yt.length;ot++){for(var bt=yt[ot],Et=[],Dt=0;Dt<bt.length;Dt++)Et.push(new a.Point$1(bt[Dt][0],bt[Dt][1]));this.geometry.push(Et)}return this.geometry},M.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var yt=this.geometry,ot=1/0,bt=-1/0,Et=1/0,Dt=-1/0,Ht=0;Ht<yt.length;Ht++)for(var Bt=yt[Ht],Nt=0;Nt<Bt.length;Nt++){var Jt=Bt[Nt];ot=Math.min(ot,Jt.x),bt=Math.max(bt,Jt.x),Et=Math.min(Et,Jt.y),Dt=Math.max(Dt,Jt.y)}return[ot,Et,bt,Dt]},M.prototype.toGeoJSON=P.prototype.toGeoJSON;var s=_,E=_,w=U,O=x;function _(yt){var ot=new a.pbf;return z(yt,ot),ot.finish()}function U(yt,ot){ot=ot||{};var bt={};for(var Et in yt)bt[Et]=new x(yt[Et].features,ot),bt[Et].name=Et,bt[Et].version=ot.version,bt[Et].extent=ot.extent;return _({layers:bt})}function z(yt,ot){for(var bt in yt.layers)ot.writeMessage(3,F,yt.layers[bt])}function F(yt,ot){ot.writeVarintField(15,yt.version||1),ot.writeStringField(1,yt.name||""),ot.writeVarintField(5,yt.extent||4096);var bt,Et={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<yt.length;bt++)Et.feature=yt.feature(bt),ot.writeMessage(2,B,Et);var Dt=Et.keys;for(bt=0;bt<Dt.length;bt++)ot.writeStringField(3,Dt[bt]);var Ht=Et.values;for(bt=0;bt<Ht.length;bt++)ot.writeMessage(4,te,Ht[bt])}function B(yt,ot){var bt=yt.feature;bt.id!==void 0&&ot.writeVarintField(1,bt.id),ot.writeMessage(2,N,yt),ot.writeVarintField(3,bt.type),ot.writeMessage(4,q,bt)}function N(yt,ot){var bt=yt.feature,Et=yt.keys,Dt=yt.values,Ht=yt.keycache,Bt=yt.valuecache;for(var Nt in bt.properties){var Jt=Ht[Nt];typeof Jt>"u"&&(Et.push(Nt),Jt=Et.length-1,Ht[Nt]=Jt),ot.writeVarint(Jt);var hr=bt.properties[Nt],Zt=typeof hr;Zt!=="string"&&Zt!=="boolean"&&Zt!=="number"&&(hr=JSON.stringify(hr));var dr=Zt+":"+hr,je=Bt[dr];typeof je>"u"&&(Dt.push(hr),je=Dt.length-1,Bt[dr]=je),ot.writeVarint(je)}}function V(yt,ot){return(ot<<3)+(yt&7)}function X(yt){return yt<<1^yt>>31}function q(yt,ot){for(var bt=yt.loadGeometry(),Et=yt.type,Dt=0,Ht=0,Bt=bt.length,Nt=0;Nt<Bt;Nt++){var Jt=bt[Nt],hr=1;Et===1&&(hr=Jt.length),ot.writeVarint(V(1,hr));for(var Zt=Et===3?Jt.length-1:Jt.length,dr=0;dr<Zt;dr++){dr===1&&Et!==1&&ot.writeVarint(V(2,Zt-1));var je=Jt[dr].x-Dt,Ge=Jt[dr].y-Ht;ot.writeVarint(X(je)),ot.writeVarint(X(Ge)),Dt+=je,Ht+=Ge}Et===3&&ot.writeVarint(V(7,1))}}function te(yt,ot){var bt=typeof yt;bt==="string"?ot.writeStringField(1,yt):bt==="boolean"?ot.writeBooleanField(7,yt):bt==="number"&&(yt%1!==0?ot.writeDoubleField(3,yt):yt<0?ot.writeSVarintField(6,yt):ot.writeVarintField(5,yt))}s.fromVectorTileJs=E,s.fromGeojsonVt=w,s.GeoJSONWrapper=O;function ne(yt,ot,bt,Et,Dt,Ht){if(!(Dt-Et<=bt)){var Bt=Et+Dt>>1;ce(yt,ot,Bt,Et,Dt,Ht%2),ne(yt,ot,bt,Et,Bt-1,Ht+1),ne(yt,ot,bt,Bt+1,Dt,Ht+1)}}function ce(yt,ot,bt,Et,Dt,Ht){for(;Dt>Et;){if(Dt-Et>600){var Bt=Dt-Et+1,Nt=bt-Et+1,Jt=Math.log(Bt),hr=.5*Math.exp(2*Jt/3),Zt=.5*Math.sqrt(Jt*hr*(Bt-hr)/Bt)*(Nt-Bt/2<0?-1:1),dr=Math.max(Et,Math.floor(bt-Nt*hr/Bt+Zt)),je=Math.min(Dt,Math.floor(bt+(Bt-Nt)*hr/Bt+Zt));ce(yt,ot,bt,dr,je,Ht)}var Ge=ot[2*bt+Ht],Ot=Et,kt=Dt;for(Q(yt,ot,Et,bt),ot[2*Dt+Ht]>Ge&&Q(yt,ot,Et,Dt);Ot<kt;){for(Q(yt,ot,Ot,kt),Ot++,kt--;ot[2*Ot+Ht]<Ge;)Ot++;for(;ot[2*kt+Ht]>Ge;)kt--}ot[2*Et+Ht]===Ge?Q(yt,ot,Et,kt):(kt++,Q(yt,ot,kt,Dt)),kt<=bt&&(Et=kt+1),bt<=kt&&(Dt=kt-1)}}function Q(yt,ot,bt,Et){Z(yt,bt,Et),Z(ot,2*bt,2*Et),Z(ot,2*bt+1,2*Et+1)}function Z(yt,ot,bt){var Et=yt[ot];yt[ot]=yt[bt],yt[bt]=Et}function re(yt,ot,bt,Et,Dt,Ht,Bt){for(var Nt=[0,yt.length-1,0],Jt=[],hr,Zt;Nt.length;){var dr=Nt.pop(),je=Nt.pop(),Ge=Nt.pop();if(je-Ge<=Bt){for(var Ot=Ge;Ot<=je;Ot++)hr=ot[2*Ot],Zt=ot[2*Ot+1],hr>=bt&&hr<=Dt&&Zt>=Et&&Zt<=Ht&&Jt.push(yt[Ot]);continue}var kt=Math.floor((Ge+je)/2);hr=ot[2*kt],Zt=ot[2*kt+1],hr>=bt&&hr<=Dt&&Zt>=Et&&Zt<=Ht&&Jt.push(yt[kt]);var $t=(dr+1)%2;(dr===0?bt<=hr:Et<=Zt)&&(Nt.push(Ge),Nt.push(kt-1),Nt.push($t)),(dr===0?Dt>=hr:Ht>=Zt)&&(Nt.push(kt+1),Nt.push(je),Nt.push($t))}return Jt}function Y(yt,ot,bt,Et,Dt,Ht){for(var Bt=[0,yt.length-1,0],Nt=[],Jt=Dt*Dt;Bt.length;){var hr=Bt.pop(),Zt=Bt.pop(),dr=Bt.pop();if(Zt-dr<=Ht){for(var je=dr;je<=Zt;je++)oe(ot[2*je],ot[2*je+1],bt,Et)<=Jt&&Nt.push(yt[je]);continue}var Ge=Math.floor((dr+Zt)/2),Ot=ot[2*Ge],kt=ot[2*Ge+1];oe(Ot,kt,bt,Et)<=Jt&&Nt.push(yt[Ge]);var $t=(hr+1)%2;(hr===0?bt-Dt<=Ot:Et-Dt<=kt)&&(Bt.push(dr),Bt.push(Ge-1),Bt.push($t)),(hr===0?bt+Dt>=Ot:Et+Dt>=kt)&&(Bt.push(Ge+1),Bt.push(Zt),Bt.push($t))}return Nt}function oe(yt,ot,bt,Et){var Dt=yt-bt,Ht=ot-Et;return Dt*Dt+Ht*Ht}var ue=function(yt){return yt[0]},K=function(yt){return yt[1]},$=function(ot,bt,Et,Dt,Ht){bt===void 0&&(bt=ue),Et===void 0&&(Et=K),Dt===void 0&&(Dt=64),Ht===void 0&&(Ht=Float64Array),this.nodeSize=Dt,this.points=ot;for(var Bt=ot.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Bt(ot.length),Jt=this.coords=new Ht(ot.length*2),hr=0;hr<ot.length;hr++)Nt[hr]=hr,Jt[2*hr]=bt(ot[hr]),Jt[2*hr+1]=Et(ot[hr]);ne(Nt,Jt,Dt,0,Nt.length-1,0)};$.prototype.range=function(ot,bt,Et,Dt){return re(this.ids,this.coords,ot,bt,Et,Dt,this.nodeSize)},$.prototype.within=function(ot,bt,Et){return Y(this.ids,this.coords,ot,bt,Et,this.nodeSize)};var le={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(yt){return yt}},ae=function(ot){this.options=Le(Object.create(le),ot),this.trees=new Array(this.options.maxZoom+1)};ae.prototype.load=function(ot){var bt=this.options,Et=bt.log,Dt=bt.minZoom,Ht=bt.maxZoom,Bt=bt.nodeSize;Et&&console.time("total time");var Nt="prepare "+ot.length+" points";Et&&console.time(Nt),this.points=ot;for(var Jt=[],hr=0;hr<ot.length;hr++)ot[hr].geometry&&Jt.push(xe(ot[hr],hr));this.trees[Ht+1]=new $(Jt,Ue,Ve,Bt,Float32Array),Et&&console.timeEnd(Nt);for(var Zt=Ht;Zt>=Dt;Zt--){var dr=+Date.now();Jt=this._cluster(Jt,Zt),this.trees[Zt]=new $(Jt,Ue,Ve,Bt,Float32Array),Et&&console.log("z%d: %d clusters in %dms",Zt,Jt.length,+Date.now()-dr)}return Et&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(ot,bt){var Et=((ot[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,ot[1])),Ht=ot[2]===180?180:((ot[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,ot[3]));if(ot[2]-ot[0]>=360)Et=-180,Ht=180;else if(Et>Ht){var Nt=this.getClusters([Et,Dt,180,Bt],bt),Jt=this.getClusters([-180,Dt,Ht,Bt],bt);return Nt.concat(Jt)}for(var hr=this.trees[this._limitZoom(bt)],Zt=hr.range(ke(Et),we(Bt),ke(Ht),we(Dt)),dr=[],je=0,Ge=Zt;je<Ge.length;je+=1){var Ot=Ge[je],kt=hr.points[Ot];dr.push(kt.numPoints?Me(kt):this.points[kt.index])}return dr},ae.prototype.getChildren=function(ot){var bt=this._getOriginId(ot),Et=this._getOriginZoom(ot),Dt="No cluster with the specified id.",Ht=this.trees[Et];if(!Ht)throw new Error(Dt);var Bt=Ht.points[bt];if(!Bt)throw new Error(Dt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,Et-1)),Jt=Ht.within(Bt.x,Bt.y,Nt),hr=[],Zt=0,dr=Jt;Zt<dr.length;Zt+=1){var je=dr[Zt],Ge=Ht.points[je];Ge.parentId===ot&&hr.push(Ge.numPoints?Me(Ge):this.points[Ge.index])}if(hr.length===0)throw new Error(Dt);return hr},ae.prototype.getLeaves=function(ot,bt,Et){bt=bt||10,Et=Et||0;var Dt=[];return this._appendLeaves(Dt,ot,bt,Et,0),Dt},ae.prototype.getTile=function(ot,bt,Et){var Dt=this.trees[this._limitZoom(ot)],Ht=Math.pow(2,ot),Bt=this.options,Nt=Bt.extent,Jt=Bt.radius,hr=Jt/Nt,Zt=(Et-hr)/Ht,dr=(Et+1+hr)/Ht,je={features:[]};return this._addTileFeatures(Dt.range((bt-hr)/Ht,Zt,(bt+1+hr)/Ht,dr),Dt.points,bt,Et,Ht,je),bt===0&&this._addTileFeatures(Dt.range(1-hr/Ht,Zt,1,dr),Dt.points,Ht,Et,Ht,je),bt===Ht-1&&this._addTileFeatures(Dt.range(0,Zt,hr/Ht,dr),Dt.points,-1,Et,Ht,je),je.features.length?je:null},ae.prototype.getClusterExpansionZoom=function(ot){for(var bt=this._getOriginZoom(ot)-1;bt<=this.options.maxZoom;){var Et=this.getChildren(ot);if(bt++,Et.length!==1)break;ot=Et[0].properties.cluster_id}return bt},ae.prototype._appendLeaves=function(ot,bt,Et,Dt,Ht){for(var Bt=this.getChildren(bt),Nt=0,Jt=Bt;Nt<Jt.length;Nt+=1){var hr=Jt[Nt],Zt=hr.properties;if(Zt&&Zt.cluster?Ht+Zt.point_count<=Dt?Ht+=Zt.point_count:Ht=this._appendLeaves(ot,Zt.cluster_id,Et,Dt,Ht):Ht<Dt?Ht++:ot.push(hr),ot.length===Et)break}return Ht},ae.prototype._addTileFeatures=function(ot,bt,Et,Dt,Ht,Bt){for(var Nt=0,Jt=ot;Nt<Jt.length;Nt+=1){var hr=Jt[Nt],Zt=bt[hr],dr=Zt.numPoints,je={type:1,geometry:[[Math.round(this.options.extent*(Zt.x*Ht-Et)),Math.round(this.options.extent*(Zt.y*Ht-Dt))]],tags:dr?Ae(Zt):this.points[Zt.index].properties},Ge=void 0;dr?Ge=Zt.id:this.options.generateId?Ge=Zt.index:this.points[Zt.index].id&&(Ge=this.points[Zt.index].id),Ge!==void 0&&(je.id=Ge),Bt.features.push(je)}},ae.prototype._limitZoom=function(ot){return Math.max(this.options.minZoom,Math.min(+ot,this.options.maxZoom+1))},ae.prototype._cluster=function(ot,bt){for(var Et=[],Dt=this.options,Ht=Dt.radius,Bt=Dt.extent,Nt=Dt.reduce,Jt=Dt.minPoints,hr=Ht/(Bt*Math.pow(2,bt)),Zt=0;Zt<ot.length;Zt++){var dr=ot[Zt];if(!(dr.zoom<=bt)){dr.zoom=bt;for(var je=this.trees[bt+1],Ge=je.within(dr.x,dr.y,hr),Ot=dr.numPoints||1,kt=Ot,$t=0,ar=Ge;$t<ar.length;$t+=1){var or=ar[$t],rr=je.points[or];rr.zoom>bt&&(kt+=rr.numPoints||1)}if(kt>=Jt){for(var zt=dr.x*Ot,vr=dr.y*Ot,gr=Nt&&Ot>1?this._map(dr,!0):null,Ar=(Zt<<5)+(bt+1)+this.points.length,cr=0,Hr=Ge;cr<Hr.length;cr+=1){var Rr=Hr[cr],Ir=je.points[Rr];if(!(Ir.zoom<=bt)){Ir.zoom=bt;var cn=Ir.numPoints||1;zt+=Ir.x*cn,vr+=Ir.y*cn,Ir.parentId=Ar,Nt&&(gr||(gr=this._map(dr,!0)),Nt(gr,this._map(Ir)))}}dr.parentId=Ar,Et.push(he(zt/kt,vr/kt,Ar,kt,gr))}else if(Et.push(dr),kt>1)for(var Zr=0,An=Ge;Zr<An.length;Zr+=1){var Sn=An[Zr],br=je.points[Sn];br.zoom<=bt||(br.zoom=bt,Et.push(br))}}}return Et},ae.prototype._getOriginId=function(ot){return ot-this.points.length>>5},ae.prototype._getOriginZoom=function(ot){return(ot-this.points.length)%32},ae.prototype._map=function(ot,bt){if(ot.numPoints)return bt?Le({},ot.properties):ot.properties;var Et=this.points[ot.index].properties,Dt=this.options.map(Et);return bt&&Dt===Et?Le({},Dt):Dt};function he(yt,ot,bt,Et,Dt){return{x:yt,y:ot,zoom:1/0,id:bt,parentId:-1,numPoints:Et,properties:Dt}}function xe(yt,ot){var bt=yt.geometry.coordinates,Et=bt[0],Dt=bt[1];return{x:ke(Et),y:we(Dt),zoom:1/0,index:ot,parentId:-1}}function Me(yt){return{type:"Feature",id:yt.id,properties:Ae(yt),geometry:{type:"Point",coordinates:[Ee(yt.x),be(yt.y)]}}}function Ae(yt){var ot=yt.numPoints,bt=ot>=1e4?Math.round(ot/1e3)+"k":ot>=1e3?Math.round(ot/100)/10+"k":ot;return Le(Le({},yt.properties),{cluster:!0,cluster_id:yt.id,point_count:ot,point_count_abbreviated:bt})}function ke(yt){return yt/360+.5}function we(yt){var ot=Math.sin(yt*Math.PI/180),bt=.5-.25*Math.log((1+ot)/(1-ot))/Math.PI;return bt<0?0:bt>1?1:bt}function Ee(yt){return(yt-.5)*360}function be(yt){var ot=(180-yt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ot))/Math.PI-90}function Le(yt,ot){for(var bt in ot)yt[bt]=ot[bt];return yt}function Ue(yt){return yt.x}function Ve(yt){return yt.y}function Fe(yt,ot,bt,Et){for(var Dt=Et,Ht=bt-ot>>1,Bt=bt-ot,Nt,Jt=yt[ot],hr=yt[ot+1],Zt=yt[bt],dr=yt[bt+1],je=ot+3;je<bt;je+=3){var Ge=He(yt[je],yt[je+1],Jt,hr,Zt,dr);if(Ge>Dt)Nt=je,Dt=Ge;else if(Ge===Dt){var Ot=Math.abs(je-Ht);Ot<Bt&&(Nt=je,Bt=Ot)}}Dt>Et&&(Nt-ot>3&&Fe(yt,ot,Nt,Et),yt[Nt+2]=Dt,bt-Nt>3&&Fe(yt,Nt,bt,Et))}function He(yt,ot,bt,Et,Dt,Ht){var Bt=Dt-bt,Nt=Ht-Et;if(Bt!==0||Nt!==0){var Jt=((yt-bt)*Bt+(ot-Et)*Nt)/(Bt*Bt+Nt*Nt);Jt>1?(bt=Dt,Et=Ht):Jt>0&&(bt+=Bt*Jt,Et+=Nt*Jt)}return Bt=yt-bt,Nt=ot-Et,Bt*Bt+Nt*Nt}function st(yt,ot,bt,Et){var Dt={id:typeof yt>"u"?null:yt,type:ot,geometry:bt,tags:Et,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return vt(Dt),Dt}function vt(yt){var ot=yt.geometry,bt=yt.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")lt(yt,ot);else if(bt==="Polygon"||bt==="MultiLineString")for(var Et=0;Et<ot.length;Et++)lt(yt,ot[Et]);else if(bt==="MultiPolygon")for(Et=0;Et<ot.length;Et++)for(var Dt=0;Dt<ot[Et].length;Dt++)lt(yt,ot[Et][Dt])}function lt(yt,ot){for(var bt=0;bt<ot.length;bt+=3)yt.minX=Math.min(yt.minX,ot[bt]),yt.minY=Math.min(yt.minY,ot[bt+1]),yt.maxX=Math.max(yt.maxX,ot[bt]),yt.maxY=Math.max(yt.maxY,ot[bt+1])}function et(yt,ot){var bt=[];if(yt.type==="FeatureCollection")for(var Et=0;Et<yt.features.length;Et++)ct(bt,yt.features[Et],ot,Et);else yt.type==="Feature"?ct(bt,yt,ot):ct(bt,{geometry:yt},ot);return bt}function ct(yt,ot,bt,Et){if(ot.geometry){var Dt=ot.geometry.coordinates,Ht=ot.geometry.type,Bt=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Nt=[],Jt=ot.id;if(bt.promoteId?Jt=ot.properties[bt.promoteId]:bt.generateId&&(Jt=Et||0),Ht==="Point")ht(Dt,Nt);else if(Ht==="MultiPoint")for(var hr=0;hr<Dt.length;hr++)ht(Dt[hr],Nt);else if(Ht==="LineString")mt(Dt,Nt,Bt,!1);else if(Ht==="MultiLineString")if(bt.lineMetrics){for(hr=0;hr<Dt.length;hr++)Nt=[],mt(Dt[hr],Nt,Bt,!1),yt.push(st(Jt,"LineString",Nt,ot.properties));return}else xt(Dt,Nt,Bt,!1);else if(Ht==="Polygon")xt(Dt,Nt,Bt,!0);else if(Ht==="MultiPolygon")for(hr=0;hr<Dt.length;hr++){var Zt=[];xt(Dt[hr],Zt,Bt,!0),Nt.push(Zt)}else if(Ht==="GeometryCollection"){for(hr=0;hr<ot.geometry.geometries.length;hr++)ct(yt,{id:Jt,geometry:ot.geometry.geometries[hr],properties:ot.properties},bt,Et);return}else throw new Error("Input data is not a valid GeoJSON object.");yt.push(st(Jt,Ht,Nt,ot.properties))}}function ht(yt,ot){ot.push(Mt(yt[0])),ot.push(tt(yt[1])),ot.push(0)}function mt(yt,ot,bt,Et){for(var Dt,Ht,Bt=0,Nt=0;Nt<yt.length;Nt++){var Jt=Mt(yt[Nt][0]),hr=tt(yt[Nt][1]);ot.push(Jt),ot.push(hr),ot.push(0),Nt>0&&(Et?Bt+=(Dt*hr-Jt*Ht)/2:Bt+=Math.sqrt(Math.pow(Jt-Dt,2)+Math.pow(hr-Ht,2))),Dt=Jt,Ht=hr}var Zt=ot.length-3;ot[2]=1,Fe(ot,0,Zt,bt),ot[Zt+2]=1,ot.size=Math.abs(Bt),ot.start=0,ot.end=ot.size}function xt(yt,ot,bt,Et){for(var Dt=0;Dt<yt.length;Dt++){var Ht=[];mt(yt[Dt],Ht,bt,Et),ot.push(Ht)}}function Mt(yt){return yt/360+.5}function tt(yt){var ot=Math.sin(yt*Math.PI/180),bt=.5-.25*Math.log((1+ot)/(1-ot))/Math.PI;return bt<0?0:bt>1?1:bt}function Oe(yt,ot,bt,Et,Dt,Ht,Bt,Nt){if(bt/=ot,Et/=ot,Ht>=bt&&Bt<Et)return yt;if(Bt<bt||Ht>=Et)return null;for(var Jt=[],hr=0;hr<yt.length;hr++){var Zt=yt[hr],dr=Zt.geometry,je=Zt.type,Ge=Dt===0?Zt.minX:Zt.minY,Ot=Dt===0?Zt.maxX:Zt.maxY;if(Ge>=bt&&Ot<Et){Jt.push(Zt);continue}else if(Ot<bt||Ge>=Et)continue;var kt=[];if(je==="Point"||je==="MultiPoint")Ye(dr,kt,bt,Et,Dt);else if(je==="LineString")Ze(dr,kt,bt,Et,Dt,!1,Nt.lineMetrics);else if(je==="MultiLineString")_e(dr,kt,bt,Et,Dt,!1);else if(je==="Polygon")_e(dr,kt,bt,Et,Dt,!0);else if(je==="MultiPolygon")for(var $t=0;$t<dr.length;$t++){var ar=[];_e(dr[$t],ar,bt,Et,Dt,!0),ar.length&&kt.push(ar)}if(kt.length){if(Nt.lineMetrics&&je==="LineString"){for($t=0;$t<kt.length;$t++)Jt.push(st(Zt.id,je,kt[$t],Zt.tags));continue}(je==="LineString"||je==="MultiLineString")&&(kt.length===1?(je="LineString",kt=kt[0]):je="MultiLineString"),(je==="Point"||je==="MultiPoint")&&(je=kt.length===3?"Point":"MultiPoint"),Jt.push(st(Zt.id,je,kt,Zt.tags))}}return Jt.length?Jt:null}function Ye(yt,ot,bt,Et,Dt){for(var Ht=0;Ht<yt.length;Ht+=3){var Bt=yt[Ht+Dt];Bt>=bt&&Bt<=Et&&(ot.push(yt[Ht]),ot.push(yt[Ht+1]),ot.push(yt[Ht+2]))}}function Ze(yt,ot,bt,Et,Dt,Ht,Bt){for(var Nt=We(yt),Jt=Dt===0?Xe:De,hr=yt.start,Zt,dr,je=0;je<yt.length-3;je+=3){var Ge=yt[je],Ot=yt[je+1],kt=yt[je+2],$t=yt[je+3],ar=yt[je+4],or=Dt===0?Ge:Ot,rr=Dt===0?$t:ar,zt=!1;Bt&&(Zt=Math.sqrt(Math.pow(Ge-$t,2)+Math.pow(Ot-ar,2))),or<bt?rr>bt&&(dr=Jt(Nt,Ge,Ot,$t,ar,bt),Bt&&(Nt.start=hr+Zt*dr)):or>Et?rr<Et&&(dr=Jt(Nt,Ge,Ot,$t,ar,Et),Bt&&(Nt.start=hr+Zt*dr)):Ie(Nt,Ge,Ot,kt),rr<bt&&or>=bt&&(dr=Jt(Nt,Ge,Ot,$t,ar,bt),zt=!0),rr>Et&&or<=Et&&(dr=Jt(Nt,Ge,Ot,$t,ar,Et),zt=!0),!Ht&&zt&&(Bt&&(Nt.end=hr+Zt*dr),ot.push(Nt),Nt=We(yt)),Bt&&(hr+=Zt)}var vr=yt.length-3;Ge=yt[vr],Ot=yt[vr+1],kt=yt[vr+2],or=Dt===0?Ge:Ot,or>=bt&&or<=Et&&Ie(Nt,Ge,Ot,kt),vr=Nt.length-3,Ht&&vr>=3&&(Nt[vr]!==Nt[0]||Nt[vr+1]!==Nt[1])&&Ie(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&ot.push(Nt)}function We(yt){var ot=[];return ot.size=yt.size,ot.start=yt.start,ot.end=yt.end,ot}function _e(yt,ot,bt,Et,Dt,Ht){for(var Bt=0;Bt<yt.length;Bt++)Ze(yt[Bt],ot,bt,Et,Dt,Ht,!1)}function Ie(yt,ot,bt,Et){yt.push(ot),yt.push(bt),yt.push(Et)}function Xe(yt,ot,bt,Et,Dt,Ht){var Bt=(Ht-ot)/(Et-ot);return yt.push(Ht),yt.push(bt+(Dt-bt)*Bt),yt.push(1),Bt}function De(yt,ot,bt,Et,Dt,Ht){var Bt=(Ht-bt)/(Dt-bt);return yt.push(ot+(Et-ot)*Bt),yt.push(Ht),yt.push(1),Bt}function de(yt,ot){var bt=ot.buffer/ot.extent,Et=yt,Dt=Oe(yt,1,-1-bt,bt,0,-1,2,ot),Ht=Oe(yt,1,1-bt,2+bt,0,-1,2,ot);return(Dt||Ht)&&(Et=Oe(yt,1,-bt,1+bt,0,-1,2,ot)||[],Dt&&(Et=Te(Dt,1).concat(Et)),Ht&&(Et=Et.concat(Te(Ht,-1)))),Et}function Te(yt,ot){for(var bt=[],Et=0;Et<yt.length;Et++){var Dt=yt[Et],Ht=Dt.type,Bt;if(Ht==="Point"||Ht==="MultiPoint"||Ht==="LineString")Bt=Be(Dt.geometry,ot);else if(Ht==="MultiLineString"||Ht==="Polygon"){Bt=[];for(var Nt=0;Nt<Dt.geometry.length;Nt++)Bt.push(Be(Dt.geometry[Nt],ot))}else if(Ht==="MultiPolygon")for(Bt=[],Nt=0;Nt<Dt.geometry.length;Nt++){for(var Jt=[],hr=0;hr<Dt.geometry[Nt].length;hr++)Jt.push(Be(Dt.geometry[Nt][hr],ot));Bt.push(Jt)}bt.push(st(Dt.id,Ht,Bt,Dt.tags))}return bt}function Be(yt,ot){var bt=[];bt.size=yt.size,yt.start!==void 0&&(bt.start=yt.start,bt.end=yt.end);for(var Et=0;Et<yt.length;Et+=3)bt.push(yt[Et]+ot,yt[Et+1],yt[Et+2]);return bt}function Qe(yt,ot){if(yt.transformed)return yt;var bt=1<<yt.z,Et=yt.x,Dt=yt.y,Ht,Bt,Nt;for(Ht=0;Ht<yt.features.length;Ht++){var Jt=yt.features[Ht],hr=Jt.geometry,Zt=Jt.type;if(Jt.geometry=[],Zt===1)for(Bt=0;Bt<hr.length;Bt+=2)Jt.geometry.push(at(hr[Bt],hr[Bt+1],ot,bt,Et,Dt));else for(Bt=0;Bt<hr.length;Bt++){var dr=[];for(Nt=0;Nt<hr[Bt].length;Nt+=2)dr.push(at(hr[Bt][Nt],hr[Bt][Nt+1],ot,bt,Et,Dt));Jt.geometry.push(dr)}}return yt.transformed=!0,yt}function at(yt,ot,bt,Et,Dt,Ht){return[Math.round(bt*(yt*Et-Dt)),Math.round(bt*(ot*Et-Ht))]}function it(yt,ot,bt,Et,Dt){for(var Ht=ot===Dt.maxZoom?0:Dt.tolerance/((1<<ot)*Dt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Et,z:ot,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<yt.length;Nt++){Bt.numFeatures++,Wt(Bt,yt[Nt],Ht,Dt);var Jt=yt[Nt].minX,hr=yt[Nt].minY,Zt=yt[Nt].maxX,dr=yt[Nt].maxY;Jt<Bt.minX&&(Bt.minX=Jt),hr<Bt.minY&&(Bt.minY=hr),Zt>Bt.maxX&&(Bt.maxX=Zt),dr>Bt.maxY&&(Bt.maxY=dr)}return Bt}function Wt(yt,ot,bt,Et){var Dt=ot.geometry,Ht=ot.type,Bt=[];if(Ht==="Point"||Ht==="MultiPoint")for(var Nt=0;Nt<Dt.length;Nt+=3)Bt.push(Dt[Nt]),Bt.push(Dt[Nt+1]),yt.numPoints++,yt.numSimplified++;else if(Ht==="LineString")Yt(Bt,Dt,yt,bt,!1,!1);else if(Ht==="MultiLineString"||Ht==="Polygon")for(Nt=0;Nt<Dt.length;Nt++)Yt(Bt,Dt[Nt],yt,bt,Ht==="Polygon",Nt===0);else if(Ht==="MultiPolygon")for(var Jt=0;Jt<Dt.length;Jt++){var hr=Dt[Jt];for(Nt=0;Nt<hr.length;Nt++)Yt(Bt,hr[Nt],yt,bt,!0,Nt===0)}if(Bt.length){var Zt=ot.tags||null;if(Ht==="LineString"&&Et.lineMetrics){Zt={};for(var dr in ot.tags)Zt[dr]=ot.tags[dr];Zt.mapbox_clip_start=Dt.start/Dt.size,Zt.mapbox_clip_end=Dt.end/Dt.size}var je={geometry:Bt,type:Ht==="Polygon"||Ht==="MultiPolygon"?3:Ht==="LineString"||Ht==="MultiLineString"?2:1,tags:Zt};ot.id!==null&&(je.id=ot.id),yt.features.push(je)}}function Yt(yt,ot,bt,Et,Dt,Ht){var Bt=Et*Et;if(Et>0&&ot.size<(Dt?Bt:Et)){bt.numPoints+=ot.length/3;return}for(var Nt=[],Jt=0;Jt<ot.length;Jt+=3)(Et===0||ot[Jt+2]>Bt)&&(bt.numSimplified++,Nt.push(ot[Jt]),Nt.push(ot[Jt+1])),bt.numPoints++;Dt&&Tt(Nt,Ht),yt.push(Nt)}function Tt(yt,ot){for(var bt=0,Et=0,Dt=yt.length,Ht=Dt-2;Et<Dt;Ht=Et,Et+=2)bt+=(yt[Et]-yt[Ht])*(yt[Et+1]+yt[Ht+1]);if(bt>0===ot)for(Et=0,Dt=yt.length;Et<Dt/2;Et+=2){var Bt=yt[Et],Nt=yt[Et+1];yt[Et]=yt[Dt-2-Et],yt[Et+1]=yt[Dt-1-Et],yt[Dt-2-Et]=Bt,yt[Dt-1-Et]=Nt}}function Lt(yt,ot){return new Xt(yt,ot)}function Xt(yt,ot){ot=this.options=gt(Object.create(this.options),ot);var bt=ot.debug;if(bt&&console.time("preprocess data"),ot.maxZoom<0||ot.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ot.promoteId&&ot.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et=et(yt,ot);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ot.indexMaxZoom,ot.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Et=de(Et,ot),Et.length&&this.splitTile(Et,0,0,0),bt&&(Et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Xt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Xt.prototype.splitTile=function(yt,ot,bt,Et,Dt,Ht,Bt){for(var Nt=[yt,ot,bt,Et],Jt=this.options,hr=Jt.debug;Nt.length;){Et=Nt.pop(),bt=Nt.pop(),ot=Nt.pop(),yt=Nt.pop();var Zt=1<<ot,dr=Tr(ot,bt,Et),je=this.tiles[dr];if(!je&&(hr>1&&console.time("creation"),je=this.tiles[dr]=it(yt,ot,bt,Et,Jt),this.tileCoords.push({z:ot,x:bt,y:Et}),hr)){hr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ot,bt,Et,je.numFeatures,je.numPoints,je.numSimplified),console.timeEnd("creation"));var Ge="z"+ot;this.stats[Ge]=(this.stats[Ge]||0)+1,this.total++}if(je.source=yt,Dt){if(ot===Jt.maxZoom||ot===Dt)continue;var Ot=1<<Dt-ot;if(bt!==Math.floor(Ht/Ot)||Et!==Math.floor(Bt/Ot))continue}else if(ot===Jt.indexMaxZoom||je.numPoints<=Jt.indexMaxPoints)continue;if(je.source=null,yt.length!==0){hr>1&&console.time("clipping");var kt=.5*Jt.buffer/Jt.extent,$t=.5-kt,ar=.5+kt,or=1+kt,rr,zt,vr,gr,Ar,cr;rr=zt=vr=gr=null,Ar=Oe(yt,Zt,bt-kt,bt+ar,0,je.minX,je.maxX,Jt),cr=Oe(yt,Zt,bt+$t,bt+or,0,je.minX,je.maxX,Jt),yt=null,Ar&&(rr=Oe(Ar,Zt,Et-kt,Et+ar,1,je.minY,je.maxY,Jt),zt=Oe(Ar,Zt,Et+$t,Et+or,1,je.minY,je.maxY,Jt),Ar=null),cr&&(vr=Oe(cr,Zt,Et-kt,Et+ar,1,je.minY,je.maxY,Jt),gr=Oe(cr,Zt,Et+$t,Et+or,1,je.minY,je.maxY,Jt),cr=null),hr>1&&console.timeEnd("clipping"),Nt.push(rr||[],ot+1,bt*2,Et*2),Nt.push(zt||[],ot+1,bt*2,Et*2+1),Nt.push(vr||[],ot+1,bt*2+1,Et*2),Nt.push(gr||[],ot+1,bt*2+1,Et*2+1)}}},Xt.prototype.getTile=function(yt,ot,bt){var Et=this.options,Dt=Et.extent,Ht=Et.debug;if(yt<0||yt>24)return null;var Bt=1<<yt;ot=(ot%Bt+Bt)%Bt;var Nt=Tr(yt,ot,bt);if(this.tiles[Nt])return Qe(this.tiles[Nt],Dt);Ht>1&&console.log("drilling down to z%d-%d-%d",yt,ot,bt);for(var Jt=yt,hr=ot,Zt=bt,dr;!dr&&Jt>0;)Jt--,hr=Math.floor(hr/2),Zt=Math.floor(Zt/2),dr=this.tiles[Tr(Jt,hr,Zt)];return!dr||!dr.source?null:(Ht>1&&console.log("found parent tile z%d-%d-%d",Jt,hr,Zt),Ht>1&&console.time("drilling down"),this.splitTile(dr.source,Jt,hr,Zt,yt,ot,bt),Ht>1&&console.timeEnd("drilling down"),this.tiles[Nt]?Qe(this.tiles[Nt],Dt):null)};function Tr(yt,ot,bt){return((1<<yt)*bt+ot)*32+yt}function gt(yt,ot){for(var bt in ot)yt[bt]=ot[bt];return yt}function Kt(yt,ot){var bt=yt.tileID.canonical;if(!this._geoJSONIndex)return ot(null,null);var Et=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Et)return ot(null,null);var Dt=new T(Et.features),Ht=s(Dt);(Ht.byteOffset!==0||Ht.byteLength!==Ht.buffer.byteLength)&&(Ht=new Uint8Array(Ht)),ot(null,{vectorTile:Dt,rawData:Ht.buffer})}var Qt=function(yt){function ot(bt,Et,Dt,Ht){yt.call(this,bt,Et,Dt,Kt),Ht&&(this.loadGeoJSON=Ht)}return yt&&(ot.__proto__=yt),ot.prototype=Object.create(yt&&yt.prototype),ot.prototype.constructor=ot,ot.prototype.loadData=function(Et,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Et,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ot.prototype._loadData=function(){var Et=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Ht=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Ht&&Ht.request&&Ht.request.collectResourceTiming?new a.RequestPerformance(Ht.request):!1;this.loadGeoJSON(Ht,function(Nt,Jt){if(Nt||!Jt)return Dt(Nt);if(typeof Jt!="object")return Dt(new Error("Input data given to '"+Ht.source+"' is not a valid GeoJSON object."));c(Jt,!0);try{if(Ht.filter){var hr=a.createExpression(Ht.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));var Zt=Jt.features.filter(function(Ge){return hr.value.evaluate({zoom:0},Ge)});Jt={type:"FeatureCollection",features:Zt}}Et._geoJSONIndex=Ht.cluster?new ae(yr(Ht)).load(Jt.features):Lt(Jt,Ht.geojsonVtOptions)}catch(Ge){return Dt(Ge)}Et.loaded={};var dr={};if(Bt){var je=Bt.finish();je&&(dr.resourceTiming={},dr.resourceTiming[Ht.source]=JSON.parse(JSON.stringify(je)))}Dt(null,dr)})}},ot.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ot.prototype.reloadTile=function(Et,Dt){var Ht=this.loaded,Bt=Et.uid;return Ht&&Ht[Bt]?yt.prototype.reloadTile.call(this,Et,Dt):this.loadTile(Et,Dt)},ot.prototype.loadGeoJSON=function(Et,Dt){if(Et.request)a.getJSON(Et.request,Dt);else if(typeof Et.data=="string")try{return Dt(null,JSON.parse(Et.data))}catch{return Dt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))},ot.prototype.removeSource=function(Et,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},ot.prototype.getClusterExpansionZoom=function(Et,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Et.clusterId))}catch(Ht){Dt(Ht)}},ot.prototype.getClusterChildren=function(Et,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Et.clusterId))}catch(Ht){Dt(Ht)}},ot.prototype.getClusterLeaves=function(Et,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Et.clusterId,Et.limit,Et.offset))}catch(Ht){Dt(Ht)}},ot}(u);function yr(yt){var ot=yt.superclusterOptions,bt=yt.clusterProperties;if(!bt||!ot)return ot;for(var Et={},Dt={},Ht={accumulated:null,zoom:0},Bt={properties:null},Nt=Object.keys(bt),Jt=0,hr=Nt;Jt<hr.length;Jt+=1){var Zt=hr[Jt],dr=bt[Zt],je=dr[0],Ge=dr[1],Ot=a.createExpression(Ge),kt=a.createExpression(typeof je=="string"?[je,["accumulated"],["get",Zt]]:je);Et[Zt]=Ot.value,Dt[Zt]=kt.value}return ot.map=function($t){Bt.properties=$t;for(var ar={},or=0,rr=Nt;or<rr.length;or+=1){var zt=rr[or];ar[zt]=Et[zt].evaluate(Ht,Bt)}return ar},ot.reduce=function($t,ar){Bt.properties=ar;for(var or=0,rr=Nt;or<rr.length;or+=1){var zt=rr[or];Ht.accumulated=$t[zt],$t[zt]=Dt[zt].evaluate(Ht,Bt)}},ot}var fr=function(ot){var bt=this;this.self=ot,this.actor=new a.Actor(ot,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Qt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Et,Dt){if(bt.workerSourceTypes[Et])throw new Error('Worker source with name "'+Et+'" already registered.');bt.workerSourceTypes[Et]=Dt},this.self.registerRTLTextPlugin=function(Et){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Et.applyArabicShaping,a.plugin.processBidirectionalText=Et.processBidirectionalText,a.plugin.processStyledBidirectionalText=Et.processStyledBidirectionalText}};return fr.prototype.setReferrer=function(ot,bt){this.referrer=bt},fr.prototype.setImages=function(ot,bt,Et){this.availableImages[ot]=bt;for(var Dt in this.workerSources[ot]){var Ht=this.workerSources[ot][Dt];for(var Bt in Ht)Ht[Bt].availableImages=bt}Et()},fr.prototype.setLayers=function(ot,bt,Et){this.getLayerIndex(ot).replace(bt),Et()},fr.prototype.updateLayers=function(ot,bt,Et){this.getLayerIndex(ot).update(bt.layers,bt.removedIds),Et()},fr.prototype.loadTile=function(ot,bt,Et){this.getWorkerSource(ot,bt.type,bt.source).loadTile(bt,Et)},fr.prototype.loadDEMTile=function(ot,bt,Et){this.getDEMWorkerSource(ot,bt.source).loadTile(bt,Et)},fr.prototype.reloadTile=function(ot,bt,Et){this.getWorkerSource(ot,bt.type,bt.source).reloadTile(bt,Et)},fr.prototype.abortTile=function(ot,bt,Et){this.getWorkerSource(ot,bt.type,bt.source).abortTile(bt,Et)},fr.prototype.removeTile=function(ot,bt,Et){this.getWorkerSource(ot,bt.type,bt.source).removeTile(bt,Et)},fr.prototype.removeDEMTile=function(ot,bt){this.getDEMWorkerSource(ot,bt.source).removeTile(bt)},fr.prototype.removeSource=function(ot,bt,Et){if(!(!this.workerSources[ot]||!this.workerSources[ot][bt.type]||!this.workerSources[ot][bt.type][bt.source])){var Dt=this.workerSources[ot][bt.type][bt.source];delete this.workerSources[ot][bt.type][bt.source],Dt.removeSource!==void 0?Dt.removeSource(bt,Et):Et()}},fr.prototype.loadWorkerSource=function(ot,bt,Et){try{this.self.importScripts(bt.url),Et()}catch(Dt){Et(Dt.toString())}},fr.prototype.syncRTLPluginState=function(ot,bt,Et){try{a.plugin.setState(bt);var Dt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Ht=a.plugin.isParsed(),Bt=Ht?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Et(Bt,Ht)}}catch(Nt){Et(Nt.toString())}},fr.prototype.getAvailableImages=function(ot){var bt=this.availableImages[ot];return bt||(bt=[]),bt},fr.prototype.getLayerIndex=function(ot){var bt=this.layerIndexes[ot];return bt||(bt=this.layerIndexes[ot]=new d),bt},fr.prototype.getWorkerSource=function(ot,bt,Et){var Dt=this;if(this.workerSources[ot]||(this.workerSources[ot]={}),this.workerSources[ot][bt]||(this.workerSources[ot][bt]={}),!this.workerSources[ot][bt][Et]){var Ht={send:function(Bt,Nt,Jt){Dt.actor.send(Bt,Nt,Jt,ot)}};this.workerSources[ot][bt][Et]=new this.workerSourceTypes[bt](Ht,this.getLayerIndex(ot),this.getAvailableImages(ot))}return this.workerSources[ot][bt][Et]},fr.prototype.getDEMWorkerSource=function(ot,bt){return this.demWorkerSources[ot]||(this.demWorkerSources[ot]={}),this.demWorkerSources[ot][bt]||(this.demWorkerSources[ot][bt]=new m),this.demWorkerSources[ot][bt]},fr.prototype.enforceCacheSizeLimit=function(ot,bt){a.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new fr(self)),fr}),R(["./shared"],function(a){var C=a.createCommonjsModule(function(ve){ve.exports?ve.exports=J:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=J,window.mapboxgl.notSupportedReason=ge);function J(Wr){return!ge(Wr)}function ge(Wr){if(!ee())return"not a browser";if(!ye())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!Ke())return"insufficient Object support";if(!ut())return"insufficient JSON support";if(!Ct())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!ur())return"insufficient Canvas/getImageData support";if(!_r(Wr&&Wr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ee(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function Ke(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ut(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Ct(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Wr=new Blob([""],{type:"text/javascript"}),qr=URL.createObjectURL(Wr),fn,kn;try{kn=new Worker(qr),fn=!0}catch{fn=!1}return kn&&kn.terminate(),URL.revokeObjectURL(qr),fn}function Ut(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function ur(){var Wr=document.createElement("canvas");Wr.width=Wr.height=1;var qr=Wr.getContext("2d");if(!qr)return!1;var fn=qr.getImageData(0,0,1,1);return fn&&fn.width===Wr.width}var lr={};function _r(Wr){return lr[Wr]===void 0&&(lr[Wr]=Yr(Wr)),lr[Wr]}J.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Xr(Wr){var qr=document.createElement("canvas"),fn=Object.create(J.webGLContextAttributes);return fn.failIfMajorPerformanceCaveat=Wr,qr.probablySupportsContext?qr.probablySupportsContext("webgl",fn)||qr.probablySupportsContext("experimental-webgl",fn):qr.supportsContext?qr.supportsContext("webgl",fn)||qr.supportsContext("experimental-webgl",fn):qr.getContext("webgl",fn)||qr.getContext("experimental-webgl",fn)}function Yr(Wr){var qr=Xr(Wr);if(!qr)return!1;var fn=qr.createShader(qr.VERTEX_SHADER);return!fn||qr.isContextLost()?!1:(qr.shaderSource(fn,"void main() {}"),qr.compileShader(fn),qr.getShaderParameter(fn,qr.COMPILE_STATUS)===!0)}}),S={};S.create=function(ve,J,ge){var ee=a.window.document.createElement(ve);return J!==void 0&&(ee.className=J),ge&&ge.appendChild(ee),ee},S.createNS=function(ve,J){var ge=a.window.document.createElementNS(ve,J);return ge};var v=a.window.document&&a.window.document.documentElement.style;function d(ve){if(!v)return ve[0];for(var J=0;J<ve.length;J++)if(ve[J]in v)return ve[J];return ve[0]}var r=d(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;S.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},S.enableDrag=function(){v&&r&&(v[r]=t)};var i=d(["transform","WebkitTransform"]);S.setTransform=function(ve,J){ve.style[i]=J};var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",f,f),a.window.removeEventListener("test",f,f)}catch{n=!1}S.addEventListener=function(ve,J,ge,ee){ee===void 0&&(ee={}),"passive"in ee&&n?ve.addEventListener(J,ge,ee):ve.addEventListener(J,ge,ee.capture)},S.removeEventListener=function(ve,J,ge,ee){ee===void 0&&(ee={}),"passive"in ee&&n?ve.removeEventListener(J,ge,ee):ve.removeEventListener(J,ge,ee.capture)};var u=function(ve){ve.preventDefault(),ve.stopPropagation(),a.window.removeEventListener("click",u,!0)};S.suppressClick=function(){a.window.addEventListener("click",u,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",u,!0)},0)},S.mousePos=function(ve,J){var ge=ve.getBoundingClientRect();return new a.Point(J.clientX-ge.left-ve.clientLeft,J.clientY-ge.top-ve.clientTop)},S.touchPos=function(ve,J){for(var ge=ve.getBoundingClientRect(),ee=[],ye=0;ye<J.length;ye++)ee.push(new a.Point(J[ye].clientX-ge.left-ve.clientLeft,J[ye].clientY-ge.top-ve.clientTop));return ee},S.mouseButton=function(ve){return typeof a.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},S.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function l(ve,J,ge){var ee,ye,ze,Ke=a.browser.devicePixelRatio>1?"@2x":"",ut=a.getJSON(J.transformRequest(J.normalizeSpriteURL(ve,Ke,".json"),a.ResourceType.SpriteJSON),function(qt,ur){ut=null,ze||(ze=qt,ee=ur,Ut())}),Ct=a.getImage(J.transformRequest(J.normalizeSpriteURL(ve,Ke,".png"),a.ResourceType.SpriteImage),function(qt,ur){Ct=null,ze||(ze=qt,ye=ur,Ut())});function Ut(){if(ze)ge(ze);else if(ee&&ye){var qt=a.browser.getImageData(ye),ur={};for(var lr in ee){var _r=ee[lr],Xr=_r.width,Yr=_r.height,Wr=_r.x,qr=_r.y,fn=_r.sdf,kn=_r.pixelRatio,Nn=_r.stretchX,Xn=_r.stretchY,Zn=_r.content,jn=new a.RGBAImage({width:Xr,height:Yr});a.RGBAImage.copy(qt,jn,{x:Wr,y:qr},{x:0,y:0},{width:Xr,height:Yr}),ur[lr]={data:jn,pixelRatio:kn,sdf:fn,stretchX:Nn,stretchY:Xn,content:Zn}}ge(null,ur)}}return{cancel:function(){ut&&(ut.cancel(),ut=null),Ct&&(Ct.cancel(),Ct=null)}}}function m(ve){var J=ve.userImage;if(J&&J.render){var ge=J.render();if(ge)return ve.data.replace(new Uint8Array(J.data.buffer)),!0}return!1}var c=1,A=function(ve){function J(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.isLoaded=function(){return this.loaded},J.prototype.setLoaded=function(ee){if(this.loaded!==ee&&(this.loaded=ee,ee)){for(var ye=0,ze=this.requestors;ye<ze.length;ye+=1){var Ke=ze[ye],ut=Ke.ids,Ct=Ke.callback;this._notify(ut,Ct)}this.requestors=[]}},J.prototype.getImage=function(ee){return this.images[ee]},J.prototype.addImage=function(ee,ye){this._validate(ee,ye)&&(this.images[ee]=ye)},J.prototype._validate=function(ee,ye){var ze=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(ye.content,ye)||(this.fire(new a.ErrorEvent(new Error('Image "'+ee+'" has invalid "content" value'))),ze=!1),ze},J.prototype._validateStretch=function(ee,ye){if(!ee)return!0;for(var ze=0,Ke=0,ut=ee;Ke<ut.length;Ke+=1){var Ct=ut[Ke];if(Ct[0]<ze||Ct[1]<Ct[0]||ye<Ct[1])return!1;ze=Ct[1]}return!0},J.prototype._validateContent=function(ee,ye){return ee?!(ee.length!==4||ee[0]<0||ye.data.width<ee[0]||ee[1]<0||ye.data.height<ee[1]||ee[2]<0||ye.data.width<ee[2]||ee[3]<0||ye.data.height<ee[3]||ee[2]<ee[0]||ee[3]<ee[1]):!0},J.prototype.updateImage=function(ee,ye){var ze=this.images[ee];ye.version=ze.version+1,this.images[ee]=ye,this.updatedImages[ee]=!0},J.prototype.removeImage=function(ee){var ye=this.images[ee];delete this.images[ee],delete this.patterns[ee],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},J.prototype.listImages=function(){return Object.keys(this.images)},J.prototype.getImages=function(ee,ye){var ze=!0;if(!this.isLoaded())for(var Ke=0,ut=ee;Ke<ut.length;Ke+=1){var Ct=ut[Ke];this.images[Ct]||(ze=!1)}this.isLoaded()||ze?this._notify(ee,ye):this.requestors.push({ids:ee,callback:ye})},J.prototype._notify=function(ee,ye){for(var ze={},Ke=0,ut=ee;Ke<ut.length;Ke+=1){var Ct=ut[Ke];this.images[Ct]||this.fire(new a.Event("styleimagemissing",{id:Ct}));var Ut=this.images[Ct];Ut?ze[Ct]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:a.warnOnce('Image "'+Ct+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,ze)},J.prototype.getPixelSize=function(){var ee=this.atlasImage,ye=ee.width,ze=ee.height;return{width:ye,height:ze}},J.prototype.getPattern=function(ee){var ye=this.patterns[ee],ze=this.getImage(ee);if(!ze)return null;if(ye&&ye.position.version===ze.version)return ye.position;if(ye)ye.position.version=ze.version;else{var Ke=ze.data.width+c*2,ut=ze.data.height+c*2,Ct={w:Ke,h:ut,x:0,y:0},Ut=new a.ImagePosition(Ct,ze);this.patterns[ee]={bin:Ct,position:Ut}}return this._updatePatternAtlas(),this.patterns[ee].position},J.prototype.bind=function(ee){var ye=ee.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(ee,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},J.prototype._updatePatternAtlas=function(){var ee=[];for(var ye in this.patterns)ee.push(this.patterns[ye].bin);var ze=a.potpack(ee),Ke=ze.w,ut=ze.h,Ct=this.atlasImage;Ct.resize({width:Ke||1,height:ut||1});for(var Ut in this.patterns){var qt=this.patterns[Ut],ur=qt.bin,lr=ur.x+c,_r=ur.y+c,Xr=this.images[Ut].data,Yr=Xr.width,Wr=Xr.height;a.RGBAImage.copy(Xr,Ct,{x:0,y:0},{x:lr,y:_r},{width:Yr,height:Wr}),a.RGBAImage.copy(Xr,Ct,{x:0,y:Wr-1},{x:lr,y:_r-1},{width:Yr,height:1}),a.RGBAImage.copy(Xr,Ct,{x:0,y:0},{x:lr,y:_r+Wr},{width:Yr,height:1}),a.RGBAImage.copy(Xr,Ct,{x:Yr-1,y:0},{x:lr-1,y:_r},{width:1,height:Wr}),a.RGBAImage.copy(Xr,Ct,{x:0,y:0},{x:lr+Yr,y:_r},{width:1,height:Wr})}this.dirty=!0},J.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},J.prototype.dispatchRenderCallbacks=function(ee){for(var ye=0,ze=ee;ye<ze.length;ye+=1){var Ke=ze[ye];if(!this.callbackDispatchedThisFrame[Ke]){this.callbackDispatchedThisFrame[Ke]=!0;var ut=this.images[Ke],Ct=m(ut);Ct&&this.updateImage(Ke,ut)}}},J}(a.Evented);function h(ve,J,ge,ee,ye){var ze=J*256,Ke=ze+255,ut=ee.transformRequest(ee.normalizeGlyphsURL(ge).replace("{fontstack}",ve).replace("{range}",ze+"-"+Ke),a.ResourceType.Glyphs);a.getArrayBuffer(ut,function(Ct,Ut){if(Ct)ye(Ct);else if(Ut){for(var qt={},ur=0,lr=a.parseGlyphPBF(Ut);ur<lr.length;ur+=1){var _r=lr[ur];qt[_r.id]=_r}ye(null,qt)}})}var o=T,p=T,b=1e20;function T(ve,J,ge,ee,ye,ze){this.fontSize=ve||24,this.buffer=J===void 0?3:J,this.cutoff=ee||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=ze||"normal",this.radius=ge||8;var Ke=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ke,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ke*Ke),this.gridInner=new Float64Array(Ke*Ke),this.f=new Float64Array(Ke),this.d=new Float64Array(Ke),this.z=new Float64Array(Ke+1),this.v=new Int16Array(Ke),this.middle=Math.round(Ke/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}T.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var J=this.ctx.getImageData(0,0,this.size,this.size),ge=new Uint8ClampedArray(this.size*this.size),ee=0;ee<this.size*this.size;ee++){var ye=J.data[ee*4+3]/255;this.gridOuter[ee]=ye===1?0:ye===0?b:Math.pow(Math.max(0,.5-ye),2),this.gridInner[ee]=ye===1?b:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(P(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),P(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ee=0;ee<this.size*this.size;ee++){var ze=this.gridOuter[ee]-this.gridInner[ee];ge[ee]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return ge};function P(ve,J,ge,ee,ye,ze,Ke){for(var ut=0;ut<J;ut++){for(var Ct=0;Ct<ge;Ct++)ee[Ct]=ve[Ct*J+ut];for(x(ee,ye,ze,Ke,ge),Ct=0;Ct<ge;Ct++)ve[Ct*J+ut]=ye[Ct]}for(Ct=0;Ct<ge;Ct++){for(ut=0;ut<J;ut++)ee[ut]=ve[Ct*J+ut];for(x(ee,ye,ze,Ke,J),ut=0;ut<J;ut++)ve[Ct*J+ut]=Math.sqrt(ye[ut])}}function x(ve,J,ge,ee,ye){ge[0]=0,ee[0]=-b,ee[1]=+b;for(var ze=1,Ke=0;ze<ye;ze++){for(var ut=(ve[ze]+ze*ze-(ve[ge[Ke]]+ge[Ke]*ge[Ke]))/(2*ze-2*ge[Ke]);ut<=ee[Ke];)Ke--,ut=(ve[ze]+ze*ze-(ve[ge[Ke]]+ge[Ke]*ge[Ke]))/(2*ze-2*ge[Ke]);Ke++,ge[Ke]=ze,ee[Ke]=ut,ee[Ke+1]=+b}for(ze=0,Ke=0;ze<ye;ze++){for(;ee[Ke+1]<ze;)Ke++;J[ze]=(ze-ge[Ke])*(ze-ge[Ke])+ve[ge[Ke]]}}o.default=p;var L=function(J,ge){this.requestManager=J,this.localIdeographFontFamily=ge,this.entries={}};L.prototype.setURL=function(J){this.url=J},L.prototype.getGlyphs=function(J,ge){var ee=this,ye=[];for(var ze in J)for(var Ke=0,ut=J[ze];Ke<ut.length;Ke+=1){var Ct=ut[Ke];ye.push({stack:ze,id:Ct})}a.asyncAll(ye,function(Ut,qt){var ur=Ut.stack,lr=Ut.id,_r=ee.entries[ur];_r||(_r=ee.entries[ur]={glyphs:{},requests:{},ranges:{}});var Xr=_r.glyphs[lr];if(Xr!==void 0){qt(null,{stack:ur,id:lr,glyph:Xr});return}if(Xr=ee._tinySDF(_r,ur,lr),Xr){_r.glyphs[lr]=Xr,qt(null,{stack:ur,id:lr,glyph:Xr});return}var Yr=Math.floor(lr/256);if(Yr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(_r.ranges[Yr]){qt(null,{stack:ur,id:lr,glyph:Xr});return}var Wr=_r.requests[Yr];Wr||(Wr=_r.requests[Yr]=[],L.loadGlyphRange(ur,Yr,ee.url,ee.requestManager,function(qr,fn){if(fn){for(var kn in fn)ee._doesCharSupportLocalGlyph(+kn)||(_r.glyphs[+kn]=fn[+kn]);_r.ranges[Yr]=!0}for(var Nn=0,Xn=Wr;Nn<Xn.length;Nn+=1){var Zn=Xn[Nn];Zn(qr,fn)}delete _r.requests[Yr]})),Wr.push(function(qr,fn){qr?qt(qr):fn&&qt(null,{stack:ur,id:lr,glyph:fn[lr]||null})})},function(Ut,qt){if(Ut)ge(Ut);else if(qt){for(var ur={},lr=0,_r=qt;lr<_r.length;lr+=1){var Xr=_r[lr],Yr=Xr.stack,Wr=Xr.id,qr=Xr.glyph;(ur[Yr]||(ur[Yr]={}))[Wr]=qr&&{id:qr.id,bitmap:qr.bitmap.clone(),metrics:qr.metrics}}ge(null,ur)}})},L.prototype._doesCharSupportLocalGlyph=function(J){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](J)||a.isChar["Hangul Syllables"](J)||a.isChar.Hiragana(J)||a.isChar.Katakana(J))},L.prototype._tinySDF=function(J,ge,ee){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(ee)){var ze=J.tinySDF;if(!ze){var Ke="400";/bold/i.test(ge)?Ke="900":/medium/i.test(ge)?Ke="500":/light/i.test(ge)&&(Ke="200"),ze=J.tinySDF=new L.TinySDF(24,3,8,.25,ye,Ke)}return{id:ee,bitmap:new a.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(ee))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},L.loadGlyphRange=h,L.TinySDF=o;var M=function(){this.specification=a.styleSpec.light.position};M.prototype.possiblyEvaluate=function(J,ge){return a.sphericalToCartesian(J.expression.evaluate(ge))},M.prototype.interpolate=function(J,ge,ee){return{x:a.number(J.x,ge.x,ee),y:a.number(J.y,ge.y,ee),z:a.number(J.z,ge.z,ee)}};var s=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new M,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),E="-transition",w=function(ve){function J(ge){ve.call(this),this._transitionable=new a.Transitionable(s),this.setLight(ge),this._transitioning=this._transitionable.untransitioned()}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getLight=function(){return this._transitionable.serialize()},J.prototype.setLight=function(ee,ye){if(ye===void 0&&(ye={}),!this._validate(a.validateLight,ee,ye))for(var ze in ee){var Ke=ee[ze];a.endsWith(ze,E)?this._transitionable.setTransition(ze.slice(0,-E.length),Ke):this._transitionable.setValue(ze,Ke)}},J.prototype.updateTransitions=function(ee){this._transitioning=this._transitionable.transitioned(ee,this._transitioning)},J.prototype.hasTransition=function(){return this._transitioning.hasTransition()},J.prototype.recalculate=function(ee){this.properties=this._transitioning.possiblyEvaluate(ee)},J.prototype._validate=function(ee,ye,ze){return ze&&ze.validate===!1?!1:a.emitValidationErrors(this,ee.call(a.validateStyle,a.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},J}(a.Evented),O=function(J,ge){this.width=J,this.height=ge,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};O.prototype.getDash=function(J,ge){var ee=J.join(",")+String(ge);return this.dashEntry[ee]||(this.dashEntry[ee]=this.addDash(J,ge)),this.dashEntry[ee]},O.prototype.getDashRanges=function(J,ge,ee){var ye=J.length%2===1,ze=[],Ke=ye?-J[J.length-1]*ee:0,ut=J[0]*ee,Ct=!0;ze.push({left:Ke,right:ut,isDash:Ct,zeroLength:J[0]===0});for(var Ut=J[0],qt=1;qt<J.length;qt++){Ct=!Ct;var ur=J[qt];Ke=Ut*ee,Ut+=ur,ut=Ut*ee,ze.push({left:Ke,right:ut,isDash:Ct,zeroLength:ur===0})}return ze},O.prototype.addRoundDash=function(J,ge,ee){for(var ye=ge/2,ze=-ee;ze<=ee;ze++)for(var Ke=this.nextRow+ee+ze,ut=this.width*Ke,Ct=0,Ut=J[Ct],qt=0;qt<this.width;qt++){qt/Ut.right>1&&(Ut=J[++Ct]);var ur=Math.abs(qt-Ut.left),lr=Math.abs(qt-Ut.right),_r=Math.min(ur,lr),Xr=void 0,Yr=ze/ee*(ye+1);if(Ut.isDash){var Wr=ye-Math.abs(Yr);Xr=Math.sqrt(_r*_r+Wr*Wr)}else Xr=ye-Math.sqrt(_r*_r+Yr*Yr);this.data[ut+qt]=Math.max(0,Math.min(255,Xr+128))}},O.prototype.addRegularDash=function(J){for(var ge=J.length-1;ge>=0;--ge){var ee=J[ge],ye=J[ge+1];ee.zeroLength?J.splice(ge,1):ye&&ye.isDash===ee.isDash&&(ye.left=ee.left,J.splice(ge,1))}var ze=J[0],Ke=J[J.length-1];ze.isDash===Ke.isDash&&(ze.left=Ke.left-this.width,Ke.right=ze.right+this.width);for(var ut=this.width*this.nextRow,Ct=0,Ut=J[Ct],qt=0;qt<this.width;qt++){qt/Ut.right>1&&(Ut=J[++Ct]);var ur=Math.abs(qt-Ut.left),lr=Math.abs(qt-Ut.right),_r=Math.min(ur,lr),Xr=Ut.isDash?_r:-_r;this.data[ut+qt]=Math.max(0,Math.min(255,Xr+128))}},O.prototype.addDash=function(J,ge){var ee=ge?7:0,ye=2*ee+1;if(this.nextRow+ye>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var ze=0,Ke=0;Ke<J.length;Ke++)ze+=J[Ke];if(ze!==0){var ut=this.width/ze,Ct=this.getDashRanges(J,this.width,ut);ge?this.addRoundDash(Ct,ut,ee):this.addRegularDash(Ct)}var Ut={y:(this.nextRow+ee+.5)/this.height,height:2*ee/this.height,width:ze};return this.nextRow+=ye,this.dirty=!0,Ut},O.prototype.bind=function(J){var ge=J.gl;this.texture?(ge.bindTexture(ge.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,this.width,this.height,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))):(this.texture=ge.createTexture(),ge.bindTexture(ge.TEXTURE_2D,this.texture),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,ge.LINEAR),ge.texImage2D(ge.TEXTURE_2D,0,ge.ALPHA,this.width,this.height,0,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))};var _=function ve(J,ge){this.workerPool=J,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var ee=this.workerPool.acquire(this.id),ye=0;ye<ee.length;ye++){var ze=ee[ye],Ke=new ve.Actor(ze,ge,this.id);Ke.name="Worker "+ye,this.actors.push(Ke)}};_.prototype.broadcast=function(J,ge,ee){ee=ee||function(){},a.asyncAll(this.actors,function(ye,ze){ye.send(J,ge,ze)},ee)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(J){J.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=a.Actor;function U(ve,J,ge){var ee=function(ye,ze){if(ye)return ge(ye);if(ze){var Ke=a.pick(a.extend(ze,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Ke.vectorLayers=ze.vector_layers,Ke.vectorLayerIds=Ke.vectorLayers.map(function(ut){return ut.id})),Ke.tiles=J.canonicalizeTileset(Ke,ve.url),ge(null,Ke)}};return ve.url?a.getJSON(J.transformRequest(J.normalizeSourceURL(ve.url),a.ResourceType.Source),ee):a.browser.frame(function(){return ee(null,ve)})}var z=function(J,ge,ee){this.bounds=a.LngLatBounds.convert(this.validateBounds(J)),this.minzoom=ge||0,this.maxzoom=ee||24};z.prototype.validateBounds=function(J){return!Array.isArray(J)||J.length!==4?[-180,-90,180,90]:[Math.max(-180,J[0]),Math.max(-90,J[1]),Math.min(180,J[2]),Math.min(90,J[3])]},z.prototype.contains=function(J){var ge=Math.pow(2,J.z),ee={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*ge),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*ge),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*ge),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*ge)},ye=J.x>=ee.minX&&J.x<ee.maxX&&J.y>=ee.minY&&J.y<ee.maxY;return ye};var F=function(ve){function J(ge,ee,ye,ze){if(ve.call(this),this.id=ge,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(ee,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},ee),this._collectResourceTiming=ee.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(ye,ze){ee._tileJSONRequest=null,ee._loaded=!0,ye?ee.fire(new a.ErrorEvent(ye)):ze&&(a.extend(ee,ze),ze.bounds&&(ee.tileBounds=new z(ze.bounds,ee.minzoom,ee.maxzoom)),a.postTurnstileEvent(ze.tiles,ee.map._requestManager._customAccessToken),a.postMapLoadEvent(ze.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken,ee.map._requestManager._customAccessToken),ee.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},J.prototype.loaded=function(){return this._loaded},J.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},J.prototype.onAdd=function(ee){this.map=ee,this.load()},J.prototype.setSourceProperty=function(ee){this._tileJSONRequest&&this._tileJSONRequest.cancel(),ee();var ye=this.map.style.sourceCaches[this.id];ye.clearTiles(),this.load()},J.prototype.setTiles=function(ee){var ye=this;return this.setSourceProperty(function(){ye._options.tiles=ee}),this},J.prototype.setUrl=function(ee){var ye=this;return this.setSourceProperty(function(){ye.url=ee,ye._options.url=ee}),this},J.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},J.prototype.serialize=function(){return a.extend({},this._options)},J.prototype.loadTile=function(ee,ye){var ze=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme)),Ke={request:this.map._requestManager.transformRequest(ze,a.ResourceType.Tile),uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,tileSize:this.tileSize*ee.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ke.request.collectResourceTiming=this._collectResourceTiming,!ee.actor||ee.state==="expired"?(ee.actor=this.dispatcher.getActor(),ee.request=ee.actor.send("loadTile",Ke,ut.bind(this))):ee.state==="loading"?ee.reloadCallback=ye:ee.request=ee.actor.send("reloadTile",Ke,ut.bind(this));function ut(Ct,Ut){if(delete ee.request,ee.aborted)return ye(null);if(Ct&&Ct.status!==404)return ye(Ct);Ut&&Ut.resourceTiming&&(ee.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&ee.setExpiryData(Ut),ee.loadVectorData(Ut,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),ye(null),ee.reloadCallback&&(this.loadTile(ee,ee.reloadCallback),ee.reloadCallback=null)}},J.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.actor&&ee.actor.send("abortTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},J.prototype.unloadTile=function(ee){ee.unloadVectorData(),ee.actor&&ee.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},J.prototype.hasTransition=function(){return!1},J}(a.Evented),B=function(ve){function J(ge,ee,ye,ze){ve.call(this),this.id=ge,this.dispatcher=ye,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},ee),a.extend(this,a.pick(ee,["url","scheme","tileSize"]))}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(ye,ze){ee._tileJSONRequest=null,ee._loaded=!0,ye?ee.fire(new a.ErrorEvent(ye)):ze&&(a.extend(ee,ze),ze.bounds&&(ee.tileBounds=new z(ze.bounds,ee.minzoom,ee.maxzoom)),a.postTurnstileEvent(ze.tiles),a.postMapLoadEvent(ze.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken),ee.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},J.prototype.loaded=function(){return this._loaded},J.prototype.onAdd=function(ee){this.map=ee,this.load()},J.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},J.prototype.serialize=function(){return a.extend({},this._options)},J.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},J.prototype.loadTile=function(ee,ye){var ze=this,Ke=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=a.getImage(this.map._requestManager.transformRequest(Ke,a.ResourceType.Tile),function(ut,Ct){if(delete ee.request,ee.aborted)ee.state="unloaded",ye(null);else if(ut)ee.state="errored",ye(ut);else if(Ct){ze.map._refreshExpiredTiles&&ee.setExpiryData(Ct),delete Ct.cacheControl,delete Ct.expires;var Ut=ze.map.painter.context,qt=Ut.gl;ee.texture=ze.map.painter.getTileTexture(Ct.width),ee.texture?ee.texture.update(Ct,{useMipmap:!0}):(ee.texture=new a.Texture(Ut,Ct,qt.RGBA,{useMipmap:!0}),ee.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),ee.state="loaded",a.cacheEntryPossiblyAdded(ze.dispatcher),ye(null)}})},J.prototype.abortTile=function(ee,ye){ee.request&&(ee.request.cancel(),delete ee.request),ye()},J.prototype.unloadTile=function(ee,ye){ee.texture&&this.map.painter.saveTileTexture(ee.texture),ye()},J.prototype.hasTransition=function(){return!1},J}(a.Evented),N=function(ve){function J(ge,ee,ye,ze){ve.call(this,ge,ee,ye,ze),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},ee),this.encoding=ee.encoding||"mapbox"}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},J.prototype.loadTile=function(ee,ye){var ze=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=a.getImage(this.map._requestManager.transformRequest(ze,a.ResourceType.Tile),Ke.bind(this)),ee.neighboringTiles=this._getNeighboringTiles(ee.tileID);function Ke(Ct,Ut){if(delete ee.request,ee.aborted)ee.state="unloaded",ye(null);else if(Ct)ee.state="errored",ye(Ct);else if(Ut){this.map._refreshExpiredTiles&&ee.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var qt=a.window.ImageBitmap&&Ut instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),ur=qt?Ut:a.browser.getImageData(Ut,1),lr={uid:ee.uid,coord:ee.tileID,source:this.id,rawImageData:ur,encoding:this.encoding};(!ee.actor||ee.state==="expired")&&(ee.actor=this.dispatcher.getActor(),ee.actor.send("loadDEMTile",lr,ut.bind(this)))}}function ut(Ct,Ut){Ct&&(ee.state="errored",ye(Ct)),Ut&&(ee.dem=Ut,ee.needsHillshadePrepare=!0,ee.state="loaded",ye(null))}},J.prototype._getNeighboringTiles=function(ee){var ye=ee.canonical,ze=Math.pow(2,ye.z),Ke=(ye.x-1+ze)%ze,ut=ye.x===0?ee.wrap-1:ee.wrap,Ct=(ye.x+1+ze)%ze,Ut=ye.x+1===ze?ee.wrap+1:ee.wrap,qt={};return qt[new a.OverscaledTileID(ee.overscaledZ,ut,ye.z,Ke,ye.y).key]={backfilled:!1},qt[new a.OverscaledTileID(ee.overscaledZ,Ut,ye.z,Ct,ye.y).key]={backfilled:!1},ye.y>0&&(qt[new a.OverscaledTileID(ee.overscaledZ,ut,ye.z,Ke,ye.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(ee.overscaledZ,ee.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},qt[new a.OverscaledTileID(ee.overscaledZ,Ut,ye.z,Ct,ye.y-1).key]={backfilled:!1}),ye.y+1<ze&&(qt[new a.OverscaledTileID(ee.overscaledZ,ut,ye.z,Ke,ye.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(ee.overscaledZ,ee.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},qt[new a.OverscaledTileID(ee.overscaledZ,Ut,ye.z,Ct,ye.y+1).key]={backfilled:!1}),qt},J.prototype.unloadTile=function(ee){ee.demTexture&&this.map.painter.saveTileTexture(ee.demTexture),ee.fbo&&(ee.fbo.destroy(),delete ee.fbo),ee.dem&&delete ee.dem,delete ee.neighboringTiles,ee.state="unloaded",ee.actor&&ee.actor.send("removeDEMTile",{uid:ee.uid,source:this.id})},J}(B),V=function(ve){function J(ge,ee,ye,ze){ve.call(this),this.id=ge,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(ze),this._data=ee.data,this._options=a.extend({},ee),this._collectResourceTiming=ee.collectResourceTiming,this._resourceTiming=[],ee.maxzoom!==void 0&&(this.maxzoom=ee.maxzoom),ee.type&&(this.type=ee.type),ee.attribution&&(this.attribution=ee.attribution),this.promoteId=ee.promoteId;var Ke=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:ee.cluster||!1,geojsonVtOptions:{buffer:(ee.buffer!==void 0?ee.buffer:128)*Ke,tolerance:(ee.tolerance!==void 0?ee.tolerance:.375)*Ke,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:ee.lineMetrics||!1,generateId:ee.generateId||!1},superclusterOptions:{maxZoom:ee.clusterMaxZoom!==void 0?Math.min(ee.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ee.clusterMinPoints||2),extent:a.EXTENT,radius:(ee.clusterRadius||50)*Ke,log:!1,generateId:ee.generateId||!1},clusterProperties:ee.clusterProperties,filter:ee.filter},ee.workerOptions)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){var ee=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){ee.fire(new a.ErrorEvent(ye));return}var ze={dataType:"source",sourceDataType:"metadata"};ee._collectResourceTiming&&ee._resourceTiming&&ee._resourceTiming.length>0&&(ze.resourceTiming=ee._resourceTiming,ee._resourceTiming=[]),ee.fire(new a.Event("data",ze))})},J.prototype.onAdd=function(ee){this.map=ee,this.load()},J.prototype.setData=function(ee){var ye=this;return this._data=ee,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){ye.fire(new a.ErrorEvent(ze));return}var Ke={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Ke.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new a.Event("data",Ke))}),this},J.prototype.getClusterExpansionZoom=function(ee,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ee,source:this.id},ye),this},J.prototype.getClusterChildren=function(ee,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:ee,source:this.id},ye),this},J.prototype.getClusterLeaves=function(ee,ye,ze,Ke){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ee,limit:ye,offset:ze},Ke),this},J.prototype._updateWorkerData=function(ee){var ye=this;this._loaded=!1;var ze=a.extend({},this.workerOptions),Ke=this._data;typeof Ke=="string"?(ze.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Ke),a.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(Ke),this.actor.send(this.type+".loadData",ze,function(ut,Ct){ye._removed||Ct&&Ct.abandoned||(ye._loaded=!0,Ct&&Ct.resourceTiming&&Ct.resourceTiming[ye.id]&&(ye._resourceTiming=Ct.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:ze.source},null),ee(ut))})},J.prototype.loaded=function(){return this._loaded},J.prototype.loadTile=function(ee,ye){var ze=this,Ke=ee.actor?"reloadTile":"loadTile";ee.actor=this.actor;var ut={type:this.type,uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ee.request=this.actor.send(Ke,ut,function(Ct,Ut){return delete ee.request,ee.unloadVectorData(),ee.aborted?ye(null):Ct?ye(Ct):(ee.loadVectorData(Ut,ze.map.painter,Ke==="reloadTile"),ye(null))})},J.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.aborted=!0},J.prototype.unloadTile=function(ee){ee.unloadVectorData(),this.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id})},J.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},J.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},J.prototype.hasTransition=function(){return!1},J}(a.Evented),X=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),q=function(ve){function J(ge,ee,ye,ze){ve.call(this),this.id=ge,this.dispatcher=ye,this.coordinates=ee.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=ee}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(ee,ye){var ze=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Ke,ut){ze._loaded=!0,Ke?ze.fire(new a.ErrorEvent(Ke)):ut&&(ze.image=ut,ee&&(ze.coordinates=ee),ye&&ye(),ze._finishLoading())})},J.prototype.loaded=function(){return this._loaded},J.prototype.updateImage=function(ee){var ye=this;return!this.image||!ee.url?this:(this.options.url=ee.url,this.load(ee.coordinates,function(){ye.texture=null}),this)},J.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},J.prototype.onAdd=function(ee){this.map=ee,this.load()},J.prototype.setCoordinates=function(ee){var ye=this;this.coordinates=ee;var ze=ee.map(a.MercatorCoordinate.fromLngLat);this.tileID=te(ze),this.minzoom=this.maxzoom=this.tileID.z;var Ke=ze.map(function(ut){return ye.tileID.getTilePoint(ut)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ke[0].x,Ke[0].y,0,0),this._boundsArray.emplaceBack(Ke[1].x,Ke[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Ke[3].x,Ke[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Ke[2].x,Ke[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},J.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ee=this.map.painter.context,ye=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(ee,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},J.prototype.loadTile=function(ee,ye){this.tileID&&this.tileID.equals(ee.tileID.canonical)?(this.tiles[String(ee.tileID.wrap)]=ee,ee.buckets={},ye(null)):(ee.state="errored",ye(null))},J.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},J.prototype.hasTransition=function(){return!1},J}(a.Evented);function te(ve){for(var J=1/0,ge=1/0,ee=-1/0,ye=-1/0,ze=0,Ke=ve;ze<Ke.length;ze+=1){var ut=Ke[ze];J=Math.min(J,ut.x),ge=Math.min(ge,ut.y),ee=Math.max(ee,ut.x),ye=Math.max(ye,ut.y)}var Ct=ee-J,Ut=ye-ge,qt=Math.max(Ct,Ut),ur=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),lr=Math.pow(2,ur);return new a.CanonicalTileID(ur,Math.floor((J+ee)/2*lr),Math.floor((ge+ye)/2*lr))}var ne=function(ve){function J(ge,ee,ye,ze){ve.call(this,ge,ee,ye,ze),this.roundZoom=!0,this.type="video",this.options=ee}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){var ee=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var ze=0,Ke=ye.urls;ze<Ke.length;ze+=1){var ut=Ke[ze];this.urls.push(this.map._requestManager.transformRequest(ut,a.ResourceType.Source).url)}a.getVideo(this.urls,function(Ct,Ut){ee._loaded=!0,Ct?ee.fire(new a.ErrorEvent(Ct)):Ut&&(ee.video=Ut,ee.video.loop=!0,ee.video.addEventListener("playing",function(){ee.map.triggerRepaint()}),ee.map&&ee.video.play(),ee._finishLoading())})},J.prototype.pause=function(){this.video&&this.video.pause()},J.prototype.play=function(){this.video&&this.video.play()},J.prototype.seek=function(ee){if(this.video){var ye=this.video.seekable;ee<ye.start(0)||ee>ye.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=ee}},J.prototype.getVideo=function(){return this.video},J.prototype.onAdd=function(ee){this.map||(this.map=ee,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},J.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ee=this.map.painter.context,ye=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(ee,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},J.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},J.prototype.hasTransition=function(){return this.video&&!this.video.paused},J}(q),ce=function(ve){function J(ge,ee,ye,ze){ve.call(this,ge,ee,ye,ze),ee.coordinates?(!Array.isArray(ee.coordinates)||ee.coordinates.length!==4||ee.coordinates.some(function(Ke){return!Array.isArray(Ke)||Ke.length!==2||Ke.some(function(ut){return typeof ut!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'missing required property "coordinates"'))),ee.animate&&typeof ee.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'optional "animate" property must be a boolean value'))),ee.canvas?typeof ee.canvas!="string"&&!(ee.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+ge,null,'missing required property "canvas"'))),this.options=ee,this.animate=ee.animate!==void 0?ee.animate:!0}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},J.prototype.getCanvas=function(){return this.canvas},J.prototype.onAdd=function(ee){this.map=ee,this.load(),this.canvas&&this.animate&&this.play()},J.prototype.onRemove=function(){this.pause()},J.prototype.prepare=function(){var ee=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ee=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ee=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,ze=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ee||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(ye,this.canvas,ze.RGBA,{premultiply:!0});for(var Ke in this.tiles){var ut=this.tiles[Ke];ut.state!=="loaded"&&(ut.state="loaded",ut.texture=this.texture)}}},J.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},J.prototype.hasTransition=function(){return this._playing},J.prototype._hasInvalidDimensions=function(){for(var ee=0,ye=[this.canvas.width,this.canvas.height];ee<ye.length;ee+=1){var ze=ye[ee];if(isNaN(ze)||ze<=0)return!0}return!1},J}(q),Q={vector:F,raster:B,"raster-dem":N,geojson:V,video:ne,image:q,canvas:ce},Z=function(ve,J,ge,ee){var ye=new Q[J.type](ve,J,ge,ee);if(ye.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ye.id);return a.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},re=function(ve){return Q[ve]},Y=function(ve,J){Q[ve]=J};function oe(ve,J){var ge=a.identity([]);return a.translate(ge,ge,[1,1,0]),a.scale(ge,ge,[ve.width*.5,ve.height*.5,1]),a.multiply(ge,ge,ve.calculatePosMatrix(J.toUnwrapped()))}function ue(ve,J,ge){if(ve)for(var ee=0,ye=ve;ee<ye.length;ee+=1){var ze=ye[ee],Ke=J[ze];if(Ke&&Ke.source===ge&&Ke.type==="fill-extrusion")return!0}else for(var ut in J){var Ct=J[ut];if(Ct.source===ge&&Ct.type==="fill-extrusion")return!0}return!1}function K(ve,J,ge,ee,ye,ze){var Ke=ue(ye&&ye.layers,J,ve.id),ut=ze.maxPitchScaleFactor(),Ct=ve.tilesIn(ee,ut,Ke);Ct.sort(ae);for(var Ut=[],qt=0,ur=Ct;qt<ur.length;qt+=1){var lr=ur[qt];Ut.push({wrappedTileID:lr.tileID.wrapped().key,queryResults:lr.tile.queryRenderedFeatures(J,ge,ve._state,lr.queryGeometry,lr.cameraQueryGeometry,lr.scale,ye,ze,ut,oe(ve.transform,lr.tileID))})}var _r=he(Ut);for(var Xr in _r)_r[Xr].forEach(function(Yr){var Wr=Yr.feature,qr=ve.getFeatureState(Wr.layer["source-layer"],Wr.id);Wr.source=Wr.layer.source,Wr.layer["source-layer"]&&(Wr.sourceLayer=Wr.layer["source-layer"]),Wr.state=qr});return _r}function $(ve,J,ge,ee,ye,ze,Ke){for(var ut={},Ct=ze.queryRenderedSymbols(ee),Ut=[],qt=0,ur=Object.keys(Ct).map(Number);qt<ur.length;qt+=1){var lr=ur[qt];Ut.push(Ke[lr])}Ut.sort(ae);for(var _r=function(){var fn=Yr[Xr],kn=fn.featureIndex.lookupSymbolFeatures(Ct[fn.bucketInstanceId],J,fn.bucketIndex,fn.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,ve);for(var Nn in kn){var Xn=ut[Nn]=ut[Nn]||[],Zn=kn[Nn];Zn.sort(function(fa,wa){var ga=fn.featureSortOrder;if(ga){var Na=ga.indexOf(fa.featureIndex),ri=ga.indexOf(wa.featureIndex);return ri-Na}else return wa.featureIndex-fa.featureIndex});for(var jn=0,Jn=Zn;jn<Jn.length;jn+=1){var aa=Jn[jn];Xn.push(aa)}}},Xr=0,Yr=Ut;Xr<Yr.length;Xr+=1)_r();var Wr=function(fn){ut[fn].forEach(function(kn){var Nn=kn.feature,Xn=ve[fn],Zn=ge[Xn.source],jn=Zn.getFeatureState(Nn.layer["source-layer"],Nn.id);Nn.source=Nn.layer.source,Nn.layer["source-layer"]&&(Nn.sourceLayer=Nn.layer["source-layer"]),Nn.state=jn})};for(var qr in ut)Wr(qr);return ut}function le(ve,J){for(var ge=ve.getRenderableIds().map(function(Ct){return ve.getTileByID(Ct)}),ee=[],ye={},ze=0;ze<ge.length;ze++){var Ke=ge[ze],ut=Ke.tileID.canonical.key;ye[ut]||(ye[ut]=!0,Ke.querySourceFeatures(ee,J))}return ee}function ae(ve,J){var ge=ve.tileID,ee=J.tileID;return ge.overscaledZ-ee.overscaledZ||ge.canonical.y-ee.canonical.y||ge.wrap-ee.wrap||ge.canonical.x-ee.canonical.x}function he(ve){for(var J={},ge={},ee=0,ye=ve;ee<ye.length;ee+=1){var ze=ye[ee],Ke=ze.queryResults,ut=ze.wrappedTileID,Ct=ge[ut]=ge[ut]||{};for(var Ut in Ke)for(var qt=Ke[Ut],ur=Ct[Ut]=Ct[Ut]||{},lr=J[Ut]=J[Ut]||[],_r=0,Xr=qt;_r<Xr.length;_r+=1){var Yr=Xr[_r];ur[Yr.featureIndex]||(ur[Yr.featureIndex]=!0,lr.push(Yr))}}return J}var xe=function(J,ge){this.max=J,this.onRemove=ge,this.reset()};xe.prototype.reset=function(){for(var J in this.data)for(var ge=0,ee=this.data[J];ge<ee.length;ge+=1){var ye=ee[ge];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},xe.prototype.add=function(J,ge,ee){var ye=this,ze=J.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var Ke={value:ge,timeout:void 0};if(ee!==void 0&&(Ke.timeout=setTimeout(function(){ye.remove(J,Ke)},ee)),this.data[ze].push(Ke),this.order.push(ze),this.order.length>this.max){var ut=this._getAndRemoveByKey(this.order[0]);ut&&this.onRemove(ut)}return this},xe.prototype.has=function(J){return J.wrapped().key in this.data},xe.prototype.getAndRemove=function(J){return this.has(J)?this._getAndRemoveByKey(J.wrapped().key):null},xe.prototype._getAndRemoveByKey=function(J){var ge=this.data[J].shift();return ge.timeout&&clearTimeout(ge.timeout),this.data[J].length===0&&delete this.data[J],this.order.splice(this.order.indexOf(J),1),ge.value},xe.prototype.getByKey=function(J){var ge=this.data[J];return ge?ge[0].value:null},xe.prototype.get=function(J){if(!this.has(J))return null;var ge=this.data[J.wrapped().key][0];return ge.value},xe.prototype.remove=function(J,ge){if(!this.has(J))return this;var ee=J.wrapped().key,ye=ge===void 0?0:this.data[ee].indexOf(ge),ze=this.data[ee][ye];return this.data[ee].splice(ye,1),ze.timeout&&clearTimeout(ze.timeout),this.data[ee].length===0&&delete this.data[ee],this.onRemove(ze.value),this.order.splice(this.order.indexOf(ee),1),this},xe.prototype.setMaxSize=function(J){for(this.max=J;this.order.length>this.max;){var ge=this._getAndRemoveByKey(this.order[0]);ge&&this.onRemove(ge)}return this},xe.prototype.filter=function(J){var ge=[];for(var ee in this.data)for(var ye=0,ze=this.data[ee];ye<ze.length;ye+=1){var Ke=ze[ye];J(Ke.value)||ge.push(Ke)}for(var ut=0,Ct=ge;ut<Ct.length;ut+=1){var Ut=Ct[ut];this.remove(Ut.value.tileID,Ut)}};var Me=function(J,ge,ee){this.context=J;var ye=J.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!ee,this.context.unbindVAO(),J.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Me.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Me.prototype.updateData=function(J){var ge=this.context.gl;this.context.unbindVAO(),this.bind(),ge.bufferSubData(ge.ELEMENT_ARRAY_BUFFER,0,J.arrayBuffer)},Me.prototype.destroy=function(){var J=this.context.gl;this.buffer&&(J.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ke=function(J,ge,ee,ye){this.length=ge.length,this.attributes=ee,this.itemSize=ge.bytesPerElement,this.dynamicDraw=ye,this.context=J;var ze=J.gl;this.buffer=ze.createBuffer(),J.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};ke.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ke.prototype.updateData=function(J){var ge=this.context.gl;this.bind(),ge.bufferSubData(ge.ARRAY_BUFFER,0,J.arrayBuffer)},ke.prototype.enableAttributes=function(J,ge){for(var ee=0;ee<this.attributes.length;ee++){var ye=this.attributes[ee],ze=ge.attributes[ye.name];ze!==void 0&&J.enableVertexAttribArray(ze)}},ke.prototype.setVertexAttribPointers=function(J,ge,ee){for(var ye=0;ye<this.attributes.length;ye++){var ze=this.attributes[ye],Ke=ge.attributes[ze.name];Ke!==void 0&&J.vertexAttribPointer(Ke,ze.components,J[Ae[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(ee||0))}},ke.prototype.destroy=function(){var J=this.context.gl;this.buffer&&(J.deleteBuffer(this.buffer),delete this.buffer)};var we=function(J){this.gl=J.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};we.prototype.get=function(){return this.current},we.prototype.set=function(J){},we.prototype.getDefault=function(){return this.default},we.prototype.setDefault=function(){this.set(this.default)};var Ee=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return a.Color.transparent},J.prototype.set=function(ee){var ye=this.current;ee.r===ye.r&&ee.g===ye.g&&ee.b===ye.b&&ee.a===ye.a&&!this.dirty||(this.gl.clearColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},J}(we),be=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 1},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearDepth(ee),this.current=ee,this.dirty=!1)},J}(we),Le=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 0},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearStencil(ee),this.current=ee,this.dirty=!1)},J}(we),Ue=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return[!0,!0,!0,!0]},J.prototype.set=function(ee){var ye=this.current;ee[0]===ye[0]&&ee[1]===ye[1]&&ee[2]===ye[2]&&ee[3]===ye[3]&&!this.dirty||(this.gl.colorMask(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},J}(we),Ve=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!0},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthMask(ee),this.current=ee,this.dirty=!1)},J}(we),Fe=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 255},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.stencilMask(ee),this.current=ee,this.dirty=!1)},J}(we),He=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},J.prototype.set=function(ee){var ye=this.current;ee.func===ye.func&&ee.ref===ye.ref&&ee.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(ee.func,ee.ref,ee.mask),this.current=ee,this.dirty=!1)},J}(we),st=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var ee=this.gl;return[ee.KEEP,ee.KEEP,ee.KEEP]},J.prototype.set=function(ee){var ye=this.current;ee[0]===ye[0]&&ee[1]===ye[1]&&ee[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(ee[0],ee[1],ee[2]),this.current=ee,this.dirty=!1)},J}(we),vt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ee?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=ee,this.dirty=!1}},J}(we),lt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return[0,1]},J.prototype.set=function(ee){var ye=this.current;ee[0]===ye[0]&&ee[1]===ye[1]&&!this.dirty||(this.gl.depthRange(ee[0],ee[1]),this.current=ee,this.dirty=!1)},J}(we),et=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ee?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=ee,this.dirty=!1}},J}(we),ct=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.LESS},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthFunc(ee),this.current=ee,this.dirty=!1)},J}(we),ht=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ee?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=ee,this.dirty=!1}},J}(we),mt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var ee=this.gl;return[ee.ONE,ee.ZERO]},J.prototype.set=function(ee){var ye=this.current;ee[0]===ye[0]&&ee[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(ee[0],ee[1]),this.current=ee,this.dirty=!1)},J}(we),xt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return a.Color.transparent},J.prototype.set=function(ee){var ye=this.current;ee.r===ye.r&&ee.g===ye.g&&ee.b===ye.b&&ee.a===ye.a&&!this.dirty||(this.gl.blendColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},J}(we),Mt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.FUNC_ADD},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.blendEquation(ee),this.current=ee,this.dirty=!1)},J}(we),tt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ee?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=ee,this.dirty=!1}},J}(we),Oe=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.BACK},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.cullFace(ee),this.current=ee,this.dirty=!1)},J}(we),Ye=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.CCW},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.frontFace(ee),this.current=ee,this.dirty=!1)},J}(we),Ze=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.useProgram(ee),this.current=ee,this.dirty=!1)},J}(we),We=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return this.gl.TEXTURE0},J.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.activeTexture(ee),this.current=ee,this.dirty=!1)},J}(we),_e=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){var ee=this.gl;return[0,0,ee.drawingBufferWidth,ee.drawingBufferHeight]},J.prototype.set=function(ee){var ye=this.current;ee[0]===ye[0]&&ee[1]===ye[1]&&ee[2]===ye[2]&&ee[3]===ye[3]&&!this.dirty||(this.gl.viewport(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},J}(we),Ie=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,ee),this.current=ee,this.dirty=!1}},J}(we),Xe=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},J}(we),De=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,ee),this.current=ee,this.dirty=!1}},J}(we),de=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1}},J}(we),Te=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ee){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1},J}(we),Be=function(ve){function J(ge){ve.call(this,ge),this.vao=ge.extVertexArrayObject}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J.prototype.set=function(ee){!this.vao||ee===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ee),this.current=ee,this.dirty=!1)},J}(we),Qe=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return 4},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,ee),this.current=ee,this.dirty=!1}},J}(we),at=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee),this.current=ee,this.dirty=!1}},J}(we),it=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return!1},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,ee),this.current=ee,this.dirty=!1}},J}(we),Wt=function(ve){function J(ge,ee){ve.call(this,ge),this.context=ge,this.parent=ee}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getDefault=function(){return null},J}(we),Yt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.setDirty=function(){this.dirty=!0},J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,ee,0),this.current=ee,this.dirty=!1}},J}(Wt),Tt=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},J}(Wt),Lt=function(J,ge,ee,ye){this.context=J,this.width=ge,this.height=ee;var ze=J.gl,Ke=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new Yt(J,Ke),ye&&(this.depthAttachment=new Tt(J,Ke))};Lt.prototype.destroy=function(){var J=this.context.gl,ge=this.colorAttachment.get();if(ge&&J.deleteTexture(ge),this.depthAttachment){var ee=this.depthAttachment.get();ee&&J.deleteRenderbuffer(ee)}J.deleteFramebuffer(this.framebuffer)};var Xt=519,Tr=function(J,ge,ee){this.func=J,this.mask=ge,this.range=ee};Tr.ReadOnly=!1,Tr.ReadWrite=!0,Tr.disabled=new Tr(Xt,Tr.ReadOnly,[0,1]);var gt=519,Kt=7680,Qt=function(J,ge,ee,ye,ze,Ke){this.test=J,this.ref=ge,this.mask=ee,this.fail=ye,this.depthFail=ze,this.pass=Ke};Qt.disabled=new Qt({func:gt,mask:0},0,0,Kt,Kt,Kt);var yr=0,fr=1,yt=771,ot=function(J,ge,ee){this.blendFunction=J,this.blendColor=ge,this.mask=ee};ot.Replace=[fr,yr],ot.disabled=new ot(ot.Replace,a.Color.transparent,[!1,!1,!1,!1]),ot.unblended=new ot(ot.Replace,a.Color.transparent,[!0,!0,!0,!0]),ot.alphaBlended=new ot([fr,yt],a.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Et=2305,Dt=function(J,ge,ee){this.enable=J,this.mode=ge,this.frontFace=ee};Dt.disabled=new Dt(!1,bt,Et),Dt.backCCW=new Dt(!0,bt,Et);var Ht=function(J){this.gl=J,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ee(this),this.clearDepth=new be(this),this.clearStencil=new Le(this),this.colorMask=new Ue(this),this.depthMask=new Ve(this),this.stencilMask=new Fe(this),this.stencilFunc=new He(this),this.stencilOp=new st(this),this.stencilTest=new vt(this),this.depthRange=new lt(this),this.depthTest=new et(this),this.depthFunc=new ct(this),this.blend=new ht(this),this.blendFunc=new mt(this),this.blendColor=new xt(this),this.blendEquation=new Mt(this),this.cullFace=new tt(this),this.cullFaceSide=new Oe(this),this.frontFace=new Ye(this),this.program=new Ze(this),this.activeTexture=new We(this),this.viewport=new _e(this),this.bindFramebuffer=new Ie(this),this.bindRenderbuffer=new Xe(this),this.bindTexture=new De(this),this.bindVertexBuffer=new de(this),this.bindElementBuffer=new Te(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Be(this),this.pixelStoreUnpack=new Qe(this),this.pixelStoreUnpackPremultiplyAlpha=new at(this),this.pixelStoreUnpackFlipY=new it(this),this.extTextureFilterAnisotropic=J.getExtension("EXT_texture_filter_anisotropic")||J.getExtension("MOZ_EXT_texture_filter_anisotropic")||J.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=J.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=J.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(J.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=J.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=J.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=J.getParameter(J.MAX_TEXTURE_SIZE)};Ht.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ht.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ht.prototype.createIndexBuffer=function(J,ge){return new Me(this,J,ge)},Ht.prototype.createVertexBuffer=function(J,ge,ee){return new ke(this,J,ge,ee)},Ht.prototype.createRenderbuffer=function(J,ge,ee){var ye=this.gl,ze=ye.createRenderbuffer();return this.bindRenderbuffer.set(ze),ye.renderbufferStorage(ye.RENDERBUFFER,J,ge,ee),this.bindRenderbuffer.set(null),ze},Ht.prototype.createFramebuffer=function(J,ge,ee){return new Lt(this,J,ge,ee)},Ht.prototype.clear=function(J){var ge=J.color,ee=J.depth,ye=this.gl,ze=0;ge&&(ze|=ye.COLOR_BUFFER_BIT,this.clearColor.set(ge),this.colorMask.set([!0,!0,!0,!0])),typeof ee<"u"&&(ze|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ee),this.depthMask.set(!0)),ye.clear(ze)},Ht.prototype.setCullFace=function(J){J.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(J.mode),this.frontFace.set(J.frontFace))},Ht.prototype.setDepthMode=function(J){J.func===this.gl.ALWAYS&&!J.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(J.func),this.depthMask.set(J.mask),this.depthRange.set(J.range))},Ht.prototype.setStencilMode=function(J){J.test.func===this.gl.ALWAYS&&!J.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(J.mask),this.stencilOp.set([J.fail,J.depthFail,J.pass]),this.stencilFunc.set({func:J.test.func,ref:J.ref,mask:J.test.mask}))},Ht.prototype.setColorMode=function(J){a.deepEqual(J.blendFunction,ot.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(J.blendFunction),this.blendColor.set(J.blendColor)),this.colorMask.set(J.mask)},Ht.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(ve){function J(ge,ee,ye){var ze=this;ve.call(this),this.id=ge,this.dispatcher=ye,this.on("data",function(Ke){Ke.dataType==="source"&&Ke.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&Ke.dataType==="source"&&Ke.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=Z(ge,ee,ye,this),this._tiles={},this._cache=new xe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.onAdd=function(ee){this.map=ee,this._maxTileCacheSize=ee?ee._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ee)},J.prototype.onRemove=function(ee){this._source&&this._source.onRemove&&this._source.onRemove(ee)},J.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ee in this._tiles){var ye=this._tiles[ee];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},J.prototype.getSource=function(){return this._source},J.prototype.pause=function(){this._paused=!0},J.prototype.resume=function(){if(this._paused){var ee=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ee&&this.reload(),this.transform&&this.update(this.transform)}},J.prototype._loadTile=function(ee,ye){return this._source.loadTile(ee,ye)},J.prototype._unloadTile=function(ee){if(this._source.unloadTile)return this._source.unloadTile(ee,function(){})},J.prototype._abortTile=function(ee){if(this._source.abortTile)return this._source.abortTile(ee,function(){})},J.prototype.serialize=function(){return this._source.serialize()},J.prototype.prepare=function(ee){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var ze=this._tiles[ye];ze.upload(ee),ze.prepare(this.map.style.imageManager)}},J.prototype.getIds=function(){return a.values(this._tiles).map(function(ee){return ee.tileID}).sort(Nt).map(function(ee){return ee.key})},J.prototype.getRenderableIds=function(ee){var ye=this,ze=[];for(var Ke in this._tiles)this._isIdRenderable(Ke,ee)&&ze.push(this._tiles[Ke]);return ee?ze.sort(function(ut,Ct){var Ut=ut.tileID,qt=Ct.tileID,ur=new a.Point(Ut.canonical.x,Ut.canonical.y)._rotate(ye.transform.angle),lr=new a.Point(qt.canonical.x,qt.canonical.y)._rotate(ye.transform.angle);return Ut.overscaledZ-qt.overscaledZ||lr.y-ur.y||lr.x-ur.x}).map(function(ut){return ut.tileID.key}):ze.map(function(ut){return ut.tileID}).sort(Nt).map(function(ut){return ut.key})},J.prototype.hasRenderableParent=function(ee){var ye=this.findLoadedParent(ee,0);return ye?this._isIdRenderable(ye.tileID.key):!1},J.prototype._isIdRenderable=function(ee,ye){return this._tiles[ee]&&this._tiles[ee].hasData()&&!this._coveredTiles[ee]&&(ye||!this._tiles[ee].holdingForFade())},J.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ee in this._tiles)this._tiles[ee].state!=="errored"&&this._reloadTile(ee,"reloading")},J.prototype._reloadTile=function(ee,ye){var ze=this._tiles[ee];ze&&(ze.state!=="loading"&&(ze.state=ye),this._loadTile(ze,this._tileLoaded.bind(this,ze,ee,ye)))},J.prototype._tileLoaded=function(ee,ye,ze,Ke){if(Ke){ee.state="errored",Ke.status!==404?this._source.fire(new a.ErrorEvent(Ke,{tile:ee})):this.update(this.transform);return}ee.timeAdded=a.browser.now(),ze==="expired"&&(ee.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,ee),this.getSource().type==="raster-dem"&&ee.dem&&this._backfillDEM(ee),this._state.initializeTileState(ee,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:ee,coord:ee.tileID}))},J.prototype._backfillDEM=function(ee){for(var ye=this.getRenderableIds(),ze=0;ze<ye.length;ze++){var Ke=ye[ze];if(ee.neighboringTiles&&ee.neighboringTiles[Ke]){var ut=this.getTileByID(Ke);Ct(ee,ut),Ct(ut,ee)}}function Ct(Ut,qt){Ut.needsHillshadePrepare=!0;var ur=qt.tileID.canonical.x-Ut.tileID.canonical.x,lr=qt.tileID.canonical.y-Ut.tileID.canonical.y,_r=Math.pow(2,Ut.tileID.canonical.z),Xr=qt.tileID.key;ur===0&&lr===0||Math.abs(lr)>1||(Math.abs(ur)>1&&(Math.abs(ur+_r)===1?ur+=_r:Math.abs(ur-_r)===1&&(ur-=_r)),!(!qt.dem||!Ut.dem)&&(Ut.dem.backfillBorder(qt.dem,ur,lr),Ut.neighboringTiles&&Ut.neighboringTiles[Xr]&&(Ut.neighboringTiles[Xr].backfilled=!0)))}},J.prototype.getTile=function(ee){return this.getTileByID(ee.key)},J.prototype.getTileByID=function(ee){return this._tiles[ee]},J.prototype._retainLoadedChildren=function(ee,ye,ze,Ke){for(var ut in this._tiles){var Ct=this._tiles[ut];if(!(Ke[ut]||!Ct.hasData()||Ct.tileID.overscaledZ<=ye||Ct.tileID.overscaledZ>ze)){for(var Ut=Ct.tileID;Ct&&Ct.tileID.overscaledZ>ye+1;){var qt=Ct.tileID.scaledTo(Ct.tileID.overscaledZ-1);Ct=this._tiles[qt.key],Ct&&Ct.hasData()&&(Ut=qt)}for(var ur=Ut;ur.overscaledZ>ye;)if(ur=ur.scaledTo(ur.overscaledZ-1),ee[ur.key]){Ke[Ut.key]=Ut;break}}}},J.prototype.findLoadedParent=function(ee,ye){if(ee.key in this._loadedParentTiles){var ze=this._loadedParentTiles[ee.key];return ze&&ze.tileID.overscaledZ>=ye?ze:null}for(var Ke=ee.overscaledZ-1;Ke>=ye;Ke--){var ut=ee.scaledTo(Ke),Ct=this._getLoadedTile(ut);if(Ct)return Ct}},J.prototype._getLoadedTile=function(ee){var ye=this._tiles[ee.key];if(ye&&ye.hasData())return ye;var ze=this._cache.getByKey(ee.wrapped().key);return ze},J.prototype.updateCacheSize=function(ee){var ye=Math.ceil(ee.width/this._source.tileSize)+1,ze=Math.ceil(ee.height/this._source.tileSize)+1,Ke=ye*ze,ut=5,Ct=Math.floor(Ke*ut),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Ct):Ct;this._cache.setMaxSize(Ut)},J.prototype.handleWrapJump=function(ee){var ye=this._prevLng===void 0?ee:this._prevLng,ze=ee-ye,Ke=ze/360,ut=Math.round(Ke);if(this._prevLng=ee,ut){var Ct={};for(var Ut in this._tiles){var qt=this._tiles[Ut];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ut),Ct[qt.tileID.key]=qt}this._tiles=Ct;for(var ur in this._timers)clearTimeout(this._timers[ur]),delete this._timers[ur];for(var lr in this._tiles){var _r=this._tiles[lr];this._setTileReloadTimer(lr,_r)}}},J.prototype.update=function(ee){var ye=this;if(this.transform=ee,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ee),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=ee.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(fa){return new a.OverscaledTileID(fa.canonical.z,fa.wrap,fa.canonical.z,fa.canonical.x,fa.canonical.y)}):(ze=ee.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(fa){return ye._source.hasTile(fa)}))):ze=[];var Ke=ee.coveringZoomLevel(this._source),ut=Math.max(Ke-J.maxOverzooming,this._source.minzoom),Ct=Math.max(Ke+J.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(ze,Ke);if(Jt(this._source.type)){for(var qt={},ur={},lr=Object.keys(Ut),_r=0,Xr=lr;_r<Xr.length;_r+=1){var Yr=Xr[_r],Wr=Ut[Yr],qr=this._tiles[Yr];if(!(!qr||qr.fadeEndTime&&qr.fadeEndTime<=a.browser.now())){var fn=this.findLoadedParent(Wr,ut);fn&&(this._addTile(fn.tileID),qt[fn.tileID.key]=fn.tileID),ur[Yr]=Wr}}this._retainLoadedChildren(ur,Ke,Ct,Ut);for(var kn in qt)Ut[kn]||(this._coveredTiles[kn]=!0,Ut[kn]=qt[kn])}for(var Nn in Ut)this._tiles[Nn].clearFadeHold();for(var Xn=a.keysDifference(this._tiles,Ut),Zn=0,jn=Xn;Zn<jn.length;Zn+=1){var Jn=jn[Zn],aa=this._tiles[Jn];aa.hasSymbolBuckets&&!aa.holdingForFade()?aa.setHoldDuration(this.map._fadeDuration):(!aa.hasSymbolBuckets||aa.symbolFadeFinished())&&this._removeTile(Jn)}this._updateLoadedParentTileCache()}},J.prototype.releaseSymbolFadeTiles=function(){for(var ee in this._tiles)this._tiles[ee].holdingForFade()&&this._removeTile(ee)},J.prototype._updateRetainedTiles=function(ee,ye){for(var ze={},Ke={},ut=Math.max(ye-J.maxOverzooming,this._source.minzoom),Ct=Math.max(ye+J.maxUnderzooming,this._source.minzoom),Ut={},qt=0,ur=ee;qt<ur.length;qt+=1){var lr=ur[qt],_r=this._addTile(lr);ze[lr.key]=lr,!_r.hasData()&&ye<this._source.maxzoom&&(Ut[lr.key]=lr)}this._retainLoadedChildren(Ut,ye,Ct,ze);for(var Xr=0,Yr=ee;Xr<Yr.length;Xr+=1){var Wr=Yr[Xr],qr=this._tiles[Wr.key];if(!qr.hasData()){if(ye+1>this._source.maxzoom){var fn=Wr.children(this._source.maxzoom)[0],kn=this.getTile(fn);if(kn&&kn.hasData()){ze[fn.key]=fn;continue}}else{var Nn=Wr.children(this._source.maxzoom);if(ze[Nn[0].key]&&ze[Nn[1].key]&&ze[Nn[2].key]&&ze[Nn[3].key])continue}for(var Xn=qr.wasRequested(),Zn=Wr.overscaledZ-1;Zn>=ut;--Zn){var jn=Wr.scaledTo(Zn);if(Ke[jn.key]||(Ke[jn.key]=!0,qr=this.getTile(jn),!qr&&Xn&&(qr=this._addTile(jn)),qr&&(ze[jn.key]=jn,Xn=qr.wasRequested(),qr.hasData())))break}}}return ze},J.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ee in this._tiles){for(var ye=[],ze=void 0,Ke=this._tiles[ee].tileID;Ke.overscaledZ>0;){if(Ke.key in this._loadedParentTiles){ze=this._loadedParentTiles[Ke.key];break}ye.push(Ke.key);var ut=Ke.scaledTo(Ke.overscaledZ-1);if(ze=this._getLoadedTile(ut),ze)break;Ke=ut}for(var Ct=0,Ut=ye;Ct<Ut.length;Ct+=1){var qt=Ut[Ct];this._loadedParentTiles[qt]=ze}}},J.prototype._addTile=function(ee){var ye=this._tiles[ee.key];if(ye)return ye;ye=this._cache.getAndRemove(ee),ye&&(this._setTileReloadTimer(ee.key,ye),ye.tileID=ee,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[ee.key]&&(clearTimeout(this._cacheTimers[ee.key]),delete this._cacheTimers[ee.key],this._setTileReloadTimer(ee.key,ye)));var ze=!!ye;return ze||(ye=new a.Tile(ee,this._source.tileSize*ee.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,ee.key,ye.state))),ye?(ye.uses++,this._tiles[ee.key]=ye,ze||this._source.fire(new a.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},J.prototype._setTileReloadTimer=function(ee,ye){var ze=this;ee in this._timers&&(clearTimeout(this._timers[ee]),delete this._timers[ee]);var Ke=ye.getExpiryTimeout();Ke&&(this._timers[ee]=setTimeout(function(){ze._reloadTile(ee,"expired"),delete ze._timers[ee]},Ke))},J.prototype._removeTile=function(ee){var ye=this._tiles[ee];ye&&(ye.uses--,delete this._tiles[ee],this._timers[ee]&&(clearTimeout(this._timers[ee]),delete this._timers[ee]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},J.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ee in this._tiles)this._removeTile(ee);this._cache.reset()},J.prototype.tilesIn=function(ee,ye,ze){var Ke=this,ut=[],Ct=this.transform;if(!Ct)return ut;for(var Ut=ze?Ct.getCameraQueryGeometry(ee):ee,qt=ee.map(function(Zn){return Ct.pointCoordinate(Zn)}),ur=Ut.map(function(Zn){return Ct.pointCoordinate(Zn)}),lr=this.getIds(),_r=1/0,Xr=1/0,Yr=-1/0,Wr=-1/0,qr=0,fn=ur;qr<fn.length;qr+=1){var kn=fn[qr];_r=Math.min(_r,kn.x),Xr=Math.min(Xr,kn.y),Yr=Math.max(Yr,kn.x),Wr=Math.max(Wr,kn.y)}for(var Nn=function(Zn){var jn=Ke._tiles[lr[Zn]];if(!jn.holdingForFade()){var Jn=jn.tileID,aa=Math.pow(2,Ct.zoom-jn.tileID.overscaledZ),fa=ye*jn.queryPadding*a.EXTENT/jn.tileSize/aa,wa=[Jn.getTilePoint(new a.MercatorCoordinate(_r,Xr)),Jn.getTilePoint(new a.MercatorCoordinate(Yr,Wr))];if(wa[0].x-fa<a.EXTENT&&wa[0].y-fa<a.EXTENT&&wa[1].x+fa>=0&&wa[1].y+fa>=0){var ga=qt.map(function(ri){return Jn.getTilePoint(ri)}),Na=ur.map(function(ri){return Jn.getTilePoint(ri)});ut.push({tile:jn,tileID:Jn,queryGeometry:ga,cameraQueryGeometry:Na,scale:aa})}}},Xn=0;Xn<lr.length;Xn++)Nn(Xn);return ut},J.prototype.getVisibleCoordinates=function(ee){for(var ye=this,ze=this.getRenderableIds(ee).map(function(Ut){return ye._tiles[Ut].tileID}),Ke=0,ut=ze;Ke<ut.length;Ke+=1){var Ct=ut[Ke];Ct.posMatrix=this.transform.calculatePosMatrix(Ct.toUnwrapped())}return ze},J.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Jt(this._source.type))for(var ee in this._tiles){var ye=this._tiles[ee];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=a.browser.now())return!0}return!1},J.prototype.setFeatureState=function(ee,ye,ze){ee=ee||"_geojsonTileLayer",this._state.updateState(ee,ye,ze)},J.prototype.removeFeatureState=function(ee,ye,ze){ee=ee||"_geojsonTileLayer",this._state.removeFeatureState(ee,ye,ze)},J.prototype.getFeatureState=function(ee,ye){return ee=ee||"_geojsonTileLayer",this._state.getState(ee,ye)},J.prototype.setDependencies=function(ee,ye,ze){var Ke=this._tiles[ee];Ke&&Ke.setDependencies(ye,ze)},J.prototype.reloadTilesForDependencies=function(ee,ye){for(var ze in this._tiles){var Ke=this._tiles[ze];Ke.hasDependency(ee,ye)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(ut){return!ut.hasDependency(ee,ye)})},J}(a.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Nt(ve,J){var ge=Math.abs(ve.wrap*2)-+(ve.wrap<0),ee=Math.abs(J.wrap*2)-+(J.wrap<0);return ve.overscaledZ-J.overscaledZ||ee-ge||J.canonical.y-ve.canonical.y||J.canonical.x-ve.canonical.x}function Jt(ve){return ve==="raster"||ve==="image"||ve==="video"}function hr(){return new a.window.Worker(bo.workerUrl)}var Zt="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(J){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new hr);return this.active[J]=!0,this.workers.slice()},dr.prototype.release=function(J){delete this.active[J],this.numActive()===0&&(this.workers.forEach(function(ge){ge.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[Zt]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var je=Math.floor(a.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(je,6),1);var Ge;function Ot(){return Ge||(Ge=new dr),Ge}function kt(){var ve=Ot();ve.acquire(Zt)}function $t(){var ve=Ge;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(Zt),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function ar(ve,J){var ge={};for(var ee in ve)ee!=="ref"&&(ge[ee]=ve[ee]);return a.refProperties.forEach(function(ye){ye in J&&(ge[ye]=J[ye])}),ge}function or(ve){ve=ve.slice();for(var J=Object.create(null),ge=0;ge<ve.length;ge++)J[ve[ge].id]=ve[ge];for(var ee=0;ee<ve.length;ee++)"ref"in ve[ee]&&(ve[ee]=ar(ve[ee],J[ve[ee].ref]));return ve}function rr(){var ve={},J=a.styleSpec.$version;for(var ge in a.styleSpec.$root){var ee=a.styleSpec.$root[ge];if(ee.required){var ye=null;ge==="version"?ye=J:ee.type==="array"?ye=[]:ye={},ye!=null&&(ve[ge]=ye)}}return ve}var zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function vr(ve,J,ge){ge.push({command:zt.addSource,args:[ve,J[ve]]})}function gr(ve,J,ge){J.push({command:zt.removeSource,args:[ve]}),ge[ve]=!0}function Ar(ve,J,ge,ee){gr(ve,ge,ee),vr(ve,J,ge)}function cr(ve,J,ge){var ee;for(ee in ve[ge])if(ve[ge].hasOwnProperty(ee)&&ee!=="data"&&!a.deepEqual(ve[ge][ee],J[ge][ee]))return!1;for(ee in J[ge])if(J[ge].hasOwnProperty(ee)&&ee!=="data"&&!a.deepEqual(ve[ge][ee],J[ge][ee]))return!1;return!0}function Hr(ve,J,ge,ee){ve=ve||{},J=J||{};var ye;for(ye in ve)ve.hasOwnProperty(ye)&&(J.hasOwnProperty(ye)||gr(ye,ge,ee));for(ye in J)J.hasOwnProperty(ye)&&(ve.hasOwnProperty(ye)?a.deepEqual(ve[ye],J[ye])||(ve[ye].type==="geojson"&&J[ye].type==="geojson"&&cr(ve,J,ye)?ge.push({command:zt.setGeoJSONSourceData,args:[ye,J[ye].data]}):Ar(ye,J,ge,ee)):vr(ye,J,ge))}function Rr(ve,J,ge,ee,ye,ze){ve=ve||{},J=J||{};var Ke;for(Ke in ve)ve.hasOwnProperty(Ke)&&(a.deepEqual(ve[Ke],J[Ke])||ge.push({command:ze,args:[ee,Ke,J[Ke],ye]}));for(Ke in J)!J.hasOwnProperty(Ke)||ve.hasOwnProperty(Ke)||a.deepEqual(ve[Ke],J[Ke])||ge.push({command:ze,args:[ee,Ke,J[Ke],ye]})}function Ir(ve){return ve.id}function cn(ve,J){return ve[J.id]=J,ve}function Zr(ve,J,ge){ve=ve||[],J=J||[];var ee=ve.map(Ir),ye=J.map(Ir),ze=ve.reduce(cn,{}),Ke=J.reduce(cn,{}),ut=ee.slice(),Ct=Object.create(null),Ut,qt,ur,lr,_r,Xr,Yr;for(Ut=0,qt=0;Ut<ee.length;Ut++)ur=ee[Ut],Ke.hasOwnProperty(ur)?qt++:(ge.push({command:zt.removeLayer,args:[ur]}),ut.splice(ut.indexOf(ur,qt),1));for(Ut=0,qt=0;Ut<ye.length;Ut++)ur=ye[ye.length-1-Ut],ut[ut.length-1-Ut]!==ur&&(ze.hasOwnProperty(ur)?(ge.push({command:zt.removeLayer,args:[ur]}),ut.splice(ut.lastIndexOf(ur,ut.length-qt),1)):qt++,Xr=ut[ut.length-Ut],ge.push({command:zt.addLayer,args:[Ke[ur],Xr]}),ut.splice(ut.length-Ut,0,ur),Ct[ur]=!0);for(Ut=0;Ut<ye.length;Ut++)if(ur=ye[Ut],lr=ze[ur],_r=Ke[ur],!(Ct[ur]||a.deepEqual(lr,_r))){if(!a.deepEqual(lr.source,_r.source)||!a.deepEqual(lr["source-layer"],_r["source-layer"])||!a.deepEqual(lr.type,_r.type)){ge.push({command:zt.removeLayer,args:[ur]}),Xr=ut[ut.lastIndexOf(ur)+1],ge.push({command:zt.addLayer,args:[_r,Xr]});continue}Rr(lr.layout,_r.layout,ge,ur,null,zt.setLayoutProperty),Rr(lr.paint,_r.paint,ge,ur,null,zt.setPaintProperty),a.deepEqual(lr.filter,_r.filter)||ge.push({command:zt.setFilter,args:[ur,_r.filter]}),(!a.deepEqual(lr.minzoom,_r.minzoom)||!a.deepEqual(lr.maxzoom,_r.maxzoom))&&ge.push({command:zt.setLayerZoomRange,args:[ur,_r.minzoom,_r.maxzoom]});for(Yr in lr)lr.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Rr(lr[Yr],_r[Yr],ge,ur,Yr.slice(6),zt.setPaintProperty):a.deepEqual(lr[Yr],_r[Yr])||ge.push({command:zt.setLayerProperty,args:[ur,Yr,_r[Yr]]})));for(Yr in _r)!_r.hasOwnProperty(Yr)||lr.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Rr(lr[Yr],_r[Yr],ge,ur,Yr.slice(6),zt.setPaintProperty):a.deepEqual(lr[Yr],_r[Yr])||ge.push({command:zt.setLayerProperty,args:[ur,Yr,_r[Yr]]}))}}function An(ve,J){if(!ve)return[{command:zt.setStyle,args:[J]}];var ge=[];try{if(!a.deepEqual(ve.version,J.version))return[{command:zt.setStyle,args:[J]}];a.deepEqual(ve.center,J.center)||ge.push({command:zt.setCenter,args:[J.center]}),a.deepEqual(ve.zoom,J.zoom)||ge.push({command:zt.setZoom,args:[J.zoom]}),a.deepEqual(ve.bearing,J.bearing)||ge.push({command:zt.setBearing,args:[J.bearing]}),a.deepEqual(ve.pitch,J.pitch)||ge.push({command:zt.setPitch,args:[J.pitch]}),a.deepEqual(ve.sprite,J.sprite)||ge.push({command:zt.setSprite,args:[J.sprite]}),a.deepEqual(ve.glyphs,J.glyphs)||ge.push({command:zt.setGlyphs,args:[J.glyphs]}),a.deepEqual(ve.transition,J.transition)||ge.push({command:zt.setTransition,args:[J.transition]}),a.deepEqual(ve.light,J.light)||ge.push({command:zt.setLight,args:[J.light]});var ee={},ye=[];Hr(ve.sources,J.sources,ye,ee);var ze=[];ve.layers&&ve.layers.forEach(function(Ke){ee[Ke.source]?ge.push({command:zt.removeLayer,args:[Ke.id]}):ze.push(Ke)}),ge=ge.concat(ye),Zr(ze,J.layers,ge)}catch(Ke){console.warn("Unable to compute style diff:",Ke),ge=[{command:zt.setStyle,args:[J]}]}return ge}var Sn=function(J,ge){this.reset(J,ge)};Sn.prototype.reset=function(J,ge){this.points=J||[],this._distances=[0];for(var ee=1;ee<this.points.length;ee++)this._distances[ee]=this._distances[ee-1]+this.points[ee].dist(this.points[ee-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ge||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Sn.prototype.lerp=function(J){if(this.points.length===1)return this.points[0];J=a.clamp(J,0,1);for(var ge=1,ee=this._distances[ge],ye=J*this.paddedLength+this.padding;ee<ye&&ge<this._distances.length;)ee=this._distances[++ge];var ze=ge-1,Ke=this._distances[ze],ut=ee-Ke,Ct=ut>0?(ye-Ke)/ut:0;return this.points[ze].mult(1-Ct).add(this.points[ge].mult(Ct))};var br=function(J,ge,ee){var ye=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil(J/ee),this.yCellCount=Math.ceil(ge/ee);for(var Ke=0;Ke<this.xCellCount*this.yCellCount;Ke++)ye.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=J,this.height=ge,this.xScale=this.xCellCount/J,this.yScale=this.yCellCount/ge,this.boxUid=0,this.circleUid=0};br.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},br.prototype.insert=function(J,ge,ee,ye,ze){this._forEachCell(ge,ee,ye,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push(J),this.bboxes.push(ge),this.bboxes.push(ee),this.bboxes.push(ye),this.bboxes.push(ze)},br.prototype.insertCircle=function(J,ge,ee,ye){this._forEachCell(ge-ye,ee-ye,ge+ye,ee+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(J),this.circles.push(ge),this.circles.push(ee),this.circles.push(ye)},br.prototype._insertBoxCell=function(J,ge,ee,ye,ze,Ke){this.boxCells[ze].push(Ke)},br.prototype._insertCircleCell=function(J,ge,ee,ye,ze,Ke){this.circleCells[ze].push(Ke)},br.prototype._query=function(J,ge,ee,ye,ze,Ke){if(ee<0||J>this.width||ye<0||ge>this.height)return ze?!1:[];var ut=[];if(J<=0&&ge<=0&&this.width<=ee&&this.height<=ye){if(ze)return!0;for(var Ct=0;Ct<this.boxKeys.length;Ct++)ut.push({key:this.boxKeys[Ct],x1:this.bboxes[Ct*4],y1:this.bboxes[Ct*4+1],x2:this.bboxes[Ct*4+2],y2:this.bboxes[Ct*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var qt=this.circles[Ut*3],ur=this.circles[Ut*3+1],lr=this.circles[Ut*3+2];ut.push({key:this.circleKeys[Ut],x1:qt-lr,y1:ur-lr,x2:qt+lr,y2:ur+lr})}return Ke?ut.filter(Ke):ut}else{var _r={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell(J,ge,ee,ye,this._queryCell,ut,_r,Ke),ze?ut.length>0:ut}},br.prototype._queryCircle=function(J,ge,ee,ye,ze){var Ke=J-ee,ut=J+ee,Ct=ge-ee,Ut=ge+ee;if(ut<0||Ke>this.width||Ut<0||Ct>this.height)return ye?!1:[];var qt=[],ur={hitTest:ye,circle:{x:J,y:ge,radius:ee},seenUids:{box:{},circle:{}}};return this._forEachCell(Ke,Ct,ut,Ut,this._queryCellCircle,qt,ur,ze),ye?qt.length>0:qt},br.prototype.query=function(J,ge,ee,ye,ze){return this._query(J,ge,ee,ye,!1,ze)},br.prototype.hitTest=function(J,ge,ee,ye,ze){return this._query(J,ge,ee,ye,!0,ze)},br.prototype.hitTestCircle=function(J,ge,ee,ye){return this._queryCircle(J,ge,ee,!0,ye)},br.prototype._queryCell=function(J,ge,ee,ye,ze,Ke,ut,Ct){var Ut=ut.seenUids,qt=this.boxCells[ze];if(qt!==null)for(var ur=this.bboxes,lr=0,_r=qt;lr<_r.length;lr+=1){var Xr=_r[lr];if(!Ut.box[Xr]){Ut.box[Xr]=!0;var Yr=Xr*4;if(J<=ur[Yr+2]&&ge<=ur[Yr+3]&&ee>=ur[Yr+0]&&ye>=ur[Yr+1]&&(!Ct||Ct(this.boxKeys[Xr]))){if(ut.hitTest)return Ke.push(!0),!0;Ke.push({key:this.boxKeys[Xr],x1:ur[Yr],y1:ur[Yr+1],x2:ur[Yr+2],y2:ur[Yr+3]})}}}var Wr=this.circleCells[ze];if(Wr!==null)for(var qr=this.circles,fn=0,kn=Wr;fn<kn.length;fn+=1){var Nn=kn[fn];if(!Ut.circle[Nn]){Ut.circle[Nn]=!0;var Xn=Nn*3;if(this._circleAndRectCollide(qr[Xn],qr[Xn+1],qr[Xn+2],J,ge,ee,ye)&&(!Ct||Ct(this.circleKeys[Nn]))){if(ut.hitTest)return Ke.push(!0),!0;var Zn=qr[Xn],jn=qr[Xn+1],Jn=qr[Xn+2];Ke.push({key:this.circleKeys[Nn],x1:Zn-Jn,y1:jn-Jn,x2:Zn+Jn,y2:jn+Jn})}}}},br.prototype._queryCellCircle=function(J,ge,ee,ye,ze,Ke,ut,Ct){var Ut=ut.circle,qt=ut.seenUids,ur=this.boxCells[ze];if(ur!==null)for(var lr=this.bboxes,_r=0,Xr=ur;_r<Xr.length;_r+=1){var Yr=Xr[_r];if(!qt.box[Yr]){qt.box[Yr]=!0;var Wr=Yr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,lr[Wr+0],lr[Wr+1],lr[Wr+2],lr[Wr+3])&&(!Ct||Ct(this.boxKeys[Yr])))return Ke.push(!0),!0}}var qr=this.circleCells[ze];if(qr!==null)for(var fn=this.circles,kn=0,Nn=qr;kn<Nn.length;kn+=1){var Xn=Nn[kn];if(!qt.circle[Xn]){qt.circle[Xn]=!0;var Zn=Xn*3;if(this._circlesCollide(fn[Zn],fn[Zn+1],fn[Zn+2],Ut.x,Ut.y,Ut.radius)&&(!Ct||Ct(this.circleKeys[Xn])))return Ke.push(!0),!0}}},br.prototype._forEachCell=function(J,ge,ee,ye,ze,Ke,ut,Ct){for(var Ut=this._convertToXCellCoord(J),qt=this._convertToYCellCoord(ge),ur=this._convertToXCellCoord(ee),lr=this._convertToYCellCoord(ye),_r=Ut;_r<=ur;_r++)for(var Xr=qt;Xr<=lr;Xr++){var Yr=this.xCellCount*Xr+_r;if(ze.call(this,J,ge,ee,ye,Yr,Ke,ut,Ct))return}},br.prototype._convertToXCellCoord=function(J){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(J*this.xScale)))},br.prototype._convertToYCellCoord=function(J){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(J*this.yScale)))},br.prototype._circlesCollide=function(J,ge,ee,ye,ze,Ke){var ut=ye-J,Ct=ze-ge,Ut=ee+Ke;return Ut*Ut>ut*ut+Ct*Ct},br.prototype._circleAndRectCollide=function(J,ge,ee,ye,ze,Ke,ut){var Ct=(Ke-ye)/2,Ut=Math.abs(J-(ye+Ct));if(Ut>Ct+ee)return!1;var qt=(ut-ze)/2,ur=Math.abs(ge-(ze+qt));if(ur>qt+ee)return!1;if(Ut<=Ct||ur<=qt)return!0;var lr=Ut-Ct,_r=ur-qt;return lr*lr+_r*_r<=ee*ee};function Or(ve,J,ge,ee,ye){var ze=a.create();return J?(a.scale(ze,ze,[1/ye,1/ye,1]),ge||a.rotateZ(ze,ze,ee.angle)):a.multiply(ze,ee.labelPlaneMatrix,ve),ze}function jr(ve,J,ge,ee,ye){if(J){var ze=a.clone(ve);return a.scale(ze,ze,[ye,ye,1]),ge||a.rotateZ(ze,ze,-ee.angle),ze}else return ee.glCoordMatrix}function zr(ve,J){var ge=[ve.x,ve.y,0,1];mr(ge,ge,J);var ee=ge[3];return{point:new a.Point(ge[0]/ee,ge[1]/ee),signedDistanceFromCamera:ee}}function pn(ve,J){return .5+.5*(ve/J)}function hn(ve,J){var ge=ve[0]/ve[3],ee=ve[1]/ve[3],ye=ge>=-J[0]&&ge<=J[0]&&ee>=-J[1]&&ee<=J[1];return ye}function Ln(ve,J,ge,ee,ye,ze,Ke,ut){var Ct=ee?ve.textSizeData:ve.iconSizeData,Ut=a.evaluateSizeForZoom(Ct,ge.transform.zoom),qt=[256/ge.width*2+1,256/ge.height*2+1],ur=ee?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;ur.clear();for(var lr=ve.lineVertexArray,_r=ee?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,Xr=ge.transform.width/ge.transform.height,Yr=!1,Wr=0;Wr<_r.length;Wr++){var qr=_r.get(Wr);if(qr.hidden||qr.writingMode===a.WritingMode.vertical&&!Yr){Hn(qr.numGlyphs,ur);continue}Yr=!1;var fn=[qr.anchorX,qr.anchorY,0,1];if(a.transformMat4(fn,fn,J),!hn(fn,qt)){Hn(qr.numGlyphs,ur);continue}var kn=fn[3],Nn=pn(ge.transform.cameraToCenterDistance,kn),Xn=a.evaluateSizeForFeature(Ct,Ut,qr),Zn=Ke?Xn/Nn:Xn*Nn,jn=new a.Point(qr.anchorX,qr.anchorY),Jn=zr(jn,ye).point,aa={},fa=oa(qr,Zn,!1,ut,J,ye,ze,ve.glyphOffsetArray,lr,ur,Jn,jn,aa,Xr);Yr=fa.useVertical,(fa.notEnoughRoom||Yr||fa.needsFlipping&&oa(qr,Zn,!0,ut,J,ye,ze,ve.glyphOffsetArray,lr,ur,Jn,jn,aa,Xr).notEnoughRoom)&&Hn(qr.numGlyphs,ur)}ee?ve.text.dynamicLayoutVertexBuffer.updateData(ur):ve.icon.dynamicLayoutVertexBuffer.updateData(ur)}function Rn(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt){var ur=ut.glyphStartIndex+ut.numGlyphs,lr=ut.lineStartIndex,_r=ut.lineStartIndex+ut.lineLength,Xr=J.getoffsetX(ut.glyphStartIndex),Yr=J.getoffsetX(ur-1),Wr=Ta(ve*Xr,ge,ee,ye,ze,Ke,ut.segment,lr,_r,Ct,Ut,qt);if(!Wr)return null;var qr=Ta(ve*Yr,ge,ee,ye,ze,Ke,ut.segment,lr,_r,Ct,Ut,qt);return qr?{first:Wr,last:qr}:null}function Gn(ve,J,ge,ee){if(ve===a.WritingMode.horizontal){var ye=Math.abs(ge.y-J.y),ze=Math.abs(ge.x-J.x)*ee;if(ye>ze)return{useVertical:!0}}return(ve===a.WritingMode.vertical?J.y<ge.y:J.x>ge.x)?{needsFlipping:!0}:null}function oa(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt,ur,lr,_r){var Xr=J/24,Yr=ve.lineOffsetX*Xr,Wr=ve.lineOffsetY*Xr,qr;if(ve.numGlyphs>1){var fn=ve.glyphStartIndex+ve.numGlyphs,kn=ve.lineStartIndex,Nn=ve.lineStartIndex+ve.lineLength,Xn=Rn(Xr,ut,Yr,Wr,ge,qt,ur,ve,Ct,ze,lr);if(!Xn)return{notEnoughRoom:!0};var Zn=zr(Xn.first.point,Ke).point,jn=zr(Xn.last.point,Ke).point;if(ee&&!ge){var Jn=Gn(ve.writingMode,Zn,jn,_r);if(Jn)return Jn}qr=[Xn.first];for(var aa=ve.glyphStartIndex+1;aa<fn-1;aa++)qr.push(Ta(Xr*ut.getoffsetX(aa),Yr,Wr,ge,qt,ur,ve.segment,kn,Nn,Ct,ze,lr));qr.push(Xn.last)}else{if(ee&&!ge){var fa=zr(ur,ye).point,wa=ve.lineStartIndex+ve.segment+1,ga=new a.Point(Ct.getx(wa),Ct.gety(wa)),Na=zr(ga,ye),ri=Na.signedDistanceFromCamera>0?Na.point:xa(ur,ga,fa,1,ye),Ka=Gn(ve.writingMode,fa,ri,_r);if(Ka)return Ka}var Ca=Ta(Xr*ut.getoffsetX(ve.glyphStartIndex),Yr,Wr,ge,qt,ur,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Ct,ze,lr);if(!Ca)return{notEnoughRoom:!0};qr=[Ca]}for(var $a=0,ja=qr;$a<ja.length;$a+=1){var fi=ja[$a];a.addDynamicAttributes(Ut,fi.point,fi.angle)}return{}}function xa(ve,J,ge,ee,ye){var ze=zr(ve.add(ve.sub(J)._unit()),ye).point,Ke=ge.sub(ze);return ge.add(Ke._mult(ee/Ke.mag()))}function Ta(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt,ur){var lr=ee?ve-J:ve+J,_r=lr>0?1:-1,Xr=0;ee&&(_r*=-1,Xr=Math.PI),_r<0&&(Xr+=Math.PI);for(var Yr=_r>0?ut+Ke:ut+Ke+1,Wr=ye,qr=ye,fn=0,kn=0,Nn=Math.abs(lr),Xn=[];fn+kn<=Nn;){if(Yr+=_r,Yr<ut||Yr>=Ct)return null;if(qr=Wr,Xn.push(Wr),Wr=ur[Yr],Wr===void 0){var Zn=new a.Point(Ut.getx(Yr),Ut.gety(Yr)),jn=zr(Zn,qt);if(jn.signedDistanceFromCamera>0)Wr=ur[Yr]=jn.point;else{var Jn=Yr-_r,aa=fn===0?ze:new a.Point(Ut.getx(Jn),Ut.gety(Jn));Wr=xa(aa,Zn,qr,Nn-fn+1,qt)}}fn+=kn,kn=qr.dist(Wr)}var fa=(Nn-fn)/kn,wa=Wr.sub(qr),ga=wa.mult(fa)._add(qr);ga._add(wa._unit()._perp()._mult(ge*_r));var Na=Xr+Math.atan2(Wr.y-qr.y,Wr.x-qr.x);return Xn.push(ga),{point:ga,angle:Na,path:Xn}}var da=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Hn(ve,J){for(var ge=0;ge<ve;ge++){var ee=J.length;J.resize(ee+4),J.float32.set(da,ee*3)}}function mr(ve,J,ge){var ee=J[0],ye=J[1];return ve[0]=ge[0]*ee+ge[4]*ye+ge[12],ve[1]=ge[1]*ee+ge[5]*ye+ge[13],ve[3]=ge[3]*ee+ge[7]*ye+ge[15],ve}var $r=100,Qr=function(J,ge,ee){ge===void 0&&(ge=new br(J.width+2*$r,J.height+2*$r,25)),ee===void 0&&(ee=new br(J.width+2*$r,J.height+2*$r,25)),this.transform=J,this.grid=ge,this.ignoredGrid=ee,this.pitchfactor=Math.cos(J._pitch)*J.cameraToCenterDistance,this.screenRightBoundary=J.width+$r,this.screenBottomBoundary=J.height+$r,this.gridRightBoundary=J.width+2*$r,this.gridBottomBoundary=J.height+2*$r};Qr.prototype.placeCollisionBox=function(J,ge,ee,ye,ze){var Ke=this.projectAndGetPerspectiveRatio(ye,J.anchorPointX,J.anchorPointY),ut=ee*Ke.perspectiveRatio,Ct=J.x1*ut+Ke.point.x,Ut=J.y1*ut+Ke.point.y,qt=J.x2*ut+Ke.point.x,ur=J.y2*ut+Ke.point.y;return!this.isInsideGrid(Ct,Ut,qt,ur)||!ge&&this.grid.hitTest(Ct,Ut,qt,ur,ze)?{box:[],offscreen:!1}:{box:[Ct,Ut,qt,ur],offscreen:this.isOffscreen(Ct,Ut,qt,ur)}},Qr.prototype.placeCollisionCircles=function(J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt,ur,lr,_r){var Xr=[],Yr=new a.Point(ge.anchorX,ge.anchorY),Wr=zr(Yr,Ke),qr=pn(this.transform.cameraToCenterDistance,Wr.signedDistanceFromCamera),fn=qt?ze/qr:ze*qr,kn=fn/a.ONE_EM,Nn=zr(Yr,ut).point,Xn={},Zn=ge.lineOffsetX*kn,jn=ge.lineOffsetY*kn,Jn=Rn(kn,ye,Zn,jn,!1,Nn,Yr,ge,ee,ut,Xn),aa=!1,fa=!1,wa=!0;if(Jn){for(var ga=lr*.5*qr+_r,Na=new a.Point(-$r,-$r),ri=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Ka=new Sn,Ca=Jn.first,$a=Jn.last,ja=[],fi=Ca.path.length-1;fi>=1;fi--)ja.push(Ca.path[fi]);for(var ii=1;ii<$a.path.length;ii++)ja.push($a.path[ii]);var Pi=ga*2.5;if(Ct){var ti=ja.map(function(Vl){return zr(Vl,Ct)});ti.some(function(Vl){return Vl.signedDistanceFromCamera<=0})?ja=[]:ja=ti.map(function(Vl){return Vl.point})}var Ti=[];if(ja.length>0){for(var Ya=ja[0].clone(),ni=ja[0].clone(),$i=1;$i<ja.length;$i++)Ya.x=Math.min(Ya.x,ja[$i].x),Ya.y=Math.min(Ya.y,ja[$i].y),ni.x=Math.max(ni.x,ja[$i].x),ni.y=Math.max(ni.y,ja[$i].y);Ya.x>=Na.x&&ni.x<=ri.x&&Ya.y>=Na.y&&ni.y<=ri.y?Ti=[ja]:ni.x<Na.x||Ya.x>ri.x||ni.y<Na.y||Ya.y>ri.y?Ti=[]:Ti=a.clipLine([ja],Na.x,Na.y,ri.x,ri.y)}for(var Ro=0,bl=Ti;Ro<bl.length;Ro+=1){var wl=bl[Ro];Ka.reset(wl,ga*.25);var Bl=0;Ka.length<=.5*ga?Bl=1:Bl=Math.ceil(Ka.paddedLength/Pi)+1;for(var xu=0;xu<Bl;xu++){var bc=xu/Math.max(Bl-1,1),bu=Ka.lerp(bc),As=bu.x+$r,wu=bu.y+$r;Xr.push(As,wu,ga,0);var Bs=As-ga,Ss=wu-ga,Ul=As+ga,sf=wu+ga;if(wa=wa&&this.isOffscreen(Bs,Ss,Ul,sf),fa=fa||this.isInsideGrid(Bs,Ss,Ul,sf),!J&&this.grid.hitTestCircle(As,wu,ga,ur)&&(aa=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:aa}}}}return{circles:!Ut&&aa||!fa?[]:Xr,offscreen:wa,collisionDetected:aa}},Qr.prototype.queryRenderedSymbols=function(J){if(J.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ge=[],ee=1/0,ye=1/0,ze=-1/0,Ke=-1/0,ut=0,Ct=J;ut<Ct.length;ut+=1){var Ut=Ct[ut],qt=new a.Point(Ut.x+$r,Ut.y+$r);ee=Math.min(ee,qt.x),ye=Math.min(ye,qt.y),ze=Math.max(ze,qt.x),Ke=Math.max(Ke,qt.y),ge.push(qt)}for(var ur=this.grid.query(ee,ye,ze,Ke).concat(this.ignoredGrid.query(ee,ye,ze,Ke)),lr={},_r={},Xr=0,Yr=ur;Xr<Yr.length;Xr+=1){var Wr=Yr[Xr],qr=Wr.key;if(lr[qr.bucketInstanceId]===void 0&&(lr[qr.bucketInstanceId]={}),!lr[qr.bucketInstanceId][qr.featureIndex]){var fn=[new a.Point(Wr.x1,Wr.y1),new a.Point(Wr.x2,Wr.y1),new a.Point(Wr.x2,Wr.y2),new a.Point(Wr.x1,Wr.y2)];a.polygonIntersectsPolygon(ge,fn)&&(lr[qr.bucketInstanceId][qr.featureIndex]=!0,_r[qr.bucketInstanceId]===void 0&&(_r[qr.bucketInstanceId]=[]),_r[qr.bucketInstanceId].push(qr.featureIndex))}}return _r},Qr.prototype.insertCollisionBox=function(J,ge,ee,ye,ze){var Ke=ge?this.ignoredGrid:this.grid,ut={bucketInstanceId:ee,featureIndex:ye,collisionGroupID:ze};Ke.insert(ut,J[0],J[1],J[2],J[3])},Qr.prototype.insertCollisionCircles=function(J,ge,ee,ye,ze){for(var Ke=ge?this.ignoredGrid:this.grid,ut={bucketInstanceId:ee,featureIndex:ye,collisionGroupID:ze},Ct=0;Ct<J.length;Ct+=4)Ke.insertCircle(ut,J[Ct],J[Ct+1],J[Ct+2])},Qr.prototype.projectAndGetPerspectiveRatio=function(J,ge,ee){var ye=[ge,ee,0,1];mr(ye,ye,J);var ze=new a.Point((ye[0]/ye[3]+1)/2*this.transform.width+$r,(-ye[1]/ye[3]+1)/2*this.transform.height+$r);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},Qr.prototype.isOffscreen=function(J,ge,ee,ye){return ee<$r||J>=this.screenRightBoundary||ye<$r||ge>this.screenBottomBoundary},Qr.prototype.isInsideGrid=function(J,ge,ee,ye){return ee>=0&&J<this.gridRightBoundary&&ye>=0&&ge<this.gridBottomBoundary},Qr.prototype.getViewportMatrix=function(){var J=a.identity([]);return a.translate(J,J,[-$r,-$r,0]),J};function vn(ve,J,ge){return J*(a.EXTENT/(ve.tileSize*Math.pow(2,ge-ve.tileID.overscaledZ)))}var zn=function(J,ge,ee,ye){J?this.opacity=Math.max(0,Math.min(1,J.opacity+(J.placed?ge:-ge))):this.opacity=ye&&ee?1:0,this.placed=ee};zn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var bn=function(J,ge,ee,ye,ze){this.text=new zn(J?J.text:null,ge,ee,ze),this.icon=new zn(J?J.icon:null,ge,ye,ze)};bn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var wn=function(J,ge,ee){this.text=J,this.icon=ge,this.skipFade=ee},Bn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},$n=function(J,ge,ee,ye,ze){this.bucketInstanceId=J,this.featureIndex=ge,this.sourceLayerIndex=ee,this.bucketIndex=ye,this.tileID=ze},pa=function(J){this.crossSourceCollisions=J,this.maxGroupID=0,this.collisionGroups={}};pa.prototype.get=function(J){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[J]){var ge=++this.maxGroupID;this.collisionGroups[J]={ID:ge,predicate:function(ee){return ee.collisionGroupID===ge}}}return this.collisionGroups[J]};function Oa(ve,J,ge,ee,ye){var ze=a.getAnchorAlignment(ve),Ke=ze.horizontalAlign,ut=ze.verticalAlign,Ct=-(Ke-.5)*J,Ut=-(ut-.5)*ge,qt=a.evaluateVariableOffset(ve,ee);return new a.Point(Ct+qt[0]*ye,Ut+qt[1]*ye)}function Sr(ve,J,ge,ee,ye,ze){var Ke=ve.x1,ut=ve.x2,Ct=ve.y1,Ut=ve.y2,qt=ve.anchorPointX,ur=ve.anchorPointY,lr=new a.Point(J,ge);return ee&&lr._rotate(ye?ze:-ze),{x1:Ke+lr.x,y1:Ct+lr.y,x2:ut+lr.x,y2:Ut+lr.y,anchorPointX:qt,anchorPointY:ur}}var Fr=function(J,ge,ee,ye){this.transform=J.clone(),this.collisionIndex=new Qr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ge,this.retainedQueryData={},this.collisionGroups=new pa(ee),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};Fr.prototype.getBucketParts=function(J,ge,ee,ye){var ze=ee.getBucket(ge),Ke=ee.latestFeatureIndex;if(!(!ze||!Ke||ge.id!==ze.layerIds[0])){var ut=ee.collisionBoxArray,Ct=ze.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-ee.tileID.overscaledZ),qt=ee.tileSize/a.EXTENT,ur=this.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),lr=Ct.get("text-pitch-alignment")==="map",_r=Ct.get("text-rotation-alignment")==="map",Xr=vn(ee,1,this.transform.zoom),Yr=Or(ur,lr,_r,this.transform,Xr),Wr=null;if(lr){var qr=jr(ur,lr,_r,this.transform,Xr);Wr=a.multiply([],this.transform.labelPlaneMatrix,qr)}this.retainedQueryData[ze.bucketInstanceId]=new $n(ze.bucketInstanceId,Ke,ze.sourceLayerIndex,ze.index,ee.tileID);var fn={bucket:ze,layout:Ct,posMatrix:ur,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Wr,scale:Ut,textPixelRatio:qt,holdingForFade:ee.holdingForFade(),collisionBoxArray:ut,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(ye)for(var kn=0,Nn=ze.sortKeyRanges;kn<Nn.length;kn+=1){var Xn=Nn[kn],Zn=Xn.sortKey,jn=Xn.symbolInstanceStart,Jn=Xn.symbolInstanceEnd;J.push({sortKey:Zn,symbolInstanceStart:jn,symbolInstanceEnd:Jn,parameters:fn})}else J.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:fn})}},Fr.prototype.attemptAnchorPlacement=function(J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt,ur,lr,_r,Xr,Yr){var Wr=[lr.textOffset0,lr.textOffset1],qr=Oa(J,ee,ye,Wr,ze),fn=this.collisionIndex.placeCollisionBox(Sr(ge,qr.x,qr.y,Ke,ut,this.transform.angle),ur,Ct,Ut,qt.predicate);if(Yr){var kn=this.collisionIndex.placeCollisionBox(Sr(Yr,qr.x,qr.y,Ke,ut,this.transform.angle),ur,Ct,Ut,qt.predicate);if(kn.box.length===0)return}if(fn.box.length>0){var Nn;return this.prevPlacement&&this.prevPlacement.variableOffsets[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID]&&this.prevPlacement.placements[lr.crossTileID].text&&(Nn=this.prevPlacement.variableOffsets[lr.crossTileID].anchor),this.variableOffsets[lr.crossTileID]={textOffset:Wr,width:ee,height:ye,anchor:J,textBoxScale:ze,prevAnchor:Nn},this.markUsedJustification(_r,J,lr,Xr),_r.allowVerticalPlacement&&(this.markUsedOrientation(_r,Xr,lr),this.placedOrientations[lr.crossTileID]=Xr),{shift:qr,placedGlyphBoxes:fn}}},Fr.prototype.placeLayerBucketPart=function(J,ge,ee){var ye=this,ze=J.parameters,Ke=ze.bucket,ut=ze.layout,Ct=ze.posMatrix,Ut=ze.textLabelPlaneMatrix,qt=ze.labelToScreenMatrix,ur=ze.textPixelRatio,lr=ze.holdingForFade,_r=ze.collisionBoxArray,Xr=ze.partiallyEvaluatedTextSize,Yr=ze.collisionGroup,Wr=ut.get("text-optional"),qr=ut.get("icon-optional"),fn=ut.get("text-allow-overlap"),kn=ut.get("icon-allow-overlap"),Nn=ut.get("text-rotation-alignment")==="map",Xn=ut.get("text-pitch-alignment")==="map",Zn=ut.get("icon-text-fit")!=="none",jn=ut.get("symbol-z-order")==="viewport-y",Jn=fn&&(kn||!Ke.hasIconData()||qr),aa=kn&&(fn||!Ke.hasTextData()||Wr);!Ke.collisionArrays&&_r&&Ke.deserializeCollisionBoxes(_r);var fa=function(Ca,$a){if(!ge[Ca.crossTileID]){if(lr){ye.placements[Ca.crossTileID]=new wn(!1,!1,!1);return}var ja=!1,fi=!1,ii=!0,Pi=null,ti={box:null,offscreen:null},Ti={box:null,offscreen:null},Ya=null,ni=null,$i=null,Ro=0,bl=0,wl=0;$a.textFeatureIndex?Ro=$a.textFeatureIndex:Ca.useRuntimeCollisionCircles&&(Ro=Ca.featureIndex),$a.verticalTextFeatureIndex&&(bl=$a.verticalTextFeatureIndex);var Bl=$a.textBox;if(Bl){var xu=function(no){var Us=a.WritingMode.horizontal;if(Ke.allowVerticalPlacement&&!no&&ye.prevPlacement){var Vs=ye.prevPlacement.placedOrientations[Ca.crossTileID];Vs&&(ye.placedOrientations[Ca.crossTileID]=Vs,Us=Vs,ye.markUsedOrientation(Ke,Us,Ca))}return Us},bc=function(no,Us){if(Ke.allowVerticalPlacement&&Ca.numVerticalGlyphVertices>0&&$a.verticalTextBox)for(var Vs=0,Jv=Ke.writingModes;Vs<Jv.length;Vs+=1){var dp=Jv[Vs];if(dp===a.WritingMode.vertical?(ti=Us(),Ti=ti):ti=no(),ti&&ti.box&&ti.box.length)break}else ti=no()};if(ut.get("text-variable-anchor")){var Bs=ut.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[Ca.crossTileID]){var Ss=ye.prevPlacement.variableOffsets[Ca.crossTileID];Bs.indexOf(Ss.anchor)>0&&(Bs=Bs.filter(function(no){return no!==Ss.anchor}),Bs.unshift(Ss.anchor))}var Ul=function(no,Us,Vs){for(var Jv=no.x2-no.x1,dp=no.y2-no.y1,Km=Ca.textBoxScale,Jm=Zn&&!kn?Us:null,xv={box:[],offscreen:!1},$m=fn?Bs.length*2:Bs.length,$v=0;$v<$m;++$v){var Qm=Bs[$v%Bs.length],qm=$v>=Bs.length,pp=ye.attemptAnchorPlacement(Qm,no,Jv,dp,Km,Nn,Xn,ur,Ct,Yr,qm,Ca,Ke,Vs,Jm);if(pp&&(xv=pp.placedGlyphBoxes,xv&&xv.box&&xv.box.length)){ja=!0,Pi=pp.shift;break}}return xv},sf=function(){return Ul(Bl,$a.iconBox,a.WritingMode.horizontal)},Vl=function(){var no=$a.verticalTextBox,Us=ti&&ti.box&&ti.box.length;return Ke.allowVerticalPlacement&&!Us&&Ca.numVerticalGlyphVertices>0&&no?Ul(no,$a.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};bc(sf,Vl),ti&&(ja=ti.box,ii=ti.offscreen);var jv=xu(ti&&ti.box);if(!ja&&ye.prevPlacement){var ph=ye.prevPlacement.variableOffsets[Ca.crossTileID];ph&&(ye.variableOffsets[Ca.crossTileID]=ph,ye.markUsedJustification(Ke,ph.anchor,Ca,jv))}}else{var bu=function(no,Us){var Vs=ye.collisionIndex.placeCollisionBox(no,fn,ur,Ct,Yr.predicate);return Vs&&Vs.box&&Vs.box.length&&(ye.markUsedOrientation(Ke,Us,Ca),ye.placedOrientations[Ca.crossTileID]=Us),Vs},As=function(){return bu(Bl,a.WritingMode.horizontal)},wu=function(){var no=$a.verticalTextBox;return Ke.allowVerticalPlacement&&Ca.numVerticalGlyphVertices>0&&no?bu(no,a.WritingMode.vertical):{box:null,offscreen:null}};bc(As,wu),xu(ti&&ti.box&&ti.box.length)}}if(Ya=ti,ja=Ya&&Ya.box&&Ya.box.length>0,ii=Ya&&Ya.offscreen,Ca.useRuntimeCollisionCircles){var Fo=Ke.text.placedSymbolArray.get(Ca.centerJustifiedTextSymbolIndex),Yv=a.evaluateSizeForFeature(Ke.textSizeData,Xr,Fo),mv=ut.get("text-padding"),ss=Ca.collisionCircleDiameter;ni=ye.collisionIndex.placeCollisionCircles(fn,Fo,Ke.lineVertexArray,Ke.glyphOffsetArray,Yv,Ct,Ut,qt,ee,Xn,Yr.predicate,ss,mv),ja=fn||ni.circles.length>0&&!ni.collisionDetected,ii=ii&&ni.offscreen}if($a.iconFeatureIndex&&(wl=$a.iconFeatureIndex),$a.iconBox){var gh=function(no){var Us=Zn&&Pi?Sr(no,Pi.x,Pi.y,Nn,Xn,ye.transform.angle):no;return ye.collisionIndex.placeCollisionBox(Us,kn,ur,Ct,Yr.predicate)};Ti&&Ti.box&&Ti.box.length&&$a.verticalIconBox?($i=gh($a.verticalIconBox),fi=$i.box.length>0):($i=gh($a.iconBox),fi=$i.box.length>0),ii=ii&&$i.offscreen}var Xv=Wr||Ca.numHorizontalGlyphVertices===0&&Ca.numVerticalGlyphVertices===0,Zv=qr||Ca.numIconVertices===0;if(!Xv&&!Zv?fi=ja=fi&&ja:Zv?Xv||(fi=fi&&ja):ja=fi&&ja,ja&&Ya&&Ya.box&&(Ti&&Ti.box&&bl?ye.collisionIndex.insertCollisionBox(Ya.box,ut.get("text-ignore-placement"),Ke.bucketInstanceId,bl,Yr.ID):ye.collisionIndex.insertCollisionBox(Ya.box,ut.get("text-ignore-placement"),Ke.bucketInstanceId,Ro,Yr.ID)),fi&&$i&&ye.collisionIndex.insertCollisionBox($i.box,ut.get("icon-ignore-placement"),Ke.bucketInstanceId,wl,Yr.ID),ni&&(ja&&ye.collisionIndex.insertCollisionCircles(ni.circles,ut.get("text-ignore-placement"),Ke.bucketInstanceId,Ro,Yr.ID),ee)){var Kv=Ke.bucketInstanceId,yh=ye.collisionCircleArrays[Kv];yh===void 0&&(yh=ye.collisionCircleArrays[Kv]=new Bn);for(var mh=0;mh<ni.circles.length;mh+=4)yh.circles.push(ni.circles[mh+0]),yh.circles.push(ni.circles[mh+1]),yh.circles.push(ni.circles[mh+2]),yh.circles.push(ni.collisionDetected?1:0)}ye.placements[Ca.crossTileID]=new wn(ja||Jn,fi||aa,ii||Ke.justReloaded),ge[Ca.crossTileID]=!0}};if(jn)for(var wa=Ke.getSortedSymbolIndexes(this.transform.angle),ga=wa.length-1;ga>=0;--ga){var Na=wa[ga];fa(Ke.symbolInstances.get(Na),Ke.collisionArrays[Na])}else for(var ri=J.symbolInstanceStart;ri<J.symbolInstanceEnd;ri++)fa(Ke.symbolInstances.get(ri),Ke.collisionArrays[ri]);if(ee&&Ke.bucketInstanceId in this.collisionCircleArrays){var Ka=this.collisionCircleArrays[Ke.bucketInstanceId];a.invert(Ka.invProjMatrix,Ct),Ka.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ke.justReloaded=!1},Fr.prototype.markUsedJustification=function(J,ge,ee,ye){var ze={left:ee.leftJustifiedTextSymbolIndex,center:ee.centerJustifiedTextSymbolIndex,right:ee.rightJustifiedTextSymbolIndex},Ke;ye===a.WritingMode.vertical?Ke=ee.verticalPlacedTextSymbolIndex:Ke=ze[a.getAnchorJustification(ge)];for(var ut=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex,ee.verticalPlacedTextSymbolIndex],Ct=0,Ut=ut;Ct<Ut.length;Ct+=1){var qt=Ut[Ct];qt>=0&&(Ke>=0&&qt!==Ke?J.text.placedSymbolArray.get(qt).crossTileID=0:J.text.placedSymbolArray.get(qt).crossTileID=ee.crossTileID)}},Fr.prototype.markUsedOrientation=function(J,ge,ee){for(var ye=ge===a.WritingMode.horizontal||ge===a.WritingMode.horizontalOnly?ge:0,ze=ge===a.WritingMode.vertical?ge:0,Ke=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex],ut=0,Ct=Ke;ut<Ct.length;ut+=1){var Ut=Ct[ut];J.text.placedSymbolArray.get(Ut).placedOrientation=ye}ee.verticalPlacedTextSymbolIndex&&(J.text.placedSymbolArray.get(ee.verticalPlacedTextSymbolIndex).placedOrientation=ze)},Fr.prototype.commit=function(J){this.commitTime=J,this.zoomAtLastRecencyCheck=this.transform.zoom;var ge=this.prevPlacement,ee=!1;this.prevZoomAdjustment=ge?ge.zoomAdjustment(this.transform.zoom):0;var ye=ge?ge.symbolFadeChange(J):1,ze=ge?ge.opacities:{},Ke=ge?ge.variableOffsets:{},ut=ge?ge.placedOrientations:{};for(var Ct in this.placements){var Ut=this.placements[Ct],qt=ze[Ct];qt?(this.opacities[Ct]=new bn(qt,ye,Ut.text,Ut.icon),ee=ee||Ut.text!==qt.text.placed||Ut.icon!==qt.icon.placed):(this.opacities[Ct]=new bn(null,ye,Ut.text,Ut.icon,Ut.skipFade),ee=ee||Ut.text||Ut.icon)}for(var ur in ze){var lr=ze[ur];if(!this.opacities[ur]){var _r=new bn(lr,ye,!1,!1);_r.isHidden()||(this.opacities[ur]=_r,ee=ee||lr.text.placed||lr.icon.placed)}}for(var Xr in Ke)!this.variableOffsets[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.variableOffsets[Xr]=Ke[Xr]);for(var Yr in ut)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=ut[Yr]);ee?this.lastPlacementChangeTime=J:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ge?ge.lastPlacementChangeTime:J)},Fr.prototype.updateLayerOpacities=function(J,ge){for(var ee={},ye=0,ze=ge;ye<ze.length;ye+=1){var Ke=ze[ye],ut=Ke.getBucket(J);ut&&Ke.latestFeatureIndex&&J.id===ut.layerIds[0]&&this.updateBucketOpacities(ut,ee,Ke.collisionBoxArray)}},Fr.prototype.updateBucketOpacities=function(J,ge,ee){var ye=this;J.hasTextData()&&J.text.opacityVertexArray.clear(),J.hasIconData()&&J.icon.opacityVertexArray.clear(),J.hasIconCollisionBoxData()&&J.iconCollisionBox.collisionVertexArray.clear(),J.hasTextCollisionBoxData()&&J.textCollisionBox.collisionVertexArray.clear();var ze=J.layers[0].layout,Ke=new bn(null,0,!1,!1,!0),ut=ze.get("text-allow-overlap"),Ct=ze.get("icon-allow-overlap"),Ut=ze.get("text-variable-anchor"),qt=ze.get("text-rotation-alignment")==="map",ur=ze.get("text-pitch-alignment")==="map",lr=ze.get("icon-text-fit")!=="none",_r=new bn(null,0,ut&&(Ct||!J.hasIconData()||ze.get("icon-optional")),Ct&&(ut||!J.hasTextData()||ze.get("text-optional")),!0);!J.collisionArrays&&ee&&(J.hasIconCollisionBoxData()||J.hasTextCollisionBoxData())&&J.deserializeCollisionBoxes(ee);for(var Xr=function(fn,kn,Nn){for(var Xn=0;Xn<kn/4;Xn++)fn.opacityVertexArray.emplaceBack(Nn)},Yr=function(fn){var kn=J.symbolInstances.get(fn),Nn=kn.numHorizontalGlyphVertices,Xn=kn.numVerticalGlyphVertices,Zn=kn.crossTileID,jn=ge[Zn],Jn=ye.opacities[Zn];jn?Jn=Ke:Jn||(Jn=_r,ye.opacities[Zn]=Jn),ge[Zn]=!0;var aa=Nn>0||Xn>0,fa=kn.numIconVertices>0,wa=ye.placedOrientations[kn.crossTileID],ga=wa===a.WritingMode.vertical,Na=wa===a.WritingMode.horizontal||wa===a.WritingMode.horizontalOnly;if(aa){var ri=Gr(Jn.text),Ka=ga?tn:ri;Xr(J.text,Nn,Ka);var Ca=Na?tn:ri;Xr(J.text,Xn,Ca);var $a=Jn.text.isHidden();[kn.rightJustifiedTextSymbolIndex,kn.centerJustifiedTextSymbolIndex,kn.leftJustifiedTextSymbolIndex].forEach(function(wl){wl>=0&&(J.text.placedSymbolArray.get(wl).hidden=$a||ga?1:0)}),kn.verticalPlacedTextSymbolIndex>=0&&(J.text.placedSymbolArray.get(kn.verticalPlacedTextSymbolIndex).hidden=$a||Na?1:0);var ja=ye.variableOffsets[kn.crossTileID];ja&&ye.markUsedJustification(J,ja.anchor,kn,wa);var fi=ye.placedOrientations[kn.crossTileID];fi&&(ye.markUsedJustification(J,"left",kn,fi),ye.markUsedOrientation(J,fi,kn))}if(fa){var ii=Gr(Jn.icon),Pi=!(lr&&kn.verticalPlacedIconSymbolIndex&&ga);if(kn.placedIconSymbolIndex>=0){var ti=Pi?ii:tn;Xr(J.icon,kn.numIconVertices,ti),J.icon.placedSymbolArray.get(kn.placedIconSymbolIndex).hidden=Jn.icon.isHidden()}if(kn.verticalPlacedIconSymbolIndex>=0){var Ti=Pi?tn:ii;Xr(J.icon,kn.numVerticalIconVertices,Ti),J.icon.placedSymbolArray.get(kn.verticalPlacedIconSymbolIndex).hidden=Jn.icon.isHidden()}}if(J.hasIconCollisionBoxData()||J.hasTextCollisionBoxData()){var Ya=J.collisionArrays[fn];if(Ya){var ni=new a.Point(0,0);if(Ya.textBox||Ya.verticalTextBox){var $i=!0;if(Ut){var Ro=ye.variableOffsets[Zn];Ro?(ni=Oa(Ro.anchor,Ro.width,Ro.height,Ro.textOffset,Ro.textBoxScale),qt&&ni._rotate(ur?ye.transform.angle:-ye.transform.angle)):$i=!1}Ya.textBox&&Mr(J.textCollisionBox.collisionVertexArray,Jn.text.placed,!$i||ga,ni.x,ni.y),Ya.verticalTextBox&&Mr(J.textCollisionBox.collisionVertexArray,Jn.text.placed,!$i||Na,ni.x,ni.y)}var bl=!!(!Na&&Ya.verticalIconBox);Ya.iconBox&&Mr(J.iconCollisionBox.collisionVertexArray,Jn.icon.placed,bl,lr?ni.x:0,lr?ni.y:0),Ya.verticalIconBox&&Mr(J.iconCollisionBox.collisionVertexArray,Jn.icon.placed,!bl,lr?ni.x:0,lr?ni.y:0)}}},Wr=0;Wr<J.symbolInstances.length;Wr++)Yr(Wr);if(J.sortFeatures(this.transform.angle),this.retainedQueryData[J.bucketInstanceId]&&(this.retainedQueryData[J.bucketInstanceId].featureSortOrder=J.featureSortOrder),J.hasTextData()&&J.text.opacityVertexBuffer&&J.text.opacityVertexBuffer.updateData(J.text.opacityVertexArray),J.hasIconData()&&J.icon.opacityVertexBuffer&&J.icon.opacityVertexBuffer.updateData(J.icon.opacityVertexArray),J.hasIconCollisionBoxData()&&J.iconCollisionBox.collisionVertexBuffer&&J.iconCollisionBox.collisionVertexBuffer.updateData(J.iconCollisionBox.collisionVertexArray),J.hasTextCollisionBoxData()&&J.textCollisionBox.collisionVertexBuffer&&J.textCollisionBox.collisionVertexBuffer.updateData(J.textCollisionBox.collisionVertexArray),J.bucketInstanceId in this.collisionCircleArrays){var qr=this.collisionCircleArrays[J.bucketInstanceId];J.placementInvProjMatrix=qr.invProjMatrix,J.placementViewportMatrix=qr.viewportMatrix,J.collisionCircleArray=qr.circles,delete this.collisionCircleArrays[J.bucketInstanceId]}},Fr.prototype.symbolFadeChange=function(J){return this.fadeDuration===0?1:(J-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Fr.prototype.zoomAdjustment=function(J){return Math.max(0,(this.transform.zoom-J)/1.5)},Fr.prototype.hasTransitions=function(J){return this.stale||J-this.lastPlacementChangeTime<this.fadeDuration},Fr.prototype.stillRecent=function(J,ge){var ee=this.zoomAtLastRecencyCheck===ge?1-this.zoomAdjustment(ge):1;return this.zoomAtLastRecencyCheck=ge,this.commitTime+this.fadeDuration*ee>J},Fr.prototype.setStale=function(){this.stale=!0};function Mr(ve,J,ge,ee,ye){ve.emplaceBack(J?1:0,ge?1:0,ee||0,ye||0),ve.emplaceBack(J?1:0,ge?1:0,ee||0,ye||0),ve.emplaceBack(J?1:0,ge?1:0,ee||0,ye||0),ve.emplaceBack(J?1:0,ge?1:0,ee||0,ye||0)}var Nr=Math.pow(2,25),mn=Math.pow(2,24),Dn=Math.pow(2,17),gn=Math.pow(2,16),sn=Math.pow(2,9),Cr=Math.pow(2,8),Kr=Math.pow(2,1);function Gr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var J=ve.placed?1:0,ge=Math.floor(ve.opacity*127);return ge*Nr+J*mn+ge*Dn+J*gn+ge*sn+J*Cr+ge*Kr+J}var tn=0,Tn=function(J){this._sortAcrossTiles=J.layout.get("symbol-z-order")!=="viewport-y"&&J.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Tn.prototype.continuePlacement=function(J,ge,ee,ye,ze){for(var Ke=this._bucketParts;this._currentTileIndex<J.length;){var ut=J[this._currentTileIndex];if(ge.getBucketParts(Ke,ye,ut,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ke.sort(function(Ut,qt){return Ut.sortKey-qt.sortKey}));this._currentPartIndex<Ke.length;){var Ct=Ke[this._currentPartIndex];if(ge.placeLayerBucketPart(Ct,this._seenCrossTileIDs,ee),this._currentPartIndex++,ze())return!0}return!1};var On=function(J,ge,ee,ye,ze,Ke,ut){this.placement=new Fr(J,ze,Ke,ut),this._currentPlacementIndex=ge.length-1,this._forceFullPlacement=ee,this._showCollisionBoxes=ye,this._done=!1};On.prototype.isDone=function(){return this._done},On.prototype.continuePlacement=function(J,ge,ee){for(var ye=this,ze=a.browser.now(),Ke=function(){var ur=a.browser.now()-ze;return ye._forceFullPlacement?!1:ur>2};this._currentPlacementIndex>=0;){var ut=J[this._currentPlacementIndex],Ct=ge[ut],Ut=this.placement.collisionIndex.transform.zoom;if(Ct.type==="symbol"&&(!Ct.minzoom||Ct.minzoom<=Ut)&&(!Ct.maxzoom||Ct.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new Tn(Ct));var qt=this._inProgressLayer.continuePlacement(ee[Ct.source],this.placement,this._showCollisionBoxes,Ct,Ke);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},On.prototype.commit=function(J){return this.placement.commit(J),this.placement};var Mn=512/a.EXTENT/2,Un=function(J,ge,ee){this.tileID=J,this.indexedSymbolInstances={},this.bucketInstanceId=ee;for(var ye=0;ye<ge.length;ye++){var ze=ge.get(ye),Ke=ze.key;this.indexedSymbolInstances[Ke]||(this.indexedSymbolInstances[Ke]=[]),this.indexedSymbolInstances[Ke].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,J)})}};Un.prototype.getScaledCoordinates=function(J,ge){var ee=ge.canonical.z-this.tileID.canonical.z,ye=Mn/Math.pow(2,ee);return{x:Math.floor((ge.canonical.x*a.EXTENT+J.anchorX)*ye),y:Math.floor((ge.canonical.y*a.EXTENT+J.anchorY)*ye)}},Un.prototype.findMatches=function(J,ge,ee){for(var ye=this.tileID.canonical.z<ge.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ge.canonical.z),ze=0;ze<J.length;ze++){var Ke=J.get(ze);if(!Ke.crossTileID){var ut=this.indexedSymbolInstances[Ke.key];if(ut)for(var Ct=this.getScaledCoordinates(Ke,ge),Ut=0,qt=ut;Ut<qt.length;Ut+=1){var ur=qt[Ut];if(Math.abs(ur.coord.x-Ct.x)<=ye&&Math.abs(ur.coord.y-Ct.y)<=ye&&!ee[ur.crossTileID]){ee[ur.crossTileID]=!0,Ke.crossTileID=ur.crossTileID;break}}}}};var Fn=function(){this.maxCrossTileID=0};Fn.prototype.generate=function(){return++this.maxCrossTileID};var va=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};va.prototype.handleWrapJump=function(J){var ge=Math.round((J-this.lng)/360);if(ge!==0)for(var ee in this.indexes){var ye=this.indexes[ee],ze={};for(var Ke in ye){var ut=ye[Ke];ut.tileID=ut.tileID.unwrapTo(ut.tileID.wrap+ge),ze[ut.tileID.key]=ut}this.indexes[ee]=ze}this.lng=J},va.prototype.addBucket=function(J,ge,ee){if(this.indexes[J.overscaledZ]&&this.indexes[J.overscaledZ][J.key]){if(this.indexes[J.overscaledZ][J.key].bucketInstanceId===ge.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(J.overscaledZ,this.indexes[J.overscaledZ][J.key])}for(var ye=0;ye<ge.symbolInstances.length;ye++){var ze=ge.symbolInstances.get(ye);ze.crossTileID=0}this.usedCrossTileIDs[J.overscaledZ]||(this.usedCrossTileIDs[J.overscaledZ]={});var Ke=this.usedCrossTileIDs[J.overscaledZ];for(var ut in this.indexes){var Ct=this.indexes[ut];if(Number(ut)>J.overscaledZ)for(var Ut in Ct){var qt=Ct[Ut];qt.tileID.isChildOf(J)&&qt.findMatches(ge.symbolInstances,J,Ke)}else{var ur=J.scaledTo(Number(ut)),lr=Ct[ur.key];lr&&lr.findMatches(ge.symbolInstances,J,Ke)}}for(var _r=0;_r<ge.symbolInstances.length;_r++){var Xr=ge.symbolInstances.get(_r);Xr.crossTileID||(Xr.crossTileID=ee.generate(),Ke[Xr.crossTileID]=!0)}return this.indexes[J.overscaledZ]===void 0&&(this.indexes[J.overscaledZ]={}),this.indexes[J.overscaledZ][J.key]=new Un(J,ge.symbolInstances,ge.bucketInstanceId),!0},va.prototype.removeBucketCrossTileIDs=function(J,ge){for(var ee in ge.indexedSymbolInstances)for(var ye=0,ze=ge.indexedSymbolInstances[ee];ye<ze.length;ye+=1){var Ke=ze[ye];delete this.usedCrossTileIDs[J][Ke.crossTileID]}},va.prototype.removeStaleBuckets=function(J){var ge=!1;for(var ee in this.indexes){var ye=this.indexes[ee];for(var ze in ye)J[ye[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(ee,ye[ze]),delete ye[ze],ge=!0)}return ge};var la=function(){this.layerIndexes={},this.crossTileIDs=new Fn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};la.prototype.addLayer=function(J,ge,ee){var ye=this.layerIndexes[J.id];ye===void 0&&(ye=this.layerIndexes[J.id]=new va);var ze=!1,Ke={};ye.handleWrapJump(ee);for(var ut=0,Ct=ge;ut<Ct.length;ut+=1){var Ut=Ct[ut],qt=Ut.getBucket(J);!qt||J.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Ut.tileID,qt,this.crossTileIDs)&&(ze=!0),Ke[qt.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Ke)&&(ze=!0),ze},la.prototype.pruneUnusedLayers=function(J){var ge={};J.forEach(function(ye){ge[ye]=!0});for(var ee in this.layerIndexes)ge[ee]||delete this.layerIndexes[ee]};var ma=function(ve,J){return a.emitValidationErrors(ve,J&&J.filter(function(ge){return ge.identifier!=="source.canvas"}))},Da=a.pick(zt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),bi=a.pick(zt,["setCenter","setZoom","setBearing","setPitch"]),si=rr(),es=function(ve){function J(ge,ee){var ye=this;ee===void 0&&(ee={}),ve.call(this),this.map=ge,this.dispatcher=new _(Ot(),this),this.imageManager=new A,this.imageManager.setEventedParent(this),this.glyphManager=new L(ge._requestManager,ee.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new la,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var ze=this;this._rtlTextPluginCallback=J.registerForPluginStateChange(function(Ke){var ut={pluginStatus:Ke.pluginStatus,pluginURL:Ke.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",ut,function(Ct,Ut){if(a.triggerPluginCompletionEvent(Ct),Ut){var qt=Ut.every(function(lr){return lr});if(qt)for(var ur in ze.sourceCaches)ze.sourceCaches[ur].reload()}})}),this.on("data",function(Ke){if(!(Ke.dataType!=="source"||Ke.sourceDataType!=="metadata")){var ut=ye.sourceCaches[Ke.sourceId];if(ut){var Ct=ut.getSource();if(!(!Ct||!Ct.vectorLayerIds))for(var Ut in ye._layers){var qt=ye._layers[Ut];qt.source===Ct.id&&ye._validateLayer(qt)}}}})}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.loadURL=function(ee,ye){var ze=this;ye===void 0&&(ye={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Ke=typeof ye.validate=="boolean"?ye.validate:!a.isMapboxURL(ee);ee=this.map._requestManager.normalizeStyleURL(ee,ye.accessToken);var ut=this.map._requestManager.transformRequest(ee,a.ResourceType.Style);this._request=a.getJSON(ut,function(Ct,Ut){ze._request=null,Ct?ze.fire(new a.ErrorEvent(Ct)):Ut&&ze._load(Ut,Ke)})},J.prototype.loadJSON=function(ee,ye){var ze=this;ye===void 0&&(ye={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){ze._request=null,ze._load(ee,ye.validate!==!1)})},J.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(si,!1)},J.prototype._load=function(ee,ye){if(!(ye&&ma(this,a.validateStyle(ee)))){this._loaded=!0,this.stylesheet=ee;for(var ze in ee.sources)this.addSource(ze,ee.sources[ze],{validate:!1});ee.sprite?this._loadSprite(ee.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ee.glyphs);var Ke=or(this.stylesheet.layers);this._order=Ke.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ut=0,Ct=Ke;ut<Ct.length;ut+=1){var Ut=Ct[ut];Ut=a.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},J.prototype._loadSprite=function(ee){var ye=this;this._spriteRequest=l(ee,this.map._requestManager,function(ze,Ke){if(ye._spriteRequest=null,ze)ye.fire(new a.ErrorEvent(ze));else if(Ke)for(var ut in Ke)ye.imageManager.addImage(ut,Ke[ut]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new a.Event("data",{dataType:"style"}))})},J.prototype._validateLayer=function(ee){var ye=this.sourceCaches[ee.source];if(ye){var ze=ee.sourceLayer;if(ze){var Ke=ye.getSource();(Ke.type==="geojson"||Ke.vectorLayerIds&&Ke.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+Ke.id+'" as specified by style layer "'+ee.id+'"')))}}},J.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ee in this.sourceCaches)if(!this.sourceCaches[ee].loaded())return!1;return!!this.imageManager.isLoaded()},J.prototype._serializeLayers=function(ee){for(var ye=[],ze=0,Ke=ee;ze<Ke.length;ze+=1){var ut=Ke[ze],Ct=this._layers[ut];Ct.type!=="custom"&&ye.push(Ct.serialize())}return ye},J.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ee in this.sourceCaches)if(this.sourceCaches[ee].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},J.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},J.prototype.update=function(ee){if(this._loaded){var ye=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),Ke=Object.keys(this._removedLayers);(ze.length||Ke.length)&&this._updateWorkerLayers(ze,Ke);for(var ut in this._updatedSources){var Ct=this._updatedSources[ut];Ct==="reload"?this._reloadSource(ut):Ct==="clear"&&this._clearSource(ut)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(ee);this.light.updateTransitions(ee),this._resetUpdates()}var qt={};for(var ur in this.sourceCaches){var lr=this.sourceCaches[ur];qt[ur]=lr.used,lr.used=!1}for(var _r=0,Xr=this._order;_r<Xr.length;_r+=1){var Yr=Xr[_r],Wr=this._layers[Yr];Wr.recalculate(ee,this._availableImages),!Wr.isHidden(ee.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}for(var qr in qt){var fn=this.sourceCaches[qr];qt[qr]!==fn.used&&fn.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:qr}))}this.light.recalculate(ee),this.z=ee.zoom,ye&&this.fire(new a.Event("data",{dataType:"style"}))}},J.prototype._updateTilesForChangedImages=function(){var ee=Object.keys(this._changedImages);if(ee.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],ee);this._changedImages={}}},J.prototype._updateWorkerLayers=function(ee,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ee),removedIds:ye})},J.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},J.prototype.setState=function(ee){var ye=this;if(this._checkLoaded(),ma(this,a.validateStyle(ee)))return!1;ee=a.clone$1(ee),ee.layers=or(ee.layers);var ze=An(this.serialize(),ee).filter(function(ut){return!(ut.command in bi)});if(ze.length===0)return!1;var Ke=ze.filter(function(ut){return!(ut.command in Da)});if(Ke.length>0)throw new Error("Unimplemented: "+Ke.map(function(ut){return ut.command}).join(", ")+".");return ze.forEach(function(ut){ut.command!=="setTransition"&&ye[ut.command].apply(ye,ut.args)}),this.stylesheet=ee,!0},J.prototype.addImage=function(ee,ye){if(this.getImage(ee))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ee,ye),this._afterImageUpdated(ee)},J.prototype.updateImage=function(ee,ye){this.imageManager.updateImage(ee,ye)},J.prototype.getImage=function(ee){return this.imageManager.getImage(ee)},J.prototype.removeImage=function(ee){if(!this.getImage(ee))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ee),this._afterImageUpdated(ee)},J.prototype._afterImageUpdated=function(ee){this._availableImages=this.imageManager.listImages(),this._changedImages[ee]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},J.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},J.prototype.addSource=function(ee,ye,ze){var Ke=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[ee]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ye).join(", ")+".");var ut=["vector","raster","geojson","video","image"],Ct=ut.indexOf(ye.type)>=0;if(!(Ct&&this._validate(a.validateStyle.source,"sources."+ee,ye,null,ze))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Ut=this.sourceCaches[ee]=new Bt(ee,ye,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:Ke.loaded(),source:Ut.serialize(),sourceId:ee}}),Ut.onAdd(this.map),this._changed=!0}},J.prototype.removeSource=function(ee){if(this._checkLoaded(),this.sourceCaches[ee]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===ee)return this.fire(new a.ErrorEvent(new Error('Source "'+ee+'" cannot be removed while layer "'+ye+'" is using it.')));var ze=this.sourceCaches[ee];delete this.sourceCaches[ee],delete this._updatedSources[ee],ze.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ee})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},J.prototype.setGeoJSONSourceData=function(ee,ye){this._checkLoaded();var ze=this.sourceCaches[ee].getSource();ze.setData(ye),this._changed=!0},J.prototype.getSource=function(ee){return this.sourceCaches[ee]&&this.sourceCaches[ee].getSource()},J.prototype.addLayer=function(ee,ye,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=ee.id;if(this.getLayer(Ke)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Ke+'" already exists on this map')));return}var ut;if(ee.type==="custom"){if(ma(this,a.validateCustomStyleLayer(ee)))return;ut=a.createStyleLayer(ee)}else{if(typeof ee.source=="object"&&(this.addSource(Ke,ee.source),ee=a.clone$1(ee),ee=a.extend(ee,{source:Ke})),this._validate(a.validateStyle.layer,"layers."+Ke,ee,{arrayIndex:-1},ze))return;ut=a.createStyleLayer(ee),this._validateLayer(ut),ut.setEventedParent(this,{layer:{id:Ke}}),this._serializedLayers[ut.id]=ut.serialize()}var Ct=ye?this._order.indexOf(ye):this._order.length;if(ye&&Ct===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(Ct,0,Ke),this._layerOrderChanged=!0,this._layers[Ke]=ut,this._removedLayers[Ke]&&ut.source&&ut.type!=="custom"){var Ut=this._removedLayers[Ke];delete this._removedLayers[Ke],Ut.type!==ut.type?this._updatedSources[ut.source]="clear":(this._updatedSources[ut.source]="reload",this.sourceCaches[ut.source].pause())}this._updateLayer(ut),ut.onAdd&&ut.onAdd(this.map)},J.prototype.moveLayer=function(ee,ye){this._checkLoaded(),this._changed=!0;var ze=this._layers[ee];if(!ze){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be moved.")));return}if(ee!==ye){var Ke=this._order.indexOf(ee);this._order.splice(Ke,1);var ut=ye?this._order.indexOf(ye):this._order.length;if(ye&&ut===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(ut,0,ee),this._layerOrderChanged=!0}},J.prototype.removeLayer=function(ee){this._checkLoaded();var ye=this._layers[ee];if(!ye){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var ze=this._order.indexOf(ee);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ee]=ye,delete this._layers[ee],delete this._serializedLayers[ee],delete this._updatedLayers[ee],delete this._updatedPaintProps[ee],ye.onRemove&&ye.onRemove(this.map)},J.prototype.getLayer=function(ee){return this._layers[ee]},J.prototype.hasLayer=function(ee){return ee in this._layers},J.prototype.setLayerZoomRange=function(ee,ye,ze){this._checkLoaded();var Ke=this.getLayer(ee);if(!Ke){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot have zoom extent.")));return}Ke.minzoom===ye&&Ke.maxzoom===ze||(ye!=null&&(Ke.minzoom=ye),ze!=null&&(Ke.maxzoom=ze),this._updateLayer(Ke))},J.prototype.setFilter=function(ee,ye,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=this.getLayer(ee);if(!Ke){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Ke.filter,ye)){if(ye==null){Ke.filter=void 0,this._updateLayer(Ke);return}this._validate(a.validateStyle.filter,"layers."+Ke.id+".filter",ye,null,ze)||(Ke.filter=a.clone$1(ye),this._updateLayer(Ke))}},J.prototype.getFilter=function(ee){return a.clone$1(this.getLayer(ee).filter)},J.prototype.setLayoutProperty=function(ee,ye,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ut=this.getLayer(ee);if(!ut){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(ut.getLayoutProperty(ye),ze)||(ut.setLayoutProperty(ye,ze,Ke),this._updateLayer(ut))},J.prototype.getLayoutProperty=function(ee,ye){var ze=this.getLayer(ee);if(!ze){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(ye)},J.prototype.setPaintProperty=function(ee,ye,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ut=this.getLayer(ee);if(!ut){this.fire(new a.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(ut.getPaintProperty(ye),ze)){var Ct=ut.setPaintProperty(ye,ze,Ke);Ct&&this._updateLayer(ut),this._changed=!0,this._updatedPaintProps[ee]=!0}},J.prototype.getPaintProperty=function(ee,ye){return this.getLayer(ee).getPaintProperty(ye)},J.prototype.setFeatureState=function(ee,ye){this._checkLoaded();var ze=ee.source,Ke=ee.sourceLayer,ut=this.sourceCaches[ze];if(ut===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var Ct=ut.getSource().type;if(Ct==="geojson"&&Ke){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Ct==="vector"&&!Ke){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ee.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ut.setFeatureState(Ke,ee.id,ye)},J.prototype.removeFeatureState=function(ee,ye){this._checkLoaded();var ze=ee.source,Ke=this.sourceCaches[ze];if(Ke===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var ut=Ke.getSource().type,Ct=ut==="vector"?ee.sourceLayer:void 0;if(ut==="vector"&&!Ct){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof ee.id!="string"&&typeof ee.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Ke.removeFeatureState(Ct,ee.id,ye)},J.prototype.getFeatureState=function(ee){this._checkLoaded();var ye=ee.source,ze=ee.sourceLayer,Ke=this.sourceCaches[ye];if(Ke===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var ut=Ke.getSource().type;if(ut==="vector"&&!ze){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ee.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Ke.getFeatureState(ze,ee.id)},J.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},J.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(ee){return ee.serialize()}),layers:this._serializeLayers(this._order)},function(ee){return ee!==void 0})},J.prototype._updateLayer=function(ee){this._updatedLayers[ee.id]=!0,ee.source&&!this._updatedSources[ee.source]&&this.sourceCaches[ee.source].getSource().type!=="raster"&&(this._updatedSources[ee.source]="reload",this.sourceCaches[ee.source].pause()),this._changed=!0},J.prototype._flattenAndSortRenderedFeatures=function(ee){for(var ye=this,ze=function(Na){return ye._layers[Na].type==="fill-extrusion"},Ke={},ut=[],Ct=this._order.length-1;Ct>=0;Ct--){var Ut=this._order[Ct];if(ze(Ut)){Ke[Ut]=Ct;for(var qt=0,ur=ee;qt<ur.length;qt+=1){var lr=ur[qt],_r=lr[Ut];if(_r)for(var Xr=0,Yr=_r;Xr<Yr.length;Xr+=1){var Wr=Yr[Xr];ut.push(Wr)}}}}ut.sort(function(Na,ri){return ri.intersectionZ-Na.intersectionZ});for(var qr=[],fn=this._order.length-1;fn>=0;fn--){var kn=this._order[fn];if(ze(kn))for(var Nn=ut.length-1;Nn>=0;Nn--){var Xn=ut[Nn].feature;if(Ke[Xn.layer.id]<fn)break;qr.push(Xn),ut.pop()}else for(var Zn=0,jn=ee;Zn<jn.length;Zn+=1){var Jn=jn[Zn],aa=Jn[kn];if(aa)for(var fa=0,wa=aa;fa<wa.length;fa+=1){var ga=wa[fa];qr.push(ga.feature)}}}return qr},J.prototype.queryRenderedFeatures=function(ee,ye,ze){ye&&ye.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Ke={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ut=0,Ct=ye.layers;ut<Ct.length;ut+=1){var Ut=Ct[ut],qt=this._layers[Ut];if(!qt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];Ke[qt.source]=!0}}var ur=[];ye.availableImages=this._availableImages;for(var lr in this.sourceCaches)ye.layers&&!Ke[lr]||ur.push(K(this.sourceCaches[lr],this._layers,this._serializedLayers,ee,ye,ze));return this.placement&&ur.push($(this._layers,this._serializedLayers,this.sourceCaches,ee,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ur)},J.prototype.querySourceFeatures=function(ee,ye){ye&&ye.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var ze=this.sourceCaches[ee];return ze?le(ze,ye):[]},J.prototype.addSourceType=function(ee,ye,ze){if(J.getSourceType(ee))return ze(new Error('A source type called "'+ee+'" already exists.'));if(J.setSourceType(ee,ye),!ye.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ee,url:ye.workerSourceURL},ze)},J.prototype.getLight=function(){return this.light.getLight()},J.prototype.setLight=function(ee,ye){ye===void 0&&(ye={}),this._checkLoaded();var ze=this.light.getLight(),Ke=!1;for(var ut in ee)if(!a.deepEqual(ee[ut],ze[ut])){Ke=!0;break}if(Ke){var Ct={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ee,ye),this.light.updateTransitions(Ct)}},J.prototype._validate=function(ee,ye,ze,Ke,ut){return ut===void 0&&(ut={}),ut&&ut.validate===!1?!1:ma(this,ee.call(a.validateStyle,a.extend({key:ye,style:this.serialize(),value:ze,styleSpec:a.styleSpec},Ke)))},J.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ee in this._layers){var ye=this._layers[ee];ye.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},J.prototype._clearSource=function(ee){this.sourceCaches[ee].clearTiles()},J.prototype._reloadSource=function(ee){this.sourceCaches[ee].resume(),this.sourceCaches[ee].reload()},J.prototype._updateSources=function(ee){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(ee)},J.prototype._generateCollisionBoxes=function(){for(var ee in this.sourceCaches)this._reloadSource(ee)},J.prototype._updatePlacement=function(ee,ye,ze,Ke,ut){ut===void 0&&(ut=!1);for(var Ct=!1,Ut=!1,qt={},ur=0,lr=this._order;ur<lr.length;ur+=1){var _r=lr[ur],Xr=this._layers[_r];if(Xr.type==="symbol"){if(!qt[Xr.source]){var Yr=this.sourceCaches[Xr.source];qt[Xr.source]=Yr.getRenderableIds(!0).map(function(Zn){return Yr.getTileByID(Zn)}).sort(function(Zn,jn){return jn.tileID.overscaledZ-Zn.tileID.overscaledZ||(Zn.tileID.isLessThan(jn.tileID)?-1:1)})}var Wr=this.crossTileSymbolIndex.addLayer(Xr,qt[Xr.source],ee.center.lng);Ct=Ct||Wr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ut=ut||this._layerOrderChanged||ze===0,(ut||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),ee.zoom))&&(this.pauseablePlacement=new On(ee,this._order,ut,ye,ze,Ke,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Ut=!0),Ct&&this.pauseablePlacement.placement.setStale()),Ut||Ct)for(var qr=0,fn=this._order;qr<fn.length;qr+=1){var kn=fn[qr],Nn=this._layers[kn];Nn.type==="symbol"&&this.placement.updateLayerOpacities(Nn,qt[Nn.source])}var Xn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return Xn},J.prototype._releaseSymbolFadeTiles=function(){for(var ee in this.sourceCaches)this.sourceCaches[ee].releaseSymbolFadeTiles()},J.prototype.getImages=function(ee,ye,ze){this.imageManager.getImages(ye.icons,ze),this._updateTilesForChangedImages();var Ke=this.sourceCaches[ye.source];Ke&&Ke.setDependencies(ye.tileID.key,ye.type,ye.icons)},J.prototype.getGlyphs=function(ee,ye,ze){this.glyphManager.getGlyphs(ye.stacks,ze)},J.prototype.getResource=function(ee,ye,ze){return a.makeRequest(ye,ze)},J}(a.Evented);es.getSourceType=re,es.setSourceType=Y,es.registerForPluginStateChange=a.registerForPluginStateChange;var Wo=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),po=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,ql=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,qf=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hc="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ai=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Nu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",ec=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,so=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Oo="void main() {gl_FragColor=vec4(1.0);}",eu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",wf=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wi=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,tu=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Zi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",eo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",ru="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",go="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",yo="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",ts="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Gc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",jo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$h=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,ks=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,tc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ul=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,_s=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Wc=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Tf=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,ev=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tv="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",nc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rv="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",nv=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Yc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,nu=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Uu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Xc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Zs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,av="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Af=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zc=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Kc=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Sf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,ps=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,au=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Dl=wi(po,ql),Vu=wi(qf,Hc),fl=wi(ai,Nu),Os=wi(ec,so),ac=wi(Oo,eu),iu=wi(wf,Wi),gs=wi(tu,Zi),Fi=wi(eo,ru),ic=wi(go,yo),iv=wi(ts,Gc),Mf=wi(jo,$h),ou=wi(ks,lo),su=wi(tc,ul),Yo=wi(_s,rc),Ef=wi(Wc,Qh),lu=wi(Tf,qh),Cf=wi(ev,tv),ov=wi(nc,rv),Jc=wi(nv,jc),oc=wi(Yc,Rl),sc=wi(nu,Bu),lc=wi(Uu,Xc),uu=wi(Zs,av),Lf=wi(Af,Zc),Hu=wi(Kc,Sf),Pf=wi(ps,au);function wi(ve,J){var ge=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ee=J.match(/attribute ([\w]+) ([\w]+)/g),ye=ve.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ze=J.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ke=ze?ze.concat(ye):ye,ut={};return ve=ve.replace(ge,function(Ct,Ut,qt,ur,lr){return ut[lr]=!0,Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
varying `+qt+" "+ur+" "+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),J=J.replace(ge,function(Ct,Ut,qt,ur,lr){var _r=ur==="float"?"vec2":"vec4",Xr=lr.match(/color/)?"color":_r;return ut[lr]?Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+qt+" "+_r+" a_"+lr+`;
varying `+qt+" "+ur+" "+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = a_"+lr+`;
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+lr+" = unpack_mix_"+Xr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+lr+`
uniform lowp float u_`+lr+`_t;
attribute `+qt+" "+_r+" a_"+lr+`;
#else
uniform `+qt+" "+ur+" u_"+lr+`;
#endif
`:Xr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = a_"+lr+`;
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+lr+`
    `+qt+" "+ur+" "+lr+" = unpack_mix_"+Xr+"(a_"+lr+", u_"+lr+`_t);
#else
    `+qt+" "+ur+" "+lr+" = u_"+lr+`;
#endif
`}),{fragmentSource:ve,vertexSource:J,staticAttributes:ee,staticUniforms:Ke}}var $c=Object.freeze({__proto__:null,prelude:Dl,background:Vu,backgroundPattern:fl,circle:Os,clippingMask:ac,heatmap:iu,heatmapTexture:gs,collisionBox:Fi,collisionCircle:ic,debug:iv,fill:Mf,fillOutline:ou,fillOutlinePattern:su,fillPattern:Yo,fillExtrusion:Ef,fillExtrusionPattern:lu,hillshadePrepare:Cf,hillshade:ov,line:Jc,lineGradient:oc,linePattern:sc,lineSDF:lc,raster:uu,symbolIcon:Lf,symbolSDF:Hu,symbolTextAndIcon:Pf}),ys=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ys.prototype.bind=function(J,ge,ee,ye,ze,Ke,ut,Ct){this.context=J;for(var Ut=this.boundPaintVertexBuffers.length!==ye.length,qt=0;!Ut&&qt<ye.length;qt++)this.boundPaintVertexBuffers[qt]!==ye[qt]&&(Ut=!0);var ur=!this.vao||this.boundProgram!==ge||this.boundLayoutVertexBuffer!==ee||Ut||this.boundIndexBuffer!==ze||this.boundVertexOffset!==Ke||this.boundDynamicVertexBuffer!==ut||this.boundDynamicVertexBuffer2!==Ct;!J.extVertexArrayObject||ur?this.freshBind(ge,ee,ye,ze,Ke,ut,Ct):(J.bindVertexArrayOES.set(this.vao),ut&&ut.bind(),ze&&ze.dynamicDraw&&ze.bind(),Ct&&Ct.bind())},ys.prototype.freshBind=function(J,ge,ee,ye,ze,Ke,ut){var Ct,Ut=J.numAttributes,qt=this.context,ur=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),Ct=0,this.boundProgram=J,this.boundLayoutVertexBuffer=ge,this.boundPaintVertexBuffers=ee,this.boundIndexBuffer=ye,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=Ke,this.boundDynamicVertexBuffer2=ut;else{Ct=qt.currentNumAttributes||0;for(var lr=Ut;lr<Ct;lr++)ur.disableVertexAttribArray(lr)}ge.enableAttributes(ur,J);for(var _r=0,Xr=ee;_r<Xr.length;_r+=1){var Yr=Xr[_r];Yr.enableAttributes(ur,J)}Ke&&Ke.enableAttributes(ur,J),ut&&ut.enableAttributes(ur,J),ge.bind(),ge.setVertexAttribPointers(ur,J,ze);for(var Wr=0,qr=ee;Wr<qr.length;Wr+=1){var fn=qr[Wr];fn.bind(),fn.setVertexAttribPointers(ur,J,ze)}Ke&&(Ke.bind(),Ke.setVertexAttribPointers(ur,J,ze)),ye&&ye.bind(),ut&&(ut.bind(),ut.setVertexAttribPointers(ur,J,ze)),qt.currentNumAttributes=Ut},ys.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function Qc(ve){for(var J=[],ge=0;ge<ve.length;ge++)if(ve[ge]!==null){var ee=ve[ge].split(" ");J.push(ee.pop())}return J}var uc=function(J,ge,ee,ye,ze,Ke){var ut=J.gl;this.program=ut.createProgram();for(var Ct=Qc(ee.staticAttributes),Ut=ye?ye.getBinderAttributes():[],qt=Ct.concat(Ut),ur=ee.staticUniforms?Qc(ee.staticUniforms):[],lr=ye?ye.getBinderUniforms():[],_r=ur.concat(lr),Xr=[],Yr=0,Wr=_r;Yr<Wr.length;Yr+=1){var qr=Wr[Yr];Xr.indexOf(qr)<0&&Xr.push(qr)}var fn=ye?ye.defines():[];Ke&&fn.push("#define OVERDRAW_INSPECTOR;");var kn=fn.concat(Dl.fragmentSource,ee.fragmentSource).join(`
`),Nn=fn.concat(Dl.vertexSource,ee.vertexSource).join(`
`),Xn=ut.createShader(ut.FRAGMENT_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Xn,kn),ut.compileShader(Xn),ut.attachShader(this.program,Xn);var Zn=ut.createShader(ut.VERTEX_SHADER);if(ut.isContextLost()){this.failedToCreate=!0;return}ut.shaderSource(Zn,Nn),ut.compileShader(Zn),ut.attachShader(this.program,Zn),this.attributes={};var jn={};this.numAttributes=qt.length;for(var Jn=0;Jn<this.numAttributes;Jn++)qt[Jn]&&(ut.bindAttribLocation(this.program,Jn,qt[Jn]),this.attributes[qt[Jn]]=Jn);ut.linkProgram(this.program),ut.deleteShader(Zn),ut.deleteShader(Xn);for(var aa=0;aa<Xr.length;aa++){var fa=Xr[aa];if(fa&&!jn[fa]){var wa=ut.getUniformLocation(this.program,fa);wa&&(jn[fa]=wa)}}this.fixedUniforms=ze(J,jn),this.binderUniforms=ye?ye.getUniforms(J,jn):[]};uc.prototype.draw=function(J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt,ur,lr,_r,Xr,Yr,Wr){var qr,fn=J.gl;if(!this.failedToCreate){J.program.set(this.program),J.setDepthMode(ee),J.setStencilMode(ye),J.setColorMode(ze),J.setCullFace(Ke);for(var kn in this.fixedUniforms)this.fixedUniforms[kn].set(ut[kn]);Xr&&Xr.setUniforms(J,this.binderUniforms,lr,{zoom:_r});for(var Nn=(qr={},qr[fn.LINES]=2,qr[fn.TRIANGLES]=3,qr[fn.LINE_STRIP]=1,qr)[ge],Xn=0,Zn=ur.get();Xn<Zn.length;Xn+=1){var jn=Zn[Xn],Jn=jn.vaos||(jn.vaos={}),aa=Jn[Ct]||(Jn[Ct]=new ys);aa.bind(J,this,Ut,Xr?Xr.getPaintVertexBuffers():[],qt,jn.vertexOffset,Yr,Wr),fn.drawElements(ge,jn.primitiveLength*Nn,fn.UNSIGNED_SHORT,jn.primitiveOffset*Nn*2)}}};function Il(ve,J,ge){var ee=1/vn(ge,1,J.transform.tileZoom),ye=Math.pow(2,ge.tileID.overscaledZ),ze=ge.tileSize*Math.pow(2,J.transform.tileZoom)/ye,Ke=ze*(ge.tileID.canonical.x+ge.tileID.wrap*ye),ut=ze*ge.tileID.canonical.y;return{u_image:0,u_texsize:ge.imageAtlasTexture.size,u_scale:[ee,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Ke>>16,ut>>16],u_pixel_coord_lower:[Ke&65535,ut&65535]}}function cl(ve,J,ge,ee){var ye=ge.imageManager.getPattern(ve.from.toString()),ze=ge.imageManager.getPattern(ve.to.toString()),Ke=ge.imageManager.getPixelSize(),ut=Ke.width,Ct=Ke.height,Ut=Math.pow(2,ee.tileID.overscaledZ),qt=ee.tileSize*Math.pow(2,ge.transform.tileZoom)/Ut,ur=qt*(ee.tileID.canonical.x+ee.tileID.wrap*Ut),lr=qt*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[ut,Ct],u_mix:J.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:J.fromScale,u_scale_b:J.toScale,u_tile_units_to_pixels:1/vn(ee,1,ge.transform.tileZoom),u_pixel_coord_upper:[ur>>16,lr>>16],u_pixel_coord_lower:[ur&65535,lr&65535]}}var Rf=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_lightpos:new a.Uniform3f(ve,J.u_lightpos),u_lightintensity:new a.Uniform1f(ve,J.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,J.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,J.u_vertical_gradient),u_opacity:new a.Uniform1f(ve,J.u_opacity)}},ji=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_lightpos:new a.Uniform3f(ve,J.u_lightpos),u_lightintensity:new a.Uniform1f(ve,J.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,J.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,J.u_vertical_gradient),u_height_factor:new a.Uniform1f(ve,J.u_height_factor),u_image:new a.Uniform1i(ve,J.u_image),u_texsize:new a.Uniform2f(ve,J.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,J.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,J.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,J.u_scale),u_fade:new a.Uniform1f(ve,J.u_fade),u_opacity:new a.Uniform1f(ve,J.u_opacity)}},Gu=function(ve,J,ge,ee){var ye=J.style.light,ze=ye.properties.get("position"),Ke=[ze.x,ze.y,ze.z],ut=a.create$1();ye.properties.get("anchor")==="viewport"&&a.fromRotation(ut,-J.transform.angle),a.transformMat3(Ke,Ke,ut);var Ct=ye.properties.get("color");return{u_matrix:ve,u_lightpos:Ke,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[Ct.r,Ct.g,Ct.b],u_vertical_gradient:+ge,u_opacity:ee}},ms=function(ve,J,ge,ee,ye,ze,Ke){return a.extend(Gu(ve,J,ge,ee),Il(ze,J,Ke),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Ke.tileSize/8})},Ks=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix)}},kl=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_image:new a.Uniform1i(ve,J.u_image),u_texsize:new a.Uniform2f(ve,J.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,J.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,J.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,J.u_scale),u_fade:new a.Uniform1f(ve,J.u_fade)}},hl=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_world:new a.Uniform2f(ve,J.u_world)}},xs=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_world:new a.Uniform2f(ve,J.u_world),u_image:new a.Uniform1i(ve,J.u_image),u_texsize:new a.Uniform2f(ve,J.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,J.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,J.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,J.u_scale),u_fade:new a.Uniform1f(ve,J.u_fade)}},Js=function(ve){return{u_matrix:ve}},bs=function(ve,J,ge,ee){return a.extend(Js(ve),Il(ge,J,ee))},os=function(ve,J){return{u_matrix:ve,u_world:J}},Wu=function(ve,J,ge,ee,ye){return a.extend(bs(ve,J,ge,ee),{u_world:ye})},sv=function(ve,J){return{u_camera_to_center_distance:new a.Uniform1f(ve,J.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(ve,J.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(ve,J.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(ve,J.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(ve,J.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(ve,J.u_matrix)}},lv=function(ve,J,ge,ee){var ye=ve.transform,ze,Ke;if(ee.paint.get("circle-pitch-alignment")==="map"){var ut=vn(ge,1,ye.zoom);ze=!0,Ke=[ut,ut]}else ze=!1,Ke=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(ee.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(J.posMatrix,ge,ee.paint.get("circle-translate"),ee.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Ke}},uv=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,J.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(ve,J.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(ve,J.u_extrude_scale),u_overscale_factor:new a.Uniform1f(ve,J.u_overscale_factor)}},fv=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_inv_matrix:new a.UniformMatrix4f(ve,J.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,J.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(ve,J.u_viewport_size)}},fc=function(ve,J,ge){var ee=vn(ge,1,J.zoom),ye=Math.pow(2,J.zoom-ge.tileID.overscaledZ),ze=ge.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:J.cameraToCenterDistance,u_pixels_to_tile_units:ee,u_extrude_scale:[J.pixelsToGLUnits[0]/(ee*ye),J.pixelsToGLUnits[1]/(ee*ye)],u_overscale_factor:ze}},qc=function(ve,J,ge){return{u_matrix:ve,u_inv_matrix:J,u_camera_to_center_distance:ge.cameraToCenterDistance,u_viewport_size:[ge.width,ge.height]}},fu=function(ve,J){return{u_color:new a.UniformColor(ve,J.u_color),u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_overlay:new a.Uniform1i(ve,J.u_overlay),u_overlay_scale:new a.Uniform1f(ve,J.u_overlay_scale)}},uo=function(ve,J,ge){return ge===void 0&&(ge=1),{u_matrix:ve,u_color:J,u_overlay:0,u_overlay_scale:ge}},rs=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix)}},cu=function(ve){return{u_matrix:ve}},eh=function(ve,J){return{u_extrude_scale:new a.Uniform1f(ve,J.u_extrude_scale),u_intensity:new a.Uniform1f(ve,J.u_intensity),u_matrix:new a.UniformMatrix4f(ve,J.u_matrix)}},ju=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_world:new a.Uniform2f(ve,J.u_world),u_image:new a.Uniform1i(ve,J.u_image),u_color_ramp:new a.Uniform1i(ve,J.u_color_ramp),u_opacity:new a.Uniform1f(ve,J.u_opacity)}},$s=function(ve,J,ge,ee){return{u_matrix:ve,u_extrude_scale:vn(J,1,ge),u_intensity:ee}},cv=function(ve,J,ge,ee){var ye=a.create();a.ortho(ye,0,ve.width,ve.height,0,0,1);var ze=ve.context.gl;return{u_matrix:ye,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:ge,u_color_ramp:ee,u_opacity:J.paint.get("heatmap-opacity")}},th=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_image:new a.Uniform1i(ve,J.u_image),u_latrange:new a.Uniform2f(ve,J.u_latrange),u_light:new a.Uniform2f(ve,J.u_light),u_shadow:new a.UniformColor(ve,J.u_shadow),u_highlight:new a.UniformColor(ve,J.u_highlight),u_accent:new a.UniformColor(ve,J.u_accent)}},rh=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_image:new a.Uniform1i(ve,J.u_image),u_dimension:new a.Uniform2f(ve,J.u_dimension),u_zoom:new a.Uniform1f(ve,J.u_zoom),u_unpack:new a.Uniform4f(ve,J.u_unpack)}},cc=function(ve,J,ge){var ee=ge.paint.get("hillshade-shadow-color"),ye=ge.paint.get("hillshade-highlight-color"),ze=ge.paint.get("hillshade-accent-color"),Ke=ge.paint.get("hillshade-illumination-direction")*(Math.PI/180);ge.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ke-=ve.transform.angle);var ut=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(J.tileID.toUnwrapped(),ut),u_image:0,u_latrange:zo(ve,J.tileID),u_light:[ge.paint.get("hillshade-exaggeration"),Ke],u_shadow:ee,u_highlight:ye,u_accent:ze}},nh=function(ve,J){var ge=J.stride,ee=a.create();return a.ortho(ee,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(ee,ee,[0,-a.EXTENT,0]),{u_matrix:ee,u_image:1,u_dimension:[ge,ge],u_zoom:ve.overscaledZ,u_unpack:J.getUnpackVector()}};function zo(ve,J){var ge=Math.pow(2,J.canonical.z),ee=J.canonical.y;return[new a.MercatorCoordinate(0,ee/ge).toLngLat().lat,new a.MercatorCoordinate(0,(ee+1)/ge).toLngLat().lat]}var ws=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_ratio:new a.Uniform1f(ve,J.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,J.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,J.u_units_to_pixels)}},vl=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_ratio:new a.Uniform1f(ve,J.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,J.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,J.u_units_to_pixels),u_image:new a.Uniform1i(ve,J.u_image),u_image_height:new a.Uniform1f(ve,J.u_image_height)}},hu=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_texsize:new a.Uniform2f(ve,J.u_texsize),u_ratio:new a.Uniform1f(ve,J.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,J.u_device_pixel_ratio),u_image:new a.Uniform1i(ve,J.u_image),u_units_to_pixels:new a.Uniform2f(ve,J.u_units_to_pixels),u_scale:new a.Uniform3f(ve,J.u_scale),u_fade:new a.Uniform1f(ve,J.u_fade)}},Df=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_ratio:new a.Uniform1f(ve,J.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,J.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,J.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(ve,J.u_patternscale_a),u_patternscale_b:new a.Uniform2f(ve,J.u_patternscale_b),u_sdfgamma:new a.Uniform1f(ve,J.u_sdfgamma),u_image:new a.Uniform1i(ve,J.u_image),u_tex_y_a:new a.Uniform1f(ve,J.u_tex_y_a),u_tex_y_b:new a.Uniform1f(ve,J.u_tex_y_b),u_mix:new a.Uniform1f(ve,J.u_mix)}},_l=function(ve,J,ge){var ee=ve.transform;return{u_matrix:dl(ve,J,ge),u_ratio:1/vn(J,1,ee.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/ee.pixelsToGLUnits[0],1/ee.pixelsToGLUnits[1]]}},Ol=function(ve,J,ge,ee){return a.extend(_l(ve,J,ge),{u_image:0,u_image_height:ee})},ah=function(ve,J,ge,ee){var ye=ve.transform,ze=vu(J,ye);return{u_matrix:dl(ve,J,ge),u_texsize:J.imageAtlasTexture.size,u_ratio:1/vn(J,1,ye.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[ze,ee.fromScale,ee.toScale],u_fade:ee.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},Qs=function(ve,J,ge,ee,ye){var ze=ve.transform,Ke=ve.lineAtlas,ut=vu(J,ze),Ct=ge.layout.get("line-cap")==="round",Ut=Ke.getDash(ee.from,Ct),qt=Ke.getDash(ee.to,Ct),ur=Ut.width*ye.fromScale,lr=qt.width*ye.toScale;return a.extend(_l(ve,J,ge),{u_patternscale_a:[ut/ur,-Ut.height/2],u_patternscale_b:[ut/lr,-qt.height/2],u_sdfgamma:Ke.width/(Math.min(ur,lr)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:qt.y,u_mix:ye.t})};function vu(ve,J){return 1/vn(ve,1,J.tileZoom)}function dl(ve,J,ge){return ve.translatePosMatrix(J.tileID.posMatrix,J,ge.paint.get("line-translate"),ge.paint.get("line-translate-anchor"))}var qs=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_tl_parent:new a.Uniform2f(ve,J.u_tl_parent),u_scale_parent:new a.Uniform1f(ve,J.u_scale_parent),u_buffer_scale:new a.Uniform1f(ve,J.u_buffer_scale),u_fade_t:new a.Uniform1f(ve,J.u_fade_t),u_opacity:new a.Uniform1f(ve,J.u_opacity),u_image0:new a.Uniform1i(ve,J.u_image0),u_image1:new a.Uniform1i(ve,J.u_image1),u_brightness_low:new a.Uniform1f(ve,J.u_brightness_low),u_brightness_high:new a.Uniform1f(ve,J.u_brightness_high),u_saturation_factor:new a.Uniform1f(ve,J.u_saturation_factor),u_contrast_factor:new a.Uniform1f(ve,J.u_contrast_factor),u_spin_weights:new a.Uniform3f(ve,J.u_spin_weights)}},Yu=function(ve,J,ge,ee,ye){return{u_matrix:ve,u_tl_parent:J,u_scale_parent:ge,u_buffer_scale:1,u_fade_t:ee.mix,u_opacity:ee.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:pu(ye.paint.get("raster-saturation")),u_contrast_factor:gi(ye.paint.get("raster-contrast")),u_spin_weights:du(ye.paint.get("raster-hue-rotate"))}};function du(ve){ve*=Math.PI/180;var J=Math.sin(ve),ge=Math.cos(ve);return[(2*ge+1)/3,(-Math.sqrt(3)*J-ge+1)/3,(Math.sqrt(3)*J-ge+1)/3]}function gi(ve){return ve>0?1/(1-ve):1+ve}function pu(ve){return ve>0?1-1/(1.001-ve):-ve}var If=function(ve,J){return{u_is_size_zoom_constant:new a.Uniform1i(ve,J.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,J.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,J.u_size_t),u_size:new a.Uniform1f(ve,J.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,J.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,J.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,J.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,J.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,J.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,J.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,J.u_coord_matrix),u_is_text:new a.Uniform1i(ve,J.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,J.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,J.u_texsize),u_texture:new a.Uniform1i(ve,J.u_texture)}},ih=function(ve,J){return{u_is_size_zoom_constant:new a.Uniform1i(ve,J.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,J.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,J.u_size_t),u_size:new a.Uniform1f(ve,J.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,J.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,J.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,J.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,J.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,J.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,J.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,J.u_coord_matrix),u_is_text:new a.Uniform1i(ve,J.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,J.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,J.u_texsize),u_texture:new a.Uniform1i(ve,J.u_texture),u_gamma_scale:new a.Uniform1f(ve,J.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,J.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,J.u_is_halo)}},gu=function(ve,J){return{u_is_size_zoom_constant:new a.Uniform1i(ve,J.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,J.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,J.u_size_t),u_size:new a.Uniform1f(ve,J.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,J.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,J.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,J.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,J.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,J.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,J.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,J.u_coord_matrix),u_is_text:new a.Uniform1i(ve,J.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,J.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,J.u_texsize),u_texsize_icon:new a.Uniform2f(ve,J.u_texsize_icon),u_texture:new a.Uniform1i(ve,J.u_texture),u_texture_icon:new a.Uniform1i(ve,J.u_texture_icon),u_gamma_scale:new a.Uniform1f(ve,J.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,J.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,J.u_is_halo)}},Xu=function(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut){var qt=ye.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:J?J.uSizeT:0,u_size:J?J.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+ge,u_aspect_ratio:qt.width/qt.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Ke,u_coord_matrix:ut,u_is_text:+Ct,u_pitch_with_map:+ee,u_texsize:Ut,u_texture:0}},kf=function(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt){var ur=ye.transform;return a.extend(Xu(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut),{u_gamma_scale:ee?Math.cos(ur._pitch)*ur.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+qt})},hc=function(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut){return a.extend(kf(ve,J,ge,ee,ye,ze,Ke,ut,!0,Ct,!0),{u_texsize_icon:Ut,u_texture_icon:1})},Zu=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_opacity:new a.Uniform1f(ve,J.u_opacity),u_color:new a.UniformColor(ve,J.u_color)}},Ku=function(ve,J){return{u_matrix:new a.UniformMatrix4f(ve,J.u_matrix),u_opacity:new a.Uniform1f(ve,J.u_opacity),u_image:new a.Uniform1i(ve,J.u_image),u_pattern_tl_a:new a.Uniform2f(ve,J.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(ve,J.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(ve,J.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(ve,J.u_pattern_br_b),u_texsize:new a.Uniform2f(ve,J.u_texsize),u_mix:new a.Uniform1f(ve,J.u_mix),u_pattern_size_a:new a.Uniform2f(ve,J.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(ve,J.u_pattern_size_b),u_scale_a:new a.Uniform1f(ve,J.u_scale_a),u_scale_b:new a.Uniform1f(ve,J.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(ve,J.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,J.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(ve,J.u_tile_units_to_pixels)}},pl=function(ve,J,ge){return{u_matrix:ve,u_opacity:J,u_color:ge}},Ju=function(ve,J,ge,ee,ye,ze){return a.extend(cl(ee,ze,ge,ye),{u_matrix:ve,u_opacity:J})},yl={fillExtrusion:Rf,fillExtrusionPattern:ji,fill:Ks,fillPattern:kl,fillOutline:hl,fillOutlinePattern:xs,circle:sv,collisionBox:uv,collisionCircle:fv,debug:fu,clippingMask:rs,heatmap:eh,heatmapTexture:ju,hillshade:th,hillshadePrepare:rh,line:ws,lineGradient:vl,linePattern:hu,lineSDF:Df,raster:qs,symbolIcon:If,symbolSDF:ih,symbolTextAndIcon:gu,background:Zu,backgroundPattern:Ku},to;function zs(ve,J,ge,ee,ye,ze,Ke){for(var ut=ve.context,Ct=ut.gl,Ut=ve.useProgram("collisionBox"),qt=[],ur=0,lr=0,_r=0;_r<ee.length;_r++){var Xr=ee[_r],Yr=J.getTile(Xr),Wr=Yr.getBucket(ge);if(Wr){var qr=Xr.posMatrix;(ye[0]!==0||ye[1]!==0)&&(qr=ve.translatePosMatrix(Xr.posMatrix,Yr,ye,ze));var fn=Ke?Wr.textCollisionBox:Wr.iconCollisionBox,kn=Wr.collisionCircleArray;if(kn.length>0){var Nn=a.create(),Xn=qr;a.mul(Nn,Wr.placementInvProjMatrix,ve.transform.glCoordMatrix),a.mul(Nn,Nn,Wr.placementViewportMatrix),qt.push({circleArray:kn,circleOffset:lr,transform:Xn,invTransform:Nn}),ur+=kn.length/4,lr=ur}fn&&Ut.draw(ut,Ct.LINES,Tr.disabled,Qt.disabled,ve.colorModeForRenderPass(),Dt.disabled,fc(qr,ve.transform,Yr),ge.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,ve.transform.zoom,null,null,fn.collisionVertexBuffer)}}if(!(!Ke||!qt.length)){var Zn=ve.useProgram("collisionCircle"),jn=new a.StructArrayLayout2f1f2i16;jn.resize(ur*4),jn._trim();for(var Jn=0,aa=0,fa=qt;aa<fa.length;aa+=1)for(var wa=fa[aa],ga=0;ga<wa.circleArray.length/4;ga++){var Na=ga*4,ri=wa.circleArray[Na+0],Ka=wa.circleArray[Na+1],Ca=wa.circleArray[Na+2],$a=wa.circleArray[Na+3];jn.emplace(Jn++,ri,Ka,Ca,$a,0),jn.emplace(Jn++,ri,Ka,Ca,$a,1),jn.emplace(Jn++,ri,Ka,Ca,$a,2),jn.emplace(Jn++,ri,Ka,Ca,$a,3)}(!to||to.length<ur*2)&&(to=vc(ur));for(var ja=ut.createIndexBuffer(to,!0),fi=ut.createVertexBuffer(jn,a.collisionCircleLayout.members,!0),ii=0,Pi=qt;ii<Pi.length;ii+=1){var ti=Pi[ii],Ti=qc(ti.transform,ti.invTransform,ve.transform);Zn.draw(ut,Ct.TRIANGLES,Tr.disabled,Qt.disabled,ve.colorModeForRenderPass(),Dt.disabled,Ti,ge.id,fi,ja,a.SegmentVector.simpleSegment(0,ti.circleOffset*2,ti.circleArray.length,ti.circleArray.length/2),null,ve.transform.zoom,null,null,null)}fi.destroy(),ja.destroy()}}function vc(ve){var J=ve*2,ge=new a.StructArrayLayout3ui6;ge.resize(J),ge._trim();for(var ee=0;ee<J;ee++){var ye=ee*6;ge.uint16[ye+0]=ee*4+0,ge.uint16[ye+1]=ee*4+1,ge.uint16[ye+2]=ee*4+2,ge.uint16[ye+3]=ee*4+2,ge.uint16[ye+4]=ee*4+3,ge.uint16[ye+5]=ee*4+0}return ge}var zl=a.identity(new Float32Array(16));function _f(ve,J,ge,ee,ye){if(ve.renderPass==="translucent"){var ze=Qt.disabled,Ke=ve.colorModeForRenderPass(),ut=ge.layout.get("text-variable-anchor");ut&&hv(ee,ve,ge,J,ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ye),ge.paint.get("icon-opacity").constantOr(1)!==0&&Qu(ve,J,ge,ee,!1,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),ge.layout.get("icon-rotation-alignment"),ge.layout.get("icon-pitch-alignment"),ge.layout.get("icon-keep-upright"),ze,Ke),ge.paint.get("text-opacity").constantOr(1)!==0&&Qu(ve,J,ge,ee,!0,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ge.layout.get("text-keep-upright"),ze,Ke),J.map.showCollisionBoxes&&(zs(ve,J,ge,ee,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),!0),zs(ve,J,ge,ee,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),!1))}}function $u(ve,J,ge,ee,ye,ze){var Ke=a.getAnchorAlignment(ve),ut=Ke.horizontalAlign,Ct=Ke.verticalAlign,Ut=-(ut-.5)*J,qt=-(Ct-.5)*ge,ur=a.evaluateVariableOffset(ve,ee);return new a.Point((Ut/ye+ur[0])*ze,(qt/ye+ur[1])*ze)}function hv(ve,J,ge,ee,ye,ze,Ke){for(var ut=J.transform,Ct=ye==="map",Ut=ze==="map",qt=0,ur=ve;qt<ur.length;qt+=1){var lr=ur[qt],_r=ee.getTile(lr),Xr=_r.getBucket(ge);if(!(!Xr||!Xr.text||!Xr.text.segments.get().length)){var Yr=Xr.textSizeData,Wr=a.evaluateSizeForZoom(Yr,ut.zoom),qr=vn(_r,1,J.transform.zoom),fn=Or(lr.posMatrix,Ut,Ct,J.transform,qr),kn=ge.layout.get("icon-text-fit")!=="none"&&Xr.hasIconData();if(Wr){var Nn=Math.pow(2,ut.zoom-_r.tileID.overscaledZ);oh(Xr,Ct,Ut,Ke,a.symbolSize,ut,fn,lr.posMatrix,Nn,Wr,kn)}}}}function oh(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt){var ur=ve.text.placedSymbolArray,lr=ve.text.dynamicLayoutVertexArray,_r=ve.icon.dynamicLayoutVertexArray,Xr={};lr.clear();for(var Yr=0;Yr<ur.length;Yr++){var Wr=ur.get(Yr),qr=ve.allowVerticalPlacement&&!Wr.placedOrientation,fn=!Wr.hidden&&Wr.crossTileID&&!qr?ee[Wr.crossTileID]:null;if(!fn)Hn(Wr.numGlyphs,lr);else{var kn=new a.Point(Wr.anchorX,Wr.anchorY),Nn=zr(kn,ge?ut:Ke),Xn=pn(ze.cameraToCenterDistance,Nn.signedDistanceFromCamera),Zn=ye.evaluateSizeForFeature(ve.textSizeData,Ut,Wr)*Xn/a.ONE_EM;ge&&(Zn*=ve.tilePixelRatio/Ct);for(var jn=fn.width,Jn=fn.height,aa=fn.anchor,fa=fn.textOffset,wa=fn.textBoxScale,ga=$u(aa,jn,Jn,fa,wa,Zn),Na=ge?zr(kn.add(ga),Ke).point:Nn.point.add(J?ga.rotate(-ze.angle):ga),ri=ve.allowVerticalPlacement&&Wr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Ka=0;Ka<Wr.numGlyphs;Ka++)a.addDynamicAttributes(lr,Na,ri);qt&&Wr.associatedIconIndex>=0&&(Xr[Wr.associatedIconIndex]={shiftedAnchor:Na,angle:ri})}}if(qt){_r.clear();for(var Ca=ve.icon.placedSymbolArray,$a=0;$a<Ca.length;$a++){var ja=Ca.get($a);if(ja.hidden)Hn(ja.numGlyphs,_r);else{var fi=Xr[$a];if(!fi)Hn(ja.numGlyphs,_r);else for(var ii=0;ii<ja.numGlyphs;ii++)a.addDynamicAttributes(_r,fi.shiftedAnchor,fi.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(_r)}ve.text.dynamicLayoutVertexBuffer.updateData(lr)}function Lo(ve,J,ge){return ge.iconsInText&&J?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Qu(ve,J,ge,ee,ye,ze,Ke,ut,Ct,Ut,qt,ur){for(var lr=ve.context,_r=lr.gl,Xr=ve.transform,Yr=ut==="map",Wr=Ct==="map",qr=Yr&&ge.layout.get("symbol-placement")!=="point",fn=Yr&&!Wr&&!qr,kn=ge.layout.get("symbol-sort-key").constantOr(1)!==void 0,Nn=!1,Xn=ve.depthModeForSublayer(0,Tr.ReadOnly),Zn=ge.layout.get("text-variable-anchor"),jn=[],Jn=0,aa=ee;Jn<aa.length;Jn+=1){var fa=aa[Jn],wa=J.getTile(fa),ga=wa.getBucket(ge);if(ga){var Na=ye?ga.text:ga.icon;if(!(!Na||!Na.segments.get().length)){var ri=Na.programConfigurations.get(ge.id),Ka=ye||ga.sdfIcons,Ca=ye?ga.textSizeData:ga.iconSizeData,$a=Wr||Xr.pitch!==0,ja=ve.useProgram(Lo(Ka,ye,ga),ri),fi=a.evaluateSizeForZoom(Ca,Xr.zoom),ii=void 0,Pi=[0,0],ti=void 0,Ti=void 0,Ya=null,ni=void 0;if(ye){if(ti=wa.glyphAtlasTexture,Ti=_r.LINEAR,ii=wa.glyphAtlasTexture.size,ga.iconsInText){Pi=wa.imageAtlasTexture.size,Ya=wa.imageAtlasTexture;var $i=Ca.kind==="composite"||Ca.kind==="camera";ni=$a||ve.options.rotating||ve.options.zooming||$i?_r.LINEAR:_r.NEAREST}}else{var Ro=ge.layout.get("icon-size").constantOr(0)!==1||ga.iconsNeedLinear;ti=wa.imageAtlasTexture,Ti=Ka||ve.options.rotating||ve.options.zooming||Ro||$a?_r.LINEAR:_r.NEAREST,ii=wa.imageAtlasTexture.size}var bl=vn(wa,1,ve.transform.zoom),wl=Or(fa.posMatrix,Wr,Yr,ve.transform,bl),Bl=jr(fa.posMatrix,Wr,Yr,ve.transform,bl),xu=Zn&&ga.hasTextData(),bc=ge.layout.get("icon-text-fit")!=="none"&&xu&&ga.hasIconData();qr&&Ln(ga,fa.posMatrix,ve,ye,wl,Bl,Wr,Ut);var bu=ve.translatePosMatrix(fa.posMatrix,wa,ze,Ke),As=qr||ye&&Zn||bc?zl:wl,wu=ve.translatePosMatrix(Bl,wa,ze,Ke,!0),Bs=Ka&&ge.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ss=void 0;Ka?ga.iconsInText?Ss=hc(Ca.kind,fi,fn,Wr,ve,bu,As,wu,ii,Pi):Ss=kf(Ca.kind,fi,fn,Wr,ve,bu,As,wu,ye,ii,!0):Ss=Xu(Ca.kind,fi,fn,Wr,ve,bu,As,wu,ye,ii);var Ul={program:ja,buffers:Na,uniformValues:Ss,atlasTexture:ti,atlasTextureIcon:Ya,atlasInterpolation:Ti,atlasInterpolationIcon:ni,isSDF:Ka,hasHalo:Bs};if(kn&&ga.canOverlap){Nn=!0;for(var sf=Na.segments.get(),Vl=0,jv=sf;Vl<jv.length;Vl+=1){var ph=jv[Vl];jn.push({segments:new a.SegmentVector([ph]),sortKey:ph.sortKey,state:Ul})}}else jn.push({segments:Na.segments,sortKey:0,state:Ul})}}}Nn&&jn.sort(function(Xv,Zv){return Xv.sortKey-Zv.sortKey});for(var Fo=0,Yv=jn;Fo<Yv.length;Fo+=1){var mv=Yv[Fo],ss=mv.state;if(lr.activeTexture.set(_r.TEXTURE0),ss.atlasTexture.bind(ss.atlasInterpolation,_r.CLAMP_TO_EDGE),ss.atlasTextureIcon&&(lr.activeTexture.set(_r.TEXTURE1),ss.atlasTextureIcon&&ss.atlasTextureIcon.bind(ss.atlasInterpolationIcon,_r.CLAMP_TO_EDGE)),ss.isSDF){var gh=ss.uniformValues;ss.hasHalo&&(gh.u_is_halo=1,yu(ss.buffers,mv.segments,ge,ve,ss.program,Xn,qt,ur,gh)),gh.u_is_halo=0}yu(ss.buffers,mv.segments,ge,ve,ss.program,Xn,qt,ur,ss.uniformValues)}}function yu(ve,J,ge,ee,ye,ze,Ke,ut,Ct){var Ut=ee.context,qt=Ut.gl;ye.draw(Ut,qt.TRIANGLES,ze,Ke,ut,Dt.disabled,Ct,ge.id,ve.layoutVertexBuffer,ve.indexBuffer,J,ge.paint,ee.transform.zoom,ve.programConfigurations.get(ge.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function sh(ve,J,ge,ee){if(ve.renderPass==="translucent"){var ye=ge.paint.get("circle-opacity"),ze=ge.paint.get("circle-stroke-width"),Ke=ge.paint.get("circle-stroke-opacity"),ut=ge.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(ze.constantOr(1)===0||Ke.constantOr(1)===0))){for(var Ct=ve.context,Ut=Ct.gl,qt=ve.depthModeForSublayer(0,Tr.ReadOnly),ur=Qt.disabled,lr=ve.colorModeForRenderPass(),_r=[],Xr=0;Xr<ee.length;Xr++){var Yr=ee[Xr],Wr=J.getTile(Yr),qr=Wr.getBucket(ge);if(qr){var fn=qr.programConfigurations.get(ge.id),kn=ve.useProgram("circle",fn),Nn=qr.layoutVertexBuffer,Xn=qr.indexBuffer,Zn=lv(ve,Yr,Wr,ge),jn={programConfiguration:fn,program:kn,layoutVertexBuffer:Nn,indexBuffer:Xn,uniformValues:Zn};if(ut)for(var Jn=qr.segments.get(),aa=0,fa=Jn;aa<fa.length;aa+=1){var wa=fa[aa];_r.push({segments:new a.SegmentVector([wa]),sortKey:wa.sortKey,state:jn})}else _r.push({segments:qr.segments,sortKey:0,state:jn})}}ut&&_r.sort(function(ti,Ti){return ti.sortKey-Ti.sortKey});for(var ga=0,Na=_r;ga<Na.length;ga+=1){var ri=Na[ga],Ka=ri.state,Ca=Ka.programConfiguration,$a=Ka.program,ja=Ka.layoutVertexBuffer,fi=Ka.indexBuffer,ii=Ka.uniformValues,Pi=ri.segments;$a.draw(Ct,Ut.TRIANGLES,qt,ur,lr,Dt.disabled,ii,ge.id,ja,fi,Pi,ge.paint,ve.transform.zoom,Ca)}}}}function ml(ve,J,ge,ee){if(ge.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ye=ve.context,ze=ye.gl,Ke=Qt.disabled,ut=new ot([ze.ONE,ze.ONE],a.Color.transparent,[!0,!0,!0,!0]);vv(ye,ve,ge),ye.clear({color:a.Color.transparent});for(var Ct=0;Ct<ee.length;Ct++){var Ut=ee[Ct];if(!J.hasRenderableParent(Ut)){var qt=J.getTile(Ut),ur=qt.getBucket(ge);if(ur){var lr=ur.programConfigurations.get(ge.id),_r=ve.useProgram("heatmap",lr),Xr=ve.transform,Yr=Xr.zoom;_r.draw(ye,ze.TRIANGLES,Tr.disabled,Ke,ut,Dt.disabled,$s(Ut.posMatrix,qt,Yr,ge.paint.get("heatmap-intensity")),ge.id,ur.layoutVertexBuffer,ur.indexBuffer,ur.segments,ge.paint,ve.transform.zoom,lr)}}}ye.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),qu(ve,ge))}function vv(ve,J,ge){var ee=ve.gl;ve.activeTexture.set(ee.TEXTURE1),ve.viewport.set([0,0,J.width/4,J.height/4]);var ye=ge.heatmapFbo;if(ye)ee.bindTexture(ee.TEXTURE_2D,ye.colorAttachment.get()),ve.bindFramebuffer.set(ye.framebuffer);else{var ze=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,ze),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),ye=ge.heatmapFbo=ve.createFramebuffer(J.width/4,J.height/4,!1),Xo(ve,J,ze,ye)}}function Xo(ve,J,ge,ee){var ye=ve.gl,ze=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,J.width/4,J.height/4,0,ye.RGBA,ze,null),ee.colorAttachment.set(ge)}function qu(ve,J){var ge=ve.context,ee=ge.gl,ye=J.heatmapFbo;if(ye){ge.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,ye.colorAttachment.get()),ge.activeTexture.set(ee.TEXTURE1);var ze=J.colorRampTexture;ze||(ze=J.colorRampTexture=new a.Texture(ge,J.colorRamp,ee.RGBA)),ze.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(ge,ee.TRIANGLES,Tr.disabled,Qt.disabled,ve.colorModeForRenderPass(),Dt.disabled,cv(ve,J,0,1),J.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,J.paint,ve.transform.zoom)}}function Of(ve,J,ge,ee){if(ve.renderPass==="translucent"){var ye=ge.paint.get("line-opacity"),ze=ge.paint.get("line-width");if(!(ye.constantOr(1)===0||ze.constantOr(1)===0))for(var Ke=ve.depthModeForSublayer(0,Tr.ReadOnly),ut=ve.colorModeForRenderPass(),Ct=ge.paint.get("line-dasharray"),Ut=ge.paint.get("line-pattern"),qt=Ut.constantOr(1),ur=ge.paint.get("line-gradient"),lr=ge.getCrossfadeParameters(),_r=qt?"linePattern":Ct?"lineSDF":ur?"lineGradient":"line",Xr=ve.context,Yr=Xr.gl,Wr=!0,qr=0,fn=ee;qr<fn.length;qr+=1){var kn=fn[qr],Nn=J.getTile(kn);if(!(qt&&!Nn.patternsLoaded())){var Xn=Nn.getBucket(ge);if(Xn){var Zn=Xn.programConfigurations.get(ge.id),jn=ve.context.program.get(),Jn=ve.useProgram(_r,Zn),aa=Wr||Jn.program!==jn,fa=Ut.constantOr(null);if(fa&&Nn.imageAtlas){var wa=Nn.imageAtlas,ga=wa.patternPositions[fa.to.toString()],Na=wa.patternPositions[fa.from.toString()];ga&&Na&&Zn.setConstantPatternPositions(ga,Na)}var ri=qt?ah(ve,Nn,ge,lr):Ct?Qs(ve,Nn,ge,Ct,lr):ur?Ol(ve,Nn,ge,Xn.lineClipsArray.length):_l(ve,Nn,ge);if(qt)Xr.activeTexture.set(Yr.TEXTURE0),Nn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Zn.updatePaintBuffers(lr);else if(Ct&&(aa||ve.lineAtlas.dirty))Xr.activeTexture.set(Yr.TEXTURE0),ve.lineAtlas.bind(Xr);else if(ur){var Ka=Xn.gradients[ge.id],Ca=Ka.texture;if(ge.gradientVersion!==Ka.version){var $a=256;if(ge.stepInterpolant){var ja=J.getSource().maxzoom,fi=kn.canonical.z===ja?Math.ceil(1<<ve.transform.maxZoom-kn.canonical.z):1,ii=Xn.maxLineLength/a.EXTENT,Pi=1024,ti=ii*Pi*fi;$a=a.clamp(a.nextPowerOfTwo(ti),256,Xr.maxTextureSize)}Ka.gradient=a.renderColorRamp({expression:ge.gradientExpression(),evaluationKey:"lineProgress",resolution:$a,image:Ka.gradient||void 0,clips:Xn.lineClipsArray}),Ka.texture?Ka.texture.update(Ka.gradient):Ka.texture=new a.Texture(Xr,Ka.gradient,Yr.RGBA),Ka.version=ge.gradientVersion,Ca=Ka.texture}Xr.activeTexture.set(Yr.TEXTURE0),Ca.bind(ge.stepInterpolant?Yr.NEAREST:Yr.LINEAR,Yr.CLAMP_TO_EDGE)}Jn.draw(Xr,Yr.TRIANGLES,Ke,ve.stencilModeForClipping(kn),ut,Dt.disabled,ri,ge.id,Xn.layoutVertexBuffer,Xn.indexBuffer,Xn.segments,ge.paint,ve.transform.zoom,Zn,Xn.layoutVertexBuffer2),Wr=!1}}}}}function el(ve,J,ge,ee){var ye=ge.paint.get("fill-color"),ze=ge.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var Ke=ve.colorModeForRenderPass(),ut=ge.paint.get("fill-pattern"),Ct=ve.opaquePassEnabledForLayer()&&!ut.constantOr(1)&&ye.constantOr(a.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===Ct){var Ut=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?Tr.ReadWrite:Tr.ReadOnly);xl(ve,J,ge,ee,Ut,Ke,!1)}if(ve.renderPass==="translucent"&&ge.paint.get("fill-antialias")){var qt=ve.depthModeForSublayer(ge.getPaintProperty("fill-outline-color")?2:0,Tr.ReadOnly);xl(ve,J,ge,ee,qt,Ke,!0)}}}function xl(ve,J,ge,ee,ye,ze,Ke){var ut=ve.context.gl,Ct=ge.paint.get("fill-pattern"),Ut=Ct&&Ct.constantOr(1),qt=ge.getCrossfadeParameters(),ur,lr,_r,Xr,Yr;Ke?(lr=Ut&&!ge.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ur=ut.LINES):(lr=Ut?"fillPattern":"fill",ur=ut.TRIANGLES);for(var Wr=0,qr=ee;Wr<qr.length;Wr+=1){var fn=qr[Wr],kn=J.getTile(fn);if(!(Ut&&!kn.patternsLoaded())){var Nn=kn.getBucket(ge);if(Nn){var Xn=Nn.programConfigurations.get(ge.id),Zn=ve.useProgram(lr,Xn);Ut&&(ve.context.activeTexture.set(ut.TEXTURE0),kn.imageAtlasTexture.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),Xn.updatePaintBuffers(qt));var jn=Ct.constantOr(null);if(jn&&kn.imageAtlas){var Jn=kn.imageAtlas,aa=Jn.patternPositions[jn.to.toString()],fa=Jn.patternPositions[jn.from.toString()];aa&&fa&&Xn.setConstantPatternPositions(aa,fa)}var wa=ve.translatePosMatrix(fn.posMatrix,kn,ge.paint.get("fill-translate"),ge.paint.get("fill-translate-anchor"));if(!Ke)Xr=Nn.indexBuffer,Yr=Nn.segments,_r=Ut?bs(wa,ve,qt,kn):Js(wa);else{Xr=Nn.indexBuffer2,Yr=Nn.segments2;var ga=[ut.drawingBufferWidth,ut.drawingBufferHeight];_r=lr==="fillOutlinePattern"&&Ut?Wu(wa,ve,qt,kn,ga):os(wa,ga)}Zn.draw(ve.context,ur,ye,ve.stencilModeForClipping(fn),ze,Dt.disabled,_r,ge.id,Nn.layoutVertexBuffer,Xr,Yr,ge.paint,ve.transform.zoom,Xn)}}}}function dc(ve,J,ge,ee){var ye=ge.paint.get("fill-extrusion-opacity");if(ye!==0&&ve.renderPass==="translucent"){var ze=new Tr(ve.context.gl.LEQUAL,Tr.ReadWrite,ve.depthRangeFor3D);if(ye===1&&!ge.paint.get("fill-extrusion-pattern").constantOr(1)){var Ke=ve.colorModeForRenderPass();ef(ve,J,ge,ee,ze,Qt.disabled,Ke)}else ef(ve,J,ge,ee,ze,Qt.disabled,ot.disabled),ef(ve,J,ge,ee,ze,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function ef(ve,J,ge,ee,ye,ze,Ke){for(var ut=ve.context,Ct=ut.gl,Ut=ge.paint.get("fill-extrusion-pattern"),qt=Ut.constantOr(1),ur=ge.getCrossfadeParameters(),lr=ge.paint.get("fill-extrusion-opacity"),_r=0,Xr=ee;_r<Xr.length;_r+=1){var Yr=Xr[_r],Wr=J.getTile(Yr),qr=Wr.getBucket(ge);if(qr){var fn=qr.programConfigurations.get(ge.id),kn=ve.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",fn);qt&&(ve.context.activeTexture.set(Ct.TEXTURE0),Wr.imageAtlasTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),fn.updatePaintBuffers(ur));var Nn=Ut.constantOr(null);if(Nn&&Wr.imageAtlas){var Xn=Wr.imageAtlas,Zn=Xn.patternPositions[Nn.to.toString()],jn=Xn.patternPositions[Nn.from.toString()];Zn&&jn&&fn.setConstantPatternPositions(Zn,jn)}var Jn=ve.translatePosMatrix(Yr.posMatrix,Wr,ge.paint.get("fill-extrusion-translate"),ge.paint.get("fill-extrusion-translate-anchor")),aa=ge.paint.get("fill-extrusion-vertical-gradient"),fa=qt?ms(Jn,ve,aa,lr,Yr,ur,Wr):Gu(Jn,ve,aa,lr);kn.draw(ut,ut.gl.TRIANGLES,ye,ze,Ke,Dt.backCCW,fa,ge.id,qr.layoutVertexBuffer,qr.indexBuffer,qr.segments,ge.paint,ve.transform.zoom,fn)}}}function tf(ve,J,ge,ee){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ye=ve.context,ze=ve.depthModeForSublayer(0,Tr.ReadOnly),Ke=ve.colorModeForRenderPass(),ut=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(ee):[{},ee],Ct=ut[0],Ut=ut[1],qt=0,ur=Ut;qt<ur.length;qt+=1){var lr=ur[qt],_r=J.getTile(lr);_r.needsHillshadePrepare&&ve.renderPass==="offscreen"?lh(ve,_r,ge,ze,Qt.disabled,Ke):ve.renderPass==="translucent"&&zf(ve,_r,ge,ze,Ct[lr.overscaledZ],Ke)}ye.viewport.set([0,0,ve.width,ve.height])}}function zf(ve,J,ge,ee,ye,ze){var Ke=ve.context,ut=Ke.gl,Ct=J.fbo;if(Ct){var Ut=ve.useProgram("hillshade");Ke.activeTexture.set(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,Ct.colorAttachment.get());var qt=cc(ve,J,ge);Ut.draw(Ke,ut.TRIANGLES,ee,ye,ze,Dt.disabled,qt,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function lh(ve,J,ge,ee,ye,ze){var Ke=ve.context,ut=Ke.gl,Ct=J.dem;if(Ct&&Ct.data){var Ut=Ct.dim,qt=Ct.stride,ur=Ct.getPixels();if(Ke.activeTexture.set(ut.TEXTURE1),Ke.pixelStoreUnpackPremultiplyAlpha.set(!1),J.demTexture=J.demTexture||ve.getTileTexture(qt),J.demTexture){var lr=J.demTexture;lr.update(ur,{premultiply:!1}),lr.bind(ut.NEAREST,ut.CLAMP_TO_EDGE)}else J.demTexture=new a.Texture(Ke,ur,ut.RGBA,{premultiply:!1}),J.demTexture.bind(ut.NEAREST,ut.CLAMP_TO_EDGE);Ke.activeTexture.set(ut.TEXTURE0);var _r=J.fbo;if(!_r){var Xr=new a.Texture(Ke,{width:Ut,height:Ut,data:null},ut.RGBA);Xr.bind(ut.LINEAR,ut.CLAMP_TO_EDGE),_r=J.fbo=Ke.createFramebuffer(Ut,Ut,!0),_r.colorAttachment.set(Xr.texture)}Ke.bindFramebuffer.set(_r.framebuffer),Ke.viewport.set([0,0,Ut,Ut]),ve.useProgram("hillshadePrepare").draw(Ke,ut.TRIANGLES,ee,ye,ze,Dt.disabled,nh(J.tileID,Ct),ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),J.needsHillshadePrepare=!1}}function rf(ve,J,ge,ee){if(ve.renderPass==="translucent"&&ge.paint.get("raster-opacity")!==0&&ee.length)for(var ye=ve.context,ze=ye.gl,Ke=J.getSource(),ut=ve.useProgram("raster"),Ct=ve.colorModeForRenderPass(),Ut=Ke instanceof q?[{},ee]:ve.stencilConfigForOverlap(ee),qt=Ut[0],ur=Ut[1],lr=ur[ur.length-1].overscaledZ,_r=!ve.options.moving,Xr=0,Yr=ur;Xr<Yr.length;Xr+=1){var Wr=Yr[Xr],qr=ve.depthModeForSublayer(Wr.overscaledZ-lr,ge.paint.get("raster-opacity")===1?Tr.ReadWrite:Tr.ReadOnly,ze.LESS),fn=J.getTile(Wr),kn=ve.transform.calculatePosMatrix(Wr.toUnwrapped(),_r);fn.registerFadeDuration(ge.paint.get("raster-fade-duration"));var Nn=J.findLoadedParent(Wr,0),Xn=pc(fn,Nn,J,ge,ve.transform),Zn=void 0,jn=void 0,Jn=ge.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;ye.activeTexture.set(ze.TEXTURE0),fn.texture.bind(Jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(ze.TEXTURE1),Nn?(Nn.texture.bind(Jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),Zn=Math.pow(2,Nn.tileID.overscaledZ-fn.tileID.overscaledZ),jn=[fn.tileID.canonical.x*Zn%1,fn.tileID.canonical.y*Zn%1]):fn.texture.bind(Jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var aa=Yu(kn,jn||[0,0],Zn||1,Xn,ge);Ke instanceof q?ut.draw(ye,ze.TRIANGLES,qr,Qt.disabled,Ct,Dt.disabled,aa,ge.id,Ke.boundsBuffer,ve.quadTriangleIndexBuffer,Ke.boundsSegments):ut.draw(ye,ze.TRIANGLES,qr,qt[Wr.overscaledZ],Ct,Dt.disabled,aa,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function pc(ve,J,ge,ee,ye){var ze=ee.paint.get("raster-fade-duration");if(ze>0){var Ke=a.browser.now(),ut=(Ke-ve.timeAdded)/ze,Ct=J?(Ke-J.timeAdded)/ze:-1,Ut=ge.getSource(),qt=ye.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),ur=!J||Math.abs(J.tileID.overscaledZ-qt)>Math.abs(ve.tileID.overscaledZ-qt),lr=ur&&ve.refreshedUponExpiration?1:a.clamp(ur?ut:1-Ct,0,1);return ve.refreshedUponExpiration&&ut>=1&&(ve.refreshedUponExpiration=!1),J?{opacity:1,mix:1-lr}:{opacity:lr,mix:0}}else return{opacity:1,mix:0}}function Fl(ve,J,ge){var ee=ge.paint.get("background-color"),ye=ge.paint.get("background-opacity");if(ye!==0){var ze=ve.context,Ke=ze.gl,ut=ve.transform,Ct=ut.tileSize,Ut=ge.paint.get("background-pattern");if(!ve.isPatternMissing(Ut)){var qt=!Ut&&ee.a===1&&ye===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===qt){var ur=Qt.disabled,lr=ve.depthModeForSublayer(0,qt==="opaque"?Tr.ReadWrite:Tr.ReadOnly),_r=ve.colorModeForRenderPass(),Xr=ve.useProgram(Ut?"backgroundPattern":"background"),Yr=ut.coveringTiles({tileSize:Ct});Ut&&(ze.activeTexture.set(Ke.TEXTURE0),ve.imageManager.bind(ve.context));for(var Wr=ge.getCrossfadeParameters(),qr=0,fn=Yr;qr<fn.length;qr+=1){var kn=fn[qr],Nn=ve.transform.calculatePosMatrix(kn.toUnwrapped()),Xn=Ut?Ju(Nn,ye,ve,Ut,{tileID:kn,tileSize:Ct},Wr):pl(Nn,ye,ee);Xr.draw(ze,Ke.TRIANGLES,lr,ur,_r,Dt.disabled,Xn,ge.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var gc=new a.Color(1,0,0,1),nf=new a.Color(0,1,0,1),uh=new a.Color(0,0,1,1),Je=new a.Color(1,0,1,1),nt=new a.Color(0,1,1,1);function pt(ve){var J=ve.transform.padding,ge=3;_t(ve,ve.transform.height-(J.top||0),ge,gc),_t(ve,J.bottom||0,ge,nf),It(ve,J.left||0,ge,uh),It(ve,ve.transform.width-(J.right||0),ge,Je);var ee=ve.transform.centerPoint;wt(ve,ee.x,ve.transform.height-ee.y,nt)}function wt(ve,J,ge,ee){var ye=20,ze=2;Ft(ve,J-ze/2,ge-ye/2,ze,ye,ee),Ft(ve,J-ye/2,ge-ze/2,ye,ze,ee)}function _t(ve,J,ge,ee){Ft(ve,0,J+ge/2,ve.transform.width,ge,ee)}function It(ve,J,ge,ee){Ft(ve,J-ge/2,0,ge,ve.transform.height,ee)}function Ft(ve,J,ge,ee,ye,ze){var Ke=ve.context,ut=Ke.gl;ut.enable(ut.SCISSOR_TEST),ut.scissor(J*a.browser.devicePixelRatio,ge*a.browser.devicePixelRatio,ee*a.browser.devicePixelRatio,ye*a.browser.devicePixelRatio),Ke.clear({color:ze}),ut.disable(ut.SCISSOR_TEST)}function pr(ve,J,ge){for(var ee=0;ee<ge.length;ee++)wr(ve,J,ge[ee])}function wr(ve,J,ge){var ee=ve.context,ye=ee.gl,ze=ge.posMatrix,Ke=ve.useProgram("debug"),ut=Tr.disabled,Ct=Qt.disabled,Ut=ve.colorModeForRenderPass(),qt="$debug";ee.activeTexture.set(ye.TEXTURE0),ve.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Ke.draw(ee,ye.LINE_STRIP,ut,Ct,Ut,Dt.disabled,uo(ze,a.Color.red),qt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var ur=J.getTileByID(ge.key).latestRawTileData,lr=ur&&ur.byteLength||0,_r=Math.floor(lr/1024),Xr=J.getTile(ge).tileSize,Yr=512/Math.min(Xr,512)*(ge.overscaledZ/ve.transform.zoom)*.5,Wr=ge.canonical.toString();ge.overscaledZ!==ge.canonical.z&&(Wr+=" => "+ge.overscaledZ);var qr=Wr+" "+_r+"kb";sr(ve,qr),Ke.draw(ee,ye.TRIANGLES,ut,Ct,ot.alphaBlended,Dt.disabled,uo(ze,a.Color.transparent,Yr),qt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function sr(ve,J){ve.initDebugOverlayCanvas();var ge=ve.debugOverlayCanvas,ee=ve.context.gl,ye=ve.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,ge.width,ge.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(J,5,5),ye.strokeText(J,5,5),ve.debugOverlayTexture.update(ge),ve.debugOverlayTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)}function Er(ve,J,ge){var ee=ve.context,ye=ge.implementation;if(ve.renderPass==="offscreen"){var ze=ye.prerender;ze&&(ve.setCustomLayerDefaults(),ee.setColorMode(ve.colorModeForRenderPass()),ze.call(ye,ee.gl,ve.transform.customLayerMatrix()),ee.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),ee.setColorMode(ve.colorModeForRenderPass()),ee.setStencilMode(Qt.disabled);var Ke=ye.renderingMode==="3d"?new Tr(ve.context.gl.LEQUAL,Tr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,Tr.ReadOnly);ee.setDepthMode(Ke),ye.render(ee.gl,ve.transform.customLayerMatrix()),ee.setDirty(),ve.setBaseState(),ee.bindFramebuffer.set(null)}}var kr={symbol:_f,circle:sh,heatmap:ml,line:Of,fill:el,"fill-extrusion":dc,hillshade:tf,raster:rf,background:Fl,debug:pr,custom:Er},Ur=function(J,ge){this.context=new Ht(J),this.transform=ge,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new la,this.gpuTimers={}};Ur.prototype.resize=function(J,ge){if(this.width=J*a.browser.devicePixelRatio,this.height=ge*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ee=0,ye=this.style._order;ee<ye.length;ee+=1){var ze=ye[ee];this.style._layers[ze].resize()}},Ur.prototype.setup=function(){var J=this.context,ge=new a.StructArrayLayout2i4;ge.emplaceBack(0,0),ge.emplaceBack(a.EXTENT,0),ge.emplaceBack(0,a.EXTENT),ge.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=J.createVertexBuffer(ge,Wo.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ee=new a.StructArrayLayout2i4;ee.emplaceBack(0,0),ee.emplaceBack(a.EXTENT,0),ee.emplaceBack(0,a.EXTENT),ee.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=J.createVertexBuffer(ee,Wo.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var ye=new a.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(a.EXTENT,0,a.EXTENT,0),ye.emplaceBack(0,a.EXTENT,0,a.EXTENT),ye.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=J.createVertexBuffer(ye,X.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ze=new a.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=J.createVertexBuffer(ze,Wo.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ke=new a.StructArrayLayout1ui2;Ke.emplaceBack(0),Ke.emplaceBack(1),Ke.emplaceBack(3),Ke.emplaceBack(2),Ke.emplaceBack(0),this.tileBorderIndexBuffer=J.createIndexBuffer(Ke);var ut=new a.StructArrayLayout3ui6;ut.emplaceBack(0,1,2),ut.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=J.createIndexBuffer(ut),this.emptyTexture=new a.Texture(J,{width:1,height:1,data:new Uint8Array([0,0,0,0])},J.gl.RGBA);var Ct=this.context.gl;this.stencilClearMode=new Qt({func:Ct.ALWAYS,mask:0},0,255,Ct.ZERO,Ct.ZERO,Ct.ZERO)},Ur.prototype.clearStencil=function(){var J=this.context,ge=J.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ee=a.create();a.ortho(ee,0,this.width,this.height,0,0,1),a.scale(ee,ee,[ge.drawingBufferWidth,ge.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(J,ge.TRIANGLES,Tr.disabled,this.stencilClearMode,ot.disabled,Dt.disabled,cu(ee),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ur.prototype._renderTileClippingMasks=function(J,ge){if(!(this.currentStencilSource===J.source||!J.isTileClipped()||!ge||!ge.length)){this.currentStencilSource=J.source;var ee=this.context,ye=ee.gl;this.nextStencilID+ge.length>256&&this.clearStencil(),ee.setColorMode(ot.disabled),ee.setDepthMode(Tr.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ke=0,ut=ge;Ke<ut.length;Ke+=1){var Ct=ut[Ke],Ut=this._tileClippingMaskIDs[Ct.key]=this.nextStencilID++;ze.draw(ee,ye.TRIANGLES,Tr.disabled,new Qt({func:ye.ALWAYS,mask:0},Ut,255,ye.KEEP,ye.KEEP,ye.REPLACE),ot.disabled,Dt.disabled,cu(Ct.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ur.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var J=this.nextStencilID++,ge=this.context.gl;return new Qt({func:ge.NOTEQUAL,mask:255},J,255,ge.KEEP,ge.KEEP,ge.REPLACE)},Ur.prototype.stencilModeForClipping=function(J){var ge=this.context.gl;return new Qt({func:ge.EQUAL,mask:255},this._tileClippingMaskIDs[J.key],0,ge.KEEP,ge.KEEP,ge.REPLACE)},Ur.prototype.stencilConfigForOverlap=function(J){var ge,ee=this.context.gl,ye=J.sort(function(Ut,qt){return qt.overscaledZ-Ut.overscaledZ}),ze=ye[ye.length-1].overscaledZ,Ke=ye[0].overscaledZ-ze+1;if(Ke>1){this.currentStencilSource=void 0,this.nextStencilID+Ke>256&&this.clearStencil();for(var ut={},Ct=0;Ct<Ke;Ct++)ut[Ct+ze]=new Qt({func:ee.GEQUAL,mask:255},Ct+this.nextStencilID,255,ee.KEEP,ee.KEEP,ee.REPLACE);return this.nextStencilID+=Ke,[ut,ye]}return[(ge={},ge[ze]=Qt.disabled,ge),ye]},Ur.prototype.colorModeForRenderPass=function(){var J=this.context.gl;if(this._showOverdrawInspector){var ge=8,ee=1/ge;return new ot([J.CONSTANT_COLOR,J.ONE],new a.Color(ee,ee,ee,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ot.unblended:ot.alphaBlended},Ur.prototype.depthModeForSublayer=function(J,ge,ee){if(!this.opaquePassEnabledForLayer())return Tr.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+J)*this.depthEpsilon;return new Tr(ee||this.context.gl.LEQUAL,ge,[ye,ye])},Ur.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ur.prototype.render=function(J,ge){var ee=this;this.style=J,this.options=ge,this.lineAtlas=J.lineAtlas,this.imageManager=J.imageManager,this.glyphManager=J.glyphManager,this.symbolFadeChange=J.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,ze=this.style.sourceCaches;for(var Ke in ze){var ut=ze[Ke];ut.used&&ut.prepare(this.context)}var Ct={},Ut={},qt={};for(var ur in ze){var lr=ze[ur];Ct[ur]=lr.getVisibleCoordinates(),Ut[ur]=Ct[ur].slice().reverse(),qt[ur]=lr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var _r=0;_r<ye.length;_r++){var Xr=ye[_r];if(this.style._layers[Xr].is3D()){this.opaquePassCutoff=_r;break}}this.renderPass="offscreen";for(var Yr=0,Wr=ye;Yr<Wr.length;Yr+=1){var qr=Wr[Yr],fn=this.style._layers[qr];if(!(!fn.hasOffscreenPass()||fn.isHidden(this.transform.zoom))){var kn=Ut[fn.source];fn.type!=="custom"&&!kn.length||this.renderLayer(this,ze[fn.source],fn,kn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ge.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ge.showOverdrawInspector,this.depthRangeFor3D=[0,1-(J._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var Nn=this.style._layers[ye[this.currentLayer]],Xn=ze[Nn.source],Zn=Ct[Nn.source];this._renderTileClippingMasks(Nn,Zn),this.renderLayer(this,Xn,Nn,Zn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var jn=this.style._layers[ye[this.currentLayer]],Jn=ze[jn.source],aa=(jn.type==="symbol"?qt:Ut)[jn.source];this._renderTileClippingMasks(jn,Ct[jn.source]),this.renderLayer(this,Jn,jn,aa)}if(this.options.showTileBoundaries){var fa,wa,ga=a.values(this.style._layers);ga.forEach(function(Na){Na.source&&!Na.isHidden(ee.transform.zoom)&&(Na.source!==(wa&&wa.id)&&(wa=ee.style.sourceCaches[Na.source]),(!fa||fa.getSource().maxzoom<wa.getSource().maxzoom)&&(fa=wa))}),fa&&kr.debug(this,fa,fa.getVisibleCoordinates())}this.options.showPadding&&pt(this),this.context.setDefault()},Ur.prototype.renderLayer=function(J,ge,ee,ye){ee.isHidden(this.transform.zoom)||ee.type!=="background"&&ee.type!=="custom"&&!ye.length||(this.id=ee.id,this.gpuTimingStart(ee),kr[ee.type](J,ge,ee,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ur.prototype.gpuTimingStart=function(J){if(this.options.gpuTiming){var ge=this.context.extTimerQuery,ee=this.gpuTimers[J.id];ee||(ee=this.gpuTimers[J.id]={calls:0,cpuTime:0,query:ge.createQueryEXT()}),ee.calls++,ge.beginQueryEXT(ge.TIME_ELAPSED_EXT,ee.query)}},Ur.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var J=this.context.extTimerQuery;J.endQueryEXT(J.TIME_ELAPSED_EXT)}},Ur.prototype.collectGpuTimers=function(){var J=this.gpuTimers;return this.gpuTimers={},J},Ur.prototype.queryGpuTimers=function(J){var ge={};for(var ee in J){var ye=J[ee],ze=this.context.extTimerQuery,Ke=ze.getQueryObjectEXT(ye.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(ye.query),ge[ee]=Ke}return ge},Ur.prototype.translatePosMatrix=function(J,ge,ee,ye,ze){if(!ee[0]&&!ee[1])return J;var Ke=ze?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Ke){var ut=Math.sin(Ke),Ct=Math.cos(Ke);ee=[ee[0]*Ct-ee[1]*ut,ee[0]*ut+ee[1]*Ct]}var Ut=[ze?ee[0]:vn(ge,ee[0],this.transform.zoom),ze?ee[1]:vn(ge,ee[1],this.transform.zoom),0],qt=new Float32Array(16);return a.translate(qt,J,Ut),qt},Ur.prototype.saveTileTexture=function(J){var ge=this._tileTextures[J.size[0]];ge?ge.push(J):this._tileTextures[J.size[0]]=[J]},Ur.prototype.getTileTexture=function(J){var ge=this._tileTextures[J];return ge&&ge.length>0?ge.pop():null},Ur.prototype.isPatternMissing=function(J){if(!J)return!1;if(!J.from||!J.to)return!0;var ge=this.imageManager.getPattern(J.from.toString()),ee=this.imageManager.getPattern(J.to.toString());return!ge||!ee},Ur.prototype.useProgram=function(J,ge){this.cache=this.cache||{};var ee=""+J+(ge?ge.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ee]||(this.cache[ee]=new uc(this.context,J,$c[J],ge,yl[J],this._showOverdrawInspector)),this.cache[ee]},Ur.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ur.prototype.setBaseState=function(){var J=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(J.FUNC_ADD)},Ur.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var J=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,J.RGBA)}},Ur.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var an=function(J,ge){this.points=J,this.planes=ge};an.fromInvProjectionMatrix=function(J,ge,ee){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,ee),Ke=ye.map(function(Ut){return a.transformMat4([],Ut,J)}).map(function(Ut){return a.scale$1([],Ut,1/Ut[3]/ge*ze)}),ut=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Ct=ut.map(function(Ut){var qt=a.sub([],Ke[Ut[0]],Ke[Ut[1]]),ur=a.sub([],Ke[Ut[2]],Ke[Ut[1]]),lr=a.normalize([],a.cross([],qt,ur)),_r=-a.dot(lr,Ke[Ut[1]]);return lr.concat(_r)});return new an(Ke,Ct)};var xn=function(J,ge){this.min=J,this.max=ge,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};xn.prototype.quadrant=function(J){for(var ge=[J%2===0,J<2],ee=a.clone$2(this.min),ye=a.clone$2(this.max),ze=0;ze<ge.length;ze++)ee[ze]=ge[ze]?this.min[ze]:this.center[ze],ye[ze]=ge[ze]?this.center[ze]:this.max[ze];return ye[2]=this.max[2],new xn(ee,ye)},xn.prototype.distanceX=function(J){var ge=Math.max(Math.min(this.max[0],J[0]),this.min[0]);return ge-J[0]},xn.prototype.distanceY=function(J){var ge=Math.max(Math.min(this.max[1],J[1]),this.min[1]);return ge-J[1]},xn.prototype.intersects=function(J){for(var ge=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ee=!0,ye=0;ye<J.planes.length;ye++){for(var ze=J.planes[ye],Ke=0,ut=0;ut<ge.length;ut++)Ke+=a.dot$1(ze,ge[ut])>=0;if(Ke===0)return 0;Ke!==ge.length&&(ee=!1)}if(ee)return 2;for(var Ct=0;Ct<3;Ct++){for(var Ut=Number.MAX_VALUE,qt=-Number.MAX_VALUE,ur=0;ur<J.points.length;ur++){var lr=J.points[ur][Ct]-this.min[Ct];Ut=Math.min(Ut,lr),qt=Math.max(qt,lr)}if(qt<0||Ut>this.max[Ct]-this.min[Ct])return 0}return 1};var Pn=function(J,ge,ee,ye){if(J===void 0&&(J=0),ge===void 0&&(ge=0),ee===void 0&&(ee=0),ye===void 0&&(ye=0),isNaN(J)||J<0||isNaN(ge)||ge<0||isNaN(ee)||ee<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=J,this.bottom=ge,this.left=ee,this.right=ye};Pn.prototype.interpolate=function(J,ge,ee){return ge.top!=null&&J.top!=null&&(this.top=a.number(J.top,ge.top,ee)),ge.bottom!=null&&J.bottom!=null&&(this.bottom=a.number(J.bottom,ge.bottom,ee)),ge.left!=null&&J.left!=null&&(this.left=a.number(J.left,ge.left,ee)),ge.right!=null&&J.right!=null&&(this.right=a.number(J.right,ge.right,ee)),this},Pn.prototype.getCenter=function(J,ge){var ee=a.clamp((this.left+J-this.right)/2,0,J),ye=a.clamp((this.top+ge-this.bottom)/2,0,ge);return new a.Point(ee,ye)},Pn.prototype.equals=function(J){return this.top===J.top&&this.bottom===J.bottom&&this.left===J.left&&this.right===J.right},Pn.prototype.clone=function(){return new Pn(this.top,this.bottom,this.left,this.right)},Pn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var In=function(J,ge,ee,ye,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=J||0,this._maxZoom=ge||22,this._minPitch=ee??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Pn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Kn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};In.prototype.clone=function(){var J=new In(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return J.tileSize=this.tileSize,J.latRange=this.latRange,J.width=this.width,J.height=this.height,J._center=this._center,J.zoom=this.zoom,J.angle=this.angle,J._fov=this._fov,J._pitch=this._pitch,J._unmodified=this._unmodified,J._edgeInsets=this._edgeInsets.clone(),J._calcMatrices(),J},Kn.minZoom.get=function(){return this._minZoom},Kn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},Kn.maxZoom.get=function(){return this._maxZoom},Kn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},Kn.minPitch.get=function(){return this._minPitch},Kn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},Kn.maxPitch.get=function(){return this._maxPitch},Kn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},Kn.renderWorldCopies.get=function(){return this._renderWorldCopies},Kn.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},Kn.worldSize.get=function(){return this.tileSize*this.scale},Kn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Kn.size.get=function(){return new a.Point(this.width,this.height)},Kn.bearing.get=function(){return-this.angle/Math.PI*180},Kn.bearing.set=function(ve){var J=-a.wrap(ve,-180,180)*Math.PI/180;this.angle!==J&&(this._unmodified=!1,this.angle=J,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Kn.pitch.get=function(){return this._pitch/Math.PI*180},Kn.pitch.set=function(ve){var J=a.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==J&&(this._unmodified=!1,this._pitch=J,this._calcMatrices())},Kn.fov.get=function(){return this._fov/Math.PI*180},Kn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},Kn.zoom.get=function(){return this._zoom},Kn.zoom.set=function(ve){var J=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==J&&(this._unmodified=!1,this._zoom=J,this.scale=this.zoomScale(J),this.tileZoom=Math.floor(J),this.zoomFraction=J-this.tileZoom,this._constrain(),this._calcMatrices())},Kn.center.get=function(){return this._center},Kn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},Kn.padding.get=function(){return this._edgeInsets.toJSON()},Kn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},Kn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},In.prototype.isPaddingEqual=function(J){return this._edgeInsets.equals(J)},In.prototype.interpolatePadding=function(J,ge,ee){this._unmodified=!1,this._edgeInsets.interpolate(J,ge,ee),this._constrain(),this._calcMatrices()},In.prototype.coveringZoomLevel=function(J){var ge=(J.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/J.tileSize));return Math.max(0,ge)},In.prototype.getVisibleUnwrappedCoordinates=function(J){var ge=[new a.UnwrappedTileID(0,J)];if(this._renderWorldCopies)for(var ee=this.pointCoordinate(new a.Point(0,0)),ye=this.pointCoordinate(new a.Point(this.width,0)),ze=this.pointCoordinate(new a.Point(this.width,this.height)),Ke=this.pointCoordinate(new a.Point(0,this.height)),ut=Math.floor(Math.min(ee.x,ye.x,ze.x,Ke.x)),Ct=Math.floor(Math.max(ee.x,ye.x,ze.x,Ke.x)),Ut=1,qt=ut-Ut;qt<=Ct+Ut;qt++)qt!==0&&ge.push(new a.UnwrappedTileID(qt,J));return ge},In.prototype.coveringTiles=function(J){var ge=this.coveringZoomLevel(J),ee=ge;if(J.minzoom!==void 0&&ge<J.minzoom)return[];J.maxzoom!==void 0&&ge>J.maxzoom&&(ge=J.maxzoom);var ye=a.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,ge),Ke=[ze*ye.x,ze*ye.y,0],ut=an.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ge),Ct=J.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ct=ge);var Ut=3,qt=function(ga){return{aabb:new xn([ga*ze,0,0],[(ga+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:ga,fullyVisible:!1}},ur=[],lr=[],_r=ge,Xr=J.reparseOverscaled?ee:ge;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)ur.push(qt(-Yr)),ur.push(qt(Yr));for(ur.push(qt(0));ur.length>0;){var Wr=ur.pop(),qr=Wr.x,fn=Wr.y,kn=Wr.fullyVisible;if(!kn){var Nn=Wr.aabb.intersects(ut);if(Nn===0)continue;kn=Nn===2}var Xn=Wr.aabb.distanceX(Ke),Zn=Wr.aabb.distanceY(Ke),jn=Math.max(Math.abs(Xn),Math.abs(Zn)),Jn=Ut+(1<<_r-Wr.zoom)-2;if(Wr.zoom===_r||jn>Jn&&Wr.zoom>=Ct){lr.push({tileID:new a.OverscaledTileID(Wr.zoom===_r?Xr:Wr.zoom,Wr.wrap,Wr.zoom,qr,fn),distanceSq:a.sqrLen([Ke[0]-.5-qr,Ke[1]-.5-fn])});continue}for(var aa=0;aa<4;aa++){var fa=(qr<<1)+aa%2,wa=(fn<<1)+(aa>>1);ur.push({aabb:Wr.aabb.quadrant(aa),zoom:Wr.zoom+1,x:fa,y:wa,wrap:Wr.wrap,fullyVisible:kn})}}return lr.sort(function(ga,Na){return ga.distanceSq-Na.distanceSq}).map(function(ga){return ga.tileID})},In.prototype.resize=function(J,ge){this.width=J,this.height=ge,this.pixelsToGLUnits=[2/J,-2/ge],this._constrain(),this._calcMatrices()},Kn.unmodified.get=function(){return this._unmodified},In.prototype.zoomScale=function(J){return Math.pow(2,J)},In.prototype.scaleZoom=function(J){return Math.log(J)/Math.LN2},In.prototype.project=function(J){var ge=a.clamp(J.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(J.lng)*this.worldSize,a.mercatorYfromLat(ge)*this.worldSize)},In.prototype.unproject=function(J){return new a.MercatorCoordinate(J.x/this.worldSize,J.y/this.worldSize).toLngLat()},Kn.point.get=function(){return this.project(this.center)},In.prototype.setLocationAtPoint=function(J,ge){var ee=this.pointCoordinate(ge),ye=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate(J),Ke=new a.MercatorCoordinate(ze.x-(ee.x-ye.x),ze.y-(ee.y-ye.y));this.center=this.coordinateLocation(Ke),this._renderWorldCopies&&(this.center=this.center.wrap())},In.prototype.locationPoint=function(J){return this.coordinatePoint(this.locationCoordinate(J))},In.prototype.pointLocation=function(J){return this.coordinateLocation(this.pointCoordinate(J))},In.prototype.locationCoordinate=function(J){return a.MercatorCoordinate.fromLngLat(J)},In.prototype.coordinateLocation=function(J){return J.toLngLat()},In.prototype.pointCoordinate=function(J){var ge=0,ee=[J.x,J.y,0,1],ye=[J.x,J.y,1,1];a.transformMat4(ee,ee,this.pixelMatrixInverse),a.transformMat4(ye,ye,this.pixelMatrixInverse);var ze=ee[3],Ke=ye[3],ut=ee[0]/ze,Ct=ye[0]/Ke,Ut=ee[1]/ze,qt=ye[1]/Ke,ur=ee[2]/ze,lr=ye[2]/Ke,_r=ur===lr?0:(ge-ur)/(lr-ur);return new a.MercatorCoordinate(a.number(ut,Ct,_r)/this.worldSize,a.number(Ut,qt,_r)/this.worldSize)},In.prototype.coordinatePoint=function(J){var ge=[J.x*this.worldSize,J.y*this.worldSize,0,1];return a.transformMat4(ge,ge,this.pixelMatrix),new a.Point(ge[0]/ge[3],ge[1]/ge[3])},In.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},In.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},In.prototype.setMaxBounds=function(J){J?(this.lngRange=[J.getWest(),J.getEast()],this.latRange=[J.getSouth(),J.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},In.prototype.calculatePosMatrix=function(J,ge){ge===void 0&&(ge=!1);var ee=J.key,ye=ge?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[ee])return ye[ee];var ze=J.canonical,Ke=this.worldSize/this.zoomScale(ze.z),ut=ze.x+Math.pow(2,ze.z)*J.wrap,Ct=a.identity(new Float64Array(16));return a.translate(Ct,Ct,[ut*Ke,ze.y*Ke,0]),a.scale(Ct,Ct,[Ke/a.EXTENT,Ke/a.EXTENT,1]),a.multiply(Ct,ge?this.alignedProjMatrix:this.projMatrix,Ct),ye[ee]=new Float32Array(Ct),ye[ee]},In.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},In.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var J=-90,ge=90,ee=-180,ye=180,ze,Ke,ut,Ct,Ut=this.size,qt=this._unmodified;if(this.latRange){var ur=this.latRange;J=a.mercatorYfromLat(ur[1])*this.worldSize,ge=a.mercatorYfromLat(ur[0])*this.worldSize,ze=ge-J<Ut.y?Ut.y/(ge-J):0}if(this.lngRange){var lr=this.lngRange;ee=a.mercatorXfromLng(lr[0])*this.worldSize,ye=a.mercatorXfromLng(lr[1])*this.worldSize,Ke=ye-ee<Ut.x?Ut.x/(ye-ee):0}var _r=this.point,Xr=Math.max(Ke||0,ze||0);if(Xr){this.center=this.unproject(new a.Point(Ke?(ye+ee)/2:_r.x,ze?(ge+J)/2:_r.y)),this.zoom+=this.scaleZoom(Xr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var Yr=_r.y,Wr=Ut.y/2;Yr-Wr<J&&(Ct=J+Wr),Yr+Wr>ge&&(Ct=ge-Wr)}if(this.lngRange){var qr=_r.x,fn=Ut.x/2;qr-fn<ee&&(ut=ee+fn),qr+fn>ye&&(ut=ye-fn)}(ut!==void 0||Ct!==void 0)&&(this.center=this.unproject(new a.Point(ut!==void 0?ut:_r.x,Ct!==void 0?Ct:_r.y))),this._unmodified=qt,this._constraining=!1}},In.prototype._calcMatrices=function(){if(this.height){var J=this._fov/2,ge=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(J)*this.height;var ee=Math.PI/2+this._pitch,ye=this._fov*(.5+ge.y/this.height),ze=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-ee-ye,.01,Math.PI-.01)),Ke=this.point,ut=Ke.x,Ct=Ke.y,Ut=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,qt=Ut*1.01,ur=this.height/50,lr=new Float64Array(16);a.perspective(lr,this._fov,this.width/this.height,ur,qt),lr[8]=-ge.x*2/this.width,lr[9]=ge.y*2/this.height,a.scale(lr,lr,[1,-1,1]),a.translate(lr,lr,[0,0,-this.cameraToCenterDistance]),a.rotateX(lr,lr,this._pitch),a.rotateZ(lr,lr,this.angle),a.translate(lr,lr,[-ut,-Ct,0]),this.mercatorMatrix=a.scale([],lr,[this.worldSize,this.worldSize,this.worldSize]),a.scale(lr,lr,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=lr,this.invProjMatrix=a.invert([],this.projMatrix);var _r=this.width%2/2,Xr=this.height%2/2,Yr=Math.cos(this.angle),Wr=Math.sin(this.angle),qr=ut-Math.round(ut)+Yr*_r+Wr*Xr,fn=Ct-Math.round(Ct)+Yr*Xr+Wr*_r,kn=new Float64Array(lr);if(a.translate(kn,kn,[qr>.5?qr-1:qr,fn>.5?fn-1:fn,0]),this.alignedProjMatrix=kn,lr=a.create(),a.scale(lr,lr,[this.width/2,-this.height/2,1]),a.translate(lr,lr,[1,-1,0]),this.labelPlaneMatrix=lr,lr=a.create(),a.scale(lr,lr,[1,-1,1]),a.translate(lr,lr,[-1,-1,0]),a.scale(lr,lr,[2/this.width,2/this.height,1]),this.glCoordMatrix=lr,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),lr=a.invert(new Float64Array(16),this.pixelMatrix),!lr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=lr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},In.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var J=this.pointCoordinate(new a.Point(0,0)),ge=[J.x*this.worldSize,J.y*this.worldSize,0,1],ee=a.transformMat4(ge,ge,this.pixelMatrix);return ee[3]/this.cameraToCenterDistance},In.prototype.getCameraPoint=function(){var J=this._pitch,ge=Math.tan(J)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,ge))},In.prototype.getCameraQueryGeometry=function(J){var ge=this.getCameraPoint();if(J.length===1)return[J[0],ge];for(var ee=ge.x,ye=ge.y,ze=ge.x,Ke=ge.y,ut=0,Ct=J;ut<Ct.length;ut+=1){var Ut=Ct[ut];ee=Math.min(ee,Ut.x),ye=Math.min(ye,Ut.y),ze=Math.max(ze,Ut.x),Ke=Math.max(Ke,Ut.y)}return[new a.Point(ee,ye),new a.Point(ze,ye),new a.Point(ze,Ke),new a.Point(ee,Ke),new a.Point(ee,ye)]},Object.defineProperties(In.prototype,Kn);function Ia(ve,J){var ge=!1,ee=null,ye=function(){ee=null,ge&&(ve(),ee=setTimeout(ye,J),ge=!1)};return function(){return ge=!0,ee||ye(),ee}}var ka=function(J){this._hashName=J&&encodeURIComponent(J),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ia(this._updateHashUnthrottled.bind(this),30*1e3/100)};ka.prototype.addTo=function(J){return this._map=J,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ka.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ka.prototype.getHashString=function(J){var ge=this._map.getCenter(),ee=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((ee*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,ye),Ke=Math.round(ge.lng*ze)/ze,ut=Math.round(ge.lat*ze)/ze,Ct=this._map.getBearing(),Ut=this._map.getPitch(),qt="";if(J?qt+="/"+Ke+"/"+ut+"/"+ee:qt+=ee+"/"+ut+"/"+Ke,(Ct||Ut)&&(qt+="/"+Math.round(Ct*10)/10),Ut&&(qt+="/"+Math.round(Ut)),this._hashName){var ur=this._hashName,lr=!1,_r=a.window.location.hash.slice(1).split("&").map(function(Xr){var Yr=Xr.split("=")[0];return Yr===ur?(lr=!0,Yr+"="+qt):Xr}).filter(function(Xr){return Xr});return lr||_r.push(ur+"="+qt),"#"+_r.join("&")}return"#"+qt},ka.prototype._getCurrentHash=function(){var J=this,ge=a.window.location.hash.replace("#","");if(this._hashName){var ee;return ge.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===J._hashName&&(ee=ye)}),(ee&&ee[1]||"").split("/")}return ge.split("/")},ka.prototype._onHashChange=function(){var J=this._getCurrentHash();if(J.length>=3&&!J.some(function(ee){return isNaN(ee)})){var ge=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(J[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+J[2],+J[1]],zoom:+J[0],bearing:ge,pitch:+(J[4]||0)}),!0}return!1},ka.prototype._updateHashUnthrottled=function(){var J=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,J)}catch{}};var _a={linearity:.3,easing:a.bezier(0,0,.3,1)},Ba=a.extend({deceleration:2500,maxSpeed:1400},_a),Qa=a.extend({deceleration:20,maxSpeed:1400},_a),yi=a.extend({deceleration:1e3,maxSpeed:360},_a),Yi=a.extend({deceleration:1e3,maxSpeed:90},_a),fe=function(J){this._map=J,this.clear()};fe.prototype.clear=function(){this._inertiaBuffer=[]},fe.prototype.record=function(J){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:J})},fe.prototype._drainInertiaBuffer=function(){for(var J=this._inertiaBuffer,ge=a.browser.now(),ee=160;J.length>0&&ge-J[0].time>ee;)J.shift()},fe.prototype._onMoveEnd=function(J){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ge={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},ee=0,ye=this._inertiaBuffer;ee<ye.length;ee+=1){var ze=ye[ee],Ke=ze.settings;ge.zoom+=Ke.zoomDelta||0,ge.bearing+=Ke.bearingDelta||0,ge.pitch+=Ke.pitchDelta||0,Ke.panDelta&&ge.pan._add(Ke.panDelta),Ke.around&&(ge.around=Ke.around),Ke.pinchAround&&(ge.pinchAround=Ke.pinchAround)}var ut=this._inertiaBuffer[this._inertiaBuffer.length-1],Ct=ut.time-this._inertiaBuffer[0].time,Ut={};if(ge.pan.mag()){var qt=Ne(ge.pan.mag(),Ct,a.extend({},Ba,J||{}));Ut.offset=ge.pan.mult(qt.amount/ge.pan.mag()),Ut.center=this._map.transform.center,Ce(Ut,qt)}if(ge.zoom){var ur=Ne(ge.zoom,Ct,Qa);Ut.zoom=this._map.transform.zoom+ur.amount,Ce(Ut,ur)}if(ge.bearing){var lr=Ne(ge.bearing,Ct,yi);Ut.bearing=this._map.transform.bearing+a.clamp(lr.amount,-179,179),Ce(Ut,lr)}if(ge.pitch){var _r=Ne(ge.pitch,Ct,Yi);Ut.pitch=this._map.transform.pitch+_r.amount,Ce(Ut,_r)}if(Ut.zoom||Ut.bearing){var Xr=ge.pinchAround===void 0?ge.around:ge.pinchAround;Ut.around=Xr?this._map.unproject(Xr):this._map.getCenter()}return this.clear(),a.extend(Ut,{noMoveStart:!0})}};function Ce(ve,J){(!ve.duration||ve.duration<J.duration)&&(ve.duration=J.duration,ve.easing=J.easing)}function Ne(ve,J,ge){var ee=ge.maxSpeed,ye=ge.linearity,ze=ge.deceleration,Ke=a.clamp(ve*ye/(J/1e3),-ee,ee),ut=Math.abs(Ke)/(ze*ye);return{easing:ge.easing,duration:ut*1e3,amount:Ke*(ut/2)}}var qe=function(ve){function J(ee,ye,ze,Ke){Ke===void 0&&(Ke={});var ut=S.mousePos(ye.getCanvasContainer(),ze),Ct=ye.unproject(ut);ve.call(this,ee,a.extend({point:ut,lngLat:Ct,originalEvent:ze},Ke)),this._defaultPrevented=!1,this.target=ye}ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J;var ge={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,ge),J}(a.Event),rt=function(ve){function J(ee,ye,ze){var Ke=ee==="touchend"?ze.changedTouches:ze.touches,ut=S.touchPos(ye.getCanvasContainer(),Ke),Ct=ut.map(function(ur){return ye.unproject(ur)}),Ut=ut.reduce(function(ur,lr,_r,Xr){return ur.add(lr.div(Xr.length))},new a.Point(0,0)),qt=ye.unproject(Ut);ve.call(this,ee,{points:ut,point:Ut,lngLats:Ct,lngLat:qt,originalEvent:ze}),this._defaultPrevented=!1}ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J;var ge={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,ge),J}(a.Event),ft=function(ve){function J(ee,ye,ze){ve.call(this,ee,{originalEvent:ze}),this._defaultPrevented=!1}ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J;var ge={defaultPrevented:{configurable:!0}};return J.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(J.prototype,ge),J}(a.Event),Pt=function(J,ge){this._map=J,this._clickTolerance=ge.clickTolerance};Pt.prototype.reset=function(){delete this._mousedownPos},Pt.prototype.wheel=function(J){return this._firePreventable(new ft(J.type,this._map,J))},Pt.prototype.mousedown=function(J,ge){return this._mousedownPos=ge,this._firePreventable(new qe(J.type,this._map,J))},Pt.prototype.mouseup=function(J){this._map.fire(new qe(J.type,this._map,J))},Pt.prototype.click=function(J,ge){this._mousedownPos&&this._mousedownPos.dist(ge)>=this._clickTolerance||this._map.fire(new qe(J.type,this._map,J))},Pt.prototype.dblclick=function(J){return this._firePreventable(new qe(J.type,this._map,J))},Pt.prototype.mouseover=function(J){this._map.fire(new qe(J.type,this._map,J))},Pt.prototype.mouseout=function(J){this._map.fire(new qe(J.type,this._map,J))},Pt.prototype.touchstart=function(J){return this._firePreventable(new rt(J.type,this._map,J))},Pt.prototype.touchmove=function(J){this._map.fire(new rt(J.type,this._map,J))},Pt.prototype.touchend=function(J){this._map.fire(new rt(J.type,this._map,J))},Pt.prototype.touchcancel=function(J){this._map.fire(new rt(J.type,this._map,J))},Pt.prototype._firePreventable=function(J){if(this._map.fire(J),J.defaultPrevented)return{}},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var At=function(J){this._map=J};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function(J){this._map.fire(new qe(J.type,this._map,J))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function(J){this._delayContextMenu?this._contextMenuEvent=J:this._map.fire(new qe(J.type,this._map,J)),this._map.listens("contextmenu")&&J.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Vt=function(J,ge){this._map=J,this._el=J.getCanvasContainer(),this._container=J.getContainer(),this._clickTolerance=ge.clickTolerance||1};Vt.prototype.isEnabled=function(){return!!this._enabled},Vt.prototype.isActive=function(){return!!this._active},Vt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Vt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Vt.prototype.mousedown=function(J,ge){this.isEnabled()&&J.shiftKey&&J.button===0&&(S.disableDrag(),this._startPos=this._lastPos=ge,this._active=!0)},Vt.prototype.mousemoveWindow=function(J,ge){if(this._active){var ee=ge;if(!(this._lastPos.equals(ee)||!this._box&&ee.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=ee,this._box||(this._box=S.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",J));var ze=Math.min(ye.x,ee.x),Ke=Math.max(ye.x,ee.x),ut=Math.min(ye.y,ee.y),Ct=Math.max(ye.y,ee.y);S.setTransform(this._box,"translate("+ze+"px,"+ut+"px)"),this._box.style.width=Ke-ze+"px",this._box.style.height=Ct-ut+"px"}}},Vt.prototype.mouseupWindow=function(J,ge){var ee=this;if(this._active&&J.button===0){var ye=this._startPos,ze=ge;if(this.reset(),S.suppressClick(),ye.x===ze.x&&ye.y===ze.y)this._fireEvent("boxzoomcancel",J);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:J})),{cameraAnimation:function(Ke){return Ke.fitScreenCoordinates(ye,ze,ee._map.getBearing(),{linear:!0})}}}},Vt.prototype.keydown=function(J){this._active&&J.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",J))},Vt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},Vt.prototype._fireEvent=function(J,ge){return this._map.fire(new a.Event(J,{originalEvent:ge}))};function Gt(ve,J){for(var ge={},ee=0;ee<ve.length;ee++)ge[ve[ee].identifier]=J[ee];return ge}function nr(ve){for(var J=new a.Point(0,0),ge=0,ee=ve;ge<ee.length;ge+=1){var ye=ee[ge];J._add(ye)}return J.div(ve.length)}var Lr=500,Pr=500,en=30,on=function(J){this.reset(),this.numTouches=J.numTouches};on.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},on.prototype.touchstart=function(J,ge,ee){(this.centroid||ee.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=J.timeStamp),ee.length===this.numTouches&&(this.centroid=nr(ge),this.touches=Gt(ee,ge)))},on.prototype.touchmove=function(J,ge,ee){if(!(this.aborted||!this.centroid)){var ye=Gt(ee,ge);for(var ze in this.touches){var Ke=this.touches[ze],ut=ye[ze];(!ut||ut.dist(Ke)>en)&&(this.aborted=!0)}}},on.prototype.touchend=function(J,ge,ee){if((!this.centroid||J.timeStamp-this.startTime>Pr)&&(this.aborted=!0),ee.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var Dr=function(J){this.singleTap=new on(J),this.numTaps=J.numTaps,this.reset()};Dr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Dr.prototype.touchstart=function(J,ge,ee){this.singleTap.touchstart(J,ge,ee)},Dr.prototype.touchmove=function(J,ge,ee){this.singleTap.touchmove(J,ge,ee)},Dr.prototype.touchend=function(J,ge,ee){var ye=this.singleTap.touchend(J,ge,ee);if(ye){var ze=J.timeStamp-this.lastTime<Lr,Ke=!this.lastTap||this.lastTap.dist(ye)<en;if((!ze||!Ke)&&this.reset(),this.count++,this.lastTime=J.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var Vr=function(){this._zoomIn=new Dr({numTouches:1,numTaps:2}),this._zoomOut=new Dr({numTouches:2,numTaps:1}),this.reset()};Vr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Vr.prototype.touchstart=function(J,ge,ee){this._zoomIn.touchstart(J,ge,ee),this._zoomOut.touchstart(J,ge,ee)},Vr.prototype.touchmove=function(J,ge,ee){this._zoomIn.touchmove(J,ge,ee),this._zoomOut.touchmove(J,ge,ee)},Vr.prototype.touchend=function(J,ge,ee){var ye=this,ze=this._zoomIn.touchend(J,ge,ee),Ke=this._zoomOut.touchend(J,ge,ee);if(ze)return this._active=!0,J.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()+1,around:ut.unproject(ze)},{originalEvent:J})}};if(Ke)return this._active=!0,J.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ut){return ut.easeTo({duration:300,zoom:ut.getZoom()-1,around:ut.unproject(Ke)},{originalEvent:J})}}},Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var Jr=0,un=2,dn={};dn[Jr]=1,dn[un]=2;function rn(ve,J){var ge=dn[J];return ve.buttons===void 0||(ve.buttons&ge)!==ge}var Wn=function(J){this.reset(),this._clickTolerance=J.clickTolerance||1};Wn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Wn.prototype._correctButton=function(J,ge){return!1},Wn.prototype._move=function(J,ge){return{}},Wn.prototype.mousedown=function(J,ge){if(!this._lastPoint){var ee=S.mouseButton(J);this._correctButton(J,ee)&&(this._lastPoint=ge,this._eventButton=ee)}},Wn.prototype.mousemoveWindow=function(J,ge){var ee=this._lastPoint;if(ee){if(J.preventDefault(),rn(J,this._eventButton)){this.reset();return}if(!(!this._moved&&ge.dist(ee)<this._clickTolerance))return this._moved=!0,this._lastPoint=ge,this._move(ee,ge)}},Wn.prototype.mouseupWindow=function(J){if(this._lastPoint){var ge=S.mouseButton(J);ge===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())}},Wn.prototype.enable=function(){this._enabled=!0},Wn.prototype.disable=function(){this._enabled=!1,this.reset()},Wn.prototype.isEnabled=function(){return this._enabled},Wn.prototype.isActive=function(){return this._active};var ra=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.mousedown=function(ee,ye){ve.prototype.mousedown.call(this,ee,ye),this._lastPoint&&(this._active=!0)},J.prototype._correctButton=function(ee,ye){return ye===Jr&&!ee.ctrlKey},J.prototype._move=function(ee,ye){return{around:ye,panDelta:ye.sub(ee)}},J}(Wn),ca=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype._correctButton=function(ee,ye){return ye===Jr&&ee.ctrlKey||ye===un},J.prototype._move=function(ee,ye){var ze=.8,Ke=(ye.x-ee.x)*ze;if(Ke)return this._active=!0,{bearingDelta:Ke}},J.prototype.contextmenu=function(ee){ee.preventDefault()},J}(Wn),ea=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype._correctButton=function(ee,ye){return ye===Jr&&ee.ctrlKey||ye===un},J.prototype._move=function(ee,ye){var ze=-.5,Ke=(ye.y-ee.y)*ze;if(Ke)return this._active=!0,{pitchDelta:Ke}},J.prototype.contextmenu=function(ee){ee.preventDefault()},J}(Wn),sa=function(J){this._minTouches=1,this._clickTolerance=J.clickTolerance||1,this.reset()};sa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},sa.prototype.touchstart=function(J,ge,ee){return this._calculateTransform(J,ge,ee)},sa.prototype.touchmove=function(J,ge,ee){if(!(!this._active||ee.length<this._minTouches))return J.preventDefault(),this._calculateTransform(J,ge,ee)},sa.prototype.touchend=function(J,ge,ee){this._calculateTransform(J,ge,ee),this._active&&ee.length<this._minTouches&&this.reset()},sa.prototype.touchcancel=function(){this.reset()},sa.prototype._calculateTransform=function(J,ge,ee){ee.length>0&&(this._active=!0);var ye=Gt(ee,ge),ze=new a.Point(0,0),Ke=new a.Point(0,0),ut=0;for(var Ct in ye){var Ut=ye[Ct],qt=this._touches[Ct];qt&&(ze._add(Ut),Ke._add(Ut.sub(qt)),ut++,ye[Ct]=Ut)}if(this._touches=ye,!(ut<this._minTouches||!Ke.mag())){var ur=Ke.div(ut);if(this._sum._add(ur),!(this._sum.mag()<this._clickTolerance)){var lr=ze.div(ut);return{around:lr,panDelta:ur}}}},sa.prototype.enable=function(){this._enabled=!0},sa.prototype.disable=function(){this._enabled=!1,this.reset()},sa.prototype.isEnabled=function(){return this._enabled},sa.prototype.isActive=function(){return this._active};var ha=function(){this.reset()};ha.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ha.prototype._start=function(J){},ha.prototype._move=function(J,ge,ee){return{}},ha.prototype.touchstart=function(J,ge,ee){this._firstTwoTouches||ee.length<2||(this._firstTwoTouches=[ee[0].identifier,ee[1].identifier],this._start([ge[0],ge[1]]))},ha.prototype.touchmove=function(J,ge,ee){if(this._firstTwoTouches){J.preventDefault();var ye=this._firstTwoTouches,ze=ye[0],Ke=ye[1],ut=Va(ee,ge,ze),Ct=Va(ee,ge,Ke);if(!(!ut||!Ct)){var Ut=this._aroundCenter?null:ut.add(Ct).div(2);return this._move([ut,Ct],Ut,J)}}},ha.prototype.touchend=function(J,ge,ee){if(this._firstTwoTouches){var ye=this._firstTwoTouches,ze=ye[0],Ke=ye[1],ut=Va(ee,ge,ze),Ct=Va(ee,ge,Ke);ut&&Ct||(this._active&&S.suppressClick(),this.reset())}},ha.prototype.touchcancel=function(){this.reset()},ha.prototype.enable=function(J){this._enabled=!0,this._aroundCenter=!!J&&J.around==="center"},ha.prototype.disable=function(){this._enabled=!1,this.reset()},ha.prototype.isEnabled=function(){return this._enabled},ha.prototype.isActive=function(){return this._active};function Va(ve,J,ge){for(var ee=0;ee<ve.length;ee++)if(ve[ee].identifier===ge)return J[ee]}var La=.1;function Fa(ve,J){return Math.log(ve/J)/Math.LN2}var li=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},J.prototype._start=function(ee){this._startDistance=this._distance=ee[0].dist(ee[1])},J.prototype._move=function(ee,ye){var ze=this._distance;if(this._distance=ee[0].dist(ee[1]),!(!this._active&&Math.abs(Fa(this._distance,this._startDistance))<La))return this._active=!0,{zoomDelta:Fa(this._distance,ze),pinchAround:ye}},J}(ha),Ki=25;function di(ve,J){return ve.angleWith(J)*180/Math.PI}var Qn=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},J.prototype._start=function(ee){this._startVector=this._vector=ee[0].sub(ee[1]),this._minDiameter=ee[0].dist(ee[1])},J.prototype._move=function(ee,ye){var ze=this._vector;if(this._vector=ee[0].sub(ee[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:di(this._vector,ze),pinchAround:ye}},J.prototype._isBelowThreshold=function(ee){this._minDiameter=Math.min(this._minDiameter,ee.mag());var ye=Math.PI*this._minDiameter,ze=Ki/ye*360,Ke=di(ee,this._startVector);return Math.abs(Ke)<ze},J}(ha);function Wa(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Ea=100,qa=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},J.prototype._start=function(ee){this._lastPoints=ee,Wa(ee[0].sub(ee[1]))&&(this._valid=!1)},J.prototype._move=function(ee,ye,ze){var Ke=ee[0].sub(this._lastPoints[0]),ut=ee[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ke,ut,ze.timeStamp),!!this._valid){this._lastPoints=ee,this._active=!0;var Ct=(Ke.y+ut.y)/2,Ut=-.5;return{pitchDelta:Ct*Ut}}},J.prototype.gestureBeginsVertically=function(ee,ye,ze){if(this._valid!==void 0)return this._valid;var Ke=2,ut=ee.mag()>=Ke,Ct=ye.mag()>=Ke;if(!(!ut&&!Ct)){if(!ut||!Ct)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<Ea?void 0:!1;var Ut=ee.y>0==ye.y>0;return Wa(ee)&&Wa(ye)&&Ut}},J}(ha),Ei={panStep:100,bearingStep:15,pitchStep:10},ui=function(){var J=Ei;this._panStep=J.panStep,this._bearingStep=J.bearingStep,this._pitchStep=J.pitchStep,this._rotationDisabled=!1};ui.prototype.reset=function(){this._active=!1},ui.prototype.keydown=function(J){var ge=this;if(!(J.altKey||J.ctrlKey||J.metaKey)){var ee=0,ye=0,ze=0,Ke=0,ut=0;switch(J.keyCode){case 61:case 107:case 171:case 187:ee=1;break;case 189:case 109:case 173:ee=-1;break;case 37:J.shiftKey?ye=-1:(J.preventDefault(),Ke=-1);break;case 39:J.shiftKey?ye=1:(J.preventDefault(),Ke=1);break;case 38:J.shiftKey?ze=1:(J.preventDefault(),ut=-1);break;case 40:J.shiftKey?ze=-1:(J.preventDefault(),ut=1);break;default:return}return this._rotationDisabled&&(ye=0,ze=0),{cameraAnimation:function(Ct){var Ut=Ct.getZoom();Ct.easeTo({duration:300,easeId:"keyboardHandler",easing:fo,zoom:ee?Math.round(Ut)+ee*(J.shiftKey?2:1):Ut,bearing:Ct.getBearing()+ye*ge._bearingStep,pitch:Ct.getPitch()+ze*ge._pitchStep,offset:[-Ke*ge._panStep,-ut*ge._panStep],center:Ct.getCenter()},{originalEvent:J})}}}},ui.prototype.enable=function(){this._enabled=!0},ui.prototype.disable=function(){this._enabled=!1,this.reset()},ui.prototype.isEnabled=function(){return this._enabled},ui.prototype.isActive=function(){return this._active},ui.prototype.disableRotation=function(){this._rotationDisabled=!0},ui.prototype.enableRotation=function(){this._rotationDisabled=!1};function fo(ve){return ve*(2-ve)}var co=4.000244140625,mo=1/100,Ci=1/450,Po=2,ua=function(J,ge){this._map=J,this._el=J.getCanvasContainer(),this._handler=ge,this._delta=0,this._defaultZoomRate=mo,this._wheelZoomRate=Ci,a.bindAll(["_onTimeout"],this)};ua.prototype.setZoomRate=function(J){this._defaultZoomRate=J},ua.prototype.setWheelZoomRate=function(J){this._wheelZoomRate=J},ua.prototype.isEnabled=function(){return!!this._enabled},ua.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ua.prototype.isZooming=function(){return!!this._zooming},ua.prototype.enable=function(J){this.isEnabled()||(this._enabled=!0,this._aroundCenter=J&&J.around==="center")},ua.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ua.prototype.wheel=function(J){if(this.isEnabled()){var ge=J.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?J.deltaY*40:J.deltaY,ee=a.browser.now(),ye=ee-(this._lastWheelEventTime||0);this._lastWheelEventTime=ee,ge!==0&&ge%co===0?this._type="wheel":ge!==0&&Math.abs(ge)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=ge,this._timeout=setTimeout(this._onTimeout,40,J)):this._type||(this._type=Math.abs(ye*ge)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ge+=this._lastValue)),J.shiftKey&&ge&&(ge=ge/4),this._type&&(this._lastWheelEvent=J,this._delta-=ge,this._active||this._start(J)),J.preventDefault()}},ua.prototype._onTimeout=function(J){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(J)},ua.prototype._start=function(J){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ge=S.mousePos(this._el,J);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ge)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ua.prototype.renderFrame=function(){var J=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ge=this._map.transform;if(this._delta!==0){var ee=this._type==="wheel"&&Math.abs(this._delta)>co?this._wheelZoomRate:this._defaultZoomRate,ye=Po/(1+Math.exp(-Math.abs(this._delta*ee)));this._delta<0&&ye!==0&&(ye=1/ye);var ze=typeof this._targetZoom=="number"?ge.zoomScale(this._targetZoom):ge.scale;this._targetZoom=Math.min(ge.maxZoom,Math.max(ge.minZoom,ge.scaleZoom(ze*ye))),this._type==="wheel"&&(this._startZoom=ge.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ke=typeof this._targetZoom=="number"?this._targetZoom:ge.zoom,ut=this._startZoom,Ct=this._easing,Ut=!1,qt;if(this._type==="wheel"&&ut&&Ct){var ur=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),lr=Ct(ur);qt=a.number(ut,Ke,lr),ur<1?this._frameId||(this._frameId=!0):Ut=!0}else qt=Ke,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){J._zooming=!1,J._handler._triggerRenderFrame(),delete J._targetZoom,delete J._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:qt-ge.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ua.prototype._smoothOutEasing=function(J){var ge=a.ease;if(this._prevEase){var ee=this._prevEase,ye=(a.browser.now()-ee.start)/ee.duration,ze=ee.easing(ye+.01)-ee.easing(ye),Ke=.27/Math.sqrt(ze*ze+1e-4)*.01,ut=Math.sqrt(.27*.27-Ke*Ke);ge=a.bezier(Ke,ut,.25,1)}return this._prevEase={start:a.browser.now(),duration:J,easing:ge},ge},ua.prototype.reset=function(){this._active=!1};var Ra=function(J,ge){this._clickZoom=J,this._tapZoom=ge};Ra.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ra.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ra.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ra.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Zo=function(){this.reset()};Zo.prototype.reset=function(){this._active=!1},Zo.prototype.dblclick=function(J,ge){return J.preventDefault(),{cameraAnimation:function(ee){ee.easeTo({duration:300,zoom:ee.getZoom()+(J.shiftKey?-1:1),around:ee.unproject(ge)},{originalEvent:J})}}},Zo.prototype.enable=function(){this._enabled=!0},Zo.prototype.disable=function(){this._enabled=!1,this.reset()},Zo.prototype.isEnabled=function(){return this._enabled},Zo.prototype.isActive=function(){return this._active};var ns=function(){this._tap=new Dr({numTouches:1,numTaps:1}),this.reset()};ns.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ns.prototype.touchstart=function(J,ge,ee){this._swipePoint||(this._tapTime&&J.timeStamp-this._tapTime>Lr&&this.reset(),this._tapTime?ee.length>0&&(this._swipePoint=ge[0],this._swipeTouch=ee[0].identifier):this._tap.touchstart(J,ge,ee))},ns.prototype.touchmove=function(J,ge,ee){if(!this._tapTime)this._tap.touchmove(J,ge,ee);else if(this._swipePoint){if(ee[0].identifier!==this._swipeTouch)return;var ye=ge[0],ze=ye.y-this._swipePoint.y;return this._swipePoint=ye,J.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},ns.prototype.touchend=function(J,ge,ee){if(this._tapTime)this._swipePoint&&ee.length===0&&this.reset();else{var ye=this._tap.touchend(J,ge,ee);ye&&(this._tapTime=J.timeStamp)}},ns.prototype.touchcancel=function(){this.reset()},ns.prototype.enable=function(){this._enabled=!0},ns.prototype.disable=function(){this._enabled=!1,this.reset()},ns.prototype.isEnabled=function(){return this._enabled},ns.prototype.isActive=function(){return this._active};var xo=function(J,ge,ee){this._el=J,this._mousePan=ge,this._touchPan=ee};xo.prototype.enable=function(J){this._inertiaOptions=J||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},xo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},xo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},xo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pi=function(J,ge,ee){this._pitchWithRotate=J.pitchWithRotate,this._mouseRotate=ge,this._mousePitch=ee};pi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ro=function(J,ge,ee,ye){this._el=J,this._touchZoom=ge,this._touchRotate=ee,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};ro.prototype.enable=function(J){this._touchZoom.enable(J),this._rotationDisabled||this._touchRotate.enable(J),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ro.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ro.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ro.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ro.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ro.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ji=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Fs=function(ve){function J(){ve.apply(this,arguments)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J}(a.Event);function tl(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var Oi=function(J,ge){this._map=J,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fe(J),this._bearingSnap=ge.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ge),a.bindAll(["handleEvent","handleWindowEvent"],this);var ee=this._el;this._listeners=[[ee,"touchstart",{passive:!0}],[ee,"touchmove",{passive:!1}],[ee,"touchend",void 0],[ee,"touchcancel",void 0],[ee,"mousedown",void 0],[ee,"mousemove",void 0],[ee,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[ee,"mouseover",void 0],[ee,"mouseout",void 0],[ee,"dblclick",void 0],[ee,"click",void 0],[ee,"keydown",{capture:!1}],[ee,"keyup",void 0],[ee,"wheel",{passive:!1}],[ee,"contextmenu",void 0],[a.window,"blur",void 0]];for(var ye=0,ze=this._listeners;ye<ze.length;ye+=1){var Ke=ze[ye],ut=Ke[0],Ct=Ke[1],Ut=Ke[2];S.addEventListener(ut,Ct,ut===a.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};Oi.prototype.destroy=function(){for(var J=0,ge=this._listeners;J<ge.length;J+=1){var ee=ge[J],ye=ee[0],ze=ee[1],Ke=ee[2];S.removeEventListener(ye,ze,ye===a.window.document?this.handleWindowEvent:this.handleEvent,Ke)}},Oi.prototype._addDefaultHandlers=function(J){var ge=this._map,ee=ge.getCanvasContainer();this._add("mapEvent",new Pt(ge,J));var ye=ge.boxZoom=new Vt(ge,J);this._add("boxZoom",ye);var ze=new Vr,Ke=new Zo;ge.doubleClickZoom=new Ra(Ke,ze),this._add("tapZoom",ze),this._add("clickZoom",Ke);var ut=new ns;this._add("tapDragZoom",ut);var Ct=ge.touchPitch=new qa;this._add("touchPitch",Ct);var Ut=new ca(J),qt=new ea(J);ge.dragRotate=new pi(J,Ut,qt),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var ur=new ra(J),lr=new sa(J);ge.dragPan=new xo(ee,ur,lr),this._add("mousePan",ur),this._add("touchPan",lr,["touchZoom","touchRotate"]);var _r=new Qn,Xr=new li;ge.touchZoomRotate=new ro(ee,Xr,_r,ut),this._add("touchRotate",_r,["touchPan","touchZoom"]),this._add("touchZoom",Xr,["touchPan","touchRotate"]);var Yr=ge.scrollZoom=new ua(ge,this);this._add("scrollZoom",Yr,["mousePan"]);var Wr=ge.keyboard=new ui;this._add("keyboard",Wr),this._add("blockableMapEvent",new At(ge));for(var qr=0,fn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];qr<fn.length;qr+=1){var kn=fn[qr];J.interactive&&J[kn]&&ge[kn].enable(J[kn])}},Oi.prototype._add=function(J,ge,ee){this._handlers.push({handlerName:J,handler:ge,allowed:ee}),this._handlersById[J]=ge},Oi.prototype.stop=function(J){if(!this._updatingCamera){for(var ge=0,ee=this._handlers;ge<ee.length;ge+=1){var ye=ee[ge],ze=ye.handler;ze.reset()}this._inertia.clear(),this._fireEvents({},{},J),this._changes=[]}},Oi.prototype.isActive=function(){for(var J=0,ge=this._handlers;J<ge.length;J+=1){var ee=ge[J],ye=ee.handler;if(ye.isActive())return!0}return!1},Oi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Oi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Oi.prototype.isMoving=function(){return!!Ji(this._eventsInProgress)||this.isZooming()},Oi.prototype._blockedByActive=function(J,ge,ee){for(var ye in J)if(ye!==ee&&(!ge||ge.indexOf(ye)<0))return!0;return!1},Oi.prototype.handleWindowEvent=function(J){this.handleEvent(J,J.type+"Window")},Oi.prototype._getMapTouches=function(J){for(var ge=[],ee=0,ye=J;ee<ye.length;ee+=1){var ze=ye[ee],Ke=ze.target;this._el.contains(Ke)&&ge.push(ze)}return ge},Oi.prototype.handleEvent=function(J,ge){if(J.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var ee=J.type==="renderFrame"?void 0:J,ye={needsRenderFrame:!1},ze={},Ke={},ut=J.touches?this._getMapTouches(J.touches):void 0,Ct=ut?S.touchPos(this._el,ut):S.mousePos(this._el,J),Ut=0,qt=this._handlers;Ut<qt.length;Ut+=1){var ur=qt[Ut],lr=ur.handlerName,_r=ur.handler,Xr=ur.allowed;if(_r.isEnabled()){var Yr=void 0;this._blockedByActive(Ke,Xr,lr)?_r.reset():_r[ge||J.type]&&(Yr=_r[ge||J.type](J,Ct,ut),this.mergeHandlerResult(ye,ze,Yr,lr,ee),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||_r.isActive())&&(Ke[lr]=_r)}}var Wr={};for(var qr in this._previousActiveHandlers)Ke[qr]||(Wr[qr]=ee);this._previousActiveHandlers=Ke,(Object.keys(Wr).length||tl(ye))&&(this._changes.push([ye,ze,Wr]),this._triggerRenderFrame()),(Object.keys(Ke).length||tl(ye))&&this._map._stop(!0),this._updatingCamera=!1;var fn=ye.cameraAnimation;fn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],fn(this._map))},Oi.prototype.mergeHandlerResult=function(J,ge,ee,ye,ze){if(ee){a.extend(J,ee);var Ke={handlerName:ye,originalEvent:ee.originalEvent||ze};ee.zoomDelta!==void 0&&(ge.zoom=Ke),ee.panDelta!==void 0&&(ge.drag=Ke),ee.pitchDelta!==void 0&&(ge.pitch=Ke),ee.bearingDelta!==void 0&&(ge.rotate=Ke)}},Oi.prototype._applyChanges=function(){for(var J={},ge={},ee={},ye=0,ze=this._changes;ye<ze.length;ye+=1){var Ke=ze[ye],ut=Ke[0],Ct=Ke[1],Ut=Ke[2];ut.panDelta&&(J.panDelta=(J.panDelta||new a.Point(0,0))._add(ut.panDelta)),ut.zoomDelta&&(J.zoomDelta=(J.zoomDelta||0)+ut.zoomDelta),ut.bearingDelta&&(J.bearingDelta=(J.bearingDelta||0)+ut.bearingDelta),ut.pitchDelta&&(J.pitchDelta=(J.pitchDelta||0)+ut.pitchDelta),ut.around!==void 0&&(J.around=ut.around),ut.pinchAround!==void 0&&(J.pinchAround=ut.pinchAround),ut.noInertia&&(J.noInertia=ut.noInertia),a.extend(ge,Ct),a.extend(ee,Ut)}this._updateMapTransform(J,ge,ee),this._changes=[]},Oi.prototype._updateMapTransform=function(J,ge,ee){var ye=this._map,ze=ye.transform;if(!tl(J))return this._fireEvents(ge,ee,!0);var Ke=J.panDelta,ut=J.zoomDelta,Ct=J.bearingDelta,Ut=J.pitchDelta,qt=J.around,ur=J.pinchAround;ur!==void 0&&(qt=ur),ye._stop(!0),qt=qt||ye.transform.centerPoint;var lr=ze.pointLocation(Ke?qt.sub(Ke):qt);Ct&&(ze.bearing+=Ct),Ut&&(ze.pitch+=Ut),ut&&(ze.zoom+=ut),ze.setLocationAtPoint(lr,qt),this._map._update(),J.noInertia||this._inertia.record(J),this._fireEvents(ge,ee,!0)},Oi.prototype._fireEvents=function(J,ge,ee){var ye=this,ze=Ji(this._eventsInProgress),Ke=Ji(J),ut={};for(var Ct in J){var Ut=J[Ct],qt=Ut.originalEvent;this._eventsInProgress[Ct]||(ut[Ct+"start"]=qt),this._eventsInProgress[Ct]=J[Ct]}!ze&&Ke&&this._fireEvent("movestart",Ke.originalEvent);for(var ur in ut)this._fireEvent(ur,ut[ur]);Ke&&this._fireEvent("move",Ke.originalEvent);for(var lr in J){var _r=J[lr],Xr=_r.originalEvent;this._fireEvent(lr,Xr)}var Yr={},Wr;for(var qr in this._eventsInProgress){var fn=this._eventsInProgress[qr],kn=fn.handlerName,Nn=fn.originalEvent;this._handlersById[kn].isActive()||(delete this._eventsInProgress[qr],Wr=ge[kn]||Nn,Yr[qr+"end"]=Wr)}for(var Xn in Yr)this._fireEvent(Xn,Yr[Xn]);var Zn=Ji(this._eventsInProgress);if(ee&&(ze||Ke)&&!Zn){this._updatingCamera=!0;var jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Jn=function(aa){return aa!==0&&-ye._bearingSnap<aa&&aa<ye._bearingSnap};jn?(Jn(jn.bearing||this._map.getBearing())&&(jn.bearing=0),this._map.easeTo(jn,{originalEvent:Wr})):(this._map.fire(new a.Event("moveend",{originalEvent:Wr})),Jn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Oi.prototype._fireEvent=function(J,ge){this._map.fire(new a.Event(J,ge?{originalEvent:ge}:{}))},Oi.prototype._requestFrame=function(){var J=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(ge){delete J._frameId,J.handleEvent(new Fs("renderFrame",{timeStamp:ge})),J._applyChanges()})},Oi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var mu=function(ve){function J(ge,ee){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=ge,this._bearingSnap=ee.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},J.prototype.setCenter=function(ee,ye){return this.jumpTo({center:ee},ye)},J.prototype.panBy=function(ee,ye,ze){return ee=a.Point.convert(ee).mult(-1),this.panTo(this.transform.center,a.extend({offset:ee},ye),ze)},J.prototype.panTo=function(ee,ye,ze){return this.easeTo(a.extend({center:ee},ye),ze)},J.prototype.getZoom=function(){return this.transform.zoom},J.prototype.setZoom=function(ee,ye){return this.jumpTo({zoom:ee},ye),this},J.prototype.zoomTo=function(ee,ye,ze){return this.easeTo(a.extend({zoom:ee},ye),ze)},J.prototype.zoomIn=function(ee,ye){return this.zoomTo(this.getZoom()+1,ee,ye),this},J.prototype.zoomOut=function(ee,ye){return this.zoomTo(this.getZoom()-1,ee,ye),this},J.prototype.getBearing=function(){return this.transform.bearing},J.prototype.setBearing=function(ee,ye){return this.jumpTo({bearing:ee},ye),this},J.prototype.getPadding=function(){return this.transform.padding},J.prototype.setPadding=function(ee,ye){return this.jumpTo({padding:ee},ye),this},J.prototype.rotateTo=function(ee,ye,ze){return this.easeTo(a.extend({bearing:ee},ye),ze)},J.prototype.resetNorth=function(ee,ye){return this.rotateTo(0,a.extend({duration:1e3},ee),ye),this},J.prototype.resetNorthPitch=function(ee,ye){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},ee),ye),this},J.prototype.snapToNorth=function(ee,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ee,ye):this},J.prototype.getPitch=function(){return this.transform.pitch},J.prototype.setPitch=function(ee,ye){return this.jumpTo({pitch:ee},ye),this},J.prototype.cameraForBounds=function(ee,ye){ee=a.LngLatBounds.convert(ee);var ze=ye&&ye.bearing||0;return this._cameraForBoxAndBearing(ee.getNorthWest(),ee.getSouthEast(),ze,ye)},J.prototype._cameraForBoxAndBearing=function(ee,ye,ze,Ke){var ut={top:0,bottom:0,right:0,left:0};if(Ke=a.extend({padding:ut,offset:[0,0],maxZoom:this.transform.maxZoom},Ke),typeof Ke.padding=="number"){var Ct=Ke.padding;Ke.padding={top:Ct,bottom:Ct,right:Ct,left:Ct}}Ke.padding=a.extend(ut,Ke.padding);var Ut=this.transform,qt=Ut.padding,ur=Ut.project(a.LngLat.convert(ee)),lr=Ut.project(a.LngLat.convert(ye)),_r=ur.rotate(-ze*Math.PI/180),Xr=lr.rotate(-ze*Math.PI/180),Yr=new a.Point(Math.max(_r.x,Xr.x),Math.max(_r.y,Xr.y)),Wr=new a.Point(Math.min(_r.x,Xr.x),Math.min(_r.y,Xr.y)),qr=Yr.sub(Wr),fn=(Ut.width-(qt.left+qt.right+Ke.padding.left+Ke.padding.right))/qr.x,kn=(Ut.height-(qt.top+qt.bottom+Ke.padding.top+Ke.padding.bottom))/qr.y;if(kn<0||fn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Nn=Math.min(Ut.scaleZoom(Ut.scale*Math.min(fn,kn)),Ke.maxZoom),Xn=typeof Ke.offset.x=="number"?new a.Point(Ke.offset.x,Ke.offset.y):a.Point.convert(Ke.offset),Zn=(Ke.padding.left-Ke.padding.right)/2,jn=(Ke.padding.top-Ke.padding.bottom)/2,Jn=new a.Point(Zn,jn),aa=Jn.rotate(ze*Math.PI/180),fa=Xn.add(aa),wa=fa.mult(Ut.scale/Ut.zoomScale(Nn)),ga=Ut.unproject(ur.add(lr).div(2).sub(wa));return{center:ga,zoom:Nn,bearing:ze}},J.prototype.fitBounds=function(ee,ye,ze){return this._fitInternal(this.cameraForBounds(ee,ye),ye,ze)},J.prototype.fitScreenCoordinates=function(ee,ye,ze,Ke,ut){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(ee)),this.transform.pointLocation(a.Point.convert(ye)),ze,Ke),Ke,ut)},J.prototype._fitInternal=function(ee,ye,ze){return ee?(ye=a.extend(ee,ye),delete ye.padding,ye.linear?this.easeTo(ye,ze):this.flyTo(ye,ze)):this},J.prototype.jumpTo=function(ee,ye){this.stop();var ze=this.transform,Ke=!1,ut=!1,Ct=!1;return"zoom"in ee&&ze.zoom!==+ee.zoom&&(Ke=!0,ze.zoom=+ee.zoom),ee.center!==void 0&&(ze.center=a.LngLat.convert(ee.center)),"bearing"in ee&&ze.bearing!==+ee.bearing&&(ut=!0,ze.bearing=+ee.bearing),"pitch"in ee&&ze.pitch!==+ee.pitch&&(Ct=!0,ze.pitch=+ee.pitch),ee.padding!=null&&!ze.isPaddingEqual(ee.padding)&&(ze.padding=ee.padding),this.fire(new a.Event("movestart",ye)).fire(new a.Event("move",ye)),Ke&&this.fire(new a.Event("zoomstart",ye)).fire(new a.Event("zoom",ye)).fire(new a.Event("zoomend",ye)),ut&&this.fire(new a.Event("rotatestart",ye)).fire(new a.Event("rotate",ye)).fire(new a.Event("rotateend",ye)),Ct&&this.fire(new a.Event("pitchstart",ye)).fire(new a.Event("pitch",ye)).fire(new a.Event("pitchend",ye)),this.fire(new a.Event("moveend",ye))},J.prototype.easeTo=function(ee,ye){var ze=this;this._stop(!1,ee.easeId),ee=a.extend({offset:[0,0],duration:500,easing:a.ease},ee),(ee.animate===!1||!ee.essential&&a.browser.prefersReducedMotion)&&(ee.duration=0);var Ke=this.transform,ut=this.getZoom(),Ct=this.getBearing(),Ut=this.getPitch(),qt=this.getPadding(),ur="zoom"in ee?+ee.zoom:ut,lr="bearing"in ee?this._normalizeBearing(ee.bearing,Ct):Ct,_r="pitch"in ee?+ee.pitch:Ut,Xr="padding"in ee?ee.padding:Ke.padding,Yr=a.Point.convert(ee.offset),Wr=Ke.centerPoint.add(Yr),qr=Ke.pointLocation(Wr),fn=a.LngLat.convert(ee.center||qr);this._normalizeCenter(fn);var kn=Ke.project(qr),Nn=Ke.project(fn).sub(kn),Xn=Ke.zoomScale(ur-ut),Zn,jn;ee.around&&(Zn=a.LngLat.convert(ee.around),jn=Ke.locationPoint(Zn));var Jn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ur!==ut,this._rotating=this._rotating||Ct!==lr,this._pitching=this._pitching||_r!==Ut,this._padding=!Ke.isPaddingEqual(Xr),this._easeId=ee.easeId,this._prepareEase(ye,ee.noMoveStart,Jn),this._ease(function(aa){if(ze._zooming&&(Ke.zoom=a.number(ut,ur,aa)),ze._rotating&&(Ke.bearing=a.number(Ct,lr,aa)),ze._pitching&&(Ke.pitch=a.number(Ut,_r,aa)),ze._padding&&(Ke.interpolatePadding(qt,Xr,aa),Wr=Ke.centerPoint.add(Yr)),Zn)Ke.setLocationAtPoint(Zn,jn);else{var fa=Ke.zoomScale(Ke.zoom-ut),wa=ur>ut?Math.min(2,Xn):Math.max(.5,Xn),ga=Math.pow(wa,1-aa),Na=Ke.unproject(kn.add(Nn.mult(aa*ga)).mult(fa));Ke.setLocationAtPoint(Ke.renderWorldCopies?Na.wrap():Na,Wr)}ze._fireMoveEvents(ye)},function(aa){ze._afterEase(ye,aa)},ee),this},J.prototype._prepareEase=function(ee,ye,ze){ze===void 0&&(ze={}),this._moving=!0,!ye&&!ze.moving&&this.fire(new a.Event("movestart",ee)),this._zooming&&!ze.zooming&&this.fire(new a.Event("zoomstart",ee)),this._rotating&&!ze.rotating&&this.fire(new a.Event("rotatestart",ee)),this._pitching&&!ze.pitching&&this.fire(new a.Event("pitchstart",ee))},J.prototype._fireMoveEvents=function(ee){this.fire(new a.Event("move",ee)),this._zooming&&this.fire(new a.Event("zoom",ee)),this._rotating&&this.fire(new a.Event("rotate",ee)),this._pitching&&this.fire(new a.Event("pitch",ee))},J.prototype._afterEase=function(ee,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var ze=this._zooming,Ke=this._rotating,ut=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new a.Event("zoomend",ee)),Ke&&this.fire(new a.Event("rotateend",ee)),ut&&this.fire(new a.Event("pitchend",ee)),this.fire(new a.Event("moveend",ee))}},J.prototype.flyTo=function(ee,ye){var ze=this;if(!ee.essential&&a.browser.prefersReducedMotion){var Ke=a.pick(ee,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ke,ye)}this.stop(),ee=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},ee);var ut=this.transform,Ct=this.getZoom(),Ut=this.getBearing(),qt=this.getPitch(),ur=this.getPadding(),lr="zoom"in ee?a.clamp(+ee.zoom,ut.minZoom,ut.maxZoom):Ct,_r="bearing"in ee?this._normalizeBearing(ee.bearing,Ut):Ut,Xr="pitch"in ee?+ee.pitch:qt,Yr="padding"in ee?ee.padding:ut.padding,Wr=ut.zoomScale(lr-Ct),qr=a.Point.convert(ee.offset),fn=ut.centerPoint.add(qr),kn=ut.pointLocation(fn),Nn=a.LngLat.convert(ee.center||kn);this._normalizeCenter(Nn);var Xn=ut.project(kn),Zn=ut.project(Nn).sub(Xn),jn=ee.curve,Jn=Math.max(ut.width,ut.height),aa=Jn/Wr,fa=Zn.mag();if("minZoom"in ee){var wa=a.clamp(Math.min(ee.minZoom,Ct,lr),ut.minZoom,ut.maxZoom),ga=Jn/ut.zoomScale(wa-Ct);jn=Math.sqrt(ga/fa*2)}var Na=jn*jn;function ri(Ya){var ni=(aa*aa-Jn*Jn+(Ya?-1:1)*Na*Na*fa*fa)/(2*(Ya?aa:Jn)*Na*fa);return Math.log(Math.sqrt(ni*ni+1)-ni)}function Ka(Ya){return(Math.exp(Ya)-Math.exp(-Ya))/2}function Ca(Ya){return(Math.exp(Ya)+Math.exp(-Ya))/2}function $a(Ya){return Ka(Ya)/Ca(Ya)}var ja=ri(0),fi=function(Ya){return Ca(ja)/Ca(ja+jn*Ya)},ii=function(Ya){return Jn*((Ca(ja)*$a(ja+jn*Ya)-Ka(ja))/Na)/fa},Pi=(ri(1)-ja)/jn;if(Math.abs(fa)<1e-6||!isFinite(Pi)){if(Math.abs(Jn-aa)<1e-6)return this.easeTo(ee,ye);var ti=aa<Jn?-1:1;Pi=Math.abs(Math.log(aa/Jn))/jn,ii=function(){return 0},fi=function(Ya){return Math.exp(ti*jn*Ya)}}if("duration"in ee)ee.duration=+ee.duration;else{var Ti="screenSpeed"in ee?+ee.screenSpeed/jn:+ee.speed;ee.duration=1e3*Pi/Ti}return ee.maxDuration&&ee.duration>ee.maxDuration&&(ee.duration=0),this._zooming=!0,this._rotating=Ut!==_r,this._pitching=Xr!==qt,this._padding=!ut.isPaddingEqual(Yr),this._prepareEase(ye,!1),this._ease(function(Ya){var ni=Ya*Pi,$i=1/fi(ni);ut.zoom=Ya===1?lr:Ct+ut.scaleZoom($i),ze._rotating&&(ut.bearing=a.number(Ut,_r,Ya)),ze._pitching&&(ut.pitch=a.number(qt,Xr,Ya)),ze._padding&&(ut.interpolatePadding(ur,Yr,Ya),fn=ut.centerPoint.add(qr));var Ro=Ya===1?Nn:ut.unproject(Xn.add(Zn.mult(ii(ni))).mult($i));ut.setLocationAtPoint(ut.renderWorldCopies?Ro.wrap():Ro,fn),ze._fireMoveEvents(ye)},function(){return ze._afterEase(ye)},ee),this},J.prototype.isEasing=function(){return!!this._easeFrameId},J.prototype.stop=function(){return this._stop()},J.prototype._stop=function(ee,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,ye)}if(!ee){var Ke=this.handlers;Ke&&Ke.stop(!1)}return this},J.prototype._ease=function(ee,ye,ze){ze.animate===!1||ze.duration===0?(ee(1),ye()):(this._easeStart=a.browser.now(),this._easeOptions=ze,this._onEaseFrame=ee,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},J.prototype._renderFrameCallback=function(){var ee=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ee)),ee<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},J.prototype._normalizeBearing=function(ee,ye){ee=a.wrap(ee,-180,180);var ze=Math.abs(ee-ye);return Math.abs(ee-360-ye)<ze&&(ee-=360),Math.abs(ee+360-ye)<ze&&(ee+=360),ee},J.prototype._normalizeCenter=function(ee){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var ze=ee.lng-ye.center.lng;ee.lng+=ze>180?-360:ze<-180?360:0}},J}(a.Evented),ei=function(J){J===void 0&&(J={}),this.options=J,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};ei.prototype.getDefaultPosition=function(){return"bottom-right"},ei.prototype.onAdd=function(J){var ge=this.options&&this.options.compact;return this._map=J,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ge&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ge===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ei.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ei.prototype._setElementTitle=function(J,ge){var ee=this._map._getUIString("AttributionControl."+ge);J.title=ee,J.setAttribute("aria-label",ee)},ei.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},ei.prototype._updateEditLink=function(){var J=this._editLink;J||(J=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ge=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(J){var ee=ge.reduce(function(ye,ze,Ke){return ze.value&&(ye+=ze.key+"="+ze.value+(Ke<ge.length-1?"&":"")),ye},"?");J.href=a.config.FEEDBACK_URL+"/"+ee+(this._map._hash?this._map._hash.getHashString(!0):""),J.rel="noopener nofollow",this._setElementTitle(J,"MapFeedback")}},ei.prototype._updateData=function(J){J&&(J.sourceDataType==="metadata"||J.sourceDataType==="visibility"||J.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},ei.prototype._updateAttributions=function(){if(this._map.style){var J=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?J=J.concat(this.options.customAttribution.map(function(Ct){return typeof Ct!="string"?"":Ct})):typeof this.options.customAttribution=="string"&&J.push(this.options.customAttribution)),this._map.style.stylesheet){var ge=this._map.style.stylesheet;this.styleOwner=ge.owner,this.styleId=ge.id}var ee=this._map.style.sourceCaches;for(var ye in ee){var ze=ee[ye];if(ze.used){var Ke=ze.getSource();Ke.attribution&&J.indexOf(Ke.attribution)<0&&J.push(Ke.attribution)}}J.sort(function(Ct,Ut){return Ct.length-Ut.length}),J=J.filter(function(Ct,Ut){for(var qt=Ut+1;qt<J.length;qt++)if(J[qt].indexOf(Ct)>=0)return!1;return!0});var ut=J.join(" | ");ut!==this._attribHTML&&(this._attribHTML=ut,J.length?(this._innerContainer.innerHTML=ut,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ei.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var zi=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};zi.prototype.onAdd=function(J){this._map=J,this._container=S.create("div","mapboxgl-ctrl");var ge=S.create("a","mapboxgl-ctrl-logo");return ge.target="_blank",ge.rel="noopener nofollow",ge.href="https://www.mapbox.com/",ge.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ge.setAttribute("rel","noopener nofollow"),this._container.appendChild(ge),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},zi.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},zi.prototype.getDefaultPosition=function(){return"bottom-left"},zi.prototype._updateLogo=function(J){(!J||J.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},zi.prototype._logoRequired=function(){if(this._map.style){var J=this._map.style.sourceCaches;for(var ge in J){var ee=J[ge].getSource();if(ee.mapbox_logo)return!0}return!1}},zi.prototype._updateCompact=function(){var J=this._container.children;if(J.length){var ge=J[0];this._map.getCanvasContainer().offsetWidth<250?ge.classList.add("mapboxgl-compact"):ge.classList.remove("mapboxgl-compact")}};var dv=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};dv.prototype.add=function(J){var ge=++this._id,ee=this._queue;return ee.push({callback:J,id:ge,cancelled:!1}),ge},dv.prototype.remove=function(J){for(var ge=this._currentlyRunning,ee=ge?this._queue.concat(ge):this._queue,ye=0,ze=ee;ye<ze.length;ye+=1){var Ke=ze[ye];if(Ke.id===J){Ke.cancelled=!0;return}}},dv.prototype.run=function(J){J===void 0&&(J=0);var ge=this._currentlyRunning=this._queue;this._queue=[];for(var ee=0,ye=ge;ee<ye.length;ee+=1){var ze=ye[ee];if(!ze.cancelled&&(ze.callback(J),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},dv.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var W0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},yc=a.window.HTMLImageElement,lp=a.window.HTMLElement,Ff=a.window.ImageBitmap,fh=-2,ch=22,Ts=0,Nf=60,up={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:fh,maxZoom:ch,minPitch:Ts,maxPitch:Nf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},fp=function(ve){function J(ee){var ye=this;if(ee=a.extend({},up,ee),ee.minZoom!=null&&ee.maxZoom!=null&&ee.minZoom>ee.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ee.minPitch!=null&&ee.maxPitch!=null&&ee.minPitch>ee.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ee.minPitch!=null&&ee.minPitch<Ts)throw new Error("minPitch must be greater than or equal to "+Ts);if(ee.maxPitch!=null&&ee.maxPitch>Nf)throw new Error("maxPitch must be less than or equal to "+Nf);var ze=new In(ee.minZoom,ee.maxZoom,ee.minPitch,ee.maxPitch,ee.renderWorldCopies);if(ve.call(this,ze,ee),this._interactive=ee.interactive,this._maxTileCacheSize=ee.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ee.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ee.preserveDrawingBuffer,this._antialias=ee.antialias,this._trackResize=ee.trackResize,this._bearingSnap=ee.bearingSnap,this._refreshExpiredTiles=ee.refreshExpiredTiles,this._fadeDuration=ee.fadeDuration,this._crossSourceCollisions=ee.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ee.collectResourceTiming,this._renderTaskQueue=new dv,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},W0,ee.locale),this._clickTolerance=ee.clickTolerance,this._requestManager=new a.RequestManager(ee.transformRequest,ee.accessToken),typeof ee.container=="string"){if(this._container=a.window.document.getElementById(ee.container),!this._container)throw new Error("Container '"+ee.container+"' not found.")}else if(ee.container instanceof lp)this._container=ee.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ee.maxBounds&&this.setMaxBounds(ee.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Oi(this,ee);var Ke=typeof ee.hash=="string"&&ee.hash||void 0;this._hash=ee.hash&&new ka(Ke).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ee.center,zoom:ee.zoom,bearing:ee.bearing,pitch:ee.pitch}),ee.bounds&&(this.resize(),this.fitBounds(ee.bounds,a.extend({},ee.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ee.localIdeographFontFamily,ee.style&&this.setStyle(ee.style,{localIdeographFontFamily:ee.localIdeographFontFamily}),ee.attributionControl&&this.addControl(new ei({customAttribution:ee.customAttribution})),this.addControl(new zi,ee.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(ut){ye._update(ut.dataType==="style"),ye.fire(new a.Event(ut.dataType+"data",ut))}),this.on("dataloading",function(ut){ye.fire(new a.Event(ut.dataType+"dataloading",ut))})}ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J;var ge={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return J.prototype._getMapId=function(){return this._mapId},J.prototype.addControl=function(ye,ze){if(ze===void 0&&(ye.getDefaultPosition?ze=ye.getDefaultPosition():ze="top-right"),!ye||!ye.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ke=ye.onAdd(this);this._controls.push(ye);var ut=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?ut.insertBefore(Ke,ut.firstChild):ut.appendChild(Ke),this},J.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(ye);return ze>-1&&this._controls.splice(ze,1),ye.onRemove(this),this},J.prototype.hasControl=function(ye){return this._controls.indexOf(ye)>-1},J.prototype.resize=function(ye){var ze=this._containerDimensions(),Ke=ze[0],ut=ze[1];this._resizeCanvas(Ke,ut),this.transform.resize(Ke,ut),this.painter.resize(Ke,ut);var Ct=!this._moving;return Ct&&(this.stop(),this.fire(new a.Event("movestart",ye)).fire(new a.Event("move",ye))),this.fire(new a.Event("resize",ye)),Ct&&this.fire(new a.Event("moveend",ye)),this},J.prototype.getBounds=function(){return this.transform.getBounds()},J.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},J.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(a.LngLatBounds.convert(ye)),this._update()},J.prototype.setMinZoom=function(ye){if(ye=ye??fh,ye>=fh&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+fh+" and the current maxZoom, inclusive")},J.prototype.getMinZoom=function(){return this.transform.minZoom},J.prototype.setMaxZoom=function(ye){if(ye=ye??ch,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},J.prototype.getMaxZoom=function(){return this.transform.maxZoom},J.prototype.setMinPitch=function(ye){if(ye=ye??Ts,ye<Ts)throw new Error("minPitch must be greater than or equal to "+Ts);if(ye>=Ts&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+Ts+" and the current maxPitch, inclusive")},J.prototype.getMinPitch=function(){return this.transform.minPitch},J.prototype.setMaxPitch=function(ye){if(ye=ye??Nf,ye>Nf)throw new Error("maxPitch must be less than or equal to "+Nf);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},J.prototype.getMaxPitch=function(){return this.transform.maxPitch},J.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},J.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},J.prototype.project=function(ye){return this.transform.locationPoint(a.LngLat.convert(ye))},J.prototype.unproject=function(ye){return this.transform.pointLocation(a.Point.convert(ye))},J.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},J.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},J.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},J.prototype._createDelegatedListener=function(ye,ze,Ke){var ut=this,Ct;if(ye==="mouseenter"||ye==="mouseover"){var Ut=!1,qt=function(Wr){var qr=ut.getLayer(ze)?ut.queryRenderedFeatures(Wr.point,{layers:[ze]}):[];qr.length?Ut||(Ut=!0,Ke.call(ut,new qe(ye,ut,Wr.originalEvent,{features:qr}))):Ut=!1},ur=function(){Ut=!1};return{layer:ze,listener:Ke,delegates:{mousemove:qt,mouseout:ur}}}else if(ye==="mouseleave"||ye==="mouseout"){var lr=!1,_r=function(Wr){var qr=ut.getLayer(ze)?ut.queryRenderedFeatures(Wr.point,{layers:[ze]}):[];qr.length?lr=!0:lr&&(lr=!1,Ke.call(ut,new qe(ye,ut,Wr.originalEvent)))},Xr=function(Wr){lr&&(lr=!1,Ke.call(ut,new qe(ye,ut,Wr.originalEvent)))};return{layer:ze,listener:Ke,delegates:{mousemove:_r,mouseout:Xr}}}else{var Yr=function(Wr){var qr=ut.getLayer(ze)?ut.queryRenderedFeatures(Wr.point,{layers:[ze]}):[];qr.length&&(Wr.features=qr,Ke.call(ut,Wr),delete Wr.features)};return{layer:ze,listener:Ke,delegates:(Ct={},Ct[ye]=Yr,Ct)}}},J.prototype.on=function(ye,ze,Ke){if(Ke===void 0)return ve.prototype.on.call(this,ye,ze);var ut=this._createDelegatedListener(ye,ze,Ke);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(ut);for(var Ct in ut.delegates)this.on(Ct,ut.delegates[Ct]);return this},J.prototype.once=function(ye,ze,Ke){if(Ke===void 0)return ve.prototype.once.call(this,ye,ze);var ut=this._createDelegatedListener(ye,ze,Ke);for(var Ct in ut.delegates)this.once(Ct,ut.delegates[Ct]);return this},J.prototype.off=function(ye,ze,Ke){var ut=this;if(Ke===void 0)return ve.prototype.off.call(this,ye,ze);var Ct=function(Ut){for(var qt=Ut[ye],ur=0;ur<qt.length;ur++){var lr=qt[ur];if(lr.layer===ze&&lr.listener===Ke){for(var _r in lr.delegates)ut.off(_r,lr.delegates[_r]);return qt.splice(ur,1),ut}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&Ct(this._delegatedListeners),this},J.prototype.queryRenderedFeatures=function(ye,ze){if(!this.style)return[];ze===void 0&&ye!==void 0&&!(ye instanceof a.Point)&&!Array.isArray(ye)&&(ze=ye,ye=void 0),ze=ze||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Ke;if(ye instanceof a.Point||typeof ye[0]=="number")Ke=[a.Point.convert(ye)];else{var ut=a.Point.convert(ye[0]),Ct=a.Point.convert(ye[1]);Ke=[ut,new a.Point(Ct.x,ut.y),Ct,new a.Point(ut.x,Ct.y),ut]}return this.style.queryRenderedFeatures(Ke,ze,this.transform)},J.prototype.querySourceFeatures=function(ye,ze){return this.style.querySourceFeatures(ye,ze)},J.prototype.setStyle=function(ye,ze){return ze=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(ye,ze))},J.prototype._getUIString=function(ye){var ze=this._locale[ye];if(ze==null)throw new Error("Missing UI string '"+ye+"'");return ze},J.prototype._updateStyle=function(ye,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new es(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},J.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new es(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},J.prototype._diffStyle=function(ye,ze){var Ke=this;if(typeof ye=="string"){var ut=this._requestManager.normalizeStyleURL(ye),Ct=this._requestManager.transformRequest(ut,a.ResourceType.Style);a.getJSON(Ct,function(Ut,qt){Ut?Ke.fire(new a.ErrorEvent(Ut)):qt&&Ke._updateDiff(qt,ze)})}else typeof ye=="object"&&this._updateDiff(ye,ze)},J.prototype._updateDiff=function(ye,ze){try{this.style.setState(ye)&&this._update(!0)}catch(Ke){a.warnOnce("Unable to perform style diff: "+(Ke.message||Ke.error||Ke)+".  Rebuilding the style from scratch."),this._updateStyle(ye,ze)}},J.prototype.getStyle=function(){if(this.style)return this.style.serialize()},J.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},J.prototype.addSource=function(ye,ze){return this._lazyInitEmptyStyle(),this.style.addSource(ye,ze),this._update(!0)},J.prototype.isSourceLoaded=function(ye){var ze=this.style&&this.style.sourceCaches[ye];if(ze===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return ze.loaded()},J.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var ze in ye){var Ke=ye[ze],ut=Ke._tiles;for(var Ct in ut){var Ut=ut[Ct];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},J.prototype.addSourceType=function(ye,ze,Ke){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,ze,Ke)},J.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},J.prototype.getSource=function(ye){return this.style.getSource(ye)},J.prototype.addImage=function(ye,ze,Ke){Ke===void 0&&(Ke={});var ut=Ke.pixelRatio;ut===void 0&&(ut=1);var Ct=Ke.sdf;Ct===void 0&&(Ct=!1);var Ut=Ke.stretchX,qt=Ke.stretchY,ur=Ke.content;this._lazyInitEmptyStyle();var lr=0;if(ze instanceof yc||Ff&&ze instanceof Ff){var _r=a.browser.getImageData(ze),Xr=_r.width,Yr=_r.height,Wr=_r.data;this.style.addImage(ye,{data:new a.RGBAImage({width:Xr,height:Yr},Wr),pixelRatio:ut,stretchX:Ut,stretchY:qt,content:ur,sdf:Ct,version:lr})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var qr=ze.width,fn=ze.height,kn=ze.data,Nn=ze;this.style.addImage(ye,{data:new a.RGBAImage({width:qr,height:fn},new Uint8Array(kn)),pixelRatio:ut,stretchX:Ut,stretchY:qt,content:ur,sdf:Ct,version:lr,userImage:Nn}),Nn.onAdd&&Nn.onAdd(this,ye)}},J.prototype.updateImage=function(ye,ze){var Ke=this.style.getImage(ye);if(!Ke)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ut=ze instanceof yc||Ff&&ze instanceof Ff?a.browser.getImageData(ze):ze,Ct=ut.width,Ut=ut.height,qt=ut.data;if(Ct===void 0||Ut===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ct!==Ke.data.width||Ut!==Ke.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ur=!(ze instanceof yc||Ff&&ze instanceof Ff);Ke.data.replace(qt,ur),this.style.updateImage(ye,Ke)},J.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},J.prototype.removeImage=function(ye){this.style.removeImage(ye)},J.prototype.loadImage=function(ye,ze){a.getImage(this._requestManager.transformRequest(ye,a.ResourceType.Image),ze)},J.prototype.listImages=function(){return this.style.listImages()},J.prototype.addLayer=function(ye,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,ze),this._update(!0)},J.prototype.moveLayer=function(ye,ze){return this.style.moveLayer(ye,ze),this._update(!0)},J.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},J.prototype.getLayer=function(ye){return this.style.getLayer(ye)},J.prototype.setLayerZoomRange=function(ye,ze,Ke){return this.style.setLayerZoomRange(ye,ze,Ke),this._update(!0)},J.prototype.setFilter=function(ye,ze,Ke){return Ke===void 0&&(Ke={}),this.style.setFilter(ye,ze,Ke),this._update(!0)},J.prototype.getFilter=function(ye){return this.style.getFilter(ye)},J.prototype.setPaintProperty=function(ye,ze,Ke,ut){return ut===void 0&&(ut={}),this.style.setPaintProperty(ye,ze,Ke,ut),this._update(!0)},J.prototype.getPaintProperty=function(ye,ze){return this.style.getPaintProperty(ye,ze)},J.prototype.setLayoutProperty=function(ye,ze,Ke,ut){return ut===void 0&&(ut={}),this.style.setLayoutProperty(ye,ze,Ke,ut),this._update(!0)},J.prototype.getLayoutProperty=function(ye,ze){return this.style.getLayoutProperty(ye,ze)},J.prototype.setLight=function(ye,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,ze),this._update(!0)},J.prototype.getLight=function(){return this.style.getLight()},J.prototype.setFeatureState=function(ye,ze){return this.style.setFeatureState(ye,ze),this._update()},J.prototype.removeFeatureState=function(ye,ze){return this.style.removeFeatureState(ye,ze),this._update()},J.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},J.prototype.getContainer=function(){return this._container},J.prototype.getCanvasContainer=function(){return this._canvasContainer},J.prototype.getCanvas=function(){return this._canvas},J.prototype._containerDimensions=function(){var ye=0,ze=0;return this._container&&(ye=this._container.clientWidth||400,ze=this._container.clientHeight||300),[ye,ze]},J.prototype._detectMissingCSS=function(){var ye=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},J.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=S.create("div","mapboxgl-canary",ye);ze.style.visibility="hidden",this._detectMissingCSS();var Ke=this._canvasContainer=S.create("div","mapboxgl-canvas-container",ye);this._interactive&&Ke.classList.add("mapboxgl-interactive"),this._canvas=S.create("canvas","mapboxgl-canvas",Ke),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ut=this._containerDimensions();this._resizeCanvas(ut[0],ut[1]);var Ct=this._controlContainer=S.create("div","mapboxgl-control-container",ye),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Ut[qt]=S.create("div","mapboxgl-ctrl-"+qt,Ct)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},J.prototype._resizeCanvas=function(ye,ze){var Ke=a.browser.devicePixelRatio||1;this._canvas.width=Ke*ye,this._canvas.height=Ke*ze,this._canvas.style.width=ye+"px",this._canvas.style.height=ze+"px"},J.prototype._setupPainter=function(){var ye=a.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!ze){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Ur(ze,this.transform),a.webpSupported.testSupport(ze)},J.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:ye}))},J.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:ye}))},J.prototype._onMapScroll=function(ye){if(ye.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},J.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},J.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},J.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},J.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},J.prototype._render=function(ye){var ze=this,Ke,ut=0,Ct=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ke=Ct.createQueryEXT(),Ct.beginQueryEXT(Ct.TIME_ELAPSED_EXT,Ke),ut=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,ur=a.browser.now();this.style.zoomHistory.update(qt,ur);var lr=new a.EvaluationParameters(qt,{now:ur,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),_r=lr.crossFadingFactor();(_r!==1||_r!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=_r),this.style.update(lr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xr=a.browser.now()-ut;Ct.endQueryEXT(Ct.TIME_ELAPSED_EXT,Ke),setTimeout(function(){var qr=Ct.getQueryObjectEXT(Ke,Ct.QUERY_RESULT_EXT)/1e6;Ct.deleteQueryEXT(Ke),ze.fire(new a.Event("gpu-timing-frame",{cpuTime:Xr,gpuTime:qr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var qr=ze.painter.queryGpuTimers(Yr);ze.fire(new a.Event("gpu-timing-layer",{layerTimes:qr}))},50)}var Wr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Wr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),this._loaded&&!this._fullyLoaded&&!Wr&&(this._fullyLoaded=!0),this}},J.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,ze=this._controls;ye<ze.length;ye+=1){var Ke=ze[ye];Ke.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ut=this.painter.context.gl.getExtension("WEBGL_lose_context");ut&&ut.loseContext&&ut.loseContext(),pv(this._canvasContainer),pv(this._controlContainer),pv(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},J.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(ze){ye._frame=null,ye._render(ze)}))},J.prototype._onWindowOnline=function(){this._update()},J.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},ge.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ge.showTileBoundaries.set=function(ee){this._showTileBoundaries!==ee&&(this._showTileBoundaries=ee,this._update())},ge.showPadding.get=function(){return!!this._showPadding},ge.showPadding.set=function(ee){this._showPadding!==ee&&(this._showPadding=ee,this._update())},ge.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ge.showCollisionBoxes.set=function(ee){this._showCollisionBoxes!==ee&&(this._showCollisionBoxes=ee,ee?this.style._generateCollisionBoxes():this._update())},ge.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ge.showOverdrawInspector.set=function(ee){this._showOverdrawInspector!==ee&&(this._showOverdrawInspector=ee,this._update())},ge.repaint.get=function(){return!!this._repaint},ge.repaint.set=function(ee){this._repaint!==ee&&(this._repaint=ee,this.triggerRepaint())},ge.vertices.get=function(){return!!this._vertices},ge.vertices.set=function(ee){this._vertices=ee,this._update()},J.prototype._setCacheLimits=function(ye,ze){a.setCacheLimits(ye,ze)},ge.version.get=function(){return a.version},Object.defineProperties(J.prototype,ge),J}(mu);function pv(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var Gv={showCompass:!0,showZoom:!0,visualizePitch:!1},af=function(J){var ge=this;this.options=a.extend({},Gv,J),this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ee){return ee.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ee){return ge._map.zoomIn({},{originalEvent:ee})}),S.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ee){return ge._map.zoomOut({},{originalEvent:ee})}),S.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ee){ge.options.visualizePitch?ge._map.resetNorthPitch({},{originalEvent:ee}):ge._map.resetNorth({},{originalEvent:ee})}),this._compassIcon=S.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};af.prototype._updateZoomButtons=function(){var J=this._map.getZoom(),ge=J===this._map.getMaxZoom(),ee=J===this._map.getMinZoom();this._zoomInButton.disabled=ge,this._zoomOutButton.disabled=ee,this._zoomInButton.setAttribute("aria-disabled",ge.toString()),this._zoomOutButton.setAttribute("aria-disabled",ee.toString())},af.prototype._rotateCompassArrow=function(){var J=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=J},af.prototype.onAdd=function(J){return this._map=J,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ns(this._map,this._compass,this.options.visualizePitch)),this._container},af.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},af.prototype._createButton=function(J,ge){var ee=S.create("button",J,this._container);return ee.type="button",ee.addEventListener("click",ge),ee},af.prototype._setButtonTitle=function(J,ge){var ee=this._map._getUIString("NavigationControl."+ge);J.title=ee,J.setAttribute("aria-label",ee)};var Ns=function(J,ge,ee){ee===void 0&&(ee=!1),this._clickTolerance=10,this.element=ge,this.mouseRotate=new ca({clickTolerance:J.dragRotate._mouseRotate._clickTolerance}),this.map=J,ee&&(this.mousePitch=new ea({clickTolerance:J.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(ge,"mousedown",this.mousedown),S.addEventListener(ge,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(ge,"touchmove",this.touchmove),S.addEventListener(ge,"touchend",this.touchend),S.addEventListener(ge,"touchcancel",this.reset)};Ns.prototype.down=function(J,ge){this.mouseRotate.mousedown(J,ge),this.mousePitch&&this.mousePitch.mousedown(J,ge),S.disableDrag()},Ns.prototype.move=function(J,ge){var ee=this.map,ye=this.mouseRotate.mousemoveWindow(J,ge);if(ye&&ye.bearingDelta&&ee.setBearing(ee.getBearing()+ye.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow(J,ge);ze&&ze.pitchDelta&&ee.setPitch(ee.getPitch()+ze.pitchDelta)}},Ns.prototype.off=function(){var J=this.element;S.removeEventListener(J,"mousedown",this.mousedown),S.removeEventListener(J,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener(J,"touchmove",this.touchmove),S.removeEventListener(J,"touchend",this.touchend),S.removeEventListener(J,"touchcancel",this.reset),this.offTemp()},Ns.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(a.window,"mousemove",this.mousemove),S.removeEventListener(a.window,"mouseup",this.mouseup)},Ns.prototype.mousedown=function(J){this.down(a.extend({},J,{ctrlKey:!0,preventDefault:function(){return J.preventDefault()}}),S.mousePos(this.element,J)),S.addEventListener(a.window,"mousemove",this.mousemove),S.addEventListener(a.window,"mouseup",this.mouseup)},Ns.prototype.mousemove=function(J){this.move(J,S.mousePos(this.element,J))},Ns.prototype.mouseup=function(J){this.mouseRotate.mouseupWindow(J),this.mousePitch&&this.mousePitch.mouseupWindow(J),this.offTemp()},Ns.prototype.touchstart=function(J){J.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,J.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return J.preventDefault()}},this._startPos))},Ns.prototype.touchmove=function(J){J.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,J.targetTouches)[0],this.move({preventDefault:function(){return J.preventDefault()}},this._lastPos))},Ns.prototype.touchend=function(J){J.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ns.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function of(ve,J,ge){if(ve=new a.LngLat(ve.lng,ve.lat),J){var ee=new a.LngLat(ve.lng-360,ve.lat),ye=new a.LngLat(ve.lng+360,ve.lat),ze=ge.locationPoint(ve).distSqr(J);ge.locationPoint(ee).distSqr(J)<ze?ve=ee:ge.locationPoint(ye).distSqr(J)<ze&&(ve=ye)}for(;Math.abs(ve.lng-ge.center.lng)>180;){var Ke=ge.locationPoint(ve);if(Ke.x>=0&&Ke.y>=0&&Ke.x<=ge.width&&Ke.y<=ge.height)break;ve.lng>ge.center.lng?ve.lng-=360:ve.lng+=360}return ve}var gv={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Wv(ve,J,ge){var ee=ve.classList;for(var ye in gv)ee.remove("mapboxgl-"+ge+"-anchor-"+ye);ee.add("mapboxgl-"+ge+"-anchor-"+J)}var hh=function(ve){function J(ge,ee){if(ve.call(this),(ge instanceof a.window.HTMLElement||ee)&&(ge=a.extend({element:ge},ee)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ge&&ge.anchor||"center",this._color=ge&&ge.color||"#3FB1CE",this._scale=ge&&ge.scale||1,this._draggable=ge&&ge.draggable||!1,this._clickTolerance=ge&&ge.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ge&&ge.rotation||0,this._rotationAlignment=ge&&ge.rotationAlignment||"auto",this._pitchAlignment=ge&&ge.pitchAlignment&&ge.pitchAlignment!=="auto"?ge.pitchAlignment:this._rotationAlignment,!ge||!ge.element){this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var ye=S.createNS("http://www.w3.org/2000/svg","svg"),ze=41,Ke=27;ye.setAttributeNS(null,"display","block"),ye.setAttributeNS(null,"height",ze+"px"),ye.setAttributeNS(null,"width",Ke+"px"),ye.setAttributeNS(null,"viewBox","0 0 "+Ke+" "+ze);var ut=S.createNS("http://www.w3.org/2000/svg","g");ut.setAttributeNS(null,"stroke","none"),ut.setAttributeNS(null,"stroke-width","1"),ut.setAttributeNS(null,"fill","none"),ut.setAttributeNS(null,"fill-rule","evenodd");var Ct=S.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"fill-rule","nonzero");var Ut=S.createNS("http://www.w3.org/2000/svg","g");Ut.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ut.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],ur=0,lr=qt;ur<lr.length;ur+=1){var _r=lr[ur],Xr=S.createNS("http://www.w3.org/2000/svg","ellipse");Xr.setAttributeNS(null,"opacity","0.04"),Xr.setAttributeNS(null,"cx","10.5"),Xr.setAttributeNS(null,"cy","5.80029008"),Xr.setAttributeNS(null,"rx",_r.rx),Xr.setAttributeNS(null,"ry",_r.ry),Ut.appendChild(Xr)}var Yr=S.createNS("http://www.w3.org/2000/svg","g");Yr.setAttributeNS(null,"fill",this._color);var Wr=S.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Yr.appendChild(Wr);var qr=S.createNS("http://www.w3.org/2000/svg","g");qr.setAttributeNS(null,"opacity","0.25"),qr.setAttributeNS(null,"fill","#000000");var fn=S.createNS("http://www.w3.org/2000/svg","path");fn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),qr.appendChild(fn);var kn=S.createNS("http://www.w3.org/2000/svg","g");kn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),kn.setAttributeNS(null,"fill","#FFFFFF");var Nn=S.createNS("http://www.w3.org/2000/svg","g");Nn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Xn=S.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#000000"),Xn.setAttributeNS(null,"opacity","0.25"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962");var Zn=S.createNS("http://www.w3.org/2000/svg","circle");Zn.setAttributeNS(null,"fill","#FFFFFF"),Zn.setAttributeNS(null,"cx","5.5"),Zn.setAttributeNS(null,"cy","5.5"),Zn.setAttributeNS(null,"r","5.4999962"),Nn.appendChild(Xn),Nn.appendChild(Zn),Ct.appendChild(Ut),Ct.appendChild(Yr),Ct.appendChild(qr),Ct.appendChild(kn),Ct.appendChild(Nn),ye.appendChild(Ct),ye.setAttributeNS(null,"height",ze*this._scale+"px"),ye.setAttributeNS(null,"width",Ke*this._scale+"px"),this._element.appendChild(ye),this._offset=a.Point.convert(ge&&ge.offset||[0,-14])}else this._element=ge.element,this._offset=a.Point.convert(ge&&ge.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(jn){jn.preventDefault()}),this._element.addEventListener("mousedown",function(jn){jn.preventDefault()}),Wv(this._element,this._anchor,"marker"),this._popup=null}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.addTo=function(ee){return this.remove(),this._map=ee,ee.getCanvasContainer().appendChild(this._element),ee.on("move",this._update),ee.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},J.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},J.prototype.getLngLat=function(){return this._lngLat},J.prototype.setLngLat=function(ee){return this._lngLat=a.LngLat.convert(ee),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},J.prototype.getElement=function(){return this._element},J.prototype.setPopup=function(ee){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ee){if(!("offset"in ee.options)){var ye=38.1,ze=13.5,Ke=Math.sqrt(Math.pow(ze,2)/2);ee.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Ke,(ye-ze+Ke)*-1],"bottom-right":[-Ke,(ye-ze+Ke)*-1],left:[ze,(ye-ze)*-1],right:[-ze,(ye-ze)*-1]}:this._offset}this._popup=ee,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},J.prototype._onKeyPress=function(ee){var ye=ee.code,ze=ee.charCode||ee.keyCode;(ye==="Space"||ye==="Enter"||ze===32||ze===13)&&this.togglePopup()},J.prototype._onMapClick=function(ee){var ye=ee.originalEvent.target,ze=this._element;this._popup&&(ye===ze||ze.contains(ye))&&this.togglePopup()},J.prototype.getPopup=function(){return this._popup},J.prototype.togglePopup=function(){var ee=this._popup;if(ee)ee.isOpen()?ee.remove():ee.addTo(this._map);else return this;return this},J.prototype._update=function(ee){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=of(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!ee||ee.type==="moveend")&&(this._pos=this._pos.round()),S.setTransform(this._element,gv[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+ye)}},J.prototype.getOffset=function(){return this._offset},J.prototype.setOffset=function(ee){return this._offset=a.Point.convert(ee),this._update(),this},J.prototype._onMove=function(ee){if(!this._isDragging){var ye=this._clickTolerance||this._map._clickTolerance;this._isDragging=ee.point.dist(this._pointerdownPos)>=ye}this._isDragging&&(this._pos=ee.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},J.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},J.prototype._addDragHandler=function(ee){this._element.contains(ee.originalEvent.target)&&(ee.preventDefault(),this._positionDelta=ee.point.sub(this._pos).add(this._offset),this._pointerdownPos=ee.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},J.prototype.setDraggable=function(ee){return this._draggable=!!ee,this._map&&(ee?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},J.prototype.isDraggable=function(){return this._draggable},J.prototype.setRotation=function(ee){return this._rotation=ee||0,this._update(),this},J.prototype.getRotation=function(){return this._rotation},J.prototype.setRotationAlignment=function(ee){return this._rotationAlignment=ee||"auto",this._update(),this},J.prototype.getRotationAlignment=function(){return this._rotationAlignment},J.prototype.setPitchAlignment=function(ee){return this._pitchAlignment=ee&&ee!=="auto"?ee:this._rotationAlignment,this._update(),this},J.prototype.getPitchAlignment=function(){return this._pitchAlignment},J}(a.Evented),cp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Bf;function yv(ve){Bf!==void 0?ve(Bf):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(J){Bf=J.state!=="denied",ve(Bf)}):(Bf=!!a.window.navigator.geolocation,ve(Bf))}var vh=0,mc=!1,j0=function(ve){function J(ge){ve.call(this),this.options=a.extend({},cp,ge),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.onAdd=function(ee){return this._map=ee,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),yv(this._setupUI),this._container},J.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,vh=0,mc=!1},J.prototype._isOutOfMapMaxBounds=function(ee){var ye=this._map.getMaxBounds(),ze=ee.coords;return ye&&(ze.longitude<ye.getWest()||ze.longitude>ye.getEast()||ze.latitude<ye.getSouth()||ze.latitude>ye.getNorth())},J.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},J.prototype._onSuccess=function(ee){if(this._map){if(this._isOutOfMapMaxBounds(ee)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",ee)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ee,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ee),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ee),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",ee)),this._finish()}},J.prototype._updateCamera=function(ee){var ye=new a.LngLat(ee.coords.longitude,ee.coords.latitude),ze=ee.coords.accuracy,Ke=this._map.getBearing(),ut=a.extend({bearing:Ke},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(ze),ut,{geolocateSource:!0})},J.prototype._updateMarker=function(ee){if(ee){var ye=new a.LngLat(ee.coords.longitude,ee.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=ee.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},J.prototype._updateCircleRadius=function(){var ee=this._map._container.clientHeight/2,ye=this._map.unproject([0,ee]),ze=this._map.unproject([1,ee]),Ke=ye.distanceTo(ze),ut=Math.ceil(2*this._accuracy/Ke);this._circleElement.style.width=ut+"px",this._circleElement.style.height=ut+"px"},J.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},J.prototype._onError=function(ee){if(this._map){if(this.options.trackUserLocation)if(ee.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ee.code===3&&mc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",ee)),this._finish()}},J.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},J.prototype._setupUI=function(ee){var ye=this;if(this._container.addEventListener("contextmenu",function(ut){return ut.preventDefault()}),this._geolocateButton=S.create("button","mapboxgl-ctrl-geolocate",this._container),S.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ee===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var Ke=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ke,this._geolocateButton.setAttribute("aria-label",Ke)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new hh(this._dotElement),this._circleElement=S.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new hh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ut){var Ct=ut.originalEvent&&ut.originalEvent.type==="resize";!ut.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!Ct&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new a.Event("trackuserlocationend")))})},J.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":vh--,mc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),vh++;var ee;vh>1?(ee={maximumAge:6e5,timeout:0},mc=!0):(ee=this.options.positionOptions,mc=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ee)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},J.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},J}(a.Evented),hp={maxWidth:100,unit:"metric"},xc=function(J){this.options=a.extend({},hp,J),a.bindAll(["_onMove","setUnit"],this)};xc.prototype.getDefaultPosition=function(){return"bottom-left"},xc.prototype._onMove=function(){vp(this._map,this._container,this.options)},xc.prototype.onAdd=function(J){return this._map=J,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",J.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},xc.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},xc.prototype.setUnit=function(J){this.options.unit=J,vp(this._map,this._container,this.options)};function vp(ve,J,ge){var ee=ge&&ge.maxWidth||100,ye=ve._container.clientHeight/2,ze=ve.unproject([0,ye]),Ke=ve.unproject([ee,ye]),ut=ze.distanceTo(Ke);if(ge&&ge.unit==="imperial"){var Ct=3.2808*ut;if(Ct>5280){var Ut=Ct/5280;dh(J,ee,Ut,ve._getUIString("ScaleControl.Miles"))}else dh(J,ee,Ct,ve._getUIString("ScaleControl.Feet"))}else if(ge&&ge.unit==="nautical"){var qt=ut/1852;dh(J,ee,qt,ve._getUIString("ScaleControl.NauticalMiles"))}else ut>=1e3?dh(J,ee,ut/1e3,ve._getUIString("ScaleControl.Kilometers")):dh(J,ee,ut,ve._getUIString("ScaleControl.Meters"))}function dh(ve,J,ge,ee){var ye=X0(ge),ze=ye/ge;ve.style.width=J*ze+"px",ve.innerHTML=ye+"&nbsp;"+ee}function Y0(ve){var J=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*J)/J}function X0(ve){var J=Math.pow(10,(""+Math.floor(ve)).length-1),ge=ve/J;return ge=ge>=10?10:ge>=5?5:ge>=3?3:ge>=2?2:ge>=1?1:Y0(ge),J*ge}var Nl=function(J){this._fullscreen=!1,J&&J.container&&(J.container instanceof a.window.HTMLElement?this._container=J.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Nl.prototype.onAdd=function(J){return this._map=J,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Nl.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Nl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Nl.prototype._setupUI=function(){var J=this._fullscreenButton=S.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","mapboxgl-ctrl-icon",J).setAttribute("aria-hidden",!0),J.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Nl.prototype._updateTitle=function(){var J=this._getTitle();this._fullscreenButton.setAttribute("aria-label",J),this._fullscreenButton.title=J},Nl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Nl.prototype._isFullscreen=function(){return this._fullscreen},Nl.prototype._changeIcon=function(){var J=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;J===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Nl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Z0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},K0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Zm=function(ve){function J(ge){ve.call(this),this.options=a.extend(Object.create(Z0),ge),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(J.__proto__=ve),J.prototype=Object.create(ve&&ve.prototype),J.prototype.constructor=J,J.prototype.addTo=function(ee){return this._map&&this.remove(),this._map=ee,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},J.prototype.isOpen=function(){return!!this._map},J.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},J.prototype.getLngLat=function(){return this._lngLat},J.prototype.setLngLat=function(ee){return this._lngLat=a.LngLat.convert(ee),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},J.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},J.prototype.getElement=function(){return this._container},J.prototype.setText=function(ee){return this.setDOMContent(a.window.document.createTextNode(ee))},J.prototype.setHTML=function(ee){var ye=a.window.document.createDocumentFragment(),ze=a.window.document.createElement("body"),Ke;for(ze.innerHTML=ee;Ke=ze.firstChild,!!Ke;)ye.appendChild(Ke);return this.setDOMContent(ye)},J.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},J.prototype.setMaxWidth=function(ee){return this.options.maxWidth=ee,this._update(),this},J.prototype.setDOMContent=function(ee){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(ee),this._createCloseButton(),this._update(),this._focusFirstElement(),this},J.prototype.addClassName=function(ee){this._container&&this._container.classList.add(ee)},J.prototype.removeClassName=function(ee){this._container&&this._container.classList.remove(ee)},J.prototype.setOffset=function(ee){return this.options.offset=ee,this._update(),this},J.prototype.toggleClassName=function(ee){if(this._container)return this._container.classList.toggle(ee)},J.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},J.prototype._onMouseUp=function(ee){this._update(ee.point)},J.prototype._onMouseMove=function(ee){this._update(ee.point)},J.prototype._onDrag=function(ee){this._update(ee.point)},J.prototype._update=function(ee){var ye=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=S.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_r){return ye._container.classList.add(_r)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=of(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ee))){var Ke=this._pos=this._trackPointer&&ee?ee:this._map.project(this._lngLat),ut=this.options.anchor,Ct=J0(this.options.offset);if(!ut){var Ut=this._container.offsetWidth,qt=this._container.offsetHeight,ur;Ke.y+Ct.bottom.y<qt?ur=["top"]:Ke.y>this._map.transform.height-qt?ur=["bottom"]:ur=[],Ke.x<Ut/2?ur.push("left"):Ke.x>this._map.transform.width-Ut/2&&ur.push("right"),ur.length===0?ut="bottom":ut=ur.join("-")}var lr=Ke.add(Ct[ut]).round();S.setTransform(this._container,gv[ut]+" translate("+lr.x+"px,"+lr.y+"px)"),Wv(this._container,ut,"popup")}},J.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var ee=this._container.querySelector(K0);ee&&ee.focus()}},J.prototype._onClose=function(){this.remove()},J}(a.Evented);function J0(ve){if(ve)if(typeof ve=="number"){var J=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new a.Point(0,0),top:new a.Point(0,ve),"top-left":new a.Point(J,J),"top-right":new a.Point(-J,J),bottom:new a.Point(0,-ve),"bottom-left":new a.Point(J,-J),"bottom-right":new a.Point(-J,-J),left:new a.Point(ve,0),right:new a.Point(-ve,0)}}else if(ve instanceof a.Point||Array.isArray(ve)){var ge=a.Point.convert(ve);return{center:ge,top:ge,"top-left":ge,"top-right":ge,bottom:ge,"bottom-left":ge,"bottom-right":ge,left:ge,right:ge}}else return{center:a.Point.convert(ve.center||[0,0]),top:a.Point.convert(ve.top||[0,0]),"top-left":a.Point.convert(ve["top-left"]||[0,0]),"top-right":a.Point.convert(ve["top-right"]||[0,0]),bottom:a.Point.convert(ve.bottom||[0,0]),"bottom-left":a.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(ve["bottom-right"]||[0,0]),left:a.Point.convert(ve.left||[0,0]),right:a.Point.convert(ve.right||[0,0])};else return J0(new a.Point(0,0))}var bo={version:a.version,supported:C,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:fp,NavigationControl:af,GeolocateControl:j0,AttributionControl:ei,ScaleControl:xc,FullscreenControl:Nl,Popup:Zm,Marker:hh,Style:es,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:kt,clearPrewarmedResources:$t,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(ve){a.config.ACCESS_TOKEN=ve},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(ve){a.config.API_URL=ve},get workerCount(){return dr.workerCount},set workerCount(ve){dr.workerCount=ve},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){a.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(J){a.clearTileCache(J)},workerUrl:""};return bo}),g})},3108:function(H,G,e){H.exports=e(26099)},26099:function(H,G,e){var g=e(64928),R=e(32420),a=e(51160),C=e(76752),S=e(55616),v=e(31264),d=e(47520),r=e(18400),t=e(72512),i=e(76244),n=1073741824;H.exports=function(l,m){m||(m={}),l=d(l,"float64"),m=S(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=v(m.maxDepth,255),A=v(m.bounds,C(l,2));A[0]===A[2]&&A[2]++,A[1]===A[3]&&A[3]++;var h=f(l,A),o=l.length>>>1,p;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?p=new(t(m.dtype))(o):m.dtype&&(p=m.dtype,Array.isArray(p)&&(p.length=o));for(var b=0;b<o;++b)p[b]=b;var T=[],P=[],x=[],L=[];U(0,0,1,p,0,1);for(var M=0,s=0;s<T.length;s++){var E=T[s];if(p.set)p.set(E,M);else for(var w=0,O=E.length;w<O;w++)p[w+M]=E[w];var _=M+T[s].length;L[s]=[M,_],M=_}return p.range=z,p;function U(N,V,X,q,te,ne){if(!q.length)return null;var ce=T[te]||(T[te]=[]),Q=x[te]||(x[te]=[]),Z=P[te]||(P[te]=[]),re=ce.length;if(te++,te>c||ne>n){for(var Y=0;Y<q.length;Y++)ce.push(q[Y]),Q.push(ne),Z.push(null,null,null,null);return re}if(ce.push(q[0]),Q.push(ne),q.length<=1)return Z.push(null,null,null,null),re;for(var oe=X*.5,ue=N+oe,K=V+oe,$=[],le=[],ae=[],he=[],xe=1,Me=q.length;xe<Me;xe++){var Ae=q[xe],ke=h[Ae*2],we=h[Ae*2+1];ke<ue?we<K?$.push(Ae):le.push(Ae):we<K?ae.push(Ae):he.push(Ae)}return ne<<=2,Z.push(U(N,V,oe,$,te,ne),U(N,K,oe,le,te,ne+1),U(ue,V,oe,ae,te,ne+2),U(ue,K,oe,he,te,ne+3)),re}function z(){for(var N=[],V=arguments.length;V--;)N[V]=arguments[V];var X;if(r(N[N.length-1])){var q=N.pop();!N.length&&(q.x!=null||q.l!=null||q.left!=null)&&(N=[q],X={}),X=S(q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else X={};N.length||(N=A);var te=a.apply(void 0,N),ne=[Math.min(te.x,te.x+te.width),Math.min(te.y,te.y+te.height),Math.max(te.x,te.x+te.width),Math.max(te.y,te.y+te.height)],ce=ne[0],Q=ne[1],Z=ne[2],re=ne[3],Y=f([ce,Q,Z,re],A),oe=Y[0],ue=Y[1],K=Y[2],$=Y[3],le=v(X.level,T.length);if(X.d!=null){var ae;typeof X.d=="number"?ae=[X.d,X.d]:X.d.length&&(ae=X.d),le=Math.min(Math.max(Math.ceil(-i(Math.abs(ae[0])/(A[2]-A[0]))),Math.ceil(-i(Math.abs(ae[1])/(A[3]-A[1])))),le)}if(le=Math.min(le,T.length),X.lod)return F(oe,ue,K,$,le);var he=[];xe(0,0,1,0,0,1);function xe(Ae,ke,we,Ee,be,Le){if(!(be===null||Le===null)){var Ue=Ae+we,Ve=ke+we;if(!(oe>Ue||ue>Ve||K<Ae||$<ke)&&!(Ee>=le)&&be!==Le){var Fe=T[Ee];Le===void 0&&(Le=Fe.length);for(var He=be;He<Le;He++){var st=Fe[He],vt=l[st*2],lt=l[st*2+1];vt>=ce&&vt<=Z&&lt>=Q&&lt<=re&&he.push(st)}var et=P[Ee],ct=et[be*4+0],ht=et[be*4+1],mt=et[be*4+2],xt=et[be*4+3],Mt=Me(et,be+1),tt=we*.5,Oe=Ee+1;xe(Ae,ke,tt,Oe,ct,ht||mt||xt||Mt),xe(Ae,ke+tt,tt,Oe,ht,mt||xt||Mt),xe(Ae+tt,ke,tt,Oe,mt,xt||Mt),xe(Ae+tt,ke+tt,tt,Oe,xt,Mt)}}}function Me(Ae,ke){for(var we=null,Ee=0;we===null;)if(we=Ae[ke*4+Ee],Ee++,Ee>Ae.length)return null;return we}return he}function F(N,V,X,q,te){for(var ne=[],ce=0;ce<te;ce++){var Q=x[ce],Z=L[ce][0],re=B(N,V,ce),Y=B(X,q,ce),oe=g.ge(Q,re),ue=g.gt(Q,Y,oe,Q.length-1);ne[ce]=[oe+Z,ue+Z]}return ne}function B(N,V,X){for(var q=1,te=.5,ne=.5,ce=.5,Q=0;Q<X;Q++)q<<=2,q+=N<te?V<ne?0:1:V<ne?2:3,ce*=.5,te+=N<te?-ce:ce,ne+=V<ne?-ce:ce;return q}};function f(u,l){for(var m=l[0],c=l[1],A=l[2],h=l[3],o=1/(A-m),p=1/(h-c),b=new Array(u.length),T=0,P=u.length/2;T<P;T++)b[2*T]=R((u[2*T]-m)*o,0,1),b[2*T+1]=R((u[2*T+1]-c)*p,0,1);return b}},40440:function(H,G,e){Object.defineProperty(G,"__esModule",{value:!0});var g=e(3256),R=6378137;function a(r){return g.geomReduce(r,function(t,i){return t+C(i)},0)}G.default=a;function C(r){var t=0,i;switch(r.type){case"Polygon":return S(r.coordinates);case"MultiPolygon":for(i=0;i<r.coordinates.length;i++)t+=S(r.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function S(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var i=1;i<r.length;i++)t-=Math.abs(v(r[i]))}return t}function v(r){var t,i,n,f,u,l,m,c=0,A=r.length;if(A>2){for(m=0;m<A;m++)m===A-2?(f=A-2,u=A-1,l=0):m===A-1?(f=A-1,u=0,l=1):(f=m,u=m+1,l=m+2),t=r[f],i=r[u],n=r[l],c+=(d(n[0])-d(t[0]))*Math.sin(d(i[1]));c=c*R*R/2}return c}function d(r){return r*Math.PI/180}},46284:function(H,G){Object.defineProperty(G,"__esModule",{value:!0}),G.earthRadius=63710088e-1,G.factors={centimeters:G.earthRadius*100,centimetres:G.earthRadius*100,degrees:G.earthRadius/111325,feet:G.earthRadius*3.28084,inches:G.earthRadius*39.37,kilometers:G.earthRadius/1e3,kilometres:G.earthRadius/1e3,meters:G.earthRadius,metres:G.earthRadius,miles:G.earthRadius/1609.344,millimeters:G.earthRadius*1e3,millimetres:G.earthRadius*1e3,nauticalmiles:G.earthRadius/1852,radians:1,yards:G.earthRadius*1.0936},G.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/G.earthRadius,yards:1.0936133},G.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,s,E){E===void 0&&(E={});var w={type:"Feature"};return(E.id===0||E.id)&&(w.id=E.id),E.bbox&&(w.bbox=E.bbox),w.properties=s||{},w.geometry=M,w}G.feature=e;function g(M,s,E){switch(M){case"Point":return R(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return C(s).geometry;case"MultiPoint":return i(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(M+" is invalid")}}G.geometry=g;function R(M,s,E){if(E===void 0&&(E={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(M[0])||!T(M[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:M};return e(w,s,E)}G.point=R;function a(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return R(w,s)}),E)}G.points=a;function C(M,s,E){E===void 0&&(E={});for(var w=0,O=M;w<O.length;w++){var _=O[w];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<_[_.length-1].length;U++)if(_[_.length-1][U]!==_[0][U])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:M};return e(z,s,E)}G.polygon=C;function S(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return C(w,s)}),E)}G.polygons=S;function v(M,s,E){if(E===void 0&&(E={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:M};return e(w,s,E)}G.lineString=v;function d(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return v(w,s)}),E)}G.lineStrings=d;function r(M,s){s===void 0&&(s={});var E={type:"FeatureCollection"};return s.id&&(E.id=s.id),s.bbox&&(E.bbox=s.bbox),E.features=M,E}G.featureCollection=r;function t(M,s,E){E===void 0&&(E={});var w={type:"MultiLineString",coordinates:M};return e(w,s,E)}G.multiLineString=t;function i(M,s,E){E===void 0&&(E={});var w={type:"MultiPoint",coordinates:M};return e(w,s,E)}G.multiPoint=i;function n(M,s,E){E===void 0&&(E={});var w={type:"MultiPolygon",coordinates:M};return e(w,s,E)}G.multiPolygon=n;function f(M,s,E){E===void 0&&(E={});var w={type:"GeometryCollection",geometries:M};return e(w,s,E)}G.geometryCollection=f;function u(M,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,s||0);return Math.round(M*E)/E}G.round=u;function l(M,s){s===void 0&&(s="kilometers");var E=G.factors[s];if(!E)throw new Error(s+" units is invalid");return M*E}G.radiansToLength=l;function m(M,s){s===void 0&&(s="kilometers");var E=G.factors[s];if(!E)throw new Error(s+" units is invalid");return M/E}G.lengthToRadians=m;function c(M,s){return h(m(M,s))}G.lengthToDegrees=c;function A(M){var s=M%360;return s<0&&(s+=360),s}G.bearingToAzimuth=A;function h(M){var s=M%(2*Math.PI);return s*180/Math.PI}G.radiansToDegrees=h;function o(M){var s=M%360;return s*Math.PI/180}G.degreesToRadians=o;function p(M,s,E){if(s===void 0&&(s="kilometers"),E===void 0&&(E="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(m(M,s),E)}G.convertLength=p;function b(M,s,E){if(s===void 0&&(s="meters"),E===void 0&&(E="kilometers"),!(M>=0))throw new Error("area must be a positive number");var w=G.areaFactors[s];if(!w)throw new Error("invalid original units");var O=G.areaFactors[E];if(!O)throw new Error("invalid final units");return M/w*O}G.convertArea=b;function T(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}G.isNumber=T;function P(M){return!!M&&M.constructor===Object}G.isObject=P;function x(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(s){if(!T(s))throw new Error("bbox must only contain numbers")})}G.validateBBox=x;function L(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}G.validateId=L},3256:function(H,G,e){Object.defineProperty(G,"__esModule",{value:!0});var g=e(46284);function R(o,p,b){if(o!==null)for(var T,P,x,L,M,s,E,w=0,O=0,_,U=o.type,z=U==="FeatureCollection",F=U==="Feature",B=z?o.features.length:1,N=0;N<B;N++){E=z?o.features[N].geometry:F?o.geometry:o,_=E?E.type==="GeometryCollection":!1,M=_?E.geometries.length:1;for(var V=0;V<M;V++){var X=0,q=0;if(L=_?E.geometries[V]:E,L!==null){s=L.coordinates;var te=L.type;switch(w=b&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(p(s,O,N,X,q)===!1)return!1;O++,X++;break;case"LineString":case"MultiPoint":for(T=0;T<s.length;T++){if(p(s[T],O,N,X,q)===!1)return!1;O++,te==="MultiPoint"&&X++}te==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(T=0;T<s.length;T++){for(P=0;P<s[T].length-w;P++){if(p(s[T][P],O,N,X,q)===!1)return!1;O++}te==="MultiLineString"&&X++,te==="Polygon"&&q++}te==="Polygon"&&X++;break;case"MultiPolygon":for(T=0;T<s.length;T++){for(q=0,P=0;P<s[T].length;P++){for(x=0;x<s[T][P].length-w;x++){if(p(s[T][P][x],O,N,X,q)===!1)return!1;O++}q++}X++}break;case"GeometryCollection":for(T=0;T<L.geometries.length;T++)if(R(L.geometries[T],p,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,p,b,T){var P=b;return R(o,function(x,L,M,s,E){L===0&&b===void 0?P=x:P=p(P,x,L,M,s,E)},T),P}function C(o,p){var b;switch(o.type){case"FeatureCollection":for(b=0;b<o.features.length&&p(o.features[b].properties,b)!==!1;b++);break;case"Feature":p(o.properties,0);break}}function S(o,p,b){var T=b;return C(o,function(P,x){x===0&&b===void 0?T=P:T=p(T,P,x)}),T}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var b=0;b<o.features.length&&p(o.features[b],b)!==!1;b++);}function d(o,p,b){var T=b;return v(o,function(P,x){x===0&&b===void 0?T=P:T=p(T,P,x)}),T}function r(o){var p=[];return R(o,function(b){p.push(b)}),p}function t(o,p){var b,T,P,x,L,M,s,E,w,O,_=0,U=o.type==="FeatureCollection",z=o.type==="Feature",F=U?o.features.length:1;for(b=0;b<F;b++){for(M=U?o.features[b].geometry:z?o.geometry:o,E=U?o.features[b].properties:z?o.properties:{},w=U?o.features[b].bbox:z?o.bbox:void 0,O=U?o.features[b].id:z?o.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,P=0;P<L;P++){if(x=s?M.geometries[P]:M,x===null){if(p(null,_,E,w,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,_,E,w,O)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<x.geometries.length;T++)if(p(x.geometries[T],_,E,w,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,p,b){var T=b;return t(o,function(P,x,L,M,s){x===0&&b===void 0?T=P:T=p(T,P,x,L,M,s)}),T}function n(o,p){t(o,function(b,T,P,x,L){var M=b===null?null:b.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(b,P,{bbox:x,id:L}),T,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<b.coordinates.length;E++){var w=b.coordinates[E],O={type:s,coordinates:w};if(p(g.feature(O,P),T,E)===!1)return!1}})}function f(o,p,b){var T=b;return n(o,function(P,x,L){x===0&&L===0&&b===void 0?T=P:T=p(T,P,x,L)}),T}function u(o,p){n(o,function(b,T,P){var x=0;if(b.geometry){var L=b.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,E=0,w=0;if(R(b,function(O,_,U,z,F){if(M===void 0||T>s||z>E||F>w){M=O,s=T,E=z,w=F,x=0;return}var B=g.lineString([M,O],b.properties);if(p(B,T,P,F,x)===!1)return!1;x++,M=O})===!1)return!1}}})}function l(o,p,b){var T=b,P=!1;return u(o,function(x,L,M,s,E){P===!1&&b===void 0?T=x:T=p(T,x,L,M,s,E),P=!0}),T}function m(o,p){if(!o)throw new Error("geojson is required");n(o,function(b,T,P){if(b.geometry!==null){var x=b.geometry.type,L=b.geometry.coordinates;switch(x){case"LineString":if(p(b,T,P,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(p(g.lineString(L[M],b.properties),T,P,M)===!1)return!1;break}}})}function c(o,p,b){var T=b;return m(o,function(P,x,L,M){x===0&&b===void 0?T=P:T=p(T,P,x,L,M)}),T}function A(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var b=p.featureIndex||0,T=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.segmentIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":b<0&&(b=o.features.length+b),L=L||o.features[b].properties,M=o.features[b].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=s.length+x-1),g.lineString([s[x],s[x+1]],L,p);case"Polygon":return P<0&&(P=s.length+P),x<0&&(x=s[P].length+x-1),g.lineString([s[P][x],s[P][x+1]],L,p);case"MultiLineString":return T<0&&(T=s.length+T),x<0&&(x=s[T].length+x-1),g.lineString([s[T][x],s[T][x+1]],L,p);case"MultiPolygon":return T<0&&(T=s.length+T),P<0&&(P=s[T].length+P),x<0&&(x=s[T][P].length-x-1),g.lineString([s[T][P][x],s[T][P][x+1]],L,p)}throw new Error("geojson is invalid")}function h(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var b=p.featureIndex||0,T=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.coordIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":b<0&&(b=o.features.length+b),L=L||o.features[b].properties,M=o.features[b].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return g.point(s,L,p);case"MultiPoint":return T<0&&(T=s.length+T),g.point(s[T],L,p);case"LineString":return x<0&&(x=s.length+x),g.point(s[x],L,p);case"Polygon":return P<0&&(P=s.length+P),x<0&&(x=s[P].length+x),g.point(s[P][x],L,p);case"MultiLineString":return T<0&&(T=s.length+T),x<0&&(x=s[T].length+x),g.point(s[T][x],L,p);case"MultiPolygon":return T<0&&(T=s.length+T),P<0&&(P=s[T].length+P),x<0&&(x=s[T][P].length-x),g.point(s[T][P][x],L,p)}throw new Error("geojson is invalid")}G.coordEach=R,G.coordReduce=a,G.propEach=C,G.propReduce=S,G.featureEach=v,G.featureReduce=d,G.coordAll=r,G.geomEach=t,G.geomReduce=i,G.flattenEach=n,G.flattenReduce=f,G.segmentEach=u,G.segmentReduce=l,G.lineEach=m,G.lineReduce=c,G.findSegment=A,G.findPoint=h},42428:function(H,G,e){Object.defineProperty(G,"__esModule",{value:!0});var g=e(84880);function R(a){var C=[1/0,1/0,-1/0,-1/0];return g.coordEach(a,function(S){C[0]>S[0]&&(C[0]=S[0]),C[1]>S[1]&&(C[1]=S[1]),C[2]<S[0]&&(C[2]=S[0]),C[3]<S[1]&&(C[3]=S[1])}),C}R.default=R,G.default=R},76796:function(H,G){Object.defineProperty(G,"__esModule",{value:!0}),G.earthRadius=63710088e-1,G.factors={centimeters:G.earthRadius*100,centimetres:G.earthRadius*100,degrees:G.earthRadius/111325,feet:G.earthRadius*3.28084,inches:G.earthRadius*39.37,kilometers:G.earthRadius/1e3,kilometres:G.earthRadius/1e3,meters:G.earthRadius,metres:G.earthRadius,miles:G.earthRadius/1609.344,millimeters:G.earthRadius*1e3,millimetres:G.earthRadius*1e3,nauticalmiles:G.earthRadius/1852,radians:1,yards:G.earthRadius*1.0936},G.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/G.earthRadius,yards:1.0936133},G.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,s,E){E===void 0&&(E={});var w={type:"Feature"};return(E.id===0||E.id)&&(w.id=E.id),E.bbox&&(w.bbox=E.bbox),w.properties=s||{},w.geometry=M,w}G.feature=e;function g(M,s,E){switch(M){case"Point":return R(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return C(s).geometry;case"MultiPoint":return i(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(M+" is invalid")}}G.geometry=g;function R(M,s,E){if(E===void 0&&(E={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(M[0])||!T(M[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:M};return e(w,s,E)}G.point=R;function a(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return R(w,s)}),E)}G.points=a;function C(M,s,E){E===void 0&&(E={});for(var w=0,O=M;w<O.length;w++){var _=O[w];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<_[_.length-1].length;U++)if(_[_.length-1][U]!==_[0][U])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:M};return e(z,s,E)}G.polygon=C;function S(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return C(w,s)}),E)}G.polygons=S;function v(M,s,E){if(E===void 0&&(E={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:M};return e(w,s,E)}G.lineString=v;function d(M,s,E){return E===void 0&&(E={}),r(M.map(function(w){return v(w,s)}),E)}G.lineStrings=d;function r(M,s){s===void 0&&(s={});var E={type:"FeatureCollection"};return s.id&&(E.id=s.id),s.bbox&&(E.bbox=s.bbox),E.features=M,E}G.featureCollection=r;function t(M,s,E){E===void 0&&(E={});var w={type:"MultiLineString",coordinates:M};return e(w,s,E)}G.multiLineString=t;function i(M,s,E){E===void 0&&(E={});var w={type:"MultiPoint",coordinates:M};return e(w,s,E)}G.multiPoint=i;function n(M,s,E){E===void 0&&(E={});var w={type:"MultiPolygon",coordinates:M};return e(w,s,E)}G.multiPolygon=n;function f(M,s,E){E===void 0&&(E={});var w={type:"GeometryCollection",geometries:M};return e(w,s,E)}G.geometryCollection=f;function u(M,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,s||0);return Math.round(M*E)/E}G.round=u;function l(M,s){s===void 0&&(s="kilometers");var E=G.factors[s];if(!E)throw new Error(s+" units is invalid");return M*E}G.radiansToLength=l;function m(M,s){s===void 0&&(s="kilometers");var E=G.factors[s];if(!E)throw new Error(s+" units is invalid");return M/E}G.lengthToRadians=m;function c(M,s){return h(m(M,s))}G.lengthToDegrees=c;function A(M){var s=M%360;return s<0&&(s+=360),s}G.bearingToAzimuth=A;function h(M){var s=M%(2*Math.PI);return s*180/Math.PI}G.radiansToDegrees=h;function o(M){var s=M%360;return s*Math.PI/180}G.degreesToRadians=o;function p(M,s,E){if(s===void 0&&(s="kilometers"),E===void 0&&(E="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(m(M,s),E)}G.convertLength=p;function b(M,s,E){if(s===void 0&&(s="meters"),E===void 0&&(E="kilometers"),!(M>=0))throw new Error("area must be a positive number");var w=G.areaFactors[s];if(!w)throw new Error("invalid original units");var O=G.areaFactors[E];if(!O)throw new Error("invalid final units");return M/w*O}G.convertArea=b;function T(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}G.isNumber=T;function P(M){return!!M&&M.constructor===Object}G.isObject=P;function x(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(s){if(!T(s))throw new Error("bbox must only contain numbers")})}G.validateBBox=x;function L(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}G.validateId=L},84880:function(H,G,e){Object.defineProperty(G,"__esModule",{value:!0});var g=e(76796);function R(o,p,b){if(o!==null)for(var T,P,x,L,M,s,E,w=0,O=0,_,U=o.type,z=U==="FeatureCollection",F=U==="Feature",B=z?o.features.length:1,N=0;N<B;N++){E=z?o.features[N].geometry:F?o.geometry:o,_=E?E.type==="GeometryCollection":!1,M=_?E.geometries.length:1;for(var V=0;V<M;V++){var X=0,q=0;if(L=_?E.geometries[V]:E,L!==null){s=L.coordinates;var te=L.type;switch(w=b&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(p(s,O,N,X,q)===!1)return!1;O++,X++;break;case"LineString":case"MultiPoint":for(T=0;T<s.length;T++){if(p(s[T],O,N,X,q)===!1)return!1;O++,te==="MultiPoint"&&X++}te==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(T=0;T<s.length;T++){for(P=0;P<s[T].length-w;P++){if(p(s[T][P],O,N,X,q)===!1)return!1;O++}te==="MultiLineString"&&X++,te==="Polygon"&&q++}te==="Polygon"&&X++;break;case"MultiPolygon":for(T=0;T<s.length;T++){for(q=0,P=0;P<s[T].length;P++){for(x=0;x<s[T][P].length-w;x++){if(p(s[T][P][x],O,N,X,q)===!1)return!1;O++}q++}X++}break;case"GeometryCollection":for(T=0;T<L.geometries.length;T++)if(R(L.geometries[T],p,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,p,b,T){var P=b;return R(o,function(x,L,M,s,E){L===0&&b===void 0?P=x:P=p(P,x,L,M,s,E)},T),P}function C(o,p){var b;switch(o.type){case"FeatureCollection":for(b=0;b<o.features.length&&p(o.features[b].properties,b)!==!1;b++);break;case"Feature":p(o.properties,0);break}}function S(o,p,b){var T=b;return C(o,function(P,x){x===0&&b===void 0?T=P:T=p(T,P,x)}),T}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var b=0;b<o.features.length&&p(o.features[b],b)!==!1;b++);}function d(o,p,b){var T=b;return v(o,function(P,x){x===0&&b===void 0?T=P:T=p(T,P,x)}),T}function r(o){var p=[];return R(o,function(b){p.push(b)}),p}function t(o,p){var b,T,P,x,L,M,s,E,w,O,_=0,U=o.type==="FeatureCollection",z=o.type==="Feature",F=U?o.features.length:1;for(b=0;b<F;b++){for(M=U?o.features[b].geometry:z?o.geometry:o,E=U?o.features[b].properties:z?o.properties:{},w=U?o.features[b].bbox:z?o.bbox:void 0,O=U?o.features[b].id:z?o.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,P=0;P<L;P++){if(x=s?M.geometries[P]:M,x===null){if(p(null,_,E,w,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,_,E,w,O)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<x.geometries.length;T++)if(p(x.geometries[T],_,E,w,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,p,b){var T=b;return t(o,function(P,x,L,M,s){x===0&&b===void 0?T=P:T=p(T,P,x,L,M,s)}),T}function n(o,p){t(o,function(b,T,P,x,L){var M=b===null?null:b.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(b,P,{bbox:x,id:L}),T,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<b.coordinates.length;E++){var w=b.coordinates[E],O={type:s,coordinates:w};if(p(g.feature(O,P),T,E)===!1)return!1}})}function f(o,p,b){var T=b;return n(o,function(P,x,L){x===0&&L===0&&b===void 0?T=P:T=p(T,P,x,L)}),T}function u(o,p){n(o,function(b,T,P){var x=0;if(b.geometry){var L=b.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,E=0,w=0;if(R(b,function(O,_,U,z,F){if(M===void 0||T>s||z>E||F>w){M=O,s=T,E=z,w=F,x=0;return}var B=g.lineString([M,O],b.properties);if(p(B,T,P,F,x)===!1)return!1;x++,M=O})===!1)return!1}}})}function l(o,p,b){var T=b,P=!1;return u(o,function(x,L,M,s,E){P===!1&&b===void 0?T=x:T=p(T,x,L,M,s,E),P=!0}),T}function m(o,p){if(!o)throw new Error("geojson is required");n(o,function(b,T,P){if(b.geometry!==null){var x=b.geometry.type,L=b.geometry.coordinates;switch(x){case"LineString":if(p(b,T,P,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(p(g.lineString(L[M],b.properties),T,P,M)===!1)return!1;break}}})}function c(o,p,b){var T=b;return m(o,function(P,x,L,M){x===0&&b===void 0?T=P:T=p(T,P,x,L,M)}),T}function A(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var b=p.featureIndex||0,T=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.segmentIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":b<0&&(b=o.features.length+b),L=L||o.features[b].properties,M=o.features[b].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=s.length+x-1),g.lineString([s[x],s[x+1]],L,p);case"Polygon":return P<0&&(P=s.length+P),x<0&&(x=s[P].length+x-1),g.lineString([s[P][x],s[P][x+1]],L,p);case"MultiLineString":return T<0&&(T=s.length+T),x<0&&(x=s[T].length+x-1),g.lineString([s[T][x],s[T][x+1]],L,p);case"MultiPolygon":return T<0&&(T=s.length+T),P<0&&(P=s[T].length+P),x<0&&(x=s[T][P].length-x-1),g.lineString([s[T][P][x],s[T][P][x+1]],L,p)}throw new Error("geojson is invalid")}function h(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var b=p.featureIndex||0,T=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.coordIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":b<0&&(b=o.features.length+b),L=L||o.features[b].properties,M=o.features[b].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return g.point(s,L,p);case"MultiPoint":return T<0&&(T=s.length+T),g.point(s[T],L,p);case"LineString":return x<0&&(x=s.length+x),g.point(s[x],L,p);case"Polygon":return P<0&&(P=s.length+P),x<0&&(x=s[P].length+x),g.point(s[P][x],L,p);case"MultiLineString":return T<0&&(T=s.length+T),x<0&&(x=s[T].length+x),g.point(s[T][x],L,p);case"MultiPolygon":return T<0&&(T=s.length+T),P<0&&(P=s[T].length+P),x<0&&(x=s[T][P].length-x),g.point(s[T][P][x],L,p)}throw new Error("geojson is invalid")}G.coordEach=R,G.coordReduce=a,G.propEach=C,G.propReduce=S,G.featureEach=v,G.featureReduce=d,G.coordAll=r,G.geomEach=t,G.geomReduce=i,G.flattenEach=n,G.flattenReduce=f,G.segmentEach=u,G.segmentReduce=l,G.lineEach=m,G.lineReduce=c,G.findSegment=A,G.findPoint=h},77844:function(H,G,e){Object.defineProperty(G,"__esModule",{value:!0});var g=e(43752),R=e(49840);function a(C,S){S===void 0&&(S={});var v=0,d=0,r=0;return g.coordEach(C,function(t){v+=t[0],d+=t[1],r++}),R.point([v/r,d/r],S.properties)}G.default=a},49840:function(H,G){Object.defineProperty(G,"__esModule",{value:!0}),G.earthRadius=63710088e-1,G.factors={centimeters:G.earthRadius*100,centimetres:G.earthRadius*100,degrees:G.earthRadius/111325,feet:G.earthRadius*3.28084,inches:G.earthRadius*39.37,kilometers:G.earthRadius/1e3,kilometres:G.earthRadius/1e3,meters:G.earthRadius,metres:G.earthRadius,miles:G.earthRadius/1609.344,millimeters:G.earthRadius*1e3,millimetres:G.earthRadius*1e3,nauticalmiles:G.earthRadius/1852,radians:1,yards:G.earthRadius/1.0936},G.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/G.earthRadius,yards:.91441111923921},G.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(z,F,B){B===void 0&&(B={});var N={type:"Feature"};return(B.id===0||B.id)&&(N.id=B.id),B.bbox&&(N.bbox=B.bbox),N.properties=F||{},N.geometry=z,N}G.feature=e;function g(z,F,B){switch(z){case"Point":return R(F).geometry;case"LineString":return v(F).geometry;case"Polygon":return C(F).geometry;case"MultiPoint":return i(F).geometry;case"MultiLineString":return t(F).geometry;case"MultiPolygon":return n(F).geometry;default:throw new Error(z+" is invalid")}}G.geometry=g;function R(z,F,B){B===void 0&&(B={});var N={type:"Point",coordinates:z};return e(N,F,B)}G.point=R;function a(z,F,B){return B===void 0&&(B={}),r(z.map(function(N){return R(N,F)}),B)}G.points=a;function C(z,F,B){B===void 0&&(B={});for(var N=0,V=z;N<V.length;N++){var X=V[N];if(X.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var q=0;q<X[X.length-1].length;q++)if(X[X.length-1][q]!==X[0][q])throw new Error("First and last Position are not equivalent.")}var te={type:"Polygon",coordinates:z};return e(te,F,B)}G.polygon=C;function S(z,F,B){return B===void 0&&(B={}),r(z.map(function(N){return C(N,F)}),B)}G.polygons=S;function v(z,F,B){if(B===void 0&&(B={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");var N={type:"LineString",coordinates:z};return e(N,F,B)}G.lineString=v;function d(z,F,B){return B===void 0&&(B={}),r(z.map(function(N){return v(N,F)}),B)}G.lineStrings=d;function r(z,F){F===void 0&&(F={});var B={type:"FeatureCollection"};return F.id&&(B.id=F.id),F.bbox&&(B.bbox=F.bbox),B.features=z,B}G.featureCollection=r;function t(z,F,B){B===void 0&&(B={});var N={type:"MultiLineString",coordinates:z};return e(N,F,B)}G.multiLineString=t;function i(z,F,B){B===void 0&&(B={});var N={type:"MultiPoint",coordinates:z};return e(N,F,B)}G.multiPoint=i;function n(z,F,B){B===void 0&&(B={});var N={type:"MultiPolygon",coordinates:z};return e(N,F,B)}G.multiPolygon=n;function f(z,F,B){B===void 0&&(B={});var N={type:"GeometryCollection",geometries:z};return e(N,F,B)}G.geometryCollection=f;function u(z,F){if(F===void 0&&(F=0),F&&!(F>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,F||0);return Math.round(z*B)/B}G.round=u;function l(z,F){F===void 0&&(F="kilometers");var B=G.factors[F];if(!B)throw new Error(F+" units is invalid");return z*B}G.radiansToLength=l;function m(z,F){F===void 0&&(F="kilometers");var B=G.factors[F];if(!B)throw new Error(F+" units is invalid");return z/B}G.lengthToRadians=m;function c(z,F){return h(m(z,F))}G.lengthToDegrees=c;function A(z){var F=z%360;return F<0&&(F+=360),F}G.bearingToAzimuth=A;function h(z){var F=z%(2*Math.PI);return F*180/Math.PI}G.radiansToDegrees=h;function o(z){var F=z%360;return F*Math.PI/180}G.degreesToRadians=o;function p(z,F,B){if(F===void 0&&(F="kilometers"),B===void 0&&(B="kilometers"),!(z>=0))throw new Error("length must be a positive number");return l(m(z,F),B)}G.convertLength=p;function b(z,F,B){if(F===void 0&&(F="meters"),B===void 0&&(B="kilometers"),!(z>=0))throw new Error("area must be a positive number");var N=G.areaFactors[F];if(!N)throw new Error("invalid original units");var V=G.areaFactors[B];if(!V)throw new Error("invalid final units");return z/N*V}G.convertArea=b;function T(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)&&!/^\s*$/.test(z)}G.isNumber=T;function P(z){return!!z&&z.constructor===Object}G.isObject=P;function x(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(F){if(!T(F))throw new Error("bbox must only contain numbers")})}G.validateBBox=x;function L(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}G.validateId=L;function M(){throw new Error("method has been renamed to `radiansToDegrees`")}G.radians2degrees=M;function s(){throw new Error("method has been renamed to `degreesToRadians`")}G.degrees2radians=s;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}G.distanceToDegrees=E;function w(){throw new Error("method has been renamed to `lengthToRadians`")}G.distanceToRadians=w;function O(){throw new Error("method has been renamed to `radiansToLength`")}G.radiansToDistance=O;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}G.bearingToAngle=_;function U(){throw new Error("method has been renamed to `convertLength`")}G.convertDistance=U},43752:function(H,G,e){Object.defineProperty(G,"__esModule",{value:!0});var g=e(49840);function R(o,p,b){if(o!==null)for(var T,P,x,L,M,s,E,w=0,O=0,_,U=o.type,z=U==="FeatureCollection",F=U==="Feature",B=z?o.features.length:1,N=0;N<B;N++){E=z?o.features[N].geometry:F?o.geometry:o,_=E?E.type==="GeometryCollection":!1,M=_?E.geometries.length:1;for(var V=0;V<M;V++){var X=0,q=0;if(L=_?E.geometries[V]:E,L!==null){s=L.coordinates;var te=L.type;switch(w=b&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(p(s,O,N,X,q)===!1)return!1;O++,X++;break;case"LineString":case"MultiPoint":for(T=0;T<s.length;T++){if(p(s[T],O,N,X,q)===!1)return!1;O++,te==="MultiPoint"&&X++}te==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(T=0;T<s.length;T++){for(P=0;P<s[T].length-w;P++){if(p(s[T][P],O,N,X,q)===!1)return!1;O++}te==="MultiLineString"&&X++,te==="Polygon"&&q++}te==="Polygon"&&X++;break;case"MultiPolygon":for(T=0;T<s.length;T++){for(q=0,P=0;P<s[T].length;P++){for(x=0;x<s[T][P].length-w;x++){if(p(s[T][P][x],O,N,X,q)===!1)return!1;O++}q++}X++}break;case"GeometryCollection":for(T=0;T<L.geometries.length;T++)if(R(L.geometries[T],p,b)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(o,p,b,T){var P=b;return R(o,function(x,L,M,s,E){L===0&&b===void 0?P=x:P=p(P,x,L,M,s,E)},T),P}function C(o,p){var b;switch(o.type){case"FeatureCollection":for(b=0;b<o.features.length&&p(o.features[b].properties,b)!==!1;b++);break;case"Feature":p(o.properties,0);break}}function S(o,p,b){var T=b;return C(o,function(P,x){x===0&&b===void 0?T=P:T=p(T,P,x)}),T}function v(o,p){if(o.type==="Feature")p(o,0);else if(o.type==="FeatureCollection")for(var b=0;b<o.features.length&&p(o.features[b],b)!==!1;b++);}function d(o,p,b){var T=b;return v(o,function(P,x){x===0&&b===void 0?T=P:T=p(T,P,x)}),T}function r(o){var p=[];return R(o,function(b){p.push(b)}),p}function t(o,p){var b,T,P,x,L,M,s,E,w,O,_=0,U=o.type==="FeatureCollection",z=o.type==="Feature",F=U?o.features.length:1;for(b=0;b<F;b++){for(M=U?o.features[b].geometry:z?o.geometry:o,E=U?o.features[b].properties:z?o.properties:{},w=U?o.features[b].bbox:z?o.bbox:void 0,O=U?o.features[b].id:z?o.id:void 0,s=M?M.type==="GeometryCollection":!1,L=s?M.geometries.length:1,P=0;P<L;P++){if(x=s?M.geometries[P]:M,x===null){if(p(null,_,E,w,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,_,E,w,O)===!1)return!1;break}case"GeometryCollection":{for(T=0;T<x.geometries.length;T++)if(p(x.geometries[T],_,E,w,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(o,p,b){var T=b;return t(o,function(P,x,L,M,s){x===0&&b===void 0?T=P:T=p(T,P,x,L,M,s)}),T}function n(o,p){t(o,function(b,T,P,x,L){var M=b===null?null:b.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(b,P,{bbox:x,id:L}),T,0)===!1?!1:void 0}var s;switch(M){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var E=0;E<b.coordinates.length;E++){var w=b.coordinates[E],O={type:s,coordinates:w};if(p(g.feature(O,P),T,E)===!1)return!1}})}function f(o,p,b){var T=b;return n(o,function(P,x,L){x===0&&L===0&&b===void 0?T=P:T=p(T,P,x,L)}),T}function u(o,p){n(o,function(b,T,P){var x=0;if(b.geometry){var L=b.geometry.type;if(!(L==="Point"||L==="MultiPoint")){var M,s=0,E=0,w=0;if(R(b,function(O,_,U,z,F){if(M===void 0||T>s||z>E||F>w){M=O,s=T,E=z,w=F,x=0;return}var B=g.lineString([M,O],b.properties);if(p(B,T,P,F,x)===!1)return!1;x++,M=O})===!1)return!1}}})}function l(o,p,b){var T=b,P=!1;return u(o,function(x,L,M,s,E){P===!1&&b===void 0?T=x:T=p(T,x,L,M,s,E),P=!0}),T}function m(o,p){if(!o)throw new Error("geojson is required");n(o,function(b,T,P){if(b.geometry!==null){var x=b.geometry.type,L=b.geometry.coordinates;switch(x){case"LineString":if(p(b,T,P,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<L.length;M++)if(p(g.lineString(L[M],b.properties),T,P,M)===!1)return!1;break}}})}function c(o,p,b){var T=b;return m(o,function(P,x,L,M){x===0&&b===void 0?T=P:T=p(T,P,x,L,M)}),T}function A(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var b=p.featureIndex||0,T=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.segmentIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":b<0&&(b=o.features.length+b),L=L||o.features[b].properties,M=o.features[b].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=s.length+x-1),g.lineString([s[x],s[x+1]],L,p);case"Polygon":return P<0&&(P=s.length+P),x<0&&(x=s[P].length+x-1),g.lineString([s[P][x],s[P][x+1]],L,p);case"MultiLineString":return T<0&&(T=s.length+T),x<0&&(x=s[T].length+x-1),g.lineString([s[T][x],s[T][x+1]],L,p);case"MultiPolygon":return T<0&&(T=s.length+T),P<0&&(P=s[T].length+P),x<0&&(x=s[T][P].length-x-1),g.lineString([s[T][P][x],s[T][P][x+1]],L,p)}throw new Error("geojson is invalid")}function h(o,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var b=p.featureIndex||0,T=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.coordIndex||0,L=p.properties,M;switch(o.type){case"FeatureCollection":b<0&&(b=o.features.length+b),L=L||o.features[b].properties,M=o.features[b].geometry;break;case"Feature":L=L||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var s=M.coordinates;switch(M.type){case"Point":return g.point(s,L,p);case"MultiPoint":return T<0&&(T=s.length+T),g.point(s[T],L,p);case"LineString":return x<0&&(x=s.length+x),g.point(s[x],L,p);case"Polygon":return P<0&&(P=s.length+P),x<0&&(x=s[P].length+x),g.point(s[P][x],L,p);case"MultiLineString":return T<0&&(T=s.length+T),x<0&&(x=s[T].length+x),g.point(s[T][x],L,p);case"MultiPolygon":return T<0&&(T=s.length+T),P<0&&(P=s[T].length+P),x<0&&(x=s[T][P].length-x),g.point(s[T][P][x],L,p)}throw new Error("geojson is invalid")}G.coordEach=R,G.coordReduce=a,G.propEach=C,G.propReduce=S,G.featureEach=v,G.featureReduce=d,G.coordAll=r,G.geomEach=t,G.geomReduce=i,G.flattenEach=n,G.flattenReduce=f,G.segmentEach=u,G.segmentReduce=l,G.lineEach=m,G.lineReduce=c,G.findSegment=A,G.findPoint=h},49972:function(H){H.exports=G;function G(e){var g=0,R=0,a=0,C=0;return e.map(function(S){S=S.slice();var v=S[0],d=v.toUpperCase();if(v!=d)switch(S[0]=d,v){case"a":S[6]+=a,S[7]+=C;break;case"v":S[1]+=C;break;case"h":S[1]+=a;break;default:for(var r=1;r<S.length;)S[r++]+=a,S[r++]+=C}switch(d){case"Z":a=g,C=R;break;case"H":a=S[1];break;case"V":C=S[1];break;case"M":a=g=S[1],C=R=S[2];break;default:a=S[S.length-2],C=S[S.length-1]}return S})}},76752:function(H){H.exports=G;function G(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var R=Array(g*2),a=0;a<g;a++){for(var C=-1/0,S=1/0,v=a,d=e.length;v<d;v+=g)e[v]>C&&(C=e[v]),e[v]<S&&(S=e[v]);R[a]=S,R[g+a]=C}return R}},10272:function(H){H.exports=function(G,e,g){if(typeof Array.prototype.findIndex=="function")return G.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var R=Object(G),a=R.length;if(a===0)return-1;for(var C=0;C<a;C++)if(e.call(g,R[C],C,R))return C;return-1}},71152:function(H,G,e){var g=e(76752);H.exports=R;function R(a,C,S){if(!a||a.length==null)throw Error("Argument should be an array");C==null&&(C=1),S==null&&(S=g(a,C));for(var v=0;v<C;v++){var d=S[C+v],r=S[v],t=v,i=a.length;if(d===1/0&&r===-1/0)for(t=v;t<i;t+=C)a[t]=a[t]===d?1:a[t]===r?0:.5;else if(d===1/0)for(t=v;t<i;t+=C)a[t]=a[t]===d?1:0;else if(r===-1/0)for(t=v;t<i;t+=C)a[t]=a[t]===r?0:1;else{var n=d-r;for(t=v;t<i;t+=C)isNaN(a[t])||(a[t]=n===0?.5:(a[t]-r)/n)}}return a}},67752:function(H){H.exports=function(e,g){var R=typeof e=="number",a=typeof g=="number";R&&!a?(g=e,e=0):!R&&!a&&(e=0,g=0),e=e|0,g=g|0;var C=g-e;if(C<0)throw new Error("array length must be positive");for(var S=new Array(C),v=0,d=e;v<C;v++,d++)S[v]=d;return S}},45408:function(H,G,e){var g=e(4168);function R(q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(ne){return typeof ne}:R=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},R(q)}function a(q,te){if(!(q instanceof te))throw new TypeError("Cannot call a class as a function")}var C=e(86832),S=C.codes,v=S.ERR_AMBIGUOUS_ARGUMENT,d=S.ERR_INVALID_ARG_TYPE,r=S.ERR_INVALID_ARG_VALUE,t=S.ERR_INVALID_RETURN_VALUE,i=S.ERR_MISSING_ARGS,n=e(26144),f=e(35840),u=f.inspect,l=e(35840).types,m=l.isPromise,c=l.isRegExp,A=Object.assign?Object.assign:e(60964).assign,h=Object.is?Object.is:e(39896),o,p;function b(){var q=e(25116);o=q.isDeepEqual,p=q.isDeepStrictEqual}var T=!1,P=H.exports=E,x={};function L(q){throw q.message instanceof Error?q.message:new n(q)}function M(q,te,ne,ce,Q){var Z=arguments.length,re;if(Z===0)re="Failed";else if(Z===1)ne=q,q=void 0;else{if(T===!1){T=!0;var Y=g.emitWarning?g.emitWarning:console.warn.bind(console);Y("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(ce="!=")}if(ne instanceof Error)throw ne;var oe={actual:q,expected:te,operator:ce===void 0?"fail":ce,stackStartFn:Q||M};ne!==void 0&&(oe.message=ne);var ue=new n(oe);throw re&&(ue.message=re,ue.generatedMessage=!0),ue}P.fail=M,P.AssertionError=n;function s(q,te,ne,ce){if(!ne){var Q=!1;if(te===0)Q=!0,ce="No value argument passed to `assert.ok()`";else if(ce instanceof Error)throw ce;var Z=new n({actual:ne,expected:!0,message:ce,operator:"==",stackStartFn:q});throw Z.generatedMessage=Q,Z}}function E(){for(var q=arguments.length,te=new Array(q),ne=0;ne<q;ne++)te[ne]=arguments[ne];s.apply(void 0,[E,te.length].concat(te))}P.ok=E,P.equal=function q(te,ne,ce){if(arguments.length<2)throw new i("actual","expected");te!=ne&&L({actual:te,expected:ne,message:ce,operator:"==",stackStartFn:q})},P.notEqual=function q(te,ne,ce){if(arguments.length<2)throw new i("actual","expected");te==ne&&L({actual:te,expected:ne,message:ce,operator:"!=",stackStartFn:q})},P.deepEqual=function q(te,ne,ce){if(arguments.length<2)throw new i("actual","expected");o===void 0&&b(),o(te,ne)||L({actual:te,expected:ne,message:ce,operator:"deepEqual",stackStartFn:q})},P.notDeepEqual=function q(te,ne,ce){if(arguments.length<2)throw new i("actual","expected");o===void 0&&b(),o(te,ne)&&L({actual:te,expected:ne,message:ce,operator:"notDeepEqual",stackStartFn:q})},P.deepStrictEqual=function q(te,ne,ce){if(arguments.length<2)throw new i("actual","expected");o===void 0&&b(),p(te,ne)||L({actual:te,expected:ne,message:ce,operator:"deepStrictEqual",stackStartFn:q})},P.notDeepStrictEqual=w;function w(q,te,ne){if(arguments.length<2)throw new i("actual","expected");o===void 0&&b(),p(q,te)&&L({actual:q,expected:te,message:ne,operator:"notDeepStrictEqual",stackStartFn:w})}P.strictEqual=function q(te,ne,ce){if(arguments.length<2)throw new i("actual","expected");h(te,ne)||L({actual:te,expected:ne,message:ce,operator:"strictEqual",stackStartFn:q})},P.notStrictEqual=function q(te,ne,ce){if(arguments.length<2)throw new i("actual","expected");h(te,ne)&&L({actual:te,expected:ne,message:ce,operator:"notStrictEqual",stackStartFn:q})};var O=function q(te,ne,ce){var Q=this;a(this,q),ne.forEach(function(Z){Z in te&&(ce!==void 0&&typeof ce[Z]=="string"&&c(te[Z])&&te[Z].test(ce[Z])?Q[Z]=ce[Z]:Q[Z]=te[Z])})};function _(q,te,ne,ce,Q,Z){if(!(ne in q)||!p(q[ne],te[ne])){if(!ce){var re=new O(q,Q),Y=new O(te,Q,q),oe=new n({actual:re,expected:Y,operator:"deepStrictEqual",stackStartFn:Z});throw oe.actual=q,oe.expected=te,oe.operator=Z.name,oe}L({actual:q,expected:te,message:ce,operator:Z.name,stackStartFn:Z})}}function U(q,te,ne,ce){if(typeof te!="function"){if(c(te))return te.test(q);if(arguments.length===2)throw new d("expected",["Function","RegExp"],te);if(R(q)!=="object"||q===null){var Q=new n({actual:q,expected:te,message:ne,operator:"deepStrictEqual",stackStartFn:ce});throw Q.operator=ce.name,Q}var Z=Object.keys(te);if(te instanceof Error)Z.push("name","message");else if(Z.length===0)throw new r("error",te,"may not be an empty object");return o===void 0&&b(),Z.forEach(function(re){typeof q[re]=="string"&&c(te[re])&&te[re].test(q[re])||_(q,te,re,ne,Z,ce)}),!0}return te.prototype!==void 0&&q instanceof te?!0:Error.isPrototypeOf(te)?!1:te.call({},q)===!0}function z(q){if(typeof q!="function")throw new d("fn","Function",q);try{q()}catch(te){return te}return x}function F(q){return m(q)||q!==null&&R(q)==="object"&&typeof q.then=="function"&&typeof q.catch=="function"}function B(q){return Promise.resolve().then(function(){var te;if(typeof q=="function"){if(te=q(),!F(te))throw new t("instance of Promise","promiseFn",te)}else if(F(q))te=q;else throw new d("promiseFn",["Function","Promise"],q);return Promise.resolve().then(function(){return te}).then(function(){return x}).catch(function(ne){return ne})})}function N(q,te,ne,ce){if(typeof ne=="string"){if(arguments.length===4)throw new d("error",["Object","Error","Function","RegExp"],ne);if(R(te)==="object"&&te!==null){if(te.message===ne)throw new v("error/message",'The error message "'.concat(te.message,'" is identical to the message.'))}else if(te===ne)throw new v("error/message",'The error "'.concat(te,'" is identical to the message.'));ce=ne,ne=void 0}else if(ne!=null&&R(ne)!=="object"&&typeof ne!="function")throw new d("error",["Object","Error","Function","RegExp"],ne);if(te===x){var Q="";ne&&ne.name&&(Q+=" (".concat(ne.name,")")),Q+=ce?": ".concat(ce):".";var Z=q.name==="rejects"?"rejection":"exception";L({actual:void 0,expected:ne,operator:q.name,message:"Missing expected ".concat(Z).concat(Q),stackStartFn:q})}if(ne&&!U(te,ne,ce,q))throw te}function V(q,te,ne,ce){if(te!==x){if(typeof ne=="string"&&(ce=ne,ne=void 0),!ne||U(te,ne)){var Q=ce?": ".concat(ce):".",Z=q.name==="doesNotReject"?"rejection":"exception";L({actual:te,expected:ne,operator:q.name,message:"Got unwanted ".concat(Z).concat(Q,`
`)+'Actual message: "'.concat(te&&te.message,'"'),stackStartFn:q})}throw te}}P.throws=function q(te){for(var ne=arguments.length,ce=new Array(ne>1?ne-1:0),Q=1;Q<ne;Q++)ce[Q-1]=arguments[Q];N.apply(void 0,[q,z(te)].concat(ce))},P.rejects=function q(te){for(var ne=arguments.length,ce=new Array(ne>1?ne-1:0),Q=1;Q<ne;Q++)ce[Q-1]=arguments[Q];return B(te).then(function(Z){return N.apply(void 0,[q,Z].concat(ce))})},P.doesNotThrow=function q(te){for(var ne=arguments.length,ce=new Array(ne>1?ne-1:0),Q=1;Q<ne;Q++)ce[Q-1]=arguments[Q];V.apply(void 0,[q,z(te)].concat(ce))},P.doesNotReject=function q(te){for(var ne=arguments.length,ce=new Array(ne>1?ne-1:0),Q=1;Q<ne;Q++)ce[Q-1]=arguments[Q];return B(te).then(function(Z){return V.apply(void 0,[q,Z].concat(ce))})},P.ifError=function q(te){if(te!=null){var ne="ifError got unwanted exception: ";R(te)==="object"&&typeof te.message=="string"?te.message.length===0&&te.constructor?ne+=te.constructor.name:ne+=te.message:ne+=u(te);var ce=new n({actual:te,expected:null,operator:"ifError",message:ne,stackStartFn:q}),Q=te.stack;if(typeof Q=="string"){var Z=Q.split(`
`);Z.shift();for(var re=ce.stack.split(`
`),Y=0;Y<Z.length;Y++){var oe=re.indexOf(Z[Y]);if(oe!==-1){re=re.slice(0,oe);break}}ce.stack="".concat(re.join(`
`),`
`).concat(Z.join(`
`))}throw ce}};function X(){for(var q=arguments.length,te=new Array(q),ne=0;ne<q;ne++)te[ne]=arguments[ne];s.apply(void 0,[X,te.length].concat(te))}P.strict=A(X,P,{equal:P.strictEqual,deepEqual:P.deepStrictEqual,notEqual:P.notStrictEqual,notDeepEqual:P.notDeepStrictEqual}),P.strict.strict=P.strict},26144:function(H,G,e){var g=e(4168);function R(z){for(var F=1;F<arguments.length;F++){var B=arguments[F]!=null?arguments[F]:{},N=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(B).filter(function(V){return Object.getOwnPropertyDescriptor(B,V).enumerable}))),N.forEach(function(V){a(z,V,B[V])})}return z}function a(z,F,B){return F in z?Object.defineProperty(z,F,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[F]=B,z}function C(z,F){if(!(z instanceof F))throw new TypeError("Cannot call a class as a function")}function S(z,F){for(var B=0;B<F.length;B++){var N=F[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(z,N.key,N)}}function v(z,F,B){return F&&S(z.prototype,F),B&&S(z,B),z}function d(z,F){return F&&(c(F)==="object"||typeof F=="function")?F:r(z)}function r(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function t(z,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(F&&F.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),F&&l(z,F)}function i(z){var F=typeof Map=="function"?new Map:void 0;return i=function(N){if(N===null||!u(N))return N;if(typeof N!="function")throw new TypeError("Super expression must either be null or a function");if(typeof F<"u"){if(F.has(N))return F.get(N);F.set(N,V)}function V(){return f(N,arguments,m(this).constructor)}return V.prototype=Object.create(N.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),l(V,N)},i(z)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(z,F,B){return n()?f=Reflect.construct:f=function(V,X,q){var te=[null];te.push.apply(te,X);var ne=Function.bind.apply(V,te),ce=new ne;return q&&l(ce,q.prototype),ce},f.apply(null,arguments)}function u(z){return Function.toString.call(z).indexOf("[native code]")!==-1}function l(z,F){return l=Object.setPrototypeOf||function(N,V){return N.__proto__=V,N},l(z,F)}function m(z){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},m(z)}function c(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(B){return typeof B}:c=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},c(z)}var A=e(35840),h=A.inspect,o=e(86832),p=o.codes.ERR_INVALID_ARG_TYPE;function b(z,F,B){return(B===void 0||B>z.length)&&(B=z.length),z.substring(B-F.length,B)===F}function T(z,F){if(F=Math.floor(F),z.length==0||F==0)return"";var B=z.length*F;for(F=Math.floor(Math.log(F)/Math.log(2));F;)z+=z,F--;return z+=z.substring(0,B-z.length),z}var P="",x="",L="",M="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function w(z){var F=Object.keys(z),B=Object.create(Object.getPrototypeOf(z));return F.forEach(function(N){B[N]=z[N]}),Object.defineProperty(B,"message",{value:z.message}),B}function O(z){return h(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(z,F,B){var N="",V="",X=0,q="",te=!1,ne=O(z),ce=ne.split(`
`),Q=O(F).split(`
`),Z=0,re="";if(B==="strictEqual"&&c(z)==="object"&&c(F)==="object"&&z!==null&&F!==null&&(B="strictEqualObject"),ce.length===1&&Q.length===1&&ce[0]!==Q[0]){var Y=ce[0].length+Q[0].length;if(Y<=E){if((c(z)!=="object"||z===null)&&(c(F)!=="object"||F===null)&&(z!==0||F!==0))return"".concat(s[B],`

`)+"".concat(ce[0]," !== ").concat(Q[0],`
`)}else if(B!=="strictEqualObject"){var oe=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(Y<oe){for(;ce[0][Z]===Q[0][Z];)Z++;Z>2&&(re=`
  `.concat(T(" ",Z),"^"),Z=0)}}}for(var ue=ce[ce.length-1],K=Q[Q.length-1];ue===K&&(Z++<2?q=`
  `.concat(ue).concat(q):N=ue,ce.pop(),Q.pop(),!(ce.length===0||Q.length===0));)ue=ce[ce.length-1],K=Q[Q.length-1];var $=Math.max(ce.length,Q.length);if($===0){var le=ne.split(`
`);if(le.length>30)for(le[26]="".concat(P,"...").concat(M);le.length>27;)le.pop();return"".concat(s.notIdentical,`

`).concat(le.join(`
`),`
`)}Z>3&&(q=`
`.concat(P,"...").concat(M).concat(q),te=!0),N!==""&&(q=`
  `.concat(N).concat(q),N="");var ae=0,he=s[B]+`
`.concat(x,"+ actual").concat(M," ").concat(L,"- expected").concat(M),xe=" ".concat(P,"...").concat(M," Lines skipped");for(Z=0;Z<$;Z++){var Me=Z-X;if(ce.length<Z+1)Me>1&&Z>2&&(Me>4?(V+=`
`.concat(P,"...").concat(M),te=!0):Me>3&&(V+=`
  `.concat(Q[Z-2]),ae++),V+=`
  `.concat(Q[Z-1]),ae++),X=Z,N+=`
`.concat(L,"-").concat(M," ").concat(Q[Z]),ae++;else if(Q.length<Z+1)Me>1&&Z>2&&(Me>4?(V+=`
`.concat(P,"...").concat(M),te=!0):Me>3&&(V+=`
  `.concat(ce[Z-2]),ae++),V+=`
  `.concat(ce[Z-1]),ae++),X=Z,V+=`
`.concat(x,"+").concat(M," ").concat(ce[Z]),ae++;else{var Ae=Q[Z],ke=ce[Z],we=ke!==Ae&&(!b(ke,",")||ke.slice(0,-1)!==Ae);we&&b(Ae,",")&&Ae.slice(0,-1)===ke&&(we=!1,ke+=","),we?(Me>1&&Z>2&&(Me>4?(V+=`
`.concat(P,"...").concat(M),te=!0):Me>3&&(V+=`
  `.concat(ce[Z-2]),ae++),V+=`
  `.concat(ce[Z-1]),ae++),X=Z,V+=`
`.concat(x,"+").concat(M," ").concat(ke),N+=`
`.concat(L,"-").concat(M," ").concat(Ae),ae+=2):(V+=N,N="",(Me===1||Z===0)&&(V+=`
  `.concat(ke),ae++))}if(ae>20&&Z<$-2)return"".concat(he).concat(xe,`
`).concat(V,`
`).concat(P,"...").concat(M).concat(N,`
`)+"".concat(P,"...").concat(M)}return"".concat(he).concat(te?xe:"",`
`).concat(V).concat(N).concat(q).concat(re)}var U=function(z){t(F,z);function F(B){var N;if(C(this,F),c(B)!=="object"||B===null)throw new p("options","Object",B);var V=B.message,X=B.operator,q=B.stackStartFn,te=B.actual,ne=B.expected,ce=Error.stackTraceLimit;if(Error.stackTraceLimit=0,V!=null)N=d(this,m(F).call(this,String(V)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(P="\x1B[34m",x="\x1B[32m",M="\x1B[39m",L="\x1B[31m"):(P="",x="",M="",L="")),c(te)==="object"&&te!==null&&c(ne)==="object"&&ne!==null&&"stack"in te&&te instanceof Error&&"stack"in ne&&ne instanceof Error&&(te=w(te),ne=w(ne)),X==="deepStrictEqual"||X==="strictEqual")N=d(this,m(F).call(this,_(te,ne,X)));else if(X==="notDeepStrictEqual"||X==="notStrictEqual"){var Q=s[X],Z=O(te).split(`
`);if(X==="notStrictEqual"&&c(te)==="object"&&te!==null&&(Q=s.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(P,"...").concat(M);Z.length>27;)Z.pop();Z.length===1?N=d(this,m(F).call(this,"".concat(Q," ").concat(Z[0]))):N=d(this,m(F).call(this,"".concat(Q,`

`).concat(Z.join(`
`),`
`)))}else{var re=O(te),Y="",oe=s[X];X==="notDeepEqual"||X==="notEqual"?(re="".concat(s[X],`

`).concat(re),re.length>1024&&(re="".concat(re.slice(0,1021),"..."))):(Y="".concat(O(ne)),re.length>512&&(re="".concat(re.slice(0,509),"...")),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),X==="deepEqual"||X==="equal"?re="".concat(oe,`

`).concat(re,`

should equal

`):Y=" ".concat(X," ").concat(Y)),N=d(this,m(F).call(this,"".concat(re).concat(Y)))}return Error.stackTraceLimit=ce,N.generatedMessage=!V,Object.defineProperty(r(N),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),N.code="ERR_ASSERTION",N.actual=te,N.expected=ne,N.operator=X,Error.captureStackTrace&&Error.captureStackTrace(r(N),q),N.stack,N.name="AssertionError",d(N)}return v(F,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(N,V){return h(this,R({},V,{customInspect:!1,depth:0}))}}]),F}(i(Error));H.exports=U},86832:function(H,G,e){function g(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(h){return typeof h}:g=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g(c)}function R(c,A){if(!(c instanceof A))throw new TypeError("Cannot call a class as a function")}function a(c,A){return A&&(g(A)==="object"||typeof A=="function")?A:C(c)}function C(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function S(c){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},S(c)}function v(c,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(A&&A.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),A&&d(c,A)}function d(c,A){return d=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},d(c,A)}var r={},t,i;function n(c,A,h){h||(h=Error);function o(b,T,P){return typeof A=="string"?A:A(b,T,P)}var p=function(b){v(T,b);function T(P,x,L){var M;return R(this,T),M=a(this,S(T).call(this,o(P,x,L))),M.code=c,M}return T}(h);r[c]=p}function f(c,A){if(Array.isArray(c)){var h=c.length;return c=c.map(function(o){return String(o)}),h>2?"one of ".concat(A," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(A," ").concat(c[0]," or ").concat(c[1]):"of ".concat(A," ").concat(c[0])}else return"of ".concat(A," ").concat(String(c))}function u(c,A,h){return c.substr(!h||h<0?0:+h,A.length)===A}function l(c,A,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-A.length,h)===A}function m(c,A,h){return typeof h!="number"&&(h=0),h+A.length>c.length?!1:c.indexOf(A,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(c,A,h){t===void 0&&(t=e(45408)),t(typeof c=="string","'name' must be a string");var o;typeof A=="string"&&u(A,"not ")?(o="must not be",A=A.replace(/^not /,"")):o="must be";var p;if(l(c," argument"))p="The ".concat(c," ").concat(o," ").concat(f(A,"type"));else{var b=m(c,".")?"property":"argument";p='The "'.concat(c,'" ').concat(b," ").concat(o," ").concat(f(A,"type"))}return p+=". Received type ".concat(g(h)),p},TypeError),n("ERR_INVALID_ARG_VALUE",function(c,A){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";i===void 0&&(i=e(35840));var o=i.inspect(A);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(h,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(c,A,h){var o;return h&&h.constructor&&h.constructor.name?o="instance of ".concat(h.constructor.name):o="type ".concat(g(h)),"Expected ".concat(c,' to be returned from the "').concat(A,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var c=arguments.length,A=new Array(c),h=0;h<c;h++)A[h]=arguments[h];t===void 0&&(t=e(45408)),t(A.length>0,"At least one arg needs to be specified");var o="The ",p=A.length;switch(A=A.map(function(b){return'"'.concat(b,'"')}),p){case 1:o+="".concat(A[0]," argument");break;case 2:o+="".concat(A[0]," and ").concat(A[1]," arguments");break;default:o+=A.slice(0,p-1).join(", "),o+=", and ".concat(A[p-1]," arguments");break}return"".concat(o," must be specified")},TypeError),H.exports.codes=r},25116:function(H,G,e){function g(Ee,be){return C(Ee)||a(Ee,be)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Ee,be){var Le=[],Ue=!0,Ve=!1,Fe=void 0;try{for(var He=Ee[Symbol.iterator](),st;!(Ue=(st=He.next()).done)&&(Le.push(st.value),!(be&&Le.length===be));Ue=!0);}catch(vt){Ve=!0,Fe=vt}finally{try{!Ue&&He.return!=null&&He.return()}finally{if(Ve)throw Fe}}return Le}function C(Ee){if(Array.isArray(Ee))return Ee}function S(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(Le){return typeof Le}:S=function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},S(Ee)}var v=/a/g.flags!==void 0,d=function(be){var Le=[];return be.forEach(function(Ue){return Le.push(Ue)}),Le},r=function(be){var Le=[];return be.forEach(function(Ue,Ve){return Le.push([Ve,Ue])}),Le},t=Object.is?Object.is:e(39896),i=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function f(Ee){return Ee.call.bind(Ee)}var u=f(Object.prototype.hasOwnProperty),l=f(Object.prototype.propertyIsEnumerable),m=f(Object.prototype.toString),c=e(35840).types,A=c.isAnyArrayBuffer,h=c.isArrayBufferView,o=c.isDate,p=c.isMap,b=c.isRegExp,T=c.isSet,P=c.isNativeError,x=c.isBoxedPrimitive,L=c.isNumberObject,M=c.isStringObject,s=c.isBooleanObject,E=c.isBigIntObject,w=c.isSymbolObject,O=c.isFloat32Array,_=c.isFloat64Array;function U(Ee){if(Ee.length===0||Ee.length>10)return!0;for(var be=0;be<Ee.length;be++){var Le=Ee.charCodeAt(be);if(Le<48||Le>57)return!0}return Ee.length===10&&Ee>=Math.pow(2,32)}function z(Ee){return Object.keys(Ee).filter(U).concat(i(Ee).filter(Object.prototype.propertyIsEnumerable.bind(Ee)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function F(Ee,be){if(Ee===be)return 0;for(var Le=Ee.length,Ue=be.length,Ve=0,Fe=Math.min(Le,Ue);Ve<Fe;++Ve)if(Ee[Ve]!==be[Ve]){Le=Ee[Ve],Ue=be[Ve];break}return Le<Ue?-1:Ue<Le?1:0}var B=!0,N=!1,V=0,X=1,q=2,te=3;function ne(Ee,be){return v?Ee.source===be.source&&Ee.flags===be.flags:RegExp.prototype.toString.call(Ee)===RegExp.prototype.toString.call(be)}function ce(Ee,be){if(Ee.byteLength!==be.byteLength)return!1;for(var Le=0;Le<Ee.byteLength;Le++)if(Ee[Le]!==be[Le])return!1;return!0}function Q(Ee,be){return Ee.byteLength!==be.byteLength?!1:F(new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength),new Uint8Array(be.buffer,be.byteOffset,be.byteLength))===0}function Z(Ee,be){return Ee.byteLength===be.byteLength&&F(new Uint8Array(Ee),new Uint8Array(be))===0}function re(Ee,be){return L(Ee)?L(be)&&t(Number.prototype.valueOf.call(Ee),Number.prototype.valueOf.call(be)):M(Ee)?M(be)&&String.prototype.valueOf.call(Ee)===String.prototype.valueOf.call(be):s(Ee)?s(be)&&Boolean.prototype.valueOf.call(Ee)===Boolean.prototype.valueOf.call(be):E(Ee)?E(be)&&BigInt.prototype.valueOf.call(Ee)===BigInt.prototype.valueOf.call(be):w(be)&&Symbol.prototype.valueOf.call(Ee)===Symbol.prototype.valueOf.call(be)}function Y(Ee,be,Le,Ue){if(Ee===be)return Ee!==0?!0:Le?t(Ee,be):!0;if(Le){if(S(Ee)!=="object")return typeof Ee=="number"&&n(Ee)&&n(be);if(S(be)!=="object"||Ee===null||be===null||Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(be))return!1}else{if(Ee===null||S(Ee)!=="object")return be===null||S(be)!=="object"?Ee==be:!1;if(be===null||S(be)!=="object")return!1}var Ve=m(Ee),Fe=m(be);if(Ve!==Fe)return!1;if(Array.isArray(Ee)){if(Ee.length!==be.length)return!1;var He=z(Ee),st=z(be);return He.length!==st.length?!1:ue(Ee,be,Le,Ue,X,He)}if(Ve==="[object Object]"&&(!p(Ee)&&p(be)||!T(Ee)&&T(be)))return!1;if(o(Ee)){if(!o(be)||Date.prototype.getTime.call(Ee)!==Date.prototype.getTime.call(be))return!1}else if(b(Ee)){if(!b(be)||!ne(Ee,be))return!1}else if(P(Ee)||Ee instanceof Error){if(Ee.message!==be.message||Ee.name!==be.name)return!1}else if(h(Ee)){if(!Le&&(O(Ee)||_(Ee))){if(!ce(Ee,be))return!1}else if(!Q(Ee,be))return!1;var vt=z(Ee),lt=z(be);return vt.length!==lt.length?!1:ue(Ee,be,Le,Ue,V,vt)}else{if(T(Ee))return!T(be)||Ee.size!==be.size?!1:ue(Ee,be,Le,Ue,q);if(p(Ee))return!p(be)||Ee.size!==be.size?!1:ue(Ee,be,Le,Ue,te);if(A(Ee)){if(!Z(Ee,be))return!1}else if(x(Ee)&&!re(Ee,be))return!1}return ue(Ee,be,Le,Ue,V)}function oe(Ee,be){return be.filter(function(Le){return l(Ee,Le)})}function ue(Ee,be,Le,Ue,Ve,Fe){if(arguments.length===5){Fe=Object.keys(Ee);var He=Object.keys(be);if(Fe.length!==He.length)return!1}for(var st=0;st<Fe.length;st++)if(!u(be,Fe[st]))return!1;if(Le&&arguments.length===5){var vt=i(Ee);if(vt.length!==0){var lt=0;for(st=0;st<vt.length;st++){var et=vt[st];if(l(Ee,et)){if(!l(be,et))return!1;Fe.push(et),lt++}else if(l(be,et))return!1}var ct=i(be);if(vt.length!==ct.length&&oe(be,ct).length!==lt)return!1}else{var ht=i(be);if(ht.length!==0&&oe(be,ht).length!==0)return!1}}if(Fe.length===0&&(Ve===V||Ve===X&&Ee.length===0||Ee.size===0))return!0;if(Ue===void 0)Ue={val1:new Map,val2:new Map,position:0};else{var mt=Ue.val1.get(Ee);if(mt!==void 0){var xt=Ue.val2.get(be);if(xt!==void 0)return mt===xt}Ue.position++}Ue.val1.set(Ee,Ue.position),Ue.val2.set(be,Ue.position);var Mt=Ae(Ee,be,Le,Fe,Ue,Ve);return Ue.val1.delete(Ee),Ue.val2.delete(be),Mt}function K(Ee,be,Le,Ue){for(var Ve=d(Ee),Fe=0;Fe<Ve.length;Fe++){var He=Ve[Fe];if(Y(be,He,Le,Ue))return Ee.delete(He),!0}return!1}function $(Ee){switch(S(Ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ee=+Ee;case"number":if(n(Ee))return!1}return!0}function le(Ee,be,Le){var Ue=$(Le);return Ue??(be.has(Ue)&&!Ee.has(Ue))}function ae(Ee,be,Le,Ue,Ve){var Fe=$(Le);if(Fe!=null)return Fe;var He=be.get(Fe);return He===void 0&&!be.has(Fe)||!Y(Ue,He,!1,Ve)?!1:!Ee.has(Fe)&&Y(Ue,He,!1,Ve)}function he(Ee,be,Le,Ue){for(var Ve=null,Fe=d(Ee),He=0;He<Fe.length;He++){var st=Fe[He];if(S(st)==="object"&&st!==null)Ve===null&&(Ve=new Set),Ve.add(st);else if(!be.has(st)){if(Le||!le(Ee,be,st))return!1;Ve===null&&(Ve=new Set),Ve.add(st)}}if(Ve!==null){for(var vt=d(be),lt=0;lt<vt.length;lt++){var et=vt[lt];if(S(et)==="object"&&et!==null){if(!K(Ve,et,Le,Ue))return!1}else if(!Le&&!Ee.has(et)&&!K(Ve,et,Le,Ue))return!1}return Ve.size===0}return!0}function xe(Ee,be,Le,Ue,Ve,Fe){for(var He=d(Ee),st=0;st<He.length;st++){var vt=He[st];if(Y(Le,vt,Ve,Fe)&&Y(Ue,be.get(vt),Ve,Fe))return Ee.delete(vt),!0}return!1}function Me(Ee,be,Le,Ue){for(var Ve=null,Fe=r(Ee),He=0;He<Fe.length;He++){var st=g(Fe[He],2),vt=st[0],lt=st[1];if(S(vt)==="object"&&vt!==null)Ve===null&&(Ve=new Set),Ve.add(vt);else{var et=be.get(vt);if(et===void 0&&!be.has(vt)||!Y(lt,et,Le,Ue)){if(Le||!ae(Ee,be,vt,lt,Ue))return!1;Ve===null&&(Ve=new Set),Ve.add(vt)}}}if(Ve!==null){for(var ct=r(be),ht=0;ht<ct.length;ht++){var mt=g(ct[ht],2),vt=mt[0],xt=mt[1];if(S(vt)==="object"&&vt!==null){if(!xe(Ve,Ee,vt,xt,Le,Ue))return!1}else if(!Le&&(!Ee.has(vt)||!Y(Ee.get(vt),xt,!1,Ue))&&!xe(Ve,Ee,vt,xt,!1,Ue))return!1}return Ve.size===0}return!0}function Ae(Ee,be,Le,Ue,Ve,Fe){var He=0;if(Fe===q){if(!he(Ee,be,Le,Ve))return!1}else if(Fe===te){if(!Me(Ee,be,Le,Ve))return!1}else if(Fe===X)for(;He<Ee.length;He++)if(u(Ee,He)){if(!u(be,He)||!Y(Ee[He],be[He],Le,Ve))return!1}else{if(u(be,He))return!1;for(var st=Object.keys(Ee);He<st.length;He++){var vt=st[He];if(!u(be,vt)||!Y(Ee[vt],be[vt],Le,Ve))return!1}return st.length===Object.keys(be).length}for(He=0;He<Ue.length;He++){var lt=Ue[He];if(!Y(Ee[lt],be[lt],Le,Ve))return!1}return!0}function ke(Ee,be){return Y(Ee,be,N)}function we(Ee,be){return Y(Ee,be,B)}H.exports={isDeepEqual:ke,isDeepStrictEqual:we}},83160:function(H,G,e){e.r(G),e.d(G,{decode:function(){return S},encode:function(){return C}});for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<g.length;a++)R[g.charCodeAt(a)]=a;var C=function(v){var d=new Uint8Array(v),r,t=d.length,i="";for(r=0;r<t;r+=3)i+=g[d[r]>>2],i+=g[(d[r]&3)<<4|d[r+1]>>4],i+=g[(d[r+1]&15)<<2|d[r+2]>>6],i+=g[d[r+2]&63];return t%3===2?i=i.substring(0,i.length-1)+"=":t%3===1&&(i=i.substring(0,i.length-2)+"=="),i},S=function(v){var d=v.length*.75,r=v.length,t,i=0,n,f,u,l;v[v.length-1]==="="&&(d--,v[v.length-2]==="="&&d--);var m=new ArrayBuffer(d),c=new Uint8Array(m);for(t=0;t<r;t+=4)n=R[v.charCodeAt(t)],f=R[v.charCodeAt(t+1)],u=R[v.charCodeAt(t+2)],l=R[v.charCodeAt(t+3)],c[i++]=n<<2|f>>4,c[i++]=(f&15)<<4|u>>2,c[i++]=(u&3)<<6|l&63;return m}},59968:function(H,G){G.byteLength=d,G.toByteArray=t,G.fromByteArray=f;for(var e=[],g=[],R=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,S=a.length;C<S;++C)e[C]=a[C],g[a.charCodeAt(C)]=C;g[45]=62,g[95]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=u.indexOf("=");m===-1&&(m=l);var c=m===l?0:4-m%4;return[m,c]}function d(u){var l=v(u),m=l[0],c=l[1];return(m+c)*3/4-c}function r(u,l,m){return(l+m)*3/4-m}function t(u){var l,m=v(u),c=m[0],A=m[1],h=new R(r(u,c,A)),o=0,p=A>0?c-4:c,b;for(b=0;b<p;b+=4)l=g[u.charCodeAt(b)]<<18|g[u.charCodeAt(b+1)]<<12|g[u.charCodeAt(b+2)]<<6|g[u.charCodeAt(b+3)],h[o++]=l>>16&255,h[o++]=l>>8&255,h[o++]=l&255;return A===2&&(l=g[u.charCodeAt(b)]<<2|g[u.charCodeAt(b+1)]>>4,h[o++]=l&255),A===1&&(l=g[u.charCodeAt(b)]<<10|g[u.charCodeAt(b+1)]<<4|g[u.charCodeAt(b+2)]>>2,h[o++]=l>>8&255,h[o++]=l&255),h}function i(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,l,m){for(var c,A=[],h=l;h<m;h+=3)c=(u[h]<<16&16711680)+(u[h+1]<<8&65280)+(u[h+2]&255),A.push(i(c));return A.join("")}function f(u){for(var l,m=u.length,c=m%3,A=[],h=16383,o=0,p=m-c;o<p;o+=h)A.push(n(u,o,o+h>p?p:o+h));return c===1?(l=u[m-1],A.push(e[l>>2]+e[l<<4&63]+"==")):c===2&&(l=(u[m-2]<<8)+u[m-1],A.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),A.join("")}},64928:function(H){function G(S,v,d,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=d!==void 0?d(f,v):f-v;u>=0?(i=n,t=n-1):r=n+1}return i}function e(S,v,d,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=d!==void 0?d(f,v):f-v;u>0?(i=n,t=n-1):r=n+1}return i}function g(S,v,d,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=d!==void 0?d(f,v):f-v;u<0?(i=n,r=n+1):t=n-1}return i}function R(S,v,d,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=d!==void 0?d(f,v):f-v;u<=0?(i=n,r=n+1):t=n-1}return i}function a(S,v,d,r,t){for(;r<=t;){var i=r+t>>>1,n=S[i],f=d!==void 0?d(n,v):n-v;if(f===0)return i;f<=0?r=i+1:t=i-1}return-1}function C(S,v,d,r,t,i){return typeof d=="function"?i(S,v,d,r===void 0?0:r|0,t===void 0?S.length-1:t|0):i(S,v,void 0,d===void 0?0:d|0,r===void 0?S.length-1:r|0)}H.exports={ge:function(S,v,d,r,t){return C(S,v,d,r,t,G)},gt:function(S,v,d,r,t){return C(S,v,d,r,t,e)},lt:function(S,v,d,r,t){return C(S,v,d,r,t,g)},le:function(S,v,d,r,t){return C(S,v,d,r,t,R)},eq:function(S,v,d,r,t){return C(S,v,d,r,t,a)}}},308:function(H,G){"use restrict";var e=32;G.INT_BITS=e,G.INT_MAX=2147483647,G.INT_MIN=-1<<e-1,G.sign=function(a){return(a>0)-(a<0)},G.abs=function(a){var C=a>>e-1;return(a^C)-C},G.min=function(a,C){return C^(a^C)&-(a<C)},G.max=function(a,C){return a^(a^C)&-(a<C)},G.isPow2=function(a){return!(a&a-1)&&!!a},G.log2=function(a){var C,S;return C=(a>65535)<<4,a>>>=C,S=(a>255)<<3,a>>>=S,C|=S,S=(a>15)<<2,a>>>=S,C|=S,S=(a>3)<<1,a>>>=S,C|=S,C|a>>1},G.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},G.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function g(a){var C=32;return a&=-a,a&&C--,a&65535&&(C-=16),a&16711935&&(C-=8),a&252645135&&(C-=4),a&858993459&&(C-=2),a&1431655765&&(C-=1),C}G.countTrailingZeros=g,G.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},G.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},G.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var R=new Array(256);(function(a){for(var C=0;C<256;++C){var S=C,v=C,d=7;for(S>>>=1;S;S>>>=1)v<<=1,v|=S&1,--d;a[C]=v<<d&255}})(R),G.reverse=function(a){return R[a&255]<<24|R[a>>>8&255]<<16|R[a>>>16&255]<<8|R[a>>>24&255]},G.interleave2=function(a,C){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,a|C<<1},G.deinterleave2=function(a,C){return a=a>>>C&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},G.interleave3=function(a,C,S){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,a|=C<<1,S&=1023,S=(S|S<<16)&4278190335,S=(S|S<<8)&251719695,S=(S|S<<4)&3272356035,S=(S|S<<2)&1227133513,a|S<<2},G.deinterleave3=function(a,C){return a=a>>>C&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},G.nextCombination=function(a){var C=a|a-1;return C+1|(~C&-~C)-1>>>g(a)+1}},29620:function(H,G,e){var g=e(32420);H.exports=a;var R=1e20;function a(v,d){d||(d={});var r=d.cutoff==null?.25:d.cutoff,t=d.radius==null?8:d.radius,i=d.channel||0,n,f,u,l,m,c,A,h,o,p,b;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!d.width||!d.height)throw Error("For raw data width and height should be provided by options");n=d.width,f=d.height,l=v,d.stride?c=d.stride:c=Math.floor(v.length/n/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,A=h.getContext("2d"),n=h.width,f=h.height,o=A.getImageData(0,0,n,f),l=o.data,c=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,A=v,n=h.width,f=h.height,o=A.getImageData(0,0,n,f),l=o.data,c=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,f=v.height,l=o.data,c=4);if(u=Math.max(n,f),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(m=l,l=Array(n*f),p=0,b=m.length;p<b;p++)l[p]=m[p*c+i]/255;else if(c!==1)throw Error("Raw data can have only 1 value per pixel");var T=Array(n*f),P=Array(n*f),x=Array(u),L=Array(u),M=Array(u+1),s=Array(u);for(p=0,b=n*f;p<b;p++){var E=l[p];T[p]=E===1?0:E===0?R:Math.pow(Math.max(0,.5-E),2),P[p]=E===1?R:E===0?0:Math.pow(Math.max(0,E-.5),2)}C(T,n,f,x,L,s,M),C(P,n,f,x,L,s,M);var w=window.Float32Array?new Float32Array(n*f):new Array(n*f);for(p=0,b=n*f;p<b;p++)w[p]=g(1-((T[p]-P[p])/t+r),0,1);return w}function C(v,d,r,t,i,n,f){for(var u=0;u<d;u++){for(var l=0;l<r;l++)t[l]=v[l*d+u];for(S(t,i,n,f,r),l=0;l<r;l++)v[l*d+u]=i[l]}for(l=0;l<r;l++){for(u=0;u<d;u++)t[u]=v[l*d+u];for(S(t,i,n,f,d),u=0;u<d;u++)v[l*d+u]=Math.sqrt(i[u])}}function S(v,d,r,t,i){r[0]=0,t[0]=-R,t[1]=+R;for(var n=1,f=0;n<i;n++){for(var u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);u<=t[f];)f--,u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);f++,r[f]=n,t[f]=u,t[f+1]=+R}for(n=0,f=0;n<i;n++){for(;t[f+1]<n;)f++;d[n]=(n-r[f])*(n-r[f])+v[r[f]]}}},99676:function(H,G,e){var g=e(53664),R=e(57916),a=R(g("String.prototype.indexOf"));H.exports=function(S,v){var d=g(S,!!v);return typeof d=="function"&&a(S,".prototype.")>-1?R(d):d}},57916:function(H,G,e){var g=e(8844),R=e(53664),a=e(14500),C=R("%TypeError%"),S=R("%Function.prototype.apply%"),v=R("%Function.prototype.call%"),d=R("%Reflect.apply%",!0)||g.call(v,S),r=R("%Object.defineProperty%",!0),t=R("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}H.exports=function(f){if(typeof f!="function")throw new C("a function is required");var u=d(g,v,arguments);return a(u,1+t(0,f.length-(arguments.length-1)),!0)};var i=function(){return d(g,S,arguments)};r?r(H.exports,"apply",{value:i}):H.exports.apply=i},32420:function(H){H.exports=G;function G(e,g,R){return g<R?e<g?g:e>R?R:e:e<R?R:e>g?g:e}},3808:function(H,G,e){var g=e(32420);H.exports=R,H.exports.to=R,H.exports.from=a;function R(C,S){S==null&&(S=!0);var v=C[0],d=C[1],r=C[2],t=C[3];t==null&&(t=S?1:255),S&&(v*=255,d*=255,r*=255,t*=255),v=g(v,0,255)&255,d=g(d,0,255)&255,r=g(r,0,255)&255,t=g(t,0,255)&255;var i=v*16777216+(d<<16)+(r<<8)+t;return i}function a(C,S){C=+C;var v=C>>>24,d=(C&16711680)>>>16,r=(C&65280)>>>8,t=C&255;return S===!1?[v,d,r,t]:[v/255,d/255,r/255,t/255]}},17592:function(H){H.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(H,G,e){var g=e(96824),R=e(32420),a=e(72512);H.exports=function(v,d){(d==="float"||!d)&&(d="array"),d==="uint"&&(d="uint8"),d==="uint_clamped"&&(d="uint8_clamped");var r=a(d),t=new r(4),i=d!=="uint8"&&d!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,i&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(i?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=R(Math.floor(v[0]*255),0,255),t[1]=R(Math.floor(v[1]*255),0,255),t[2]=R(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:R(Math.floor(v[3]*255),0,255)),t)};function C(S){return!!(S instanceof Uint8Array||S instanceof Uint8ClampedArray||Array.isArray(S)&&(S[0]>1||S[0]===0)&&(S[1]>1||S[1]===0)&&(S[2]>1||S[2]===0)&&(!S[3]||S[3]>1))}},96824:function(H,G,e){var g=e(95532),R=e(53576),a=e(32420);H.exports=function(S){var v,d=g(S);return d.space?(v=Array(3),v[0]=a(d.values[0],0,255),v[1]=a(d.values[1],0,255),v[2]=a(d.values[2],0,255),d.space[0]==="h"&&(v=R.rgb(v)),v.push(a(d.alpha,0,1)),v):[]}},95532:function(H,G,e){var g=e(17592);H.exports=a;var R={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function a(C){var S,v=[],d=1,r;if(typeof C=="string")if(C=C.toLowerCase(),g[C])v=g[C].slice(),r="rgb";else if(C==="transparent")d=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(C)){var t=C.slice(1),i=t.length,n=i<=4;d=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],i===4&&(d=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],i===8&&(d=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(S=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(C)){var f=S[1],u=f==="rgb",t=f.replace(/a$/,"");r=t;var i=t==="cmyk"?4:t==="gray"?1:3;v=S[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(c,A){if(/%$/.test(c))return A===i?parseFloat(c)/100:t==="rgb"?parseFloat(c)*255/100:parseFloat(c);if(t[A]==="h"){if(/deg$/.test(c))return parseFloat(c);if(R[c]!==void 0)return R[c]}return parseFloat(c)}),f===t&&v.push(1),d=u||v[i]===void 0?1:v[i],v=v.slice(0,i)}else C.length>10&&/[0-9](?:\s|\/)/.test(C)&&(v=C.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=C.match(/([a-z])/ig).join("").toLowerCase());else isNaN(C)?Array.isArray(C)||C.length?(v=[C[0],C[1],C[2]],r="rgb",d=C.length===4?C[3]:1):C instanceof Object&&(C.r!=null||C.red!=null||C.R!=null?(r="rgb",v=[C.r||C.red||C.R||0,C.g||C.green||C.G||0,C.b||C.blue||C.B||0]):(r="hsl",v=[C.h||C.hue||C.H||0,C.s||C.saturation||C.S||0,C.l||C.lightness||C.L||C.b||C.brightness]),d=C.a||C.alpha||C.opacity||1,C.opacity!=null&&(d/=100)):(r="rgb",v=[C>>>16,(C&65280)>>>8,C&255]);return{space:r,values:v,alpha:d}}},53576:function(H,G,e){var g=e(19336);H.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(R){var a=R[0]/360,C=R[1]/100,S=R[2]/100,v,d,r,t,i;if(C===0)return i=S*255,[i,i,i];S<.5?d=S*(1+C):d=S+C-S*C,v=2*S-d,t=[0,0,0];for(var n=0;n<3;n++)r=a+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?i=v+(d-v)*6*r:2*r<1?i=d:3*r<2?i=v+(d-v)*(.6666666666666666-r)*6:i=v,t[n]=i*255;return t}},g.hsl=function(R){var a=R[0]/255,C=R[1]/255,S=R[2]/255,v=Math.min(a,C,S),d=Math.max(a,C,S),r=d-v,t,i,n;return d===v?t=0:a===d?t=(C-S)/r:C===d?t=2+(S-a)/r:S===d&&(t=4+(a-C)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+d)/2,d===v?i=0:n<=.5?i=r/(d+v):i=r/(2-d-v),[t,i*100,n*100]}},19336:function(H){H.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(H){H.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(H,G,e){H.exports={parse:e(46416),stringify:e(49395)}},8744:function(H,G,e){var g=e(30584);H.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||g.indexOf(a)!==-1}}},46416:function(H,G,e){var g=e(92384),R=e(68194),a=e(3748),C=e(2904),S=e(47916),v=e(7294),d=e(39956),r=e(8744).isSize;H.exports=i;var t=i.cache={};function i(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(t[f])return t[f];if(f==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(f)!==-1)return t[f]={system:f};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=d(f,/\s+/),m;m=l.shift();){if(R.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(A){u[A]=m}),t[f]=u;if(S.indexOf(m)!==-1){u.style=m;continue}if(m==="normal"||m==="small-caps"){u.variant=m;continue}if(v.indexOf(m)!==-1){u.stretch=m;continue}if(C.indexOf(m)!==-1){u.weight=m;continue}if(r(m)){var c=d(m,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=n(c[1]):l[0]==="/"&&(l.shift(),u.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=d(l.join(" "),/\s*,\s*/).map(g),t[f]=u}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function n(f){var u=parseFloat(f);return u.toString()===f?u:f}},49395:function(H,G,e){var g=e(55616),R=e(8744).isSize,a=f(e(68194)),C=f(e(3748)),S=f(e(2904)),v=f(e(47916)),d=f(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},i={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};H.exports=function(l){if(l=g(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,C),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,S),n(l.stretch,d),l.size==null&&(l.size=i.size),typeof l.size=="number"&&(l.size+="px"),!R)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=i.family),Array.isArray(l.family)&&(l.family.length||(l.family=[i.family]),l.family=l.family.map(function(c){return t[c]?c:'"'+c+'"'}).join(", "));var m=[];return m.push(l.style),l.variant!==l.style&&m.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&m.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&m.push(l.stretch),m.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),m.push(l.family),m.filter(Boolean).join(" ")};function n(u,l){if(u&&!l[u]&&!a[u])throw Error("Unknown keyword `"+u+"`");return u}function f(u){for(var l={},m=0;m<u.length;m++)l[u[m]]=1;return l}},27940:function(H,G,e){var g=e(81680),R=e(18496),a=e(87396),C=e(95920),S=e(50868),v=e(84323),d=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,i;i=function(n,f,u){var l=R(f)&&a(f.value),m;return m=C(f),delete m.writable,delete m.value,m.get=function(){return!u.overwriteDefinition&&t.call(this,n)?l:(f.value=d.call(l,u.resolveContext?u.resolveContext(this):this),r(this,n,f),this[n])},m},H.exports=function(n){var f=S(arguments[1]);return g(f.resolveContext)&&a(f.resolveContext),v(n,function(u,l){return i(l,u,f)})}},21092:function(H,G,e){var g=e(81680),R=e(85488),a=e(38452),C=e(50868),S=e(71056),v=H.exports=function(d,r){var t,i,n,f,u;return arguments.length<2||typeof d!="string"?(f=r,r=d,d=null):f=arguments[2],g(d)?(t=S.call(d,"c"),i=S.call(d,"e"),n=S.call(d,"w")):(t=n=!0,i=!1),u={value:r,configurable:t,enumerable:i,writable:n},f?a(C(f),u):u};v.gs=function(d,r,t){var i,n,f,u;return typeof d!="string"?(f=t,t=r,r=d,d=null):f=arguments[3],g(r)?R(r)?g(t)?R(t)||(f=t,t=void 0):t=void 0:(f=r,r=t=void 0):r=void 0,g(d)?(i=S.call(d,"c"),n=S.call(d,"e")):(i=!0,n=!1),u={get:r,set:t,configurable:i,enumerable:n},f?a(C(f),u):u}},84706:function(H,G,e){e.d(G,{XE:function(){return g},kv:function(){return C},mo:function(){return v},Uf:function(){return d},SY:function(){return r},ik:function(){return t},oh:function(){return i}});function g(n,f){return n<f?-1:n>f?1:n>=f?0:NaN}function R(n){return n.length===1&&(n=a(n)),{left:function(f,u,l,m){for(l==null&&(l=0),m==null&&(m=f.length);l<m;){var c=l+m>>>1;n(f[c],u)<0?l=c+1:m=c}return l},right:function(f,u,l,m){for(l==null&&(l=0),m==null&&(m=f.length);l<m;){var c=l+m>>>1;n(f[c],u)>0?m=c:l=c+1}return l}}}function a(n){return function(f,u){return g(n(f),u)}}R(g);function C(n,f){var u=n.length,l=-1,m,c;if(f==null){for(;++l<u;)if((m=n[l])!=null&&m>=m)for(c=m;++l<u;)(m=n[l])!=null&&m>c&&(c=m)}else for(;++l<u;)if((m=f(n[l],l,n))!=null&&m>=m)for(c=m;++l<u;)(m=f(n[l],l,n))!=null&&m>c&&(c=m);return c}function S(n){return n===null?NaN:+n}function v(n,f){var u=n.length,l=u,m=-1,c,A=0;if(f==null)for(;++m<u;)isNaN(c=S(n[m]))?--l:A+=c;else for(;++m<u;)isNaN(c=S(f(n[m],m,n)))?--l:A+=c;if(l)return A/l}function d(n){for(var f=n.length,u,l=-1,m=0,c,A;++l<f;)m+=n[l].length;for(c=new Array(m);--f>=0;)for(A=n[f],u=A.length;--u>=0;)c[--m]=A[u];return c}function r(n,f){var u=n.length,l=-1,m,c;if(f==null){for(;++l<u;)if((m=n[l])!=null&&m>=m)for(c=m;++l<u;)(m=n[l])!=null&&c>m&&(c=m)}else for(;++l<u;)if((m=f(n[l],l,n))!=null&&m>=m)for(c=m;++l<u;)(m=f(n[l],l,n))!=null&&c>m&&(c=m);return c}function t(n,f,u){n=+n,f=+f,u=(m=arguments.length)<2?(f=n,n=0,1):m<3?1:+u;for(var l=-1,m=Math.max(0,Math.ceil((f-n)/u))|0,c=new Array(m);++l<m;)c[l]=n+l*u;return c}function i(n,f){var u=n.length,l=-1,m,c=0;if(f==null)for(;++l<u;)(m=+n[l])&&(c+=m);else for(;++l<u;)(m=+f(n[l],l,n))&&(c+=m);return c}},34712:function(H,G,e){e.d(G,{kH:function(){return C},UJ:function(){return S}});var g="$";function R(){}R.prototype=a.prototype={constructor:R,has:function(f){return g+f in this},get:function(f){return this[g+f]},set:function(f,u){return this[g+f]=u,this},remove:function(f){var u=g+f;return u in this&&delete this[u]},clear:function(){for(var f in this)f[0]===g&&delete this[f]},keys:function(){var f=[];for(var u in this)u[0]===g&&f.push(u.slice(1));return f},values:function(){var f=[];for(var u in this)u[0]===g&&f.push(this[u]);return f},entries:function(){var f=[];for(var u in this)u[0]===g&&f.push({key:u.slice(1),value:this[u]});return f},size:function(){var f=0;for(var u in this)u[0]===g&&++f;return f},empty:function(){for(var f in this)if(f[0]===g)return!1;return!0},each:function(f){for(var u in this)u[0]===g&&f(this[u],u.slice(1),this)}};function a(f,u){var l=new R;if(f instanceof R)f.each(function(o,p){l.set(p,o)});else if(Array.isArray(f)){var m=-1,c=f.length,A;if(u==null)for(;++m<c;)l.set(m,f[m]);else for(;++m<c;)l.set(u(A=f[m],m,f),A)}else if(f)for(var h in f)l.set(h,f[h]);return l}var C=a;function S(){var f=[],u=[],l,m,c;function A(o,p,b,T){if(p>=f.length)return l!=null&&o.sort(l),m!=null?m(o):o;for(var P=-1,x=o.length,L=f[p++],M,s,E=C(),w,O=b();++P<x;)(w=E.get(M=L(s=o[P])+""))?w.push(s):E.set(M,[s]);return E.each(function(_,U){T(O,U,A(_,p,b,T))}),O}function h(o,p){if(++p>f.length)return o;var b,T=u[p-1];return m!=null&&p>=f.length?b=o.entries():(b=[],o.each(function(P,x){b.push({key:x,values:h(P,p)})})),T!=null?b.sort(function(P,x){return T(P.key,x.key)}):b}return c={object:function(o){return A(o,0,v,d)},map:function(o){return A(o,0,r,t)},entries:function(o){return h(A(o,0,r,t),0)},key:function(o){return f.push(o),c},sortKeys:function(o){return u[f.length-1]=o,c},sortValues:function(o){return l=o,c},rollup:function(o){return m=o,c}}}function v(){return{}}function d(f,u,l){f[u]=l}function r(){return C()}function t(f,u,l){f.set(u,l)}function i(){}var n=C.prototype;i.prototype={constructor:i,has:n.has,add:function(f){return f+="",this[g+f]=f,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(H,G,e){e.r(G),e.d(G,{forceCenter:function(){return g},forceCollide:function(){return E},forceLink:function(){return U},forceManyBody:function(){return He},forceRadial:function(){return st},forceSimulation:function(){return Fe},forceX:function(){return vt},forceY:function(){return lt}});function g(et,ct){var ht;et==null&&(et=0),ct==null&&(ct=0);function mt(){var xt,Mt=ht.length,tt,Oe=0,Ye=0;for(xt=0;xt<Mt;++xt)tt=ht[xt],Oe+=tt.x,Ye+=tt.y;for(Oe=Oe/Mt-et,Ye=Ye/Mt-ct,xt=0;xt<Mt;++xt)tt=ht[xt],tt.x-=Oe,tt.y-=Ye}return mt.initialize=function(xt){ht=xt},mt.x=function(xt){return arguments.length?(et=+xt,mt):et},mt.y=function(xt){return arguments.length?(ct=+xt,mt):ct},mt}function R(et){return function(){return et}}function a(){return(Math.random()-.5)*1e-6}function C(et){var ct=+this._x.call(null,et),ht=+this._y.call(null,et);return S(this.cover(ct,ht),ct,ht,et)}function S(et,ct,ht,mt){if(isNaN(ct)||isNaN(ht))return et;var xt,Mt=et._root,tt={data:mt},Oe=et._x0,Ye=et._y0,Ze=et._x1,We=et._y1,_e,Ie,Xe,De,de,Te,Be,Qe;if(!Mt)return et._root=tt,et;for(;Mt.length;)if((de=ct>=(_e=(Oe+Ze)/2))?Oe=_e:Ze=_e,(Te=ht>=(Ie=(Ye+We)/2))?Ye=Ie:We=Ie,xt=Mt,!(Mt=Mt[Be=Te<<1|de]))return xt[Be]=tt,et;if(Xe=+et._x.call(null,Mt.data),De=+et._y.call(null,Mt.data),ct===Xe&&ht===De)return tt.next=Mt,xt?xt[Be]=tt:et._root=tt,et;do xt=xt?xt[Be]=new Array(4):et._root=new Array(4),(de=ct>=(_e=(Oe+Ze)/2))?Oe=_e:Ze=_e,(Te=ht>=(Ie=(Ye+We)/2))?Ye=Ie:We=Ie;while((Be=Te<<1|de)===(Qe=(De>=Ie)<<1|Xe>=_e));return xt[Qe]=Mt,xt[Be]=tt,et}function v(et){var ct,ht,mt=et.length,xt,Mt,tt=new Array(mt),Oe=new Array(mt),Ye=1/0,Ze=1/0,We=-1/0,_e=-1/0;for(ht=0;ht<mt;++ht)isNaN(xt=+this._x.call(null,ct=et[ht]))||isNaN(Mt=+this._y.call(null,ct))||(tt[ht]=xt,Oe[ht]=Mt,xt<Ye&&(Ye=xt),xt>We&&(We=xt),Mt<Ze&&(Ze=Mt),Mt>_e&&(_e=Mt));if(Ye>We||Ze>_e)return this;for(this.cover(Ye,Ze).cover(We,_e),ht=0;ht<mt;++ht)S(this,tt[ht],Oe[ht],et[ht]);return this}function d(et,ct){if(isNaN(et=+et)||isNaN(ct=+ct))return this;var ht=this._x0,mt=this._y0,xt=this._x1,Mt=this._y1;if(isNaN(ht))xt=(ht=Math.floor(et))+1,Mt=(mt=Math.floor(ct))+1;else{for(var tt=xt-ht,Oe=this._root,Ye,Ze;ht>et||et>=xt||mt>ct||ct>=Mt;)switch(Ze=(ct<mt)<<1|et<ht,Ye=new Array(4),Ye[Ze]=Oe,Oe=Ye,tt*=2,Ze){case 0:xt=ht+tt,Mt=mt+tt;break;case 1:ht=xt-tt,Mt=mt+tt;break;case 2:xt=ht+tt,mt=Mt-tt;break;case 3:ht=xt-tt,mt=Mt-tt;break}this._root&&this._root.length&&(this._root=Oe)}return this._x0=ht,this._y0=mt,this._x1=xt,this._y1=Mt,this}function r(){var et=[];return this.visit(function(ct){if(!ct.length)do et.push(ct.data);while(ct=ct.next)}),et}function t(et){return arguments.length?this.cover(+et[0][0],+et[0][1]).cover(+et[1][0],+et[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function i(et,ct,ht,mt,xt){this.node=et,this.x0=ct,this.y0=ht,this.x1=mt,this.y1=xt}function n(et,ct,ht){var mt,xt=this._x0,Mt=this._y0,tt,Oe,Ye,Ze,We=this._x1,_e=this._y1,Ie=[],Xe=this._root,De,de;for(Xe&&Ie.push(new i(Xe,xt,Mt,We,_e)),ht==null?ht=1/0:(xt=et-ht,Mt=ct-ht,We=et+ht,_e=ct+ht,ht*=ht);De=Ie.pop();)if(!(!(Xe=De.node)||(tt=De.x0)>We||(Oe=De.y0)>_e||(Ye=De.x1)<xt||(Ze=De.y1)<Mt))if(Xe.length){var Te=(tt+Ye)/2,Be=(Oe+Ze)/2;Ie.push(new i(Xe[3],Te,Be,Ye,Ze),new i(Xe[2],tt,Be,Te,Ze),new i(Xe[1],Te,Oe,Ye,Be),new i(Xe[0],tt,Oe,Te,Be)),(de=(ct>=Be)<<1|et>=Te)&&(De=Ie[Ie.length-1],Ie[Ie.length-1]=Ie[Ie.length-1-de],Ie[Ie.length-1-de]=De)}else{var Qe=et-+this._x.call(null,Xe.data),at=ct-+this._y.call(null,Xe.data),it=Qe*Qe+at*at;if(it<ht){var Wt=Math.sqrt(ht=it);xt=et-Wt,Mt=ct-Wt,We=et+Wt,_e=ct+Wt,mt=Xe.data}}return mt}function f(et){if(isNaN(We=+this._x.call(null,et))||isNaN(_e=+this._y.call(null,et)))return this;var ct,ht=this._root,mt,xt,Mt,tt=this._x0,Oe=this._y0,Ye=this._x1,Ze=this._y1,We,_e,Ie,Xe,De,de,Te,Be;if(!ht)return this;if(ht.length)for(;;){if((De=We>=(Ie=(tt+Ye)/2))?tt=Ie:Ye=Ie,(de=_e>=(Xe=(Oe+Ze)/2))?Oe=Xe:Ze=Xe,ct=ht,!(ht=ht[Te=de<<1|De]))return this;if(!ht.length)break;(ct[Te+1&3]||ct[Te+2&3]||ct[Te+3&3])&&(mt=ct,Be=Te)}for(;ht.data!==et;)if(xt=ht,!(ht=ht.next))return this;return(Mt=ht.next)&&delete ht.next,xt?(Mt?xt.next=Mt:delete xt.next,this):ct?(Mt?ct[Te]=Mt:delete ct[Te],(ht=ct[0]||ct[1]||ct[2]||ct[3])&&ht===(ct[3]||ct[2]||ct[1]||ct[0])&&!ht.length&&(mt?mt[Be]=ht:this._root=ht),this):(this._root=Mt,this)}function u(et){for(var ct=0,ht=et.length;ct<ht;++ct)this.remove(et[ct]);return this}function l(){return this._root}function m(){var et=0;return this.visit(function(ct){if(!ct.length)do++et;while(ct=ct.next)}),et}function c(et){var ct=[],ht,mt=this._root,xt,Mt,tt,Oe,Ye;for(mt&&ct.push(new i(mt,this._x0,this._y0,this._x1,this._y1));ht=ct.pop();)if(!et(mt=ht.node,Mt=ht.x0,tt=ht.y0,Oe=ht.x1,Ye=ht.y1)&&mt.length){var Ze=(Mt+Oe)/2,We=(tt+Ye)/2;(xt=mt[3])&&ct.push(new i(xt,Ze,We,Oe,Ye)),(xt=mt[2])&&ct.push(new i(xt,Mt,We,Ze,Ye)),(xt=mt[1])&&ct.push(new i(xt,Ze,tt,Oe,We)),(xt=mt[0])&&ct.push(new i(xt,Mt,tt,Ze,We))}return this}function A(et){var ct=[],ht=[],mt;for(this._root&&ct.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));mt=ct.pop();){var xt=mt.node;if(xt.length){var Mt,tt=mt.x0,Oe=mt.y0,Ye=mt.x1,Ze=mt.y1,We=(tt+Ye)/2,_e=(Oe+Ze)/2;(Mt=xt[0])&&ct.push(new i(Mt,tt,Oe,We,_e)),(Mt=xt[1])&&ct.push(new i(Mt,We,Oe,Ye,_e)),(Mt=xt[2])&&ct.push(new i(Mt,tt,_e,We,Ze)),(Mt=xt[3])&&ct.push(new i(Mt,We,_e,Ye,Ze))}ht.push(mt)}for(;mt=ht.pop();)et(mt.node,mt.x0,mt.y0,mt.x1,mt.y1);return this}function h(et){return et[0]}function o(et){return arguments.length?(this._x=et,this):this._x}function p(et){return et[1]}function b(et){return arguments.length?(this._y=et,this):this._y}function T(et,ct,ht){var mt=new P(ct??h,ht??p,NaN,NaN,NaN,NaN);return et==null?mt:mt.addAll(et)}function P(et,ct,ht,mt,xt,Mt){this._x=et,this._y=ct,this._x0=ht,this._y0=mt,this._x1=xt,this._y1=Mt,this._root=void 0}function x(et){for(var ct={data:et.data},ht=ct;et=et.next;)ht=ht.next={data:et.data};return ct}var L=T.prototype=P.prototype;L.copy=function(){var et=new P(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ct=this._root,ht,mt;if(!ct)return et;if(!ct.length)return et._root=x(ct),et;for(ht=[{source:ct,target:et._root=new Array(4)}];ct=ht.pop();)for(var xt=0;xt<4;++xt)(mt=ct.source[xt])&&(mt.length?ht.push({source:mt,target:ct.target[xt]=new Array(4)}):ct.target[xt]=x(mt));return et},L.add=C,L.addAll=v,L.cover=d,L.data=r,L.extent=t,L.find=n,L.remove=f,L.removeAll=u,L.root=l,L.size=m,L.visit=c,L.visitAfter=A,L.x=o,L.y=b;function M(et){return et.x+et.vx}function s(et){return et.y+et.vy}function E(et){var ct,ht,mt=1,xt=1;typeof et!="function"&&(et=R(et==null?1:+et));function Mt(){for(var Ye,Ze=ct.length,We,_e,Ie,Xe,De,de,Te=0;Te<xt;++Te)for(We=T(ct,M,s).visitAfter(tt),Ye=0;Ye<Ze;++Ye)_e=ct[Ye],De=ht[_e.index],de=De*De,Ie=_e.x+_e.vx,Xe=_e.y+_e.vy,We.visit(Be);function Be(Qe,at,it,Wt,Yt){var Tt=Qe.data,Lt=Qe.r,Xt=De+Lt;if(Tt){if(Tt.index>_e.index){var Tr=Ie-Tt.x-Tt.vx,gt=Xe-Tt.y-Tt.vy,Kt=Tr*Tr+gt*gt;Kt<Xt*Xt&&(Tr===0&&(Tr=a(),Kt+=Tr*Tr),gt===0&&(gt=a(),Kt+=gt*gt),Kt=(Xt-(Kt=Math.sqrt(Kt)))/Kt*mt,_e.vx+=(Tr*=Kt)*(Xt=(Lt*=Lt)/(de+Lt)),_e.vy+=(gt*=Kt)*Xt,Tt.vx-=Tr*(Xt=1-Xt),Tt.vy-=gt*Xt)}return}return at>Ie+Xt||Wt<Ie-Xt||it>Xe+Xt||Yt<Xe-Xt}}function tt(Ye){if(Ye.data)return Ye.r=ht[Ye.data.index];for(var Ze=Ye.r=0;Ze<4;++Ze)Ye[Ze]&&Ye[Ze].r>Ye.r&&(Ye.r=Ye[Ze].r)}function Oe(){if(ct){var Ye,Ze=ct.length,We;for(ht=new Array(Ze),Ye=0;Ye<Ze;++Ye)We=ct[Ye],ht[We.index]=+et(We,Ye,ct)}}return Mt.initialize=function(Ye){ct=Ye,Oe()},Mt.iterations=function(Ye){return arguments.length?(xt=+Ye,Mt):xt},Mt.strength=function(Ye){return arguments.length?(mt=+Ye,Mt):mt},Mt.radius=function(Ye){return arguments.length?(et=typeof Ye=="function"?Ye:R(+Ye),Oe(),Mt):et},Mt}var w=e(34712);function O(et){return et.index}function _(et,ct){var ht=et.get(ct);if(!ht)throw new Error("missing: "+ct);return ht}function U(et){var ct=O,ht=We,mt,xt=R(30),Mt,tt,Oe,Ye,Ze=1;et==null&&(et=[]);function We(de){return 1/Math.min(Oe[de.source.index],Oe[de.target.index])}function _e(de){for(var Te=0,Be=et.length;Te<Ze;++Te)for(var Qe=0,at,it,Wt,Yt,Tt,Lt,Xt;Qe<Be;++Qe)at=et[Qe],it=at.source,Wt=at.target,Yt=Wt.x+Wt.vx-it.x-it.vx||a(),Tt=Wt.y+Wt.vy-it.y-it.vy||a(),Lt=Math.sqrt(Yt*Yt+Tt*Tt),Lt=(Lt-Mt[Qe])/Lt*de*mt[Qe],Yt*=Lt,Tt*=Lt,Wt.vx-=Yt*(Xt=Ye[Qe]),Wt.vy-=Tt*Xt,it.vx+=Yt*(Xt=1-Xt),it.vy+=Tt*Xt}function Ie(){if(tt){var de,Te=tt.length,Be=et.length,Qe=(0,w.kH)(tt,ct),at;for(de=0,Oe=new Array(Te);de<Be;++de)at=et[de],at.index=de,typeof at.source!="object"&&(at.source=_(Qe,at.source)),typeof at.target!="object"&&(at.target=_(Qe,at.target)),Oe[at.source.index]=(Oe[at.source.index]||0)+1,Oe[at.target.index]=(Oe[at.target.index]||0)+1;for(de=0,Ye=new Array(Be);de<Be;++de)at=et[de],Ye[de]=Oe[at.source.index]/(Oe[at.source.index]+Oe[at.target.index]);mt=new Array(Be),Xe(),Mt=new Array(Be),De()}}function Xe(){if(tt)for(var de=0,Te=et.length;de<Te;++de)mt[de]=+ht(et[de],de,et)}function De(){if(tt)for(var de=0,Te=et.length;de<Te;++de)Mt[de]=+xt(et[de],de,et)}return _e.initialize=function(de){tt=de,Ie()},_e.links=function(de){return arguments.length?(et=de,Ie(),_e):et},_e.id=function(de){return arguments.length?(ct=de,_e):ct},_e.iterations=function(de){return arguments.length?(Ze=+de,_e):Ze},_e.strength=function(de){return arguments.length?(ht=typeof de=="function"?de:R(+de),Xe(),_e):ht},_e.distance=function(de){return arguments.length?(xt=typeof de=="function"?de:R(+de),De(),_e):xt},_e}var z={value:function(){}};function F(){for(var et=0,ct=arguments.length,ht={},mt;et<ct;++et){if(!(mt=arguments[et]+"")||mt in ht||/[\s.]/.test(mt))throw new Error("illegal type: "+mt);ht[mt]=[]}return new B(ht)}function B(et){this._=et}function N(et,ct){return et.trim().split(/^|\s+/).map(function(ht){var mt="",xt=ht.indexOf(".");if(xt>=0&&(mt=ht.slice(xt+1),ht=ht.slice(0,xt)),ht&&!ct.hasOwnProperty(ht))throw new Error("unknown type: "+ht);return{type:ht,name:mt}})}B.prototype=F.prototype={constructor:B,on:function(et,ct){var ht=this._,mt=N(et+"",ht),xt,Mt=-1,tt=mt.length;if(arguments.length<2){for(;++Mt<tt;)if((xt=(et=mt[Mt]).type)&&(xt=V(ht[xt],et.name)))return xt;return}if(ct!=null&&typeof ct!="function")throw new Error("invalid callback: "+ct);for(;++Mt<tt;)if(xt=(et=mt[Mt]).type)ht[xt]=X(ht[xt],et.name,ct);else if(ct==null)for(xt in ht)ht[xt]=X(ht[xt],et.name,null);return this},copy:function(){var et={},ct=this._;for(var ht in ct)et[ht]=ct[ht].slice();return new B(et)},call:function(et,ct){if((xt=arguments.length-2)>0)for(var ht=new Array(xt),mt=0,xt,Mt;mt<xt;++mt)ht[mt]=arguments[mt+2];if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(Mt=this._[et],mt=0,xt=Mt.length;mt<xt;++mt)Mt[mt].value.apply(ct,ht)},apply:function(et,ct,ht){if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(var mt=this._[et],xt=0,Mt=mt.length;xt<Mt;++xt)mt[xt].value.apply(ct,ht)}};function V(et,ct){for(var ht=0,mt=et.length,xt;ht<mt;++ht)if((xt=et[ht]).name===ct)return xt.value}function X(et,ct,ht){for(var mt=0,xt=et.length;mt<xt;++mt)if(et[mt].name===ct){et[mt]=z,et=et.slice(0,mt).concat(et.slice(mt+1));break}return ht!=null&&et.push({name:ct,value:ht}),et}var q=F,te=0,ne=0,ce=0,Q=1e3,Z,re,Y=0,oe=0,ue=0,K=typeof performance=="object"&&performance.now?performance:Date,$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(et){setTimeout(et,17)};function le(){return oe||($(ae),oe=K.now()+ue)}function ae(){oe=0}function he(){this._call=this._time=this._next=null}he.prototype=xe.prototype={constructor:he,restart:function(et,ct,ht){if(typeof et!="function")throw new TypeError("callback is not a function");ht=(ht==null?le():+ht)+(ct==null?0:+ct),!this._next&&re!==this&&(re?re._next=this:Z=this,re=this),this._call=et,this._time=ht,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};function xe(et,ct,ht){var mt=new he;return mt.restart(et,ct,ht),mt}function Me(){le(),++te;for(var et=Z,ct;et;)(ct=oe-et._time)>=0&&et._call.call(null,ct),et=et._next;--te}function Ae(){oe=(Y=K.now())+ue,te=ne=0;try{Me()}finally{te=0,we(),oe=0}}function ke(){var et=K.now(),ct=et-Y;ct>Q&&(ue-=ct,Y=et)}function we(){for(var et,ct=Z,ht,mt=1/0;ct;)ct._call?(mt>ct._time&&(mt=ct._time),et=ct,ct=ct._next):(ht=ct._next,ct._next=null,ct=et?et._next=ht:Z=ht);re=et,Ee(mt)}function Ee(et){if(!te){ne&&(ne=clearTimeout(ne));var ct=et-oe;ct>24?(et<1/0&&(ne=setTimeout(Ae,et-K.now()-ue)),ce&&(ce=clearInterval(ce))):(ce||(Y=K.now(),ce=setInterval(ke,Q)),te=1,$(Ae))}}function be(et){return et.x}function Le(et){return et.y}var Ue=10,Ve=Math.PI*(3-Math.sqrt(5));function Fe(et){var ct,ht=1,mt=.001,xt=1-Math.pow(mt,1/300),Mt=0,tt=.6,Oe=(0,w.kH)(),Ye=xe(We),Ze=q("tick","end");et==null&&(et=[]);function We(){_e(),Ze.call("tick",ct),ht<mt&&(Ye.stop(),Ze.call("end",ct))}function _e(De){var de,Te=et.length,Be;De===void 0&&(De=1);for(var Qe=0;Qe<De;++Qe)for(ht+=(Mt-ht)*xt,Oe.each(function(at){at(ht)}),de=0;de<Te;++de)Be=et[de],Be.fx==null?Be.x+=Be.vx*=tt:(Be.x=Be.fx,Be.vx=0),Be.fy==null?Be.y+=Be.vy*=tt:(Be.y=Be.fy,Be.vy=0);return ct}function Ie(){for(var De=0,de=et.length,Te;De<de;++De){if(Te=et[De],Te.index=De,Te.fx!=null&&(Te.x=Te.fx),Te.fy!=null&&(Te.y=Te.fy),isNaN(Te.x)||isNaN(Te.y)){var Be=Ue*Math.sqrt(De),Qe=De*Ve;Te.x=Be*Math.cos(Qe),Te.y=Be*Math.sin(Qe)}(isNaN(Te.vx)||isNaN(Te.vy))&&(Te.vx=Te.vy=0)}}function Xe(De){return De.initialize&&De.initialize(et),De}return Ie(),ct={tick:_e,restart:function(){return Ye.restart(We),ct},stop:function(){return Ye.stop(),ct},nodes:function(De){return arguments.length?(et=De,Ie(),Oe.each(Xe),ct):et},alpha:function(De){return arguments.length?(ht=+De,ct):ht},alphaMin:function(De){return arguments.length?(mt=+De,ct):mt},alphaDecay:function(De){return arguments.length?(xt=+De,ct):+xt},alphaTarget:function(De){return arguments.length?(Mt=+De,ct):Mt},velocityDecay:function(De){return arguments.length?(tt=1-De,ct):1-tt},force:function(De,de){return arguments.length>1?(de==null?Oe.remove(De):Oe.set(De,Xe(de)),ct):Oe.get(De)},find:function(De,de,Te){var Be=0,Qe=et.length,at,it,Wt,Yt,Tt;for(Te==null?Te=1/0:Te*=Te,Be=0;Be<Qe;++Be)Yt=et[Be],at=De-Yt.x,it=de-Yt.y,Wt=at*at+it*it,Wt<Te&&(Tt=Yt,Te=Wt);return Tt},on:function(De,de){return arguments.length>1?(Ze.on(De,de),ct):Ze.on(De)}}}function He(){var et,ct,ht,mt=R(-30),xt,Mt=1,tt=1/0,Oe=.81;function Ye(Ie){var Xe,De=et.length,de=T(et,be,Le).visitAfter(We);for(ht=Ie,Xe=0;Xe<De;++Xe)ct=et[Xe],de.visit(_e)}function Ze(){if(et){var Ie,Xe=et.length,De;for(xt=new Array(Xe),Ie=0;Ie<Xe;++Ie)De=et[Ie],xt[De.index]=+mt(De,Ie,et)}}function We(Ie){var Xe=0,De,de,Te=0,Be,Qe,at;if(Ie.length){for(Be=Qe=at=0;at<4;++at)(De=Ie[at])&&(de=Math.abs(De.value))&&(Xe+=De.value,Te+=de,Be+=de*De.x,Qe+=de*De.y);Ie.x=Be/Te,Ie.y=Qe/Te}else{De=Ie,De.x=De.data.x,De.y=De.data.y;do Xe+=xt[De.data.index];while(De=De.next)}Ie.value=Xe}function _e(Ie,Xe,De,de){if(!Ie.value)return!0;var Te=Ie.x-ct.x,Be=Ie.y-ct.y,Qe=de-Xe,at=Te*Te+Be*Be;if(Qe*Qe/Oe<at)return at<tt&&(Te===0&&(Te=a(),at+=Te*Te),Be===0&&(Be=a(),at+=Be*Be),at<Mt&&(at=Math.sqrt(Mt*at)),ct.vx+=Te*Ie.value*ht/at,ct.vy+=Be*Ie.value*ht/at),!0;if(Ie.length||at>=tt)return;(Ie.data!==ct||Ie.next)&&(Te===0&&(Te=a(),at+=Te*Te),Be===0&&(Be=a(),at+=Be*Be),at<Mt&&(at=Math.sqrt(Mt*at)));do Ie.data!==ct&&(Qe=xt[Ie.data.index]*ht/at,ct.vx+=Te*Qe,ct.vy+=Be*Qe);while(Ie=Ie.next)}return Ye.initialize=function(Ie){et=Ie,Ze()},Ye.strength=function(Ie){return arguments.length?(mt=typeof Ie=="function"?Ie:R(+Ie),Ze(),Ye):mt},Ye.distanceMin=function(Ie){return arguments.length?(Mt=Ie*Ie,Ye):Math.sqrt(Mt)},Ye.distanceMax=function(Ie){return arguments.length?(tt=Ie*Ie,Ye):Math.sqrt(tt)},Ye.theta=function(Ie){return arguments.length?(Oe=Ie*Ie,Ye):Math.sqrt(Oe)},Ye}function st(et,ct,ht){var mt,xt=R(.1),Mt,tt;typeof et!="function"&&(et=R(+et)),ct==null&&(ct=0),ht==null&&(ht=0);function Oe(Ze){for(var We=0,_e=mt.length;We<_e;++We){var Ie=mt[We],Xe=Ie.x-ct||1e-6,De=Ie.y-ht||1e-6,de=Math.sqrt(Xe*Xe+De*De),Te=(tt[We]-de)*Mt[We]*Ze/de;Ie.vx+=Xe*Te,Ie.vy+=De*Te}}function Ye(){if(mt){var Ze,We=mt.length;for(Mt=new Array(We),tt=new Array(We),Ze=0;Ze<We;++Ze)tt[Ze]=+et(mt[Ze],Ze,mt),Mt[Ze]=isNaN(tt[Ze])?0:+xt(mt[Ze],Ze,mt)}}return Oe.initialize=function(Ze){mt=Ze,Ye()},Oe.strength=function(Ze){return arguments.length?(xt=typeof Ze=="function"?Ze:R(+Ze),Ye(),Oe):xt},Oe.radius=function(Ze){return arguments.length?(et=typeof Ze=="function"?Ze:R(+Ze),Ye(),Oe):et},Oe.x=function(Ze){return arguments.length?(ct=+Ze,Oe):ct},Oe.y=function(Ze){return arguments.length?(ht=+Ze,Oe):ht},Oe}function vt(et){var ct=R(.1),ht,mt,xt;typeof et!="function"&&(et=R(et==null?0:+et));function Mt(Oe){for(var Ye=0,Ze=ht.length,We;Ye<Ze;++Ye)We=ht[Ye],We.vx+=(xt[Ye]-We.x)*mt[Ye]*Oe}function tt(){if(ht){var Oe,Ye=ht.length;for(mt=new Array(Ye),xt=new Array(Ye),Oe=0;Oe<Ye;++Oe)mt[Oe]=isNaN(xt[Oe]=+et(ht[Oe],Oe,ht))?0:+ct(ht[Oe],Oe,ht)}}return Mt.initialize=function(Oe){ht=Oe,tt()},Mt.strength=function(Oe){return arguments.length?(ct=typeof Oe=="function"?Oe:R(+Oe),tt(),Mt):ct},Mt.x=function(Oe){return arguments.length?(et=typeof Oe=="function"?Oe:R(+Oe),tt(),Mt):et},Mt}function lt(et){var ct=R(.1),ht,mt,xt;typeof et!="function"&&(et=R(et==null?0:+et));function Mt(Oe){for(var Ye=0,Ze=ht.length,We;Ye<Ze;++Ye)We=ht[Ye],We.vy+=(xt[Ye]-We.y)*mt[Ye]*Oe}function tt(){if(ht){var Oe,Ye=ht.length;for(mt=new Array(Ye),xt=new Array(Ye),Oe=0;Oe<Ye;++Oe)mt[Oe]=isNaN(xt[Oe]=+et(ht[Oe],Oe,ht))?0:+ct(ht[Oe],Oe,ht)}}return Mt.initialize=function(Oe){ht=Oe,tt()},Mt.strength=function(Oe){return arguments.length?(ct=typeof Oe=="function"?Oe:R(+Oe),tt(),Mt):ct},Mt.y=function(Oe){return arguments.length?(et=typeof Oe=="function"?Oe:R(+Oe),tt(),Mt):et},Mt}},57624:function(H,G,e){e.d(G,{E9:function(){return o},SO:function(){return A}});function g(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function R(b,T){if((P=(b=T?b.toExponential(T-1):b.toExponential()).indexOf("e"))<0)return null;var P,x=b.slice(0,P);return[x.length>1?x[0]+x.slice(2):x,+b.slice(P+1)]}function a(b){return b=R(Math.abs(b)),b?b[1]:NaN}function C(b,T){return function(P,x){for(var L=P.length,M=[],s=0,E=b[0],w=0;L>0&&E>0&&(w+E+1>x&&(E=Math.max(1,x-w)),M.push(P.substring(L-=E,L+E)),!((w+=E+1)>x));)E=b[s=(s+1)%b.length];return M.reverse().join(T)}}function S(b){return function(T){return T.replace(/[0-9]/g,function(P){return b[+P]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d(b){if(!(T=v.exec(b)))throw new Error("invalid format: "+b);var T;return new r({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}d.prototype=r.prototype;function r(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(b){e:for(var T=b.length,P=1,x=-1,L;P<T;++P)switch(b[P]){case".":x=L=P;break;case"0":x===0&&(x=P),L=P;break;default:if(!+b[P])break e;x>0&&(x=0);break}return x>0?b.slice(0,x)+b.slice(L+1):b}var i;function n(b,T){var P=R(b,T);if(!P)return b+"";var x=P[0],L=P[1],M=L-(i=Math.max(-8,Math.min(8,Math.floor(L/3)))*3)+1,s=x.length;return M===s?x:M>s?x+new Array(M-s+1).join("0"):M>0?x.slice(0,M)+"."+x.slice(M):"0."+new Array(1-M).join("0")+R(b,Math.max(0,T+M-1))[0]}function f(b,T){var P=R(b,T);if(!P)return b+"";var x=P[0],L=P[1];return L<0?"0."+new Array(-L).join("0")+x:x.length>L+1?x.slice(0,L+1)+"."+x.slice(L+1):x+new Array(L-x.length+2).join("0")}var u={"%":function(b,T){return(b*100).toFixed(T)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:g,e:function(b,T){return b.toExponential(T)},f:function(b,T){return b.toFixed(T)},g:function(b,T){return b.toPrecision(T)},o:function(b){return Math.round(b).toString(8)},p:function(b,T){return f(b*100,T)},r:f,s:n,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function l(b){return b}var m=Array.prototype.map,c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function A(b){var T=b.grouping===void 0||b.thousands===void 0?l:C(m.call(b.grouping,Number),b.thousands+""),P=b.currency===void 0?"":b.currency[0]+"",x=b.currency===void 0?"":b.currency[1]+"",L=b.decimal===void 0?".":b.decimal+"",M=b.numerals===void 0?l:S(m.call(b.numerals,String)),s=b.percent===void 0?"%":b.percent+"",E=b.minus===void 0?"-":b.minus+"",w=b.nan===void 0?"NaN":b.nan+"";function O(U){U=d(U);var z=U.fill,F=U.align,B=U.sign,N=U.symbol,V=U.zero,X=U.width,q=U.comma,te=U.precision,ne=U.trim,ce=U.type;ce==="n"?(q=!0,ce="g"):u[ce]||(te===void 0&&(te=12),ne=!0,ce="g"),(V||z==="0"&&F==="=")&&(V=!0,z="0",F="=");var Q=N==="$"?P:N==="#"&&/[boxX]/.test(ce)?"0"+ce.toLowerCase():"",Z=N==="$"?x:/[%p]/.test(ce)?s:"",re=u[ce],Y=/[defgprs%]/.test(ce);te=te===void 0?6:/[gprs]/.test(ce)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function oe(ue){var K=Q,$=Z,le,ae,he;if(ce==="c")$=re(ue)+$,ue="";else{ue=+ue;var xe=ue<0||1/ue<0;if(ue=isNaN(ue)?w:re(Math.abs(ue),te),ne&&(ue=t(ue)),xe&&+ue==0&&B!=="+"&&(xe=!1),K=(xe?B==="("?B:E:B==="-"||B==="("?"":B)+K,$=(ce==="s"?c[8+i/3]:"")+$+(xe&&B==="("?")":""),Y){for(le=-1,ae=ue.length;++le<ae;)if(he=ue.charCodeAt(le),48>he||he>57){$=(he===46?L+ue.slice(le+1):ue.slice(le))+$,ue=ue.slice(0,le);break}}}q&&!V&&(ue=T(ue,1/0));var Me=K.length+ue.length+$.length,Ae=Me<X?new Array(X-Me+1).join(z):"";switch(q&&V&&(ue=T(Ae+ue,Ae.length?X-$.length:1/0),Ae=""),F){case"<":ue=K+ue+$+Ae;break;case"=":ue=K+Ae+ue+$;break;case"^":ue=Ae.slice(0,Me=Ae.length>>1)+K+ue+$+Ae.slice(Me);break;default:ue=Ae+K+ue+$;break}return M(ue)}return oe.toString=function(){return U+""},oe}function _(U,z){var F=O((U=d(U),U.type="f",U)),B=Math.max(-8,Math.min(8,Math.floor(a(z)/3)))*3,N=Math.pow(10,-B),V=c[8+B/3];return function(X){return F(N*X)+V}}return{format:O,formatPrefix:_}}var h,o;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(b){return h=A(b),o=h.format,h.formatPrefix,h}},87108:function(H,G,e){e.r(G),e.d(G,{geoAiry:function(){return V},geoAiryRaw:function(){return N},geoAitoff:function(){return q},geoAitoffRaw:function(){return X},geoArmadillo:function(){return ne},geoArmadilloRaw:function(){return te},geoAugust:function(){return Q},geoAugustRaw:function(){return ce},geoBaker:function(){return oe},geoBakerRaw:function(){return Y},geoBerghaus:function(){return $},geoBerghausRaw:function(){return K},geoBertin1953:function(){return we},geoBertin1953Raw:function(){return ke},geoBoggs:function(){return st},geoBoggsRaw:function(){return He},geoBonne:function(){return ht},geoBonneRaw:function(){return ct},geoBottomley:function(){return xt},geoBottomleyRaw:function(){return mt},geoBromley:function(){return tt},geoBromleyRaw:function(){return Mt},geoChamberlin:function(){return de},geoChamberlinAfrica:function(){return De},geoChamberlinRaw:function(){return Ie},geoCollignon:function(){return Be},geoCollignonRaw:function(){return Te},geoCraig:function(){return at},geoCraigRaw:function(){return Qe},geoCraster:function(){return Yt},geoCrasterRaw:function(){return Wt},geoCylindricalEqualArea:function(){return Lt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return Tr},geoCylindricalStereographicRaw:function(){return Xt},geoEckert1:function(){return Kt},geoEckert1Raw:function(){return gt},geoEckert2:function(){return yr},geoEckert2Raw:function(){return Qt},geoEckert3:function(){return yt},geoEckert3Raw:function(){return fr},geoEckert4:function(){return bt},geoEckert4Raw:function(){return ot},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Et},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Ht},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return je},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return Ot},geoFoucautRaw:function(){return Ge},geoFoucautSinusoidal:function(){return $t},geoFoucautSinusoidalRaw:function(){return kt},geoGilbert:function(){return vr},geoGingery:function(){return Hr},geoGingeryRaw:function(){return gr},geoGinzburg4:function(){return cn},geoGinzburg4Raw:function(){return Ir},geoGinzburg5:function(){return An},geoGinzburg5Raw:function(){return Zr},geoGinzburg6:function(){return br},geoGinzburg6Raw:function(){return Sn},geoGinzburg8:function(){return jr},geoGinzburg8Raw:function(){return Or},geoGinzburg9:function(){return pn},geoGinzburg9Raw:function(){return zr},geoGringorten:function(){return oa},geoGringortenQuincuncial:function(){return cv},geoGringortenRaw:function(){return Ln},geoGuyou:function(){return vn},geoGuyouRaw:function(){return mr},geoHammer:function(){return xe},geoHammerRaw:function(){return ae},geoHammerRetroazimuthal:function(){return Bn},geoHammerRetroazimuthalRaw:function(){return bn},geoHealpix:function(){return sn},geoHealpixRaw:function(){return Mr},geoHill:function(){return Kr},geoHillRaw:function(){return Cr},geoHomolosine:function(){return Un},geoHomolosineRaw:function(){return Mn},geoHufnagel:function(){return va},geoHufnagelRaw:function(){return Fn},geoHyperelliptical:function(){return bi},geoHyperellipticalRaw:function(){return Da},geoInterrupt:function(){return po},geoInterruptedBoggs:function(){return qf},geoInterruptedHomolosine:function(){return ai},geoInterruptedMollweide:function(){return ec},geoInterruptedMollweideHemispheres:function(){return Oo},geoInterruptedQuarticAuthalic:function(){return fl},geoInterruptedSinuMollweide:function(){return wf},geoInterruptedSinusoidal:function(){return tu},geoKavrayskiy7:function(){return eo},geoKavrayskiy7Raw:function(){return Zi},geoLagrange:function(){return go},geoLagrangeRaw:function(){return ru},geoLarrivee:function(){return Gc},geoLarriveeRaw:function(){return ts},geoLaskowski:function(){return $h},geoLaskowskiRaw:function(){return jo},geoLittrow:function(){return lo},geoLittrowRaw:function(){return ks},geoLoximuthal:function(){return ul},geoLoximuthalRaw:function(){return tc},geoMiller:function(){return rc},geoMillerRaw:function(){return _s},geoModifiedStereographic:function(){return Rl},geoModifiedStereographicAlaska:function(){return nc},geoModifiedStereographicGs48:function(){return rv},geoModifiedStereographicGs50:function(){return nv},geoModifiedStereographicLee:function(){return Yc},geoModifiedStereographicMiller:function(){return jc},geoModifiedStereographicRaw:function(){return Wc},geoMollweide:function(){return Ue},geoMollweideRaw:function(){return Le},geoMtFlatPolarParabolic:function(){return Xc},geoMtFlatPolarParabolicRaw:function(){return Uu},geoMtFlatPolarQuartic:function(){return av},geoMtFlatPolarQuarticRaw:function(){return Zs},geoMtFlatPolarSinusoidal:function(){return Zc},geoMtFlatPolarSinusoidalRaw:function(){return Af},geoNaturalEarth:function(){return Kc.c},geoNaturalEarth2:function(){return ps},geoNaturalEarth2Raw:function(){return Sf},geoNaturalEarthRaw:function(){return Kc.g},geoNellHammer:function(){return Dl},geoNellHammerRaw:function(){return au},geoNicolosi:function(){return ac},geoNicolosiRaw:function(){return Os},geoPatterson:function(){return lu},geoPattersonRaw:function(){return Ef},geoPeirceQuincuncial:function(){return th},geoPierceQuincuncial:function(){return th},geoPolyconic:function(){return ov},geoPolyconicRaw:function(){return Cf},geoPolyhedral:function(){return wi},geoPolyhedralButterfly:function(){return Gu},geoPolyhedralCollignon:function(){return kl},geoPolyhedralWaterman:function(){return hl},geoProject:function(){return uv},geoQuantize:function(){return rh},geoQuincuncial:function(){return $s},geoRectangularPolyconic:function(){return nh},geoRectangularPolyconicRaw:function(){return cc},geoRobinson:function(){return vl},geoRobinsonRaw:function(){return ws},geoSatellite:function(){return _l},geoSatelliteRaw:function(){return Df},geoSinuMollweide:function(){return On},geoSinuMollweideRaw:function(){return Tn},geoSinusoidal:function(){return et},geoSinusoidalRaw:function(){return lt},geoStitch:function(){return Ju},geoTimes:function(){return to},geoTimesRaw:function(){return yl},geoTwoPointAzimuthal:function(){return _f},geoTwoPointAzimuthalRaw:function(){return vc},geoTwoPointAzimuthalUsa:function(){return zl},geoTwoPointEquidistant:function(){return oh},geoTwoPointEquidistantRaw:function(){return $u},geoTwoPointEquidistantUsa:function(){return hv},geoVanDerGrinten:function(){return Qu},geoVanDerGrinten2:function(){return sh},geoVanDerGrinten2Raw:function(){return yu},geoVanDerGrinten3:function(){return vv},geoVanDerGrinten3Raw:function(){return ml},geoVanDerGrinten4:function(){return qu},geoVanDerGrinten4Raw:function(){return Xo},geoVanDerGrintenRaw:function(){return Lo},geoWagner:function(){return xl},geoWagner4:function(){return lh},geoWagner4Raw:function(){return zf},geoWagner6:function(){return pc},geoWagner6Raw:function(){return rf},geoWagner7:function(){return dc},geoWagnerRaw:function(){return el},geoWiechel:function(){return gc},geoWiechelRaw:function(){return Fl},geoWinkel3:function(){return uh},geoWinkel3Raw:function(){return nf}});var g=e(87952),R=Math.abs,a=Math.atan,C=Math.atan2,S=Math.cos,v=Math.exp,d=Math.floor,r=Math.log,t=Math.max,i=Math.min,n=Math.pow,f=Math.round,u=Math.sign||function(Je){return Je>0?1:Je<0?-1:0},l=Math.sin,m=Math.tan,c=1e-6,A=1e-12,h=Math.PI,o=h/2,p=h/4,b=Math.SQRT1_2,T=O(2),P=O(h),x=h*2,L=180/h,M=h/180;function s(Je){return Je?Je/Math.sin(Je):1}function E(Je){return Je>1?o:Je<-1?-o:Math.asin(Je)}function w(Je){return Je>1?0:Je<-1?h:Math.acos(Je)}function O(Je){return Je>0?Math.sqrt(Je):0}function _(Je){return Je=v(2*Je),(Je-1)/(Je+1)}function U(Je){return(v(Je)-v(-Je))/2}function z(Je){return(v(Je)+v(-Je))/2}function F(Je){return r(Je+O(Je*Je+1))}function B(Je){return r(Je+O(Je*Je-1))}function N(Je){var nt=m(Je/2),pt=2*r(S(Je/2))/(nt*nt);function wt(_t,It){var Ft=S(_t),pr=S(It),wr=l(It),sr=pr*Ft,Er=-((1-sr?r((1+sr)/2)/(1-sr):-.5)+pt/(1+sr));return[Er*pr*l(_t),Er*wr]}return wt.invert=function(_t,It){var Ft=O(_t*_t+It*It),pr=-Je/2,wr=50,sr;if(!Ft)return[0,0];do{var Er=pr/2,kr=S(Er),Ur=l(Er),an=Ur/kr,xn=-r(R(kr));pr-=sr=(2/an*xn-pt*an-Ft)/(-xn/(Ur*Ur)+1-pt/(2*kr*kr))*(kr<0?.7:1)}while(R(sr)>c&&--wr>0);var Pn=l(pr);return[C(_t*Pn,Ft*S(pr)),E(It*Pn/Ft)]},wt}function V(){var Je=o,nt=(0,g.U)(N),pt=nt(Je);return pt.radius=function(wt){return arguments.length?nt(Je=wt*M):Je*L},pt.scale(179.976).clipAngle(147)}function X(Je,nt){var pt=S(nt),wt=s(w(pt*S(Je/=2)));return[2*pt*l(Je)*wt,l(nt)*wt]}X.invert=function(Je,nt){if(!(Je*Je+4*nt*nt>h*h+c)){var pt=Je,wt=nt,_t=25;do{var It=l(pt),Ft=l(pt/2),pr=S(pt/2),wr=l(wt),sr=S(wt),Er=l(2*wt),kr=wr*wr,Ur=sr*sr,an=Ft*Ft,xn=1-Ur*pr*pr,Pn=xn?w(sr*pr)*O(In=1/xn):In=0,In,Kn=2*Pn*sr*Ft-Je,Ia=Pn*wr-nt,ka=In*(Ur*an+Pn*sr*pr*kr),_a=In*(.5*It*Er-Pn*2*wr*Ft),Ba=In*.25*(Er*Ft-Pn*wr*Ur*It),Qa=In*(kr*pr+Pn*an*sr),yi=_a*Ba-Qa*ka;if(!yi)break;var Yi=(Ia*_a-Kn*Qa)/yi,fe=(Kn*Ba-Ia*ka)/yi;pt-=Yi,wt-=fe}while((R(Yi)>c||R(fe)>c)&&--_t>0);return[pt,wt]}};function q(){return(0,g.c)(X).scale(152.63)}function te(Je){var nt=l(Je),pt=S(Je),wt=Je>=0?1:-1,_t=m(wt*Je),It=(1+nt-pt)/2;function Ft(pr,wr){var sr=S(wr),Er=S(pr/=2);return[(1+sr)*l(pr),(wt*wr>-C(Er,_t)-.001?0:-wt*10)+It+l(wr)*pt-(1+sr)*nt*Er]}return Ft.invert=function(pr,wr){var sr=0,Er=0,kr=50;do{var Ur=S(sr),an=l(sr),xn=S(Er),Pn=l(Er),In=1+xn,Kn=In*an-pr,Ia=It+Pn*pt-In*nt*Ur-wr,ka=In*Ur/2,_a=-an*Pn,Ba=nt*In*an/2,Qa=pt*xn+nt*Ur*Pn,yi=_a*Ba-Qa*ka,Yi=(Ia*_a-Kn*Qa)/yi/2,fe=(Kn*Ba-Ia*ka)/yi;R(fe)>2&&(fe/=2),sr-=Yi,Er-=fe}while((R(Yi)>c||R(fe)>c)&&--kr>0);return wt*Er>-C(S(sr),_t)-.001?[sr*2,Er]:null},Ft}function ne(){var Je=20*M,nt=Je>=0?1:-1,pt=m(nt*Je),wt=(0,g.U)(te),_t=wt(Je),It=_t.stream;return _t.parallel=function(Ft){return arguments.length?(pt=m((nt=(Je=Ft*M)>=0?1:-1)*Je),wt(Je)):Je*L},_t.stream=function(Ft){var pr=_t.rotate(),wr=It(Ft),sr=(_t.rotate([0,0]),It(Ft)),Er=_t.precision();return _t.rotate(pr),wr.sphere=function(){sr.polygonStart(),sr.lineStart();for(var kr=nt*-180;nt*kr<180;kr+=nt*90)sr.point(kr,nt*90);if(Je)for(;nt*(kr-=3*nt*Er)>=-180;)sr.point(kr,nt*-C(S(kr*M/2),pt)*L);sr.lineEnd(),sr.polygonEnd()},wr},_t.scale(218.695).center([0,28.0974])}function ce(Je,nt){var pt=m(nt/2),wt=O(1-pt*pt),_t=1+wt*S(Je/=2),It=l(Je)*wt/_t,Ft=pt/_t,pr=It*It,wr=Ft*Ft;return[1.3333333333333333*It*(3+pr-3*wr),1.3333333333333333*Ft*(3+3*pr-wr)]}ce.invert=function(Je,nt){if(Je*=.375,nt*=.375,!Je&&R(nt)>1)return null;var pt=Je*Je,wt=nt*nt,_t=1+pt+wt,It=O((_t-O(_t*_t-4*nt*nt))/2),Ft=E(It)/3,pr=It?B(R(nt/It))/3:F(R(Je))/3,wr=S(Ft),sr=z(pr),Er=sr*sr-wr*wr;return[u(Je)*2*C(U(pr)*wr,.25-Er),u(nt)*2*C(sr*l(Ft),.25+Er)]};function Q(){return(0,g.c)(ce).scale(66.1603)}var Z=O(8),re=r(1+T);function Y(Je,nt){var pt=R(nt);return pt<p?[Je,r(m(p+nt/2))]:[Je*S(pt)*(2*T-1/l(pt)),u(nt)*(2*T*(pt-p)-r(m(pt/2)))]}Y.invert=function(Je,nt){if((It=R(nt))<re)return[Je,2*a(v(nt))-o];var pt=p,wt=25,_t,It;do{var Ft=S(pt/2),pr=m(pt/2);pt-=_t=(Z*(pt-p)-r(pr)-It)/(Z-Ft*Ft/(2*pr))}while(R(_t)>A&&--wt>0);return[Je/(S(pt)*(Z-1/l(pt))),u(nt)*pt]};function oe(){return(0,g.c)(Y).scale(112.314)}var ue=e(69020);function K(Je){var nt=2*h/Je;function pt(wt,_t){var It=(0,ue.O)(wt,_t);if(R(wt)>o){var Ft=C(It[1],It[0]),pr=O(It[0]*It[0]+It[1]*It[1]),wr=nt*f((Ft-o)/nt)+o,sr=C(l(Ft-=wr),2-S(Ft));Ft=wr+E(h/pr*l(sr))-sr,It[0]=pr*S(Ft),It[1]=pr*l(Ft)}return It}return pt.invert=function(wt,_t){var It=O(wt*wt+_t*_t);if(It>o){var Ft=C(_t,wt),pr=nt*f((Ft-o)/nt)+o,wr=Ft>pr?-1:1,sr=It*S(pr-Ft),Er=1/m(wr*w((sr-h)/O(h*(h-2*sr)+It*It)));Ft=pr+2*a((Er+wr*O(Er*Er-3))/3),wt=It*S(Ft),_t=It*l(Ft)}return ue.O.invert(wt,_t)},pt}function $(){var Je=5,nt=(0,g.U)(K),pt=nt(Je),wt=pt.stream,_t=.01,It=-S(_t*M),Ft=l(_t*M);return pt.lobes=function(pr){return arguments.length?nt(Je=+pr):Je},pt.stream=function(pr){var wr=pt.rotate(),sr=wt(pr),Er=(pt.rotate([0,0]),wt(pr));return pt.rotate(wr),sr.sphere=function(){Er.polygonStart(),Er.lineStart();for(var kr=0,Ur=360/Je,an=2*h/Je,xn=90-180/Je,Pn=o;kr<Je;++kr,xn-=Ur,Pn-=an)Er.point(C(Ft*S(Pn),It)*L,E(Ft*l(Pn))*L),xn<-90?(Er.point(-90,-180-xn-_t),Er.point(-90,-180-xn+_t)):(Er.point(90,xn+_t),Er.point(90,xn-_t));Er.lineEnd(),Er.polygonEnd()},sr},pt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(54724);function ae(Je,nt){if(arguments.length<2&&(nt=Je),nt===1)return le.y;if(nt===1/0)return he;function pt(wt,_t){var It=(0,le.y)(wt/nt,_t);return It[0]*=Je,It}return pt.invert=function(wt,_t){var It=le.y.invert(wt/Je,_t);return It[0]*=nt,It},pt}function he(Je,nt){return[Je*S(nt)/S(nt/=2),2*l(nt)]}he.invert=function(Je,nt){var pt=2*E(nt/2);return[Je*S(pt/2)/S(pt),pt]};function xe(){var Je=2,nt=(0,g.U)(ae),pt=nt(Je);return pt.coefficient=function(wt){return arguments.length?nt(Je=+wt):Je},pt.scale(169.529)}function Me(Je,nt,pt){var wt=100,_t,It,Ft;pt=pt===void 0?0:+pt,nt=+nt;do It=Je(pt),Ft=Je(pt+c),It===Ft&&(Ft=It+c),pt-=_t=-1*c*(It-nt)/(It-Ft);while(wt-- >0&&R(_t)>c);return wt<0?NaN:pt}function Ae(Je,nt,pt){return nt===void 0&&(nt=40),pt===void 0&&(pt=A),function(wt,_t,It,Ft){var pr,wr,sr;It=It===void 0?0:+It,Ft=Ft===void 0?0:+Ft;for(var Er=0;Er<nt;Er++){var kr=Je(It,Ft),Ur=kr[0]-wt,an=kr[1]-_t;if(R(Ur)<pt&&R(an)<pt)break;var xn=Ur*Ur+an*an;if(xn>pr){It-=wr/=2,Ft-=sr/=2;continue}pr=xn;var Pn=(It>0?-1:1)*pt,In=(Ft>0?-1:1)*pt,Kn=Je(It+Pn,Ft),Ia=Je(It,Ft+In),ka=(Kn[0]-kr[0])/Pn,_a=(Kn[1]-kr[1])/Pn,Ba=(Ia[0]-kr[0])/In,Qa=(Ia[1]-kr[1])/In,yi=Qa*ka-_a*Ba,Yi=(R(yi)<.5?.5:1)/yi;if(wr=(an*Ba-Ur*Qa)*Yi,sr=(Ur*_a-an*ka)*Yi,It+=wr,Ft+=sr,R(wr)<pt&&R(sr)<pt)break}return[It,Ft]}}function ke(){var Je=ae(1.68,2),nt=1.4,pt=12;function wt(_t,It){if(_t+It<-nt){var Ft=(_t-It+1.6)*(_t+It+nt)/8;_t+=Ft,It-=.8*Ft*l(It+h/2)}var pr=Je(_t,It),wr=(1-S(_t*It))/pt;return pr[1]<0&&(pr[0]*=1+wr),pr[1]>0&&(pr[1]*=1+wr/1.5*pr[0]*pr[0]),pr}return wt.invert=Ae(wt),wt}function we(){return(0,g.c)(ke()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ee(Je,nt){var pt=Je*l(nt),wt=30,_t;do nt-=_t=(nt+l(nt)-pt)/(1+S(nt));while(R(_t)>c&&--wt>0);return nt/2}function be(Je,nt,pt){function wt(_t,It){return[Je*_t*S(It=Ee(pt,It)),nt*l(It)]}return wt.invert=function(_t,It){return It=E(It/nt),[_t/(Je*S(It)),E((2*It+l(2*It))/pt)]},wt}var Le=be(T/o,T,h);function Ue(){return(0,g.c)(Le).scale(169.529)}var Ve=2.00276,Fe=1.11072;function He(Je,nt){var pt=Ee(h,nt);return[Ve*Je/(1/S(nt)+Fe/S(pt)),(nt+T*l(pt))/Ve]}He.invert=function(Je,nt){var pt=Ve*nt,wt=nt<0?-p:p,_t=25,It,Ft;do Ft=pt-T*l(wt),wt-=It=(l(2*wt)+2*wt-h*l(Ft))/(2*S(2*wt)+2+h*S(Ft)*T*S(wt));while(R(It)>c&&--_t>0);return Ft=pt-T*l(wt),[Je*(1/S(Ft)+Fe/S(wt))/Ve,Ft]};function st(){return(0,g.c)(He).scale(160.857)}function vt(Je){var nt=0,pt=(0,g.U)(Je),wt=pt(nt);return wt.parallel=function(_t){return arguments.length?pt(nt=_t*M):nt*L},wt}function lt(Je,nt){return[Je*S(nt),nt]}lt.invert=function(Je,nt){return[Je/S(nt),nt]};function et(){return(0,g.c)(lt).scale(152.63)}function ct(Je){if(!Je)return lt;var nt=1/m(Je);function pt(wt,_t){var It=nt+Je-_t,Ft=It&&wt*S(_t)/It;return[It*l(Ft),nt-It*S(Ft)]}return pt.invert=function(wt,_t){var It=O(wt*wt+(_t=nt-_t)*_t),Ft=nt+Je-It;return[It/S(Ft)*C(wt,_t),Ft]},pt}function ht(){return vt(ct).scale(123.082).center([0,26.1441]).parallel(45)}function mt(Je){function nt(pt,wt){var _t=o-wt,It=_t&&pt*Je*l(_t)/_t;return[_t*l(It)/Je,o-_t*S(It)]}return nt.invert=function(pt,wt){var _t=pt*Je,It=o-wt,Ft=O(_t*_t+It*It),pr=C(_t,It);return[(Ft?Ft/l(Ft):1)*pr/Je,o-Ft]},nt}function xt(){var Je=.5,nt=(0,g.U)(mt),pt=nt(Je);return pt.fraction=function(wt){return arguments.length?nt(Je=+wt):Je},pt.scale(158.837)}var Mt=be(1,4/h,h);function tt(){return(0,g.c)(Mt).scale(152.63)}var Oe=e(24052),Ye=e(92992);function Ze(Je,nt,pt,wt,_t,It){var Ft=S(It),pr;if(R(Je)>1||R(It)>1)pr=w(pt*_t+nt*wt*Ft);else{var wr=l(Je/2),sr=l(It/2);pr=2*E(O(wr*wr+nt*wt*sr*sr))}return R(pr)>c?[pr,C(wt*l(It),nt*_t-pt*wt*Ft)]:[0,0]}function We(Je,nt,pt){return w((Je*Je+nt*nt-pt*pt)/(2*Je*nt))}function _e(Je){return Je-2*h*d((Je+h)/(2*h))}function Ie(Je,nt,pt){for(var wt=[[Je[0],Je[1],l(Je[1]),S(Je[1])],[nt[0],nt[1],l(nt[1]),S(nt[1])],[pt[0],pt[1],l(pt[1]),S(pt[1])]],_t=wt[2],It,Ft=0;Ft<3;++Ft,_t=It)It=wt[Ft],_t.v=Ze(It[1]-_t[1],_t[3],_t[2],It[3],It[2],It[0]-_t[0]),_t.point=[0,0];var pr=We(wt[0].v[0],wt[2].v[0],wt[1].v[0]),wr=We(wt[0].v[0],wt[1].v[0],wt[2].v[0]),sr=h-pr;wt[2].point[1]=0,wt[0].point[0]=-(wt[1].point[0]=wt[0].v[0]/2);var Er=[wt[2].point[0]=wt[0].point[0]+wt[2].v[0]*S(pr),2*(wt[0].point[1]=wt[1].point[1]=wt[2].v[0]*l(pr))];function kr(Ur,an){var xn=l(an),Pn=S(an),In=new Array(3),Kn;for(Kn=0;Kn<3;++Kn){var Ia=wt[Kn];if(In[Kn]=Ze(an-Ia[1],Ia[3],Ia[2],Pn,xn,Ur-Ia[0]),!In[Kn][0])return Ia.point;In[Kn][1]=_e(In[Kn][1]-Ia.v[1])}var ka=Er.slice();for(Kn=0;Kn<3;++Kn){var _a=Kn==2?0:Kn+1,Ba=We(wt[Kn].v[0],In[Kn][0],In[_a][0]);In[Kn][1]<0&&(Ba=-Ba),Kn?Kn==1?(Ba=wr-Ba,ka[0]-=In[Kn][0]*S(Ba),ka[1]-=In[Kn][0]*l(Ba)):(Ba=sr-Ba,ka[0]+=In[Kn][0]*S(Ba),ka[1]+=In[Kn][0]*l(Ba)):(ka[0]+=In[Kn][0]*S(Ba),ka[1]-=In[Kn][0]*l(Ba))}return ka[0]/=3,ka[1]/=3,ka}return kr}function Xe(Je){return Je[0]*=M,Je[1]*=M,Je}function De(){return de([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function de(Je,nt,pt){var wt=(0,Oe.c)({type:"MultiPoint",coordinates:[Je,nt,pt]}),_t=[-wt[0],-wt[1]],It=(0,Ye.c)(_t),Ft=Ie(Xe(It(Je)),Xe(It(nt)),Xe(It(pt)));Ft.invert=Ae(Ft);var pr=(0,g.c)(Ft).rotate(_t),wr=pr.center;return delete pr.rotate,pr.center=function(sr){return arguments.length?wr(It(sr)):It.invert(wr())},pr.clipAngle(90)}function Te(Je,nt){var pt=O(1-l(nt));return[2/P*Je*pt,P*(1-pt)]}Te.invert=function(Je,nt){var pt=(pt=nt/P-1)*pt;return[pt>0?Je*O(h/pt)/2:0,E(1-pt)]};function Be(){return(0,g.c)(Te).scale(95.6464).center([0,30])}function Qe(Je){var nt=m(Je);function pt(wt,_t){return[wt,(wt?wt/l(wt):1)*(l(_t)*S(wt)-nt*S(_t))]}return pt.invert=nt?function(wt,_t){wt&&(_t*=l(wt)/wt);var It=S(wt);return[wt,2*C(O(It*It+nt*nt-_t*_t)-It,nt-_t)]}:function(wt,_t){return[wt,E(wt?_t*m(wt)/wt:_t)]},pt}function at(){return vt(Qe).scale(249.828).clipAngle(90)}var it=O(3);function Wt(Je,nt){return[it*Je*(2*S(2*nt/3)-1)/P,it*P*l(nt/3)]}Wt.invert=function(Je,nt){var pt=3*E(nt/(it*P));return[P*Je/(it*(2*S(2*pt/3)-1)),pt]};function Yt(){return(0,g.c)(Wt).scale(156.19)}function Tt(Je){var nt=S(Je);function pt(wt,_t){return[wt*nt,l(_t)/nt]}return pt.invert=function(wt,_t){return[wt/nt,E(_t*nt)]},pt}function Lt(){return vt(Tt).parallel(38.58).scale(195.044)}function Xt(Je){var nt=S(Je);function pt(wt,_t){return[wt*nt,(1+nt)*m(_t/2)]}return pt.invert=function(wt,_t){return[wt/nt,a(_t/(1+nt))*2]},pt}function Tr(){return vt(Xt).scale(124.75)}function gt(Je,nt){var pt=O(8/(3*h));return[pt*Je*(1-R(nt)/h),pt*nt]}gt.invert=function(Je,nt){var pt=O(8/(3*h)),wt=nt/pt;return[Je/(pt*(1-R(wt)/h)),wt]};function Kt(){return(0,g.c)(gt).scale(165.664)}function Qt(Je,nt){var pt=O(4-3*l(R(nt)));return[2/O(6*h)*Je*pt,u(nt)*O(2*h/3)*(2-pt)]}Qt.invert=function(Je,nt){var pt=2-R(nt)/O(2*h/3);return[Je*O(6*h)/(2*pt),u(nt)*E((4-pt*pt)/3)]};function yr(){return(0,g.c)(Qt).scale(165.664)}function fr(Je,nt){var pt=O(h*(4+h));return[2/pt*Je*(1+O(1-4*nt*nt/(h*h))),4/pt*nt]}fr.invert=function(Je,nt){var pt=O(h*(4+h))/2;return[Je*pt/(1+O(1-nt*nt*(4+h)/(4*h))),nt*pt/2]};function yt(){return(0,g.c)(fr).scale(180.739)}function ot(Je,nt){var pt=(2+o)*l(nt);nt/=2;for(var wt=0,_t=1/0;wt<10&&R(_t)>c;wt++){var It=S(nt);nt-=_t=(nt+l(nt)*(It+2)-pt)/(2*It*(1+It))}return[2/O(h*(4+h))*Je*(1+S(nt)),2*O(h/(4+h))*l(nt)]}ot.invert=function(Je,nt){var pt=nt*O((4+h)/h)/2,wt=E(pt),_t=S(wt);return[Je/(2/O(h*(4+h))*(1+_t)),E((wt+pt*(_t+2))/(2+o))]};function bt(){return(0,g.c)(ot).scale(180.739)}function Et(Je,nt){return[Je*(1+S(nt))/O(2+h),2*nt/O(2+h)]}Et.invert=function(Je,nt){var pt=O(2+h),wt=nt*pt/2;return[pt*Je/(1+S(wt)),wt]};function Dt(){return(0,g.c)(Et).scale(173.044)}function Ht(Je,nt){for(var pt=(1+o)*l(nt),wt=0,_t=1/0;wt<10&&R(_t)>c;wt++)nt-=_t=(nt+l(nt)-pt)/(1+S(nt));return pt=O(2+h),[Je*(1+S(nt))/pt,2*nt/pt]}Ht.invert=function(Je,nt){var pt=1+o,wt=O(pt/2);return[Je*2*wt/(1+S(nt*=wt)),E((nt+l(nt))/pt)]};function Bt(){return(0,g.c)(Ht).scale(173.044)}var Nt=3+2*T;function Jt(Je,nt){var pt=l(Je/=2),wt=S(Je),_t=O(S(nt)),It=S(nt/=2),Ft=l(nt)/(It+T*wt*_t),pr=O(2/(1+Ft*Ft)),wr=O((T*It+(wt+pt)*_t)/(T*It+(wt-pt)*_t));return[Nt*(pr*(wr-1/wr)-2*r(wr)),Nt*(pr*Ft*(wr+1/wr)-2*a(Ft))]}Jt.invert=function(Je,nt){if(!(It=ce.invert(Je/1.2,nt*1.065)))return null;var pt=It[0],wt=It[1],_t=20,It;Je/=Nt,nt/=Nt;do{var Ft=pt/2,pr=wt/2,wr=l(Ft),sr=S(Ft),Er=l(pr),kr=S(pr),Ur=S(wt),an=O(Ur),xn=Er/(kr+T*sr*an),Pn=xn*xn,In=O(2/(1+Pn)),Kn=T*kr+(sr+wr)*an,Ia=T*kr+(sr-wr)*an,ka=Kn/Ia,_a=O(ka),Ba=_a-1/_a,Qa=_a+1/_a,yi=In*Ba-2*r(_a)-Je,Yi=In*xn*Qa-2*a(xn)-nt,fe=Er&&b*an*wr*Pn/Er,Ce=(T*sr*kr+an)/(2*(kr+T*sr*an)*(kr+T*sr*an)*an),Ne=-.5*xn*In*In*In,qe=Ne*fe,rt=Ne*Ce,ft=(ft=2*kr+T*an*(sr-wr))*ft*_a,Pt=(T*sr*kr*an+Ur)/ft,At=-(T*wr*Er)/(an*ft),Vt=Ba*qe-2*Pt/_a+In*(Pt+Pt/ka),Gt=Ba*rt-2*At/_a+In*(At+At/ka),nr=xn*Qa*qe-2*fe/(1+Pn)+In*Qa*fe+In*xn*(Pt-Pt/ka),Lr=xn*Qa*rt-2*Ce/(1+Pn)+In*Qa*Ce+In*xn*(At-At/ka),Pr=Gt*nr-Lr*Vt;if(!Pr)break;var en=(Yi*Gt-yi*Lr)/Pr,on=(yi*nr-Yi*Vt)/Pr;pt-=en,wt=t(-o,i(o,wt-on))}while((R(en)>c||R(on)>c)&&--_t>0);return R(R(wt)-o)<c?[0,wt]:_t&&[pt,wt]};function hr(){return(0,g.c)(Jt).scale(62.5271)}var Zt=S(35*M);function dr(Je,nt){var pt=m(nt/2);return[Je*Zt*O(1-pt*pt),(1+Zt)*pt]}dr.invert=function(Je,nt){var pt=nt/(1+Zt);return[Je&&Je/(Zt*O(1-pt*pt)),2*a(pt)]};function je(){return(0,g.c)(dr).scale(137.152)}function Ge(Je,nt){var pt=nt/2,wt=S(pt);return[2*Je/P*S(nt)*wt*wt,P*m(pt)]}Ge.invert=function(Je,nt){var pt=a(nt/P),wt=S(pt),_t=2*pt;return[Je*P/2/(S(_t)*wt*wt),_t]};function Ot(){return(0,g.c)(Ge).scale(135.264)}function kt(Je){var nt=1-Je,pt=It(h,0)[0]-It(-h,0)[0],wt=It(0,o)[1]-It(0,-o)[1],_t=O(2*wt/pt);function It(wr,sr){var Er=S(sr),kr=l(sr);return[Er/(nt+Je*Er)*wr,nt*sr+Je*kr]}function Ft(wr,sr){var Er=It(wr,sr);return[Er[0]*_t,Er[1]/_t]}function pr(wr){return Ft(0,wr)[1]}return Ft.invert=function(wr,sr){var Er=Me(pr,sr),kr=wr/_t*(Je+nt/S(Er));return[kr,Er]},Ft}function $t(){var Je=.5,nt=(0,g.U)(kt),pt=nt(Je);return pt.alpha=function(wt){return arguments.length?nt(Je=+wt):Je},pt.scale(168.725)}var ar=e(4888),or=e(69604);function rr(Je){return[Je[0]/2,E(m(Je[1]/2*M))*L]}function zt(Je){return[Je[0]*2,2*a(l(Je[1]*M))*L]}function vr(Je){Je==null&&(Je=ar.c);var nt=Je(),pt=(0,or.c)().scale(L).precision(0).clipAngle(null).translate([0,0]);function wt(It){return nt(rr(It))}nt.invert&&(wt.invert=function(It){return zt(nt.invert(It))}),wt.stream=function(It){var Ft=nt.stream(It),pr=pt.stream({point:function(wr,sr){Ft.point(wr/2,E(m(-sr/2*M))*L)},lineStart:function(){Ft.lineStart()},lineEnd:function(){Ft.lineEnd()},polygonStart:function(){Ft.polygonStart()},polygonEnd:function(){Ft.polygonEnd()}});return pr.sphere=Ft.sphere,pr};function _t(It){wt[It]=function(){return arguments.length?(nt[It].apply(nt,arguments),wt):nt[It]()}}return wt.rotate=function(It){return arguments.length?(pt.rotate(It),wt):pt.rotate()},wt.center=function(It){return arguments.length?(nt.center(rr(It)),wt):zt(nt.center())},_t("angle"),_t("clipAngle"),_t("clipExtent"),_t("fitExtent"),_t("fitHeight"),_t("fitSize"),_t("fitWidth"),_t("scale"),_t("translate"),_t("precision"),wt.scale(249.5)}function gr(Je,nt){var pt=2*h/nt,wt=Je*Je;function _t(It,Ft){var pr=(0,ue.O)(It,Ft),wr=pr[0],sr=pr[1],Er=wr*wr+sr*sr;if(Er>wt){var kr=O(Er),Ur=C(sr,wr),an=pt*f(Ur/pt),xn=Ur-an,Pn=Je*S(xn),In=(Je*l(xn)-xn*l(Pn))/(o-Pn),Kn=Ar(xn,In),Ia=(h-Je)/cr(Kn,Pn,h);wr=kr;var ka=50,_a;do wr-=_a=(Je+cr(Kn,Pn,wr)*Ia-kr)/(Kn(wr)*Ia);while(R(_a)>c&&--ka>0);sr=xn*l(wr),wr<o&&(sr-=In*(wr-o));var Ba=l(an),Qa=S(an);pr[0]=wr*Qa-sr*Ba,pr[1]=wr*Ba+sr*Qa}return pr}return _t.invert=function(It,Ft){var pr=It*It+Ft*Ft;if(pr>wt){var wr=O(pr),sr=C(Ft,It),Er=pt*f(sr/pt),kr=sr-Er;It=wr*S(kr),Ft=wr*l(kr);for(var Ur=It-o,an=l(It),xn=Ft/an,Pn=It<o?1/0:0,In=10;;){var Kn=Je*l(xn),Ia=Je*S(xn),ka=l(Ia),_a=o-Ia,Ba=(Kn-xn*ka)/_a,Qa=Ar(xn,Ba);if(R(Pn)<A||!--In)break;xn-=Pn=(xn*an-Ba*Ur-Ft)/(an-Ur*2*(_a*(Ia+xn*Kn*S(Ia)-ka)-Kn*(Kn-xn*ka))/(_a*_a))}wr=Je+cr(Qa,Ia,It)*(h-Je)/cr(Qa,Ia,h),sr=Er+xn,It=wr*S(sr),Ft=wr*l(sr)}return ue.O.invert(It,Ft)},_t}function Ar(Je,nt){return function(pt){var wt=Je*S(pt);return pt<o&&(wt-=nt),O(1+wt*wt)}}function cr(Je,nt,pt){for(var wt=50,_t=(pt-nt)/wt,It=Je(nt)+Je(pt),Ft=1,pr=nt;Ft<wt;++Ft)It+=2*Je(pr+=_t);return It*.5*_t}function Hr(){var Je=6,nt=30*M,pt=S(nt),wt=l(nt),_t=(0,g.U)(gr),It=_t(nt,Je),Ft=It.stream,pr=.01,wr=-S(pr*M),sr=l(pr*M);return It.radius=function(Er){return arguments.length?(pt=S(nt=Er*M),wt=l(nt),_t(nt,Je)):nt*L},It.lobes=function(Er){return arguments.length?_t(nt,Je=+Er):Je},It.stream=function(Er){var kr=It.rotate(),Ur=Ft(Er),an=(It.rotate([0,0]),Ft(Er));return It.rotate(kr),Ur.sphere=function(){an.polygonStart(),an.lineStart();for(var xn=0,Pn=2*h/Je,In=0;xn<Je;++xn,In-=Pn)an.point(C(sr*S(In),wr)*L,E(sr*l(In))*L),an.point(C(wt*S(In-Pn/2),pt)*L,E(wt*l(In-Pn/2))*L);an.lineEnd(),an.polygonEnd()},Ur},It.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Rr(Je,nt,pt,wt,_t,It,Ft,pr){arguments.length<8&&(pr=0);function wr(sr,Er){if(!Er)return[Je*sr/h,0];var kr=Er*Er,Ur=Je+kr*(nt+kr*(pt+kr*wt)),an=Er*(_t-1+kr*(It-pr+kr*Ft)),xn=(Ur*Ur+an*an)/(2*an),Pn=sr*E(Ur/xn)/h;return[xn*l(Pn),Er*(1+kr*pr)+xn*(1-S(Pn))]}return wr.invert=function(sr,Er){var kr=h*sr/Je,Ur=Er,an,xn,Pn=50;do{var In=Ur*Ur,Kn=Je+In*(nt+In*(pt+In*wt)),Ia=Ur*(_t-1+In*(It-pr+In*Ft)),ka=Kn*Kn+Ia*Ia,_a=2*Ia,Ba=ka/_a,Qa=Ba*Ba,yi=E(Kn/Ba)/h,Yi=kr*yi,fe=Kn*Kn,Ce=(2*nt+In*(4*pt+In*6*wt))*Ur,Ne=_t+In*(3*It+In*5*Ft),qe=2*(Kn*Ce+Ia*(Ne-1)),rt=2*(Ne-1),ft=(qe*_a-ka*rt)/(_a*_a),Pt=S(Yi),At=l(Yi),Vt=Ba*Pt,Gt=Ba*At,nr=kr/h*(1/O(1-fe/Qa))*(Ce*Ba-Kn*ft)/Qa,Lr=Gt-sr,Pr=Ur*(1+In*pr)+Ba-Vt-Er,en=ft*At+Vt*nr,on=Vt*yi,Dr=1+ft-(ft*Pt-Gt*nr),Vr=Gt*yi,Jr=en*Vr-Dr*on;if(!Jr)break;kr-=an=(Pr*en-Lr*Dr)/Jr,Ur-=xn=(Lr*Vr-Pr*on)/Jr}while((R(an)>c||R(xn)>c)&&--Pn>0);return[kr,Ur]},wr}var Ir=Rr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function cn(){return(0,g.c)(Ir).scale(149.995)}var Zr=Rr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function An(){return(0,g.c)(Zr).scale(153.93)}var Sn=Rr(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function br(){return(0,g.c)(Sn).scale(130.945)}function Or(Je,nt){var pt=Je*Je,wt=nt*nt;return[Je*(1-.162388*wt)*(.87-952426e-9*pt*pt),nt*(1+wt/12)]}Or.invert=function(Je,nt){var pt=Je,wt=nt,_t=50,It;do{var Ft=wt*wt;wt-=It=(wt*(1+Ft/12)-nt)/(1+Ft/4)}while(R(It)>c&&--_t>0);_t=50,Je/=1-.162388*Ft;do{var pr=(pr=pt*pt)*pr;pt-=It=(pt*(.87-952426e-9*pr)-Je)/(.87-.00476213*pr)}while(R(It)>c&&--_t>0);return[pt,wt]};function jr(){return(0,g.c)(Or).scale(131.747)}var zr=Rr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function pn(){return(0,g.c)(zr).scale(131.087)}function hn(Je){var nt=Je(o,0)[0]-Je(-o,0)[0];function pt(wt,_t){var It=wt>0?-.5:.5,Ft=Je(wt+It*h,_t);return Ft[0]-=It*nt,Ft}return Je.invert&&(pt.invert=function(wt,_t){var It=wt>0?-.5:.5,Ft=Je.invert(wt+It*nt,_t),pr=Ft[0]-It*h;return pr<-h?pr+=2*h:pr>h&&(pr-=2*h),Ft[0]=pr,Ft}),pt}function Ln(Je,nt){var pt=u(Je),wt=u(nt),_t=S(nt),It=S(Je)*_t,Ft=l(Je)*_t,pr=l(wt*nt);Je=R(C(Ft,pr)),nt=E(It),R(Je-o)>c&&(Je%=o);var wr=Rn(Je>h/4?o-Je:Je,nt);return Je>h/4&&(pr=wr[0],wr[0]=-wr[1],wr[1]=-pr),wr[0]*=pt,wr[1]*=-wt,wr}Ln.invert=function(Je,nt){R(Je)>1&&(Je=u(Je)*2-Je),R(nt)>1&&(nt=u(nt)*2-nt);var pt=u(Je),wt=u(nt),_t=-pt*Je,It=-wt*nt,Ft=It/_t<1,pr=Gn(Ft?It:_t,Ft?_t:It),wr=pr[0],sr=pr[1],Er=S(sr);return Ft&&(wr=-o-wr),[pt*(C(l(wr)*Er,-l(sr))+h),wt*E(S(wr)*Er)]};function Rn(Je,nt){if(nt===o)return[0,0];var pt=l(nt),wt=pt*pt,_t=wt*wt,It=1+_t,Ft=1+3*_t,pr=1-_t,wr=E(1/O(It)),sr=pr+wt*It*wr,Er=(1-pt)/sr,kr=O(Er),Ur=Er*It,an=O(Ur),xn=kr*pr,Pn,In;if(Je===0)return[0,-(xn+wt*an)];var Kn=S(nt),Ia=1/Kn,ka=2*pt*Kn,_a=(-3*wt+wr*Ft)*ka,Ba=(-sr*Kn-(1-pt)*_a)/(sr*sr),Qa=.5*Ba/kr,yi=pr*Qa-2*wt*kr*ka,Yi=wt*It*Ba+Er*Ft*ka,fe=-Ia*ka,Ce=-Ia*Yi,Ne=-2*Ia*yi,qe=4*Je/h,rt;if(Je>.222*h||nt<h/4&&Je>.175*h){if(Pn=(xn+wt*O(Ur*(1+_t)-xn*xn))/(1+_t),Je>h/4)return[Pn,Pn];var ft=Pn,Pt=.5*Pn;Pn=.5*(Pt+ft),In=50;do{var At=O(Ur-Pn*Pn),Vt=Pn*(Ne+fe*At)+Ce*E(Pn/an)-qe;if(!Vt)break;Vt<0?Pt=Pn:ft=Pn,Pn=.5*(Pt+ft)}while(R(ft-Pt)>c&&--In>0)}else{Pn=c,In=25;do{var Gt=Pn*Pn,nr=O(Ur-Gt),Lr=Ne+fe*nr,Pr=Pn*Lr+Ce*E(Pn/an)-qe,en=Lr+(Ce-fe*Gt)/nr;Pn-=rt=nr?Pr/en:0}while(R(rt)>c&&--In>0)}return[Pn,-xn-wt*O(Ur-Pn*Pn)]}function Gn(Je,nt){for(var pt=0,wt=1,_t=.5,It=50;;){var Ft=_t*_t,pr=O(_t),wr=E(1/O(1+Ft)),sr=1-Ft+_t*(1+Ft)*wr,Er=(1-pr)/sr,kr=O(Er),Ur=Er*(1+Ft),an=kr*(1-Ft),xn=Ur-Je*Je,Pn=O(xn),In=nt+an+_t*Pn;if(R(wt-pt)<A||--It===0||In===0)break;In>0?pt=_t:wt=_t,_t=.5*(pt+wt)}if(!It)return null;var Kn=E(pr),Ia=S(Kn),ka=1/Ia,_a=2*pr*Ia,Ba=(-3*_t+wr*(1+3*Ft))*_a,Qa=(-sr*Ia-(1-pr)*Ba)/(sr*sr),yi=.5*Qa/kr,Yi=(1-Ft)*yi-2*_t*kr*_a,fe=-2*ka*Yi,Ce=-ka*_a,Ne=-ka*(_t*(1+Ft)*Qa+Er*(1+3*Ft)*_a);return[h/4*(Je*(fe+Ce*Pn)+Ne*E(Je/O(Ur))),Kn]}function oa(){return(0,g.c)(hn(Ln)).scale(239.75)}function xa(Je,nt,pt){var wt,_t,It;return Je?(wt=Ta(Je,pt),nt?(_t=Ta(nt,1-pt),It=_t[1]*_t[1]+pt*wt[0]*wt[0]*_t[0]*_t[0],[[wt[0]*_t[2]/It,wt[1]*wt[2]*_t[0]*_t[1]/It],[wt[1]*_t[1]/It,-wt[0]*wt[2]*_t[0]*_t[2]/It],[wt[2]*_t[1]*_t[2]/It,-pt*wt[0]*wt[1]*_t[0]/It]]):[[wt[0],0],[wt[1],0],[wt[2],0]]):(_t=Ta(nt,1-pt),[[0,_t[0]/_t[1]],[1/_t[1],0],[_t[2]/_t[1],0]])}function Ta(Je,nt){var pt,wt,_t,It,Ft;if(nt<c)return It=l(Je),wt=S(Je),pt=nt*(Je-It*wt)/4,[It-pt*wt,wt+pt*It,1-nt*It*It/2,Je-pt];if(nt>=1-c)return pt=(1-nt)/4,wt=z(Je),It=_(Je),_t=1/wt,Ft=wt*U(Je),[It+pt*(Ft-Je)/(wt*wt),_t-pt*It*_t*(Ft-Je),_t+pt*It*_t*(Ft+Je),2*a(v(Je))-o+pt*(Ft-Je)/wt];var pr=[1,0,0,0,0,0,0,0,0],wr=[O(nt),0,0,0,0,0,0,0,0],sr=0;for(wt=O(1-nt),Ft=1;R(wr[sr]/pr[sr])>c&&sr<8;)pt=pr[sr++],wr[sr]=(pt-wt)/2,pr[sr]=(pt+wt)/2,wt=O(pt*wt),Ft*=2;_t=Ft*pr[sr]*Je;do It=wr[sr]*l(wt=_t)/pr[sr],_t=(E(It)+_t)/2;while(--sr);return[l(_t),It=S(_t),It/S(_t-wt),_t]}function da(Je,nt,pt){var wt=R(Je),_t=R(nt),It=U(_t);if(wt){var Ft=1/l(wt),pr=1/(m(wt)*m(wt)),wr=-(pr+pt*(It*It*Ft*Ft)-1+pt),sr=(pt-1)*pr,Er=(-wr+O(wr*wr-4*sr))/2;return[Hn(a(1/O(Er)),pt)*u(Je),Hn(a(O((Er/pr-1)/pt)),1-pt)*u(nt)]}return[0,Hn(a(It),1-pt)*u(nt)]}function Hn(Je,nt){if(!nt)return Je;if(nt===1)return r(m(Je/2+p));for(var pt=1,wt=O(1-nt),_t=O(nt),It=0;R(_t)>c;It++){if(Je%h){var Ft=a(wt*m(Je)/pt);Ft<0&&(Ft+=h),Je+=Ft+~~(Je/h)*h}else Je+=Je;_t=(pt+wt)/2,wt=O(pt*wt),_t=((pt=_t)-wt)/2}return Je/(n(2,It)*pt)}function mr(Je,nt){var pt=(T-1)/(T+1),wt=O(1-pt*pt),_t=Hn(o,wt*wt),It=-1,Ft=r(m(h/4+R(nt)/2)),pr=v(It*Ft)/O(pt),wr=$r(pr*S(It*Je),pr*l(It*Je)),sr=da(wr[0],wr[1],wt*wt);return[-sr[1],(nt>=0?1:-1)*(.5*_t-sr[0])]}function $r(Je,nt){var pt=Je*Je,wt=nt+1,_t=1-pt-nt*nt;return[.5*((Je>=0?o:-o)-C(_t,2*Je)),-.25*r(_t*_t+4*pt)+.5*r(wt*wt+pt)]}function Qr(Je,nt){var pt=nt[0]*nt[0]+nt[1]*nt[1];return[(Je[0]*nt[0]+Je[1]*nt[1])/pt,(Je[1]*nt[0]-Je[0]*nt[1])/pt]}mr.invert=function(Je,nt){var pt=(T-1)/(T+1),wt=O(1-pt*pt),_t=Hn(o,wt*wt),It=-1,Ft=xa(.5*_t-nt,-Je,wt*wt),pr=Qr(Ft[0],Ft[1]),wr=C(pr[1],pr[0])/It;return[wr,2*a(v(.5/It*r(pt*pr[0]*pr[0]+pt*pr[1]*pr[1])))-o]};function vn(){return(0,g.c)(hn(mr)).scale(151.496)}var zn=e(61780);function bn(Je){var nt=l(Je),pt=S(Je),wt=wn(Je);wt.invert=wn(-Je);function _t(It,Ft){var pr=wt(It,Ft);It=pr[0],Ft=pr[1];var wr=l(Ft),sr=S(Ft),Er=S(It),kr=w(nt*wr+pt*sr*Er),Ur=l(kr),an=R(Ur)>c?kr/Ur:1;return[an*pt*l(It),(R(It)>o?an:-an)*(nt*sr-pt*wr*Er)]}return _t.invert=function(It,Ft){var pr=O(It*It+Ft*Ft),wr=-l(pr),sr=S(pr),Er=pr*sr,kr=-Ft*wr,Ur=pr*nt,an=O(Er*Er+kr*kr-Ur*Ur),xn=C(Er*Ur+kr*an,kr*Ur-Er*an),Pn=(pr>o?-1:1)*C(It*wr,pr*S(xn)*sr+Ft*l(xn)*wr);return wt.invert(Pn,xn)},_t}function wn(Je){var nt=l(Je),pt=S(Je);return function(wt,_t){var It=S(_t),Ft=S(wt)*It,pr=l(wt)*It,wr=l(_t);return[C(pr,Ft*pt-wr*nt),E(wr*pt+Ft*nt)]}}function Bn(){var Je=0,nt=(0,g.U)(bn),pt=nt(Je),wt=pt.rotate,_t=pt.stream,It=(0,zn.c)();return pt.parallel=function(Ft){if(!arguments.length)return Je*L;var pr=pt.rotate();return nt(Je=Ft*M).rotate(pr)},pt.rotate=function(Ft){return arguments.length?(wt.call(pt,[Ft[0],Ft[1]-Je*L]),It.center([-Ft[0],-Ft[1]]),pt):(Ft=wt.call(pt),Ft[1]+=Je*L,Ft)},pt.stream=function(Ft){return Ft=_t(Ft),Ft.sphere=function(){Ft.polygonStart();var pr=.01,wr=It.radius(90-pr)().coordinates[0],sr=wr.length-1,Er=-1,kr;for(Ft.lineStart();++Er<sr;)Ft.point((kr=wr[Er])[0],kr[1]);for(Ft.lineEnd(),wr=It.radius(90+pr)().coordinates[0],sr=wr.length-1,Ft.lineStart();--Er>=0;)Ft.point((kr=wr[Er])[0],kr[1]);Ft.lineEnd(),Ft.polygonEnd()},Ft},pt.scale(79.4187).parallel(45).clipAngle(179.999)}var $n=e(84706),pa=e(16016),Oa=3,Sr=E(1-1/Oa)*L,Fr=Tt(0);function Mr(Je){var nt=Sr*M,pt=Te(h,nt)[0]-Te(-h,nt)[0],wt=Fr(0,nt)[1],_t=Te(0,nt)[1],It=P-_t,Ft=x/Je,pr=4/x,wr=wt+It*It*4/x;function sr(Er,kr){var Ur,an=R(kr);if(an>nt){var xn=i(Je-1,t(0,d((Er+h)/Ft)));Er+=h*(Je-1)/Je-xn*Ft,Ur=Te(Er,an),Ur[0]=Ur[0]*x/pt-x*(Je-1)/(2*Je)+xn*x/Je,Ur[1]=wt+(Ur[1]-_t)*4*It/x,kr<0&&(Ur[1]=-Ur[1])}else Ur=Fr(Er,kr);return Ur[0]*=pr,Ur[1]/=wr,Ur}return sr.invert=function(Er,kr){Er/=pr,kr*=wr;var Ur=R(kr);if(Ur>wt){var an=i(Je-1,t(0,d((Er+h)/Ft)));Er=(Er+h*(Je-1)/Je-an*Ft)*pt/x;var xn=Te.invert(Er,.25*(Ur-wt)*x/It+_t);return xn[0]-=h*(Je-1)/Je-an*Ft,kr<0&&(xn[1]=-xn[1]),xn}return Fr.invert(Er,kr)},sr}function Nr(Je,nt){return[Je,nt&1?90-c:Sr]}function mn(Je,nt){return[Je,nt&1?-90+c:-Sr]}function Dn(Je){return[Je[0]*(1-c),Je[1]]}function gn(Je){var nt=[].concat((0,$n.ik)(-180,180+Je/2,Je).map(Nr),(0,$n.ik)(180,-180-Je/2,-Je).map(mn));return{type:"Polygon",coordinates:[Je===180?nt.map(Dn):nt]}}function sn(){var Je=4,nt=(0,g.U)(Mr),pt=nt(Je),wt=pt.stream;return pt.lobes=function(_t){return arguments.length?nt(Je=+_t):Je},pt.stream=function(_t){var It=pt.rotate(),Ft=wt(_t),pr=(pt.rotate([0,0]),wt(_t));return pt.rotate(It),Ft.sphere=function(){(0,pa.c)(gn(180/Je),pr)},Ft},pt.scale(239.75)}function Cr(Je){var nt=1+Je,pt=l(1/nt),wt=E(pt),_t=2*O(h/(It=h+4*wt*nt)),It,Ft=.5*_t*(nt+O(Je*(2+Je))),pr=Je*Je,wr=nt*nt;function sr(Er,kr){var Ur=1-l(kr),an,xn;if(Ur&&Ur<2){var Pn=o-kr,In=25,Kn;do{var Ia=l(Pn),ka=S(Pn),_a=wt+C(Ia,nt-ka),Ba=1+wr-2*nt*ka;Pn-=Kn=(Pn-pr*wt-nt*Ia+Ba*_a-.5*Ur*It)/(2*nt*Ia*_a)}while(R(Kn)>A&&--In>0);an=_t*O(Ba),xn=Er*_a/h}else an=_t*(Je+Ur),xn=Er*wt/h;return[an*l(xn),Ft-an*S(xn)]}return sr.invert=function(Er,kr){var Ur=Er*Er+(kr-=Ft)*kr,an=(1+wr-Ur/(_t*_t))/(2*nt),xn=w(an),Pn=l(xn),In=wt+C(Pn,nt-an);return[E(Er/O(Ur))*h/In,E(1-2*(xn-pr*wt-nt*Pn+(1+wr-2*nt*an)*In)/It)]},sr}function Kr(){var Je=1,nt=(0,g.U)(Cr),pt=nt(Je);return pt.ratio=function(wt){return arguments.length?nt(Je=+wt):Je},pt.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,tn=.0528035274542;function Tn(Je,nt){return nt>-Gr?(Je=Le(Je,nt),Je[1]+=tn,Je):lt(Je,nt)}Tn.invert=function(Je,nt){return nt>-Gr?Le.invert(Je,nt-tn):lt.invert(Je,nt)};function On(){return(0,g.c)(Tn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Mn(Je,nt){return R(nt)>Gr?(Je=Le(Je,nt),Je[1]-=nt>0?tn:-tn,Je):lt(Je,nt)}Mn.invert=function(Je,nt){return R(nt)>Gr?Le.invert(Je,nt+(nt>0?tn:-tn)):lt.invert(Je,nt)};function Un(){return(0,g.c)(Mn).scale(152.63)}function Fn(Je,nt,pt,wt){var _t=O(4*h/(2*pt+(1+Je-nt/2)*l(2*pt)+(Je+nt)/2*l(4*pt)+nt/2*l(6*pt))),It=O(wt*l(pt)*O((1+Je*S(2*pt)+nt*S(4*pt))/(1+Je+nt))),Ft=pt*wr(1);function pr(kr){return O(1+Je*S(2*kr)+nt*S(4*kr))}function wr(kr){var Ur=kr*pt;return(2*Ur+(1+Je-nt/2)*l(2*Ur)+(Je+nt)/2*l(4*Ur)+nt/2*l(6*Ur))/pt}function sr(kr){return pr(kr)*l(kr)}var Er=function(kr,Ur){var an=pt*Me(wr,Ft*l(Ur)/pt,Ur/h);isNaN(an)&&(an=pt*u(Ur));var xn=_t*pr(an);return[xn*It*kr/h*S(an),xn/It*l(an)]};return Er.invert=function(kr,Ur){var an=Me(sr,Ur*It/_t);return[kr*h/(S(an)*_t*It*pr(an)),E(pt*wr(an/pt)/Ft)]},pt===0&&(_t=O(wt/h),Er=function(kr,Ur){return[kr*_t,l(Ur)/_t]},Er.invert=function(kr,Ur){return[kr/_t,E(Ur*_t)]}),Er}function va(){var Je=1,nt=0,pt=45*M,wt=2,_t=(0,g.U)(Fn),It=_t(Je,nt,pt,wt);return It.a=function(Ft){return arguments.length?_t(Je=+Ft,nt,pt,wt):Je},It.b=function(Ft){return arguments.length?_t(Je,nt=+Ft,pt,wt):nt},It.psiMax=function(Ft){return arguments.length?_t(Je,nt,pt=+Ft*M,wt):pt*L},It.ratio=function(Ft){return arguments.length?_t(Je,nt,pt,wt=+Ft):wt},It.scale(180.739)}function la(Je,nt,pt,wt,_t,It,Ft,pr,wr,sr,Er){if(Er.nanEncountered)return NaN;var kr,Ur,an,xn,Pn,In,Kn,Ia,ka,_a;if(kr=pt-nt,Ur=Je(nt+kr*.25),an=Je(pt-kr*.25),isNaN(Ur)){Er.nanEncountered=!0;return}if(isNaN(an)){Er.nanEncountered=!0;return}return xn=kr*(wt+4*Ur+_t)/12,Pn=kr*(_t+4*an+It)/12,In=xn+Pn,_a=(In-Ft)/15,sr>wr?(Er.maxDepthCount++,In+_a):Math.abs(_a)<pr?In+_a:(Kn=nt+kr*.5,Ia=la(Je,nt,Kn,wt,Ur,_t,xn,pr*.5,wr,sr+1,Er),isNaN(Ia)?(Er.nanEncountered=!0,NaN):(ka=la(Je,Kn,pt,_t,an,It,Pn,pr*.5,wr,sr+1,Er),isNaN(ka)?(Er.nanEncountered=!0,NaN):Ia+ka))}function ma(Je,nt,pt,wt,_t){var It={maxDepthCount:0,nanEncountered:!1};wt===void 0&&(wt=1e-8),_t===void 0&&(_t=20);var Ft=Je(nt),pr=Je(.5*(nt+pt)),wr=Je(pt),sr=(Ft+4*pr+wr)*(pt-nt)/6,Er=la(Je,nt,pt,Ft,pr,wr,sr,wt,_t,1,It);return Er}function Da(Je,nt,pt){function wt(an){return Je+(1-Je)*n(1-n(an,nt),1/nt)}function _t(an){return ma(wt,0,an,1e-4)}for(var It=1/_t(1),Ft=1e3,pr=(1+1e-8)*It,wr=[],sr=0;sr<=Ft;sr++)wr.push(_t(sr/Ft)*pr);function Er(an){var xn=0,Pn=Ft,In=Ft>>1;do wr[In]>an?Pn=In:xn=In,In=xn+Pn>>1;while(In>xn);var Kn=wr[In+1]-wr[In];return Kn&&(Kn=(an-wr[In+1])/Kn),(In+1+Kn)/Ft}var kr=2*Er(1)/h*It/pt,Ur=function(an,xn){var Pn=Er(R(l(xn))),In=wt(Pn)*an;return Pn/=kr,[In,xn>=0?Pn:-Pn]};return Ur.invert=function(an,xn){var Pn;return xn*=kr,R(xn)<1&&(Pn=u(xn)*E(_t(R(xn))*It)),[an/wt(R(xn)),Pn]},Ur}function bi(){var Je=0,nt=2.5,pt=1.183136,wt=(0,g.U)(Da),_t=wt(Je,nt,pt);return _t.alpha=function(It){return arguments.length?wt(Je=+It,nt,pt):Je},_t.k=function(It){return arguments.length?wt(Je,nt=+It,pt):nt},_t.gamma=function(It){return arguments.length?wt(Je,nt,pt=+It):pt},_t.scale(152.63)}function si(Je,nt){return R(Je[0]-nt[0])<c&&R(Je[1]-nt[1])<c}function es(Je,nt){for(var pt=-1,wt=Je.length,_t=Je[0],It,Ft,pr,wr=[];++pt<wt;){It=Je[pt],Ft=(It[0]-_t[0])/nt,pr=(It[1]-_t[1])/nt;for(var sr=0;sr<nt;++sr)wr.push([_t[0]+sr*Ft,_t[1]+sr*pr]);_t=It}return wr.push(It),wr}function Wo(Je){var nt=[],pt,wt,_t,It,Ft,pr,wr,sr=Je[0].length;for(wr=0;wr<sr;++wr)pt=Je[0][wr],wt=pt[0][0],_t=pt[0][1],It=pt[1][1],Ft=pt[2][0],pr=pt[2][1],nt.push(es([[wt+c,_t+c],[wt+c,It-c],[Ft-c,It-c],[Ft-c,pr+c]],30));for(wr=Je[1].length-1;wr>=0;--wr)pt=Je[1][wr],wt=pt[0][0],_t=pt[0][1],It=pt[1][1],Ft=pt[2][0],pr=pt[2][1],nt.push(es([[Ft-c,pr-c],[Ft-c,It+c],[wt+c,It+c],[wt+c,_t-c]],30));return{type:"Polygon",coordinates:[(0,$n.Uf)(nt)]}}function po(Je,nt,pt){var wt,_t;function It(wr,sr){for(var Er=sr<0?-1:1,kr=nt[+(sr<0)],Ur=0,an=kr.length-1;Ur<an&&wr>kr[Ur][2][0];++Ur);var xn=Je(wr-kr[Ur][1][0],sr);return xn[0]+=Je(kr[Ur][1][0],Er*sr>Er*kr[Ur][0][1]?kr[Ur][0][1]:sr)[0],xn}pt?It.invert=pt(It):Je.invert&&(It.invert=function(wr,sr){for(var Er=_t[+(sr<0)],kr=nt[+(sr<0)],Ur=0,an=Er.length;Ur<an;++Ur){var xn=Er[Ur];if(xn[0][0]<=wr&&wr<xn[1][0]&&xn[0][1]<=sr&&sr<xn[1][1]){var Pn=Je.invert(wr-Je(kr[Ur][1][0],0)[0],sr);return Pn[0]+=kr[Ur][1][0],si(It(Pn[0],Pn[1]),[wr,sr])?Pn:null}}});var Ft=(0,g.c)(It),pr=Ft.stream;return Ft.stream=function(wr){var sr=Ft.rotate(),Er=pr(wr),kr=(Ft.rotate([0,0]),pr(wr));return Ft.rotate(sr),Er.sphere=function(){(0,pa.c)(wt,kr)},Er},Ft.lobes=function(wr){return arguments.length?(wt=Wo(wr),nt=wr.map(function(sr){return sr.map(function(Er){return[[Er[0][0]*M,Er[0][1]*M],[Er[1][0]*M,Er[1][1]*M],[Er[2][0]*M,Er[2][1]*M]]})}),_t=nt.map(function(sr){return sr.map(function(Er){var kr=Je(Er[0][0],Er[0][1])[0],Ur=Je(Er[2][0],Er[2][1])[0],an=Je(Er[1][0],Er[0][1])[1],xn=Je(Er[1][0],Er[1][1])[1],Pn;return an>xn&&(Pn=an,an=xn,xn=Pn),[[kr,an],[Ur,xn]]})}),Ft):nt.map(function(sr){return sr.map(function(Er){return[[Er[0][0]*L,Er[0][1]*L],[Er[1][0]*L,Er[1][1]*L],[Er[2][0]*L,Er[2][1]*L]]})})},nt!=null&&Ft.lobes(nt),Ft}var ql=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qf(){return po(He,ql).scale(160.857)}var Hc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ai(){return po(Mn,Hc).scale(152.63)}var Nu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ec(){return po(Le,Nu).scale(169.529)}var so=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Oo(){return po(Le,so).scale(169.529).rotate([20,0])}var eu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function wf(){return po(Tn,eu,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Wi=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function tu(){return po(lt,Wi).scale(152.63).rotate([-20,0])}function Zi(Je,nt){return[3/x*Je*O(h*h/3-nt*nt),nt]}Zi.invert=function(Je,nt){return[x/3*Je/O(h*h/3-nt*nt),nt]};function eo(){return(0,g.c)(Zi).scale(158.837)}function ru(Je){function nt(pt,wt){if(R(R(wt)-o)<c)return[0,wt<0?-2:2];var _t=l(wt),It=n((1+_t)/(1-_t),Je/2),Ft=.5*(It+1/It)+S(pt*=Je);return[2*l(pt)/Ft,(It-1/It)/Ft]}return nt.invert=function(pt,wt){var _t=R(wt);if(R(_t-2)<c)return pt?null:[0,u(wt)*o];if(_t>2)return null;pt/=2,wt/=2;var It=pt*pt,Ft=wt*wt,pr=2*wt/(1+It+Ft);return pr=n((1+pr)/(1-pr),1/Je),[C(2*pt,1-It-Ft)/Je,E((pr-1)/(pr+1))]},nt}function go(){var Je=.5,nt=(0,g.U)(ru),pt=nt(Je);return pt.spacing=function(wt){return arguments.length?nt(Je=+wt):Je},pt.scale(124.75)}var yo=h/T;function ts(Je,nt){return[Je*(1+O(S(nt)))/2,nt/(S(nt/2)*S(Je/6))]}ts.invert=function(Je,nt){var pt=R(Je),wt=R(nt),_t=c,It=o;wt<yo?It*=wt/yo:_t+=6*w(yo/wt);for(var Ft=0;Ft<25;Ft++){var pr=l(It),wr=O(S(It)),sr=l(It/2),Er=S(It/2),kr=l(_t/6),Ur=S(_t/6),an=.5*_t*(1+wr)-pt,xn=It/(Er*Ur)-wt,Pn=wr?-.25*_t*pr/wr:0,In=.5*(1+wr),Kn=(1+.5*It*sr/Er)/(Er*Ur),Ia=It/Er*(kr/6)/(Ur*Ur),ka=Pn*Ia-Kn*In,_a=(an*Ia-xn*In)/ka,Ba=(xn*Pn-an*Kn)/ka;if(It-=_a,_t-=Ba,R(_a)<c&&R(Ba)<c)break}return[Je<0?-_t:_t,nt<0?-It:It]};function Gc(){return(0,g.c)(ts).scale(97.2672)}function jo(Je,nt){var pt=Je*Je,wt=nt*nt;return[Je*(.975534+wt*(-.119161+pt*-.0143059+wt*-.0547009)),nt*(1.00384+pt*(.0802894+wt*-.02855+pt*199025e-9)+wt*(.0998909+wt*-.0491032))]}jo.invert=function(Je,nt){var pt=u(Je)*h,wt=nt/2,_t=50;do{var It=pt*pt,Ft=wt*wt,pr=pt*wt,wr=pt*(.975534+Ft*(-.119161+It*-.0143059+Ft*-.0547009))-Je,sr=wt*(1.00384+It*(.0802894+Ft*-.02855+It*199025e-9)+Ft*(.0998909+Ft*-.0491032))-nt,Er=.975534-Ft*(.119161+3*It*.0143059+Ft*.0547009),kr=-pr*(2*.119161+4*.0547009*Ft+2*.0143059*It),Ur=pr*(2*.0802894+4*199025e-9*It+2*-.02855*Ft),an=1.00384+It*(.0802894+199025e-9*It)+Ft*(3*(.0998909-.02855*It)-5*.0491032*Ft),xn=kr*Ur-an*Er,Pn=(sr*kr-wr*an)/xn,In=(wr*Ur-sr*Er)/xn;pt-=Pn,wt-=In}while((R(Pn)>c||R(In)>c)&&--_t>0);return _t&&[pt,wt]};function $h(){return(0,g.c)(jo).scale(139.98)}function ks(Je,nt){return[l(Je)/S(nt),m(nt)*S(Je)]}ks.invert=function(Je,nt){var pt=Je*Je,wt=nt*nt,_t=wt+1,It=pt+_t,Ft=Je?b*O((It-O(It*It-4*pt))/pt):1/O(_t);return[E(Je*Ft),u(nt)*w(Ft)]};function lo(){return(0,g.c)(ks).scale(144.049).clipAngle(89.999)}function tc(Je){var nt=S(Je),pt=m(p+Je/2);function wt(_t,It){var Ft=It-Je,pr=R(Ft)<c?_t*nt:R(pr=p+It/2)<c||R(R(pr)-o)<c?0:_t*Ft/r(m(pr)/pt);return[pr,Ft]}return wt.invert=function(_t,It){var Ft,pr=It+Je;return[R(It)<c?_t/nt:R(Ft=p+pr/2)<c||R(R(Ft)-o)<c?0:_t*r(m(Ft)/pt)/It,pr]},wt}function ul(){return vt(tc).parallel(40).scale(158.837)}function _s(Je,nt){return[Je,1.25*r(m(p+.4*nt))]}_s.invert=function(Je,nt){return[Je,2.5*a(v(.8*nt))-.625*h]};function rc(){return(0,g.c)(_s).scale(108.318)}function Wc(Je){var nt=Je.length-1;function pt(wt,_t){for(var It=S(_t),Ft=2/(1+It*S(wt)),pr=Ft*It*l(wt),wr=Ft*l(_t),sr=nt,Er=Je[sr],kr=Er[0],Ur=Er[1],an;--sr>=0;)Er=Je[sr],kr=Er[0]+pr*(an=kr)-wr*Ur,Ur=Er[1]+pr*Ur+wr*an;return kr=pr*(an=kr)-wr*Ur,Ur=pr*Ur+wr*an,[kr,Ur]}return pt.invert=function(wt,_t){var It=20,Ft=wt,pr=_t;do{for(var wr=nt,sr=Je[wr],Er=sr[0],kr=sr[1],Ur=0,an=0,xn;--wr>=0;)sr=Je[wr],Ur=Er+Ft*(xn=Ur)-pr*an,an=kr+Ft*an+pr*xn,Er=sr[0]+Ft*(xn=Er)-pr*kr,kr=sr[1]+Ft*kr+pr*xn;Ur=Er+Ft*(xn=Ur)-pr*an,an=kr+Ft*an+pr*xn,Er=Ft*(xn=Er)-pr*kr-wt,kr=Ft*kr+pr*xn-_t;var Pn=Ur*Ur+an*an,In,Kn;Ft-=In=(Er*Ur+kr*an)/Pn,pr-=Kn=(kr*Ur-Er*an)/Pn}while(R(In)+R(Kn)>c*c&&--It>0);if(It){var Ia=O(Ft*Ft+pr*pr),ka=2*a(Ia*.5),_a=l(ka);return[C(Ft*_a,Ia*S(ka)),Ia?E(pr*_a/Ia):0]}},pt}var Qh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Tf=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],qh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],ev=[[.9245,0],[0,0],[.01943,0]],tv=[[.721316,0],[0,0],[-.00881625,-.00617325]];function nc(){return Rl(Qh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function rv(){return Rl(Tf,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function nv(){return Rl(qh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function jc(){return Rl(ev,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Yc(){return Rl(tv,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Rl(Je,nt){var pt=(0,g.c)(Wc(Je)).rotate(nt).clipAngle(90),wt=(0,Ye.c)(nt),_t=pt.center;return delete pt.rotate,pt.center=function(It){return arguments.length?_t(wt(It)):wt.invert(_t())},pt}var nu=O(6),Bu=O(7);function Uu(Je,nt){var pt=E(7*l(nt)/(3*nu));return[nu*Je*(2*S(2*pt/3)-1)/Bu,9*l(pt/3)/Bu]}Uu.invert=function(Je,nt){var pt=3*E(nt*Bu/9);return[Je*Bu/(nu*(2*S(2*pt/3)-1)),E(l(pt)*3*nu/7)]};function Xc(){return(0,g.c)(Uu).scale(164.859)}function Zs(Je,nt){for(var pt=(1+b)*l(nt),wt=nt,_t=0,It;_t<25&&(wt-=It=(l(wt/2)+l(wt)-pt)/(.5*S(wt/2)+S(wt)),!(R(It)<c));_t++);return[Je*(1+2*S(wt)/S(wt/2))/(3*T),2*O(3)*l(wt/2)/O(2+T)]}Zs.invert=function(Je,nt){var pt=nt*O(2+T)/(2*O(3)),wt=2*E(pt);return[3*T*Je/(1+2*S(wt)/S(wt/2)),E((pt+l(wt))/(1+b))]};function av(){return(0,g.c)(Zs).scale(188.209)}function Af(Je,nt){for(var pt=O(6/(4+h)),wt=(1+h/4)*l(nt),_t=nt/2,It=0,Ft;It<25&&(_t-=Ft=(_t/2+l(_t)-wt)/(.5+S(_t)),!(R(Ft)<c));It++);return[pt*(.5+S(_t))*Je/1.5,pt*_t]}Af.invert=function(Je,nt){var pt=O(6/(4+h)),wt=nt/pt;return R(R(wt)-o)<c&&(wt=wt<0?-o:o),[1.5*Je/(pt*(.5+S(wt))),E((wt/2+l(wt))/(1+h/4))]};function Zc(){return(0,g.c)(Af).scale(166.518)}var Kc=e(47984);function Sf(Je,nt){var pt=nt*nt,wt=pt*pt,_t=pt*wt;return[Je*(.84719-.13063*pt+_t*_t*(-.04515+.05494*pt-.02326*wt+.00331*_t)),nt*(1.01183+wt*wt*(-.02625+.01926*pt-.00396*wt))]}Sf.invert=function(Je,nt){var pt=nt,wt=25,_t,It,Ft,pr;do It=pt*pt,Ft=It*It,pt-=_t=(pt*(1.01183+Ft*Ft*(-.02625+.01926*It-.00396*Ft))-nt)/(1.01183+Ft*Ft*(-.23625+.21186*It+-.05148*Ft));while(R(_t)>A&&--wt>0);return It=pt*pt,Ft=It*It,pr=It*Ft,[Je/(.84719-.13063*It+pr*pr*(-.04515+.05494*It-.02326*Ft+.00331*pr)),pt]};function ps(){return(0,g.c)(Sf).scale(175.295)}function au(Je,nt){return[Je*(1+S(nt))/2,2*(nt-m(nt/2))]}au.invert=function(Je,nt){for(var pt=nt/2,wt=0,_t=1/0;wt<10&&R(_t)>c;++wt){var It=S(nt/2);nt-=_t=(nt-m(nt/2)-pt)/(1-.5/(It*It))}return[2*Je/(1+S(nt)),nt]};function Dl(){return(0,g.c)(au).scale(152.63)}var Vu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function fl(){return po(ae(1/0),Vu).rotate([20,0]).scale(152.63)}function Os(Je,nt){var pt=l(nt),wt=S(nt),_t=u(Je);if(Je===0||R(nt)===o)return[0,nt];if(nt===0)return[Je,0];if(R(Je)===o)return[Je*wt,o*pt];var It=h/(2*Je)-2*Je/h,Ft=2*nt/h,pr=(1-Ft*Ft)/(pt-Ft),wr=It*It,sr=pr*pr,Er=1+wr/sr,kr=1+sr/wr,Ur=(It*pt/pr-It/2)/Er,an=(sr*pt/wr+pr/2)/kr,xn=Ur*Ur+wt*wt/Er,Pn=an*an-(sr*pt*pt/wr+pr*pt-1)/kr;return[o*(Ur+O(xn)*_t),o*(an+O(Pn<0?0:Pn)*u(-nt*It)*_t)]}Os.invert=function(Je,nt){Je/=o,nt/=o;var pt=Je*Je,wt=nt*nt,_t=pt+wt,It=h*h;return[Je?(_t-1+O((1-_t)*(1-_t)+4*pt))/(2*Je)*o:0,Me(function(Ft){return _t*(h*l(Ft)-2*Ft)*h+4*Ft*Ft*(nt-l(Ft))+2*h*Ft-It*nt},0)]};function ac(){return(0,g.c)(Os).scale(127.267)}var iu=1.0148,gs=.23185,Fi=-.14499,ic=.02406,iv=iu,Mf=5*gs,ou=7*Fi,su=9*ic,Yo=1.790857183;function Ef(Je,nt){var pt=nt*nt;return[Je,nt*(iu+pt*pt*(gs+pt*(Fi+ic*pt)))]}Ef.invert=function(Je,nt){nt>Yo?nt=Yo:nt<-Yo&&(nt=-Yo);var pt=nt,wt;do{var _t=pt*pt;pt-=wt=(pt*(iu+_t*_t*(gs+_t*(Fi+ic*_t)))-nt)/(iv+_t*_t*(Mf+_t*(ou+su*_t)))}while(R(wt)>c);return[Je,pt]};function lu(){return(0,g.c)(Ef).scale(139.319)}function Cf(Je,nt){if(R(nt)<c)return[Je,0];var pt=m(nt),wt=Je*l(nt);return[l(wt)/pt,nt+(1-S(wt))/pt]}Cf.invert=function(Je,nt){if(R(nt)<c)return[Je,0];var pt=Je*Je+nt*nt,wt=nt*.5,_t=10,It;do{var Ft=m(wt),pr=1/S(wt),wr=pt-2*nt*wt+wt*wt;wt-=It=(Ft*wr+2*(wt-nt))/(2+wr*pr*pr+2*(wt-nt)*Ft)}while(R(It)>c&&--_t>0);return Ft=m(wt),[(R(nt)<R(wt+1/Ft)?E(Je*Ft):u(nt)*u(Je)*(w(R(Je*Ft))+o))/l(wt),wt]};function ov(){return(0,g.c)(Cf).scale(103.74)}var Jc=e(13696),oc=e(27284);function sc(Je,nt){var pt=Lf(Je[1],Je[0]),wt=Lf(nt[1],nt[0]),_t=Pf(pt,wt),It=Hu(pt)/Hu(wt);return uu([1,0,Je[0][0],0,1,Je[0][1]],uu([It,0,0,0,It,0],uu([S(_t),l(_t),0,-l(_t),S(_t),0],[1,0,-nt[0][0],0,1,-nt[0][1]])))}function lc(Je){var nt=1/(Je[0]*Je[4]-Je[1]*Je[3]);return[nt*Je[4],-nt*Je[1],nt*(Je[1]*Je[5]-Je[2]*Je[4]),-nt*Je[3],nt*Je[0],nt*(Je[2]*Je[3]-Je[0]*Je[5])]}function uu(Je,nt){return[Je[0]*nt[0]+Je[1]*nt[3],Je[0]*nt[1]+Je[1]*nt[4],Je[0]*nt[2]+Je[1]*nt[5]+Je[2],Je[3]*nt[0]+Je[4]*nt[3],Je[3]*nt[1]+Je[4]*nt[4],Je[3]*nt[2]+Je[4]*nt[5]+Je[5]]}function Lf(Je,nt){return[Je[0]-nt[0],Je[1]-nt[1]]}function Hu(Je){return O(Je[0]*Je[0]+Je[1]*Je[1])}function Pf(Je,nt){return C(Je[0]*nt[1]-Je[1]*nt[0],Je[0]*nt[0]+Je[1]*nt[1])}function wi(Je,nt,pt){wt(Je,{transform:null});function wt(sr,Er){if(sr.edges=uc(sr.face),Er.face){var kr=sr.shared=Qc(sr.face,Er.face),Ur=sc(kr.map(Er.project),kr.map(sr.project));sr.transform=Er.transform?uu(Er.transform,Ur):Ur;for(var an=Er.edges,xn=0,Pn=an.length;xn<Pn;++xn)ys(kr[0],an[xn][1])&&ys(kr[1],an[xn][0])&&(an[xn]=sr),ys(kr[0],an[xn][0])&&ys(kr[1],an[xn][1])&&(an[xn]=sr);for(an=sr.edges,xn=0,Pn=an.length;xn<Pn;++xn)ys(kr[0],an[xn][0])&&ys(kr[1],an[xn][1])&&(an[xn]=Er),ys(kr[0],an[xn][1])&&ys(kr[1],an[xn][0])&&(an[xn]=Er)}else sr.transform=Er.transform;return sr.children&&sr.children.forEach(function(In){wt(In,sr)}),sr}function _t(sr,Er){var kr=nt(sr,Er),Ur=kr.project([sr*L,Er*L]),an;return(an=kr.transform)?[an[0]*Ur[0]+an[1]*Ur[1]+an[2],-(an[3]*Ur[0]+an[4]*Ur[1]+an[5])]:(Ur[1]=-Ur[1],Ur)}Il(Je)&&(_t.invert=function(sr,Er){var kr=It(Je,[sr,-Er]);return kr&&(kr[0]*=M,kr[1]*=M,kr)});function It(sr,Er){var kr=sr.project.invert,Ur=sr.transform,an=Er;if(Ur&&(Ur=lc(Ur),an=[Ur[0]*an[0]+Ur[1]*an[1]+Ur[2],Ur[3]*an[0]+Ur[4]*an[1]+Ur[5]]),kr&&sr===Ft(xn=kr(an)))return xn;for(var xn,Pn=sr.children,In=0,Kn=Pn&&Pn.length;In<Kn;++In)if(xn=It(Pn[In],Er))return xn}function Ft(sr){return nt(sr[0]*M,sr[1]*M)}var pr=(0,g.c)(_t),wr=pr.stream;return pr.stream=function(sr){var Er=pr.rotate(),kr=wr(sr),Ur=(pr.rotate([0,0]),wr(sr));return pr.rotate(Er),kr.sphere=function(){Ur.polygonStart(),Ur.lineStart(),$c(Ur,Je),Ur.lineEnd(),Ur.polygonEnd()},kr},pr.angle(pt==null?-30:pt*L)}function $c(Je,nt,pt){var wt,_t=nt.edges,It=_t.length,Ft,pr={type:"MultiPoint",coordinates:nt.face},wr=nt.face.filter(function(Pn){return R(Pn[1])!==90}),sr=(0,Jc.c)({type:"MultiPoint",coordinates:wr}),Er=!1,kr=-1,Ur=sr[1][0]-sr[0][0],an=Ur===180||Ur===360?[(sr[0][0]+sr[1][0])/2,(sr[0][1]+sr[1][1])/2]:(0,Oe.c)(pr);if(pt)for(;++kr<It&&_t[kr]!==pt;);++kr;for(var xn=0;xn<It;++xn)Ft=_t[(xn+kr)%It],Array.isArray(Ft)?(Er||(Je.point((wt=(0,oc.c)(Ft[0],an)(c))[0],wt[1]),Er=!0),Je.point((wt=(0,oc.c)(Ft[1],an)(c))[0],wt[1])):(Er=!1,Ft!==pt&&$c(Je,Ft,nt))}function ys(Je,nt){return Je&&nt&&Je[0]===nt[0]&&Je[1]===nt[1]}function Qc(Je,nt){for(var pt,wt,_t=Je.length,It=null,Ft=0;Ft<_t;++Ft){pt=Je[Ft];for(var pr=nt.length;--pr>=0;)if(wt=nt[pr],pt[0]===wt[0]&&pt[1]===wt[1]){if(It)return[It,pt];It=pt}}}function uc(Je){for(var nt=Je.length,pt=[],wt=Je[nt-1],_t=0;_t<nt;++_t)pt.push([wt,wt=Je[_t]]);return pt}function Il(Je){return Je.project.invert||Je.children&&Je.children.some(Il)}var cl=e(53285),Rf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ji=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Je){return Je.map(function(nt){return Rf[nt]})});function Gu(Je){Je=Je||function(pt){var wt=(0,Oe.c)({type:"MultiPoint",coordinates:pt});return(0,cl.c)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var nt=ji.map(function(pt){return{face:pt,project:Je(pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(pt,wt){var _t=nt[pt];_t&&(_t.children||(_t.children=[])).push(nt[wt])}),wi(nt[0],function(pt,wt){return nt[pt<-h/2?wt<0?6:4:pt<0?wt<0?2:0:pt<h/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ms=2/O(3);function Ks(Je,nt){var pt=Te(Je,nt);return[pt[0]*ms,pt[1]]}Ks.invert=function(Je,nt){return Te.invert(Je/ms,nt)};function kl(Je){Je=Je||function(pt){var wt=(0,Oe.c)({type:"MultiPoint",coordinates:pt});return(0,g.c)(Ks).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var nt=ji.map(function(pt){return{face:pt,project:Je(pt)}});return[-1,0,0,1,0,1,4,5].forEach(function(pt,wt){var _t=nt[pt];_t&&(_t.children||(_t.children=[])).push(nt[wt])}),wi(nt[0],function(pt,wt){return nt[pt<-h/2?wt<0?6:4:pt<0?wt<0?2:0:pt<h/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function hl(Je){Je=Je||function(Ft){var pr=Ft.length===6?(0,Oe.c)({type:"MultiPoint",coordinates:Ft}):Ft[0];return(0,cl.c)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var nt=ji.map(function(Ft){for(var pr=Ft.map(os),wr=pr.length,sr=pr[wr-1],Er,kr=[],Ur=0;Ur<wr;++Ur)Er=pr[Ur],kr.push(bs([sr[0]*.9486832980505138+Er[0]*.31622776601683794,sr[1]*.9486832980505138+Er[1]*.31622776601683794,sr[2]*.9486832980505138+Er[2]*.31622776601683794]),bs([Er[0]*.9486832980505138+sr[0]*.31622776601683794,Er[1]*.9486832980505138+sr[1]*.31622776601683794,Er[2]*.9486832980505138+sr[2]*.31622776601683794])),sr=Er;return kr}),pt=[],wt=[-1,0,0,1,0,1,4,5];nt.forEach(function(Ft,pr){for(var wr=ji[pr],sr=wr.length,Er=pt[pr]=[],kr=0;kr<sr;++kr)nt.push([wr[kr],Ft[(kr*2+2)%(2*sr)],Ft[(kr*2+1)%(2*sr)]]),wt.push(pr),Er.push(Js(os(Ft[(kr*2+2)%(2*sr)]),os(Ft[(kr*2+1)%(2*sr)])))});var _t=nt.map(function(Ft){return{project:Je(Ft),face:Ft}});wt.forEach(function(Ft,pr){var wr=_t[Ft];wr&&(wr.children||(wr.children=[])).push(_t[pr])});function It(Ft,pr){var wr=S(pr),sr=[wr*S(Ft),wr*l(Ft),l(pr)],Er=Ft<-h/2?pr<0?6:4:Ft<0?pr<0?2:0:Ft<h/2?pr<0?3:1:pr<0?7:5,kr=pt[Er];return _t[xs(kr[0],sr)<0?8+3*Er:xs(kr[1],sr)<0?8+3*Er+1:xs(kr[2],sr)<0?8+3*Er+2:Er]}return wi(_t[0],It).angle(-30).scale(110.625).center([0,45])}function xs(Je,nt){for(var pt=0,wt=Je.length,_t=0;pt<wt;++pt)_t+=Je[pt]*nt[pt];return _t}function Js(Je,nt){return[Je[1]*nt[2]-Je[2]*nt[1],Je[2]*nt[0]-Je[0]*nt[2],Je[0]*nt[1]-Je[1]*nt[0]]}function bs(Je){return[C(Je[1],Je[0])*L,E(t(-1,i(1,Je[2])))*L]}function os(Je){var nt=Je[0]*M,pt=Je[1]*M,wt=S(pt);return[wt*S(nt),wt*l(nt),l(pt)]}function Wu(){}function sv(Je){if((pt=Je.length)<4)return!1;for(var nt=0,pt,wt=Je[pt-1][1]*Je[0][0]-Je[pt-1][0]*Je[0][1];++nt<pt;)wt+=Je[nt-1][1]*Je[nt][0]-Je[nt-1][0]*Je[nt][1];return wt<=0}function lv(Je,nt){for(var pt=nt[0],wt=nt[1],_t=!1,It=0,Ft=Je.length,pr=Ft-1;It<Ft;pr=It++){var wr=Je[It],sr=wr[0],Er=wr[1],kr=Je[pr],Ur=kr[0],an=kr[1];Er>wt^an>wt&&pt<(Ur-sr)*(wt-Er)/(an-Er)+sr&&(_t=!_t)}return _t}function uv(Je,nt){var pt=nt.stream,wt;if(!pt)throw new Error("invalid projection");switch(Je&&Je.type){case"Feature":wt=fc;break;case"FeatureCollection":wt=fv;break;default:wt=fu;break}return wt(Je,pt)}function fv(Je,nt){return{type:"FeatureCollection",features:Je.features.map(function(pt){return fc(pt,nt)})}}function fc(Je,nt){return{type:"Feature",id:Je.id,properties:Je.properties,geometry:fu(Je.geometry,nt)}}function qc(Je,nt){return{type:"GeometryCollection",geometries:Je.geometries.map(function(pt){return fu(pt,nt)})}}function fu(Je,nt){if(!Je)return null;if(Je.type==="GeometryCollection")return qc(Je,nt);var pt;switch(Je.type){case"Point":pt=cu;break;case"MultiPoint":pt=cu;break;case"LineString":pt=eh;break;case"MultiLineString":pt=eh;break;case"Polygon":pt=ju;break;case"MultiPolygon":pt=ju;break;case"Sphere":pt=ju;break;default:return null}return(0,pa.c)(Je,nt(pt)),pt.result()}var uo=[],rs=[],cu={point:function(Je,nt){uo.push([Je,nt])},result:function(){var Je=uo.length?uo.length<2?{type:"Point",coordinates:uo[0]}:{type:"MultiPoint",coordinates:uo}:null;return uo=[],Je}},eh={lineStart:Wu,point:function(Je,nt){uo.push([Je,nt])},lineEnd:function(){uo.length&&(rs.push(uo),uo=[])},result:function(){var Je=rs.length?rs.length<2?{type:"LineString",coordinates:rs[0]}:{type:"MultiLineString",coordinates:rs}:null;return rs=[],Je}},ju={polygonStart:Wu,lineStart:Wu,point:function(Je,nt){uo.push([Je,nt])},lineEnd:function(){var Je=uo.length;if(Je){do uo.push(uo[0].slice());while(++Je<4);rs.push(uo),uo=[]}},polygonEnd:Wu,result:function(){if(!rs.length)return null;var Je=[],nt=[];return rs.forEach(function(pt){sv(pt)?Je.push([pt]):nt.push(pt)}),nt.forEach(function(pt){var wt=pt[0];Je.some(function(_t){if(lv(_t[0],wt))return _t.push(pt),!0})||Je.push([pt])}),rs=[],Je.length?Je.length>1?{type:"MultiPolygon",coordinates:Je}:{type:"Polygon",coordinates:Je[0]}:null}};function $s(Je){var nt=Je(o,0)[0]-Je(-o,0)[0];function pt(wt,_t){var It=R(wt)<o,Ft=Je(It?wt:wt>0?wt-h:wt+h,_t),pr=(Ft[0]-Ft[1])*b,wr=(Ft[0]+Ft[1])*b;if(It)return[pr,wr];var sr=nt*b,Er=pr>0^wr>0?-1:1;return[Er*pr-u(wr)*sr,Er*wr-u(pr)*sr]}return Je.invert&&(pt.invert=function(wt,_t){var It=(wt+_t)*b,Ft=(_t-wt)*b,pr=R(It)<.5*nt&&R(Ft)<.5*nt;if(!pr){var wr=nt*b,sr=It>0^Ft>0?-1:1,Er=-sr*wt+(Ft>0?1:-1)*wr,kr=-sr*_t+(It>0?1:-1)*wr;It=(-Er-kr)*b,Ft=(Er-kr)*b}var Ur=Je.invert(It,Ft);return pr||(Ur[0]+=It>0?h:-h),Ur}),(0,g.c)(pt).rotate([-90,-90,45]).clipAngle(179.999)}function cv(){return $s(Ln).scale(176.423)}function th(){return $s(mr).scale(111.48)}function rh(Je,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function pt(sr){var Er=sr.length,kr=2,Ur=new Array(Er);for(Ur[0]=+sr[0].toFixed(nt),Ur[1]=+sr[1].toFixed(nt);kr<Er;)Ur[kr]=sr[kr],++kr;return Ur}function wt(sr){return sr.map(pt)}function _t(sr){for(var Er=pt(sr[0]),kr=[Er],Ur=1;Ur<sr.length;Ur++){var an=pt(sr[Ur]);(an.length>2||an[0]!=Er[0]||an[1]!=Er[1])&&(kr.push(an),Er=an)}return kr.length===1&&sr.length>1&&kr.push(pt(sr[sr.length-1])),kr}function It(sr){return sr.map(_t)}function Ft(sr){if(sr==null)return sr;var Er;switch(sr.type){case"GeometryCollection":Er={type:"GeometryCollection",geometries:sr.geometries.map(Ft)};break;case"Point":Er={type:"Point",coordinates:pt(sr.coordinates)};break;case"MultiPoint":Er={type:sr.type,coordinates:wt(sr.coordinates)};break;case"LineString":Er={type:sr.type,coordinates:_t(sr.coordinates)};break;case"MultiLineString":case"Polygon":Er={type:sr.type,coordinates:It(sr.coordinates)};break;case"MultiPolygon":Er={type:"MultiPolygon",coordinates:sr.coordinates.map(It)};break;default:return sr}return sr.bbox!=null&&(Er.bbox=sr.bbox),Er}function pr(sr){var Er={type:"Feature",properties:sr.properties,geometry:Ft(sr.geometry)};return sr.id!=null&&(Er.id=sr.id),sr.bbox!=null&&(Er.bbox=sr.bbox),Er}if(Je!=null)switch(Je.type){case"Feature":return pr(Je);case"FeatureCollection":{var wr={type:"FeatureCollection",features:Je.features.map(pr)};return Je.bbox!=null&&(wr.bbox=Je.bbox),wr}default:return Ft(Je)}return Je}function cc(Je){var nt=l(Je);function pt(wt,_t){var It=nt?m(wt*nt/2)/nt:wt/2;if(!_t)return[2*It,-Je];var Ft=2*a(It*l(_t)),pr=1/m(_t);return[l(Ft)*pr,_t+(1-S(Ft))*pr-Je]}return pt.invert=function(wt,_t){if(R(_t+=Je)<c)return[nt?2*a(nt*wt/2)/nt:wt,0];var It=wt*wt+_t*_t,Ft=0,pr=10,wr;do{var sr=m(Ft),Er=1/S(Ft),kr=It-2*_t*Ft+Ft*Ft;Ft-=wr=(sr*kr+2*(Ft-_t))/(2+kr*Er*Er+2*(Ft-_t)*sr)}while(R(wr)>c&&--pr>0);var Ur=wt*(sr=m(Ft)),an=m(R(_t)<R(Ft+1/sr)?E(Ur)*.5:w(Ur)*.5+h/4)/l(Ft);return[nt?2*a(nt*an)/nt:2*an,Ft]},pt}function nh(){return vt(cc).scale(131.215)}var zo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];zo.forEach(function(Je){Je[1]*=1.0144});function ws(Je,nt){var pt=i(18,R(nt)*36/h),wt=d(pt),_t=pt-wt,It=(kr=zo[wt])[0],Ft=kr[1],pr=(kr=zo[++wt])[0],wr=kr[1],sr=(kr=zo[i(19,++wt)])[0],Er=kr[1],kr;return[Je*(pr+_t*(sr-It)/2+_t*_t*(sr-2*pr+It)/2),(nt>0?o:-o)*(wr+_t*(Er-Ft)/2+_t*_t*(Er-2*wr+Ft)/2)]}ws.invert=function(Je,nt){var pt=nt/o,wt=pt*90,_t=i(18,R(wt/5)),It=t(0,d(_t));do{var Ft=zo[It][1],pr=zo[It+1][1],wr=zo[i(19,It+2)][1],sr=wr-Ft,Er=wr-2*pr+Ft,kr=2*(R(pt)-pr)/sr,Ur=Er/sr,an=kr*(1-Ur*kr*(1-2*Ur*kr));if(an>=0||It===1){wt=(nt>=0?5:-5)*(an+_t);var xn=50,Pn;do _t=i(18,R(wt)/5),It=d(_t),an=_t-It,Ft=zo[It][1],pr=zo[It+1][1],wr=zo[i(19,It+2)][1],wt-=(Pn=(nt>=0?o:-o)*(pr+an*(wr-Ft)/2+an*an*(wr-2*pr+Ft)/2)-nt)*L;while(R(Pn)>A&&--xn>0);break}}while(--It>=0);var In=zo[It][0],Kn=zo[It+1][0],Ia=zo[i(19,It+2)][0];return[Je/(Kn+an*(Ia-In)/2+an*an*(Ia-2*Kn+In)/2),wt*M]};function vl(){return(0,g.c)(ws).scale(152.63)}function hu(Je){function nt(pt,wt){var _t=S(wt),It=(Je-1)/(Je-_t*S(pt));return[It*_t*l(pt),It*l(wt)]}return nt.invert=function(pt,wt){var _t=pt*pt+wt*wt,It=O(_t),Ft=(Je-O(1-_t*(Je+1)/(Je-1)))/((Je-1)/It+It/(Je-1));return[C(pt*Ft,It*O(1-Ft*Ft)),It?E(wt*Ft/It):0]},nt}function Df(Je,nt){var pt=hu(Je);if(!nt)return pt;var wt=S(nt),_t=l(nt);function It(Ft,pr){var wr=pt(Ft,pr),sr=wr[1],Er=sr*_t/(Je-1)+wt;return[wr[0]*wt/Er,sr/Er]}return It.invert=function(Ft,pr){var wr=(Je-1)/(Je-1-pr*_t);return pt.invert(wr*Ft,wr*pr*wt)},It}function _l(){var Je=2,nt=0,pt=(0,g.U)(Df),wt=pt(Je,nt);return wt.distance=function(_t){return arguments.length?pt(Je=+_t,nt):Je},wt.tilt=function(_t){return arguments.length?pt(Je,nt=_t*M):nt*L},wt.scale(432.147).clipAngle(w(1/Je)*L-1e-6)}var Ol=1e-4,ah=1e4,Qs=-180,vu=Qs+Ol,dl=180,qs=dl-Ol,Yu=-90,du=Yu+Ol,gi=90,pu=gi-Ol;function If(Je){return Je.length>0}function ih(Je){return Math.floor(Je*ah)/ah}function gu(Je){return Je===Yu||Je===gi?[0,Je]:[Qs,ih(Je)]}function Xu(Je){var nt=Je[0],pt=Je[1],wt=!1;return nt<=vu?(nt=Qs,wt=!0):nt>=qs&&(nt=dl,wt=!0),pt<=du?(pt=Yu,wt=!0):pt>=pu&&(pt=gi,wt=!0),wt?[nt,pt]:Je}function kf(Je){return Je.map(Xu)}function hc(Je,nt,pt){for(var wt=0,_t=Je.length;wt<_t;++wt){var It=Je[wt].slice();pt.push({index:-1,polygon:nt,ring:It});for(var Ft=0,pr=It.length;Ft<pr;++Ft){var wr=It[Ft],sr=wr[0],Er=wr[1];if(sr<=vu||sr>=qs||Er<=du||Er>=pu){It[Ft]=Xu(wr);for(var kr=Ft+1;kr<pr;++kr){var Ur=It[kr],an=Ur[0],xn=Ur[1];if(an>vu&&an<qs&&xn>du&&xn<pu)break}if(kr===Ft+1)continue;if(Ft){var Pn={index:-1,polygon:nt,ring:It.slice(0,Ft+1)};Pn.ring[Pn.ring.length-1]=gu(Er),pt[pt.length-1]=Pn}else pt.pop();if(kr>=pr)break;pt.push({index:-1,polygon:nt,ring:It=It.slice(kr-1)}),It[0]=gu(It[0][1]),Ft=-1,pr=It.length}}}}function Zu(Je){var nt,pt=Je.length,wt={},_t={},It,Ft,pr,wr,sr;for(nt=0;nt<pt;++nt){if(It=Je[nt],Ft=It.ring[0],wr=It.ring[It.ring.length-1],Ft[0]===wr[0]&&Ft[1]===wr[1]){It.polygon.push(It.ring),Je[nt]=null;continue}It.index=nt,wt[Ft]=_t[wr]=It}for(nt=0;nt<pt;++nt)if(It=Je[nt],It){if(Ft=It.ring[0],wr=It.ring[It.ring.length-1],pr=_t[Ft],sr=wt[wr],delete wt[Ft],delete _t[wr],Ft[0]===wr[0]&&Ft[1]===wr[1]){It.polygon.push(It.ring);continue}pr?(delete _t[Ft],delete wt[pr.ring[0]],pr.ring.pop(),Je[pr.index]=null,It={index:-1,polygon:pr.polygon,ring:pr.ring.concat(It.ring)},pr===sr?It.polygon.push(It.ring):(It.index=pt++,Je.push(wt[It.ring[0]]=_t[It.ring[It.ring.length-1]]=It))):sr?(delete wt[wr],delete _t[sr.ring[sr.ring.length-1]],It.ring.pop(),It={index:pt++,polygon:sr.polygon,ring:It.ring.concat(sr.ring)},Je[sr.index]=null,Je.push(wt[It.ring[0]]=_t[It.ring[It.ring.length-1]]=It)):(It.ring.push(It.ring[0]),It.polygon.push(It.ring))}}function Ku(Je){var nt={type:"Feature",geometry:pl(Je.geometry)};return Je.id!=null&&(nt.id=Je.id),Je.bbox!=null&&(nt.bbox=Je.bbox),Je.properties!=null&&(nt.properties=Je.properties),nt}function pl(Je){if(Je==null)return Je;var nt,pt,wt,_t;switch(Je.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:Je.geometries.map(pl)};break;case"Point":nt={type:"Point",coordinates:Xu(Je.coordinates)};break;case"MultiPoint":case"LineString":nt={type:Je.type,coordinates:kf(Je.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:Je.coordinates.map(kf)};break;case"Polygon":{var It=[];hc(Je.coordinates,It,pt=[]),Zu(pt),nt={type:"Polygon",coordinates:It};break}case"MultiPolygon":{pt=[],wt=-1,_t=Je.coordinates.length;for(var Ft=new Array(_t);++wt<_t;)hc(Je.coordinates[wt],Ft[wt]=[],pt);Zu(pt),nt={type:"MultiPolygon",coordinates:Ft.filter(If)};break}default:return Je}return Je.bbox!=null&&(nt.bbox=Je.bbox),nt}function Ju(Je){if(Je==null)return Je;switch(Je.type){case"Feature":return Ku(Je);case"FeatureCollection":{var nt={type:"FeatureCollection",features:Je.features.map(Ku)};return Je.bbox!=null&&(nt.bbox=Je.bbox),nt}default:return pl(Je)}}function yl(Je,nt){var pt=m(nt/2),wt=l(p*pt);return[Je*(.74482-.34588*wt*wt),1.70711*pt]}yl.invert=function(Je,nt){var pt=nt/1.70711,wt=l(p*pt);return[Je/(.74482-.34588*wt*wt),2*a(pt)]};function to(){return(0,g.c)(yl).scale(146.153)}function zs(Je,nt,pt){var wt=(0,oc.c)(nt,pt),_t=wt(.5),It=(0,Ye.c)([-_t[0],-_t[1]])(nt),Ft=wt.distance/2,pr=-E(l(It[1]*M)/l(Ft)),wr=[-_t[0],-_t[1],-(It[0]>0?h-pr:pr)*L],sr=(0,g.c)(Je(Ft)).rotate(wr),Er=(0,Ye.c)(wr),kr=sr.center;return delete sr.rotate,sr.center=function(Ur){return arguments.length?kr(Er(Ur)):Er.invert(kr())},sr.clipAngle(90)}function vc(Je){var nt=S(Je);function pt(wt,_t){var It=(0,cl.Y)(wt,_t);return It[0]*=nt,It}return pt.invert=function(wt,_t){return cl.Y.invert(wt/nt,_t)},pt}function zl(){return _f([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function _f(Je,nt){return zs(vc,Je,nt)}function $u(Je){if(!(Je*=2))return ue.O;var nt=-Je/2,pt=-nt,wt=Je*Je,_t=m(pt),It=.5/l(pt);function Ft(pr,wr){var sr=w(S(wr)*S(pr-nt)),Er=w(S(wr)*S(pr-pt)),kr=wr<0?-1:1;return sr*=sr,Er*=Er,[(sr-Er)/(2*Je),kr*O(4*wt*Er-(wt-sr+Er)*(wt-sr+Er))/(2*Je)]}return Ft.invert=function(pr,wr){var sr=wr*wr,Er=S(O(sr+(Ur=pr+nt)*Ur)),kr=S(O(sr+(Ur=pr+pt)*Ur)),Ur,an;return[C(an=Er-kr,Ur=(Er+kr)*_t),(wr<0?-1:1)*w(O(Ur*Ur+an*an)*It)]},Ft}function hv(){return oh([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function oh(Je,nt){return zs($u,Je,nt)}function Lo(Je,nt){if(R(nt)<c)return[Je,0];var pt=R(nt/o),wt=E(pt);if(R(Je)<c||R(R(nt)-o)<c)return[0,u(nt)*h*m(wt/2)];var _t=S(wt),It=R(h/Je-Je/h)/2,Ft=It*It,pr=_t/(pt+_t-1),wr=pr*(2/pt-1),sr=wr*wr,Er=sr+Ft,kr=pr-sr,Ur=Ft+pr;return[u(Je)*h*(It*kr+O(Ft*kr*kr-Er*(pr*pr-sr)))/Er,u(nt)*h*(wr*Ur-It*O((Ft+1)*Er-Ur*Ur))/Er]}Lo.invert=function(Je,nt){if(R(nt)<c)return[Je,0];if(R(Je)<c)return[0,o*l(2*a(nt/h))];var pt=(Je/=h)*Je,wt=(nt/=h)*nt,_t=pt+wt,It=_t*_t,Ft=-R(nt)*(1+_t),pr=Ft-2*wt+pt,wr=-2*Ft+1+2*wt+It,sr=wt/wr+(2*pr*pr*pr/(wr*wr*wr)-9*Ft*pr/(wr*wr))/27,Er=(Ft-pr*pr/(3*wr))/wr,kr=2*O(-Er/3),Ur=w(3*sr/(Er*kr))/3;return[h*(_t-1+O(1+2*(pt-wt)+It))/(2*Je),u(nt)*h*(-kr*S(Ur+h/3)-pr/(3*wr))]};function Qu(){return(0,g.c)(Lo).scale(79.4183)}function yu(Je,nt){if(R(nt)<c)return[Je,0];var pt=R(nt/o),wt=E(pt);if(R(Je)<c||R(R(nt)-o)<c)return[0,u(nt)*h*m(wt/2)];var _t=S(wt),It=R(h/Je-Je/h)/2,Ft=It*It,pr=_t*(O(1+Ft)-It*_t)/(1+Ft*pt*pt);return[u(Je)*h*pr,u(nt)*h*O(1-pr*(2*It+pr))]}yu.invert=function(Je,nt){if(!Je)return[0,o*l(2*a(nt/h))];var pt=R(Je/h),wt=(1-pt*pt-(nt/=h)*nt)/(2*pt),_t=wt*wt,It=O(_t+1);return[u(Je)*h*(It-wt),u(nt)*o*l(2*C(O((1-2*wt*pt)*(wt+It)-pt),O(It+wt+pt)))]};function sh(){return(0,g.c)(yu).scale(79.4183)}function ml(Je,nt){if(R(nt)<c)return[Je,0];var pt=nt/o,wt=E(pt);if(R(Je)<c||R(R(nt)-o)<c)return[0,h*m(wt/2)];var _t=(h/Je-Je/h)/2,It=pt/(1+S(wt));return[h*(u(Je)*O(_t*_t+1-It*It)-_t),h*It]}ml.invert=function(Je,nt){if(!nt)return[Je,0];var pt=nt/h,wt=(h*h*(1-pt*pt)-Je*Je)/(2*h*Je);return[Je?h*(u(Je)*O(wt*wt+1)-wt):0,o*l(2*a(pt))]};function vv(){return(0,g.c)(ml).scale(79.4183)}function Xo(Je,nt){if(!nt)return[Je,0];var pt=R(nt);if(!Je||pt===o)return[0,nt];var wt=pt/o,_t=wt*wt,It=(8*wt-_t*(_t+2)-5)/(2*_t*(wt-1)),Ft=It*It,pr=wt*It,wr=_t+Ft+2*pr,sr=wt+3*It,Er=Je/o,kr=Er+1/Er,Ur=u(R(Je)-o)*O(kr*kr-4),an=Ur*Ur,xn=wr*(_t+Ft*an-1)+(1-_t)*(_t*(sr*sr+4*Ft)+12*pr*Ft+4*Ft*Ft),Pn=(Ur*(wr+Ft-1)+2*O(xn))/(4*wr+an);return[u(Je)*o*Pn,u(nt)*o*O(1+Ur*R(Pn)-Pn*Pn)]}Xo.invert=function(Je,nt){var pt;if(!Je||!nt)return[Je,nt];nt/=h;var wt=u(Je)*Je/o,_t=(wt*wt-1+4*nt*nt)/R(wt),It=_t*_t,Ft=2*nt,pr=50;do{var wr=Ft*Ft,sr=(8*Ft-wr*(wr+2)-5)/(2*wr*(Ft-1)),Er=(3*Ft-wr*Ft-10)/(2*wr*Ft),kr=sr*sr,Ur=Ft*sr,an=Ft+sr,xn=an*an,Pn=Ft+3*sr,In=xn*(wr+kr*It-1)+(1-wr)*(wr*(Pn*Pn+4*kr)+kr*(12*Ur+4*kr)),Kn=-2*an*(4*Ur*kr+(1-4*wr+3*wr*wr)*(1+Er)+kr*(-6+14*wr-It+(-8+8*wr-2*It)*Er)+Ur*(-8+12*wr+(-10+10*wr-It)*Er)),Ia=O(In),ka=_t*(xn+kr-1)+2*Ia-wt*(4*xn+It),_a=_t*(2*sr*Er+2*an*(1+Er))+Kn/Ia-8*an*(_t*(-1+kr+xn)+2*Ia)*(1+Er)/(It+4*xn);Ft-=pt=ka/_a}while(pt>c&&--pr>0);return[u(Je)*(O(_t*_t+4)+_t)*h/4,o*Ft]};function qu(){return(0,g.c)(Xo).scale(127.16)}function Of(Je,nt,pt,wt,_t){function It(Ft,pr){var wr=pt*l(wt*pr),sr=O(1-wr*wr),Er=O(2/(1+sr*S(Ft*=_t)));return[Je*sr*Er*l(Ft),nt*wr*Er]}return It.invert=function(Ft,pr){var wr=Ft/Je,sr=pr/nt,Er=O(wr*wr+sr*sr),kr=2*E(Er/2);return[C(Ft*m(kr),Je*Er)/_t,Er&&E(pr*l(kr)/(nt*pt*Er))/wt]},It}function el(Je,nt,pt,wt){var _t=h/3;Je=t(Je,c),nt=t(nt,c),Je=i(Je,o),nt=i(nt,h-c),pt=t(pt,0),pt=i(pt,100-c),wt=t(wt,c);var It=pt/100+1,Ft=wt/100,pr=w(It*S(_t))/_t,wr=l(Je)/l(pr*o),sr=nt/h,Er=O(Ft*l(Je/2)/l(nt/2)),kr=Er/O(sr*wr*pr),Ur=1/(Er*O(sr*wr*pr));return Of(kr,Ur,wr,pr,sr)}function xl(){var Je=65*M,nt=60*M,pt=20,wt=200,_t=(0,g.U)(el),It=_t(Je,nt,pt,wt);return It.poleline=function(Ft){return arguments.length?_t(Je=+Ft*M,nt,pt,wt):Je*L},It.parallels=function(Ft){return arguments.length?_t(Je,nt=+Ft*M,pt,wt):nt*L},It.inflation=function(Ft){return arguments.length?_t(Je,nt,pt=+Ft,wt):pt},It.ratio=function(Ft){return arguments.length?_t(Je,nt,pt,wt=+Ft):wt},It.scale(163.775)}function dc(){return xl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var ef=4*h+3*O(3),tf=2*O(2*h*O(3)/ef),zf=be(tf*O(3)/h,tf,ef/6);function lh(){return(0,g.c)(zf).scale(176.84)}function rf(Je,nt){return[Je*O(1-3*nt*nt/(h*h)),nt]}rf.invert=function(Je,nt){return[Je/O(1-3*nt*nt/(h*h)),nt]};function pc(){return(0,g.c)(rf).scale(152.63)}function Fl(Je,nt){var pt=S(nt),wt=S(Je)*pt,_t=1-wt,It=S(Je=C(l(Je)*pt,-l(nt))),Ft=l(Je);return pt=O(1-wt*wt),[Ft*pt-It*_t,-It*pt-Ft*_t]}Fl.invert=function(Je,nt){var pt=(Je*Je+nt*nt)/-2,wt=O(-pt*(2+pt)),_t=nt*pt+Je*wt,It=Je*pt-nt*wt,Ft=O(It*It+_t*_t);return[C(wt*_t,Ft*(1+pt)),Ft?-E(wt*It/Ft):0]};function gc(){return(0,g.c)(Fl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function nf(Je,nt){var pt=X(Je,nt);return[(pt[0]+Je/o)/2,(pt[1]+nt)/2]}nf.invert=function(Je,nt){var pt=Je,wt=nt,_t=25;do{var It=S(wt),Ft=l(wt),pr=l(2*wt),wr=Ft*Ft,sr=It*It,Er=l(pt),kr=S(pt/2),Ur=l(pt/2),an=Ur*Ur,xn=1-sr*kr*kr,Pn=xn?w(It*kr)*O(In=1/xn):In=0,In,Kn=.5*(2*Pn*It*Ur+pt/o)-Je,Ia=.5*(Pn*Ft+wt)-nt,ka=.5*In*(sr*an+Pn*It*kr*wr)+.5/o,_a=In*(Er*pr/4-Pn*Ft*Ur),Ba=.125*In*(pr*Ur-Pn*Ft*sr*Er),Qa=.5*In*(wr*kr+Pn*an*It)+.5,yi=_a*Ba-Qa*ka,Yi=(Ia*_a-Kn*Qa)/yi,fe=(Kn*Ba-Ia*ka)/yi;pt-=Yi,wt-=fe}while((R(Yi)>c||R(fe)>c)&&--_t>0);return[pt,wt]};function uh(){return(0,g.c)(nf).scale(158.837)}},88728:function(H,G,e){e.d(G,{c:function(){return g}});function g(){return new R}function R(){this.reset()}R.prototype={constructor:R,reset:function(){this.s=this.t=0},add:function(S){C(a,S,this.t),C(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new R;function C(S,v,d){var r=S.s=v+d,t=r-v,i=r-t;S.t=v-i+(d-t)}},95384:function(H,G,e){e.d(G,{cp:function(){return A},mQ:function(){return S},oB:function(){return f}});var g=e(88728),R=e(64528),a=e(70932),C=e(16016),S=(0,g.c)(),v=(0,g.c)(),d,r,t,i,n,f={point:a.c,lineStart:a.c,lineEnd:a.c,polygonStart:function(){S.reset(),f.lineStart=u,f.lineEnd=l},polygonEnd:function(){var h=+S;v.add(h<0?R.kD+h:h),this.lineStart=this.lineEnd=this.point=a.c},sphere:function(){v.add(R.kD)}};function u(){f.point=m}function l(){c(d,r)}function m(h,o){f.point=c,d=h,r=o,h*=R.qw,o*=R.qw,t=h,i=(0,R.W8)(o=o/2+R.wL),n=(0,R.g$)(o)}function c(h,o){h*=R.qw,o*=R.qw,o=o/2+R.wL;var p=h-t,b=p>=0?1:-1,T=b*p,P=(0,R.W8)(o),x=(0,R.g$)(o),L=n*x,M=i*P+L*(0,R.W8)(T),s=L*b*(0,R.g$)(T);S.add((0,R.WE)(s,M)),t=h,i=P,n=x}function A(h){return v.reset(),(0,C.c)(h,f),v*2}},13696:function(H,G,e){e.d(G,{c:function(){return E}});var g=e(88728),R=e(95384),a=e(84220),C=e(64528),S=e(16016),v,d,r,t,i,n,f,u,l=(0,g.c)(),m,c,A={point:h,lineStart:p,lineEnd:b,polygonStart:function(){A.point=T,A.lineStart=P,A.lineEnd=x,l.reset(),R.oB.polygonStart()},polygonEnd:function(){R.oB.polygonEnd(),A.point=h,A.lineStart=p,A.lineEnd=b,R.mQ<0?(v=-(r=180),d=-(t=90)):l>C.Gg?t=90:l<-C.Gg&&(d=-90),c[0]=v,c[1]=r},sphere:function(){v=-(r=180),d=-(t=90)}};function h(w,O){m.push(c=[v=w,r=w]),O<d&&(d=O),O>t&&(t=O)}function o(w,O){var _=(0,a.ux)([w*C.qw,O*C.qw]);if(u){var U=(0,a.CW)(u,_),z=[U[1],-U[0],0],F=(0,a.CW)(z,U);(0,a.cJ)(F),F=(0,a.G)(F);var B=w-i,N=B>0?1:-1,V=F[0]*C.oh*N,X,q=(0,C.a2)(B)>180;q^(N*i<V&&V<N*w)?(X=F[1]*C.oh,X>t&&(t=X)):(V=(V+360)%360-180,q^(N*i<V&&V<N*w)?(X=-F[1]*C.oh,X<d&&(d=X)):(O<d&&(d=O),O>t&&(t=O))),q?w<i?L(v,w)>L(v,r)&&(r=w):L(w,r)>L(v,r)&&(v=w):r>=v?(w<v&&(v=w),w>r&&(r=w)):w>i?L(v,w)>L(v,r)&&(r=w):L(w,r)>L(v,r)&&(v=w)}else m.push(c=[v=w,r=w]);O<d&&(d=O),O>t&&(t=O),u=_,i=w}function p(){A.point=o}function b(){c[0]=v,c[1]=r,A.point=h,u=null}function T(w,O){if(u){var _=w-i;l.add((0,C.a2)(_)>180?_+(_>0?360:-360):_)}else n=w,f=O;R.oB.point(w,O),o(w,O)}function P(){R.oB.lineStart()}function x(){T(n,f),R.oB.lineEnd(),(0,C.a2)(l)>C.Gg&&(v=-(r=180)),c[0]=v,c[1]=r,u=null}function L(w,O){return(O-=w)<0?O+360:O}function M(w,O){return w[0]-O[0]}function s(w,O){return w[0]<=w[1]?w[0]<=O&&O<=w[1]:O<w[0]||w[1]<O}function E(w){var O,_,U,z,F,B,N;if(t=r=-(v=d=1/0),m=[],(0,S.c)(w,A),_=m.length){for(m.sort(M),O=1,U=m[0],F=[U];O<_;++O)z=m[O],s(U,z[0])||s(U,z[1])?(L(U[0],z[1])>L(U[0],U[1])&&(U[1]=z[1]),L(z[0],U[1])>L(U[0],U[1])&&(U[0]=z[0])):F.push(U=z);for(B=-1/0,_=F.length-1,O=0,U=F[_];O<=_;U=z,++O)z=F[O],(N=L(U[1],z[0]))>B&&(B=N,v=z[0],r=U[1])}return m=c=null,v===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,d],[r,t]]}},84220:function(H,G,e){e.d(G,{CW:function(){return S},Ez:function(){return C},G:function(){return R},cJ:function(){return r},mg:function(){return v},ux:function(){return a},wx:function(){return d}});var g=e(64528);function R(t){return[(0,g.WE)(t[1],t[0]),(0,g.qR)(t[2])]}function a(t){var i=t[0],n=t[1],f=(0,g.W8)(n);return[f*(0,g.W8)(i),f*(0,g.g$)(i),(0,g.g$)(n)]}function C(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function S(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function v(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function d(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function r(t){var i=(0,g._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}},24052:function(H,G,e){e.d(G,{c:function(){return _}});var g=e(64528),R=e(70932),a=e(16016),C,S,v,d,r,t,i,n,f,u,l,m,c,A,h,o,p={sphere:R.c,point:b,lineStart:P,lineEnd:M,polygonStart:function(){p.lineStart=s,p.lineEnd=E},polygonEnd:function(){p.lineStart=P,p.lineEnd=M}};function b(U,z){U*=g.qw,z*=g.qw;var F=(0,g.W8)(z);T(F*(0,g.W8)(U),F*(0,g.g$)(U),(0,g.g$)(z))}function T(U,z,F){++C,v+=(U-v)/C,d+=(z-d)/C,r+=(F-r)/C}function P(){p.point=x}function x(U,z){U*=g.qw,z*=g.qw;var F=(0,g.W8)(z);A=F*(0,g.W8)(U),h=F*(0,g.g$)(U),o=(0,g.g$)(z),p.point=L,T(A,h,o)}function L(U,z){U*=g.qw,z*=g.qw;var F=(0,g.W8)(z),B=F*(0,g.W8)(U),N=F*(0,g.g$)(U),V=(0,g.g$)(z),X=(0,g.WE)((0,g._I)((X=h*V-o*N)*X+(X=o*B-A*V)*X+(X=A*N-h*B)*X),A*B+h*N+o*V);S+=X,t+=X*(A+(A=B)),i+=X*(h+(h=N)),n+=X*(o+(o=V)),T(A,h,o)}function M(){p.point=b}function s(){p.point=w}function E(){O(m,c),p.point=b}function w(U,z){m=U,c=z,U*=g.qw,z*=g.qw,p.point=O;var F=(0,g.W8)(z);A=F*(0,g.W8)(U),h=F*(0,g.g$)(U),o=(0,g.g$)(z),T(A,h,o)}function O(U,z){U*=g.qw,z*=g.qw;var F=(0,g.W8)(z),B=F*(0,g.W8)(U),N=F*(0,g.g$)(U),V=(0,g.g$)(z),X=h*V-o*N,q=o*B-A*V,te=A*N-h*B,ne=(0,g._I)(X*X+q*q+te*te),ce=(0,g.qR)(ne),Q=ne&&-ce/ne;f+=Q*X,u+=Q*q,l+=Q*te,S+=ce,t+=ce*(A+(A=B)),i+=ce*(h+(h=N)),n+=ce*(o+(o=V)),T(A,h,o)}function _(U){C=S=v=d=r=t=i=n=f=u=l=0,(0,a.c)(U,p);var z=f,F=u,B=l,N=z*z+F*F+B*B;return N<g.a8&&(z=t,F=i,B=n,S<g.Gg&&(z=v,F=d,B=r),N=z*z+F*F+B*B,N<g.a8)?[NaN,NaN]:[(0,g.WE)(F,z)*g.oh,(0,g.qR)(B/(0,g._I)(N))*g.oh]}},61780:function(H,G,e){e.d(G,{Q:function(){return S},c:function(){return d}});var g=e(84220);function R(r){return function(){return r}}var a=e(64528),C=e(92992);function S(r,t,i,n,f,u){if(i){var l=(0,a.W8)(t),m=(0,a.g$)(t),c=n*i;f==null?(f=t+n*a.kD,u=t-c/2):(f=v(l,f),u=v(l,u),(n>0?f<u:f>u)&&(f+=n*a.kD));for(var A,h=f;n>0?h>u:h<u;h-=c)A=(0,g.G)([l,-m*(0,a.W8)(h),-m*(0,a.g$)(h)]),r.point(A[0],A[1])}}function v(r,t){t=(0,g.ux)(t),t[0]-=r,(0,g.cJ)(t);var i=(0,a.mE)(-t[1]);return((-t[2]<0?-i:i)+a.kD-a.Gg)%a.kD}function d(){var r=R([0,0]),t=R(90),i=R(6),n,f,u={point:l};function l(c,A){n.push(c=f(c,A)),c[0]*=a.oh,c[1]*=a.oh}function m(){var c=r.apply(this,arguments),A=t.apply(this,arguments)*a.qw,h=i.apply(this,arguments)*a.qw;return n=[],f=(0,C.O)(-c[0]*a.qw,-c[1]*a.qw,0).invert,S(u,A,h,1),c={type:"Polygon",coordinates:[n]},n=f=null,c}return m.center=function(c){return arguments.length?(r=typeof c=="function"?c:R([+c[0],+c[1]]),m):r},m.radius=function(c){return arguments.length?(t=typeof c=="function"?c:R(+c),m):t},m.precision=function(c){return arguments.length?(i=typeof c=="function"?c:R(+c),m):i},m}},78284:function(H,G,e){var g=e(14229),R=e(64528);G.c=(0,g.c)(function(){return!0},a,S,[-R.pi,-R.or]);function a(v){var d=NaN,r=NaN,t=NaN,i;return{lineStart:function(){v.lineStart(),i=1},point:function(n,f){var u=n>0?R.pi:-R.pi,l=(0,R.a2)(n-d);(0,R.a2)(l-R.pi)<R.Gg?(v.point(d,r=(r+f)/2>0?R.or:-R.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),i=0):t!==u&&l>=R.pi&&((0,R.a2)(d-t)<R.Gg&&(d-=t*R.Gg),(0,R.a2)(n-u)<R.Gg&&(n-=u*R.Gg),r=C(d,r,n,f),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),i=0),v.point(d=n,r=f),t=u},lineEnd:function(){v.lineEnd(),d=r=NaN},clean:function(){return 2-i}}}function C(v,d,r,t){var i,n,f=(0,R.g$)(v-r);return(0,R.a2)(f)>R.Gg?(0,R.MQ)(((0,R.g$)(d)*(n=(0,R.W8)(t))*(0,R.g$)(r)-(0,R.g$)(t)*(i=(0,R.W8)(d))*(0,R.g$)(v))/(i*n*f)):(d+t)/2}function S(v,d,r,t){var i;if(v==null)i=r*R.or,t.point(-R.pi,i),t.point(0,i),t.point(R.pi,i),t.point(R.pi,0),t.point(R.pi,-i),t.point(0,-i),t.point(-R.pi,-i),t.point(-R.pi,0),t.point(-R.pi,i);else if((0,R.a2)(v[0]-d[0])>R.Gg){var n=v[0]<d[0]?R.pi:-R.pi;i=r*n/2,t.point(-n,i),t.point(0,i),t.point(n,i)}else t.point(d[0],d[1])}},97208:function(H,G,e){e.d(G,{c:function(){return R}});var g=e(70932);function R(){var a=[],C;return{point:function(S,v,d){C.push([S,v,d])},lineStart:function(){a.push(C=[])},lineEnd:g.c,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var S=a;return a=[],C=null,S}}}},2728:function(H,G,e){e.d(G,{c:function(){return v}});var g=e(84220),R=e(61780),a=e(64528),C=e(41860),S=e(14229);function v(d){var r=(0,a.W8)(d),t=6*a.qw,i=r>0,n=(0,a.a2)(r)>a.Gg;function f(A,h,o,p){(0,R.Q)(p,d,t,o,A,h)}function u(A,h){return(0,a.W8)(A)*(0,a.W8)(h)>r}function l(A){var h,o,p,b,T;return{lineStart:function(){b=p=!1,T=1},point:function(P,x){var L=[P,x],M,s=u(P,x),E=i?s?0:c(P,x):s?c(P+(P<0?a.pi:-a.pi),x):0;if(!h&&(b=p=s)&&A.lineStart(),s!==p&&(M=m(h,L),(!M||(0,C.c)(h,M)||(0,C.c)(L,M))&&(L[2]=1)),s!==p)T=0,s?(A.lineStart(),M=m(L,h),A.point(M[0],M[1])):(M=m(h,L),A.point(M[0],M[1],2),A.lineEnd()),h=M;else if(n&&h&&i^s){var w;!(E&o)&&(w=m(L,h,!0))&&(T=0,i?(A.lineStart(),A.point(w[0][0],w[0][1]),A.point(w[1][0],w[1][1]),A.lineEnd()):(A.point(w[1][0],w[1][1]),A.lineEnd(),A.lineStart(),A.point(w[0][0],w[0][1],3)))}s&&(!h||!(0,C.c)(h,L))&&A.point(L[0],L[1]),h=L,p=s,o=E},lineEnd:function(){p&&A.lineEnd(),h=null},clean:function(){return T|(b&&p)<<1}}}function m(A,h,o){var p=(0,g.ux)(A),b=(0,g.ux)(h),T=[1,0,0],P=(0,g.CW)(p,b),x=(0,g.Ez)(P,P),L=P[0],M=x-L*L;if(!M)return!o&&A;var s=r*x/M,E=-r*L/M,w=(0,g.CW)(T,P),O=(0,g.wx)(T,s),_=(0,g.wx)(P,E);(0,g.mg)(O,_);var U=w,z=(0,g.Ez)(O,U),F=(0,g.Ez)(U,U),B=z*z-F*((0,g.Ez)(O,O)-1);if(!(B<0)){var N=(0,a._I)(B),V=(0,g.wx)(U,(-z-N)/F);if((0,g.mg)(V,O),V=(0,g.G)(V),!o)return V;var X=A[0],q=h[0],te=A[1],ne=h[1],ce;q<X&&(ce=X,X=q,q=ce);var Q=q-X,Z=(0,a.a2)(Q-a.pi)<a.Gg,re=Z||Q<a.Gg;if(!Z&&ne<te&&(ce=te,te=ne,ne=ce),re?Z?te+ne>0^V[1]<((0,a.a2)(V[0]-X)<a.Gg?te:ne):te<=V[1]&&V[1]<=ne:Q>a.pi^(X<=V[0]&&V[0]<=q)){var Y=(0,g.wx)(U,(-z+N)/F);return(0,g.mg)(Y,O),[V,(0,g.G)(Y)]}}}function c(A,h){var o=i?d:a.pi-d,p=0;return A<-o?p|=1:A>o&&(p|=2),h<-o?p|=4:h>o&&(p|=8),p}return(0,S.c)(u,l,f,i?[0,-d]:[-a.pi,d-a.pi])}},14229:function(H,G,e){e.d(G,{c:function(){return v}});var g=e(97208),R=e(32232),a=e(64528),C=e(58196),S=e(84706);function v(t,i,n,f){return function(u){var l=i(u),m=(0,g.c)(),c=i(m),A=!1,h,o,p,b={point:T,lineStart:x,lineEnd:L,polygonStart:function(){b.point=M,b.lineStart=s,b.lineEnd=E,o=[],h=[]},polygonEnd:function(){b.point=T,b.lineStart=x,b.lineEnd=L,o=(0,S.Uf)(o);var w=(0,C.c)(h,f);o.length?(A||(u.polygonStart(),A=!0),(0,R.c)(o,r,w,n,u)):w&&(A||(u.polygonStart(),A=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),A&&(u.polygonEnd(),A=!1),o=h=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function T(w,O){t(w,O)&&u.point(w,O)}function P(w,O){l.point(w,O)}function x(){b.point=P,l.lineStart()}function L(){b.point=T,l.lineEnd()}function M(w,O){p.push([w,O]),c.point(w,O)}function s(){c.lineStart(),p=[]}function E(){M(p[0][0],p[0][1]),c.lineEnd();var w=c.clean(),O=m.result(),_,U=O.length,z,F,B;if(p.pop(),h.push(p),p=null,!!U){if(w&1){if(F=O[0],(z=F.length-1)>0){for(A||(u.polygonStart(),A=!0),u.lineStart(),_=0;_<z;++_)u.point((B=F[_])[0],B[1]);u.lineEnd()}return}U>1&&w&2&&O.push(O.pop().concat(O.shift())),o.push(O.filter(d))}}return b}}function d(t){return t.length>1}function r(t,i){return((t=t.x)[0]<0?t[1]-a.or-a.Gg:a.or-t[1])-((i=i.x)[0]<0?i[1]-a.or-a.Gg:a.or-i[1])}},21676:function(H,G,e){e.d(G,{c:function(){return r}});var g=e(64528),R=e(97208);function a(t,i,n,f,u,l){var m=t[0],c=t[1],A=i[0],h=i[1],o=0,p=1,b=A-m,T=h-c,P;if(P=n-m,!(!b&&P>0)){if(P/=b,b<0){if(P<o)return;P<p&&(p=P)}else if(b>0){if(P>p)return;P>o&&(o=P)}if(P=u-m,!(!b&&P<0)){if(P/=b,b<0){if(P>p)return;P>o&&(o=P)}else if(b>0){if(P<o)return;P<p&&(p=P)}if(P=f-c,!(!T&&P>0)){if(P/=T,T<0){if(P<o)return;P<p&&(p=P)}else if(T>0){if(P>p)return;P>o&&(o=P)}if(P=l-c,!(!T&&P<0)){if(P/=T,T<0){if(P>p)return;P>o&&(o=P)}else if(T>0){if(P<o)return;P<p&&(p=P)}return o>0&&(t[0]=m+o*b,t[1]=c+o*T),p<1&&(i[0]=m+p*b,i[1]=c+p*T),!0}}}}}var C=e(32232),S=e(84706),v=1e9,d=-v;function r(t,i,n,f){function u(h,o){return t<=h&&h<=n&&i<=o&&o<=f}function l(h,o,p,b){var T=0,P=0;if(h==null||(T=m(h,p))!==(P=m(o,p))||A(h,o)<0^p>0)do b.point(T===0||T===3?t:n,T>1?f:i);while((T=(T+p+4)%4)!==P);else b.point(o[0],o[1])}function m(h,o){return(0,g.a2)(h[0]-t)<g.Gg?o>0?0:3:(0,g.a2)(h[0]-n)<g.Gg?o>0?2:1:(0,g.a2)(h[1]-i)<g.Gg?o>0?1:0:o>0?3:2}function c(h,o){return A(h.x,o.x)}function A(h,o){var p=m(h,1),b=m(o,1);return p!==b?p-b:p===0?o[1]-h[1]:p===1?h[0]-o[0]:p===2?h[1]-o[1]:o[0]-h[0]}return function(h){var o=h,p=(0,R.c)(),b,T,P,x,L,M,s,E,w,O,_,U={point:z,lineStart:V,lineEnd:X,polygonStart:B,polygonEnd:N};function z(te,ne){u(te,ne)&&o.point(te,ne)}function F(){for(var te=0,ne=0,ce=T.length;ne<ce;++ne)for(var Q=T[ne],Z=1,re=Q.length,Y=Q[0],oe,ue,K=Y[0],$=Y[1];Z<re;++Z)oe=K,ue=$,Y=Q[Z],K=Y[0],$=Y[1],ue<=f?$>f&&(K-oe)*(f-ue)>($-ue)*(t-oe)&&++te:$<=f&&(K-oe)*(f-ue)<($-ue)*(t-oe)&&--te;return te}function B(){o=p,b=[],T=[],_=!0}function N(){var te=F(),ne=_&&te,ce=(b=(0,S.Uf)(b)).length;(ne||ce)&&(h.polygonStart(),ne&&(h.lineStart(),l(null,null,1,h),h.lineEnd()),ce&&(0,C.c)(b,c,te,l,h),h.polygonEnd()),o=h,b=T=P=null}function V(){U.point=q,T&&T.push(P=[]),O=!0,w=!1,s=E=NaN}function X(){b&&(q(x,L),M&&w&&p.rejoin(),b.push(p.result())),U.point=z,w&&o.lineEnd()}function q(te,ne){var ce=u(te,ne);if(T&&P.push([te,ne]),O)x=te,L=ne,M=ce,O=!1,ce&&(o.lineStart(),o.point(te,ne));else if(ce&&w)o.point(te,ne);else{var Q=[s=Math.max(d,Math.min(v,s)),E=Math.max(d,Math.min(v,E))],Z=[te=Math.max(d,Math.min(v,te)),ne=Math.max(d,Math.min(v,ne))];a(Q,Z,t,i,n,f)?(w||(o.lineStart(),o.point(Q[0],Q[1])),o.point(Z[0],Z[1]),ce||o.lineEnd(),_=!1):ce&&(o.lineStart(),o.point(te,ne),_=!1)}s=te,E=ne,w=ce}return U}}},32232:function(H,G,e){e.d(G,{c:function(){return C}});var g=e(41860),R=e(64528);function a(v,d,r,t){this.x=v,this.z=d,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function C(v,d,r,t,i){var n=[],f=[],u,l;if(v.forEach(function(p){if(!((b=p.length-1)<=0)){var b,T=p[0],P=p[b],x;if((0,g.c)(T,P)){if(!T[2]&&!P[2]){for(i.lineStart(),u=0;u<b;++u)i.point((T=p[u])[0],T[1]);i.lineEnd();return}P[0]+=2*R.Gg}n.push(x=new a(T,p,null,!0)),f.push(x.o=new a(T,null,x,!1)),n.push(x=new a(P,p,null,!1)),f.push(x.o=new a(P,null,x,!0))}}),!!n.length){for(f.sort(d),S(n),S(f),u=0,l=f.length;u<l;++u)f[u].e=r=!r;for(var m=n[0],c,A;;){for(var h=m,o=!0;h.v;)if((h=h.n)===m)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(o)for(u=0,l=c.length;u<l;++u)i.point((A=c[u])[0],A[1]);else t(h.x,h.n.x,1,i);h=h.n}else{if(o)for(c=h.p.z,u=c.length-1;u>=0;--u)i.point((A=c[u])[0],A[1]);else t(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,o=!o}while(!h.v);i.lineEnd()}}}function S(v){if(d=v.length){for(var d,r=0,t=v[0],i;++r<d;)t.n=i=v[r],i.p=t,t=i;t.n=i=v[0],i.p=t}}},68120:function(H,G,e){e.d(G,{c:function(){return g}});function g(R,a){function C(S,v){return S=R(S,v),a(S[0],S[1])}return R.invert&&a.invert&&(C.invert=function(S,v){return S=a.invert(S,v),S&&R.invert(S[0],S[1])}),C}},7376:function(H,G,e){e.d(G,{c:function(){return g}});function g(R){return R}},83356:function(H,G,e){e.r(G),e.d(G,{geoAlbers:function(){return yr},geoAlbersUsa:function(){return ot},geoArea:function(){return g.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return R.c},geoCentroid:function(){return a.c},geoCircle:function(){return C.c},geoClipAntimeridian:function(){return S.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return d.c},geoConicConformal:function(){return Zt},geoConicConformalRaw:function(){return hr},geoConicEqualArea:function(){return Qt},geoConicEqualAreaRaw:function(){return Kt},geoConicEquidistant:function(){return Ge},geoConicEquidistantRaw:function(){return je},geoContains:function(){return B},geoDistance:function(){return M},geoEqualEarth:function(){return vr},geoEqualEarthRaw:function(){return zt},geoEquirectangular:function(){return dr.c},geoEquirectangularRaw:function(){return dr.u},geoGnomonic:function(){return gr.c},geoGnomonicRaw:function(){return gr.Y},geoGraticule:function(){return q},geoGraticule10:function(){return te},geoIdentity:function(){return cr},geoInterpolate:function(){return ne.c},geoLength:function(){return P},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Ht},geoNaturalEarth1:function(){return Hr.c},geoNaturalEarth1Raw:function(){return Hr.g},geoOrthographic:function(){return Rr.c},geoOrthographicRaw:function(){return Rr.t},geoPath:function(){return Lt},geoProjection:function(){return Xt.c},geoProjectionMutator:function(){return Xt.U},geoRotation:function(){return Dt.c},geoStereographic:function(){return Zr},geoStereographicRaw:function(){return cn},geoStream:function(){return u.c},geoTransform:function(){return Ar.c},geoTransverseMercator:function(){return Sn},geoTransverseMercatorRaw:function(){return An}});var g=e(95384),R=e(13696),a=e(24052),C=e(61780),S=e(78284),v=e(2728),d=e(21676);function r(){var br=0,Or=0,jr=960,zr=500,pn,hn,Ln;return Ln={stream:function(Rn){return pn&&hn===Rn?pn:pn=(0,d.c)(br,Or,jr,zr)(hn=Rn)},extent:function(Rn){return arguments.length?(br=+Rn[0][0],Or=+Rn[0][1],jr=+Rn[1][0],zr=+Rn[1][1],pn=hn=null,Ln):[[br,Or],[jr,zr]]}}}var t=e(58196),i=e(88728),n=e(64528),f=e(70932),u=e(16016),l=(0,i.c)(),m,c,A,h={sphere:f.c,point:f.c,lineStart:o,lineEnd:f.c,polygonStart:f.c,polygonEnd:f.c};function o(){h.point=b,h.lineEnd=p}function p(){h.point=h.lineEnd=f.c}function b(br,Or){br*=n.qw,Or*=n.qw,m=br,c=(0,n.g$)(Or),A=(0,n.W8)(Or),h.point=T}function T(br,Or){br*=n.qw,Or*=n.qw;var jr=(0,n.g$)(Or),zr=(0,n.W8)(Or),pn=(0,n.a2)(br-m),hn=(0,n.W8)(pn),Ln=(0,n.g$)(pn),Rn=zr*Ln,Gn=A*jr-c*zr*hn,oa=c*jr+A*zr*hn;l.add((0,n.WE)((0,n._I)(Rn*Rn+Gn*Gn),oa)),m=br,c=jr,A=zr}function P(br){return l.reset(),(0,u.c)(br,h),+l}var x=[null,null],L={type:"LineString",coordinates:x};function M(br,Or){return x[0]=br,x[1]=Or,P(L)}var s={Feature:function(br,Or){return w(br.geometry,Or)},FeatureCollection:function(br,Or){for(var jr=br.features,zr=-1,pn=jr.length;++zr<pn;)if(w(jr[zr].geometry,Or))return!0;return!1}},E={Sphere:function(){return!0},Point:function(br,Or){return O(br.coordinates,Or)},MultiPoint:function(br,Or){for(var jr=br.coordinates,zr=-1,pn=jr.length;++zr<pn;)if(O(jr[zr],Or))return!0;return!1},LineString:function(br,Or){return _(br.coordinates,Or)},MultiLineString:function(br,Or){for(var jr=br.coordinates,zr=-1,pn=jr.length;++zr<pn;)if(_(jr[zr],Or))return!0;return!1},Polygon:function(br,Or){return U(br.coordinates,Or)},MultiPolygon:function(br,Or){for(var jr=br.coordinates,zr=-1,pn=jr.length;++zr<pn;)if(U(jr[zr],Or))return!0;return!1},GeometryCollection:function(br,Or){for(var jr=br.geometries,zr=-1,pn=jr.length;++zr<pn;)if(w(jr[zr],Or))return!0;return!1}};function w(br,Or){return br&&E.hasOwnProperty(br.type)?E[br.type](br,Or):!1}function O(br,Or){return M(br,Or)===0}function _(br,Or){for(var jr,zr,pn,hn=0,Ln=br.length;hn<Ln;hn++){if(zr=M(br[hn],Or),zr===0||hn>0&&(pn=M(br[hn],br[hn-1]),pn>0&&jr<=pn&&zr<=pn&&(jr+zr-pn)*(1-Math.pow((jr-zr)/pn,2))<n.a8*pn))return!0;jr=zr}return!1}function U(br,Or){return!!(0,t.c)(br.map(z),F(Or))}function z(br){return br=br.map(F),br.pop(),br}function F(br){return[br[0]*n.qw,br[1]*n.qw]}function B(br,Or){return(br&&s.hasOwnProperty(br.type)?s[br.type]:w)(br,Or)}var N=e(84706);function V(br,Or,jr){var zr=(0,N.ik)(br,Or-n.Gg,jr).concat(Or);return function(pn){return zr.map(function(hn){return[pn,hn]})}}function X(br,Or,jr){var zr=(0,N.ik)(br,Or-n.Gg,jr).concat(Or);return function(pn){return zr.map(function(hn){return[hn,pn]})}}function q(){var br,Or,jr,zr,pn,hn,Ln,Rn,Gn=10,oa=Gn,xa=90,Ta=360,da,Hn,mr,$r,Qr=2.5;function vn(){return{type:"MultiLineString",coordinates:zn()}}function zn(){return(0,N.ik)((0,n.Km)(zr/xa)*xa,jr,xa).map(mr).concat((0,N.ik)((0,n.Km)(Rn/Ta)*Ta,Ln,Ta).map($r)).concat((0,N.ik)((0,n.Km)(Or/Gn)*Gn,br,Gn).filter(function(bn){return(0,n.a2)(bn%xa)>n.Gg}).map(da)).concat((0,N.ik)((0,n.Km)(hn/oa)*oa,pn,oa).filter(function(bn){return(0,n.a2)(bn%Ta)>n.Gg}).map(Hn))}return vn.lines=function(){return zn().map(function(bn){return{type:"LineString",coordinates:bn}})},vn.outline=function(){return{type:"Polygon",coordinates:[mr(zr).concat($r(Ln).slice(1),mr(jr).reverse().slice(1),$r(Rn).reverse().slice(1))]}},vn.extent=function(bn){return arguments.length?vn.extentMajor(bn).extentMinor(bn):vn.extentMinor()},vn.extentMajor=function(bn){return arguments.length?(zr=+bn[0][0],jr=+bn[1][0],Rn=+bn[0][1],Ln=+bn[1][1],zr>jr&&(bn=zr,zr=jr,jr=bn),Rn>Ln&&(bn=Rn,Rn=Ln,Ln=bn),vn.precision(Qr)):[[zr,Rn],[jr,Ln]]},vn.extentMinor=function(bn){return arguments.length?(Or=+bn[0][0],br=+bn[1][0],hn=+bn[0][1],pn=+bn[1][1],Or>br&&(bn=Or,Or=br,br=bn),hn>pn&&(bn=hn,hn=pn,pn=bn),vn.precision(Qr)):[[Or,hn],[br,pn]]},vn.step=function(bn){return arguments.length?vn.stepMajor(bn).stepMinor(bn):vn.stepMinor()},vn.stepMajor=function(bn){return arguments.length?(xa=+bn[0],Ta=+bn[1],vn):[xa,Ta]},vn.stepMinor=function(bn){return arguments.length?(Gn=+bn[0],oa=+bn[1],vn):[Gn,oa]},vn.precision=function(bn){return arguments.length?(Qr=+bn,da=V(hn,pn,90),Hn=X(Or,br,Qr),mr=V(Rn,Ln,90),$r=X(zr,jr,Qr),vn):Qr},vn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function te(){return q()()}var ne=e(27284),ce=e(7376),Q=(0,i.c)(),Z=(0,i.c)(),re,Y,oe,ue,K={point:f.c,lineStart:f.c,lineEnd:f.c,polygonStart:function(){K.lineStart=$,K.lineEnd=he},polygonEnd:function(){K.lineStart=K.lineEnd=K.point=f.c,Q.add((0,n.a2)(Z)),Z.reset()},result:function(){var br=Q/2;return Q.reset(),br}};function $(){K.point=le}function le(br,Or){K.point=ae,re=oe=br,Y=ue=Or}function ae(br,Or){Z.add(ue*br-oe*Or),oe=br,ue=Or}function he(){ae(re,Y)}var xe=K,Me=e(73784),Ae=0,ke=0,we=0,Ee=0,be=0,Le=0,Ue=0,Ve=0,Fe=0,He,st,vt,lt,et={point:ct,lineStart:ht,lineEnd:Mt,polygonStart:function(){et.lineStart=tt,et.lineEnd=Oe},polygonEnd:function(){et.point=ct,et.lineStart=ht,et.lineEnd=Mt},result:function(){var br=Fe?[Ue/Fe,Ve/Fe]:Le?[Ee/Le,be/Le]:we?[Ae/we,ke/we]:[NaN,NaN];return Ae=ke=we=Ee=be=Le=Ue=Ve=Fe=0,br}};function ct(br,Or){Ae+=br,ke+=Or,++we}function ht(){et.point=mt}function mt(br,Or){et.point=xt,ct(vt=br,lt=Or)}function xt(br,Or){var jr=br-vt,zr=Or-lt,pn=(0,n._I)(jr*jr+zr*zr);Ee+=pn*(vt+br)/2,be+=pn*(lt+Or)/2,Le+=pn,ct(vt=br,lt=Or)}function Mt(){et.point=ct}function tt(){et.point=Ye}function Oe(){Ze(He,st)}function Ye(br,Or){et.point=Ze,ct(He=vt=br,st=lt=Or)}function Ze(br,Or){var jr=br-vt,zr=Or-lt,pn=(0,n._I)(jr*jr+zr*zr);Ee+=pn*(vt+br)/2,be+=pn*(lt+Or)/2,Le+=pn,pn=lt*br-vt*Or,Ue+=pn*(vt+br),Ve+=pn*(lt+Or),Fe+=pn*3,ct(vt=br,lt=Or)}var We=et;function _e(br){this._context=br}_e.prototype={_radius:4.5,pointRadius:function(br){return this._radius=br,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(br,Or){switch(this._point){case 0:{this._context.moveTo(br,Or),this._point=1;break}case 1:{this._context.lineTo(br,Or);break}default:{this._context.moveTo(br+this._radius,Or),this._context.arc(br,Or,this._radius,0,n.kD);break}}},result:f.c};var Ie=(0,i.c)(),Xe,De,de,Te,Be,Qe={point:f.c,lineStart:function(){Qe.point=at},lineEnd:function(){Xe&&it(De,de),Qe.point=f.c},polygonStart:function(){Xe=!0},polygonEnd:function(){Xe=null},result:function(){var br=+Ie;return Ie.reset(),br}};function at(br,Or){Qe.point=it,De=Te=br,de=Be=Or}function it(br,Or){Te-=br,Be-=Or,Ie.add((0,n._I)(Te*Te+Be*Be)),Te=br,Be=Or}var Wt=Qe;function Yt(){this._string=[]}Yt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(br){return(br=+br)!==this._radius&&(this._radius=br,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(br,Or){switch(this._point){case 0:{this._string.push("M",br,",",Or),this._point=1;break}case 1:{this._string.push("L",br,",",Or);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",br,",",Or,this._circle);break}}},result:function(){if(this._string.length){var br=this._string.join("");return this._string=[],br}else return null}};function Tt(br){return"m0,"+br+"a"+br+","+br+" 0 1,1 0,"+-2*br+"a"+br+","+br+" 0 1,1 0,"+2*br+"z"}function Lt(br,Or){var jr=4.5,zr,pn;function hn(Ln){return Ln&&(typeof jr=="function"&&pn.pointRadius(+jr.apply(this,arguments)),(0,u.c)(Ln,zr(pn))),pn.result()}return hn.area=function(Ln){return(0,u.c)(Ln,zr(xe)),xe.result()},hn.measure=function(Ln){return(0,u.c)(Ln,zr(Wt)),Wt.result()},hn.bounds=function(Ln){return(0,u.c)(Ln,zr(Me.c)),Me.c.result()},hn.centroid=function(Ln){return(0,u.c)(Ln,zr(We)),We.result()},hn.projection=function(Ln){return arguments.length?(zr=Ln==null?(br=null,ce.c):(br=Ln).stream,hn):br},hn.context=function(Ln){return arguments.length?(pn=Ln==null?(Or=null,new Yt):new _e(Or=Ln),typeof jr!="function"&&pn.pointRadius(jr),hn):Or},hn.pointRadius=function(Ln){return arguments.length?(jr=typeof Ln=="function"?Ln:(pn.pointRadius(+Ln),+Ln),hn):jr},hn.projection(br).context(Or)}var Xt=e(87952);function Tr(br){var Or=0,jr=n.pi/3,zr=(0,Xt.U)(br),pn=zr(Or,jr);return pn.parallels=function(hn){return arguments.length?zr(Or=hn[0]*n.qw,jr=hn[1]*n.qw):[Or*n.oh,jr*n.oh]},pn}function gt(br){var Or=(0,n.W8)(br);function jr(zr,pn){return[zr*Or,(0,n.g$)(pn)/Or]}return jr.invert=function(zr,pn){return[zr/Or,(0,n.qR)(pn*Or)]},jr}function Kt(br,Or){var jr=(0,n.g$)(br),zr=(jr+(0,n.g$)(Or))/2;if((0,n.a2)(zr)<n.Gg)return gt(br);var pn=1+jr*(2*zr-jr),hn=(0,n._I)(pn)/zr;function Ln(Rn,Gn){var oa=(0,n._I)(pn-2*zr*(0,n.g$)(Gn))/zr;return[oa*(0,n.g$)(Rn*=zr),hn-oa*(0,n.W8)(Rn)]}return Ln.invert=function(Rn,Gn){var oa=hn-Gn,xa=(0,n.WE)(Rn,(0,n.a2)(oa))*(0,n.kq)(oa);return oa*zr<0&&(xa-=n.pi*(0,n.kq)(Rn)*(0,n.kq)(oa)),[xa/zr,(0,n.qR)((pn-(Rn*Rn+oa*oa)*zr*zr)/(2*zr))]},Ln}function Qt(){return Tr(Kt).scale(155.424).center([0,33.6442])}function yr(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var fr=e(86420);function yt(br){var Or=br.length;return{point:function(jr,zr){for(var pn=-1;++pn<Or;)br[pn].point(jr,zr)},sphere:function(){for(var jr=-1;++jr<Or;)br[jr].sphere()},lineStart:function(){for(var jr=-1;++jr<Or;)br[jr].lineStart()},lineEnd:function(){for(var jr=-1;++jr<Or;)br[jr].lineEnd()},polygonStart:function(){for(var jr=-1;++jr<Or;)br[jr].polygonStart()},polygonEnd:function(){for(var jr=-1;++jr<Or;)br[jr].polygonEnd()}}}function ot(){var br,Or,jr=yr(),zr,pn=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hn,Ln=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Rn,Gn,oa={point:function(da,Hn){Gn=[da,Hn]}};function xa(da){var Hn=da[0],mr=da[1];return Gn=null,zr.point(Hn,mr),Gn||(hn.point(Hn,mr),Gn)||(Rn.point(Hn,mr),Gn)}xa.invert=function(da){var Hn=jr.scale(),mr=jr.translate(),$r=(da[0]-mr[0])/Hn,Qr=(da[1]-mr[1])/Hn;return(Qr>=.12&&Qr<.234&&$r>=-.425&&$r<-.214?pn:Qr>=.166&&Qr<.234&&$r>=-.214&&$r<-.115?Ln:jr).invert(da)},xa.stream=function(da){return br&&Or===da?br:br=yt([jr.stream(Or=da),pn.stream(da),Ln.stream(da)])},xa.precision=function(da){return arguments.length?(jr.precision(da),pn.precision(da),Ln.precision(da),Ta()):jr.precision()},xa.scale=function(da){return arguments.length?(jr.scale(da),pn.scale(da*.35),Ln.scale(da),xa.translate(jr.translate())):jr.scale()},xa.translate=function(da){if(!arguments.length)return jr.translate();var Hn=jr.scale(),mr=+da[0],$r=+da[1];return zr=jr.translate(da).clipExtent([[mr-.455*Hn,$r-.238*Hn],[mr+.455*Hn,$r+.238*Hn]]).stream(oa),hn=pn.translate([mr-.307*Hn,$r+.201*Hn]).clipExtent([[mr-.425*Hn+n.Gg,$r+.12*Hn+n.Gg],[mr-.214*Hn-n.Gg,$r+.234*Hn-n.Gg]]).stream(oa),Rn=Ln.translate([mr-.205*Hn,$r+.212*Hn]).clipExtent([[mr-.214*Hn+n.Gg,$r+.166*Hn+n.Gg],[mr-.115*Hn-n.Gg,$r+.234*Hn-n.Gg]]).stream(oa),Ta()},xa.fitExtent=function(da,Hn){return(0,fr.QX)(xa,da,Hn)},xa.fitSize=function(da,Hn){return(0,fr.UV)(xa,da,Hn)},xa.fitWidth=function(da,Hn){return(0,fr.Qx)(xa,da,Hn)},xa.fitHeight=function(da,Hn){return(0,fr.OW)(xa,da,Hn)};function Ta(){return br=Or=null,xa}return xa.scale(1070)}var bt=e(54724),Et=e(69020),Dt=e(92992);function Ht(br,Or){return[br,(0,n.Yz)((0,n.a6)((n.or+Or)/2))]}Ht.invert=function(br,Or){return[br,2*(0,n.MQ)((0,n.oN)(Or))-n.or]};function Bt(){return Nt(Ht).scale(961/n.kD)}function Nt(br){var Or=(0,Xt.c)(br),jr=Or.center,zr=Or.scale,pn=Or.translate,hn=Or.clipExtent,Ln=null,Rn,Gn,oa;Or.scale=function(Ta){return arguments.length?(zr(Ta),xa()):zr()},Or.translate=function(Ta){return arguments.length?(pn(Ta),xa()):pn()},Or.center=function(Ta){return arguments.length?(jr(Ta),xa()):jr()},Or.clipExtent=function(Ta){return arguments.length?(Ta==null?Ln=Rn=Gn=oa=null:(Ln=+Ta[0][0],Rn=+Ta[0][1],Gn=+Ta[1][0],oa=+Ta[1][1]),xa()):Ln==null?null:[[Ln,Rn],[Gn,oa]]};function xa(){var Ta=n.pi*zr(),da=Or((0,Dt.c)(Or.rotate()).invert([0,0]));return hn(Ln==null?[[da[0]-Ta,da[1]-Ta],[da[0]+Ta,da[1]+Ta]]:br===Ht?[[Math.max(da[0]-Ta,Ln),Rn],[Math.min(da[0]+Ta,Gn),oa]]:[[Ln,Math.max(da[1]-Ta,Rn)],[Gn,Math.min(da[1]+Ta,oa)]])}return xa()}function Jt(br){return(0,n.a6)((n.or+br)/2)}function hr(br,Or){var jr=(0,n.W8)(br),zr=br===Or?(0,n.g$)(br):(0,n.Yz)(jr/(0,n.W8)(Or))/(0,n.Yz)(Jt(Or)/Jt(br)),pn=jr*(0,n.g3)(Jt(br),zr)/zr;if(!zr)return Ht;function hn(Ln,Rn){pn>0?Rn<-n.or+n.Gg&&(Rn=-n.or+n.Gg):Rn>n.or-n.Gg&&(Rn=n.or-n.Gg);var Gn=pn/(0,n.g3)(Jt(Rn),zr);return[Gn*(0,n.g$)(zr*Ln),pn-Gn*(0,n.W8)(zr*Ln)]}return hn.invert=function(Ln,Rn){var Gn=pn-Rn,oa=(0,n.kq)(zr)*(0,n._I)(Ln*Ln+Gn*Gn),xa=(0,n.WE)(Ln,(0,n.a2)(Gn))*(0,n.kq)(Gn);return Gn*zr<0&&(xa-=n.pi*(0,n.kq)(Ln)*(0,n.kq)(Gn)),[xa/zr,2*(0,n.MQ)((0,n.g3)(pn/oa,1/zr))-n.or]},hn}function Zt(){return Tr(hr).scale(109.5).parallels([30,30])}var dr=e(69604);function je(br,Or){var jr=(0,n.W8)(br),zr=br===Or?(0,n.g$)(br):(jr-(0,n.W8)(Or))/(Or-br),pn=jr/zr+br;if((0,n.a2)(zr)<n.Gg)return dr.u;function hn(Ln,Rn){var Gn=pn-Rn,oa=zr*Ln;return[Gn*(0,n.g$)(oa),pn-Gn*(0,n.W8)(oa)]}return hn.invert=function(Ln,Rn){var Gn=pn-Rn,oa=(0,n.WE)(Ln,(0,n.a2)(Gn))*(0,n.kq)(Gn);return Gn*zr<0&&(oa-=n.pi*(0,n.kq)(Ln)*(0,n.kq)(Gn)),[oa/zr,pn-(0,n.kq)(zr)*(0,n._I)(Ln*Ln+Gn*Gn)]},hn}function Ge(){return Tr(je).scale(131.154).center([0,13.9389])}var Ot=1.340264,kt=-.081106,$t=893e-6,ar=.003796,or=(0,n._I)(3)/2,rr=12;function zt(br,Or){var jr=(0,n.qR)(or*(0,n.g$)(Or)),zr=jr*jr,pn=zr*zr*zr;return[br*(0,n.W8)(jr)/(or*(Ot+3*kt*zr+pn*(7*$t+9*ar*zr))),jr*(Ot+kt*zr+pn*($t+ar*zr))]}zt.invert=function(br,Or){for(var jr=Or,zr=jr*jr,pn=zr*zr*zr,hn=0,Ln,Rn,Gn;hn<rr&&(Rn=jr*(Ot+kt*zr+pn*($t+ar*zr))-Or,Gn=Ot+3*kt*zr+pn*(7*$t+9*ar*zr),jr-=Ln=Rn/Gn,zr=jr*jr,pn=zr*zr*zr,!((0,n.a2)(Ln)<n.a8));++hn);return[or*br*(Ot+3*kt*zr+pn*(7*$t+9*ar*zr))/(0,n.W8)(jr),(0,n.qR)((0,n.g$)(jr)/or)]};function vr(){return(0,Xt.c)(zt).scale(177.158)}var gr=e(53285),Ar=e(15196);function cr(){var br=1,Or=0,jr=0,zr=1,pn=1,hn=0,Ln,Rn,Gn=null,oa,xa,Ta,da=1,Hn=1,mr=(0,Ar.s)({point:function(wn,Bn){var $n=bn([wn,Bn]);this.stream.point($n[0],$n[1])}}),$r=ce.c,Qr,vn;function zn(){return da=br*zr,Hn=br*pn,Qr=vn=null,bn}function bn(wn){var Bn=wn[0]*da,$n=wn[1]*Hn;if(hn){var pa=$n*Ln-Bn*Rn;Bn=Bn*Ln+$n*Rn,$n=pa}return[Bn+Or,$n+jr]}return bn.invert=function(wn){var Bn=wn[0]-Or,$n=wn[1]-jr;if(hn){var pa=$n*Ln+Bn*Rn;Bn=Bn*Ln-$n*Rn,$n=pa}return[Bn/da,$n/Hn]},bn.stream=function(wn){return Qr&&vn===wn?Qr:Qr=mr($r(vn=wn))},bn.postclip=function(wn){return arguments.length?($r=wn,Gn=oa=xa=Ta=null,zn()):$r},bn.clipExtent=function(wn){return arguments.length?($r=wn==null?(Gn=oa=xa=Ta=null,ce.c):(0,d.c)(Gn=+wn[0][0],oa=+wn[0][1],xa=+wn[1][0],Ta=+wn[1][1]),zn()):Gn==null?null:[[Gn,oa],[xa,Ta]]},bn.scale=function(wn){return arguments.length?(br=+wn,zn()):br},bn.translate=function(wn){return arguments.length?(Or=+wn[0],jr=+wn[1],zn()):[Or,jr]},bn.angle=function(wn){return arguments.length?(hn=wn%360*n.qw,Rn=(0,n.g$)(hn),Ln=(0,n.W8)(hn),zn()):hn*n.oh},bn.reflectX=function(wn){return arguments.length?(zr=wn?-1:1,zn()):zr<0},bn.reflectY=function(wn){return arguments.length?(pn=wn?-1:1,zn()):pn<0},bn.fitExtent=function(wn,Bn){return(0,fr.QX)(bn,wn,Bn)},bn.fitSize=function(wn,Bn){return(0,fr.UV)(bn,wn,Bn)},bn.fitWidth=function(wn,Bn){return(0,fr.Qx)(bn,wn,Bn)},bn.fitHeight=function(wn,Bn){return(0,fr.OW)(bn,wn,Bn)},bn}var Hr=e(47984),Rr=e(4888),Ir=e(62280);function cn(br,Or){var jr=(0,n.W8)(Or),zr=1+(0,n.W8)(br)*jr;return[jr*(0,n.g$)(br)/zr,(0,n.g$)(Or)/zr]}cn.invert=(0,Ir.g)(function(br){return 2*(0,n.MQ)(br)});function Zr(){return(0,Xt.c)(cn).scale(250).clipAngle(142)}function An(br,Or){return[(0,n.Yz)((0,n.a6)((n.or+Or)/2)),-br]}An.invert=function(br,Or){return[-Or,2*(0,n.MQ)((0,n.oN)(br))-n.or]};function Sn(){var br=Nt(An),Or=br.center,jr=br.rotate;return br.center=function(zr){return arguments.length?Or([-zr[1],zr[0]]):(zr=Or(),[zr[1],-zr[0]])},br.rotate=function(zr){return arguments.length?jr([zr[0],zr[1],zr.length>2?zr[2]+90:90]):(zr=jr(),[zr[0],zr[1],zr[2]-90])},jr([0,0,90]).scale(159.155)}},27284:function(H,G,e){e.d(G,{c:function(){return R}});var g=e(64528);function R(a,C){var S=a[0]*g.qw,v=a[1]*g.qw,d=C[0]*g.qw,r=C[1]*g.qw,t=(0,g.W8)(v),i=(0,g.g$)(v),n=(0,g.W8)(r),f=(0,g.g$)(r),u=t*(0,g.W8)(S),l=t*(0,g.g$)(S),m=n*(0,g.W8)(d),c=n*(0,g.g$)(d),A=2*(0,g.qR)((0,g._I)((0,g.SD)(r-v)+t*n*(0,g.SD)(d-S))),h=(0,g.g$)(A),o=A?function(p){var b=(0,g.g$)(p*=A)/h,T=(0,g.g$)(A-p)/h,P=T*u+b*m,x=T*l+b*c,L=T*i+b*f;return[(0,g.WE)(x,P)*g.oh,(0,g.WE)(L,(0,g._I)(P*P+x*x))*g.oh]}:function(){return[S*g.oh,v*g.oh]};return o.distance=A,o}},64528:function(H,G,e){e.d(G,{Gg:function(){return g},Km:function(){return u},MQ:function(){return i},SD:function(){return P},W8:function(){return f},WE:function(){return n},Yz:function(){return m},_I:function(){return o},a2:function(){return t},a6:function(){return p},a8:function(){return R},g$:function(){return A},g3:function(){return c},kD:function(){return v},kq:function(){return h},mE:function(){return b},oN:function(){return l},oh:function(){return d},or:function(){return C},pi:function(){return a},qR:function(){return T},qw:function(){return r},wL:function(){return S}});var g=1e-6,R=1e-12,a=Math.PI,C=a/2,S=a/4,v=a*2,d=180/a,r=a/180,t=Math.abs,i=Math.atan,n=Math.atan2,f=Math.cos,u=Math.ceil,l=Math.exp,m=Math.log,c=Math.pow,A=Math.sin,h=Math.sign||function(x){return x>0?1:x<0?-1:0},o=Math.sqrt,p=Math.tan;function b(x){return x>1?0:x<-1?a:Math.acos(x)}function T(x){return x>1?C:x<-1?-C:Math.asin(x)}function P(x){return(x=A(x/2))*x}},70932:function(H,G,e){e.d(G,{c:function(){return g}});function g(){}},73784:function(H,G,e){var g=e(70932),R=1/0,a=R,C=-R,S=C,v={point:d,lineStart:g.c,lineEnd:g.c,polygonStart:g.c,polygonEnd:g.c,result:function(){var r=[[R,a],[C,S]];return C=S=-(a=R=1/0),r}};function d(r,t){r<R&&(R=r),r>C&&(C=r),t<a&&(a=t),t>S&&(S=t)}G.c=v},41860:function(H,G,e){e.d(G,{c:function(){return R}});var g=e(64528);function R(a,C){return(0,g.a2)(a[0]-C[0])<g.Gg&&(0,g.a2)(a[1]-C[1])<g.Gg}},58196:function(H,G,e){e.d(G,{c:function(){return v}});var g=e(88728),R=e(84220),a=e(64528),C=(0,g.c)();function S(d){return(0,a.a2)(d[0])<=a.pi?d[0]:(0,a.kq)(d[0])*(((0,a.a2)(d[0])+a.pi)%a.kD-a.pi)}function v(d,r){var t=S(r),i=r[1],n=(0,a.g$)(i),f=[(0,a.g$)(t),-(0,a.W8)(t),0],u=0,l=0;C.reset(),n===1?i=a.or+a.Gg:n===-1&&(i=-a.or-a.Gg);for(var m=0,c=d.length;m<c;++m)if(h=(A=d[m]).length)for(var A,h,o=A[h-1],p=S(o),b=o[1]/2+a.wL,T=(0,a.g$)(b),P=(0,a.W8)(b),x=0;x<h;++x,p=M,T=E,P=w,o=L){var L=A[x],M=S(L),s=L[1]/2+a.wL,E=(0,a.g$)(s),w=(0,a.W8)(s),O=M-p,_=O>=0?1:-1,U=_*O,z=U>a.pi,F=T*E;if(C.add((0,a.WE)(F*_*(0,a.g$)(U),P*w+F*(0,a.W8)(U))),u+=z?O+_*a.kD:O,z^p>=t^M>=t){var B=(0,R.CW)((0,R.ux)(o),(0,R.ux)(L));(0,R.cJ)(B);var N=(0,R.CW)(f,B);(0,R.cJ)(N);var V=(z^O>=0?-1:1)*(0,a.qR)(N[2]);(i>V||i===V&&(B[0]||B[1]))&&(l+=z^O>=0?1:-1)}}return(u<-a.Gg||u<a.Gg&&C<-a.Gg)^l&1}},62280:function(H,G,e){e.d(G,{a:function(){return R},g:function(){return a}});var g=e(64528);function R(C){return function(S,v){var d=(0,g.W8)(S),r=(0,g.W8)(v),t=C(d*r);return[t*r*(0,g.g$)(S),t*(0,g.g$)(v)]}}function a(C){return function(S,v){var d=(0,g._I)(S*S+v*v),r=C(d),t=(0,g.g$)(r),i=(0,g.W8)(r);return[(0,g.WE)(S*t,d*i),(0,g.qR)(d&&v*t/d)]}}},54724:function(H,G,e){e.d(G,{c:function(){return S},y:function(){return C}});var g=e(64528),R=e(62280),a=e(87952),C=(0,R.a)(function(v){return(0,g._I)(2/(1+v))});C.invert=(0,R.g)(function(v){return 2*(0,g.qR)(v/2)});function S(){return(0,a.c)(C).scale(124.75).clipAngle(179.999)}},69020:function(H,G,e){e.d(G,{O:function(){return C},c:function(){return S}});var g=e(64528),R=e(62280),a=e(87952),C=(0,R.a)(function(v){return(v=(0,g.mE)(v))&&v/(0,g.g$)(v)});C.invert=(0,R.g)(function(v){return v});function S(){return(0,a.c)(C).scale(79.4188).clipAngle(179.999)}},69604:function(H,G,e){e.d(G,{c:function(){return a},u:function(){return R}});var g=e(87952);function R(C,S){return[C,S]}R.invert=R;function a(){return(0,g.c)(R).scale(152.63)}},86420:function(H,G,e){e.d(G,{OW:function(){return d},QX:function(){return C},Qx:function(){return v},UV:function(){return S}});var g=e(16016),R=e(73784);function a(r,t,i){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,g.c)(i,r.stream(R.c)),t(R.c.result()),n!=null&&r.clipExtent(n),r}function C(r,t,i){return a(r,function(n){var f=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(f/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),m=+t[0][0]+(f-l*(n[1][0]+n[0][0]))/2,c=+t[0][1]+(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([m,c])},i)}function S(r,t,i){return C(r,[[0,0],t],i)}function v(r,t,i){return a(r,function(n){var f=+t,u=f/(n[1][0]-n[0][0]),l=(f-u*(n[1][0]+n[0][0]))/2,m=-u*n[0][1];r.scale(150*u).translate([l,m])},i)}function d(r,t,i){return a(r,function(n){var f=+t,u=f/(n[1][1]-n[0][1]),l=-u*n[0][0],m=(f-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([l,m])},i)}},53285:function(H,G,e){e.d(G,{Y:function(){return C},c:function(){return S}});var g=e(64528),R=e(62280),a=e(87952);function C(v,d){var r=(0,g.W8)(d),t=(0,g.W8)(v)*r;return[r*(0,g.g$)(v)/t,(0,g.g$)(d)/t]}C.invert=(0,R.g)(g.MQ);function S(){return(0,a.c)(C).scale(144.049).clipAngle(60)}},87952:function(H,G,e){e.d(G,{c:function(){return p},U:function(){return b}});var g=e(78284),R=e(2728),a=e(21676),C=e(68120),S=e(7376),v=e(64528),d=e(92992),r=e(15196),t=e(86420),i=e(84220),n=16,f=(0,v.W8)(30*v.qw);function u(T,P){return+P?m(T,P):l(T)}function l(T){return(0,r.s)({point:function(P,x){P=T(P,x),this.stream.point(P[0],P[1])}})}function m(T,P){function x(L,M,s,E,w,O,_,U,z,F,B,N,V,X){var q=_-L,te=U-M,ne=q*q+te*te;if(ne>4*P&&V--){var ce=E+F,Q=w+B,Z=O+N,re=(0,v._I)(ce*ce+Q*Q+Z*Z),Y=(0,v.qR)(Z/=re),oe=(0,v.a2)((0,v.a2)(Z)-1)<v.Gg||(0,v.a2)(s-z)<v.Gg?(s+z)/2:(0,v.WE)(Q,ce),ue=T(oe,Y),K=ue[0],$=ue[1],le=K-L,ae=$-M,he=te*le-q*ae;(he*he/ne>P||(0,v.a2)((q*le+te*ae)/ne-.5)>.3||E*F+w*B+O*N<f)&&(x(L,M,s,E,w,O,K,$,oe,ce/=re,Q/=re,Z,V,X),X.point(K,$),x(K,$,oe,ce,Q,Z,_,U,z,F,B,N,V,X))}}return function(L){var M,s,E,w,O,_,U,z,F,B,N,V,X={point:q,lineStart:te,lineEnd:ce,polygonStart:function(){L.polygonStart(),X.lineStart=Q},polygonEnd:function(){L.polygonEnd(),X.lineStart=te}};function q(Y,oe){Y=T(Y,oe),L.point(Y[0],Y[1])}function te(){z=NaN,X.point=ne,L.lineStart()}function ne(Y,oe){var ue=(0,i.ux)([Y,oe]),K=T(Y,oe);x(z,F,U,B,N,V,z=K[0],F=K[1],U=Y,B=ue[0],N=ue[1],V=ue[2],n,L),L.point(z,F)}function ce(){X.point=q,L.lineEnd()}function Q(){te(),X.point=Z,X.lineEnd=re}function Z(Y,oe){ne(M=Y,oe),s=z,E=F,w=B,O=N,_=V,X.point=ne}function re(){x(z,F,U,B,N,V,s,E,M,w,O,_,n,L),X.lineEnd=ce,ce()}return X}}var c=(0,r.s)({point:function(T,P){this.stream.point(T*v.qw,P*v.qw)}});function A(T){return(0,r.s)({point:function(P,x){var L=T(P,x);return this.stream.point(L[0],L[1])}})}function h(T,P,x,L,M){function s(E,w){return E*=L,w*=M,[P+T*E,x-T*w]}return s.invert=function(E,w){return[(E-P)/T*L,(x-w)/T*M]},s}function o(T,P,x,L,M,s){var E=(0,v.W8)(s),w=(0,v.g$)(s),O=E*T,_=w*T,U=E/T,z=w/T,F=(w*x-E*P)/T,B=(w*P+E*x)/T;function N(V,X){return V*=L,X*=M,[O*V-_*X+P,x-_*V-O*X]}return N.invert=function(V,X){return[L*(U*V-z*X+F),M*(B-z*V-U*X)]},N}function p(T){return b(function(){return T})()}function b(T){var P,x=150,L=480,M=250,s=0,E=0,w=0,O=0,_=0,U,z=0,F=1,B=1,N=null,V=g.c,X=null,q,te,ne,ce=S.c,Q=.5,Z,re,Y,oe,ue;function K(he){return Y(he[0]*v.qw,he[1]*v.qw)}function $(he){return he=Y.invert(he[0],he[1]),he&&[he[0]*v.oh,he[1]*v.oh]}K.stream=function(he){return oe&&ue===he?oe:oe=c(A(U)(V(Z(ce(ue=he)))))},K.preclip=function(he){return arguments.length?(V=he,N=void 0,ae()):V},K.postclip=function(he){return arguments.length?(ce=he,X=q=te=ne=null,ae()):ce},K.clipAngle=function(he){return arguments.length?(V=+he?(0,R.c)(N=he*v.qw):(N=null,g.c),ae()):N*v.oh},K.clipExtent=function(he){return arguments.length?(ce=he==null?(X=q=te=ne=null,S.c):(0,a.c)(X=+he[0][0],q=+he[0][1],te=+he[1][0],ne=+he[1][1]),ae()):X==null?null:[[X,q],[te,ne]]},K.scale=function(he){return arguments.length?(x=+he,le()):x},K.translate=function(he){return arguments.length?(L=+he[0],M=+he[1],le()):[L,M]},K.center=function(he){return arguments.length?(s=he[0]%360*v.qw,E=he[1]%360*v.qw,le()):[s*v.oh,E*v.oh]},K.rotate=function(he){return arguments.length?(w=he[0]%360*v.qw,O=he[1]%360*v.qw,_=he.length>2?he[2]%360*v.qw:0,le()):[w*v.oh,O*v.oh,_*v.oh]},K.angle=function(he){return arguments.length?(z=he%360*v.qw,le()):z*v.oh},K.reflectX=function(he){return arguments.length?(F=he?-1:1,le()):F<0},K.reflectY=function(he){return arguments.length?(B=he?-1:1,le()):B<0},K.precision=function(he){return arguments.length?(Z=u(re,Q=he*he),ae()):(0,v._I)(Q)},K.fitExtent=function(he,xe){return(0,t.QX)(K,he,xe)},K.fitSize=function(he,xe){return(0,t.UV)(K,he,xe)},K.fitWidth=function(he,xe){return(0,t.Qx)(K,he,xe)},K.fitHeight=function(he,xe){return(0,t.OW)(K,he,xe)};function le(){var he=o(x,0,0,F,B,z).apply(null,P(s,E)),xe=(z?o:h)(x,L-he[0],M-he[1],F,B,z);return U=(0,d.O)(w,O,_),re=(0,C.c)(P,xe),Y=(0,C.c)(U,re),Z=u(re,Q),ae()}function ae(){return oe=ue=null,K}return function(){return P=T.apply(this,arguments),K.invert=P.invert&&$,le()}}},47984:function(H,G,e){e.d(G,{c:function(){return C},g:function(){return a}});var g=e(87952),R=e(64528);function a(S,v){var d=v*v,r=d*d;return[S*(.8707-.131979*d+r*(-.013791+r*(.003971*d-.001529*r))),v*(1.007226+d*(.015085+r*(-.044475+.028874*d-.005916*r)))]}a.invert=function(S,v){var d=v,r=25,t;do{var i=d*d,n=i*i;d-=t=(d*(1.007226+i*(.015085+n*(-.044475+.028874*i-.005916*n)))-v)/(1.007226+i*(.045255+n*(-.311325+.259866*i-.06507600000000001*n)))}while((0,R.a2)(t)>R.Gg&&--r>0);return[S/(.8707+(i=d*d)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),d]};function C(){return(0,g.c)(a).scale(175.295)}},4888:function(H,G,e){e.d(G,{c:function(){return S},t:function(){return C}});var g=e(64528),R=e(62280),a=e(87952);function C(v,d){return[(0,g.W8)(d)*(0,g.g$)(v),(0,g.g$)(d)]}C.invert=(0,R.g)(g.qR);function S(){return(0,a.c)(C).scale(249.5).clipAngle(90+g.Gg)}},92992:function(H,G,e){e.d(G,{O:function(){return C},c:function(){return r}});var g=e(68120),R=e(64528);function a(t,i){return[(0,R.a2)(t)>R.pi?t+Math.round(-t/R.kD)*R.kD:t,i]}a.invert=a;function C(t,i,n){return(t%=R.kD)?i||n?(0,g.c)(v(t),d(i,n)):v(t):i||n?d(i,n):a}function S(t){return function(i,n){return i+=t,[i>R.pi?i-R.kD:i<-R.pi?i+R.kD:i,n]}}function v(t){var i=S(t);return i.invert=S(-t),i}function d(t,i){var n=(0,R.W8)(t),f=(0,R.g$)(t),u=(0,R.W8)(i),l=(0,R.g$)(i);function m(c,A){var h=(0,R.W8)(A),o=(0,R.W8)(c)*h,p=(0,R.g$)(c)*h,b=(0,R.g$)(A),T=b*n+o*f;return[(0,R.WE)(p*u-T*l,o*n-b*f),(0,R.qR)(T*u+p*l)]}return m.invert=function(c,A){var h=(0,R.W8)(A),o=(0,R.W8)(c)*h,p=(0,R.g$)(c)*h,b=(0,R.g$)(A),T=b*u-p*l;return[(0,R.WE)(p*u+b*l,o*n+T*f),(0,R.qR)(T*n-o*f)]},m}function r(t){t=C(t[0]*R.qw,t[1]*R.qw,t.length>2?t[2]*R.qw:0);function i(n){return n=t(n[0]*R.qw,n[1]*R.qw),n[0]*=R.oh,n[1]*=R.oh,n}return i.invert=function(n){return n=t.invert(n[0]*R.qw,n[1]*R.qw),n[0]*=R.oh,n[1]*=R.oh,n},i}},16016:function(H,G,e){e.d(G,{c:function(){return v}});function g(d,r){d&&a.hasOwnProperty(d.type)&&a[d.type](d,r)}var R={Feature:function(d,r){g(d.geometry,r)},FeatureCollection:function(d,r){for(var t=d.features,i=-1,n=t.length;++i<n;)g(t[i].geometry,r)}},a={Sphere:function(d,r){r.sphere()},Point:function(d,r){d=d.coordinates,r.point(d[0],d[1],d[2])},MultiPoint:function(d,r){for(var t=d.coordinates,i=-1,n=t.length;++i<n;)d=t[i],r.point(d[0],d[1],d[2])},LineString:function(d,r){C(d.coordinates,r,0)},MultiLineString:function(d,r){for(var t=d.coordinates,i=-1,n=t.length;++i<n;)C(t[i],r,0)},Polygon:function(d,r){S(d.coordinates,r)},MultiPolygon:function(d,r){for(var t=d.coordinates,i=-1,n=t.length;++i<n;)S(t[i],r)},GeometryCollection:function(d,r){for(var t=d.geometries,i=-1,n=t.length;++i<n;)g(t[i],r)}};function C(d,r,t){var i=-1,n=d.length-t,f;for(r.lineStart();++i<n;)f=d[i],r.point(f[0],f[1],f[2]);r.lineEnd()}function S(d,r){var t=-1,i=d.length;for(r.polygonStart();++t<i;)C(d[t],r,1);r.polygonEnd()}function v(d,r){d&&R.hasOwnProperty(d.type)?R[d.type](d,r):g(d,r)}},15196:function(H,G,e){e.d(G,{c:function(){return g},s:function(){return R}});function g(C){return{stream:R(C)}}function R(C){return function(S){var v=new a;for(var d in C)v[d]=C[d];return v.stream=S,v}}function a(){}a.prototype={constructor:a,point:function(C,S){this.stream.point(C,S)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(H,G,e){e.r(G),e.d(G,{cluster:function(){return r},hierarchy:function(){return T},pack:function(){return $},packEnclose:function(){return O},packSiblings:function(){return Z},partition:function(){return Ae},stratify:function(){return Ue},tree:function(){return ht},treemap:function(){return Oe},treemapBinary:function(){return Ye},treemapDice:function(){return Me},treemapResquarify:function(){return We},treemapSlice:function(){return mt},treemapSliceDice:function(){return Ze},treemapSquarify:function(){return tt}});function g(_e,Ie){return _e.parent===Ie.parent?1:2}function R(_e){return _e.reduce(a,0)/_e.length}function a(_e,Ie){return _e+Ie.x}function C(_e){return 1+_e.reduce(S,0)}function S(_e,Ie){return Math.max(_e,Ie.y)}function v(_e){for(var Ie;Ie=_e.children;)_e=Ie[0];return _e}function d(_e){for(var Ie;Ie=_e.children;)_e=Ie[Ie.length-1];return _e}function r(){var _e=g,Ie=1,Xe=1,De=!1;function de(Te){var Be,Qe=0;Te.eachAfter(function(Tt){var Lt=Tt.children;Lt?(Tt.x=R(Lt),Tt.y=C(Lt)):(Tt.x=Be?Qe+=_e(Tt,Be):0,Tt.y=0,Be=Tt)});var at=v(Te),it=d(Te),Wt=at.x-_e(at,it)/2,Yt=it.x+_e(it,at)/2;return Te.eachAfter(De?function(Tt){Tt.x=(Tt.x-Te.x)*Ie,Tt.y=(Te.y-Tt.y)*Xe}:function(Tt){Tt.x=(Tt.x-Wt)/(Yt-Wt)*Ie,Tt.y=(1-(Te.y?Tt.y/Te.y:1))*Xe})}return de.separation=function(Te){return arguments.length?(_e=Te,de):_e},de.size=function(Te){return arguments.length?(De=!1,Ie=+Te[0],Xe=+Te[1],de):De?null:[Ie,Xe]},de.nodeSize=function(Te){return arguments.length?(De=!0,Ie=+Te[0],Xe=+Te[1],de):De?[Ie,Xe]:null},de}function t(_e){var Ie=0,Xe=_e.children,De=Xe&&Xe.length;if(!De)Ie=1;else for(;--De>=0;)Ie+=Xe[De].value;_e.value=Ie}function i(){return this.eachAfter(t)}function n(_e){var Ie=this,Xe,De=[Ie],de,Te,Be;do for(Xe=De.reverse(),De=[];Ie=Xe.pop();)if(_e(Ie),de=Ie.children,de)for(Te=0,Be=de.length;Te<Be;++Te)De.push(de[Te]);while(De.length);return this}function f(_e){for(var Ie=this,Xe=[Ie],De,de;Ie=Xe.pop();)if(_e(Ie),De=Ie.children,De)for(de=De.length-1;de>=0;--de)Xe.push(De[de]);return this}function u(_e){for(var Ie=this,Xe=[Ie],De=[],de,Te,Be;Ie=Xe.pop();)if(De.push(Ie),de=Ie.children,de)for(Te=0,Be=de.length;Te<Be;++Te)Xe.push(de[Te]);for(;Ie=De.pop();)_e(Ie);return this}function l(_e){return this.eachAfter(function(Ie){for(var Xe=+_e(Ie.data)||0,De=Ie.children,de=De&&De.length;--de>=0;)Xe+=De[de].value;Ie.value=Xe})}function m(_e){return this.eachBefore(function(Ie){Ie.children&&Ie.children.sort(_e)})}function c(_e){for(var Ie=this,Xe=A(Ie,_e),De=[Ie];Ie!==Xe;)Ie=Ie.parent,De.push(Ie);for(var de=De.length;_e!==Xe;)De.splice(de,0,_e),_e=_e.parent;return De}function A(_e,Ie){if(_e===Ie)return _e;var Xe=_e.ancestors(),De=Ie.ancestors(),de=null;for(_e=Xe.pop(),Ie=De.pop();_e===Ie;)de=_e,_e=Xe.pop(),Ie=De.pop();return de}function h(){for(var _e=this,Ie=[_e];_e=_e.parent;)Ie.push(_e);return Ie}function o(){var _e=[];return this.each(function(Ie){_e.push(Ie)}),_e}function p(){var _e=[];return this.eachBefore(function(Ie){Ie.children||_e.push(Ie)}),_e}function b(){var _e=this,Ie=[];return _e.each(function(Xe){Xe!==_e&&Ie.push({source:Xe.parent,target:Xe})}),Ie}function T(_e,Ie){var Xe=new s(_e),De=+_e.value&&(Xe.value=_e.value),de,Te=[Xe],Be,Qe,at,it;for(Ie==null&&(Ie=x);de=Te.pop();)if(De&&(de.value=+de.data.value),(Qe=Ie(de.data))&&(it=Qe.length))for(de.children=new Array(it),at=it-1;at>=0;--at)Te.push(Be=de.children[at]=new s(Qe[at])),Be.parent=de,Be.depth=de.depth+1;return Xe.eachBefore(M)}function P(){return T(this).eachBefore(L)}function x(_e){return _e.children}function L(_e){_e.data=_e.data.data}function M(_e){var Ie=0;do _e.height=Ie;while((_e=_e.parent)&&_e.height<++Ie)}function s(_e){this.data=_e,this.depth=this.height=0,this.parent=null}s.prototype=T.prototype={constructor:s,count:i,each:n,eachAfter:u,eachBefore:f,sum:l,sort:m,path:c,ancestors:h,descendants:o,leaves:p,links:b,copy:P};var E=Array.prototype.slice;function w(_e){for(var Ie=_e.length,Xe,De;Ie;)De=Math.random()*Ie--|0,Xe=_e[Ie],_e[Ie]=_e[De],_e[De]=Xe;return _e}function O(_e){for(var Ie=0,Xe=(_e=w(E.call(_e))).length,De=[],de,Te;Ie<Xe;)de=_e[Ie],Te&&z(Te,de)?++Ie:(Te=B(De=_(De,de)),Ie=0);return Te}function _(_e,Ie){var Xe,De;if(F(Ie,_e))return[Ie];for(Xe=0;Xe<_e.length;++Xe)if(U(Ie,_e[Xe])&&F(V(_e[Xe],Ie),_e))return[_e[Xe],Ie];for(Xe=0;Xe<_e.length-1;++Xe)for(De=Xe+1;De<_e.length;++De)if(U(V(_e[Xe],_e[De]),Ie)&&U(V(_e[Xe],Ie),_e[De])&&U(V(_e[De],Ie),_e[Xe])&&F(X(_e[Xe],_e[De],Ie),_e))return[_e[Xe],_e[De],Ie];throw new Error}function U(_e,Ie){var Xe=_e.r-Ie.r,De=Ie.x-_e.x,de=Ie.y-_e.y;return Xe<0||Xe*Xe<De*De+de*de}function z(_e,Ie){var Xe=_e.r-Ie.r+1e-6,De=Ie.x-_e.x,de=Ie.y-_e.y;return Xe>0&&Xe*Xe>De*De+de*de}function F(_e,Ie){for(var Xe=0;Xe<Ie.length;++Xe)if(!z(_e,Ie[Xe]))return!1;return!0}function B(_e){switch(_e.length){case 1:return N(_e[0]);case 2:return V(_e[0],_e[1]);case 3:return X(_e[0],_e[1],_e[2])}}function N(_e){return{x:_e.x,y:_e.y,r:_e.r}}function V(_e,Ie){var Xe=_e.x,De=_e.y,de=_e.r,Te=Ie.x,Be=Ie.y,Qe=Ie.r,at=Te-Xe,it=Be-De,Wt=Qe-de,Yt=Math.sqrt(at*at+it*it);return{x:(Xe+Te+at/Yt*Wt)/2,y:(De+Be+it/Yt*Wt)/2,r:(Yt+de+Qe)/2}}function X(_e,Ie,Xe){var De=_e.x,de=_e.y,Te=_e.r,Be=Ie.x,Qe=Ie.y,at=Ie.r,it=Xe.x,Wt=Xe.y,Yt=Xe.r,Tt=De-Be,Lt=De-it,Xt=de-Qe,Tr=de-Wt,gt=at-Te,Kt=Yt-Te,Qt=De*De+de*de-Te*Te,yr=Qt-Be*Be-Qe*Qe+at*at,fr=Qt-it*it-Wt*Wt+Yt*Yt,yt=Lt*Xt-Tt*Tr,ot=(Xt*fr-Tr*yr)/(yt*2)-De,bt=(Tr*gt-Xt*Kt)/yt,Et=(Lt*yr-Tt*fr)/(yt*2)-de,Dt=(Tt*Kt-Lt*gt)/yt,Ht=bt*bt+Dt*Dt-1,Bt=2*(Te+ot*bt+Et*Dt),Nt=ot*ot+Et*Et-Te*Te,Jt=-(Ht?(Bt+Math.sqrt(Bt*Bt-4*Ht*Nt))/(2*Ht):Nt/Bt);return{x:De+ot+bt*Jt,y:de+Et+Dt*Jt,r:Jt}}function q(_e,Ie,Xe){var De=_e.x-Ie.x,de,Te,Be=_e.y-Ie.y,Qe,at,it=De*De+Be*Be;it?(Te=Ie.r+Xe.r,Te*=Te,at=_e.r+Xe.r,at*=at,Te>at?(de=(it+at-Te)/(2*it),Qe=Math.sqrt(Math.max(0,at/it-de*de)),Xe.x=_e.x-de*De-Qe*Be,Xe.y=_e.y-de*Be+Qe*De):(de=(it+Te-at)/(2*it),Qe=Math.sqrt(Math.max(0,Te/it-de*de)),Xe.x=Ie.x+de*De-Qe*Be,Xe.y=Ie.y+de*Be+Qe*De)):(Xe.x=Ie.x+Xe.r,Xe.y=Ie.y)}function te(_e,Ie){var Xe=_e.r+Ie.r-1e-6,De=Ie.x-_e.x,de=Ie.y-_e.y;return Xe>0&&Xe*Xe>De*De+de*de}function ne(_e){var Ie=_e._,Xe=_e.next._,De=Ie.r+Xe.r,de=(Ie.x*Xe.r+Xe.x*Ie.r)/De,Te=(Ie.y*Xe.r+Xe.y*Ie.r)/De;return de*de+Te*Te}function ce(_e){this._=_e,this.next=null,this.previous=null}function Q(_e){if(!(de=_e.length))return 0;var Ie,Xe,De,de,Te,Be,Qe,at,it,Wt,Yt;if(Ie=_e[0],Ie.x=0,Ie.y=0,!(de>1))return Ie.r;if(Xe=_e[1],Ie.x=-Xe.r,Xe.x=Ie.r,Xe.y=0,!(de>2))return Ie.r+Xe.r;q(Xe,Ie,De=_e[2]),Ie=new ce(Ie),Xe=new ce(Xe),De=new ce(De),Ie.next=De.previous=Xe,Xe.next=Ie.previous=De,De.next=Xe.previous=Ie;e:for(Qe=3;Qe<de;++Qe){q(Ie._,Xe._,De=_e[Qe]),De=new ce(De),at=Xe.next,it=Ie.previous,Wt=Xe._.r,Yt=Ie._.r;do if(Wt<=Yt){if(te(at._,De._)){Xe=at,Ie.next=Xe,Xe.previous=Ie,--Qe;continue e}Wt+=at._.r,at=at.next}else{if(te(it._,De._)){Ie=it,Ie.next=Xe,Xe.previous=Ie,--Qe;continue e}Yt+=it._.r,it=it.previous}while(at!==it.next);for(De.previous=Ie,De.next=Xe,Ie.next=Xe.previous=Xe=De,Te=ne(Ie);(De=De.next)!==Xe;)(Be=ne(De))<Te&&(Ie=De,Te=Be);Xe=Ie.next}for(Ie=[Xe._],De=Xe;(De=De.next)!==Xe;)Ie.push(De._);for(De=O(Ie),Qe=0;Qe<de;++Qe)Ie=_e[Qe],Ie.x-=De.x,Ie.y-=De.y;return De.r}function Z(_e){return Q(_e),_e}function re(_e){return _e==null?null:Y(_e)}function Y(_e){if(typeof _e!="function")throw new Error;return _e}function oe(){return 0}function ue(_e){return function(){return _e}}function K(_e){return Math.sqrt(_e.value)}function $(){var _e=null,Ie=1,Xe=1,De=oe;function de(Te){return Te.x=Ie/2,Te.y=Xe/2,_e?Te.eachBefore(le(_e)).eachAfter(ae(De,.5)).eachBefore(he(1)):Te.eachBefore(le(K)).eachAfter(ae(oe,1)).eachAfter(ae(De,Te.r/Math.min(Ie,Xe))).eachBefore(he(Math.min(Ie,Xe)/(2*Te.r))),Te}return de.radius=function(Te){return arguments.length?(_e=re(Te),de):_e},de.size=function(Te){return arguments.length?(Ie=+Te[0],Xe=+Te[1],de):[Ie,Xe]},de.padding=function(Te){return arguments.length?(De=typeof Te=="function"?Te:ue(+Te),de):De},de}function le(_e){return function(Ie){Ie.children||(Ie.r=Math.max(0,+_e(Ie)||0))}}function ae(_e,Ie){return function(Xe){if(De=Xe.children){var De,de,Te=De.length,Be=_e(Xe)*Ie||0,Qe;if(Be)for(de=0;de<Te;++de)De[de].r+=Be;if(Qe=Q(De),Be)for(de=0;de<Te;++de)De[de].r-=Be;Xe.r=Qe+Be}}}function he(_e){return function(Ie){var Xe=Ie.parent;Ie.r*=_e,Xe&&(Ie.x=Xe.x+_e*Ie.x,Ie.y=Xe.y+_e*Ie.y)}}function xe(_e){_e.x0=Math.round(_e.x0),_e.y0=Math.round(_e.y0),_e.x1=Math.round(_e.x1),_e.y1=Math.round(_e.y1)}function Me(_e,Ie,Xe,De,de){for(var Te=_e.children,Be,Qe=-1,at=Te.length,it=_e.value&&(De-Ie)/_e.value;++Qe<at;)Be=Te[Qe],Be.y0=Xe,Be.y1=de,Be.x0=Ie,Be.x1=Ie+=Be.value*it}function Ae(){var _e=1,Ie=1,Xe=0,De=!1;function de(Be){var Qe=Be.height+1;return Be.x0=Be.y0=Xe,Be.x1=_e,Be.y1=Ie/Qe,Be.eachBefore(Te(Ie,Qe)),De&&Be.eachBefore(xe),Be}function Te(Be,Qe){return function(at){at.children&&Me(at,at.x0,Be*(at.depth+1)/Qe,at.x1,Be*(at.depth+2)/Qe);var it=at.x0,Wt=at.y0,Yt=at.x1-Xe,Tt=at.y1-Xe;Yt<it&&(it=Yt=(it+Yt)/2),Tt<Wt&&(Wt=Tt=(Wt+Tt)/2),at.x0=it,at.y0=Wt,at.x1=Yt,at.y1=Tt}}return de.round=function(Be){return arguments.length?(De=!!Be,de):De},de.size=function(Be){return arguments.length?(_e=+Be[0],Ie=+Be[1],de):[_e,Ie]},de.padding=function(Be){return arguments.length?(Xe=+Be,de):Xe},de}var ke="$",we={depth:-1},Ee={};function be(_e){return _e.id}function Le(_e){return _e.parentId}function Ue(){var _e=be,Ie=Le;function Xe(De){var de,Te,Be=De.length,Qe,at,it,Wt=new Array(Be),Yt,Tt,Lt={};for(Te=0;Te<Be;++Te)de=De[Te],it=Wt[Te]=new s(de),(Yt=_e(de,Te,De))!=null&&(Yt+="")&&(Tt=ke+(it.id=Yt),Lt[Tt]=Tt in Lt?Ee:it);for(Te=0;Te<Be;++Te)if(it=Wt[Te],Yt=Ie(De[Te],Te,De),Yt==null||!(Yt+="")){if(Qe)throw new Error("multiple roots");Qe=it}else{if(at=Lt[ke+Yt],!at)throw new Error("missing: "+Yt);if(at===Ee)throw new Error("ambiguous: "+Yt);at.children?at.children.push(it):at.children=[it],it.parent=at}if(!Qe)throw new Error("no root");if(Qe.parent=we,Qe.eachBefore(function(Xt){Xt.depth=Xt.parent.depth+1,--Be}).eachBefore(M),Qe.parent=null,Be>0)throw new Error("cycle");return Qe}return Xe.id=function(De){return arguments.length?(_e=Y(De),Xe):_e},Xe.parentId=function(De){return arguments.length?(Ie=Y(De),Xe):Ie},Xe}function Ve(_e,Ie){return _e.parent===Ie.parent?1:2}function Fe(_e){var Ie=_e.children;return Ie?Ie[0]:_e.t}function He(_e){var Ie=_e.children;return Ie?Ie[Ie.length-1]:_e.t}function st(_e,Ie,Xe){var De=Xe/(Ie.i-_e.i);Ie.c-=De,Ie.s+=Xe,_e.c+=De,Ie.z+=Xe,Ie.m+=Xe}function vt(_e){for(var Ie=0,Xe=0,De=_e.children,de=De.length,Te;--de>=0;)Te=De[de],Te.z+=Ie,Te.m+=Ie,Ie+=Te.s+(Xe+=Te.c)}function lt(_e,Ie,Xe){return _e.a.parent===Ie.parent?_e.a:Xe}function et(_e,Ie){this._=_e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ie}et.prototype=Object.create(s.prototype);function ct(_e){for(var Ie=new et(_e,0),Xe,De=[Ie],de,Te,Be,Qe;Xe=De.pop();)if(Te=Xe._.children)for(Xe.children=new Array(Qe=Te.length),Be=Qe-1;Be>=0;--Be)De.push(de=Xe.children[Be]=new et(Te[Be],Be)),de.parent=Xe;return(Ie.parent=new et(null,0)).children=[Ie],Ie}function ht(){var _e=Ve,Ie=1,Xe=1,De=null;function de(it){var Wt=ct(it);if(Wt.eachAfter(Te),Wt.parent.m=-Wt.z,Wt.eachBefore(Be),De)it.eachBefore(at);else{var Yt=it,Tt=it,Lt=it;it.eachBefore(function(Qt){Qt.x<Yt.x&&(Yt=Qt),Qt.x>Tt.x&&(Tt=Qt),Qt.depth>Lt.depth&&(Lt=Qt)});var Xt=Yt===Tt?1:_e(Yt,Tt)/2,Tr=Xt-Yt.x,gt=Ie/(Tt.x+Xt+Tr),Kt=Xe/(Lt.depth||1);it.eachBefore(function(Qt){Qt.x=(Qt.x+Tr)*gt,Qt.y=Qt.depth*Kt})}return it}function Te(it){var Wt=it.children,Yt=it.parent.children,Tt=it.i?Yt[it.i-1]:null;if(Wt){vt(it);var Lt=(Wt[0].z+Wt[Wt.length-1].z)/2;Tt?(it.z=Tt.z+_e(it._,Tt._),it.m=it.z-Lt):it.z=Lt}else Tt&&(it.z=Tt.z+_e(it._,Tt._));it.parent.A=Qe(it,Tt,it.parent.A||Yt[0])}function Be(it){it._.x=it.z+it.parent.m,it.m+=it.parent.m}function Qe(it,Wt,Yt){if(Wt){for(var Tt=it,Lt=it,Xt=Wt,Tr=Tt.parent.children[0],gt=Tt.m,Kt=Lt.m,Qt=Xt.m,yr=Tr.m,fr;Xt=He(Xt),Tt=Fe(Tt),Xt&&Tt;)Tr=Fe(Tr),Lt=He(Lt),Lt.a=it,fr=Xt.z+Qt-Tt.z-gt+_e(Xt._,Tt._),fr>0&&(st(lt(Xt,it,Yt),it,fr),gt+=fr,Kt+=fr),Qt+=Xt.m,gt+=Tt.m,yr+=Tr.m,Kt+=Lt.m;Xt&&!He(Lt)&&(Lt.t=Xt,Lt.m+=Qt-Kt),Tt&&!Fe(Tr)&&(Tr.t=Tt,Tr.m+=gt-yr,Yt=it)}return Yt}function at(it){it.x*=Ie,it.y=it.depth*Xe}return de.separation=function(it){return arguments.length?(_e=it,de):_e},de.size=function(it){return arguments.length?(De=!1,Ie=+it[0],Xe=+it[1],de):De?null:[Ie,Xe]},de.nodeSize=function(it){return arguments.length?(De=!0,Ie=+it[0],Xe=+it[1],de):De?[Ie,Xe]:null},de}function mt(_e,Ie,Xe,De,de){for(var Te=_e.children,Be,Qe=-1,at=Te.length,it=_e.value&&(de-Xe)/_e.value;++Qe<at;)Be=Te[Qe],Be.x0=Ie,Be.x1=De,Be.y0=Xe,Be.y1=Xe+=Be.value*it}var xt=(1+Math.sqrt(5))/2;function Mt(_e,Ie,Xe,De,de,Te){for(var Be=[],Qe=Ie.children,at,it,Wt=0,Yt=0,Tt=Qe.length,Lt,Xt,Tr=Ie.value,gt,Kt,Qt,yr,fr,yt,ot;Wt<Tt;){Lt=de-Xe,Xt=Te-De;do gt=Qe[Yt++].value;while(!gt&&Yt<Tt);for(Kt=Qt=gt,yt=Math.max(Xt/Lt,Lt/Xt)/(Tr*_e),ot=gt*gt*yt,fr=Math.max(Qt/ot,ot/Kt);Yt<Tt;++Yt){if(gt+=it=Qe[Yt].value,it<Kt&&(Kt=it),it>Qt&&(Qt=it),ot=gt*gt*yt,yr=Math.max(Qt/ot,ot/Kt),yr>fr){gt-=it;break}fr=yr}Be.push(at={value:gt,dice:Lt<Xt,children:Qe.slice(Wt,Yt)}),at.dice?Me(at,Xe,De,de,Tr?De+=Xt*gt/Tr:Te):mt(at,Xe,De,Tr?Xe+=Lt*gt/Tr:de,Te),Tr-=gt,Wt=Yt}return Be}var tt=function _e(Ie){function Xe(De,de,Te,Be,Qe){Mt(Ie,De,de,Te,Be,Qe)}return Xe.ratio=function(De){return _e((De=+De)>1?De:1)},Xe}(xt);function Oe(){var _e=tt,Ie=!1,Xe=1,De=1,de=[0],Te=oe,Be=oe,Qe=oe,at=oe,it=oe;function Wt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=Xe,Tt.y1=De,Tt.eachBefore(Yt),de=[0],Ie&&Tt.eachBefore(xe),Tt}function Yt(Tt){var Lt=de[Tt.depth],Xt=Tt.x0+Lt,Tr=Tt.y0+Lt,gt=Tt.x1-Lt,Kt=Tt.y1-Lt;gt<Xt&&(Xt=gt=(Xt+gt)/2),Kt<Tr&&(Tr=Kt=(Tr+Kt)/2),Tt.x0=Xt,Tt.y0=Tr,Tt.x1=gt,Tt.y1=Kt,Tt.children&&(Lt=de[Tt.depth+1]=Te(Tt)/2,Xt+=it(Tt)-Lt,Tr+=Be(Tt)-Lt,gt-=Qe(Tt)-Lt,Kt-=at(Tt)-Lt,gt<Xt&&(Xt=gt=(Xt+gt)/2),Kt<Tr&&(Tr=Kt=(Tr+Kt)/2),_e(Tt,Xt,Tr,gt,Kt))}return Wt.round=function(Tt){return arguments.length?(Ie=!!Tt,Wt):Ie},Wt.size=function(Tt){return arguments.length?(Xe=+Tt[0],De=+Tt[1],Wt):[Xe,De]},Wt.tile=function(Tt){return arguments.length?(_e=Y(Tt),Wt):_e},Wt.padding=function(Tt){return arguments.length?Wt.paddingInner(Tt).paddingOuter(Tt):Wt.paddingInner()},Wt.paddingInner=function(Tt){return arguments.length?(Te=typeof Tt=="function"?Tt:ue(+Tt),Wt):Te},Wt.paddingOuter=function(Tt){return arguments.length?Wt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Wt.paddingTop()},Wt.paddingTop=function(Tt){return arguments.length?(Be=typeof Tt=="function"?Tt:ue(+Tt),Wt):Be},Wt.paddingRight=function(Tt){return arguments.length?(Qe=typeof Tt=="function"?Tt:ue(+Tt),Wt):Qe},Wt.paddingBottom=function(Tt){return arguments.length?(at=typeof Tt=="function"?Tt:ue(+Tt),Wt):at},Wt.paddingLeft=function(Tt){return arguments.length?(it=typeof Tt=="function"?Tt:ue(+Tt),Wt):it},Wt}function Ye(_e,Ie,Xe,De,de){var Te=_e.children,Be,Qe=Te.length,at,it=new Array(Qe+1);for(it[0]=at=Be=0;Be<Qe;++Be)it[Be+1]=at+=Te[Be].value;Wt(0,Qe,_e.value,Ie,Xe,De,de);function Wt(Yt,Tt,Lt,Xt,Tr,gt,Kt){if(Yt>=Tt-1){var Qt=Te[Yt];Qt.x0=Xt,Qt.y0=Tr,Qt.x1=gt,Qt.y1=Kt;return}for(var yr=it[Yt],fr=Lt/2+yr,yt=Yt+1,ot=Tt-1;yt<ot;){var bt=yt+ot>>>1;it[bt]<fr?yt=bt+1:ot=bt}fr-it[yt-1]<it[yt]-fr&&Yt+1<yt&&--yt;var Et=it[yt]-yr,Dt=Lt-Et;if(gt-Xt>Kt-Tr){var Ht=(Xt*Dt+gt*Et)/Lt;Wt(Yt,yt,Et,Xt,Tr,Ht,Kt),Wt(yt,Tt,Dt,Ht,Tr,gt,Kt)}else{var Bt=(Tr*Dt+Kt*Et)/Lt;Wt(Yt,yt,Et,Xt,Tr,gt,Bt),Wt(yt,Tt,Dt,Xt,Bt,gt,Kt)}}}function Ze(_e,Ie,Xe,De,de){(_e.depth&1?mt:Me)(_e,Ie,Xe,De,de)}var We=function _e(Ie){function Xe(De,de,Te,Be,Qe){if((at=De._squarify)&&at.ratio===Ie)for(var at,it,Wt,Yt,Tt=-1,Lt,Xt=at.length,Tr=De.value;++Tt<Xt;){for(it=at[Tt],Wt=it.children,Yt=it.value=0,Lt=Wt.length;Yt<Lt;++Yt)it.value+=Wt[Yt].value;it.dice?Me(it,de,Te,Be,Te+=(Qe-Te)*it.value/Tr):mt(it,de,Te,de+=(Be-de)*it.value/Tr,Qe),Tr-=it.value}else De._squarify=at=Mt(Ie,De,de,Te,Be,Qe),at.ratio=Ie}return Xe.ratio=function(De){return _e((De=+De)>1?De:1)},Xe}(xt)},10132:function(H,G,e){e.d(G,{ak:function(){return c}});var g=Math.PI,R=2*g,a=1e-6,C=R-a;function S(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new S}S.prototype=v.prototype={constructor:S,moveTo:function(A,h){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(A,h){this._+="L"+(this._x1=+A)+","+(this._y1=+h)},quadraticCurveTo:function(A,h,o,p){this._+="Q"+ +A+","+ +h+","+(this._x1=+o)+","+(this._y1=+p)},bezierCurveTo:function(A,h,o,p,b,T){this._+="C"+ +A+","+ +h+","+ +o+","+ +p+","+(this._x1=+b)+","+(this._y1=+T)},arcTo:function(A,h,o,p,b){A=+A,h=+h,o=+o,p=+p,b=+b;var T=this._x1,P=this._y1,x=o-A,L=p-h,M=T-A,s=P-h,E=M*M+s*s;if(b<0)throw new Error("negative radius: "+b);if(this._x1===null)this._+="M"+(this._x1=A)+","+(this._y1=h);else if(E>a)if(!(Math.abs(s*x-L*M)>a)||!b)this._+="L"+(this._x1=A)+","+(this._y1=h);else{var w=o-T,O=p-P,_=x*x+L*L,U=w*w+O*O,z=Math.sqrt(_),F=Math.sqrt(E),B=b*Math.tan((g-Math.acos((_+E-U)/(2*z*F)))/2),N=B/F,V=B/z;Math.abs(N-1)>a&&(this._+="L"+(A+N*M)+","+(h+N*s)),this._+="A"+b+","+b+",0,0,"+ +(s*w>M*O)+","+(this._x1=A+V*x)+","+(this._y1=h+V*L)}},arc:function(A,h,o,p,b,T){A=+A,h=+h,o=+o,T=!!T;var P=o*Math.cos(p),x=o*Math.sin(p),L=A+P,M=h+x,s=1^T,E=T?p-b:b-p;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+L+","+M:(Math.abs(this._x1-L)>a||Math.abs(this._y1-M)>a)&&(this._+="L"+L+","+M),o&&(E<0&&(E=E%R+R),E>C?this._+="A"+o+","+o+",0,1,"+s+","+(A-P)+","+(h-x)+"A"+o+","+o+",0,1,"+s+","+(this._x1=L)+","+(this._y1=M):E>a&&(this._+="A"+o+","+o+",0,"+ +(E>=g)+","+s+","+(this._x1=A+o*Math.cos(b))+","+(this._y1=h+o*Math.sin(b))))},rect:function(A,h,o,p){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+h)+"h"+ +o+"v"+ +p+"h"+-o+"Z"},toString:function(){return this._}};var d=v,r=Array.prototype.slice;function t(A){return function(){return A}}function i(A){return A[0]}function n(A){return A[1]}function f(A){return A.source}function u(A){return A.target}function l(A){var h=f,o=u,p=i,b=n,T=null;function P(){var x,L=r.call(arguments),M=h.apply(this,L),s=o.apply(this,L);if(T||(T=x=d()),A(T,+p.apply(this,(L[0]=M,L)),+b.apply(this,L),+p.apply(this,(L[0]=s,L)),+b.apply(this,L)),x)return T=null,x+""||null}return P.source=function(x){return arguments.length?(h=x,P):h},P.target=function(x){return arguments.length?(o=x,P):o},P.x=function(x){return arguments.length?(p=typeof x=="function"?x:t(+x),P):p},P.y=function(x){return arguments.length?(b=typeof x=="function"?x:t(+x),P):b},P.context=function(x){return arguments.length?(T=x??null,P):T},P}function m(A,h,o,p,b){A.moveTo(h,o),A.bezierCurveTo(h=(h+p)/2,o,h,b,p,b)}function c(){return l(m)}},94336:function(H,G,e){e.d(G,{Yn:function(){return Ye},m_:function(){return i},E9:function(){return Ze}});var g=e(8208),R=e(58931),a=e(46192),C=e(68936),S=e(32171),v=e(53528);function d(_e){if(0<=_e.y&&_e.y<100){var Ie=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return Ie.setFullYear(_e.y),Ie}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function r(_e){if(0<=_e.y&&_e.y<100){var Ie=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return Ie.setUTCFullYear(_e.y),Ie}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function t(_e,Ie,Xe){return{y:_e,m:Ie,d:Xe,H:0,M:0,S:0,L:0}}function i(_e){var Ie=_e.dateTime,Xe=_e.date,De=_e.time,de=_e.periods,Te=_e.days,Be=_e.shortDays,Qe=_e.months,at=_e.shortMonths,it=A(de),Wt=h(de),Yt=A(Te),Tt=h(Te),Lt=A(Be),Xt=h(Be),Tr=A(Qe),gt=h(Qe),Kt=A(at),Qt=h(at),yr={a:je,A:Ge,b:Ot,B:kt,c:null,d:q,e:q,f:Z,H:te,I:ne,j:ce,L:Q,m:re,M:Y,p:$t,q:ar,Q:Mt,s:tt,S:oe,u:ue,U:K,V:$,w:le,W:ae,x:null,X:null,y:he,Y:xe,Z:Me,"%":xt},fr={a:or,A:rr,b:zt,B:vr,c:null,d:Ae,e:Ae,f:Le,H:ke,I:we,j:Ee,L:be,m:Ue,M:Ve,p:gr,q:Ar,Q:Mt,s:tt,S:Fe,u:He,U:st,V:vt,w:lt,W:et,x:null,X:null,y:ct,Y:ht,Z:mt,"%":xt},yt={a:Ht,A:Bt,b:Nt,B:Jt,c:hr,d:w,e:w,f:B,H:_,I:_,j:O,L:F,m:E,M:U,p:Dt,q:s,Q:V,s:X,S:z,u:p,U:b,V:T,w:o,W:P,x:Zt,X:dr,y:L,Y:x,Z:M,"%":N};yr.x=ot(Xe,yr),yr.X=ot(De,yr),yr.c=ot(Ie,yr),fr.x=ot(Xe,fr),fr.X=ot(De,fr),fr.c=ot(Ie,fr);function ot(cr,Hr){return function(Rr){var Ir=[],cn=-1,Zr=0,An=cr.length,Sn,br,Or;for(Rr instanceof Date||(Rr=new Date(+Rr));++cn<An;)cr.charCodeAt(cn)===37&&(Ir.push(cr.slice(Zr,cn)),(br=n[Sn=cr.charAt(++cn)])!=null?Sn=cr.charAt(++cn):br=Sn==="e"?" ":"0",(Or=Hr[Sn])&&(Sn=Or(Rr,br)),Ir.push(Sn),Zr=cn+1);return Ir.push(cr.slice(Zr,cn)),Ir.join("")}}function bt(cr,Hr){return function(Rr){var Ir=t(1900,void 0,1),cn=Et(Ir,cr,Rr+="",0),Zr,An;if(cn!=Rr.length)return null;if("Q"in Ir)return new Date(Ir.Q);if("s"in Ir)return new Date(Ir.s*1e3+("L"in Ir?Ir.L:0));if(Hr&&!("Z"in Ir)&&(Ir.Z=0),"p"in Ir&&(Ir.H=Ir.H%12+Ir.p*12),Ir.m===void 0&&(Ir.m="q"in Ir?Ir.q:0),"V"in Ir){if(Ir.V<1||Ir.V>53)return null;"w"in Ir||(Ir.w=1),"Z"in Ir?(Zr=r(t(Ir.y,0,1)),An=Zr.getUTCDay(),Zr=An>4||An===0?g.ot.ceil(Zr):(0,g.ot)(Zr),Zr=R.c.offset(Zr,(Ir.V-1)*7),Ir.y=Zr.getUTCFullYear(),Ir.m=Zr.getUTCMonth(),Ir.d=Zr.getUTCDate()+(Ir.w+6)%7):(Zr=d(t(Ir.y,0,1)),An=Zr.getDay(),Zr=An>4||An===0?a.qT.ceil(Zr):(0,a.qT)(Zr),Zr=C.c.offset(Zr,(Ir.V-1)*7),Ir.y=Zr.getFullYear(),Ir.m=Zr.getMonth(),Ir.d=Zr.getDate()+(Ir.w+6)%7)}else("W"in Ir||"U"in Ir)&&("w"in Ir||(Ir.w="u"in Ir?Ir.u%7:"W"in Ir?1:0),An="Z"in Ir?r(t(Ir.y,0,1)).getUTCDay():d(t(Ir.y,0,1)).getDay(),Ir.m=0,Ir.d="W"in Ir?(Ir.w+6)%7+Ir.W*7-(An+5)%7:Ir.w+Ir.U*7-(An+6)%7);return"Z"in Ir?(Ir.H+=Ir.Z/100|0,Ir.M+=Ir.Z%100,r(Ir)):d(Ir)}}function Et(cr,Hr,Rr,Ir){for(var cn=0,Zr=Hr.length,An=Rr.length,Sn,br;cn<Zr;){if(Ir>=An)return-1;if(Sn=Hr.charCodeAt(cn++),Sn===37){if(Sn=Hr.charAt(cn++),br=yt[Sn in n?Hr.charAt(cn++):Sn],!br||(Ir=br(cr,Rr,Ir))<0)return-1}else if(Sn!=Rr.charCodeAt(Ir++))return-1}return Ir}function Dt(cr,Hr,Rr){var Ir=it.exec(Hr.slice(Rr));return Ir?(cr.p=Wt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function Ht(cr,Hr,Rr){var Ir=Lt.exec(Hr.slice(Rr));return Ir?(cr.w=Xt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function Bt(cr,Hr,Rr){var Ir=Yt.exec(Hr.slice(Rr));return Ir?(cr.w=Tt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function Nt(cr,Hr,Rr){var Ir=Kt.exec(Hr.slice(Rr));return Ir?(cr.m=Qt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function Jt(cr,Hr,Rr){var Ir=Tr.exec(Hr.slice(Rr));return Ir?(cr.m=gt[Ir[0].toLowerCase()],Rr+Ir[0].length):-1}function hr(cr,Hr,Rr){return Et(cr,Ie,Hr,Rr)}function Zt(cr,Hr,Rr){return Et(cr,Xe,Hr,Rr)}function dr(cr,Hr,Rr){return Et(cr,De,Hr,Rr)}function je(cr){return Be[cr.getDay()]}function Ge(cr){return Te[cr.getDay()]}function Ot(cr){return at[cr.getMonth()]}function kt(cr){return Qe[cr.getMonth()]}function $t(cr){return de[+(cr.getHours()>=12)]}function ar(cr){return 1+~~(cr.getMonth()/3)}function or(cr){return Be[cr.getUTCDay()]}function rr(cr){return Te[cr.getUTCDay()]}function zt(cr){return at[cr.getUTCMonth()]}function vr(cr){return Qe[cr.getUTCMonth()]}function gr(cr){return de[+(cr.getUTCHours()>=12)]}function Ar(cr){return 1+~~(cr.getUTCMonth()/3)}return{format:function(cr){var Hr=ot(cr+="",yr);return Hr.toString=function(){return cr},Hr},parse:function(cr){var Hr=bt(cr+="",!1);return Hr.toString=function(){return cr},Hr},utcFormat:function(cr){var Hr=ot(cr+="",fr);return Hr.toString=function(){return cr},Hr},utcParse:function(cr){var Hr=bt(cr+="",!0);return Hr.toString=function(){return cr},Hr}}}var n={"-":"",_:" ",0:"0"},f=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function m(_e,Ie,Xe){var De=_e<0?"-":"",de=(De?-_e:_e)+"",Te=de.length;return De+(Te<Xe?new Array(Xe-Te+1).join(Ie)+de:de)}function c(_e){return _e.replace(l,"\\$&")}function A(_e){return new RegExp("^(?:"+_e.map(c).join("|")+")","i")}function h(_e){for(var Ie={},Xe=-1,De=_e.length;++Xe<De;)Ie[_e[Xe].toLowerCase()]=Xe;return Ie}function o(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+1));return De?(_e.w=+De[0],Xe+De[0].length):-1}function p(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+1));return De?(_e.u=+De[0],Xe+De[0].length):-1}function b(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.U=+De[0],Xe+De[0].length):-1}function T(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.V=+De[0],Xe+De[0].length):-1}function P(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.W=+De[0],Xe+De[0].length):-1}function x(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+4));return De?(_e.y=+De[0],Xe+De[0].length):-1}function L(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.y=+De[0]+(+De[0]>68?1900:2e3),Xe+De[0].length):-1}function M(_e,Ie,Xe){var De=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ie.slice(Xe,Xe+6));return De?(_e.Z=De[1]?0:-(De[2]+(De[3]||"00")),Xe+De[0].length):-1}function s(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+1));return De?(_e.q=De[0]*3-3,Xe+De[0].length):-1}function E(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.m=De[0]-1,Xe+De[0].length):-1}function w(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.d=+De[0],Xe+De[0].length):-1}function O(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+3));return De?(_e.m=0,_e.d=+De[0],Xe+De[0].length):-1}function _(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.H=+De[0],Xe+De[0].length):-1}function U(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.M=+De[0],Xe+De[0].length):-1}function z(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+2));return De?(_e.S=+De[0],Xe+De[0].length):-1}function F(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+3));return De?(_e.L=+De[0],Xe+De[0].length):-1}function B(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe,Xe+6));return De?(_e.L=Math.floor(De[0]/1e3),Xe+De[0].length):-1}function N(_e,Ie,Xe){var De=u.exec(Ie.slice(Xe,Xe+1));return De?Xe+De[0].length:-1}function V(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe));return De?(_e.Q=+De[0],Xe+De[0].length):-1}function X(_e,Ie,Xe){var De=f.exec(Ie.slice(Xe));return De?(_e.s=+De[0],Xe+De[0].length):-1}function q(_e,Ie){return m(_e.getDate(),Ie,2)}function te(_e,Ie){return m(_e.getHours(),Ie,2)}function ne(_e,Ie){return m(_e.getHours()%12||12,Ie,2)}function ce(_e,Ie){return m(1+C.c.count((0,S.c)(_e),_e),Ie,3)}function Q(_e,Ie){return m(_e.getMilliseconds(),Ie,3)}function Z(_e,Ie){return Q(_e,Ie)+"000"}function re(_e,Ie){return m(_e.getMonth()+1,Ie,2)}function Y(_e,Ie){return m(_e.getMinutes(),Ie,2)}function oe(_e,Ie){return m(_e.getSeconds(),Ie,2)}function ue(_e){var Ie=_e.getDay();return Ie===0?7:Ie}function K(_e,Ie){return m(a.uU.count((0,S.c)(_e)-1,_e),Ie,2)}function $(_e,Ie){var Xe=_e.getDay();return _e=Xe>=4||Xe===0?(0,a.kD)(_e):a.kD.ceil(_e),m(a.kD.count((0,S.c)(_e),_e)+((0,S.c)(_e).getDay()===4),Ie,2)}function le(_e){return _e.getDay()}function ae(_e,Ie){return m(a.qT.count((0,S.c)(_e)-1,_e),Ie,2)}function he(_e,Ie){return m(_e.getFullYear()%100,Ie,2)}function xe(_e,Ie){return m(_e.getFullYear()%1e4,Ie,4)}function Me(_e){var Ie=_e.getTimezoneOffset();return(Ie>0?"-":(Ie*=-1,"+"))+m(Ie/60|0,"0",2)+m(Ie%60,"0",2)}function Ae(_e,Ie){return m(_e.getUTCDate(),Ie,2)}function ke(_e,Ie){return m(_e.getUTCHours(),Ie,2)}function we(_e,Ie){return m(_e.getUTCHours()%12||12,Ie,2)}function Ee(_e,Ie){return m(1+R.c.count((0,v.c)(_e),_e),Ie,3)}function be(_e,Ie){return m(_e.getUTCMilliseconds(),Ie,3)}function Le(_e,Ie){return be(_e,Ie)+"000"}function Ue(_e,Ie){return m(_e.getUTCMonth()+1,Ie,2)}function Ve(_e,Ie){return m(_e.getUTCMinutes(),Ie,2)}function Fe(_e,Ie){return m(_e.getUTCSeconds(),Ie,2)}function He(_e){var Ie=_e.getUTCDay();return Ie===0?7:Ie}function st(_e,Ie){return m(g.EV.count((0,v.c)(_e)-1,_e),Ie,2)}function vt(_e,Ie){var Xe=_e.getUTCDay();return _e=Xe>=4||Xe===0?(0,g.yA)(_e):g.yA.ceil(_e),m(g.yA.count((0,v.c)(_e),_e)+((0,v.c)(_e).getUTCDay()===4),Ie,2)}function lt(_e){return _e.getUTCDay()}function et(_e,Ie){return m(g.ot.count((0,v.c)(_e)-1,_e),Ie,2)}function ct(_e,Ie){return m(_e.getUTCFullYear()%100,Ie,2)}function ht(_e,Ie){return m(_e.getUTCFullYear()%1e4,Ie,4)}function mt(){return"+0000"}function xt(){return"%"}function Mt(_e){return+_e}function tt(_e){return Math.floor(+_e/1e3)}var Oe,Ye,Ze;We({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function We(_e){return Oe=i(_e),Ye=Oe.format,Oe.parse,Ze=Oe.utcFormat,Oe.utcParse,Oe}},68936:function(H,G,e){e.d(G,{m:function(){return C}});var g=e(81628),R=e(69792),a=(0,g.c)(function(S){S.setHours(0,0,0,0)},function(S,v){S.setDate(S.getDate()+v)},function(S,v){return(v-S-(v.getTimezoneOffset()-S.getTimezoneOffset())*R.iy)/R.SK},function(S){return S.getDate()-1});G.c=a;var C=a.range},69792:function(H,G,e){e.d(G,{KK:function(){return S},SK:function(){return C},cg:function(){return a},iy:function(){return R},yc:function(){return g}});var g=1e3,R=6e4,a=36e5,C=864e5,S=6048e5},73220:function(H,G,e){e.r(G),e.d(G,{timeDay:function(){return m.c},timeDays:function(){return m.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return g.c},timeMillisecond:function(){return a},timeMilliseconds:function(){return C},timeMinute:function(){return i},timeMinutes:function(){return n},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return h},timeMonths:function(){return o},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return d},timeSeconds:function(){return r},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return p.c},timeYears:function(){return p.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return E.od},utcFridays:function(){return E.iG},utcHour:function(){return L},utcHours:function(){return M},utcMillisecond:function(){return a},utcMilliseconds:function(){return C},utcMinute:function(){return T},utcMinutes:function(){return P},utcMonday:function(){return E.ot},utcMondays:function(){return E.iO},utcMonth:function(){return O},utcMonths:function(){return _},utcSaturday:function(){return E.Ad},utcSaturdays:function(){return E.K8},utcSecond:function(){return d},utcSeconds:function(){return r},utcSunday:function(){return E.EV},utcSundays:function(){return E.Wq},utcThursday:function(){return E.yA},utcThursdays:function(){return E.ob},utcTuesday:function(){return E.sG},utcTuesdays:function(){return E.kl},utcWednesday:function(){return E._6},utcWednesdays:function(){return E.W_},utcWeek:function(){return E.EV},utcWeeks:function(){return E.Wq},utcYear:function(){return U.c},utcYears:function(){return U.i}});var g=e(81628),R=(0,g.c)(function(){},function(z,F){z.setTime(+z+F)},function(z,F){return F-z});R.every=function(z){return z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?(0,g.c)(function(F){F.setTime(Math.floor(F/z)*z)},function(F,B){F.setTime(+F+B*z)},function(F,B){return(B-F)/z}):R};var a=R,C=R.range,S=e(69792),v=(0,g.c)(function(z){z.setTime(z-z.getMilliseconds())},function(z,F){z.setTime(+z+F*S.yc)},function(z,F){return(F-z)/S.yc},function(z){return z.getUTCSeconds()}),d=v,r=v.range,t=(0,g.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*S.yc)},function(z,F){z.setTime(+z+F*S.iy)},function(z,F){return(F-z)/S.iy},function(z){return z.getMinutes()}),i=t,n=t.range,f=(0,g.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*S.yc-z.getMinutes()*S.iy)},function(z,F){z.setTime(+z+F*S.cg)},function(z,F){return(F-z)/S.cg},function(z){return z.getHours()}),u=f,l=f.range,m=e(68936),c=e(46192),A=(0,g.c)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,F){z.setMonth(z.getMonth()+F)},function(z,F){return F.getMonth()-z.getMonth()+(F.getFullYear()-z.getFullYear())*12},function(z){return z.getMonth()}),h=A,o=A.range,p=e(32171),b=(0,g.c)(function(z){z.setUTCSeconds(0,0)},function(z,F){z.setTime(+z+F*S.iy)},function(z,F){return(F-z)/S.iy},function(z){return z.getUTCMinutes()}),T=b,P=b.range,x=(0,g.c)(function(z){z.setUTCMinutes(0,0,0)},function(z,F){z.setTime(+z+F*S.cg)},function(z,F){return(F-z)/S.cg},function(z){return z.getUTCHours()}),L=x,M=x.range,s=e(58931),E=e(8208),w=(0,g.c)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,F){z.setUTCMonth(z.getUTCMonth()+F)},function(z,F){return F.getUTCMonth()-z.getUTCMonth()+(F.getUTCFullYear()-z.getUTCFullYear())*12},function(z){return z.getUTCMonth()}),O=w,_=w.range,U=e(53528)},81628:function(H,G,e){e.d(G,{c:function(){return a}});var g=new Date,R=new Date;function a(C,S,v,d){function r(t){return C(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return C(t=new Date(+t)),t},r.ceil=function(t){return C(t=new Date(t-1)),S(t,1),C(t),t},r.round=function(t){var i=r(t),n=r.ceil(t);return t-i<n-t?i:n},r.offset=function(t,i){return S(t=new Date(+t),i==null?1:Math.floor(i)),t},r.range=function(t,i,n){var f=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<i)||!(n>0))return f;do f.push(u=new Date(+t)),S(t,n),C(t);while(u<t&&t<i);return f},r.filter=function(t){return a(function(i){if(i>=i)for(;C(i),!t(i);)i.setTime(i-1)},function(i,n){if(i>=i)if(n<0)for(;++n<=0;)for(;S(i,-1),!t(i););else for(;--n>=0;)for(;S(i,1),!t(i););})},v&&(r.count=function(t,i){return g.setTime(+t),R.setTime(+i),C(g),C(R),Math.floor(v(g,R))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(d?function(i){return d(i)%t===0}:function(i){return r.count(0,i)%t===0}):r}),r}},58931:function(H,G,e){e.d(G,{o:function(){return C}});var g=e(81628),R=e(69792),a=(0,g.c)(function(S){S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCDate(S.getUTCDate()+v)},function(S,v){return(v-S)/R.SK},function(S){return S.getUTCDate()-1});G.c=a;var C=a.range},8208:function(H,G,e){e.d(G,{Ad:function(){return i},EV:function(){return C},K8:function(){return A},W_:function(){return l},Wq:function(){return n},_6:function(){return d},iG:function(){return c},iO:function(){return f},kl:function(){return u},ob:function(){return m},od:function(){return t},ot:function(){return S},sG:function(){return v},yA:function(){return r}});var g=e(81628),R=e(69792);function a(h){return(0,g.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-h)%7),o.setUTCHours(0,0,0,0)},function(o,p){o.setUTCDate(o.getUTCDate()+p*7)},function(o,p){return(p-o)/R.KK})}var C=a(0),S=a(1),v=a(2),d=a(3),r=a(4),t=a(5),i=a(6),n=C.range,f=S.range,u=v.range,l=d.range,m=r.range,c=t.range,A=i.range},53528:function(H,G,e){e.d(G,{i:function(){return a}});var g=e(81628),R=(0,g.c)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,S){C.setUTCFullYear(C.getUTCFullYear()+S)},function(C,S){return S.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});R.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.c)(function(S){S.setUTCFullYear(Math.floor(S.getUTCFullYear()/C)*C),S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCFullYear(S.getUTCFullYear()+v*C)})},G.c=R;var a=R.range},46192:function(H,G,e){e.d(G,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return u},QP:function(){return f},Wc:function(){return i},aI:function(){return A},eC:function(){return m},eg:function(){return d},iB:function(){return t},kD:function(){return r},qT:function(){return S},sJ:function(){return c},sn:function(){return l},uU:function(){return C}});var g=e(81628),R=e(69792);function a(h){return(0,g.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-h)%7),o.setHours(0,0,0,0)},function(o,p){o.setDate(o.getDate()+p*7)},function(o,p){return(p-o-(p.getTimezoneOffset()-o.getTimezoneOffset())*R.iy)/R.KK})}var C=a(0),S=a(1),v=a(2),d=a(3),r=a(4),t=a(5),i=a(6),n=C.range,f=S.range,u=v.range,l=d.range,m=r.range,c=t.range,A=i.range},32171:function(H,G,e){e.d(G,{Q:function(){return a}});var g=e(81628),R=(0,g.c)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,S){C.setFullYear(C.getFullYear()+S)},function(C,S){return S.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});R.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.c)(function(S){S.setFullYear(Math.floor(S.getFullYear()/C)*C),S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,v){S.setFullYear(S.getFullYear()+v*C)})},G.c=R;var a=R.range},64348:function(H,G,e){var g=e(39640)(),R=e(53664),a=g&&R("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var C=R("%SyntaxError%"),S=R("%TypeError%"),v=e(2304);H.exports=function(r,t,i){if(!r||typeof r!="object"&&typeof r!="function")throw new S("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new S("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new S("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new S("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new S("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new S("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,m=!!v&&v(r,t);if(a)a(r,t,{configurable:u===null&&m?m.configurable:!u,enumerable:n===null&&m?m.enumerable:!n,value:i,writable:f===null&&m?m.writable:!f});else if(l||!n&&!f&&!u)r[t]=i;else throw new C("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(H,G,e){var g=e(41820),R=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,C=Array.prototype.concat,S=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},d=e(39640)(),r=S&&d,t=function(n,f,u,l){if(f in n){if(l===!0){if(n[f]===u)return}else if(!v(l)||!l())return}r?S(n,f,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[f]=u},i=function(n,f){var u=arguments.length>2?arguments[2]:{},l=g(f);R&&(l=C.call(l,Object.getOwnPropertySymbols(f)));for(var m=0;m<l.length;m+=1)t(n,l[m],f[l[m]],u[l[m]])};i.supportsDescriptors=!!r,H.exports=i},31264:function(H){H.exports=function(){for(var G=0;G<arguments.length;G++)if(arguments[G]!==void 0)return arguments[G]}},63768:function(H){H.exports=R;var G=R.canvas=document.createElement("canvas"),e=G.getContext("2d"),g=a([32,126]);R.createPairs=a,R.ascii=g;function R(C,S){Array.isArray(C)&&(C=C.join(", "));var v={},d,r=16,t=.05;S&&(S.length===2&&typeof S[0]=="number"?d=a(S):Array.isArray(S)?d=S:(S.o?d=a(S.o):S.pairs&&(d=S.pairs),S.fontSize&&(r=S.fontSize),S.threshold!=null&&(t=S.threshold))),d||(d=g),e.font=r+"px "+C;for(var i=0;i<d.length;i++){var n=d[i],f=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(f-u)>r*t){var l=(u-f)/r;v[n]=l*1e3}}return v}function a(C){for(var S=[],v=C[0];v<=C[1];v++)for(var d=String.fromCharCode(v),r=C[0];r<C[1];r++){var t=String.fromCharCode(r),i=d+t;S.push(i)}return S}},22235:function(H,G,e){var g=e(49972),R=e(48816),a={M:"moveTo",C:"bezierCurveTo"};H.exports=function(C,S){C.beginPath(),R(g(S)).forEach(function(v){var d=v[0],r=v.slice(1);C[a[d]].apply(C,r)}),C.closePath()}},72512:function(H){H.exports=function(G){switch(G){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(H){function G(R,a,C){var S=R[C]|0;if(S<=0)return[];var v=new Array(S),d;if(C===R.length-1)for(d=0;d<S;++d)v[d]=a;else for(d=0;d<S;++d)v[d]=G(R,a,C+1);return v}function e(R,a){var C,S;for(C=new Array(R),S=0;S<R;++S)C[S]=a;return C}function g(R,a){switch(typeof a>"u"&&(a=0),typeof R){case"number":if(R>0)return e(R|0,a);break;case"object":if(typeof R.length=="number")return G(R,a,0);break}return[]}H.exports=g},28912:function(H){H.exports=G,H.exports.default=G;function G(_,U,z){z=z||2;var F=U&&U.length,B=F?U[0]*z:_.length,N=e(_,0,B,z,!0),V=[];if(!N||N.next===N.prev)return V;var X,q,te,ne,ce,Q,Z;if(F&&(N=d(_,U,N,z)),_.length>80*z){X=te=_[0],q=ne=_[1];for(var re=z;re<B;re+=z)ce=_[re],Q=_[re+1],ce<X&&(X=ce),Q<q&&(q=Q),ce>te&&(te=ce),Q>ne&&(ne=Q);Z=Math.max(te-X,ne-q),Z=Z!==0?1/Z:0}return R(N,V,z,X,q,Z),V}function e(_,U,z,F,B){var N,V;if(B===O(_,U,z,F)>0)for(N=U;N<z;N+=F)V=s(N,_[N],_[N+1],V);else for(N=z-F;N>=U;N-=F)V=s(N,_[N],_[N+1],V);return V&&o(V,V.next)&&(E(V),V=V.next),V}function g(_,U){if(!_)return _;U||(U=_);var z=_,F;do if(F=!1,!z.steiner&&(o(z,z.next)||h(z.prev,z,z.next)===0)){if(E(z),z=U=z.prev,z===z.next)break;F=!0}else z=z.next;while(F||z!==U);return U}function R(_,U,z,F,B,N,V){if(_){!V&&N&&f(_,F,B,N);for(var X=_,q,te;_.prev!==_.next;){if(q=_.prev,te=_.next,N?C(_,F,B,N):a(_)){U.push(q.i/z),U.push(_.i/z),U.push(te.i/z),E(_),_=te.next,X=te.next;continue}if(_=te,_===X){V?V===1?(_=S(g(_),U,z),R(_,U,z,F,B,N,2)):V===2&&v(_,U,z,F,B,N):R(g(_),U,z,F,B,N,1);break}}}}function a(_){var U=_.prev,z=_,F=_.next;if(h(U,z,F)>=0)return!1;for(var B=_.next.next;B!==_.prev;){if(c(U.x,U.y,z.x,z.y,F.x,F.y,B.x,B.y)&&h(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function C(_,U,z,F){var B=_.prev,N=_,V=_.next;if(h(B,N,V)>=0)return!1;for(var X=B.x<N.x?B.x<V.x?B.x:V.x:N.x<V.x?N.x:V.x,q=B.y<N.y?B.y<V.y?B.y:V.y:N.y<V.y?N.y:V.y,te=B.x>N.x?B.x>V.x?B.x:V.x:N.x>V.x?N.x:V.x,ne=B.y>N.y?B.y>V.y?B.y:V.y:N.y>V.y?N.y:V.y,ce=l(X,q,U,z,F),Q=l(te,ne,U,z,F),Z=_.prevZ,re=_.nextZ;Z&&Z.z>=ce&&re&&re.z<=Q;){if(Z!==_.prev&&Z!==_.next&&c(B.x,B.y,N.x,N.y,V.x,V.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,re!==_.prev&&re!==_.next&&c(B.x,B.y,N.x,N.y,V.x,V.y,re.x,re.y)&&h(re.prev,re,re.next)>=0))return!1;re=re.nextZ}for(;Z&&Z.z>=ce;){if(Z!==_.prev&&Z!==_.next&&c(B.x,B.y,N.x,N.y,V.x,V.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;re&&re.z<=Q;){if(re!==_.prev&&re!==_.next&&c(B.x,B.y,N.x,N.y,V.x,V.y,re.x,re.y)&&h(re.prev,re,re.next)>=0)return!1;re=re.nextZ}return!0}function S(_,U,z){var F=_;do{var B=F.prev,N=F.next.next;!o(B,N)&&p(B,F,F.next,N)&&x(B,N)&&x(N,B)&&(U.push(B.i/z),U.push(F.i/z),U.push(N.i/z),E(F),E(F.next),F=_=N),F=F.next}while(F!==_);return g(F)}function v(_,U,z,F,B,N){var V=_;do{for(var X=V.next.next;X!==V.prev;){if(V.i!==X.i&&A(V,X)){var q=M(V,X);V=g(V,V.next),q=g(q,q.next),R(V,U,z,F,B,N),R(q,U,z,F,B,N);return}X=X.next}V=V.next}while(V!==_)}function d(_,U,z,F){var B=[],N,V,X,q,te;for(N=0,V=U.length;N<V;N++)X=U[N]*F,q=N<V-1?U[N+1]*F:_.length,te=e(_,X,q,F,!1),te===te.next&&(te.steiner=!0),B.push(m(te));for(B.sort(r),N=0;N<B.length;N++)t(B[N],z),z=g(z,z.next);return z}function r(_,U){return _.x-U.x}function t(_,U){if(U=i(_,U),U){var z=M(U,_);g(U,U.next),g(z,z.next)}}function i(_,U){var z=U,F=_.x,B=_.y,N=-1/0,V;do{if(B<=z.y&&B>=z.next.y&&z.next.y!==z.y){var X=z.x+(B-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(X<=F&&X>N){if(N=X,X===F){if(B===z.y)return z;if(B===z.next.y)return z.next}V=z.x<z.next.x?z:z.next}}z=z.next}while(z!==U);if(!V)return null;if(F===N)return V;var q=V,te=V.x,ne=V.y,ce=1/0,Q;z=V;do F>=z.x&&z.x>=te&&F!==z.x&&c(B<ne?F:N,B,te,ne,B<ne?N:F,B,z.x,z.y)&&(Q=Math.abs(B-z.y)/(F-z.x),x(z,_)&&(Q<ce||Q===ce&&(z.x>V.x||z.x===V.x&&n(V,z)))&&(V=z,ce=Q)),z=z.next;while(z!==q);return V}function n(_,U){return h(_.prev,_,U.prev)<0&&h(U.next,_,_.next)<0}function f(_,U,z,F){var B=_;do B.z===null&&(B.z=l(B.x,B.y,U,z,F)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==_);B.prevZ.nextZ=null,B.prevZ=null,u(B)}function u(_){var U,z,F,B,N,V,X,q,te=1;do{for(z=_,_=null,N=null,V=0;z;){for(V++,F=z,X=0,U=0;U<te&&(X++,F=F.nextZ,!!F);U++);for(q=te;X>0||q>0&&F;)X!==0&&(q===0||!F||z.z<=F.z)?(B=z,z=z.nextZ,X--):(B=F,F=F.nextZ,q--),N?N.nextZ=B:_=B,B.prevZ=N,N=B;z=F}N.nextZ=null,te*=2}while(V>1);return _}function l(_,U,z,F,B){return _=32767*(_-z)*B,U=32767*(U-F)*B,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,_|U<<1}function m(_){var U=_,z=_;do(U.x<z.x||U.x===z.x&&U.y<z.y)&&(z=U),U=U.next;while(U!==_);return z}function c(_,U,z,F,B,N,V,X){return(B-V)*(U-X)-(_-V)*(N-X)>=0&&(_-V)*(F-X)-(z-V)*(U-X)>=0&&(z-V)*(N-X)-(B-V)*(F-X)>=0}function A(_,U){return _.next.i!==U.i&&_.prev.i!==U.i&&!P(_,U)&&(x(_,U)&&x(U,_)&&L(_,U)&&(h(_.prev,_,U.prev)||h(_,U.prev,U))||o(_,U)&&h(_.prev,_,_.next)>0&&h(U.prev,U,U.next)>0)}function h(_,U,z){return(U.y-_.y)*(z.x-U.x)-(U.x-_.x)*(z.y-U.y)}function o(_,U){return _.x===U.x&&_.y===U.y}function p(_,U,z,F){var B=T(h(_,U,z)),N=T(h(_,U,F)),V=T(h(z,F,_)),X=T(h(z,F,U));return!!(B!==N&&V!==X||B===0&&b(_,z,U)||N===0&&b(_,F,U)||V===0&&b(z,_,F)||X===0&&b(z,U,F))}function b(_,U,z){return U.x<=Math.max(_.x,z.x)&&U.x>=Math.min(_.x,z.x)&&U.y<=Math.max(_.y,z.y)&&U.y>=Math.min(_.y,z.y)}function T(_){return _>0?1:_<0?-1:0}function P(_,U){var z=_;do{if(z.i!==_.i&&z.next.i!==_.i&&z.i!==U.i&&z.next.i!==U.i&&p(z,z.next,_,U))return!0;z=z.next}while(z!==_);return!1}function x(_,U){return h(_.prev,_,_.next)<0?h(_,U,_.next)>=0&&h(_,_.prev,U)>=0:h(_,U,_.prev)<0||h(_,_.next,U)<0}function L(_,U){var z=_,F=!1,B=(_.x+U.x)/2,N=(_.y+U.y)/2;do z.y>N!=z.next.y>N&&z.next.y!==z.y&&B<(z.next.x-z.x)*(N-z.y)/(z.next.y-z.y)+z.x&&(F=!F),z=z.next;while(z!==_);return F}function M(_,U){var z=new w(_.i,_.x,_.y),F=new w(U.i,U.x,U.y),B=_.next,N=U.prev;return _.next=U,U.prev=_,z.next=B,B.prev=z,F.next=z,z.prev=F,N.next=F,F.prev=N,F}function s(_,U,z,F){var B=new w(_,U,z);return F?(B.next=F.next,B.prev=F,F.next.prev=B,F.next=B):(B.prev=B,B.next=B),B}function E(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function w(_,U,z){this.i=_,this.x=U,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}G.deviation=function(_,U,z,F){var B=U&&U.length,N=B?U[0]*z:_.length,V=Math.abs(O(_,0,N,z));if(B)for(var X=0,q=U.length;X<q;X++){var te=U[X]*z,ne=X<q-1?U[X+1]*z:_.length;V-=Math.abs(O(_,te,ne,z))}var ce=0;for(X=0;X<F.length;X+=3){var Q=F[X]*z,Z=F[X+1]*z,re=F[X+2]*z;ce+=Math.abs((_[Q]-_[re])*(_[Z+1]-_[Q+1])-(_[Q]-_[Z])*(_[re+1]-_[Q+1]))}return V===0&&ce===0?0:Math.abs((ce-V)/V)};function O(_,U,z,F){for(var B=0,N=U,V=z-F;N<z;N+=F)B+=(_[V]-_[N])*(_[N+1]+_[V+1]),V=N;return B}G.flatten=function(_){for(var U=_[0][0].length,z={vertices:[],holes:[],dimensions:U},F=0,B=0;B<_.length;B++){for(var N=0;N<_[B].length;N++)for(var V=0;V<U;V++)z.vertices.push(_[B][N][V]);B>0&&(F+=_[B-1].length,z.holes.push(F))}return z}},6688:function(H,G,e){var g=e(78484);H.exports=function(a,C){var S=[],v=[],d=[],r={},t=[],i;function n(b){d[b]=!1,r.hasOwnProperty(b)&&Object.keys(r[b]).forEach(function(T){delete r[b][T],d[T]&&n(T)})}function f(b){var T=!1;v.push(b),d[b]=!0;var P,x;for(P=0;P<t[b].length;P++)x=t[b][P],x===i?(u(i,v),T=!0):d[x]||(T=f(x));if(T)n(b);else for(P=0;P<t[b].length;P++){x=t[b][P];var L=r[x];L||(L={},r[x]=L),L[x]=!0}return v.pop(),T}function u(b,T){var P=[].concat(T).concat(b);C?C(f):S.push(P)}function l(b){for(var T=0;T<a.length;T++)T<b&&(a[T]=[]),a[T]=a[T].filter(function(P){return P>=b})}function m(b){l(b);for(var T=a,P=g(T),x=P.components.filter(function(_){return _.length>1}),L=1/0,M,s=0;s<x.length;s++)for(var E=0;E<x[s].length;E++)x[s][E]<L&&(L=x[s][E],M=s);var w=x[M];if(!w)return!1;var O=a.map(function(_,U){return w.indexOf(U)===-1?[]:_.filter(function(z){return w.indexOf(z)!==-1})});return{leastVertex:L,adjList:O}}i=0;for(var c=a.length;i<c;){var A=m(i);if(i=A.leastVertex,t=A.adjList,t){for(var h=0;h<t.length;h++)for(var o=0;o<t[h].length;o++){var p=t[h][o];d[+p]=!1,r[p]={}}f(i),i=i+1}else i=c}if(!C)return S}},41476:function(H,G,e){var g=e(9252);H.exports=function(){return g(this).length=0,this}},74772:function(H,G,e){H.exports=e(44716)()?Array.from:e(80816)},44716:function(H){H.exports=function(){var G=Array.from,e,g;return typeof G!="function"?!1:(e=["raz","dwa"],g=G(e),!!(g&&g!==e&&g[1]==="dwa"))}},80816:function(H,G,e){var g=e(92664).iterator,R=e(60948),a=e(17024),C=e(81304),S=e(34044),v=e(9252),d=e(42584),r=e(29768),t=Array.isArray,i=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;H.exports=function(u){var l=arguments[1],m=arguments[2],c,A,h,o,p,b,T,P,x,L;if(u=Object(v(u)),d(l)&&S(l),!this||this===Array||!a(this)){if(!l){if(R(u))return p=u.length,p!==1?Array.apply(null,u):(o=new Array(1),o[0]=u[0],o);if(t(u)){for(o=new Array(p=u.length),A=0;A<p;++A)o[A]=u[A];return o}}o=[]}else c=this;if(!t(u)){if((x=u[g])!==void 0){for(T=S(x).call(u),c&&(o=new c),P=T.next(),A=0;!P.done;)L=l?i.call(l,m,P.value,A):P.value,c?(n.value=L,f(o,A,n)):o[A]=L,P=T.next(),++A;p=A}else if(r(u)){for(p=u.length,c&&(o=new c),A=0,h=0;A<p;++A)L=u[A],A+1<p&&(b=L.charCodeAt(0),b>=55296&&b<=56319&&(L+=u[++A])),L=l?i.call(l,m,L,h):L,c?(n.value=L,f(o,h,n)):o[h]=L,++h;p=h}}if(p===void 0)for(p=C(u.length),c&&(o=new c(p)),A=0;A<p;++A)L=l?i.call(l,m,u[A],A):u[A],c?(n.value=L,f(o,A,n)):o[A]=L;return c&&(n.value=null,o.length=p),o}},60948:function(H){var G=Object.prototype.toString,e=G.call(function(){return arguments}());H.exports=function(g){return G.call(g)===e}},17024:function(H){var G=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);H.exports=function(g){return typeof g=="function"&&e(G.call(g))}},33208:function(H){H.exports=function(){}},85608:function(H,G,e){H.exports=e(37328)()?Math.sign:e(92928)},37328:function(H){H.exports=function(){var G=Math.sign;return typeof G!="function"?!1:G(10)===1&&G(-20)===-1}},92928:function(H){H.exports=function(G){return G=Number(G),isNaN(G)||G===0?G:G>0?1:-1}},96936:function(H,G,e){var g=e(85608),R=Math.abs,a=Math.floor;H.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:g(C)*a(R(C)))}},81304:function(H,G,e){var g=e(96936),R=Math.max;H.exports=function(a){return R(0,g(a))}},14428:function(H,G,e){var g=e(34044),R=e(9252),a=Function.prototype.bind,C=Function.prototype.call,S=Object.keys,v=Object.prototype.propertyIsEnumerable;H.exports=function(d,r){return function(t,i){var n,f=arguments[2],u=arguments[3];return t=Object(R(t)),g(i),n=S(t),u&&n.sort(typeof u=="function"?a.call(u,t):void 0),typeof d!="function"&&(d=n[d]),C.call(d,n,function(l,m){return v.call(t,l)?C.call(i,f,t[l],l,t,m):r})}}},38452:function(H,G,e){H.exports=e(96276)()?Object.assign:e(81892)},96276:function(H){H.exports=function(){var G=Object.assign,e;return typeof G!="function"?!1:(e={foo:"raz"},G(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(H,G,e){var g=e(54768),R=e(9252),a=Math.max;H.exports=function(C,S){var v,d,r=a(arguments.length,2),t;for(C=Object(R(C)),t=function(i){try{C[i]=S[i]}catch(n){v||(v=n)}},d=1;d<r;++d)S=arguments[d],g(S).forEach(t);if(v!==void 0)throw v;return C}},95920:function(H,G,e){var g=e(74772),R=e(38452),a=e(9252);H.exports=function(C){var S=Object(a(C)),v=arguments[1],d=Object(arguments[2]);if(S!==C&&!v)return S;var r={};return v?g(v,function(t){(d.ensure||t in C)&&(r[t]=C[t])}):R(r,C),r}},14452:function(H,G,e){var g=Object.create,R;e(63092)()||(R=e(8672)),H.exports=function(){var a,C,S;return!R||R.level!==1?g:(a={},C={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=S}),Object.defineProperties(a,C),Object.defineProperty(R,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,d){return g(v===null?a:v,d)})}()},42748:function(H,G,e){H.exports=e(14428)("forEach")},69127:function(H,G,e){var g=e(42584),R={function:!0,object:!0};H.exports=function(a){return g(a)&&R[typeof a]||!1}},42584:function(H,G,e){var g=e(33208)();H.exports=function(R){return R!==g&&R!==null}},54768:function(H,G,e){H.exports=e(87888)()?Object.keys:e(89592)},87888:function(H){H.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(H,G,e){var g=e(42584),R=Object.keys;H.exports=function(a){return R(g(a)?Object(a):a)}},84323:function(H,G,e){var g=e(34044),R=e(42748),a=Function.prototype.call;H.exports=function(C,S){var v={},d=arguments[2];return g(S),R(C,function(r,t,i,n){v[t]=a.call(S,d,r,t,i,n)}),v}},50868:function(H,G,e){var g=e(42584),R=Array.prototype.forEach,a=Object.create,C=function(S,v){var d;for(d in S)v[d]=S[d]};H.exports=function(S){var v=a(null);return R.call(arguments,function(d){g(d)&&C(Object(d),v)}),v}},69932:function(H,G,e){H.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(H){var G=Object.create,e=Object.getPrototypeOf,g={};H.exports=function(){var R=Object.setPrototypeOf,a=arguments[0]||G;return typeof R!="function"?!1:e(R(a(null),g))===g}},8672:function(H,G,e){var g=e(69127),R=e(9252),a=Object.prototype.isPrototypeOf,C=Object.defineProperty,S={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(d,r){if(R(d),r===null||g(r))return d;throw new TypeError("Prototype must be null or an object")},H.exports=function(d){var r,t;return d?(d.level===2?d.set?(t=d.set,r=function(i,n){return t.call(v(i,n),n),i}):r=function(i,n){return v(i,n).__proto__=n,i}:r=function i(n,f){var u;return v(n,f),u=a.call(i.nullPolyfill,n),u&&delete i.nullPolyfill.__proto__,f===null&&(f=i.nullPolyfill),n.__proto__=f,u&&C(i.nullPolyfill,"__proto__",S),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:d.level})):null}(function(){var d=Object.create(null),r={},t,i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{t=i.set,t.call(d,r)}catch{}if(Object.getPrototypeOf(d)===r)return{set:t,level:2}}return d.__proto__=r,Object.getPrototypeOf(d)===r?{level:2}:(d={},d.__proto__=r,Object.getPrototypeOf(d)===r?{level:1}:!1)}()),e(14452)},34044:function(H){H.exports=function(G){if(typeof G!="function")throw new TypeError(G+" is not a function");return G}},92584:function(H,G,e){var g=e(69127);H.exports=function(R){if(!g(R))throw new TypeError(R+" is not an Object");return R}},9252:function(H,G,e){var g=e(42584);H.exports=function(R){if(!g(R))throw new TypeError("Cannot use null or undefined");return R}},71056:function(H,G,e){H.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(H){var G="razdwatrzy";H.exports=function(){return typeof G.contains!="function"?!1:G.contains("dwa")===!0&&G.contains("foo")===!1}},93040:function(H){var G=String.prototype.indexOf;H.exports=function(e){return G.call(this,e,arguments[1])>-1}},29768:function(H){var G=Object.prototype.toString,e=G.call("");H.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||G.call(g)===e)||!1}},82252:function(H){var G=Object.create(null),e=Math.random;H.exports=function(){var g;do g=e().toString(36).slice(2);while(G[g]);return g}},52104:function(H,G,e){var g=e(69932),R=e(71056),a=e(21092),C=e(92664),S=e(85512),v=Object.defineProperty,d;d=H.exports=function(r,t){if(!(this instanceof d))throw new TypeError("Constructor requires 'new'");S.call(this,r),t?R.call(t,"key+value")?t="key+value":R.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",a("",t))},g&&g(d,S),delete d.prototype.constructor,d.prototype=Object.create(S.prototype,{_resolve:a(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(d.prototype,C.toStringTag,a("c","Array Iterator"))},76024:function(H,G,e){var g=e(60948),R=e(34044),a=e(29768),C=e(76252),S=Array.isArray,v=Function.prototype.call,d=Array.prototype.some;H.exports=function(r,t){var i,n=arguments[2],f,u,l,m,c,A,h;if(S(r)||g(r)?i="array":a(r)?i="string":r=C(r),R(t),u=function(){l=!0},i==="array"){d.call(r,function(o){return v.call(t,n,o,u),l});return}if(i==="string"){for(c=r.length,m=0;m<c&&(A=r[m],m+1<c&&(h=A.charCodeAt(0),h>=55296&&h<=56319&&(A+=r[++m])),v.call(t,n,A,u),!l);++m);return}for(f=r.next();!f.done;){if(v.call(t,n,f.value,u),l)return;f=r.next()}}},76252:function(H,G,e){var g=e(60948),R=e(29768),a=e(52104),C=e(80940),S=e(52891),v=e(92664).iterator;H.exports=function(d){return typeof S(d)[v]=="function"?d[v]():g(d)?new a(d):R(d)?new C(d):new a(d)}},85512:function(H,G,e){var g=e(41476),R=e(38452),a=e(34044),C=e(9252),S=e(21092),v=e(27940),d=e(92664),r=Object.defineProperty,t=Object.defineProperties,i;H.exports=i=function(n,f){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");t(this,{__list__:S("w",C(n)),__context__:S("w",f),__nextIndex__:S("w",0)}),f&&(a(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete i.prototype.constructor,t(i.prototype,R({_next:S(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:S(function(){return this._createResult(this._next())}),_createResult:S(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:S(function(n){return this.__list__[n]}),_unBind:S(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:S(function(){return"[object "+(this[d.toStringTag]||"Object")+"]"})},v({_onAdd:S(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",S("c",[n]));return}this.__redo__.forEach(function(f,u){f>=n&&(this.__redo__[u]=++f)},this),this.__redo__.push(n)}}),_onDelete:S(function(n){var f;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(n),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(u,l){u>n&&(this.__redo__[l]=--u)},this)))}),_onClear:S(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),r(i.prototype,d.iterator,S(function(){return this}))},76368:function(H,G,e){var g=e(60948),R=e(42584),a=e(29768),C=e(92664).iterator,S=Array.isArray;H.exports=function(v){return R(v)?S(v)||a(v)||g(v)?!0:typeof v[C]=="function":!1}},80940:function(H,G,e){var g=e(69932),R=e(21092),a=e(92664),C=e(85512),S=Object.defineProperty,v;v=H.exports=function(d){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");d=String(d),C.call(this,d),S(this,"__length__",R("",d.length))},g&&g(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:R(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:R(function(d){var r=this.__list__[d],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),S(v.prototype,a.toStringTag,R("c","String Iterator"))},52891:function(H,G,e){var g=e(76368);H.exports=function(R){if(!g(R))throw new TypeError(R+" is not iterable");return R}},60964:function(H){function G(g,R){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(g),C=1;C<arguments.length;C++){var S=arguments[C];if(S!=null)for(var v=Object.keys(Object(S)),d=0,r=v.length;d<r;d++){var t=v[d],i=Object.getOwnPropertyDescriptor(S,t);i!==void 0&&i.enumerable&&(a[t]=S[t])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:G})}H.exports={assign:G,polyfill:e}},92664:function(H,G,e){H.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(H,G,e){var g=e(12296),R={object:!0,symbol:!0};H.exports=function(){var a=g.Symbol,C;if(typeof a!="function")return!1;C=a("test symbol");try{String(C)}catch{return!1}return!(!R[typeof a.iterator]||!R[typeof a.toPrimitive]||!R[typeof a.toStringTag])}},53908:function(H){H.exports=function(G){return G?typeof G=="symbol"?!0:!G.constructor||G.constructor.name!=="Symbol"?!1:G[G.constructor.toStringTag]==="Symbol":!1}},96863:function(H,G,e){var g=e(21092),R=Object.create,a=Object.defineProperty,C=Object.prototype,S=R(null);H.exports=function(v){for(var d=0,r,t;S[v+(d||"")];)++d;return v+=d||"",S[v]=!0,r="@@"+v,a(C,r,g.gs(null,function(i){t||(t=!0,a(this,r,g(i)),t=!1)})),r}},53540:function(H,G,e){var g=e(21092),R=e(12296).Symbol;H.exports=function(a){return Object.defineProperties(a,{hasInstance:g("",R&&R.hasInstance||a("hasInstance")),isConcatSpreadable:g("",R&&R.isConcatSpreadable||a("isConcatSpreadable")),iterator:g("",R&&R.iterator||a("iterator")),match:g("",R&&R.match||a("match")),replace:g("",R&&R.replace||a("replace")),search:g("",R&&R.search||a("search")),species:g("",R&&R.species||a("species")),split:g("",R&&R.split||a("split")),toPrimitive:g("",R&&R.toPrimitive||a("toPrimitive")),toStringTag:g("",R&&R.toStringTag||a("toStringTag")),unscopables:g("",R&&R.unscopables||a("unscopables"))})}},73852:function(H,G,e){var g=e(21092),R=e(63948),a=Object.create(null);H.exports=function(C){return Object.defineProperties(C,{for:g(function(S){return a[S]?a[S]:a[S]=C(String(S))}),keyFor:g(function(S){var v;R(S);for(v in a)if(a[v]===S)return v})})}},18376:function(H,G,e){var g=e(21092),R=e(63948),a=e(12296).Symbol,C=e(96863),S=e(53540),v=e(73852),d=Object.create,r=Object.defineProperties,t=Object.defineProperty,i,n,f;if(typeof a=="function")try{String(a()),f=!0}catch{}else a=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return i(l)},H.exports=i=function u(l){var m;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?a(l):(m=d(n.prototype),l=l===void 0?"":String(l),r(m,{__description__:g("",l),__name__:g("",C(l))}))},S(i),v(i),r(n.prototype,{constructor:g(i),toString:g("",function(){return this.__name__})}),r(i.prototype,{toString:g(function(){return"Symbol ("+R(this).__description__+")"}),valueOf:g(function(){return R(this)})}),t(i.prototype,i.toPrimitive,g("",function(){var u=R(this);return typeof u=="symbol"?u:u.toString()})),t(i.prototype,i.toStringTag,g("c","Symbol")),t(n.prototype,i.toStringTag,g("c",i.prototype[i.toStringTag])),t(n.prototype,i.toPrimitive,g("c",i.prototype[i.toPrimitive]))},63948:function(H,G,e){var g=e(53908);H.exports=function(R){if(!g(R))throw new TypeError(R+" is not a symbol");return R}},60463:function(H,G,e){H.exports=e(96979)()?WeakMap:e(64864)},96979:function(H){H.exports=function(){var G,e;if(typeof WeakMap!="function")return!1;try{G=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(G)!=="[object WeakMap]"||typeof G.set!="function"||G.set({},1)!==G||typeof G.delete!="function"||typeof G.has!="function"||G.get(e)!=="one")}},69876:function(H){H.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(H,G,e){var g=e(42584),R=e(69932),a=e(92584),C=e(9252),S=e(82252),v=e(21092),d=e(76252),r=e(76024),t=e(92664).toStringTag,i=e(69876),n=Array.isArray,f=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,m;H.exports=m=function(){var c=arguments[0],A;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return A=i&&R&&WeakMap!==m?R(new WeakMap,l(this)):this,g(c)&&(n(c)||(c=d(c))),f(A,"__weakMapData__",v("c","$weakMap$"+S())),c&&r(c,function(h){C(h),A.set(h[0],h[1])}),A},i&&(R&&R(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:v(m)})),Object.defineProperties(m.prototype,{delete:v(function(c){return u.call(a(c),this.__weakMapData__)?(delete c[this.__weakMapData__],!0):!1}),get:v(function(c){if(u.call(a(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:v(function(c){return u.call(a(c),this.__weakMapData__)}),set:v(function(c,A){return f(a(c),this.__weakMapData__,v("c",A)),this}),toString:v(function(){return"[object WeakMap]"})}),f(m.prototype,t,v("c","WeakMap"))},61252:function(H){var G=typeof Reflect=="object"?Reflect:null,e=G&&typeof G.apply=="function"?G.apply:function(p,b,T){return Function.prototype.apply.call(p,b,T)},g;G&&typeof G.ownKeys=="function"?g=G.ownKeys:Object.getOwnPropertySymbols?g=function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:g=function(p){return Object.getOwnPropertyNames(p)};function R(o){console&&console.warn&&console.warn(o)}var a=Number.isNaN||function(p){return p!==p};function C(){C.init.call(this)}H.exports=C,H.exports.once=c,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var S=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(o){if(typeof o!="number"||o<0||a(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");S=o}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||a(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this};function d(o){return o._maxListeners===void 0?C.defaultMaxListeners:o._maxListeners}C.prototype.getMaxListeners=function(){return d(this)},C.prototype.emit=function(p){for(var b=[],T=1;T<arguments.length;T++)b.push(arguments[T]);var P=p==="error",x=this._events;if(x!==void 0)P=P&&x.error===void 0;else if(!P)return!1;if(P){var L;if(b.length>0&&(L=b[0]),L instanceof Error)throw L;var M=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw M.context=L,M}var s=x[p];if(s===void 0)return!1;if(typeof s=="function")e(s,this,b);else for(var E=s.length,w=u(s,E),T=0;T<E;++T)e(w[T],this,b);return!0};function r(o,p,b,T){var P,x,L;if(v(b),x=o._events,x===void 0?(x=o._events=Object.create(null),o._eventsCount=0):(x.newListener!==void 0&&(o.emit("newListener",p,b.listener?b.listener:b),x=o._events),L=x[p]),L===void 0)L=x[p]=b,++o._eventsCount;else if(typeof L=="function"?L=x[p]=T?[b,L]:[L,b]:T?L.unshift(b):L.push(b),P=d(o),P>0&&L.length>P&&!L.warned){L.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=o,M.type=p,M.count=L.length,R(M)}return o}C.prototype.addListener=function(p,b){return r(this,p,b,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(p,b){return r(this,p,b,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(o,p,b){var T={fired:!1,wrapFn:void 0,target:o,type:p,listener:b},P=t.bind(T);return P.listener=b,T.wrapFn=P,P}C.prototype.once=function(p,b){return v(b),this.on(p,i(this,p,b)),this},C.prototype.prependOnceListener=function(p,b){return v(b),this.prependListener(p,i(this,p,b)),this},C.prototype.removeListener=function(p,b){var T,P,x,L,M;if(v(b),P=this._events,P===void 0)return this;if(T=P[p],T===void 0)return this;if(T===b||T.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete P[p],P.removeListener&&this.emit("removeListener",p,T.listener||b));else if(typeof T!="function"){for(x=-1,L=T.length-1;L>=0;L--)if(T[L]===b||T[L].listener===b){M=T[L].listener,x=L;break}if(x<0)return this;x===0?T.shift():l(T,x),T.length===1&&(P[p]=T[0]),P.removeListener!==void 0&&this.emit("removeListener",p,M||b)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(p){var b,T,P;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete T[p]),this;if(arguments.length===0){var x=Object.keys(T),L;for(P=0;P<x.length;++P)L=x[P],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=T[p],typeof b=="function")this.removeListener(p,b);else if(b!==void 0)for(P=b.length-1;P>=0;P--)this.removeListener(p,b[P]);return this};function n(o,p,b){var T=o._events;if(T===void 0)return[];var P=T[p];return P===void 0?[]:typeof P=="function"?b?[P.listener||P]:[P]:b?m(P):u(P,P.length)}C.prototype.listeners=function(p){return n(this,p,!0)},C.prototype.rawListeners=function(p){return n(this,p,!1)},C.listenerCount=function(o,p){return typeof o.listenerCount=="function"?o.listenerCount(p):f.call(o,p)},C.prototype.listenerCount=f;function f(o){var p=this._events;if(p!==void 0){var b=p[o];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function u(o,p){for(var b=new Array(p),T=0;T<p;++T)b[T]=o[T];return b}function l(o,p){for(;p+1<o.length;p++)o[p]=o[p+1];o.pop()}function m(o){for(var p=new Array(o.length),b=0;b<p.length;++b)p[b]=o[b].listener||o[b];return p}function c(o,p){return new Promise(function(b,T){function P(L){o.removeListener(p,x),T(L)}function x(){typeof o.removeListener=="function"&&o.removeListener("error",P),b([].slice.call(arguments))}h(o,p,x,{once:!0}),p!=="error"&&A(o,P,{once:!0})})}function A(o,p,b){typeof o.on=="function"&&h(o,"error",p,b)}function h(o,p,b,T){if(typeof o.on=="function")T.once?o.once(p,b):o.on(p,b);else if(typeof o.addEventListener=="function")o.addEventListener(p,function P(x){T.once&&o.removeEventListener(p,P),b(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},39072:function(H){var G=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};H.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return G()}try{return __global__||G()}finally{delete Object.prototype.__global__}}()},12296:function(H,G,e){H.exports=e(45072)()?globalThis:e(39072)},45072:function(H){H.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(H,G,e){var g=e(94576);H.exports=function(R){var a=typeof R;if(a==="string"){var C=R;if(R=+R,R===0&&g(C))return!1}else if(a!=="number")return!1;return R-R<1}},47520:function(H,G,e){var g=e(72512);H.exports=R;function R(a,C,S){if(!a)throw new TypeError("must specify data as first parameter");if(S=+(S||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,d=a.length*v,r,t,i,n;(!C||typeof C=="string")&&(C=new(g(C||"float32"))(d+S));var f=C.length-S;if(d!==f)throw new Error("source length "+d+" ("+v+"x"+a.length+") does not match destination length "+f);for(r=0,i=S;r<a.length;r++)for(t=0;t<v;t++)C[i++]=a[r][t]===null?NaN:a[r][t]}else if(!C||typeof C=="string"){var u=g(C||"float32");if(Array.isArray(a)||C==="array")for(C=new u(a.length+S),r=0,i=S,n=C.length;i<n;i++,r++)C[i]=a[r]===null?NaN:a[r];else S===0?C=new u(a):(C=new u(a.length+S),C.set(a,S))}else C.set(a,S);return C}},33888:function(H,G,e){var g=e(49395),R=[32,126];H.exports=a;function a(C){C=C||{};var S=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),d=C.font,r=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],t=C.chars||R;if(d&&typeof d!="string"&&(d=g(d)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],n=t[0],f=0;n<=t[1];n++)i[f++]=String.fromCharCode(n);t=i}S=S.slice(),v.width=S[0],v.height=S[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=d,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,m=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],l,m),(l+=r[0])>S[0]-r[0]/2&&(l=r[0]/2,m+=r[1]);return v}},71920:function(H){H.exports=G,G.canvas=document.createElement("canvas"),G.cache={};function G(t,C){C||(C={}),(typeof t=="string"||Array.isArray(t))&&(C.family=t);var S=Array.isArray(C.family)?C.family.join(", "):C.family;if(!S)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,d=C.weight||C.fontWeight||"",r=C.style||C.fontStyle||"",t=[r,d,v].join(" ")+"px "+S,i=C.origin||"top";if(G.cache[S]&&v<=G.cache[S].em)return e(G.cache[S],i);var n=C.canvas||G.canvas,f=n.getContext("2d"),u={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,f.font=t;var m="H",c={top:0};f.clearRect(0,0,l,l),f.textBaseline="top",f.fillStyle="black",f.fillText(m,0,0);var A=g(f.getImageData(0,0,l,l));f.clearRect(0,0,l,l),f.textBaseline="bottom",f.fillText(m,0,l);var h=g(f.getImageData(0,0,l,l));c.lineHeight=c.bottom=l-h+A,f.clearRect(0,0,l,l),f.textBaseline="alphabetic",f.fillText(m,0,l);var o=g(f.getImageData(0,0,l,l)),p=l-o-1+A;c.baseline=c.alphabetic=p,f.clearRect(0,0,l,l),f.textBaseline="middle",f.fillText(m,0,l*.5);var b=g(f.getImageData(0,0,l,l));c.median=c.middle=l-b-1+A-l*.5,f.clearRect(0,0,l,l),f.textBaseline="hanging",f.fillText(m,0,l*.5);var T=g(f.getImageData(0,0,l,l));c.hanging=l-T-1+A-l*.5,f.clearRect(0,0,l,l),f.textBaseline="ideographic",f.fillText(m,0,l);var P=g(f.getImageData(0,0,l,l));if(c.ideographic=l-P-1+A,u.upper&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.upper,0,0),c.upper=g(f.getImageData(0,0,l,l)),c.capHeight=c.baseline-c.upper),u.lower&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.lower,0,0),c.lower=g(f.getImageData(0,0,l,l)),c.xHeight=c.baseline-c.lower),u.tittle&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.tittle,0,0),c.tittle=g(f.getImageData(0,0,l,l))),u.ascent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.ascent,0,0),c.ascent=g(f.getImageData(0,0,l,l))),u.descent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.descent,0,0),c.descent=R(f.getImageData(0,0,l,l))),u.overshoot){f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.overshoot,0,0);var x=R(f.getImageData(0,0,l,l));c.overshoot=x-p}for(var L in c)c[L]/=v;return c.em=v,G.cache[S]=c,e(c,i)}function e(a,C){var S={};typeof C=="string"&&(C=a[C]);for(var v in a)v!=="em"&&(S[v]=a[v]-C);return S}function g(a){for(var C=a.height,S=a.data,v=3;v<S.length;v+=4)if(S[v]!==0)return Math.floor((v-3)*.25/C)}function R(a){for(var C=a.height,S=a.data,v=S.length-1;v>0;v-=4)if(S[v]!==0)return Math.floor((v-3)*.25/C)}},46492:function(H,G,e){var g=e(90720),R=Object.prototype.toString,a=Object.prototype.hasOwnProperty,C=function(t,i,n){for(var f=0,u=t.length;f<u;f++)a.call(t,f)&&(n==null?i(t[f],f,t):i.call(n,t[f],f,t))},S=function(t,i,n){for(var f=0,u=t.length;f<u;f++)n==null?i(t.charAt(f),f,t):i.call(n,t.charAt(f),f,t)},v=function(t,i,n){for(var f in t)a.call(t,f)&&(n==null?i(t[f],f,t):i.call(n,t[f],f,t))},d=function(t,i,n){if(!g(i))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=n),R.call(t)==="[object Array]"?C(t,i,f):typeof t=="string"?S(t,i,f):v(t,i,f)};H.exports=d},74336:function(H){var G="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,g=Math.max,R="[object Function]",a=function(d,r){for(var t=[],i=0;i<d.length;i+=1)t[i]=d[i];for(var n=0;n<r.length;n+=1)t[n+d.length]=r[n];return t},C=function(d,r){for(var t=[],i=r||0,n=0;i<d.length;i+=1,n+=1)t[n]=d[i];return t},S=function(v,d){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=d);return r};H.exports=function(d){var r=this;if(typeof r!="function"||e.apply(r)!==R)throw new TypeError(G+r);for(var t=C(arguments,1),i,n=function(){if(this instanceof i){var c=r.apply(this,a(t,arguments));return Object(c)===c?c:this}return r.apply(d,a(t,arguments))},f=g(0,r.length-t.length),u=[],l=0;l<f;l++)u[l]="$"+l;if(i=Function("binder","return function ("+S(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var m=function(){};m.prototype=r.prototype,i.prototype=new m,m.prototype=null}return i}},8844:function(H,G,e){var g=e(74336);H.exports=Function.prototype.bind||g},13380:function(H){H.exports=G;function G(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var R=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(R.width=g.width),typeof g.height=="number"&&(R.height=g.height);var a=g,C;try{var S=[e];e.indexOf("webgl")===0&&S.push("experimental-"+e);for(var v=0;v<S.length;v++)if(C=R.getContext(S[v],a),C)return C}catch{C=null}return C||null}},53664:function(H,G,e){var g,R=SyntaxError,a=Function,C=TypeError,S=function(w){try{return a('"use strict"; return ('+w+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var d=function(){throw new C},r=v?function(){try{return arguments.callee,d}catch{try{return v(arguments,"callee").get}catch{return d}}}():d,t=e(71080)(),i=e(69572)(),n=Object.getPrototypeOf||(i?function(w){return w.__proto__}:null),f={},u=typeof Uint8Array>"u"||!n?g:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?g:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?g:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):g,"%Symbol%":t?Symbol:g,"%SyntaxError%":R,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};if(n)try{null.error}catch(w){var m=n(n(w));l["%Error.prototype%"]=m}var c=function w(O){var _;if(O==="%AsyncFunction%")_=S("async function () {}");else if(O==="%GeneratorFunction%")_=S("function* () {}");else if(O==="%AsyncGeneratorFunction%")_=S("async function* () {}");else if(O==="%AsyncGenerator%"){var U=w("%AsyncGeneratorFunction%");U&&(_=U.prototype)}else if(O==="%AsyncIteratorPrototype%"){var z=w("%AsyncGenerator%");z&&n&&(_=n(z.prototype))}return l[O]=_,_},A={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},h=e(8844),o=e(92064),p=h.call(Function.call,Array.prototype.concat),b=h.call(Function.apply,Array.prototype.splice),T=h.call(Function.call,String.prototype.replace),P=h.call(Function.call,String.prototype.slice),x=h.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,s=function(O){var _=P(O,0,1),U=P(O,-1);if(_==="%"&&U!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(U==="%"&&_!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var z=[];return T(O,L,function(F,B,N,V){z[z.length]=N?T(V,M,"$1"):B||F}),z},E=function(O,_){var U=O,z;if(o(A,U)&&(z=A[U],U="%"+z[0]+"%"),o(l,U)){var F=l[U];if(F===f&&(F=c(U)),typeof F>"u"&&!_)throw new C("intrinsic "+O+" exists, but is not available. Please file an issue!");return{alias:z,name:U,value:F}}throw new R("intrinsic "+O+" does not exist!")};H.exports=function(O,_){if(typeof O!="string"||O.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _!="boolean")throw new C('"allowMissing" argument must be a boolean');if(x(/^%?[^%]*%?$/,O)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var U=s(O),z=U.length>0?U[0]:"",F=E("%"+z+"%",_),B=F.name,N=F.value,V=!1,X=F.alias;X&&(z=X[0],b(U,p([0,1],X)));for(var q=1,te=!0;q<U.length;q+=1){var ne=U[q],ce=P(ne,0,1),Q=P(ne,-1);if((ce==='"'||ce==="'"||ce==="`"||Q==='"'||Q==="'"||Q==="`")&&ce!==Q)throw new R("property names with quotes must have matching quotes");if((ne==="constructor"||!te)&&(V=!0),z+="."+ne,B="%"+z+"%",o(l,B))N=l[B];else if(N!=null){if(!(ne in N)){if(!_)throw new C("base intrinsic for "+O+" exists, but the property is not available.");return}if(v&&q+1>=U.length){var Z=v(N,ne);te=!!Z,te&&"get"in Z&&!("originalValue"in Z.get)?N=Z.get:N=N[ne]}else te=o(N,ne),N=N[ne];te&&!V&&(l[B]=N)}}return N}},12408:function(H){H.exports=G;function G(e,g){var R=g[0],a=g[1],C=g[2],S=g[3],v=g[4],d=g[5],r=g[6],t=g[7],i=g[8],n=g[9],f=g[10],u=g[11],l=g[12],m=g[13],c=g[14],A=g[15];return e[0]=d*(f*A-u*c)-n*(r*A-t*c)+m*(r*u-t*f),e[1]=-(a*(f*A-u*c)-n*(C*A-S*c)+m*(C*u-S*f)),e[2]=a*(r*A-t*c)-d*(C*A-S*c)+m*(C*t-S*r),e[3]=-(a*(r*u-t*f)-d*(C*u-S*f)+n*(C*t-S*r)),e[4]=-(v*(f*A-u*c)-i*(r*A-t*c)+l*(r*u-t*f)),e[5]=R*(f*A-u*c)-i*(C*A-S*c)+l*(C*u-S*f),e[6]=-(R*(r*A-t*c)-v*(C*A-S*c)+l*(C*t-S*r)),e[7]=R*(r*u-t*f)-v*(C*u-S*f)+i*(C*t-S*r),e[8]=v*(n*A-u*m)-i*(d*A-t*m)+l*(d*u-t*n),e[9]=-(R*(n*A-u*m)-i*(a*A-S*m)+l*(a*u-S*n)),e[10]=R*(d*A-t*m)-v*(a*A-S*m)+l*(a*t-S*d),e[11]=-(R*(d*u-t*n)-v*(a*u-S*n)+i*(a*t-S*d)),e[12]=-(v*(n*c-f*m)-i*(d*c-r*m)+l*(d*f-r*n)),e[13]=R*(n*c-f*m)-i*(a*c-C*m)+l*(a*f-C*n),e[14]=-(R*(d*c-r*m)-v*(a*c-C*m)+l*(a*r-C*d)),e[15]=R*(d*f-r*n)-v*(a*f-C*n)+i*(a*r-C*d),e}},76860:function(H){H.exports=G;function G(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},64492:function(H){H.exports=G;function G(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},54212:function(H){H.exports=G;function G(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(H){H.exports=G;function G(e){var g=e[0],R=e[1],a=e[2],C=e[3],S=e[4],v=e[5],d=e[6],r=e[7],t=e[8],i=e[9],n=e[10],f=e[11],u=e[12],l=e[13],m=e[14],c=e[15],A=g*v-R*S,h=g*d-a*S,o=g*r-C*S,p=R*d-a*v,b=R*r-C*v,T=a*r-C*d,P=t*l-i*u,x=t*m-n*u,L=t*c-f*u,M=i*m-n*l,s=i*c-f*l,E=n*c-f*m;return A*E-h*s+o*M+p*L-b*x+T*P}},61784:function(H){H.exports=G;function G(e,g){var R=g[0],a=g[1],C=g[2],S=g[3],v=R+R,d=a+a,r=C+C,t=R*v,i=a*v,n=a*d,f=C*v,u=C*d,l=C*r,m=S*v,c=S*d,A=S*r;return e[0]=1-n-l,e[1]=i+A,e[2]=f-c,e[3]=0,e[4]=i-A,e[5]=1-t-l,e[6]=u+m,e[7]=0,e[8]=f+c,e[9]=u-m,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(H){H.exports=G;function G(e,g,R){var a,C,S,v=R[0],d=R[1],r=R[2],t=Math.sqrt(v*v+d*d+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,d*=t,r*=t,a=Math.sin(g),C=Math.cos(g),S=1-C,e[0]=v*v*S+C,e[1]=d*v*S+r*a,e[2]=r*v*S-d*a,e[3]=0,e[4]=v*d*S-r*a,e[5]=d*d*S+C,e[6]=r*d*S+v*a,e[7]=0,e[8]=v*r*S+d*a,e[9]=d*r*S-v*a,e[10]=r*r*S+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(H){H.exports=G;function G(e,g,R){var a=g[0],C=g[1],S=g[2],v=g[3],d=a+a,r=C+C,t=S+S,i=a*d,n=a*r,f=a*t,u=C*r,l=C*t,m=S*t,c=v*d,A=v*r,h=v*t;return e[0]=1-(u+m),e[1]=n+h,e[2]=f-A,e[3]=0,e[4]=n-h,e[5]=1-(i+m),e[6]=l+c,e[7]=0,e[8]=f+A,e[9]=l-c,e[10]=1-(i+u),e[11]=0,e[12]=R[0],e[13]=R[1],e[14]=R[2],e[15]=1,e}},69444:function(H){H.exports=G;function G(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(H){H.exports=G;function G(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},21856:function(H){H.exports=G;function G(e,g){var R=Math.sin(g),a=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=R,e[7]=0,e[8]=0,e[9]=-R,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(H){H.exports=G;function G(e,g){var R=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=0,e[2]=-R,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=R,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(H){H.exports=G;function G(e,g){var R=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=R,e[2]=0,e[3]=0,e[4]=-R,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(H){H.exports=G;function G(e,g,R,a,C,S,v){var d=1/(R-g),r=1/(C-a),t=1/(S-v);return e[0]=S*2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S*2*r,e[6]=0,e[7]=0,e[8]=(R+g)*d,e[9]=(C+a)*r,e[10]=(v+S)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*S*2*t,e[15]=0,e}},36635:function(H){H.exports=G;function G(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(H,G,e){H.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(H){H.exports=G;function G(e,g){var R=g[0],a=g[1],C=g[2],S=g[3],v=g[4],d=g[5],r=g[6],t=g[7],i=g[8],n=g[9],f=g[10],u=g[11],l=g[12],m=g[13],c=g[14],A=g[15],h=R*d-a*v,o=R*r-C*v,p=R*t-S*v,b=a*r-C*d,T=a*t-S*d,P=C*t-S*r,x=i*m-n*l,L=i*c-f*l,M=i*A-u*l,s=n*c-f*m,E=n*A-u*m,w=f*A-u*c,O=h*w-o*E+p*s+b*M-T*L+P*x;return O?(O=1/O,e[0]=(d*w-r*E+t*s)*O,e[1]=(C*E-a*w-S*s)*O,e[2]=(m*P-c*T+A*b)*O,e[3]=(f*T-n*P-u*b)*O,e[4]=(r*M-v*w-t*L)*O,e[5]=(R*w-C*M+S*L)*O,e[6]=(c*p-l*P-A*o)*O,e[7]=(i*P-f*p+u*o)*O,e[8]=(v*E-d*M+t*x)*O,e[9]=(a*M-R*E-S*x)*O,e[10]=(l*T-m*p+A*h)*O,e[11]=(n*p-i*T-u*h)*O,e[12]=(d*L-v*s-r*x)*O,e[13]=(R*s-a*L+C*x)*O,e[14]=(m*o-l*b-c*h)*O,e[15]=(i*b-n*o+f*h)*O,e):null}},56508:function(H,G,e){var g=e(36635);H.exports=R;function R(a,C,S,v){var d,r,t,i,n,f,u,l,m,c,A=C[0],h=C[1],o=C[2],p=v[0],b=v[1],T=v[2],P=S[0],x=S[1],L=S[2];return Math.abs(A-P)<1e-6&&Math.abs(h-x)<1e-6&&Math.abs(o-L)<1e-6?g(a):(u=A-P,l=h-x,m=o-L,c=1/Math.sqrt(u*u+l*l+m*m),u*=c,l*=c,m*=c,d=b*m-T*l,r=T*u-p*m,t=p*l-b*u,c=Math.sqrt(d*d+r*r+t*t),c?(c=1/c,d*=c,r*=c,t*=c):(d=0,r=0,t=0),i=l*t-m*r,n=m*d-u*t,f=u*r-l*d,c=Math.sqrt(i*i+n*n+f*f),c?(c=1/c,i*=c,n*=c,f*=c):(i=0,n=0,f=0),a[0]=d,a[1]=i,a[2]=u,a[3]=0,a[4]=r,a[5]=n,a[6]=l,a[7]=0,a[8]=t,a[9]=f,a[10]=m,a[11]=0,a[12]=-(d*A+r*h+t*o),a[13]=-(i*A+n*h+f*o),a[14]=-(u*A+l*h+m*o),a[15]=1,a)}},80944:function(H){H.exports=G;function G(e,g,R){var a=g[0],C=g[1],S=g[2],v=g[3],d=g[4],r=g[5],t=g[6],i=g[7],n=g[8],f=g[9],u=g[10],l=g[11],m=g[12],c=g[13],A=g[14],h=g[15],o=R[0],p=R[1],b=R[2],T=R[3];return e[0]=o*a+p*d+b*n+T*m,e[1]=o*C+p*r+b*f+T*c,e[2]=o*S+p*t+b*u+T*A,e[3]=o*v+p*i+b*l+T*h,o=R[4],p=R[5],b=R[6],T=R[7],e[4]=o*a+p*d+b*n+T*m,e[5]=o*C+p*r+b*f+T*c,e[6]=o*S+p*t+b*u+T*A,e[7]=o*v+p*i+b*l+T*h,o=R[8],p=R[9],b=R[10],T=R[11],e[8]=o*a+p*d+b*n+T*m,e[9]=o*C+p*r+b*f+T*c,e[10]=o*S+p*t+b*u+T*A,e[11]=o*v+p*i+b*l+T*h,o=R[12],p=R[13],b=R[14],T=R[15],e[12]=o*a+p*d+b*n+T*m,e[13]=o*C+p*r+b*f+T*c,e[14]=o*S+p*t+b*u+T*A,e[15]=o*v+p*i+b*l+T*h,e}},97688:function(H){H.exports=G;function G(e,g,R,a,C,S,v){var d=1/(g-R),r=1/(a-C),t=1/(S-v);return e[0]=-2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(g+R)*d,e[13]=(C+a)*r,e[14]=(v+S)*t,e[15]=1,e}},51296:function(H){H.exports=G;function G(e,g,R,a,C){var S=1/Math.tan(g/2),v=1/(a-C);return e[0]=S/R,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*a*v,e[15]=0,e}},63688:function(H){H.exports=G;function G(e,g,R,a){var C=Math.tan(g.upDegrees*Math.PI/180),S=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),d=Math.tan(g.rightDegrees*Math.PI/180),r=2/(v+d),t=2/(C+S);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-d)*r*.5),e[9]=(C-S)*t*.5,e[10]=a/(R-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*R/(R-a),e[15]=0,e}},30016:function(H){H.exports=G;function G(e,g,R,a){var C=a[0],S=a[1],v=a[2],d=Math.sqrt(C*C+S*S+v*v),r,t,i,n,f,u,l,m,c,A,h,o,p,b,T,P,x,L,M,s,E,w,O,_;return Math.abs(d)<1e-6?null:(d=1/d,C*=d,S*=d,v*=d,r=Math.sin(R),t=Math.cos(R),i=1-t,n=g[0],f=g[1],u=g[2],l=g[3],m=g[4],c=g[5],A=g[6],h=g[7],o=g[8],p=g[9],b=g[10],T=g[11],P=C*C*i+t,x=S*C*i+v*r,L=v*C*i-S*r,M=C*S*i-v*r,s=S*S*i+t,E=v*S*i+C*r,w=C*v*i+S*r,O=S*v*i-C*r,_=v*v*i+t,e[0]=n*P+m*x+o*L,e[1]=f*P+c*x+p*L,e[2]=u*P+A*x+b*L,e[3]=l*P+h*x+T*L,e[4]=n*M+m*s+o*E,e[5]=f*M+c*s+p*E,e[6]=u*M+A*s+b*E,e[7]=l*M+h*s+T*E,e[8]=n*w+m*O+o*_,e[9]=f*w+c*O+p*_,e[10]=u*w+A*O+b*_,e[11]=l*w+h*O+T*_,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},15456:function(H){H.exports=G;function G(e,g,R){var a=Math.sin(R),C=Math.cos(R),S=g[4],v=g[5],d=g[6],r=g[7],t=g[8],i=g[9],n=g[10],f=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=S*C+t*a,e[5]=v*C+i*a,e[6]=d*C+n*a,e[7]=r*C+f*a,e[8]=t*C-S*a,e[9]=i*C-v*a,e[10]=n*C-d*a,e[11]=f*C-r*a,e}},64840:function(H){H.exports=G;function G(e,g,R){var a=Math.sin(R),C=Math.cos(R),S=g[0],v=g[1],d=g[2],r=g[3],t=g[8],i=g[9],n=g[10],f=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=S*C-t*a,e[1]=v*C-i*a,e[2]=d*C-n*a,e[3]=r*C-f*a,e[8]=S*a+t*C,e[9]=v*a+i*C,e[10]=d*a+n*C,e[11]=r*a+f*C,e}},4192:function(H){H.exports=G;function G(e,g,R){var a=Math.sin(R),C=Math.cos(R),S=g[0],v=g[1],d=g[2],r=g[3],t=g[4],i=g[5],n=g[6],f=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=S*C+t*a,e[1]=v*C+i*a,e[2]=d*C+n*a,e[3]=r*C+f*a,e[4]=t*C-S*a,e[5]=i*C-v*a,e[6]=n*C-d*a,e[7]=f*C-r*a,e}},68152:function(H){H.exports=G;function G(e,g,R){var a=R[0],C=R[1],S=R[2];return e[0]=g[0]*a,e[1]=g[1]*a,e[2]=g[2]*a,e[3]=g[3]*a,e[4]=g[4]*C,e[5]=g[5]*C,e[6]=g[6]*C,e[7]=g[7]*C,e[8]=g[8]*S,e[9]=g[9]*S,e[10]=g[10]*S,e[11]=g[11]*S,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},89412:function(H){H.exports=G;function G(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(H){H.exports=G;function G(e,g,R){var a=R[0],C=R[1],S=R[2],v,d,r,t,i,n,f,u,l,m,c,A;return g===e?(e[12]=g[0]*a+g[4]*C+g[8]*S+g[12],e[13]=g[1]*a+g[5]*C+g[9]*S+g[13],e[14]=g[2]*a+g[6]*C+g[10]*S+g[14],e[15]=g[3]*a+g[7]*C+g[11]*S+g[15]):(v=g[0],d=g[1],r=g[2],t=g[3],i=g[4],n=g[5],f=g[6],u=g[7],l=g[8],m=g[9],c=g[10],A=g[11],e[0]=v,e[1]=d,e[2]=r,e[3]=t,e[4]=i,e[5]=n,e[6]=f,e[7]=u,e[8]=l,e[9]=m,e[10]=c,e[11]=A,e[12]=v*a+i*C+l*S+g[12],e[13]=d*a+n*C+m*S+g[13],e[14]=r*a+f*C+c*S+g[14],e[15]=t*a+u*C+A*S+g[15]),e}},86520:function(H){H.exports=G;function G(e,g){if(e===g){var R=g[1],a=g[2],C=g[3],S=g[6],v=g[7],d=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=R,e[6]=g[9],e[7]=g[13],e[8]=a,e[9]=S,e[11]=g[14],e[12]=C,e[13]=v,e[14]=d}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},23352:function(H,G,e){var g=e(42771),R=e(55616),a=e(28624),C=e(55212),S=e(60463),v=e(72160),d=e(33888),r=e(14144),t=e(51160),i=e(58908),n=e(65819),f=e(23464),u=e(63768),l=e(50896),m=e(71920),c=e(47520),A=e(308),h=A.nextPow2,o=new S,p=!1;if(document.body){var b=document.body.appendChild(document.createElement("div"));b.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(b).fontStretch&&(p=!0),document.body.removeChild(b)}var T=function(L){P(L)?(L={regl:L},this.gl=L.regl._gl):this.gl=C(L),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=L.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(i(L)?L:{})};T.prototype.createShader=function(){var L=this.regl,M=L({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:L.prop("count"),offset:L.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:L.this("sizeBuffer")},width:{offset:0,stride:8,buffer:L.this("sizeBuffer")},char:L.this("charBuffer"),position:L.this("position")},uniforms:{atlasSize:function(E,w){return[w.atlas.width,w.atlas.height]},atlasDim:function(E,w){return[w.atlas.cols,w.atlas.rows]},atlas:function(E,w){return w.atlas.texture},charStep:function(E,w){return w.atlas.step},em:function(E,w){return w.atlas.em},color:L.prop("color"),opacity:L.prop("opacity"),viewport:L.this("viewportArray"),scale:L.this("scale"),align:L.prop("align"),baseline:L.prop("baseline"),translate:L.this("translate"),positionOffset:L.prop("positionOffset")},primitive:"points",viewport:L.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:L,draw:M,atlas:s}},T.prototype.update=function(L){var M=this;if(typeof L=="string")L={text:L};else if(!L)return;L=R(L,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),L.opacity!=null&&(Array.isArray(L.opacity)?this.opacity=L.opacity.map(function(Fe){return parseFloat(Fe)}):this.opacity=parseFloat(L.opacity)),L.viewport!=null&&(this.viewport=t(L.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),L.kerning!=null&&(this.kerning=L.kerning),L.offset!=null&&(typeof L.offset=="number"&&(L.offset=[L.offset,0]),this.positionOffset=c(L.offset)),L.direction&&(this.direction=L.direction),L.range&&(this.range=L.range,this.scale=[1/(L.range[2]-L.range[0]),1/(L.range[3]-L.range[1])],this.translate=[-L.range[0],-L.range[1]]),L.scale&&(this.scale=L.scale),L.translate&&(this.translate=L.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!L.font&&(L.font=T.baseFontSize+"px sans-serif");var s=!1,E=!1;if(L.font&&(Array.isArray(L.font)?L.font:[L.font]).forEach(function(Fe,He){if(typeof Fe=="string")try{Fe=g.parse(Fe)}catch{Fe=g.parse(T.baseFontSize+"px "+Fe)}else{var st=Fe.style,vt=Fe.weight,lt=Fe.stretch,et=Fe.variant;Fe=g.parse(g.stringify(Fe)),st&&(Fe.style=st),vt&&(Fe.weight=vt),lt&&(Fe.stretch=lt),et&&(Fe.variant=et)}var ct=g.stringify({size:T.baseFontSize,family:Fe.family,stretch:p?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style}),ht=n(Fe.size),mt=Math.round(ht[0]*f(ht[1]));if(mt!==M.fontSize[He]&&(E=!0,M.fontSize[He]=mt),(!M.font[He]||ct!=M.font[He].baseString)&&(s=!0,M.font[He]=T.fonts[ct],!M.font[He])){var xt=Fe.family.join(", "),Mt=[Fe.style];Fe.style!=Fe.variant&&Mt.push(Fe.variant),Fe.variant!=Fe.weight&&Mt.push(Fe.weight),p&&Fe.weight!=Fe.stretch&&Mt.push(Fe.stretch),M.font[He]={baseString:ct,family:xt,weight:Fe.weight,stretch:Fe.stretch,style:Fe.style,variant:Fe.variant,width:{},kerning:{},metrics:m(xt,{origin:"top",fontSize:T.baseFontSize,fontStyle:Mt.join(" ")})},T.fonts[ct]=M.font[He]}}),(s||E)&&this.font.forEach(function(Fe,He){var st=g.stringify({size:M.fontSize[He],family:Fe.family,stretch:p?Fe.stretch:void 0,variant:Fe.variant,weight:Fe.weight,style:Fe.style});if(M.fontAtlas[He]=M.shader.atlas[st],!M.fontAtlas[He]){var vt=Fe.metrics;M.shader.atlas[st]=M.fontAtlas[He]={fontString:st,step:Math.ceil(M.fontSize[He]*vt.bottom*.5)*2,em:M.fontSize[He],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:M.regl.texture()}}L.text==null&&(L.text=M.text)}),typeof L.text=="string"&&L.position&&L.position.length>2){for(var w=Array(L.position.length*.5),O=0;O<w.length;O++)w[O]=L.text;L.text=w}var _;if(L.text!=null||s){if(this.textOffsets=[0],Array.isArray(L.text)){this.count=L.text[0].length,this.counts=[this.count];for(var U=1;U<L.text.length;U++)this.textOffsets[U]=this.textOffsets[U-1]+L.text[U-1].length,this.count+=L.text[U].length,this.counts.push(L.text[U].length);this.text=L.text.join("")}else this.text=L.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(Fe,He){T.atlasContext.font=Fe.baseString;for(var st=M.fontAtlas[He],vt=0;vt<M.text.length;vt++){var lt=M.text.charAt(vt);if(st.ids[lt]==null&&(st.ids[lt]=st.chars.length,st.chars.push(lt),_.push(lt)),Fe.width[lt]==null&&(Fe.width[lt]=T.atlasContext.measureText(lt).width/T.baseFontSize,M.kerning)){var et=[];for(var ct in Fe.width)et.push(ct+lt,lt+ct);l(Fe.kerning,u(Fe.family,{pairs:et}))}}})}if(L.position)if(L.position.length>2){for(var z=!L.position[0].length,F=r.mallocFloat(this.count*2),B=0,N=0;B<this.counts.length;B++){var V=this.counts[B];if(z)for(var X=0;X<V;X++)F[N++]=L.position[B*2],F[N++]=L.position[B*2+1];else for(var q=0;q<V;q++)F[N++]=L.position[B][0],F[N++]=L.position[B][1]}this.position.call?this.position({type:"float",data:F}):this.position=this.regl.buffer({type:"float",data:F}),r.freeFloat(F)}else this.position.destroy&&this.position.destroy(),this.position={constant:L.position};if(L.text||s){var te=r.mallocUint8(this.count),ne=r.mallocFloat(this.count*2);this.textWidth=[];for(var ce=0,Q=0;ce<this.counts.length;ce++){for(var Z=this.counts[ce],re=this.font[ce]||this.font[0],Y=this.fontAtlas[ce]||this.fontAtlas[0],oe=0;oe<Z;oe++){var ue=this.text.charAt(Q),K=this.text.charAt(Q-1);if(te[Q]=Y.ids[ue],ne[Q*2]=re.width[ue],oe){var $=ne[Q*2-2],le=ne[Q*2],ae=ne[Q*2-1],he=ae+$*.5+le*.5;if(this.kerning){var xe=re.kerning[K+ue];xe&&(he+=xe*.001)}ne[Q*2+1]=he}else ne[Q*2+1]=ne[Q*2]*.5;Q++}this.textWidth.push(ne.length?ne[Q*2-2]*.5+ne[Q*2-1]:0)}L.align||(L.align=this.align),this.charBuffer({data:te,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ne,type:"float",usage:"stream"}),r.freeUint8(te),r.freeFloat(ne),_.length&&this.font.forEach(function(Fe,He){var st=M.fontAtlas[He],vt=st.step,lt=Math.floor(T.maxAtlasSize/vt),et=Math.min(lt,st.chars.length),ct=Math.ceil(st.chars.length/et),ht=h(et*vt),mt=h(ct*vt);st.width=ht,st.height=mt,st.rows=ct,st.cols=et,st.em&&st.texture({data:d({canvas:T.atlasCanvas,font:st.fontString,chars:st.chars,shape:[ht,mt],step:[vt,vt]})})})}if(L.align&&(this.align=L.align,this.alignOffset=this.textWidth.map(function(Fe,He){var st=Array.isArray(M.align)?M.align.length>1?M.align[He]:M.align[0]:M.align;if(typeof st=="number")return st;switch(st){case"right":case"end":return-Fe;case"center":case"centre":case"middle":return-Fe*.5}return 0})),this.baseline==null&&L.baseline==null&&(L.baseline=0),L.baseline!=null&&(this.baseline=L.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Fe,He){var st=(M.font[He]||M.font[0]).metrics,vt=0;return vt+=st.bottom*.5,typeof Fe=="number"?vt+=Fe-st.baseline:vt+=-st[Fe],vt*=-1,vt})),L.color!=null)if(L.color||(L.color="transparent"),typeof L.color=="string"||!isNaN(L.color))this.color=v(L.color,"uint8");else{var Me;if(typeof L.color[0]=="number"&&L.color.length>this.counts.length){var Ae=L.color.length;Me=r.mallocUint8(Ae);for(var ke=(L.color.subarray||L.color.slice).bind(L.color),we=0;we<Ae;we+=4)Me.set(v(ke(we,we+4),"uint8"),we)}else{var Ee=L.color.length;Me=r.mallocUint8(Ee*4);for(var be=0;be<Ee;be++)Me.set(v(L.color[be]||0,"uint8"),be*4)}this.color=Me}if(L.position||L.text||L.color||L.baseline||L.align||L.font||L.offset||L.opacity){var Le=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Le){var Ue=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ue);for(var Ve=0;Ve<this.batch.length;Ve++)this.batch[Ve]={count:this.counts.length>1?this.counts[Ve]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ve]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ve*4,Ve*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ve]:this.opacity,baseline:this.baselineOffset[Ve]!=null?this.baselineOffset[Ve]:this.baselineOffset[0],align:this.align?this.alignOffset[Ve]!=null?this.alignOffset[Ve]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ve]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ve*2,Ve*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},T.prototype.destroy=function(){},T.prototype.kerning=!0,T.prototype.position={constant:new Float32Array(2)},T.prototype.translate=null,T.prototype.scale=null,T.prototype.font=null,T.prototype.text="",T.prototype.positionOffset=[0,0],T.prototype.opacity=1,T.prototype.color=new Uint8Array([0,0,0,255]),T.prototype.alignOffset=[0,0],T.maxAtlasSize=1024,T.atlasCanvas=document.createElement("canvas"),T.atlasContext=T.atlasCanvas.getContext("2d",{alpha:!1}),T.baseFontSize=64,T.fonts={};function P(x){return typeof x=="function"&&x._gl&&x.prop&&x.texture&&x.buffer}H.exports=T},55212:function(H,G,e){var g=e(55616);H.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},a(r)?r={container:r}:C(r)?r={container:r}:S(r)?r={gl:r}:r=g(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}a(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),R(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),R(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{r.gl=r.canvas.getContext(i,r.attrs)}catch{}return r.gl}),r.gl};function R(d){if(d.container)if(d.container==document.body)document.body.style.width||(d.canvas.width=d.width||d.pixelRatio*e.g.innerWidth),document.body.style.height||(d.canvas.height=d.height||d.pixelRatio*e.g.innerHeight);else{var r=d.container.getBoundingClientRect();d.canvas.width=d.width||r.right-r.left,d.canvas.height=d.height||r.bottom-r.top}}function a(d){return typeof d.getContext=="function"&&"width"in d&&"height"in d}function C(d){return typeof d.nodeName=="string"&&typeof d.appendChild=="function"&&typeof d.getBoundingClientRect=="function"}function S(d){return typeof d.drawArrays=="function"||typeof d.drawElements=="function"}function v(){var d=document.createElement("canvas");return d.style.position="absolute",d.style.top=0,d.style.left=0,d}},26444:function(H){H.exports=function(G){typeof G=="string"&&(G=[G]);for(var e=[].slice.call(arguments,1),g=[],R=0;R<G.length-1;R++)g.push(G[R],e[R]||"");return g.push(G[R]),g.join("")}},2304:function(H,G,e){var g=e(53664),R=g("%Object.getOwnPropertyDescriptor%",!0);if(R)try{R([],"length")}catch{R=null}H.exports=R},52264:function(H,G,e){var g=e(24200),R;typeof e.g.matchMedia=="function"?R=!e.g.matchMedia("(hover: none)").matches:R=g,H.exports=R},89184:function(H,G,e){var g=e(24200);function R(){var a=!1;try{var C=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{a=!1}return a}H.exports=g&&R()},39640:function(H,G,e){var g=e(53664),R=g("%Object.defineProperty%",!0),a=function(){if(R)try{return R({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return R([],"length",{value:1}).length!==1}catch{return!0}},H.exports=a},69572:function(H){var G={foo:{}},e=Object;H.exports=function(){return{__proto__:G}.foo===G.foo&&!({__proto__:null}instanceof e)}},71080:function(H,G,e){var g=typeof Symbol<"u"&&Symbol,R=e(89320);H.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R()}},89320:function(H){H.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),R=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(R)!=="[object Symbol]")return!1;var a=42;e[g]=a;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var S=Object.getOwnPropertyDescriptor(e,g);if(S.value!==a||S.enumerable!==!0)return!1}return!0}},46672:function(H,G,e){var g=e(89320);H.exports=function(){return g()&&!!Symbol.toStringTag}},92064:function(H,G,e){var g=Function.prototype.call,R=Object.prototype.hasOwnProperty,a=e(8844);H.exports=a.call(g,R)},35984:function(H,G){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */G.read=function(e,g,R,a,C){var S,v,d=C*8-a-1,r=(1<<d)-1,t=r>>1,i=-7,n=R?C-1:0,f=R?-1:1,u=e[g+n];for(n+=f,S=u&(1<<-i)-1,u>>=-i,i+=d;i>0;S=S*256+e[g+n],n+=f,i-=8);for(v=S&(1<<-i)-1,S>>=-i,i+=a;i>0;v=v*256+e[g+n],n+=f,i-=8);if(S===0)S=1-t;else{if(S===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,a),S=S-t}return(u?-1:1)*v*Math.pow(2,S-a)},G.write=function(e,g,R,a,C,S){var v,d,r,t=S*8-C-1,i=(1<<t)-1,n=i>>1,f=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=a?0:S-1,l=a?1:-1,m=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(d=isNaN(g)?1:0,v=i):(v=Math.floor(Math.log(g)/Math.LN2),g*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?g+=f/r:g+=f*Math.pow(2,1-n),g*r>=2&&(v++,r/=2),v+n>=i?(d=0,v=i):v+n>=1?(d=(g*r-1)*Math.pow(2,C),v=v+n):(d=g*Math.pow(2,n-1)*Math.pow(2,C),v=0));C>=8;e[R+u]=d&255,u+=l,d/=256,C-=8);for(v=v<<C|d,t+=C;t>0;e[R+u]=v&255,u+=l,v/=256,t-=8);e[R+u-l]|=m*128}},6768:function(H){typeof Object.create=="function"?H.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:H.exports=function(e,g){if(g){e.super_=g;var R=function(){};R.prototype=g.prototype,e.prototype=new R,e.prototype.constructor=e}}},91148:function(H,G,e){var g=e(46672)(),R=e(99676),a=R("Object.prototype.toString"),C=function(r){return g&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:a(r)==="[object Arguments]"},S=function(r){return C(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&a(r)!=="[object Array]"&&a(r.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=S,H.exports=v?C:S},24200:function(H){H.exports=!0},90720:function(H){var G=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,R;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw R}}),R={},e(function(){throw 42},null,g)}catch(A){A!==R&&(e=null)}else e=null;var a=/^\s*class\b/,C=function(h){try{var o=G.call(h);return a.test(o)}catch{return!1}},S=function(h){try{return C(h)?!1:(G.call(h),!0)}catch{return!1}},v=Object.prototype.toString,d="[object Object]",r="[object Function]",t="[object GeneratorFunction]",i="[object HTMLAllCollection]",n="[object HTML document.all class]",f="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var c=document.all;v.call(c)===v.call(document.all)&&(m=function(h){if((l||!h)&&(typeof h>"u"||typeof h=="object"))try{var o=v.call(h);return(o===i||o===n||o===f||o===d)&&h("")==null}catch{}return!1})}H.exports=e?function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,g)}catch(o){if(o!==R)return!1}return!C(h)&&S(h)}:function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(u)return S(h);if(C(h))return!1;var o=v.call(h);return o!==r&&o!==t&&!/^\[object HTML/.test(o)?!1:S(h)}},84420:function(H,G,e){var g=Object.prototype.toString,R=Function.prototype.toString,a=/^\s*(?:function)?\*/,C=e(46672)(),S=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},d;H.exports=function(t){if(typeof t!="function")return!1;if(a.test(R.call(t)))return!0;if(!C){var i=g.call(t);return i==="[object GeneratorFunction]"}if(!S)return!1;if(typeof d>"u"){var n=v();d=n?S(n):!1}return S(t)===d}},96604:function(H){H.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(H){H.exports=function(e){return e!==e}},1560:function(H,G,e){var g=e(57916),R=e(81288),a=e(85992),C=e(57740),S=e(59736),v=g(C(),Number);R(v,{getPolyfill:C,implementation:a,shim:S}),H.exports=v},57740:function(H,G,e){var g=e(85992);H.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},59736:function(H,G,e){var g=e(81288),R=e(57740);H.exports=function(){var C=R();return g(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},18400:function(H){H.exports=function(G){var e=typeof G;return G!==null&&(e==="object"||e==="function")}},58908:function(H){var G=Object.prototype.toString;H.exports=function(e){var g;return G.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},94576:function(H){H.exports=function(G){for(var e=G.length,g,R=0;R<e;R++)if(g=G.charCodeAt(R),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},53520:function(H){H.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(H,G,e){var g=e(46492),R=e(63436),a=e(99676),C=a("Object.prototype.toString"),S=e(46672)(),v=e(2304),d=typeof globalThis>"u"?e.g:globalThis,r=R(),t=a("Array.prototype.indexOf",!0)||function(m,c){for(var A=0;A<m.length;A+=1)if(m[A]===c)return A;return-1},i=a("String.prototype.slice"),n={},f=Object.getPrototypeOf;S&&v&&f&&g(r,function(l){var m=new d[l];if(Symbol.toStringTag in m){var c=f(m),A=v(c,Symbol.toStringTag);if(!A){var h=f(c);A=v(h,Symbol.toStringTag)}n[l]=A.get}});var u=function(m){var c=!1;return g(n,function(A,h){if(!c)try{c=A.call(m)===h}catch{}}),c};H.exports=function(m){if(!m||typeof m!="object")return!1;if(!S||!(Symbol.toStringTag in m)){var c=i(C(m),8,-1);return t(r,c)>-1}return v?u(m):!1}},76244:function(H){H.exports=Math.log2||function(G){return Math.log(G)*Math.LOG2E}},62644:function(H,G,e){H.exports=R;var g=e(93784);function R(a,C){C||(C=a,a=window);var S=0,v=0,d=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(b){var T=!1;return"altKey"in b&&(T=T||b.altKey!==r.alt,r.alt=!!b.altKey),"shiftKey"in b&&(T=T||b.shiftKey!==r.shift,r.shift=!!b.shiftKey),"ctrlKey"in b&&(T=T||b.ctrlKey!==r.control,r.control=!!b.ctrlKey),"metaKey"in b&&(T=T||b.metaKey!==r.meta,r.meta=!!b.metaKey),T}function n(b,T){var P=g.x(T),x=g.y(T);"buttons"in T&&(b=T.buttons|0),(b!==S||P!==v||x!==d||i(T))&&(S=b|0,v=P||0,d=x||0,C&&C(S,v,d,r))}function f(b){n(0,b)}function u(){(S||v||d||r.shift||r.alt||r.meta||r.control)&&(v=d=0,S=0,r.shift=r.alt=r.control=r.meta=!1,C&&C(0,0,0,r))}function l(b){i(b)&&C&&C(S,v,d,r)}function m(b){g.buttons(b)===0?n(0,b):n(S,b)}function c(b){n(S|g.buttons(b),b)}function A(b){n(S&~g.buttons(b),b)}function h(){t||(t=!0,a.addEventListener("mousemove",m),a.addEventListener("mousedown",c),a.addEventListener("mouseup",A),a.addEventListener("mouseleave",f),a.addEventListener("mouseenter",f),a.addEventListener("mouseout",f),a.addEventListener("mouseover",f),a.addEventListener("blur",u),a.addEventListener("keyup",l),a.addEventListener("keydown",l),a.addEventListener("keypress",l),a!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function o(){t&&(t=!1,a.removeEventListener("mousemove",m),a.removeEventListener("mousedown",c),a.removeEventListener("mouseup",A),a.removeEventListener("mouseleave",f),a.removeEventListener("mouseenter",f),a.removeEventListener("mouseout",f),a.removeEventListener("mouseover",f),a.removeEventListener("blur",u),a.removeEventListener("keyup",l),a.removeEventListener("keydown",l),a.removeEventListener("keypress",l),a!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}h();var p={element:a};return Object.defineProperties(p,{enabled:{get:function(){return t},set:function(b){b?h():o()},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),p}},29128:function(H){var G={left:0,top:0};H.exports=e;function e(R,a,C){a=a||R.currentTarget||R.srcElement,Array.isArray(C)||(C=[0,0]);var S=R.clientX||0,v=R.clientY||0,d=g(a);return C[0]=S-d.left,C[1]=v-d.top,C}function g(R){return R===window||R===document||R===document.body?G:R.getBoundingClientRect()}},93784:function(H,G){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var S=C.which;if(S===2)return 4;if(S===3)return 2;if(S>0)return 1<<S-1}else if("button"in C){var S=C.button;if(S===1)return 4;if(S===2)return 2;if(S>=0)return 1<<S}}return 0}G.buttons=e;function g(C){return C.target||C.srcElement||window}G.element=g;function R(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var S=g(C),v=S.getBoundingClientRect();return C.clientX-v.left}return 0}G.x=R;function a(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var S=g(C),v=S.getBoundingClientRect();return C.clientY-v.top}return 0}G.y=a},97264:function(H,G,e){var g=e(23464);H.exports=R;function R(a,C,S){typeof a=="function"&&(S=!!C,C=a,a=window);var v=g("ex",a),d=function(r){S&&r.preventDefault();var t=r.deltaX||0,i=r.deltaY||0,n=r.deltaZ||0,f=r.deltaMode,u=1;switch(f){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,i*=u,n*=u,t||i||n)return C(t,i,n,r)};return a.addEventListener("wheel",d),d}},88324:function(H,G,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,C,S){C[a]=C[a]||S(),H.exports?H.exports=C[a]:(g=(function(){return C[a]}).call(G,e,G,H),g!==void 0&&(H.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,C,S,v=Object.prototype.toString,d=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(p,b,T,P){return Object.defineProperty(p,b,{value:T,writable:!0,configurable:P!==!1})}}catch{a=function(b,T,P){return b[T]=P,b}}S=function(){var p,b,T;function P(x,L){this.fn=x,this.self=L,this.next=void 0}return{add:function(L,M){T=new P(L,M),b?b.next=T:p=T,b=T,T=void 0},drain:function(){var L=p;for(p=b=C=void 0;L;)L.fn.call(L.self),L=L.next}}}();function r(o,p){S.add(o,p),C||(C=d(S.drain))}function t(o){var p,b=typeof o;return o!=null&&(b=="object"||b=="function")&&(p=o.then),typeof p=="function"?p:!1}function i(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,p,b){var T,P;try{p===!1?b.reject(o.msg):(p===!0?T=o.msg:T=p.call(void 0,o.msg),T===b.promise?b.reject(TypeError("Promise-chain cycle")):(P=t(T))?P.call(T,b.resolve,b.reject):b.resolve(T))}catch(x){b.reject(x)}}function f(o){var p,b=this;if(!b.triggered){b.triggered=!0,b.def&&(b=b.def);try{(p=t(o))?r(function(){var T=new m(b);try{p.call(o,function(){f.apply(T,arguments)},function(){u.apply(T,arguments)})}catch(P){u.call(T,P)}}):(b.msg=o,b.state=1,b.chain.length>0&&r(i,b))}catch(T){u.call(new m(b),T)}}}function u(o){var p=this;p.triggered||(p.triggered=!0,p.def&&(p=p.def),p.msg=o,p.state=2,p.chain.length>0&&r(i,p))}function l(o,p,b,T){for(var P=0;P<p.length;P++)(function(L){o.resolve(p[L]).then(function(s){b(L,s)},T)})(P)}function m(o){this.def=o,this.triggered=!1}function c(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var p=new c(this);this.then=function(T,P){var x={success:typeof T=="function"?T:!0,failure:typeof P=="function"?P:!1};return x.promise=new this.constructor(function(M,s){if(typeof M!="function"||typeof s!="function")throw TypeError("Not a function");x.resolve=M,x.reject=s}),p.chain.push(x),p.state!==0&&r(i,p),x.promise},this.catch=function(T){return this.then(void 0,T)};try{o.call(void 0,function(T){f.call(p,T)},function(T){u.call(p,T)})}catch(b){u.call(p,b)}}var h=a({},"constructor",A,!1);return A.prototype=h,a(h,"__NPO__",0,!1),a(A,"resolve",function(p){var b=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new b(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");P(p)})}),a(A,"reject",function(p){return new this(function(T,P){if(typeof T!="function"||typeof P!="function")throw TypeError("Not a function");P(p)})}),a(A,"all",function(p){var b=this;return v.call(p)!="[object Array]"?b.reject(TypeError("Not an array")):p.length===0?b.resolve([]):new b(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");var L=p.length,M=Array(L),s=0;l(b,p,function(w,O){M[w]=O,++s===L&&P(M)},x)})}),a(A,"race",function(p){var b=this;return v.call(p)!="[object Array]"?b.reject(TypeError("Not an array")):new b(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");l(b,p,function(M,s){P(s)},x)})}),A})},48816:function(H){var G=Math.PI,e=v(120);H.exports=g;function g(d){for(var r,t=[],i=0,n=0,f=0,u=0,l=null,m=null,c=0,A=0,h=0,o=d.length;h<o;h++){var p=d[h],b=p[0];switch(b){case"M":f=p[1],u=p[2];break;case"A":p=C(c,A,p[1],p[2],v(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(t.push(p.splice(0,7)),p.unshift("C"));break;case"S":var T=c,P=A;(r=="C"||r=="S")&&(T+=T-i,P+=P-n),p=["C",T,P,p[1],p[2],p[3],p[4]];break;case"T":r=="Q"||r=="T"?(l=c*2-l,m=A*2-m):(l=c,m=A),p=a(c,A,l,m,p[1],p[2]);break;case"Q":l=p[1],m=p[2],p=a(c,A,p[1],p[2],p[3],p[4]);break;case"L":p=R(c,A,p[1],p[2]);break;case"H":p=R(c,A,p[1],A);break;case"V":p=R(c,A,c,p[1]);break;case"Z":p=R(c,A,f,u);break}r=b,c=p[p.length-2],A=p[p.length-1],p.length>4?(i=p[p.length-4],n=p[p.length-3]):(i=c,n=A),t.push(p)}return t}function R(d,r,t,i){return["C",d,r,t,i,t,i]}function a(d,r,t,i,n,f){return["C",d/3+.6666666666666666*t,r/3+.6666666666666666*i,n/3+.6666666666666666*t,f/3+.6666666666666666*i,n,f]}function C(d,r,t,i,n,f,u,l,m,c){if(c)M=c[0],s=c[1],x=c[2],L=c[3];else{var A=S(d,r,-n);d=A.x,r=A.y,A=S(l,m,-n),l=A.x,m=A.y;var h=(d-l)/2,o=(r-m)/2,p=h*h/(t*t)+o*o/(i*i);p>1&&(p=Math.sqrt(p),t=p*t,i=p*i);var b=t*t,T=i*i,P=(f==u?-1:1)*Math.sqrt(Math.abs((b*T-b*o*o-T*h*h)/(b*o*o+T*h*h)));P==1/0&&(P=1);var x=P*t*o/i+(d+l)/2,L=P*-i*h/t+(r+m)/2,M=Math.asin(((r-L)/i).toFixed(9)),s=Math.asin(((m-L)/i).toFixed(9));M=d<x?G-M:M,s=l<x?G-s:s,M<0&&(M=G*2+M),s<0&&(s=G*2+s),u&&M>s&&(M=M-G*2),!u&&s>M&&(s=s-G*2)}if(Math.abs(s-M)>e){var E=s,w=l,O=m;s=M+e*(u&&s>M?1:-1),l=x+t*Math.cos(s),m=L+i*Math.sin(s);var _=C(l,m,t,i,n,0,u,w,O,[s,E,x,L])}var U=Math.tan((s-M)/4),z=4/3*t*U,F=4/3*i*U,B=[2*d-(d+z*Math.sin(M)),2*r-(r-F*Math.cos(M)),l+z*Math.sin(s),m-F*Math.cos(s),l,m];if(c)return B;_&&(B=B.concat(_));for(var N=0;N<B.length;){var V=S(B[N],B[N+1],n);B[N++]=V.x,B[N++]=V.y}return B}function S(d,r,t){return{x:d*Math.cos(t)-r*Math.sin(t),y:d*Math.sin(t)+r*Math.cos(t)}}function v(d){return d*(G/180)}},50896:function(H){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var G=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function R(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function a(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var S={},v=0;v<10;v++)S["_"+String.fromCharCode(v)]=v;var d=Object.getOwnPropertyNames(S).map(function(t){return S[t]});if(d.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}H.exports=a()?Object.assign:function(C,S){for(var v,d=R(C),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var i in v)e.call(v,i)&&(d[i]=v[i]);if(G){r=G(v);for(var n=0;n<r.length;n++)g.call(v,r[n])&&(d[r[n]]=v[r[n]])}}return d}},76835:function(H){var G=function(e){return e!==e};H.exports=function(g,R){return g===0&&R===0?1/g===1/R:!!(g===R||G(g)&&G(R))}},39896:function(H,G,e){var g=e(81288),R=e(57916),a=e(76835),C=e(66148),S=e(16408),v=R(C(),Object);g(v,{getPolyfill:C,implementation:a,shim:S}),H.exports=v},66148:function(H,G,e){var g=e(76835);H.exports=function(){return typeof Object.is=="function"?Object.is:g}},16408:function(H,G,e){var g=e(66148),R=e(81288);H.exports=function(){var C=g();return R(Object,{is:C},{is:function(){return Object.is!==C}}),C}},32764:function(H,G,e){var g;if(!Object.keys){var R=Object.prototype.hasOwnProperty,a=Object.prototype.toString,C=e(97344),S=Object.prototype.propertyIsEnumerable,v=!S.call({toString:null},"toString"),d=S.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},i={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!i["$"+u]&&R.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};g=function(l){var m=l!==null&&typeof l=="object",c=a.call(l)==="[object Function]",A=C(l),h=m&&a.call(l)==="[object String]",o=[];if(!m&&!c&&!A)throw new TypeError("Object.keys called on a non-object");var p=d&&c;if(h&&l.length>0&&!R.call(l,0))for(var b=0;b<l.length;++b)o.push(String(b));if(A&&l.length>0)for(var T=0;T<l.length;++T)o.push(String(T));else for(var P in l)!(p&&P==="prototype")&&R.call(l,P)&&o.push(String(P));if(v)for(var x=f(l),L=0;L<r.length;++L)!(x&&r[L]==="constructor")&&R.call(l,r[L])&&o.push(r[L]);return o}}H.exports=g},41820:function(H,G,e){var g=Array.prototype.slice,R=e(97344),a=Object.keys,C=a?function(d){return a(d)}:e(32764),S=Object.keys;C.shim=function(){if(Object.keys){var d=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);d||(Object.keys=function(t){return R(t)?S(g.call(t)):S(t)})}else Object.keys=C;return Object.keys||C},H.exports=C},97344:function(H){var G=Object.prototype.toString;H.exports=function(g){var R=G.call(g),a=R==="[object Arguments]";return a||(a=R!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&G.call(g.callee)==="[object Function]"),a}},32868:function(H){function G(R,a){if(typeof R!="string")return[R];var C=[R];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var S=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",d=!!a.flat;S.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),f=[];function u(l,m,c){var A=C.push(l.slice(i[0].length,-i[1].length))-1;return f.push(A),v+A+v}C.forEach(function(l,m){for(var c,A=0;l!=c;)if(c=l,l=l.replace(n,u),A++>1e4)throw Error("References have circular dependency. Please, check them.");C[m]=l}),f=f.reverse(),C=C.map(function(l){return f.forEach(function(m){l=l.replace(new RegExp("(\\"+v+m+"\\"+v+")","g"),i[0]+"$1"+i[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(i,n,f){for(var u=[],l,m=0;l=r.exec(i);){if(m++>1e4)throw Error("Circular references in parenthesis");u.push(i.slice(0,l.index)),u.push(t(n[l[1]],n)),i=i.slice(l.index+l[0].length)}return u.push(i),u}return d?C:t(C[0],C)}function e(R,a){if(a&&a.flat){var C=a&&a.escape||"___",S=R[0],v;if(!S)return"";for(var d=new RegExp("\\"+C+"([0-9]+)\\"+C),r=0;S!=v;){if(r++>1e4)throw Error("Circular references in "+R);v=S,S=S.replace(d,t)}return S}return R.reduce(function i(n,f){return Array.isArray(f)&&(f=f.reduce(i,"")),n+f},"");function t(i,n){if(R[n]==null)throw Error("Reference "+n+"is undefined");return R[n]}}function g(R,a){return Array.isArray(R)?e(R,a):G(R,a)}g.parse=G,g.stringify=e,H.exports=g},51160:function(H,G,e){var g=e(55616);H.exports=R;function R(a){var C;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?C={width:a[0],height:a[0],x:0,y:0}:a.length===2?C={width:a[0],height:a[1],x:0,y:0}:C={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=g(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:a.left||0,y:a.top||0},a.width==null?a.right?C.width=a.right-C.x:C.width=0:C.width=a.width,a.height==null?a.bottom?C.height=a.bottom-C.y:C.height=0:C.height=a.height),C}},21984:function(H){H.exports=g;var G={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(C){var S=[];return C.replace(e,function(v,d,r){var t=d.toLowerCase();for(r=a(r),t=="m"&&r.length>2&&(S.push([d].concat(r.splice(0,2))),t="l",d=d=="m"?"l":"L");;){if(r.length==G[t])return r.unshift(d),S.push(r);if(r.length<G[t])throw new Error("malformed path data");S.push([d].concat(r.splice(0,G[t])))}}),S}var R=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(C){var S=C.match(R);return S?S.map(Number):[]}},65819:function(H){H.exports=function(e,g){g||(g=[0,""]),e=String(e);var R=parseFloat(e,10);return g[0]=R,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},41984:function(H,G,e){var g=e(4168);(function(){var R,a,C,S,v,d;typeof performance<"u"&&performance!==null&&performance.now?H.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(H.exports=function(){return(R()-v)/1e6},a=g.hrtime,R=function(){var r;return r=a(),r[0]*1e9+r[1]},S=R(),d=g.uptime()*1e9,v=S-d):Date.now?(H.exports=function(){return Date.now()-C},C=Date.now()):(H.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},55616:function(H){H.exports=function(R,a,C){var S={},v,d;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var r={};for(d=0;d<a.length;d++)r[a[d]]=!0;a=r}for(v in a)a[v]=e(a[v]);var t={};for(v in a){var i=a[v];if(Array.isArray(i))for(d=0;d<i.length;d++){var n=i[d];if(C&&(t[n]=!0),n in R){if(S[v]=R[n],C)for(var f=d;f<i.length;f++)t[i[f]]=!0;break}}else v in R&&(a[v]&&(S[v]=R[v]),C&&(t[v]=!0))}if(C)for(v in R)t[v]||(S[v]=R[v]);return S};var G={};function e(g){return G[g]?G[g]:(typeof g=="string"&&(g=G[g]=g.split(/\s*,\s*|\s+/)),g)}},61456:function(H){H.exports=function(e,g,R,a){var C=e[0],S=e[1],v=!1;R===void 0&&(R=0),a===void 0&&(a=g.length);for(var d=a-R,r=0,t=d-1;r<d;t=r++){var i=g[r+R][0],n=g[r+R][1],f=g[t+R][0],u=g[t+R][1],l=n>S!=u>S&&C<(f-i)*(S-n)/(u-n)+i;l&&(v=!v)}return v}},14756:function(H,G,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(7688),R=e(28648),a=e(72200),C=e(11403),S=e(82368),v=e(17792),d=!1,r=R(),t;t={buildLog:function(n){return n===!0?d=g():n===!1&&(d=!1),d===!1?!1:d.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var f=a(!0,r,d);return n.regions.forEach(f.addRegion),{segments:f.calculate(n.inverted),inverted:n.inverted}},combine:function(n,f){var u=a(!1,r,d);return{combined:u.calculate(n.segments,n.inverted,f.segments,f.inverted),inverted1:n.inverted,inverted2:f.inverted}},selectUnion:function(n){return{segments:S.union(n.combined,d),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:S.intersect(n.combined,d),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:S.difference(n.combined,d),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:S.differenceRev(n.combined,d),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:S.xor(n.combined,d),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:C(n.segments,r,d),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,f){return i(n,f,t.selectUnion)},intersect:function(n,f){return i(n,f,t.selectIntersect)},difference:function(n,f){return i(n,f,t.selectDifference)},differenceRev:function(n,f){return i(n,f,t.selectDifferenceRev)},xor:function(n,f){return i(n,f,t.selectXor)}};function i(n,f,u){var l=t.segments(n),m=t.segments(f),c=t.combine(l,m),A=u(c);return t.polygon(A)}typeof window=="object"&&(window.PolyBool=t),H.exports=t},7688:function(H){function G(){var e,g=0,R=!1;function a(C,S){return e.list.push({type:C,data:S?JSON.parse(JSON.stringify(S)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(C,S){return a("check",{seg1:C,seg2:S})},segmentChop:function(C,S){return a("div_seg",{seg:C,pt:S}),a("chop",{seg:C,pt:S})},statusRemove:function(C){return a("pop_seg",{seg:C})},segmentUpdate:function(C){return a("seg_update",{seg:C})},segmentNew:function(C,S){return a("new_seg",{seg:C,primary:S})},segmentRemove:function(C){return a("rem_seg",{seg:C})},tempStatus:function(C,S,v){return a("temp_status",{seg:C,above:S,below:v})},rewind:function(C){return a("rewind",{seg:C})},status:function(C,S,v){return a("status",{seg:C,above:S,below:v})},vert:function(C){return C===R?e:(R=C,a("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),a("log",{txt:C})},reset:function(){return a("reset")},selected:function(C){return a("selected",{segs:C})},chainStart:function(C){return a("chain_start",{seg:C})},chainRemoveHead:function(C,S){return a("chain_rem_head",{index:C,pt:S})},chainRemoveTail:function(C,S){return a("chain_rem_tail",{index:C,pt:S})},chainNew:function(C,S){return a("chain_new",{pt1:C,pt2:S})},chainMatch:function(C){return a("chain_match",{index:C})},chainClose:function(C){return a("chain_close",{index:C})},chainAddHead:function(C,S){return a("chain_add_head",{index:C,pt:S})},chainAddTail:function(C,S){return a("chain_add_tail",{index:C,pt:S})},chainConnect:function(C,S){return a("chain_con",{index1:C,index2:S})},chainReverse:function(C){return a("chain_rev",{index:C})},chainJoin:function(C,S){return a("chain_join",{index1:C,index2:S})},done:function(){return a("done")}},e}H.exports=G},28648:function(H){function G(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(R){return typeof R=="number"&&(e=R),e},pointAboveOrOnLine:function(R,a,C){var S=a[0],v=a[1],d=C[0],r=C[1],t=R[0],i=R[1];return(d-S)*(i-v)-(r-v)*(t-S)>=-e},pointBetween:function(R,a,C){var S=R[1]-a[1],v=C[0]-a[0],d=R[0]-a[0],r=C[1]-a[1],t=d*v+S*r;if(t<e)return!1;var i=v*v+r*r;return!(t-i>-e)},pointsSameX:function(R,a){return Math.abs(R[0]-a[0])<e},pointsSameY:function(R,a){return Math.abs(R[1]-a[1])<e},pointsSame:function(R,a){return g.pointsSameX(R,a)&&g.pointsSameY(R,a)},pointsCompare:function(R,a){return g.pointsSameX(R,a)?g.pointsSameY(R,a)?0:R[1]<a[1]?-1:1:R[0]<a[0]?-1:1},pointsCollinear:function(R,a,C){var S=R[0]-a[0],v=R[1]-a[1],d=a[0]-C[0],r=a[1]-C[1];return Math.abs(S*r-d*v)<e},linesIntersect:function(R,a,C,S){var v=a[0]-R[0],d=a[1]-R[1],r=S[0]-C[0],t=S[1]-C[1],i=v*t-d*r;if(Math.abs(i)<e)return!1;var n=R[0]-C[0],f=R[1]-C[1],u=(r*f-t*n)/i,l=(v*f-d*n)/i,m={alongA:0,alongB:0,pt:[R[0]+u*v,R[1]+u*d]};return u<=-e?m.alongA=-2:u<e?m.alongA=-1:u-1<=-e?m.alongA=0:u-1<e?m.alongA=1:m.alongA=2,l<=-e?m.alongB=-2:l<e?m.alongB=-1:l-1<=-e?m.alongB=0:l-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(R,a){for(var C=R[0],S=R[1],v=a[a.length-1][0],d=a[a.length-1][1],r=!1,t=0;t<a.length;t++){var i=a[t][0],n=a[t][1];n-S>e!=d-S>e&&(v-i)*(S-n)/(d-n)+i-C>e&&(r=!r),v=i,d=n}return r}};return g}H.exports=G},17792:function(H){var G={toPolygon:function(e,g){function R(S){if(S.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var i=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[i]})}for(var d=v(S[0]),r=1;r<S.length;r++)d=e.selectDifference(e.combine(d,v(S[r])));return d}if(g.type==="Polygon")return e.polygon(R(g.coordinates));if(g.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),C=0;C<g.coordinates.length;C++)a=e.selectUnion(e.combine(a,R(g.coordinates[C])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,R){R=e.polygon(e.segments(R));function a(u,l){return g.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function C(u){return{region:u,children:[]}}var S=C(null);function v(u,l){for(var m=0;m<u.children.length;m++){var c=u.children[m];if(a(l,c.region)){v(c,l);return}}for(var A=C(l),m=0;m<u.children.length;m++){var c=u.children[m];a(c.region,l)&&(A.children.push(c),u.children.splice(m,1),m--)}u.children.push(A)}for(var d=0;d<R.regions.length;d++){var r=R.regions[d];r.length<3||v(S,r)}function t(u,l){for(var m=0,c=u[u.length-1][0],A=u[u.length-1][1],h=[],o=0;o<u.length;o++){var p=u[o][0],b=u[o][1];h.push([p,b]),m+=b*c-p*A,c=p,A=b}var T=m<0;return T!==l&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var i=[];function n(u){var l=[t(u.region,!1)];i.push(l);for(var m=0;m<u.children.length;m++)l.push(f(u.children[m]))}function f(u){for(var l=0;l<u.children.length;l++)n(u.children[l]);return t(u.region,!0)}for(var d=0;d<S.children.length;d++)n(S.children[d]);return i.length<=0?{type:"Polygon",coordinates:[]}:i.length==1?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}};H.exports=G},72200:function(H,G,e){var g=e(48088);function R(a,C,S){function v(A,h){return{id:S?S.segmentId():-1,start:A,end:h,myFill:{above:null,below:null},otherFill:null}}function d(A,h,o){return{id:S?S.segmentId():-1,start:A,end:h,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=g.create();function t(A,h,o,p,b,T){var P=C.pointsCompare(h,b);return P!==0?P:C.pointsSame(o,T)?0:A!==p?A?1:-1:C.pointAboveOrOnLine(o,p?b:T,p?T:b)?1:-1}function i(A,h){r.insertBefore(A,function(o){var p=t(A.isStart,A.pt,h,o.isStart,o.pt,o.other.pt);return p<0})}function n(A,h){var o=g.node({isStart:!0,pt:A.start,seg:A,primary:h,other:null,status:null});return i(o,A.end),o}function f(A,h,o){var p=g.node({isStart:!1,pt:h.end,seg:h,primary:o,other:A,status:null});A.other=p,i(p,A.pt)}function u(A,h){var o=n(A,h);return f(o,A,h),o}function l(A,h){S&&S.segmentChop(A.seg,h),A.other.remove(),A.seg.end=h,A.other.pt=h,i(A.other,A.pt)}function m(A,h){var o=d(h,A.seg.end,A.seg);return l(A,h),u(o,A.primary)}function c(A,h){var o=g.create();function p(z,F){var B=z.seg.start,N=z.seg.end,V=F.seg.start,X=F.seg.end;return C.pointsCollinear(B,V,X)?C.pointsCollinear(N,V,X)||C.pointAboveOrOnLine(N,V,X)?1:-1:C.pointAboveOrOnLine(B,V,X)?1:-1}function b(z){return o.findTransition(function(F){var B=p(z,F.ev);return B>0})}function T(z,F){var B=z.seg,N=F.seg,V=B.start,X=B.end,q=N.start,te=N.end;S&&S.checkIntersection(B,N);var ne=C.linesIntersect(V,X,q,te);if(ne===!1){if(!C.pointsCollinear(V,X,q)||C.pointsSame(V,te)||C.pointsSame(X,q))return!1;var ce=C.pointsSame(V,q),Q=C.pointsSame(X,te);if(ce&&Q)return F;var Z=!ce&&C.pointBetween(V,q,te),re=!Q&&C.pointBetween(X,q,te);if(ce)return re?m(F,X):m(z,te),F;Z&&(Q||(re?m(F,X):m(z,te)),m(F,V))}else ne.alongA===0&&(ne.alongB===-1?m(z,q):ne.alongB===0?m(z,ne.pt):ne.alongB===1&&m(z,te)),ne.alongB===0&&(ne.alongA===-1?m(F,V):ne.alongA===0?m(F,ne.pt):ne.alongA===1&&m(F,X));return!1}for(var P=[];!r.isEmpty();){var x=r.getHead();if(S&&S.vert(x.pt[0]),x.isStart){let z=function(){if(M){var F=T(x,M);if(F)return F}return s?T(x,s):!1};S&&S.segmentNew(x.seg,x.primary);var L=b(x),M=L.before?L.before.ev:null,s=L.after?L.after.ev:null;S&&S.tempStatus(x.seg,M?M.seg:!1,s?s.seg:!1);var E=z();if(E){if(a){var w;x.seg.myFill.below===null?w=!0:w=x.seg.myFill.above!==x.seg.myFill.below,w&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=x.seg.myFill;S&&S.segmentUpdate(E.seg),x.other.remove(),x.remove()}if(r.getHead()!==x){S&&S.rewind(x.seg);continue}if(a){var w;x.seg.myFill.below===null?w=!0:w=x.seg.myFill.above!==x.seg.myFill.below,s?x.seg.myFill.below=s.seg.myFill.above:x.seg.myFill.below=A,w?x.seg.myFill.above=!x.seg.myFill.below:x.seg.myFill.above=x.seg.myFill.below}else if(x.seg.otherFill===null){var O;s?x.primary===s.primary?O=s.seg.otherFill.above:O=s.seg.myFill.above:O=x.primary?h:A,x.seg.otherFill={above:O,below:O}}S&&S.status(x.seg,M?M.seg:!1,s?s.seg:!1),x.other.status=L.insert(g.node({ev:x}))}else{var _=x.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(_.prev)&&o.exists(_.next)&&T(_.prev.ev,_.next.ev),S&&S.statusRemove(_.ev.seg),_.remove(),!x.primary){var U=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=U}P.push(x.seg)}r.getHead().remove()}return S&&S.done(),P}return a?{addRegion:function(A){for(var h,o=A[A.length-1],p=0;p<A.length;p++){h=o,o=A[p];var b=C.pointsCompare(h,o);b!==0&&u(v(b<0?h:o,b<0?o:h),!0)}},calculate:function(A){return c(A,!1)}}:{calculate:function(A,h,o,p){return A.forEach(function(b){u(d(b.start,b.end,b),!0)}),o.forEach(function(b){u(d(b.start,b.end,b),!1)}),c(h,p)}}}H.exports=R},48088:function(H){var G={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,R){for(var a=e.root,C=e.root.next;C!==null;){if(R(C)){g.prev=C.prev,g.next=C,C.prev.next=g,C.prev=g;return}a=C,C=C.next}a.next=g,g.prev=a,g.next=null},findTransition:function(g){for(var R=e.root,a=e.root.next;a!==null&&!g(a);)R=a,a=a.next;return{before:R===e.root?null:R,after:a,insert:function(C){return C.prev=R,C.next=a,R.next=C,a!==null&&(a.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};H.exports=G},11403:function(H){function G(e,g,R){var a=[],C=[];return e.forEach(function(S){var v=S.start,d=S.end;if(g.pointsSame(v,d)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}R&&R.chainStart(S);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=r;function n(E,w,O){return i.index=E,i.matches_head=w,i.matches_pt1=O,i===r?(i=t,!1):(i=null,!0)}for(var f=0;f<a.length;f++){var u=a[f],l=u[0];u[1];var m=u[u.length-1];if(u[u.length-2],g.pointsSame(l,v)){if(n(f,!0,!0))break}else if(g.pointsSame(l,d)){if(n(f,!0,!1))break}else if(g.pointsSame(m,v)){if(n(f,!1,!0))break}else if(g.pointsSame(m,d)&&n(f,!1,!1))break}if(i===r){a.push([v,d]),R&&R.chainNew(v,d);return}if(i===t){R&&R.chainMatch(r.index);var c=r.index,A=r.matches_pt1?d:v,h=r.matches_head,u=a[c],o=h?u[0]:u[u.length-1],p=h?u[1]:u[u.length-2],b=h?u[u.length-1]:u[0],T=h?u[u.length-2]:u[1];if(g.pointsCollinear(p,o,A)&&(h?(R&&R.chainRemoveHead(r.index,A),u.shift()):(R&&R.chainRemoveTail(r.index,A),u.pop()),o=p),g.pointsSame(b,A)){a.splice(c,1),g.pointsCollinear(T,b,o)&&(h?(R&&R.chainRemoveTail(r.index,o),u.pop()):(R&&R.chainRemoveHead(r.index,o),u.shift())),R&&R.chainClose(r.index),C.push(u);return}h?(R&&R.chainAddHead(r.index,A),u.unshift(A)):(R&&R.chainAddTail(r.index,A),u.push(A));return}function P(E){R&&R.chainReverse(E),a[E].reverse()}function x(E,w){var O=a[E],_=a[w],U=O[O.length-1],z=O[O.length-2],F=_[0],B=_[1];g.pointsCollinear(z,U,F)&&(R&&R.chainRemoveTail(E,U),O.pop(),U=z),g.pointsCollinear(U,F,B)&&(R&&R.chainRemoveHead(w,F),_.shift()),R&&R.chainJoin(E,w),a[E]=O.concat(_),a.splice(w,1)}var L=r.index,M=t.index;R&&R.chainConnect(L,M);var s=a[L].length<a[M].length;r.matches_head?t.matches_head?s?(P(L),x(L,M)):(P(M),x(M,L)):x(M,L):t.matches_head?x(L,M):s?(P(L),x(M,L)):(P(M),x(L,M))}),C}H.exports=G},82368:function(H){function G(g,R,a){var C=[];return g.forEach(function(S){var v=(S.myFill.above?8:0)+(S.myFill.below?4:0)+(S.otherFill&&S.otherFill.above?2:0)+(S.otherFill&&S.otherFill.below?1:0);R[v]!==0&&C.push({id:a?a.segmentId():-1,start:S.start,end:S.end,myFill:{above:R[v]===1,below:R[v]===2},otherFill:null})}),a&&a.selected(C),C}var e={union:function(g,R){return G(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],R)},intersect:function(g,R){return G(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],R)},difference:function(g,R){return G(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],R)},differenceRev:function(g,R){return G(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],R)},xor:function(g,R){return G(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],R)}};H.exports=e},9696:function(H,G,e){var g=e(29936).Transform,R=e(55619);function a(){g.call(this,{readableObjectMode:!0})}a.prototype=Object.create(g.prototype),a.prototype.constructor=a,R(a.prototype),G.gS=function(S,v,d){for(var r=v,t=0;t<d.length;)if(S[r++]!==d[t++])return!1;return!0},G.wR=function(S,v){var d=[],r=0;if(v&&v==="hex")for(;r<S.length;)d.push(parseInt(S.slice(r,r+2),16)),r+=2;else for(;r<S.length;r++)d.push(S.charCodeAt(r)&255);return d},G.Bz=function(S,v){return S[v]|S[v+1]<<8},G.eW=function(S,v){return S[v+1]|S[v]<<8},G.st=function(S,v){return S[v]|S[v+1]<<8|S[v+2]<<16|S[v+3]*16777216},G.eI=function(S,v){return S[v+3]|S[v+2]<<8|S[v+1]<<16|S[v]*16777216};function C(S,v,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=S,v&&(this.code=v),d&&(this.statusCode=d)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},11688:function(H){function G(R,a){var C=new Error(R);return C.code=a,C}function e(R){try{return decodeURIComponent(escape(R))}catch{return R}}function g(R,a,C){this.input=R.subarray(a,C),this.start=a;var S=String.fromCharCode.apply(null,this.input.subarray(0,4));if(S!=="II*\0"&&S!=="MM\0*")throw G("invalid TIFF signature","EBADDATA");this.big_endian=S[0]==="M"}g.prototype.each=function(R){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,R)}},g.prototype.read_uint16=function(R){var a=this.input;if(R+2>a.length)throw G("unexpected EOF","EBADDATA");return this.big_endian?a[R]*256+a[R+1]:a[R]+a[R+1]*256},g.prototype.read_uint32=function(R){var a=this.input;if(R+4>a.length)throw G("unexpected EOF","EBADDATA");return this.big_endian?a[R]*16777216+a[R+1]*65536+a[R+2]*256+a[R+3]:a[R]+a[R+1]*256+a[R+2]*65536+a[R+3]*16777216},g.prototype.is_subifd_link=function(R,a){return R===0&&a===34665||R===0&&a===34853||R===34665&&a===40965},g.prototype.exif_format_length=function(R){switch(R){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(R,a){var C;switch(R){case 1:case 2:return C=this.input[a],C;case 6:return C=this.input[a],C|(C&128)*33554430;case 3:return C=this.read_uint16(a),C;case 8:return C=this.read_uint16(a),C|(C&32768)*131070;case 4:return C=this.read_uint32(a),C;case 9:return C=this.read_uint32(a),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(R,a,C){var S=this.read_uint16(a);a+=2;for(var v=0;v<S;v++){var d=this.read_uint16(a),r=this.read_uint16(a+2),t=this.read_uint32(a+4),i=this.exif_format_length(r),n=t*i,f=n<=4?a+8:this.read_uint32(a+8),u=!1;if(f+n>this.input.length)throw G("unexpected EOF","EBADDATA");for(var l=[],m=f,c=0;c<t;c++,m+=i){var A=this.exif_format_read(r,m);if(A===null){l=null;break}l.push(A)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(R,d)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:d,offset:l[0]}),u=!0);var h={is_big_endian:this.big_endian,ifd:R,tag:d,format:r,count:t,entry_offset:a+this.start,data_length:n,data_offset:f+this.start,value:l,is_subifd_link:u};if(C(h)===!1){this.aborted=!0;return}a+=12}R===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},H.exports.ExifParser=g,H.exports.get_orientation=function(R){var a=0;try{return new g(R,0,R.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return a=C.value[0],!1}),a}catch{return-1}}},44600:function(H,G,e){var g=e(9696).eW,R=e(9696).eI;function a(n,f){if(n.length<4+f)return null;var u=R(n,f);return n.length<u+f||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(f+4,f+8)),data:n.slice(f+8,f+u),end:f+u}}H.exports.unbox=a;function C(n,f){for(var u=0;;){var l=a(n,u);if(!l)break;switch(l.boxtype){case"ispe":f.sizes.push({width:R(l.data,4),height:R(l.data,8)});break;case"irot":f.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function S(n,f,u){for(var l=0,m=0;m<u;m++)l=l*256+(n[f+m]||0);return l}function v(n,f){for(var u=n[4]>>4&15,l=n[4]&15,m=n[5]>>4&15,c=g(n,6),A=8,h=0;h<c;h++){var o=g(n,A);A+=2;var p=g(n,A);A+=2;var b=S(n,A,m);A+=m;var T=g(n,A);if(A+=2,p===0&&T===1){var P=S(n,A,u),x=S(n,A+u,l);f.item_loc[o]={length:x,offset:P+b}}A+=T*(u+l)}}function d(n,f){for(var u=g(n,4),l=6,m=0;m<u;m++){var c=a(n,l);if(!c)break;if(c.boxtype==="infe"){for(var A=g(c.data,4),h="",o=8;o<c.data.length&&c.data[o];o++)h+=String.fromCharCode(c.data[o]);f.item_inf[h]=A}l=c.end}}function r(n,f){for(var u=0;;){var l=a(n,u);if(!l)break;l.boxtype==="ipco"&&C(l.data,f),u=l.end}}function t(n,f){for(var u=4;;){var l=a(n,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,f),l.boxtype==="iloc"&&v(l.data,f),l.boxtype==="iinf"&&d(l.data,f),u=l.end}}function i(n){var f=n.reduce(function(m,c){return m.width>c.width||m.width===c.width&&m.height>c.height?m:c}),u=n.reduce(function(m,c){return m.height>c.height||m.height===c.height&&m.width>c.width?m:c}),l;return f.width>u.height||f.width===u.height&&f.height>u.width?l=f:l=u,l}H.exports.readSizeFromMeta=function(n){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,f),!!f.sizes.length){var u=i(f.sizes),l=1;f.transforms.forEach(function(c){var A={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(c.type==="imir"&&(c.value===0?l=h[l]:(l=h[l],l=A[l],l=A[l])),c.type==="irot")for(var o=0;o<c.value;o++)l=A[l]});var m=null;return f.item_inf.Exif&&(m=f.item_loc[f.item_inf.Exif]),{width:u.width,height:u.height,orientation:f.transforms.length?l:null,variants:f.sizes,exif_location:m}}},H.exports.getMimeType=function(n){var f=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[f]=!0;for(var l=8;l<n.length;l+=4)u[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(H,G,e){var g=e(9696).wR,R=e(9696).gS,a=e(9696).eI,C=e(44600),S=e(11688),v=g("ftyp");H.exports=function(d){if(R(d,4,v)){var r=C.unbox(d,0);if(r){var t=C.getMimeType(r.data);if(t){for(var i,n=r.end;;){var f=C.unbox(d,n);if(!f)break;if(n=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){i=f.data;break}}if(i){var u=C.readSizeFromMeta(i);if(u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=d.length){var m=a(d,u.exif_location.offset),c=d.slice(u.exif_location.offset+m+4,u.exif_location.offset+u.exif_location.length),A=S.get_orientation(c);A>0&&(l.orientation=A)}return l}}}}}}},38728:function(H,G,e){var g=e(9696).wR,R=e(9696).gS,a=e(9696).Bz,C=g("BM");H.exports=function(S){if(!(S.length<26)&&R(S,0,C))return{width:a(S,18),height:a(S,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(H,G,e){var g=e(9696).wR,R=e(9696).gS,a=e(9696).Bz,C=g("GIF87a"),S=g("GIF89a");H.exports=function(v){if(!(v.length<10)&&!(!R(v,0,C)&&!R(v,0,S)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(H,G,e){var g=e(9696).Bz,R=0,a=1,C=16;H.exports=function(S){var v=g(S,0),d=g(S,2),r=g(S,4);if(!(v!==R||d!==a||!r)){for(var t=[],i={width:0,height:0},n=0;n<r;n++){var f=S[6+C*n]||256,u=S[6+C*n+1]||256,l={width:f,height:u};t.push(l),(f>i.width||u>i.height)&&(i=l)}return{width:i.width,height:i.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(H,G,e){var g=e(9696).eW,R=e(9696).wR,a=e(9696).gS,C=e(11688),S=R("Exif\0\0");H.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var d=2;;){for(;;){if(v.length-d<2)return;if(v[d++]===255)break}for(var r=v[d++],t;r===255;)r=v[d++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-d<2)return;t=g(v,d)-2,d+=2}else return;if(r===217||r===218)return;var i;if(r===225&&t>=10&&a(v,d,S)&&(i=C.get_orientation(v.slice(d+6,d+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-d<t)return;var n={width:g(v,d+3),height:g(v,d+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}d+=t}}},37276:function(H,G,e){var g=e(9696).wR,R=e(9696).gS,a=e(9696).eI,C=g(`PNG\r

`),S=g("IHDR");H.exports=function(v){if(!(v.length<24)&&R(v,0,C)&&R(v,12,S))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(H,G,e){var g=e(9696).wR,R=e(9696).gS,a=e(9696).eI,C=g("8BPS\0");H.exports=function(S){if(!(S.length<22)&&R(S,0,C))return{width:a(S,18),height:a(S,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(H){function G(i){return i===32||i===9||i===13||i===10}function e(i){return typeof i=="number"&&isFinite(i)&&i>0}function g(i){var n=0,f=i.length;for(i[0]===239&&i[1]===187&&i[2]===191&&(n=3);n<f&&G(i[n]);)n++;return n===f?!1:i[n]===60}var R=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,S=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,d=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(i){var n=i.match(C),f=i.match(S),u=i.match(v);return{width:n&&(n[1]||n[2]),height:f&&(f[1]||f[2]),viewbox:u&&(u[1]||u[2])}}function t(i){return d.test(i)?i.match(d)[0]:"px"}H.exports=function(i){if(g(i)){for(var n="",f=0;f<i.length;f++)n+=String.fromCharCode(i[f]);var u=(n.match(R)||[""])[0];if(a.test(u)){var l=r(u),m=parseFloat(l.width),c=parseFloat(l.height);if(l.width&&l.height)return!e(m)||!e(c)?void 0:{width:m,height:c,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var A=(l.viewbox||"").split(" "),h={width:A[2],height:A[3]},o=parseFloat(h.width),p=parseFloat(h.height);if(!(!e(o)||!e(p))&&t(h.width)===t(h.height)){var b=o/p;return l.width?e(m)?{width:m,height:m/b,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(c)?{width:c*b,height:c,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:o,height:p,type:"svg",mime:"image/svg+xml",wUnits:t(h.width),hUnits:t(h.height)}}}}}},98792:function(H,G,e){var g=e(9696).wR,R=e(9696).gS,a=e(9696).Bz,C=e(9696).eW,S=e(9696).st,v=e(9696).eI,d=g("II*\0"),r=g("MM\0*");function t(f,u,l){return l?C(f,u):a(f,u)}function i(f,u,l){return l?v(f,u):S(f,u)}function n(f,u,l){var m=t(f,u+2,l),c=i(f,u+4,l);return c!==1||m!==3&&m!==4?null:m===3?t(f,u+8,l):i(f,u+8,l)}H.exports=function(f){if(!(f.length<8)&&!(!R(f,0,d)&&!R(f,0,r))){var u=f[0]===77,l=i(f,4,u)-8;if(!(l<0)){var m=l+8;if(!(f.length-m<2)){var c=t(f,m+0,u)*12;if(!(c<=0)&&(m+=2,!(f.length-m<c))){var A,h,o,p;for(A=0;A<c;A+=12)p=t(f,m+A,u),p===256?h=n(f,m+A,u):p===257&&(o=n(f,m+A,u));if(h&&o)return{width:h,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(H,G,e){var g=e(9696).wR,R=e(9696).gS,a=e(9696).Bz,C=e(9696).st,S=e(11688),v=g("RIFF"),d=g("WEBP");function r(n,f){if(!(n[f+3]!==157||n[f+4]!==1||n[f+5]!==42))return{width:a(n,f+6)&16383,height:a(n,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,f){if(n[f]===47){var u=C(n,f+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function i(n,f){return{width:(n[f+6]<<16|n[f+5]<<8|n[f+4])+1,height:(n[f+9]<<f|n[f+8]<<8|n[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}H.exports=function(n){if(!(n.length<16)&&!(!R(n,0,v)&&!R(n,8,d))){var f=12,u=null,l=0,m=C(n,4)+8;if(!(m>n.length)){for(;f+8<m;){if(n[f]===0){f++;continue}var c=String.fromCharCode.apply(null,n.slice(f,f+4)),A=C(n,f+4);c==="VP8 "&&A>=10?u=u||r(n,f+8):c==="VP8L"&&A>=9?u=u||t(n,f+8):c==="VP8X"&&A>=10?u=u||i(n,f+8):c==="EXIF"&&(l=S.get_orientation(n.slice(f+8,f+8+A)),f=1/0),f+=8+A}if(u)return l>0&&(u.orientation=l),u}}}},87480:function(H,G,e){H.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(H,G,e){var g=e(87480);function R(a){for(var C=Object.keys(g),S=0;S<C.length;S++){var v=g[C[S]](a);if(v)return v}return null}H.exports=function(C){return R(C)},H.exports.parsers=g},4168:function(H){var G=H.exports={},e,g;function R(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=R}catch{e=R}try{typeof clearTimeout=="function"?g=clearTimeout:g=a}catch{g=a}})();function C(l){if(e===setTimeout)return setTimeout(l,0);if((e===R||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function S(l){if(g===clearTimeout)return clearTimeout(l);if((g===a||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(l);try{return g(l)}catch{try{return g.call(null,l)}catch{return g.call(this,l)}}}var v=[],d=!1,r,t=-1;function i(){!d||!r||(d=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!d){var l=C(i);d=!0;for(var m=v.length;m;){for(r=v,v=[];++t<m;)r&&r[t].run();t=-1,m=v.length}r=null,d=!1,S(l)}}G.nextTick=function(l){var m=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)m[c-1]=arguments[c];v.push(new f(l,m)),v.length===1&&!d&&C(n)};function f(l,m){this.fun=l,this.array=m}f.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={};function u(){}G.on=u,G.addListener=u,G.once=u,G.off=u,G.removeListener=u,G.removeAllListeners=u,G.emit=u,G.prependListener=u,G.prependOnceListener=u,G.listeners=function(l){return[]},G.binding=function(l){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(l){throw new Error("process.chdir is not supported")},G.umask=function(){return 0}},3951:function(H,G,e){for(var g=e(41984),R=typeof window>"u"?e.g:window,a=["moz","webkit"],C="AnimationFrame",S=R["request"+C],v=R["cancel"+C]||R["cancelRequest"+C],d=0;!S&&d<a.length;d++)S=R[a[d]+"Request"+C],v=R[a[d]+"Cancel"+C]||R[a[d]+"CancelRequest"+C];if(!S||!v){var r=0,t=0,i=[],n=1e3/60;S=function(f){if(i.length===0){var u=g(),l=Math.max(0,n-(u-r));r=l+u,setTimeout(function(){var m=i.slice(0);i.length=0;for(var c=0;c<m.length;c++)if(!m[c].cancelled)try{m[c].callback(r)}catch(A){setTimeout(function(){throw A},0)}},Math.round(l))}return i.push({handle:++t,callback:f,cancelled:!1}),t},v=function(f){for(var u=0;u<i.length;u++)i[u].handle===f&&(i[u].cancelled=!0)}}H.exports=function(f){return S.call(R,f)},H.exports.cancel=function(){v.apply(R,arguments)},H.exports.polyfill=function(f){f||(f=R),f.requestAnimationFrame=S,f.cancelAnimationFrame=v}},24544:function(H,G,e){var g=e(76752),R=e(72160),a=e(45223),C=e(55616),S=e(50896),v=e(47520),d=e(37816),r=d.float32,t=d.fract32;H.exports=n;var i=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(f,u){if(typeof f=="function"?(u||(u={}),u.regl=f):u=f,u.length&&(u.positions=u),f=u.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=f._gl,m,c,A,h,o,p,b={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},T=[];return h=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),A=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=f.buffer({usage:"static",type:"float",data:i}),M(u),m=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(E,w){return[w.viewport.x,w.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:h,offset:function(E,w){return w.offset*4},divisor:1},position:{buffer:c,offset:function(E,w){return w.offset*8},divisor:1},positionFract:{buffer:A,offset:function(E,w){return w.offset*8},divisor:1},error:{buffer:o,offset:function(E,w){return w.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:i.length}),S(P,{update:M,draw:x,destroy:s,regl:f,gl:l,canvas:l.canvas,groups:T}),P;function P(E){E?M(E):E===null&&s(),x()}function x(E){if(typeof E=="number")return L(E);E&&!Array.isArray(E)&&(E=[E]),f._refresh(),T.forEach(function(w,O){if(w){if(E&&(E[O]?w.draw=!0:w.draw=!1),!w.draw){w.draw=!0;return}L(O)}})}function L(E){typeof E=="number"&&(E=T[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],m(E),E.after&&E.after(E))}function M(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var w=0,O=0;if(P.groups=T=E.map(function(V,X){var q=T[X];if(V)typeof V=="function"?V={after:V}:typeof V[0]=="number"&&(V={positions:V});else return q;return V=C(V,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),q||(T[X]=q={id:X,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},V=S({},b,V)),a(q,V,[{lineWidth:function(te){return+te*.5},capSize:function(te){return+te*.5},opacity:parseFloat,errors:function(te){return te=v(te),O+=te.length,te},positions:function(te,ne){return te=v(te,"float64"),ne.count=Math.floor(te.length/2),ne.bounds=g(te,2),ne.offset=w,w+=ne.count,te}},{color:function(te,ne){var ce=ne.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var Q=te;te=Array(ce);for(var Z=0;Z<ce;Z++)te[Z]=Q}if(te.length<ce)throw Error("Not enough colors");for(var re=new Uint8Array(ce*4),Y=0;Y<ce;Y++){var oe=R(te[Y],"uint8");re.set(oe,Y*4)}return re},range:function(te,ne,ce){var Q=ne.bounds;return te||(te=Q),ne.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],ne.translate=[-te[0],-te[1]],ne.scaleFract=t(ne.scale),ne.translateFract=t(ne.translate),te},viewport:function(te){var ne;return Array.isArray(te)?ne={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(ne={x:te.x||te.left||0,y:te.y||te.top||0},te.right?ne.width=te.right-ne.x:ne.width=te.w||te.width||0,te.bottom?ne.height=te.bottom-ne.y:ne.height=te.h||te.height||0):ne={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ne}}]),q}),w||O){var _=T.reduce(function(V,X,q){return V+(X?X.count:0)},0),U=new Float64Array(_*2),z=new Uint8Array(_*4),F=new Float32Array(_*4);T.forEach(function(V,X){if(V){var q=V.positions,te=V.count,ne=V.offset,ce=V.color,Q=V.errors;te&&(z.set(ce,ne*4),F.set(Q,ne*4),U.set(q,ne*2))}});var B=r(U);c(B);var N=t(U,B);A(N),h(z),o(F)}}}function s(){c.destroy(),A.destroy(),h.destroy(),o.destroy(),p.destroy()}}},13472:function(H,G,e){var g=e(72160),R=e(76752),a=e(50896),C=e(55616),S=e(47520),v=e(28912),d=e(71152),r=e(37816),t=r.float32,i=r.fract32,n=e(60463),f=e(51160),u=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,m=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,c=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,A=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,h=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,o=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;H.exports=p;function p(b,T){if(!(this instanceof p))return new p(b,T);if(typeof b=="function"?(T||(T={}),T.regl=b):T=b,T.length&&(T.positions=T),b=T.regl,!b.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=b._gl,this.regl=b,this.passes=[],this.shaders=p.shaders.has(b)?p.shaders.get(b):p.shaders.set(b,p.createShaders(b)).get(b),this.update(T)}p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new n,p.createShaders=function(b){var T=b.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),P={primitive:"triangle strip",instances:b.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,E){return E.join==="round"?2:1},miterLimit:b.prop("miterLimit"),scale:b.prop("scale"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),thickness:b.prop("thickness"),dashTexture:b.prop("dashTexture"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),dashLength:b.prop("dashLength"),viewport:function(s,E){return[E.viewport.x,E.viewport.y,s.viewportWidth,s.viewportHeight]},depth:b.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:b.prop("viewport")},viewport:b.prop("viewport")},x=b(a({vert:l,frag:m,attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},P)),L;try{L=b(a({cull:{enable:!0,face:"back"},vert:h,frag:o,attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aColor:{buffer:b.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:b.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:b.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},P))}catch{L=x}var M=b({primitive:"triangle",elements:function(s,E){return E.triangles},offset:0,vert:c,frag:A,uniforms:{scale:b.prop("scale"),color:b.prop("fill"),scaleFract:b.prop("scaleFract"),translateFract:b.prop("translateFract"),translate:b.prop("translate"),opacity:b.prop("opacity"),pixelRatio:b.context("pixelRatio"),id:b.prop("id"),viewport:function(s,E){return[E.viewport.x,E.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:b.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:b.prop("positionFractBuffer"),stride:8,offset:8}},blend:P.blend,depth:{enable:!1},scissor:P.scissor,stencil:P.stencil,viewport:P.viewport});return{fill:M,rect:x,miter:L}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var b,T=[],P=arguments.length;P--;)T[P]=arguments[P];T.length&&(b=this).update.apply(b,T),this.draw()},p.prototype.draw=function(){for(var b=this,T=[],P=arguments.length;P--;)T[P]=arguments[P];return(T.length?T:this.passes).forEach(function(x,L){var M;if(x&&Array.isArray(x))return(M=b).draw.apply(M,x);typeof x=="number"&&(x=b.passes[x]),x&&x.count>1&&x.opacity&&(b.regl._refresh(),x.fill&&x.triangles&&x.triangles.length>2&&b.shaders.fill(x),x.thickness&&(x.scale[0]*x.viewport.width>p.precisionThreshold||x.scale[1]*x.viewport.height>p.precisionThreshold||x.join==="rect"||!x.join&&(x.thickness<=2||x.count>=p.maxPoints)?b.shaders.rect(x):b.shaders.miter(x)))}),this},p.prototype.update=function(b){var T=this;if(b){b.length!=null?typeof b[0]=="number"&&(b=[{positions:b}]):Array.isArray(b)||(b=[b]);var P=this,x=P.regl,L=P.gl;if(b.forEach(function(O,_){var U=T.passes[_];if(O!==void 0){if(O===null){T.passes[_]=null;return}if(typeof O[0]=="number"&&(O={positions:O}),O=C(O,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),U||(T.passes[_]=U={id:_,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:x.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:x.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},O=a({},p.defaults,O)),O.thickness!=null&&(U.thickness=parseFloat(O.thickness)),O.opacity!=null&&(U.opacity=parseFloat(O.opacity)),O.miterLimit!=null&&(U.miterLimit=parseFloat(O.miterLimit)),O.overlay!=null&&(U.overlay=!!O.overlay,_<p.maxLines&&(U.depth=2*(p.maxLines-1-_%p.maxLines)/p.maxLines-1)),O.join!=null&&(U.join=O.join),O.hole!=null&&(U.hole=O.hole),O.fill!=null&&(U.fill=O.fill?g(O.fill,"uint8"):null),O.viewport!=null&&(U.viewport=f(O.viewport)),U.viewport||(U.viewport=f([L.drawingBufferWidth,L.drawingBufferHeight])),O.close!=null&&(U.close=O.close),O.positions===null&&(O.positions=[]),O.positions){var z,F;if(O.positions.x&&O.positions.y){var B=O.positions.x,N=O.positions.y;F=U.count=Math.max(B.length,N.length),z=new Float64Array(F*2);for(var V=0;V<F;V++)z[V*2]=B[V],z[V*2+1]=N[V]}else z=S(O.positions,"float64"),F=U.count=Math.floor(z.length/2);var X=U.bounds=R(z,2);if(U.fill){for(var q=[],te={},ne=0,ce=0,Q=0,Z=U.count;ce<Z;ce++){var re=z[ce*2],Y=z[ce*2+1];isNaN(re)||isNaN(Y)||re==null||Y==null?(re=z[ne*2],Y=z[ne*2+1],te[ce]=ne):ne=ce,q[Q++]=re,q[Q++]=Y}if(O.splitNull){U.count-1 in te||(te[U.count]=U.count-1);var oe=Object.keys(te).map(Number).sort(function(de,Te){return de-Te}),ue=[],K=0,$=U.hole!=null?U.hole[0]:null;if($!=null){var le=u(oe,function(de){return de>=$});oe=oe.slice(0,le),oe.push($)}for(var ae=function(de){var Te=q.slice(K*2,oe[de]*2).concat($?q.slice($*2):[]),Be=(U.hole||[]).map(function(at){return at-$+(oe[de]-K)}),Qe=v(Te,Be);Qe=Qe.map(function(at){return at+K+(at+K<oe[de]?0:$-oe[de])}),ue.push.apply(ue,Qe),K=oe[de]+1},he=0;he<oe.length;he++)ae(he);for(var xe=0,Me=ue.length;xe<Me;xe++)te[ue[xe]]!=null&&(ue[xe]=te[ue[xe]]);U.triangles=ue}else{for(var Ae=v(q,U.hole||[]),ke=0,we=Ae.length;ke<we;ke++)te[Ae[ke]]!=null&&(Ae[ke]=te[Ae[ke]]);U.triangles=Ae}}var Ee=new Float64Array(z);d(Ee,2,X);var be=new Float64Array(F*2+6);U.close?z[0]===z[F*2-2]&&z[1]===z[F*2-1]?(be[0]=Ee[F*2-4],be[1]=Ee[F*2-3]):(be[0]=Ee[F*2-2],be[1]=Ee[F*2-1]):(be[0]=Ee[0],be[1]=Ee[1]),be.set(Ee,2),U.close?z[0]===z[F*2-2]&&z[1]===z[F*2-1]?(be[F*2+2]=Ee[2],be[F*2+3]=Ee[3],U.count-=1):(be[F*2+2]=Ee[0],be[F*2+3]=Ee[1],be[F*2+4]=Ee[2],be[F*2+5]=Ee[3]):(be[F*2+2]=Ee[F*2-2],be[F*2+3]=Ee[F*2-1],be[F*2+4]=Ee[F*2-2],be[F*2+5]=Ee[F*2-1]);var Le=t(be);U.positionBuffer(Le);var Ue=i(be,Le);U.positionFractBuffer(Ue)}if(O.range?U.range=O.range:U.range||(U.range=U.bounds),(O.range||O.positions)&&U.count){var Ve=U.bounds,Fe=Ve[2]-Ve[0],He=Ve[3]-Ve[1],st=U.range[2]-U.range[0],vt=U.range[3]-U.range[1];U.scale=[Fe/st,He/vt],U.translate=[-U.range[0]/st+Ve[0]/st||0,-U.range[1]/vt+Ve[1]/vt||0],U.scaleFract=i(U.scale),U.translateFract=i(U.translate)}if(O.dashes){var lt=0,et;if(!O.dashes||O.dashes.length<2)lt=1,et=new Uint8Array([255,255,255,255,255,255,255,255]);else{lt=0;for(var ct=0;ct<O.dashes.length;++ct)lt+=O.dashes[ct];et=new Uint8Array(lt*p.dashMult);for(var ht=0,mt=255,xt=0;xt<2;xt++)for(var Mt=0;Mt<O.dashes.length;++Mt){for(var tt=0,Oe=O.dashes[Mt]*p.dashMult*.5;tt<Oe;++tt)et[ht++]=mt;mt^=255}}U.dashLength=lt,U.dashTexture({channels:1,data:et,width:et.length,height:1,mag:"linear",min:"linear"},0,0)}if(O.color){var Ye=U.count,Ze=O.color;Ze||(Ze="transparent");var We=new Uint8Array(Ye*4+4);if(!Array.isArray(Ze)||typeof Ze[0]=="number")for(var _e=g(Ze,"uint8"),Ie=0;Ie<Ye+1;Ie++)We.set(_e,Ie*4);else{for(var Xe=0;Xe<Ye;Xe++){var De=g(Ze[Xe],"uint8");We.set(De,Xe*4)}We.set(g(Ze[0],"uint8"),Ye*4)}U.colorBuffer({usage:"dynamic",type:"uint8",data:We})}}}),b.length<this.passes.length){for(var M=b.length;M<this.passes.length;M++){var s=this.passes[M];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=b.length}for(var E=[],w=0;w<this.passes.length;w++)this.passes[w]!==null&&E.push(this.passes[w]);return this.passes=E,this}},p.prototype.destroy=function(){return this.passes.forEach(function(b){b.colorBuffer.destroy(),b.positionBuffer.destroy(),b.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(H,G,e){function g(s,E){var w=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(w!=null){var O,_,U,z,F=[],B=!0,N=!1;try{if(U=(w=w.call(s)).next,E===0){if(Object(w)!==w)return;B=!1}else for(;!(B=(O=U.call(w)).done)&&(F.push(O.value),F.length!==E);B=!0);}catch(V){N=!0,_=V}finally{try{if(!B&&w.return!=null&&(z=w.return(),Object(z)!==z))return}finally{if(N)throw _}}return F}}function R(s,E){return S(s)||g(s,E)||d(s,E)||i()}function a(s){return C(s)||v(s)||d(s)||t()}function C(s){if(Array.isArray(s))return r(s)}function S(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function d(s,E){if(s){if(typeof s=="string")return r(s,E);var w=Object.prototype.toString.call(s).slice(8,-1);if(w==="Object"&&s.constructor&&(w=s.constructor.name),w==="Map"||w==="Set")return Array.from(s);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return r(s,E)}}function r(s,E){(E==null||E>s.length)&&(E=s.length);for(var w=0,O=new Array(E);w<E;w++)O[w]=s[w];return O}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),f=e(76752),u=e(3808),l=e(3108),m=e(50896),c=e(26444),A=e(55616),h=e(45223),o=e(47520),p=e(96604),b=e(37816),T=e(51160),P=x;function x(s,E){var w=this;if(!(this instanceof x))return new x(s,E);typeof s=="function"?(E||(E={}),E.regl=s):(E=s,s=null),E&&E.length&&(E.positions=E),s=E.regl;var O=s._gl,_,U=[],z={},F=[],B=[null],N=[null],V=255,X=100;this.tooManyColors=p,_=s.texture({data:new Uint8Array(V*4),width:V,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:s,gl:O,groups:F,markerCache:N,markerTextures:B,palette:U,paletteIds:z,paletteTexture:_,maxColors:V,maxSize:X,canvas:O.canvas}),this.update(E);var q={uniforms:{constPointSize:!!E.constPointSize,opacity:s.prop("opacity"),paletteSize:function(Q,Z){return[w.tooManyColors?0:V,_.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:_},attributes:{x:function(Q,Z){return Z.xAttr||{buffer:Z.positionBuffer,stride:8,offset:0}},y:function(Q,Z){return Z.yAttr||{buffer:Z.positionBuffer,stride:8,offset:4}},xFract:function(Q,Z){return Z.xAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:0}},yFract:function(Q,Z){return Z.yAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:4}},size:function(Q,Z){return Z.size.length?{buffer:Z.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Z.size*255/w.maxSize)]}},borderSize:function(Q,Z){return Z.borderSize.length?{buffer:Z.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Z.borderSize*255/w.maxSize)]}},colorId:function(Q,Z){return Z.color.length?{buffer:Z.colorBuffer,stride:w.tooManyColors?8:4,offset:0}:{constant:w.tooManyColors?U.slice(Z.color*4,Z.color*4+4):[Z.color]}},borderColorId:function(Q,Z){return Z.borderColor.length?{buffer:Z.colorBuffer,stride:w.tooManyColors?8:4,offset:w.tooManyColors?4:2}:{constant:w.tooManyColors?U.slice(Z.borderColor*4,Z.borderColor*4+4):[Z.borderColor]}},isActive:function(Q,Z){return Z.activation===!0?{constant:[1]}:Z.activation?Z.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},te=m({},q);te.frag=c([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),te.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(te);var ne=m({},q);ne.frag=c([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ne.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(ne.frag=ne.frag.replace("smoothstep","smoothStep"),te.frag=te.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(ne)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var s=this,E=arguments.length,w=new Array(E),O=0;O<E;O++)w[O]=arguments[O];var _=this.groups;if(w.length===1&&Array.isArray(w[0])&&(w[0][0]===null||Array.isArray(w[0][0]))&&(w=w[0]),this.regl._refresh(),w.length)for(var U=0;U<w.length;U++)this.drawItem(U,w[U]);else _.forEach(function(z,F){s.drawItem(F)});return this},x.prototype.drawItem=function(s,E){var w=this.groups,O=w[s];if(typeof E=="number"&&(s=E,O=w[E],E=null),!!(O&&O.count&&O.opacity)){O.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,O,E));for(var _=[],U=1;U<O.activation.length;U++)!O.activation[U]||O.activation[U]!==!0&&!O.activation[U].data.length||_.push.apply(_,a(this.getMarkerDrawOptions(U,O,E)));_.length&&this.drawMarker(_)}},x.prototype.getMarkerDrawOptions=function(s,E,w){var O=E.range,_=E.tree,U=E.viewport,z=E.activation,F=E.selectionBuffer,B=E.count;if(this.regl,!_)return w?[m({},E,{markerTexture:this.markerTextures[s],activation:z[s],count:w.length,elements:w,offset:0})]:[m({},E,{markerTexture:this.markerTextures[s],activation:z[s],offset:0})];var N=[],V=_.range(O,{lod:!0,px:[(O[2]-O[0])/U.width,(O[3]-O[1])/U.height]});if(w){for(var X=z[s],q=X.data,te=new Uint8Array(B),ne=0;ne<w.length;ne++){var ce=w[ne];te[ce]=q?q[ce]:1}F.subdata(te)}for(var Q=V.length;Q--;){var Z=R(V[Q],2),re=Z[0],Y=Z[1];N.push(m({},E,{markerTexture:this.markerTextures[s],activation:w?F:z[s],offset:re,count:Y-re}))}return N},x.prototype.update=function(){for(var s=this,E=arguments.length,w=new Array(E),O=0;O<E;O++)w[O]=arguments[O];if(w.length){w.length===1&&Array.isArray(w[0])&&(w=w[0]);var _=this.groups,U=this.gl,z=this.regl,F=this.maxSize,B=this.maxColors,N=this.palette;this.groups=_=w.map(function(V,X){var q=_[X];if(V===void 0)return q;V===null?V={positions:null}:typeof V=="function"?V={ondraw:V}:typeof V[0]=="number"&&(V={positions:V}),V=A(V,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),V.positions===null&&(V.positions=[]),V.tooManyColors!=null&&(s.tooManyColors=V.tooManyColors),q||(_[X]=q={id:X,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},V=m({},x.defaults,V)),V.positions&&!("marker"in V)&&(V.marker=q.marker,delete q.marker),V.marker&&!("positions"in V)&&(V.positions=q.positions,delete q.positions);var te=0,ne=0;if(h(q,V,[{snap:!0,size:function(be,Le){return be==null&&(be=x.defaults.size),te+=be&&be.length?1:0,be},borderSize:function(be,Le){return be==null&&(be=x.defaults.borderSize),te+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,Le){return be==null&&(be=x.defaults.color),be=s.updateColor(be),ne++,be},borderColor:function(be,Le){return be==null&&(be=x.defaults.borderColor),be=s.updateColor(be),ne++,be},bounds:function(be,Le,Ue){return"range"in Ue||(Ue.range=null),be},positions:function(be,Le,Ue){var Ve=Le.snap,Fe=Le.positionBuffer,He=Le.positionFractBuffer,st=Le.selectionBuffer;if(be.x||be.y)return be.x.length?Le.xAttr={buffer:z.buffer(be.x),offset:0,stride:4,count:be.x.length}:Le.xAttr={buffer:be.x.buffer,offset:be.x.offset*4||0,stride:(be.x.stride||1)*4,count:be.x.count},be.y.length?Le.yAttr={buffer:z.buffer(be.y),offset:0,stride:4,count:be.y.length}:Le.yAttr={buffer:be.y.buffer,offset:be.y.offset*4||0,stride:(be.y.stride||1)*4,count:be.y.count},Le.count=Math.max(Le.xAttr.count,Le.yAttr.count),be;be=o(be,"float64");var vt=Le.count=Math.floor(be.length/2),lt=Le.bounds=vt?f(be,2):null;if(!Ue.range&&!Le.range&&(delete Le.range,Ue.range=lt),!Ue.marker&&!Le.marker&&(delete Le.marker,Ue.marker=null),Ve&&(Ve===!0||vt>Ve)?Le.tree=l(be,{bounds:lt}):Ve&&Ve.length&&(Le.tree=Ve),Le.tree){var et={primitive:"points",usage:"static",data:Le.tree,type:"uint32"};Le.elements?Le.elements(et):Le.elements=z.elements(et)}var ct=b.float32(be);Fe({data:ct,usage:"dynamic"});var ht=b.fract32(be,ct);return He({data:ht,usage:"dynamic"}),st({data:new Uint8Array(vt),type:"uint8",usage:"stream"}),be}},{marker:function(be,Le,Ue){var Ve=Le.activation;if(Ve.forEach(function(ht){return ht&&ht.destroy&&ht.destroy()}),Ve.length=0,!be||typeof be[0]=="number"){var Fe=s.addMarker(be);Ve[Fe]=!0}else{for(var He=[],st=0,vt=Math.min(be.length,Le.count);st<vt;st++){var lt=s.addMarker(be[st]);He[lt]||(He[lt]=new Uint8Array(Le.count)),He[lt][st]=1}for(var et=0;et<He.length;et++)if(He[et]){var ct={data:He[et],type:"uint8",usage:"static"};Ve[et]?Ve[et](ct):Ve[et]=z.buffer(ct),Ve[et].data=He[et]}}return be},range:function(be,Le,Ue){var Ve=Le.bounds;if(Ve)return be||(be=Ve),Le.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],Le.translate=[-be[0],-be[1]],Le.scaleFract=b.fract(Le.scale),Le.translateFract=b.fract(Le.translate),be},viewport:function(be){var Le=T(be||[U.drawingBufferWidth,U.drawingBufferHeight]);return Le}}]),te){var ce=q,Q=ce.count,Z=ce.size,re=ce.borderSize,Y=ce.sizeBuffer,oe=new Uint8Array(Q*2);if(Z.length||re.length)for(var ue=0;ue<Q;ue++)oe[ue*2]=Math.round((Z[ue]==null?Z:Z[ue])*255/F),oe[ue*2+1]=Math.round((re[ue]==null?re:re[ue])*255/F);Y({data:oe,usage:"dynamic"})}if(ne){var K=q,$=K.count,le=K.color,ae=K.borderColor,he=K.colorBuffer,xe;if(s.tooManyColors){if(le.length||ae.length){xe=new Uint8Array($*8);for(var Me=0;Me<$;Me++){var Ae=le[Me];xe[Me*8]=N[Ae*4],xe[Me*8+1]=N[Ae*4+1],xe[Me*8+2]=N[Ae*4+2],xe[Me*8+3]=N[Ae*4+3];var ke=ae[Me];xe[Me*8+4]=N[ke*4],xe[Me*8+5]=N[ke*4+1],xe[Me*8+6]=N[ke*4+2],xe[Me*8+7]=N[ke*4+3]}}}else if(le.length||ae.length){xe=new Uint8Array($*4+2);for(var we=0;we<$;we++)le[we]!=null&&(xe[we*4]=le[we]%B,xe[we*4+1]=Math.floor(le[we]/B)),ae[we]!=null&&(xe[we*4+2]=ae[we]%B,xe[we*4+3]=Math.floor(ae[we]/B))}he({data:xe||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return q})}},x.prototype.addMarker=function(s){var E=this.markerTextures,w=this.regl,O=this.markerCache,_=s==null?0:O.indexOf(s);if(_>=0)return _;var U;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)U=s;else{U=new Uint8Array(s.length);for(var z=0,F=s.length;z<F;z++)U[z]=s[z]*255}var B=Math.floor(Math.sqrt(U.length));return _=E.length,O.push(s),E.push(w.texture({channels:1,data:U,radius:B,mag:"linear",min:"linear"})),_},x.prototype.updateColor=function(s){var E=this.paletteIds,w=this.palette,O=this.maxColors;Array.isArray(s)||(s=[s]);var _=[];if(typeof s[0]=="number"){var U=[];if(Array.isArray(s))for(var z=0;z<s.length;z+=4)U.push(s.slice(z,z+4));else for(var F=0;F<s.length;F+=4)U.push(s.subarray(F,F+4));s=U}for(var B=0;B<s.length;B++){var N=s[B];N=n(N,"uint8");var V=u(N,!1);if(E[V]==null){var X=w.length;E[V]=Math.floor(X/4),w[X]=N[0],w[X+1]=N[1],w[X+2]=N[2],w[X+3]=N[3]}_[B]=E[V]}return!this.tooManyColors&&w.length>O*4&&(this.tooManyColors=!0),this.updatePalette(w),_.length===1?_[0]:_},x.prototype.updatePalette=function(s){if(!this.tooManyColors){var E=this.maxColors,w=this.paletteTexture,O=Math.ceil(s.length*.25/E);if(O>1){s=s.slice();for(var _=s.length*.25%E;_<O*E;_++)s.push(0,0,0,0)}w.height<O&&w.resize(E,O),w.subimage({width:Math.min(s.length*.25,E),height:O,data:s},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var L=e(50896),M=function(E,w){var O=new P(E,w),_=O.render.bind(O);return L(_,{render:_,update:O.update.bind(O),draw:O.draw.bind(O),destroy:O.destroy.bind(O),regl:O.regl,gl:O.gl,canvas:O.gl.canvas,groups:O.groups,markers:O.markerCache,palette:O.palette}),_};H.exports=M},55795:function(H,G,e){var g=e(38540),R=e(55616),a=e(76752),C=e(3951),S=e(67752),v=e(51160),d=e(47520);H.exports=r;function r(f,u){if(!(this instanceof r))return new r(f);this.traces=[],this.passes={},this.regl=f,this.scatter=g(f),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var f=this,u,l=[],m=arguments.length;m--;)l[m]=arguments[m];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,C(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var m=0;m<u.length;m++)this.updateItem(m,u[m]);this.traces=this.traces.filter(Boolean);for(var c=[],A=0,h=0;h<this.traces.length;h++){for(var o=this.traces[h],p=this.traces[h].passes,b=0;b<p.length;b++)c.push(this.passes[p[b]]);o.passOffset=A,A+=o.passes.length}return(f=this.scatter).update.apply(f,c),this}},r.prototype.updateItem=function(f,u){var l=this,m=l.regl;if(u===null)return this.traces[f]=null,this;if(!u)return this;var c=R(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),A=this.traces[f]||(this.traces[f]={id:f,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(A.color=c.color),c.size!=null&&(A.size=c.size),c.marker!=null&&(A.marker=c.marker),c.borderColor!=null&&(A.borderColor=c.borderColor),c.borderSize!=null&&(A.borderSize=c.borderSize),c.opacity!=null&&(A.opacity=c.opacity),c.viewport&&(A.viewport=v(c.viewport)),c.diagonal!=null&&(A.diagonal=c.diagonal),c.upper!=null&&(A.upper=c.upper),c.lower!=null&&(A.lower=c.lower),c.data){A.buffer(d(c.data)),A.columns=c.data.length,A.count=c.data[0].length,A.bounds=[];for(var h=0;h<A.columns;h++)A.bounds[h]=a(c.data[h],1)}var o;c.range&&(A.range=c.range,o=A.range&&typeof A.range[0]!="number"),c.domain&&(A.domain=c.domain);var p=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===A.columns&&typeof c.padding[c.padding.length-1]=="number"?(A.padding=c.padding.map(n),p=!0):A.padding=n(c.padding));var b=A.columns,T=A.count,P=A.viewport.width,x=A.viewport.height,L=A.viewport.x,M=A.viewport.y,s=P/b,E=x/b;A.passes=[];for(var w=0;w<b;w++)for(var O=0;O<b;O++)if(!(!A.diagonal&&O===w)&&!(!A.upper&&w>O)&&!(!A.lower&&w<O)){var _=t(A.id,w,O),U=this.passes[_]||(this.passes[_]={});if(c.data&&(c.transpose?U.positions={x:{buffer:A.buffer,offset:O,count:T,stride:b},y:{buffer:A.buffer,offset:w,count:T,stride:b}}:U.positions={x:{buffer:A.buffer,offset:O*T,count:T},y:{buffer:A.buffer,offset:w*T,count:T}},U.bounds=i(A.bounds,w,O)),c.domain||c.viewport||c.data){var z=p?i(A.padding,w,O):A.padding;if(A.domain){var F=i(A.domain,w,O),B=F[0],N=F[1],V=F[2],X=F[3];U.viewport=[L+B*P+z[0],M+N*x+z[1],L+V*P-z[2],M+X*x-z[3]]}else U.viewport=[L+O*s+s*z[0],M+w*E+E*z[1],L+(O+1)*s-s*z[2],M+(w+1)*E-E*z[3]]}c.color&&(U.color=A.color),c.size&&(U.size=A.size),c.marker&&(U.marker=A.marker),c.borderSize&&(U.borderSize=A.borderSize),c.borderColor&&(U.borderColor=A.borderColor),c.opacity&&(U.opacity=A.opacity),c.range&&(U.range=o?i(A.range,w,O):A.range||U.bounds),A.passes.push(_)}return this},r.prototype.draw=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var m=[],c=0;c<u.length;c++)if(typeof u[c]=="number"){var A=this.traces[u[c]],h=A.passes,o=A.passOffset;m.push.apply(m,S(o,o+h.length))}else if(u[c].length){var p=u[c],b=this.traces[c],T=b.passes,P=b.passOffset;T=T.map(function(x,L){m[P+L]=p})}(f=this.scatter).draw.apply(f,m)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(f,u,l){var m=f.id!=null?f.id:f,c=u,A=l,h=m<<16|(c&255)<<8|A&255;return h}function i(f,u,l){var m,c,A,h,o=f[u],p=f[l];return o.length>2?(o[0],o[2],m=o[1],c=o[3]):o.length?(m=o[0],c=o[1]):(o.x,m=o.y,o.x+o.width,c=o.y+o.height),p.length>2?(A=p[0],h=p[2],p[1],p[3]):p.length?(A=p[0],h=p[1]):(A=p.x,p.y,h=p.x+p.width,p.y+p.height),[A,m,h,c]}function n(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var u=v(f);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(H){(function(G,e){H.exports=e()})(this,function(){function G(gt,Kt){this.id=he++,this.type=gt,this.data=Kt}function e(gt){if(gt.length===0)return[];var Kt=gt.charAt(0),Qt=gt.charAt(gt.length-1);if(1<gt.length&&Kt===Qt&&(Kt==='"'||Kt==="'"))return['"'+gt.substr(1,gt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Kt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(gt))return e(gt.substr(0,Kt.index)).concat(e(Kt[1])).concat(e(gt.substr(Kt.index+Kt[0].length)));if(Kt=gt.split("."),Kt.length===1)return['"'+gt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(gt=[],Qt=0;Qt<Kt.length;++Qt)gt=gt.concat(e(Kt[Qt]));return gt}function g(gt){return"["+e(gt).join("][")+"]"}function R(gt,Kt){if(typeof gt=="function")return new G(0,gt);if(typeof gt=="number"||typeof gt=="boolean")return new G(5,gt);if(Array.isArray(gt))return new G(6,gt.map(function(Qt,yr){return R(Qt)}));if(gt instanceof G)return gt}function a(){var gt={"":0},Kt=[""];return{id:function(Qt){var yr=gt[Qt];return yr||(yr=gt[Qt]=Kt.length,Kt.push(Qt),yr)},str:function(Qt){return Kt[Qt]}}}function C(gt,Kt,Qt){function yr(){var ot=window.innerWidth,bt=window.innerHeight;gt!==document.body&&(bt=fr.getBoundingClientRect(),ot=bt.right-bt.left,bt=bt.bottom-bt.top),fr.width=Qt*ot,fr.height=Qt*bt}var fr=document.createElement("canvas");ae(fr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),gt.appendChild(fr),gt===document.body&&(fr.style.position="absolute",ae(gt.style,{margin:0,padding:0}));var yt;return gt!==document.body&&typeof ResizeObserver=="function"?(yt=new ResizeObserver(function(){setTimeout(yr)}),yt.observe(gt)):window.addEventListener("resize",yr,!1),yr(),{canvas:fr,onDestroy:function(){yt?yt.disconnect():window.removeEventListener("resize",yr),gt.removeChild(fr)}}}function S(gt,Kt){function Qt(yr){try{return gt.getContext(yr,Kt)}catch{return null}}return Qt("webgl")||Qt("experimental-webgl")||Qt("webgl-experimental")}function v(gt){return typeof gt=="string"?gt.split():gt}function d(gt){return typeof gt=="string"?document.querySelector(gt):gt}function r(gt){var Kt=gt||{},Qt,yr,fr,yt;gt={};var ot=[],bt=[],Et=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Ht={},Bt=function(Jt){},Nt=function(){};if(typeof Kt=="string"?Qt=document.querySelector(Kt):typeof Kt=="object"&&(typeof Kt.nodeName=="string"&&typeof Kt.appendChild=="function"&&typeof Kt.getBoundingClientRect=="function"?Qt=Kt:typeof Kt.drawArrays=="function"||typeof Kt.drawElements=="function"?(yt=Kt,fr=yt.canvas):("gl"in Kt?yt=Kt.gl:"canvas"in Kt?fr=d(Kt.canvas):"container"in Kt&&(yr=d(Kt.container)),"attributes"in Kt&&(gt=Kt.attributes),"extensions"in Kt&&(ot=v(Kt.extensions)),"optionalExtensions"in Kt&&(bt=v(Kt.optionalExtensions)),"onDone"in Kt&&(Bt=Kt.onDone),"profile"in Kt&&(Dt=!!Kt.profile),"pixelRatio"in Kt&&(Et=+Kt.pixelRatio),"cachedCode"in Kt&&(Ht=Kt.cachedCode))),Qt&&(Qt.nodeName.toLowerCase()==="canvas"?fr=Qt:yr=Qt),!yt){if(!fr){if(Qt=C(yr||document.body,Bt,Et),!Qt)return null;fr=Qt.canvas,Nt=Qt.onDestroy}gt.premultipliedAlpha===void 0&&(gt.premultipliedAlpha=!0),yt=S(fr,gt)}return yt?{gl:yt,canvas:fr,container:yr,extensions:ot,optionalExtensions:bt,pixelRatio:Et,profile:Dt,cachedCode:Ht,onDone:Bt,onDestroy:Nt}:(Nt(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(gt,Kt){function Qt(ot){ot=ot.toLowerCase();var bt;try{bt=yr[ot]=gt.getExtension(ot)}catch{}return!!bt}for(var yr={},fr=0;fr<Kt.extensions.length;++fr){var yt=Kt.extensions[fr];if(!Qt(yt))return Kt.onDestroy(),Kt.onDone('"'+yt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Kt.optionalExtensions.forEach(Qt),{extensions:yr,restore:function(){Object.keys(yr).forEach(function(ot){if(yr[ot]&&!Qt(ot))throw Error("(regl): error restoring extension "+ot)})}}}function i(gt,Kt){for(var Qt=Array(gt),yr=0;yr<gt;++yr)Qt[yr]=Kt(yr);return Qt}function n(gt){var Kt,Qt;return Kt=(65535<gt)<<4,gt>>>=Kt,Qt=(255<gt)<<3,gt>>>=Qt,Kt|=Qt,Qt=(15<gt)<<2,gt>>>=Qt,Kt|=Qt,Qt=(3<gt)<<1,Kt|Qt|gt>>>Qt>>1}function f(){function gt(yr){e:{for(var fr=16;268435456>=fr;fr*=16)if(yr<=fr){yr=fr;break e}yr=0}return fr=Qt[n(yr)>>2],0<fr.length?fr.pop():new ArrayBuffer(yr)}function Kt(yr){Qt[n(yr.byteLength)>>2].push(yr)}var Qt=i(8,function(){return[]});return{alloc:gt,free:Kt,allocType:function(yr,fr){var yt=null;switch(yr){case 5120:yt=new Int8Array(gt(fr),0,fr);break;case 5121:yt=new Uint8Array(gt(fr),0,fr);break;case 5122:yt=new Int16Array(gt(2*fr),0,fr);break;case 5123:yt=new Uint16Array(gt(2*fr),0,fr);break;case 5124:yt=new Int32Array(gt(4*fr),0,fr);break;case 5125:yt=new Uint32Array(gt(4*fr),0,fr);break;case 5126:yt=new Float32Array(gt(4*fr),0,fr);break;default:return null}return yt.length!==fr?yt.subarray(0,fr):yt},freeType:function(yr){Kt(yr.buffer)}}}function u(gt){return!!gt&&typeof gt=="object"&&Array.isArray(gt.shape)&&Array.isArray(gt.stride)&&typeof gt.offset=="number"&&gt.shape.length===gt.stride.length&&(Array.isArray(gt.data)||Ee(gt.data))}function l(gt,Kt,Qt,yr,fr,yt){for(var ot=0;ot<Kt;++ot)for(var bt=gt[ot],Et=0;Et<Qt;++Et)for(var Dt=bt[Et],Ht=0;Ht<yr;++Ht)fr[yt++]=Dt[Ht]}function m(gt,Kt,Qt,yr,fr){for(var yt=1,ot=Qt+1;ot<Kt.length;++ot)yt*=Kt[ot];var bt=Kt[Qt];if(Kt.length-Qt===4){var Et=Kt[Qt+1],Dt=Kt[Qt+2];for(Kt=Kt[Qt+3],ot=0;ot<bt;++ot)l(gt[ot],Et,Dt,Kt,yr,fr),fr+=yt}else for(ot=0;ot<bt;++ot)m(gt[ot],Kt,Qt+1,yr,fr),fr+=yt}function c(gt){return Ue[Object.prototype.toString.call(gt)]|0}function A(gt,Kt){for(var Qt=0;Qt<Kt.length;++Qt)gt[Qt]=Kt[Qt]}function h(gt,Kt,Qt,yr,fr,yt,ot){for(var bt=0,Et=0;Et<Qt;++Et)for(var Dt=0;Dt<yr;++Dt)gt[bt++]=Kt[fr*Et+yt*Dt+ot]}function o(gt,Kt,Qt,yr){function fr(Bt){this.id=Et++,this.buffer=gt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Qt.profile&&(this.stats={size:0})}function yt(Bt,Nt,Jt){Bt.byteLength=Nt.byteLength,gt.bufferData(Bt.type,Nt,Jt)}function ot(Bt,Nt,Jt,hr,Zt,dr){if(Bt.usage=Jt,Array.isArray(Nt)){if(Bt.dtype=hr||5126,0<Nt.length)if(Array.isArray(Nt[0])){Zt=st(Nt);for(var je=hr=1;je<Zt.length;++je)hr*=Zt[je];Bt.dimension=hr,Nt=He(Nt,Zt,Bt.dtype),yt(Bt,Nt,Jt),dr?Bt.persistentData=Nt:ke.freeType(Nt)}else typeof Nt[0]=="number"?(Bt.dimension=Zt,Zt=ke.allocType(Bt.dtype,Nt.length),A(Zt,Nt),yt(Bt,Zt,Jt),dr?Bt.persistentData=Zt:ke.freeType(Zt)):Ee(Nt[0])&&(Bt.dimension=Nt[0].length,Bt.dtype=hr||c(Nt[0])||5126,Nt=He(Nt,[Nt.length,Nt[0].length],Bt.dtype),yt(Bt,Nt,Jt),dr?Bt.persistentData=Nt:ke.freeType(Nt))}else if(Ee(Nt))Bt.dtype=hr||c(Nt),Bt.dimension=Zt,yt(Bt,Nt,Jt),dr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(u(Nt)){Zt=Nt.shape;var Ge=Nt.stride,je=Nt.offset,Ot=0,kt=0,$t=0,ar=0;Zt.length===1?(Ot=Zt[0],kt=1,$t=Ge[0],ar=0):Zt.length===2&&(Ot=Zt[0],kt=Zt[1],$t=Ge[0],ar=Ge[1]),Bt.dtype=hr||c(Nt.data)||5126,Bt.dimension=kt,Zt=ke.allocType(Bt.dtype,Ot*kt),h(Zt,Nt.data,Ot,kt,$t,ar,je),yt(Bt,Zt,Jt),dr?Bt.persistentData=Zt:ke.freeType(Zt)}else Nt instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=Zt,yt(Bt,Nt,Jt),dr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt))))}function bt(Bt){Kt.bufferCount--,yr(Bt),gt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Dt[Bt.id]}var Et=0,Dt={};fr.prototype.bind=function(){gt.bindBuffer(this.type,this.buffer)},fr.prototype.destroy=function(){bt(this)};var Ht=[];return Qt.profile&&(Kt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Dt).forEach(function(Nt){Bt+=Dt[Nt].stats.size}),Bt}),{create:function(Bt,Nt,Jt,hr){function Zt(je){var Ge=35044,Ot=null,kt=0,$t=0,ar=1;return Array.isArray(je)||Ee(je)||u(je)||je instanceof ArrayBuffer?Ot=je:typeof je=="number"?kt=je|0:je&&("data"in je&&(Ot=je.data),"usage"in je&&(Ge=Fe[je.usage]),"type"in je&&($t=Ve[je.type]),"dimension"in je&&(ar=je.dimension|0),"length"in je&&(kt=je.length|0)),dr.bind(),Ot?ot(dr,Ot,Ge,$t,ar,hr):(kt&&gt.bufferData(dr.type,kt,Ge),dr.dtype=$t||5121,dr.usage=Ge,dr.dimension=ar,dr.byteLength=kt),Qt.profile&&(dr.stats.size=dr.byteLength*vt[dr.dtype]),Zt}Kt.bufferCount++;var dr=new fr(Nt);return Dt[dr.id]=dr,Jt||Zt(Bt),Zt._reglType="buffer",Zt._buffer=dr,Zt.subdata=function(je,Ge){var Ot=(Ge||0)|0,kt;if(dr.bind(),Ee(je)||je instanceof ArrayBuffer)gt.bufferSubData(dr.type,Ot,je);else if(Array.isArray(je)){if(0<je.length)if(typeof je[0]=="number"){var $t=ke.allocType(dr.dtype,je.length);A($t,je),gt.bufferSubData(dr.type,Ot,$t),ke.freeType($t)}else(Array.isArray(je[0])||Ee(je[0]))&&(kt=st(je),$t=He(je,kt,dr.dtype),gt.bufferSubData(dr.type,Ot,$t),ke.freeType($t))}else if(u(je)){kt=je.shape;var ar=je.stride,or=$t=0,rr=0,zt=0;kt.length===1?($t=kt[0],or=1,rr=ar[0],zt=0):kt.length===2&&($t=kt[0],or=kt[1],rr=ar[0],zt=ar[1]),kt=Array.isArray(je.data)?dr.dtype:c(je.data),kt=ke.allocType(kt,$t*or),h(kt,je.data,$t,or,rr,zt,je.offset),gt.bufferSubData(dr.type,Ot,kt),ke.freeType(kt)}return Zt},Qt.profile&&(Zt.stats=dr.stats),Zt.destroy=function(){bt(dr)},Zt},createStream:function(Bt,Nt){var Jt=Ht.pop();return Jt||(Jt=new fr(Bt)),Jt.bind(),ot(Jt,Nt,35040,0,1,!1),Jt},destroyStream:function(Bt){Ht.push(Bt)},clear:function(){be(Dt).forEach(bt),Ht.forEach(bt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof fr?Bt._buffer:null},restore:function(){be(Dt).forEach(function(Bt){Bt.buffer=gt.createBuffer(),gt.bindBuffer(Bt.type,Bt.buffer),gt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:ot}}function p(gt,Kt,Qt,yr){function fr(Bt){this.id=Et++,bt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function yt(Bt,Nt,Jt,hr,Zt,dr,je){Bt.buffer.bind();var Ge;if(Nt?((Ge=je)||Ee(Nt)&&(!u(Nt)||Ee(Nt.data))||(Ge=Kt.oes_element_index_uint?5125:5123),Qt._initBuffer(Bt.buffer,Nt,Jt,Ge,3)):(gt.bufferData(34963,dr,Jt),Bt.buffer.dtype=Ge||5121,Bt.buffer.usage=Jt,Bt.buffer.dimension=3,Bt.buffer.byteLength=dr),Ge=je,!je){switch(Bt.buffer.dtype){case 5121:case 5120:Ge=5121;break;case 5123:case 5122:Ge=5123;break;case 5125:case 5124:Ge=5125}Bt.buffer.dtype=Ge}Bt.type=Ge,Nt=Zt,0>Nt&&(Nt=Bt.buffer.byteLength,Ge===5123?Nt>>=1:Ge===5125&&(Nt>>=2)),Bt.vertCount=Nt,Nt=hr,0>hr&&(Nt=4,hr=Bt.buffer.dimension,hr===1&&(Nt=0),hr===2&&(Nt=1),hr===3&&(Nt=4)),Bt.primType=Nt}function ot(Bt){yr.elementsCount--,delete bt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var bt={},Et=0,Dt={uint8:5121,uint16:5123};Kt.oes_element_index_uint&&(Dt.uint32=5125),fr.prototype.bind=function(){this.buffer.bind()};var Ht=[];return{create:function(Bt,Nt){function Jt(dr){if(dr)if(typeof dr=="number")hr(dr),Zt.primType=4,Zt.vertCount=dr|0,Zt.type=5121;else{var je=null,Ge=35044,Ot=-1,kt=-1,$t=0,ar=0;Array.isArray(dr)||Ee(dr)||u(dr)?je=dr:("data"in dr&&(je=dr.data),"usage"in dr&&(Ge=Fe[dr.usage]),"primitive"in dr&&(Ot=lt[dr.primitive]),"count"in dr&&(kt=dr.count|0),"type"in dr&&(ar=Dt[dr.type]),"length"in dr?$t=dr.length|0:($t=kt,ar===5123||ar===5122?$t*=2:(ar===5125||ar===5124)&&($t*=4))),yt(Zt,je,Ge,Ot,kt,$t,ar)}else hr(),Zt.primType=4,Zt.vertCount=0,Zt.type=5121;return Jt}var hr=Qt.create(null,34963,!0),Zt=new fr(hr._buffer);return yr.elementsCount++,Jt(Bt),Jt._reglType="elements",Jt._elements=Zt,Jt.subdata=function(dr,je){return hr.subdata(dr,je),Jt},Jt.destroy=function(){ot(Zt)},Jt},createStream:function(Bt){var Nt=Ht.pop();return Nt||(Nt=new fr(Qt.create(null,34963,!0,!1)._buffer)),yt(Nt,Bt,35040,-1,-1,0,0),Nt},destroyStream:function(Bt){Ht.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof fr?Bt._elements:null},clear:function(){be(bt).forEach(ot)}}}function b(gt){for(var Kt=ke.allocType(5123,gt.length),Qt=0;Qt<gt.length;++Qt)if(isNaN(gt[Qt]))Kt[Qt]=65535;else if(gt[Qt]===1/0)Kt[Qt]=31744;else if(gt[Qt]===-1/0)Kt[Qt]=64512;else{et[0]=gt[Qt];var yt=ct[0],yr=yt>>>31<<15,fr=(yt<<1>>>24)-127,yt=yt>>13&1023;Kt[Qt]=-24>fr?yr:-14>fr?yr+(yt+1024>>-14-fr):15<fr?yr+31744:yr+(fr+15<<10)+yt}return Kt}function T(gt){return Array.isArray(gt)||Ee(gt)}function P(gt){return"[object "+gt+"]"}function x(gt){return Array.isArray(gt)&&(gt.length===0||typeof gt[0]=="number")}function L(gt){return!!(Array.isArray(gt)&&gt.length!==0&&T(gt[0]))}function M(gt){return Object.prototype.toString.call(gt)}function s(gt){if(!gt)return!1;var Kt=M(gt);return 0<=_e.indexOf(Kt)?!0:x(gt)||L(gt)||u(gt)}function E(gt,Kt){gt.type===36193?(gt.data=b(Kt),ke.freeType(Kt)):gt.data=Kt}function w(gt,Kt,Qt,yr,fr,yt){if(gt=typeof Xe[gt]<"u"?Xe[gt]:xt[gt]*Ie[Kt],yt&&(gt*=6),fr){for(yr=0;1<=Qt;)yr+=gt*Qt*Qt,Qt/=2;return yr}return gt*Qt*yr}function O(gt,Kt,Qt,yr,fr,yt,ot){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Et(mr,$r){mr.internalformat=$r.internalformat,mr.format=$r.format,mr.type=$r.type,mr.compressed=$r.compressed,mr.premultiplyAlpha=$r.premultiplyAlpha,mr.flipY=$r.flipY,mr.unpackAlignment=$r.unpackAlignment,mr.colorSpace=$r.colorSpace,mr.width=$r.width,mr.height=$r.height,mr.channels=$r.channels}function Dt(mr,$r){if(typeof $r=="object"&&$r){"premultiplyAlpha"in $r&&(mr.premultiplyAlpha=$r.premultiplyAlpha),"flipY"in $r&&(mr.flipY=$r.flipY),"alignment"in $r&&(mr.unpackAlignment=$r.alignment),"colorSpace"in $r&&(mr.colorSpace=cn[$r.colorSpace]),"type"in $r&&(mr.type=Zr[$r.type]);var Qr=mr.width,vn=mr.height,zn=mr.channels,bn=!1;"shape"in $r?(Qr=$r.shape[0],vn=$r.shape[1],$r.shape.length===3&&(zn=$r.shape[2],bn=!0)):("radius"in $r&&(Qr=vn=$r.radius),"width"in $r&&(Qr=$r.width),"height"in $r&&(vn=$r.height),"channels"in $r&&(zn=$r.channels,bn=!0)),mr.width=Qr|0,mr.height=vn|0,mr.channels=zn|0,Qr=!1,"format"in $r&&(Qr=$r.format,vn=mr.internalformat=An[Qr],mr.format=Rn[vn],Qr in Zr&&!("type"in $r)&&(mr.type=Zr[Qr]),Qr in Sn&&(mr.compressed=!0),Qr=!0),!bn&&Qr?mr.channels=xt[mr.format]:bn&&!Qr&&mr.channels!==mt[mr.format]&&(mr.format=mr.internalformat=mt[mr.channels])}}function Ht(mr){gt.pixelStorei(37440,mr.flipY),gt.pixelStorei(37441,mr.premultiplyAlpha),gt.pixelStorei(37443,mr.colorSpace),gt.pixelStorei(3317,mr.unpackAlignment)}function Bt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(mr,$r){var Qr=null;if(s($r)?Qr=$r:$r&&(Dt(mr,$r),"x"in $r&&(mr.xOffset=$r.x|0),"y"in $r&&(mr.yOffset=$r.y|0),s($r.data)&&(Qr=$r.data)),$r.copy){var vn=fr.viewportWidth,zn=fr.viewportHeight;mr.width=mr.width||vn-mr.xOffset,mr.height=mr.height||zn-mr.yOffset,mr.needsCopy=!0}else if(!Qr)mr.width=mr.width||1,mr.height=mr.height||1,mr.channels=mr.channels||4;else if(Ee(Qr))mr.channels=mr.channels||4,mr.data=Qr,"type"in $r||mr.type!==5121||(mr.type=Ue[Object.prototype.toString.call(Qr)]|0);else if(x(Qr)){switch(mr.channels=mr.channels||4,vn=Qr,zn=vn.length,mr.type){case 5121:case 5123:case 5125:case 5126:zn=ke.allocType(mr.type,zn),zn.set(vn),mr.data=zn;break;case 36193:mr.data=b(vn)}mr.alignment=1,mr.needsFree=!0}else if(u(Qr)){vn=Qr.data,Array.isArray(vn)||mr.type!==5121||(mr.type=Ue[Object.prototype.toString.call(vn)]|0);var zn=Qr.shape,bn=Qr.stride,wn,Bn,$n,pa;zn.length===3?($n=zn[2],pa=bn[2]):pa=$n=1,wn=zn[0],Bn=zn[1],zn=bn[0],bn=bn[1],mr.alignment=1,mr.width=wn,mr.height=Bn,mr.channels=$n,mr.format=mr.internalformat=mt[$n],mr.needsFree=!0,wn=pa,Qr=Qr.offset,$n=mr.width,pa=mr.height,Bn=mr.channels;for(var Oa=ke.allocType(mr.type===36193?5126:mr.type,$n*pa*Bn),Sr=0,Fr=0;Fr<pa;++Fr)for(var Mr=0;Mr<$n;++Mr)for(var Nr=0;Nr<Bn;++Nr)Oa[Sr++]=vn[zn*Mr+bn*Fr+wn*Nr+Qr];E(mr,Oa)}else if(M(Qr)===Mt||M(Qr)===tt||M(Qr)===Oe)M(Qr)===Mt||M(Qr)===tt?mr.element=Qr:mr.element=Qr.canvas,mr.width=mr.element.width,mr.height=mr.element.height,mr.channels=4;else if(M(Qr)===Ye)mr.element=Qr,mr.width=Qr.width,mr.height=Qr.height,mr.channels=4;else if(M(Qr)===Ze)mr.element=Qr,mr.width=Qr.naturalWidth,mr.height=Qr.naturalHeight,mr.channels=4;else if(M(Qr)===We)mr.element=Qr,mr.width=Qr.videoWidth,mr.height=Qr.videoHeight,mr.channels=4;else if(L(Qr)){for(vn=mr.width||Qr[0].length,zn=mr.height||Qr.length,bn=mr.channels,bn=T(Qr[0][0])?bn||Qr[0][0].length:bn||1,wn=Le.shape(Qr),$n=1,pa=0;pa<wn.length;++pa)$n*=wn[pa];$n=ke.allocType(mr.type===36193?5126:mr.type,$n),Le.flatten(Qr,wn,"",$n),E(mr,$n),mr.alignment=1,mr.width=vn,mr.height=zn,mr.channels=bn,mr.format=mr.internalformat=mt[bn],mr.needsFree=!0}}function Jt(mr,$r,Qr,vn,zn){var bn=mr.element,wn=mr.data,Bn=mr.internalformat,$n=mr.format,pa=mr.type,Oa=mr.width,Sr=mr.height;Ht(mr),bn?gt.texSubImage2D($r,zn,Qr,vn,$n,pa,bn):mr.compressed?gt.compressedTexSubImage2D($r,zn,Qr,vn,Bn,Oa,Sr,wn):mr.needsCopy?(yr(),gt.copyTexSubImage2D($r,zn,Qr,vn,mr.xOffset,mr.yOffset,Oa,Sr)):gt.texSubImage2D($r,zn,Qr,vn,Oa,Sr,$n,pa,wn)}function hr(){return Gn.pop()||new Bt}function Zt(mr){mr.needsFree&&ke.freeType(mr.data),Bt.call(mr),Gn.push(mr)}function dr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function je(mr,$r,Qr){var vn=mr.images[0]=hr();mr.mipmask=1,vn.width=mr.width=$r,vn.height=mr.height=Qr,vn.channels=mr.channels=4}function Ge(mr,$r){var Qr=null;if(s($r))Qr=mr.images[0]=hr(),Et(Qr,mr),Nt(Qr,$r),mr.mipmask=1;else if(Dt(mr,$r),Array.isArray($r.mipmap))for(var vn=$r.mipmap,zn=0;zn<vn.length;++zn)Qr=mr.images[zn]=hr(),Et(Qr,mr),Qr.width>>=zn,Qr.height>>=zn,Nt(Qr,vn[zn]),mr.mipmask|=1<<zn;else Qr=mr.images[0]=hr(),Et(Qr,mr),Nt(Qr,$r),mr.mipmask=1;Et(mr,mr.images[0])}function Ot(mr,$r){for(var Qr=mr.images,vn=0;vn<Qr.length&&Qr[vn];++vn){var zn=Qr[vn],bn=$r,wn=vn,Bn=zn.element,$n=zn.data,pa=zn.internalformat,Oa=zn.format,Sr=zn.type,Fr=zn.width,Mr=zn.height;Ht(zn),Bn?gt.texImage2D(bn,wn,Oa,Oa,Sr,Bn):zn.compressed?gt.compressedTexImage2D(bn,wn,pa,Fr,Mr,0,$n):zn.needsCopy?(yr(),gt.copyTexImage2D(bn,wn,Oa,zn.xOffset,zn.yOffset,Fr,Mr,0)):gt.texImage2D(bn,wn,Oa,Fr,Mr,0,Oa,Sr,$n||null)}}function kt(){var mr=oa.pop()||new dr;bt.call(mr);for(var $r=mr.mipmask=0;16>$r;++$r)mr.images[$r]=null;return mr}function $t(mr){for(var $r=mr.images,Qr=0;Qr<$r.length;++Qr)$r[Qr]&&Zt($r[Qr]),$r[Qr]=null;oa.push(mr)}function ar(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function or(mr,$r){"min"in $r&&(mr.minFilter=Ir[$r.min],0<=ht.indexOf(mr.minFilter)&&!("faces"in $r)&&(mr.genMipmaps=!0)),"mag"in $r&&(mr.magFilter=Rr[$r.mag]);var Qr=mr.wrapS,vn=mr.wrapT;if("wrap"in $r){var zn=$r.wrap;typeof zn=="string"?Qr=vn=Hr[zn]:Array.isArray(zn)&&(Qr=Hr[zn[0]],vn=Hr[zn[1]])}else"wrapS"in $r&&(Qr=Hr[$r.wrapS]),"wrapT"in $r&&(vn=Hr[$r.wrapT]);if(mr.wrapS=Qr,mr.wrapT=vn,"anisotropic"in $r&&(mr.anisotropic=$r.anisotropic),"mipmap"in $r){switch(Qr=!1,typeof $r.mipmap){case"string":mr.mipmapHint=cr[$r.mipmap],Qr=mr.genMipmaps=!0;break;case"boolean":Qr=mr.genMipmaps=$r.mipmap;break;case"object":mr.genMipmaps=!1,Qr=!0}!Qr||"min"in $r||(mr.minFilter=9984)}}function rr(mr,$r){gt.texParameteri($r,10241,mr.minFilter),gt.texParameteri($r,10240,mr.magFilter),gt.texParameteri($r,10242,mr.wrapS),gt.texParameteri($r,10243,mr.wrapT),Kt.ext_texture_filter_anisotropic&&gt.texParameteri($r,34046,mr.anisotropic),mr.genMipmaps&&(gt.hint(33170,mr.mipmapHint),gt.generateMipmap($r))}function zt(mr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=xa++,this.refCount=1,this.target=mr,this.texture=gt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ar,ot.profile&&(this.stats={size:0})}function vr(mr){gt.activeTexture(33984),gt.bindTexture(mr.target,mr.texture)}function gr(){var mr=Hn[0];mr?gt.bindTexture(mr.target,mr.texture):gt.bindTexture(3553,null)}function Ar(mr){var $r=mr.texture,Qr=mr.unit,vn=mr.target;0<=Qr&&(gt.activeTexture(33984+Qr),gt.bindTexture(vn,null),Hn[Qr]=null),gt.deleteTexture($r),mr.texture=null,mr.params=null,mr.pixels=null,mr.refCount=0,delete Ta[mr.id],yt.textureCount--}var cr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Hr={repeat:10497,clamp:33071,mirror:33648},Rr={nearest:9728,linear:9729},Ir=ae({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Rr),cn={none:0,browser:37444},Zr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},An={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Sn={};Kt.ext_srgb&&(An.srgb=35904,An.srgba=35906),Kt.oes_texture_float&&(Zr.float32=Zr.float=5126),Kt.oes_texture_half_float&&(Zr.float16=Zr["half float"]=36193),Kt.webgl_depth_texture&&(ae(An,{depth:6402,"depth stencil":34041}),ae(Zr,{uint16:5123,uint32:5125,"depth stencil":34042})),Kt.webgl_compressed_texture_s3tc&&ae(Sn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Kt.webgl_compressed_texture_atc&&ae(Sn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Kt.webgl_compressed_texture_pvrtc&&ae(Sn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Kt.webgl_compressed_texture_etc1&&(Sn["rgb etc1"]=36196);var br=Array.prototype.slice.call(gt.getParameter(34467));Object.keys(Sn).forEach(function(mr){var $r=Sn[mr];0<=br.indexOf($r)&&(An[mr]=$r)});var Or=Object.keys(An);Qt.textureFormats=Or;var jr=[];Object.keys(An).forEach(function(mr){jr[An[mr]]=mr});var zr=[];Object.keys(Zr).forEach(function(mr){zr[Zr[mr]]=mr});var pn=[];Object.keys(Rr).forEach(function(mr){pn[Rr[mr]]=mr});var hn=[];Object.keys(Ir).forEach(function(mr){hn[Ir[mr]]=mr});var Ln=[];Object.keys(Hr).forEach(function(mr){Ln[Hr[mr]]=mr});var Rn=Or.reduce(function(mr,$r){var Qr=An[$r];return Qr===6409||Qr===6406||Qr===6409||Qr===6410||Qr===6402||Qr===34041||Kt.ext_srgb&&(Qr===35904||Qr===35906)?mr[Qr]=Qr:Qr===32855||0<=$r.indexOf("rgba")?mr[Qr]=6408:mr[Qr]=6407,mr},{}),Gn=[],oa=[],xa=0,Ta={},da=Qt.maxTextureUnits,Hn=Array(da).map(function(){return null});return ae(zt.prototype,{bind:function(){this.bindCount+=1;var mr=this.unit;if(0>mr){for(var $r=0;$r<da;++$r){var Qr=Hn[$r];if(Qr){if(0<Qr.bindCount)continue;Qr.unit=-1}Hn[$r]=this,mr=$r;break}ot.profile&&yt.maxTextureUnits<mr+1&&(yt.maxTextureUnits=mr+1),this.unit=mr,gt.activeTexture(33984+mr),gt.bindTexture(this.target,this.texture)}return mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Ar(this)}}),ot.profile&&(yt.getTotalTextureSize=function(){var mr=0;return Object.keys(Ta).forEach(function($r){mr+=Ta[$r].stats.size}),mr}),{create2D:function(mr,$r){function Qr(zn,bn){var wn=vn.texInfo;ar.call(wn);var Bn=kt();return typeof zn=="number"?typeof bn=="number"?je(Bn,zn|0,bn|0):je(Bn,zn|0,zn|0):zn?(or(wn,zn),Ge(Bn,zn)):je(Bn,1,1),wn.genMipmaps&&(Bn.mipmask=(Bn.width<<1)-1),vn.mipmask=Bn.mipmask,Et(vn,Bn),vn.internalformat=Bn.internalformat,Qr.width=Bn.width,Qr.height=Bn.height,vr(vn),Ot(Bn,3553),rr(wn,3553),gr(),$t(Bn),ot.profile&&(vn.stats.size=w(vn.internalformat,vn.type,Bn.width,Bn.height,wn.genMipmaps,!1)),Qr.format=jr[vn.internalformat],Qr.type=zr[vn.type],Qr.mag=pn[wn.magFilter],Qr.min=hn[wn.minFilter],Qr.wrapS=Ln[wn.wrapS],Qr.wrapT=Ln[wn.wrapT],Qr}var vn=new zt(3553);return Ta[vn.id]=vn,yt.textureCount++,Qr(mr,$r),Qr.subimage=function(zn,bn,wn,Bn){bn|=0,wn|=0,Bn|=0;var $n=hr();return Et($n,vn),$n.width=0,$n.height=0,Nt($n,zn),$n.width=$n.width||(vn.width>>Bn)-bn,$n.height=$n.height||(vn.height>>Bn)-wn,vr(vn),Jt($n,3553,bn,wn,Bn),gr(),Zt($n),Qr},Qr.resize=function(zn,bn){var wn=zn|0,Bn=bn|0||wn;if(wn===vn.width&&Bn===vn.height)return Qr;Qr.width=vn.width=wn,Qr.height=vn.height=Bn,vr(vn);for(var $n=0;vn.mipmask>>$n;++$n){var pa=wn>>$n,Oa=Bn>>$n;if(!pa||!Oa)break;gt.texImage2D(3553,$n,vn.format,pa,Oa,0,vn.format,vn.type,null)}return gr(),ot.profile&&(vn.stats.size=w(vn.internalformat,vn.type,wn,Bn,!1,!1)),Qr},Qr._reglType="texture2d",Qr._texture=vn,ot.profile&&(Qr.stats=vn.stats),Qr.destroy=function(){vn.decRef()},Qr},createCube:function(mr,$r,Qr,vn,zn,bn){function wn(pa,Oa,Sr,Fr,Mr,Nr){var mn,Dn=Bn.texInfo;for(ar.call(Dn),mn=0;6>mn;++mn)$n[mn]=kt();if(typeof pa=="number"||!pa)for(pa=pa|0||1,mn=0;6>mn;++mn)je($n[mn],pa,pa);else if(typeof pa=="object")if(Oa)Ge($n[0],pa),Ge($n[1],Oa),Ge($n[2],Sr),Ge($n[3],Fr),Ge($n[4],Mr),Ge($n[5],Nr);else if(or(Dn,pa),Dt(Bn,pa),"faces"in pa)for(pa=pa.faces,mn=0;6>mn;++mn)Et($n[mn],Bn),Ge($n[mn],pa[mn]);else for(mn=0;6>mn;++mn)Ge($n[mn],pa);for(Et(Bn,$n[0]),Bn.mipmask=Dn.genMipmaps?($n[0].width<<1)-1:$n[0].mipmask,Bn.internalformat=$n[0].internalformat,wn.width=$n[0].width,wn.height=$n[0].height,vr(Bn),mn=0;6>mn;++mn)Ot($n[mn],34069+mn);for(rr(Dn,34067),gr(),ot.profile&&(Bn.stats.size=w(Bn.internalformat,Bn.type,wn.width,wn.height,Dn.genMipmaps,!0)),wn.format=jr[Bn.internalformat],wn.type=zr[Bn.type],wn.mag=pn[Dn.magFilter],wn.min=hn[Dn.minFilter],wn.wrapS=Ln[Dn.wrapS],wn.wrapT=Ln[Dn.wrapT],mn=0;6>mn;++mn)$t($n[mn]);return wn}var Bn=new zt(34067);Ta[Bn.id]=Bn,yt.cubeCount++;var $n=Array(6);return wn(mr,$r,Qr,vn,zn,bn),wn.subimage=function(pa,Oa,Sr,Fr,Mr){Sr|=0,Fr|=0,Mr|=0;var Nr=hr();return Et(Nr,Bn),Nr.width=0,Nr.height=0,Nt(Nr,Oa),Nr.width=Nr.width||(Bn.width>>Mr)-Sr,Nr.height=Nr.height||(Bn.height>>Mr)-Fr,vr(Bn),Jt(Nr,34069+pa,Sr,Fr,Mr),gr(),Zt(Nr),wn},wn.resize=function(pa){if(pa|=0,pa!==Bn.width){wn.width=Bn.width=pa,wn.height=Bn.height=pa,vr(Bn);for(var Oa=0;6>Oa;++Oa)for(var Sr=0;Bn.mipmask>>Sr;++Sr)gt.texImage2D(34069+Oa,Sr,Bn.format,pa>>Sr,pa>>Sr,0,Bn.format,Bn.type,null);return gr(),ot.profile&&(Bn.stats.size=w(Bn.internalformat,Bn.type,wn.width,wn.height,!1,!0)),wn}},wn._reglType="textureCube",wn._texture=Bn,ot.profile&&(wn.stats=Bn.stats),wn.destroy=function(){Bn.decRef()},wn},clear:function(){for(var mr=0;mr<da;++mr)gt.activeTexture(33984+mr),gt.bindTexture(3553,null),Hn[mr]=null;be(Ta).forEach(Ar),yt.cubeCount=0,yt.textureCount=0},getTexture:function(mr){return null},restore:function(){for(var mr=0;mr<da;++mr){var $r=Hn[mr];$r&&($r.bindCount=0,$r.unit=-1,Hn[mr]=null)}be(Ta).forEach(function(Qr){Qr.texture=gt.createTexture(),gt.bindTexture(Qr.target,Qr.texture);for(var vn=0;32>vn;++vn)if(Qr.mipmask&1<<vn)if(Qr.target===3553)gt.texImage2D(3553,vn,Qr.internalformat,Qr.width>>vn,Qr.height>>vn,0,Qr.internalformat,Qr.type,null);else for(var zn=0;6>zn;++zn)gt.texImage2D(34069+zn,vn,Qr.internalformat,Qr.width>>vn,Qr.height>>vn,0,Qr.internalformat,Qr.type,null);rr(Qr.texInfo,Qr.target)})},refresh:function(){for(var mr=0;mr<da;++mr){var $r=Hn[mr];$r&&($r.bindCount=0,$r.unit=-1,Hn[mr]=null),gt.activeTexture(33984+mr),gt.bindTexture(3553,null),gt.bindTexture(34067,null)}}}}function _(gt,Kt,Qt,yr,fr,yt){function ot(zt,vr,gr){this.target=zt,this.texture=vr,this.renderbuffer=gr;var Ar=zt=0;vr?(zt=vr.width,Ar=vr.height):gr&&(zt=gr.width,Ar=gr.height),this.width=zt,this.height=Ar}function bt(zt){zt&&(zt.texture&&zt.texture._texture.decRef(),zt.renderbuffer&&zt.renderbuffer._renderbuffer.decRef())}function Et(zt,vr,gr){zt&&(zt.texture?zt.texture._texture.refCount+=1:zt.renderbuffer._renderbuffer.refCount+=1)}function Dt(zt,vr){vr&&(vr.texture?gt.framebufferTexture2D(36160,zt,vr.target,vr.texture._texture.texture,0):gt.framebufferRenderbuffer(36160,zt,36161,vr.renderbuffer._renderbuffer.renderbuffer))}function Ht(zt){var vr=3553,gr=null,Ar=null,cr=zt;return typeof zt=="object"&&(cr=zt.data,"target"in zt&&(vr=zt.target|0)),zt=cr._reglType,zt==="texture2d"||zt==="textureCube"?gr=cr:zt==="renderbuffer"&&(Ar=cr,vr=36161),new ot(vr,gr,Ar)}function Bt(zt,vr,gr,Ar,cr){return gr?(zt=yr.create2D({width:zt,height:vr,format:Ar,type:cr}),zt._texture.refCount=0,new ot(3553,zt,null)):(zt=fr.create({width:zt,height:vr,format:Ar}),zt._renderbuffer.refCount=0,new ot(36161,null,zt))}function Nt(zt){return zt&&(zt.texture||zt.renderbuffer)}function Jt(zt,vr,gr){zt&&(zt.texture?zt.texture.resize(vr,gr):zt.renderbuffer&&zt.renderbuffer.resize(vr,gr),zt.width=vr,zt.height=gr)}function hr(){this.id=or++,rr[this.id]=this,this.framebuffer=gt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Zt(zt){zt.colorAttachments.forEach(bt),bt(zt.depthAttachment),bt(zt.stencilAttachment),bt(zt.depthStencilAttachment)}function dr(zt){gt.deleteFramebuffer(zt.framebuffer),zt.framebuffer=null,yt.framebufferCount--,delete rr[zt.id]}function je(zt){var vr;gt.bindFramebuffer(36160,zt.framebuffer);var gr=zt.colorAttachments;for(vr=0;vr<gr.length;++vr)Dt(36064+vr,gr[vr]);for(vr=gr.length;vr<Qt.maxColorAttachments;++vr)gt.framebufferTexture2D(36160,36064+vr,3553,null,0);gt.framebufferTexture2D(36160,33306,3553,null,0),gt.framebufferTexture2D(36160,36096,3553,null,0),gt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,zt.depthAttachment),Dt(36128,zt.stencilAttachment),Dt(33306,zt.depthStencilAttachment),gt.checkFramebufferStatus(36160),gt.isContextLost(),gt.bindFramebuffer(36160,Ot.next?Ot.next.framebuffer:null),Ot.cur=Ot.next,gt.getError()}function Ge(zt,vr){function gr(cr,Hr){var Rr,Ir=0,cn=0,Zr=!0,An=!0;Rr=null;var Sn=!0,br="rgba",Or="uint8",jr=1,zr=null,pn=null,hn=null,Ln=!1;typeof cr=="number"?(Ir=cr|0,cn=Hr|0||Ir):cr?("shape"in cr?(cn=cr.shape,Ir=cn[0],cn=cn[1]):("radius"in cr&&(Ir=cn=cr.radius),"width"in cr&&(Ir=cr.width),"height"in cr&&(cn=cr.height)),("color"in cr||"colors"in cr)&&(Rr=cr.color||cr.colors),Rr||("colorCount"in cr&&(jr=cr.colorCount|0),"colorTexture"in cr&&(Sn=!!cr.colorTexture,br="rgba4"),"colorType"in cr&&(Or=cr.colorType,!Sn)&&(Or==="half float"||Or==="float16"?br="rgba16f":(Or==="float"||Or==="float32")&&(br="rgba32f")),"colorFormat"in cr&&(br=cr.colorFormat,0<=kt.indexOf(br)?Sn=!0:0<=$t.indexOf(br)&&(Sn=!1))),("depthTexture"in cr||"depthStencilTexture"in cr)&&(Ln=!(!cr.depthTexture&&!cr.depthStencilTexture)),"depth"in cr&&(typeof cr.depth=="boolean"?Zr=cr.depth:(zr=cr.depth,An=!1)),"stencil"in cr&&(typeof cr.stencil=="boolean"?An=cr.stencil:(pn=cr.stencil,Zr=!1)),"depthStencil"in cr&&(typeof cr.depthStencil=="boolean"?Zr=An=cr.depthStencil:(hn=cr.depthStencil,An=Zr=!1))):Ir=cn=1;var Rn=null,Gn=null,oa=null,xa=null;if(Array.isArray(Rr))Rn=Rr.map(Ht);else if(Rr)Rn=[Ht(Rr)];else for(Rn=Array(jr),Rr=0;Rr<jr;++Rr)Rn[Rr]=Bt(Ir,cn,Sn,br,Or);for(Ir=Ir||Rn[0].width,cn=cn||Rn[0].height,zr?Gn=Ht(zr):Zr&&!An&&(Gn=Bt(Ir,cn,Ln,"depth","uint32")),pn?oa=Ht(pn):An&&!Zr&&(oa=Bt(Ir,cn,!1,"stencil","uint8")),hn?xa=Ht(hn):!zr&&!pn&&An&&Zr&&(xa=Bt(Ir,cn,Ln,"depth stencil","depth stencil")),Zr=null,Rr=0;Rr<Rn.length;++Rr)Et(Rn[Rr]),Rn[Rr]&&Rn[Rr].texture&&(An=Te[Rn[Rr].texture._texture.format]*Be[Rn[Rr].texture._texture.type],Zr===null&&(Zr=An));return Et(Gn),Et(oa),Et(xa),Zt(Ar),Ar.width=Ir,Ar.height=cn,Ar.colorAttachments=Rn,Ar.depthAttachment=Gn,Ar.stencilAttachment=oa,Ar.depthStencilAttachment=xa,gr.color=Rn.map(Nt),gr.depth=Nt(Gn),gr.stencil=Nt(oa),gr.depthStencil=Nt(xa),gr.width=Ar.width,gr.height=Ar.height,je(Ar),gr}var Ar=new hr;return yt.framebufferCount++,gr(zt,vr),ae(gr,{resize:function(cr,Hr){var Rr=Math.max(cr|0,1),Ir=Math.max(Hr|0||Rr,1);if(Rr===Ar.width&&Ir===Ar.height)return gr;for(var cn=Ar.colorAttachments,Zr=0;Zr<cn.length;++Zr)Jt(cn[Zr],Rr,Ir);return Jt(Ar.depthAttachment,Rr,Ir),Jt(Ar.stencilAttachment,Rr,Ir),Jt(Ar.depthStencilAttachment,Rr,Ir),Ar.width=gr.width=Rr,Ar.height=gr.height=Ir,je(Ar),gr},_reglType:"framebuffer",_framebuffer:Ar,destroy:function(){dr(Ar),Zt(Ar)},use:function(cr){Ot.setFBO({framebuffer:gr},cr)}})}var Ot={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],$t=["rgba4","rgb565","rgb5 a1"];Kt.ext_srgb&&$t.push("srgba"),Kt.ext_color_buffer_half_float&&$t.push("rgba16f","rgb16f"),Kt.webgl_color_buffer_float&&$t.push("rgba32f");var ar=["uint8"];Kt.oes_texture_half_float&&ar.push("half float","float16"),Kt.oes_texture_float&&ar.push("float","float32");var or=0,rr={};return ae(Ot,{getFramebuffer:function(zt){return typeof zt=="function"&&zt._reglType==="framebuffer"&&(zt=zt._framebuffer,zt instanceof hr)?zt:null},create:Ge,createCube:function(zt){function vr(Ar){var cr,Hr={color:null},Rr=0,Ir=null;cr="rgba";var cn="uint8",Zr=1;if(typeof Ar=="number"?Rr=Ar|0:Ar?("shape"in Ar?Rr=Ar.shape[0]:("radius"in Ar&&(Rr=Ar.radius|0),"width"in Ar?Rr=Ar.width|0:"height"in Ar&&(Rr=Ar.height|0)),("color"in Ar||"colors"in Ar)&&(Ir=Ar.color||Ar.colors),Ir||("colorCount"in Ar&&(Zr=Ar.colorCount|0),"colorType"in Ar&&(cn=Ar.colorType),"colorFormat"in Ar&&(cr=Ar.colorFormat)),"depth"in Ar&&(Hr.depth=Ar.depth),"stencil"in Ar&&(Hr.stencil=Ar.stencil),"depthStencil"in Ar&&(Hr.depthStencil=Ar.depthStencil)):Rr=1,Ir)if(Array.isArray(Ir))for(Ar=[],cr=0;cr<Ir.length;++cr)Ar[cr]=Ir[cr];else Ar=[Ir];else for(Ar=Array(Zr),Ir={radius:Rr,format:cr,type:cn},cr=0;cr<Zr;++cr)Ar[cr]=yr.createCube(Ir);for(Hr.color=Array(Ar.length),cr=0;cr<Ar.length;++cr)Zr=Ar[cr],Rr=Rr||Zr.width,Hr.color[cr]={target:34069,data:Ar[cr]};for(cr=0;6>cr;++cr){for(Zr=0;Zr<Ar.length;++Zr)Hr.color[Zr].target=34069+cr;0<cr&&(Hr.depth=gr[0].depth,Hr.stencil=gr[0].stencil,Hr.depthStencil=gr[0].depthStencil),gr[cr]?gr[cr](Hr):gr[cr]=Ge(Hr)}return ae(vr,{width:Rr,height:Rr,color:Ar})}var gr=Array(6);return vr(zt),ae(vr,{faces:gr,resize:function(Ar){var cr=Ar|0;if(cr===vr.width)return vr;var Hr=vr.color;for(Ar=0;Ar<Hr.length;++Ar)Hr[Ar].resize(cr);for(Ar=0;6>Ar;++Ar)gr[Ar].resize(cr);return vr.width=vr.height=cr,vr},_reglType:"framebufferCube",destroy:function(){gr.forEach(function(Ar){Ar.destroy()})}})},clear:function(){be(rr).forEach(dr)},restore:function(){Ot.cur=null,Ot.next=null,Ot.dirty=!0,be(rr).forEach(function(zt){zt.framebuffer=gt.createFramebuffer(),je(zt)})}})}function U(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(gt,Kt,Qt,yr,fr,yt,ot){function bt(je){if(je!==dr.currentVAO){var Ge=Kt.oes_vertex_array_object;je?Ge.bindVertexArrayOES(je.vao):Ge.bindVertexArrayOES(null),dr.currentVAO=je}}function Et(je){if(je!==dr.currentVAO){if(je)je.bindAttrs();else{for(var Ge=Kt.angle_instanced_arrays,Ot=0;Ot<Jt.length;++Ot){var kt=Jt[Ot];kt.buffer?(gt.enableVertexAttribArray(Ot),kt.buffer.bind(),gt.vertexAttribPointer(Ot,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),Ge&&kt.divisor&&Ge.vertexAttribDivisorANGLE(Ot,kt.divisor)):(gt.disableVertexAttribArray(Ot),gt.vertexAttrib4f(Ot,kt.x,kt.y,kt.z,kt.w))}ot.elements?gt.bindBuffer(34963,ot.elements.buffer.buffer):gt.bindBuffer(34963,null)}dr.currentVAO=je}}function Dt(){be(Zt).forEach(function(je){je.destroy()})}function Ht(){this.id=++hr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var je=Kt.oes_vertex_array_object;this.vao=je?je.createVertexArrayOES():null,Zt[this.id]=this,this.buffers=[]}function Bt(){Kt.oes_vertex_array_object&&be(Zt).forEach(function(je){je.refresh()})}var Nt=Qt.maxAttributes,Jt=Array(Nt);for(Qt=0;Qt<Nt;++Qt)Jt[Qt]=new U;var hr=0,Zt={},dr={Record:U,scope:{},state:Jt,currentVAO:null,targetVAO:null,restore:Kt.oes_vertex_array_object?Bt:function(){},createVAO:function(je){function Ge(kt){var $t;Array.isArray(kt)?($t=kt,Ot.elements&&Ot.ownsElements&&Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1,Ot.offset=0,Ot.count=0,Ot.instances=-1,Ot.primitive=4):(kt.elements?($t=kt.elements,Ot.ownsElements?(typeof $t=="function"&&$t._reglType==="elements"?Ot.elements.destroy():Ot.elements($t),Ot.ownsElements=!1):yt.getElements(kt.elements)?(Ot.elements=kt.elements,Ot.ownsElements=!1):(Ot.elements=yt.create(kt.elements),Ot.ownsElements=!0)):(Ot.elements=null,Ot.ownsElements=!1),$t=kt.attributes,Ot.offset=0,Ot.count=-1,Ot.instances=-1,Ot.primitive=4,Ot.elements&&(Ot.count=Ot.elements._elements.vertCount,Ot.primitive=Ot.elements._elements.primType),"offset"in kt&&(Ot.offset=kt.offset|0),"count"in kt&&(Ot.count=kt.count|0),"instances"in kt&&(Ot.instances=kt.instances|0),"primitive"in kt&&(Ot.primitive=lt[kt.primitive])),kt={};var ar=Ot.attributes;ar.length=$t.length;for(var or=0;or<$t.length;++or){var rr=$t[or],zt=ar[or]=new U,vr=rr.data||rr;if(Array.isArray(vr)||Ee(vr)||u(vr)){var gr;Ot.buffers[or]&&(gr=Ot.buffers[or],Ee(vr)&&gr._buffer.byteLength>=vr.byteLength?gr.subdata(vr):(gr.destroy(),Ot.buffers[or]=null)),Ot.buffers[or]||(gr=Ot.buffers[or]=fr.create(rr,34962,!1,!0)),zt.buffer=fr.getBuffer(gr),zt.size=zt.buffer.dimension|0,zt.normalized=!1,zt.type=zt.buffer.dtype,zt.offset=0,zt.stride=0,zt.divisor=0,zt.state=1,kt[or]=1}else fr.getBuffer(rr)?(zt.buffer=fr.getBuffer(rr),zt.size=zt.buffer.dimension|0,zt.normalized=!1,zt.type=zt.buffer.dtype,zt.offset=0,zt.stride=0,zt.divisor=0,zt.state=1):fr.getBuffer(rr.buffer)?(zt.buffer=fr.getBuffer(rr.buffer),zt.size=(+rr.size||zt.buffer.dimension)|0,zt.normalized=!!rr.normalized||!1,zt.type="type"in rr?Ve[rr.type]:zt.buffer.dtype,zt.offset=(rr.offset||0)|0,zt.stride=(rr.stride||0)|0,zt.divisor=(rr.divisor||0)|0,zt.state=1):"x"in rr&&(zt.x=+rr.x||0,zt.y=+rr.y||0,zt.z=+rr.z||0,zt.w=+rr.w||0,zt.state=2)}for(gr=0;gr<Ot.buffers.length;++gr)!kt[gr]&&Ot.buffers[gr]&&(Ot.buffers[gr].destroy(),Ot.buffers[gr]=null);return Ot.refresh(),Ge}var Ot=new Ht;return yr.vaoCount+=1,Ge.destroy=function(){for(var kt=0;kt<Ot.buffers.length;++kt)Ot.buffers[kt]&&Ot.buffers[kt].destroy();Ot.buffers.length=0,Ot.ownsElements&&(Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1),Ot.destroy()},Ge._vao=Ot,Ge._reglType="vao",Ge(je)},getVAO:function(je){return typeof je=="function"&&je._vao?je._vao:null},destroyBuffer:function(je){for(var Ge=0;Ge<Jt.length;++Ge){var Ot=Jt[Ge];Ot.buffer===je&&(gt.disableVertexAttribArray(Ge),Ot.buffer=null)}},setVAO:Kt.oes_vertex_array_object?bt:Et,clear:Kt.oes_vertex_array_object?Dt:function(){}};return Ht.prototype.bindAttrs=function(){for(var je=Kt.angle_instanced_arrays,Ge=this.attributes,Ot=0;Ot<Ge.length;++Ot){var kt=Ge[Ot];kt.buffer?(gt.enableVertexAttribArray(Ot),gt.bindBuffer(34962,kt.buffer.buffer),gt.vertexAttribPointer(Ot,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),je&&kt.divisor&&je.vertexAttribDivisorANGLE(Ot,kt.divisor)):(gt.disableVertexAttribArray(Ot),gt.vertexAttrib4f(Ot,kt.x,kt.y,kt.z,kt.w))}for(je=Ge.length;je<Nt;++je)gt.disableVertexAttribArray(je);(je=yt.getElements(this.elements))?gt.bindBuffer(34963,je.buffer.buffer):gt.bindBuffer(34963,null)},Ht.prototype.refresh=function(){var je=Kt.oes_vertex_array_object;je&&(je.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,je.bindVertexArrayOES(null))},Ht.prototype.destroy=function(){if(this.vao){var je=Kt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,je.bindVertexArrayOES(null)),je.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Zt[this.id]&&(delete Zt[this.id],--yr.vaoCount)},dr}function F(gt,Kt,Qt,yr){function fr(hr,Zt,dr,je){this.name=hr,this.id=Zt,this.location=dr,this.info=je}function yt(hr,Zt){for(var dr=0;dr<hr.length;++dr)if(hr[dr].id===Zt.id){hr[dr].location=Zt.location;return}hr.push(Zt)}function ot(hr,Zt,dr){dr=hr===35632?Dt:Ht;var je=dr[Zt];if(!je){var Ge=Kt.str(Zt),je=gt.createShader(hr);gt.shaderSource(je,Ge),gt.compileShader(je),dr[Zt]=je}return je}function bt(hr,Zt){this.id=Jt++,this.fragId=hr,this.vertId=Zt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,yr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Et(hr,Zt,dr){var je;je=ot(35632,hr.fragId);var Ge=ot(35633,hr.vertId);if(Zt=hr.program=gt.createProgram(),gt.attachShader(Zt,je),gt.attachShader(Zt,Ge),dr)for(je=0;je<dr.length;++je)Ge=dr[je],gt.bindAttribLocation(Zt,Ge[0],Ge[1]);gt.linkProgram(Zt),Ge=gt.getProgramParameter(Zt,35718),yr.profile&&(hr.stats.uniformsCount=Ge);var Ot=hr.uniforms;for(je=0;je<Ge;++je)if(dr=gt.getActiveUniform(Zt,je))if(1<dr.size)for(var kt=0;kt<dr.size;++kt){var $t=dr.name.replace("[0]","["+kt+"]");yt(Ot,new fr($t,Kt.id($t),gt.getUniformLocation(Zt,$t),dr))}else yt(Ot,new fr(dr.name,Kt.id(dr.name),gt.getUniformLocation(Zt,dr.name),dr));for(Ge=gt.getProgramParameter(Zt,35721),yr.profile&&(hr.stats.attributesCount=Ge),hr=hr.attributes,je=0;je<Ge;++je)(dr=gt.getActiveAttrib(Zt,je))&&yt(hr,new fr(dr.name,Kt.id(dr.name),gt.getAttribLocation(Zt,dr.name),dr))}var Dt={},Ht={},Bt={},Nt=[],Jt=0;return yr.profile&&(Qt.getMaxUniformsCount=function(){var hr=0;return Nt.forEach(function(Zt){Zt.stats.uniformsCount>hr&&(hr=Zt.stats.uniformsCount)}),hr},Qt.getMaxAttributesCount=function(){var hr=0;return Nt.forEach(function(Zt){Zt.stats.attributesCount>hr&&(hr=Zt.stats.attributesCount)}),hr}),{clear:function(){var hr=gt.deleteShader.bind(gt);be(Dt).forEach(hr),Dt={},be(Ht).forEach(hr),Ht={},Nt.forEach(function(Zt){gt.deleteProgram(Zt.program)}),Nt.length=0,Bt={},Qt.shaderCount=0},program:function(hr,Zt,dr,je){var Ge=Bt[Zt];Ge||(Ge=Bt[Zt]={});var Ot=Ge[hr];if(Ot&&(Ot.refCount++,!je))return Ot;var kt=new bt(Zt,hr);return Qt.shaderCount++,Et(kt,dr,je),Ot||(Ge[hr]=kt),Nt.push(kt),ae(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){gt.deleteProgram(kt.program);var $t=Nt.indexOf(kt);Nt.splice($t,1),Qt.shaderCount--}0>=Ge[kt.vertId].refCount&&(gt.deleteShader(Ht[kt.vertId]),delete Ht[kt.vertId],delete Bt[kt.fragId][kt.vertId]),Object.keys(Bt[kt.fragId]).length||(gt.deleteShader(Dt[kt.fragId]),delete Dt[kt.fragId],delete Bt[kt.fragId])}})},restore:function(){Dt={},Ht={};for(var hr=0;hr<Nt.length;++hr)Et(Nt[hr],null,Nt[hr].attributes.map(function(Zt){return[Zt.location,Zt.name]}))},shader:ot,frag:-1,vert:-1}}function B(gt,Kt,Qt,yr,fr,yt,ot){function bt(Dt){var Ht;Ht=Kt.next===null?5121:Kt.next.colorAttachments[0].texture._texture.type;var Bt=0,Nt=0,Jt=yr.framebufferWidth,hr=yr.framebufferHeight,Zt=null;return Ee(Dt)?Zt=Dt:Dt&&(Bt=Dt.x|0,Nt=Dt.y|0,Jt=(Dt.width||yr.framebufferWidth-Bt)|0,hr=(Dt.height||yr.framebufferHeight-Nt)|0,Zt=Dt.data||null),Qt(),Dt=Jt*hr*4,Zt||(Ht===5121?Zt=new Uint8Array(Dt):Ht===5126&&(Zt=Zt||new Float32Array(Dt))),gt.pixelStorei(3333,4),gt.readPixels(Bt,Nt,Jt,hr,6408,Ht,Zt),Zt}function Et(Dt){var Ht;return Kt.setFBO({framebuffer:Dt.framebuffer},function(){Ht=bt(Dt)}),Ht}return function(Dt){return Dt&&"framebuffer"in Dt?Et(Dt):bt(Dt)}}function N(gt){for(var Kt=Array(gt.length>>2),yr=0;yr<Kt.length;yr++)Kt[yr]=0;for(yr=0;yr<8*gt.length;yr+=8)Kt[yr>>5]|=(gt.charCodeAt(yr/8)&255)<<24-yr%32;var Qt=8*gt.length;gt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var yr=Array(64),fr,yt,ot,bt,Et,Dt,Ht,Bt,Nt,Jt,hr;for(Kt[Qt>>5]|=128<<24-Qt%32,Kt[(Qt+64>>9<<4)+15]=Qt,Bt=0;Bt<Kt.length;Bt+=16){for(Qt=gt[0],fr=gt[1],yt=gt[2],ot=gt[3],bt=gt[4],Et=gt[5],Dt=gt[6],Ht=gt[7],Nt=0;64>Nt;Nt++){if(16>Nt)yr[Nt]=Kt[Nt+Bt];else{Jt=Nt,hr=yr[Nt-2],hr=q(hr,17)^q(hr,19)^hr>>>10,hr=te(hr,yr[Nt-7]);var Zt;Zt=yr[Nt-15],Zt=q(Zt,7)^q(Zt,18)^Zt>>>3,yr[Jt]=te(te(hr,Zt),yr[Nt-16])}Jt=bt,Jt=q(Jt,6)^q(Jt,11)^q(Jt,25),Jt=te(te(te(te(Ht,Jt),bt&Et^~bt&Dt),Qe[Nt]),yr[Nt]),Ht=Qt,Ht=q(Ht,2)^q(Ht,13)^q(Ht,22),hr=te(Ht,Qt&fr^Qt&yt^fr&yt),Ht=Dt,Dt=Et,Et=bt,bt=te(ot,Jt),ot=yt,yt=fr,fr=Qt,Qt=te(Jt,hr)}gt[0]=te(Qt,gt[0]),gt[1]=te(fr,gt[1]),gt[2]=te(yt,gt[2]),gt[3]=te(ot,gt[3]),gt[4]=te(bt,gt[4]),gt[5]=te(Et,gt[5]),gt[6]=te(Dt,gt[6]),gt[7]=te(Ht,gt[7])}for(Kt="",yr=0;yr<32*gt.length;yr+=8)Kt+=String.fromCharCode(gt[yr>>5]>>>24-yr%32&255);return Kt}function V(gt){for(var Kt="",Qt,yr=0;yr<gt.length;yr++)Qt=gt.charCodeAt(yr),Kt+="0123456789abcdef".charAt(Qt>>>4&15)+"0123456789abcdef".charAt(Qt&15);return Kt}function X(gt){for(var Kt="",Qt=-1,yr,fr;++Qt<gt.length;)yr=gt.charCodeAt(Qt),fr=Qt+1<gt.length?gt.charCodeAt(Qt+1):0,55296<=yr&&56319>=yr&&56320<=fr&&57343>=fr&&(yr=65536+((yr&1023)<<10)+(fr&1023),Qt++),127>=yr?Kt+=String.fromCharCode(yr):2047>=yr?Kt+=String.fromCharCode(192|yr>>>6&31,128|yr&63):65535>=yr?Kt+=String.fromCharCode(224|yr>>>12&15,128|yr>>>6&63,128|yr&63):2097151>=yr&&(Kt+=String.fromCharCode(240|yr>>>18&7,128|yr>>>12&63,128|yr>>>6&63,128|yr&63));return Kt}function q(gt,Kt){return gt>>>Kt|gt<<32-Kt}function te(gt,Kt){var Qt=(gt&65535)+(Kt&65535);return(gt>>16)+(Kt>>16)+(Qt>>16)<<16|Qt&65535}function ne(gt){return Array.prototype.slice.call(gt)}function ce(gt){return ne(gt).join("")}function Q(gt){function Kt(){var Ht=[],Bt=[];return ae(function(){Ht.push.apply(Ht,ne(arguments))},{def:function(){var Nt="v"+fr++;return Bt.push(Nt),0<arguments.length&&(Ht.push(Nt,"="),Ht.push.apply(Ht,ne(arguments)),Ht.push(";")),Nt},toString:function(){return ce([0<Bt.length?"var "+Bt.join(",")+";":"",ce(Ht)])}})}function Qt(){function Ht(Zt,dr){Nt(Zt,dr,"=",Bt.def(Zt,dr),";")}var Bt=Kt(),Nt=Kt(),Jt=Bt.toString,hr=Nt.toString;return ae(function(){Bt.apply(Bt,ne(arguments))},{def:Bt.def,entry:Bt,exit:Nt,save:Ht,set:function(Zt,dr,je){Ht(Zt,dr),Bt(Zt,dr,"=",je,";")},toString:function(){return Jt()+hr()}})}var yr=gt&&gt.cache,fr=0,yt=[],ot=[],bt=[],Et=Kt(),Dt={};return{global:Et,link:function(Ht,Bt){var Nt=Bt&&Bt.stable;if(!Nt){for(var Jt=0;Jt<ot.length;++Jt)if(ot[Jt]===Ht&&!bt[Jt])return yt[Jt]}return Jt="g"+fr++,yt.push(Jt),ot.push(Ht),bt.push(Nt),Jt},block:Kt,proc:function(Ht,Bt){function Nt(){var dr="a"+Jt.length;return Jt.push(dr),dr}var Jt=[];Bt=Bt||0;for(var hr=0;hr<Bt;++hr)Nt();var hr=Qt(),Zt=hr.toString;return Dt[Ht]=ae(hr,{arg:Nt,toString:function(){return ce(["function(",Jt.join(),"){",Zt(),"}"])}})},scope:Qt,cond:function(){var Ht=ce(arguments),Bt=Qt(),Nt=Qt(),Jt=Bt.toString,hr=Nt.toString;return ae(Bt,{then:function(){return Bt.apply(Bt,ne(arguments)),this},else:function(){return Nt.apply(Nt,ne(arguments)),this},toString:function(){var Zt=hr();return Zt&&(Zt="else{"+Zt+"}"),ce(["if(",Ht,"){",Jt(),"}",Zt])}})},compile:function(){var Ht=['"use strict";',Et,"return {"];Object.keys(Dt).forEach(function(Jt){Ht.push('"',Jt,'":',Dt[Jt].toString(),",")}),Ht.push("}");var Bt=ce(Ht).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return yr&&(Nt=V(N(X(Bt))),yr[Nt])?yr[Nt].apply(null,ot):(Bt=Function.apply(null,yt.concat(Bt)),yr&&(yr[Nt]=Bt),Bt.apply(null,ot))}}}function Z(gt){return Array.isArray(gt)||Ee(gt)||u(gt)}function re(gt){return gt.sort(function(Kt,Qt){return Kt==="viewport"?-1:Qt==="viewport"?1:Kt<Qt?-1:1})}function Y(gt,Kt,Qt,yr){this.thisDep=gt,this.contextDep=Kt,this.propDep=Qt,this.append=yr}function oe(gt){return gt&&!(gt.thisDep||gt.contextDep||gt.propDep)}function ue(gt){return new Y(!1,!1,!1,gt)}function K(gt,Kt){var Qt=gt.type;if(Qt===0)return Qt=gt.data.length,new Y(!0,1<=Qt,2<=Qt,Kt);if(Qt===4)return Qt=gt.data,new Y(Qt.thisDep,Qt.contextDep,Qt.propDep,Kt);if(Qt===5)return new Y(!1,!1,!1,Kt);if(Qt===6){for(var yr=Qt=!1,fr=!1,yt=0;yt<gt.data.length;++yt){var ot=gt.data[yt];ot.type===1?fr=!0:ot.type===2?yr=!0:ot.type===3?Qt=!0:ot.type===0?(Qt=!0,ot=ot.data,1<=ot&&(yr=!0),2<=ot&&(fr=!0)):ot.type===4&&(Qt=Qt||ot.data.thisDep,yr=yr||ot.data.contextDep,fr=fr||ot.data.propDep)}return new Y(Qt,yr,fr,Kt)}return new Y(Qt===3,Qt===2,Qt===1,Kt)}function $(gt,Kt,Qt,yr,fr,yt,ot,bt,Et,Dt,Ht,Bt,Nt,Jt,hr,Zt){function dr(Sr){return Sr.replace(".","_")}function je(Sr,Fr,Mr){var Nr=dr(Sr);bn.push(Sr),zn[Nr]=vn[Nr]=!!Mr,wn[Nr]=Fr}function Ge(Sr,Fr,Mr){var Nr=dr(Sr);bn.push(Sr),Array.isArray(Mr)?(vn[Nr]=Mr.slice(),zn[Nr]=Mr.slice()):vn[Nr]=zn[Nr]=Mr,Bn[Nr]=Fr}function Ot(){var Sr=Q({cache:hr}),Fr=Sr.link,Mr=Sr.global;Sr.id=Oa++,Sr.batchId="0";var Nr=Fr($n),mn=Sr.shared={props:"a0"};Object.keys($n).forEach(function(Kr){mn[Kr]=Mr.def(Nr,".",Kr)});var Dn=Sr.next={},gn=Sr.current={};Object.keys(Bn).forEach(function(Kr){Array.isArray(vn[Kr])&&(Dn[Kr]=Mr.def(mn.next,".",Kr),gn[Kr]=Mr.def(mn.current,".",Kr))});var sn=Sr.constants={};Object.keys(pa).forEach(function(Kr){sn[Kr]=Mr.def(JSON.stringify(pa[Kr]))}),Sr.invoke=function(Kr,Gr){switch(Gr.type){case 0:var tn=["this",mn.context,mn.props,Sr.batchId];return Kr.def(Fr(Gr.data),".call(",tn.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Kr.def(mn.props,Gr.data);case 2:return Kr.def(mn.context,Gr.data);case 3:return Kr.def("this",Gr.data);case 4:return Gr.data.append(Sr,Kr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(Tn){return Sr.invoke(Kr,Tn)})}},Sr.attribCache={};var Cr={};return Sr.scopeAttrib=function(Kr){if(Kr=Kt.id(Kr),Kr in Cr)return Cr[Kr];var Gr=Dt.scope[Kr];return Gr||(Gr=Dt.scope[Kr]=new da),Cr[Kr]=Fr(Gr)},Sr}function kt(Sr){var Fr=Sr.static;Sr=Sr.dynamic;var Mr;if("profile"in Fr){var Nr=!!Fr.profile;Mr=ue(function(Dn,gn){return Nr}),Mr.enable=Nr}else if("profile"in Sr){var mn=Sr.profile;Mr=K(mn,function(Dn,gn){return Dn.invoke(gn,mn)})}return Mr}function $t(Sr,Fr){var Mr=Sr.static,Nr=Sr.dynamic;if("framebuffer"in Mr){var mn=Mr.framebuffer;return mn?(mn=bt.getFramebuffer(mn),ue(function(gn,sn){var Cr=gn.link(mn),Kr=gn.shared;return sn.set(Kr.framebuffer,".next",Cr),Kr=Kr.context,sn.set(Kr,".framebufferWidth",Cr+".width"),sn.set(Kr,".framebufferHeight",Cr+".height"),Cr})):ue(function(gn,sn){var Cr=gn.shared;return sn.set(Cr.framebuffer,".next","null"),Cr=Cr.context,sn.set(Cr,".framebufferWidth",Cr+".drawingBufferWidth"),sn.set(Cr,".framebufferHeight",Cr+".drawingBufferHeight"),"null"})}if("framebuffer"in Nr){var Dn=Nr.framebuffer;return K(Dn,function(gn,sn){var Gr=gn.invoke(sn,Dn),Cr=gn.shared,Kr=Cr.framebuffer,Gr=sn.def(Kr,".getFramebuffer(",Gr,")");return sn.set(Kr,".next",Gr),Cr=Cr.context,sn.set(Cr,".framebufferWidth",Gr+"?"+Gr+".width:"+Cr+".drawingBufferWidth"),sn.set(Cr,".framebufferHeight",Gr+"?"+Gr+".height:"+Cr+".drawingBufferHeight"),Gr})}return null}function ar(Sr,Fr,Mr){function Nr(sn){if(sn in mn){var Cr=mn[sn];sn=!0;var Kr=Cr.x|0,Gr=Cr.y|0,tn,Tn;return"width"in Cr?tn=Cr.width|0:sn=!1,"height"in Cr?Tn=Cr.height|0:sn=!1,new Y(!sn&&Fr&&Fr.thisDep,!sn&&Fr&&Fr.contextDep,!sn&&Fr&&Fr.propDep,function(Mn,Un){var Fn=Mn.shared.context,va=tn;"width"in Cr||(va=Un.def(Fn,".","framebufferWidth","-",Kr));var la=Tn;return"height"in Cr||(la=Un.def(Fn,".","framebufferHeight","-",Gr)),[Kr,Gr,va,la]})}if(sn in Dn){var On=Dn[sn];return sn=K(On,function(Mn,Un){var Da=Mn.invoke(Un,On),Fn=Mn.shared.context,va=Un.def(Da,".x|0"),la=Un.def(Da,".y|0"),ma=Un.def('"width" in ',Da,"?",Da,".width|0:","(",Fn,".","framebufferWidth","-",va,")"),Da=Un.def('"height" in ',Da,"?",Da,".height|0:","(",Fn,".","framebufferHeight","-",la,")");return[va,la,ma,Da]}),Fr&&(sn.thisDep=sn.thisDep||Fr.thisDep,sn.contextDep=sn.contextDep||Fr.contextDep,sn.propDep=sn.propDep||Fr.propDep),sn}return Fr?new Y(Fr.thisDep,Fr.contextDep,Fr.propDep,function(Mn,Un){var Fn=Mn.shared.context;return[0,0,Un.def(Fn,".","framebufferWidth"),Un.def(Fn,".","framebufferHeight")]}):null}var mn=Sr.static,Dn=Sr.dynamic;if(Sr=Nr("viewport")){var gn=Sr;Sr=new Y(Sr.thisDep,Sr.contextDep,Sr.propDep,function(sn,Cr){var Kr=gn.append(sn,Cr),Gr=sn.shared.context;return Cr.set(Gr,".viewportWidth",Kr[2]),Cr.set(Gr,".viewportHeight",Kr[3]),Kr})}return{viewport:Sr,scissor_box:Nr("scissor.box")}}function or(Sr,Fr){var Mr=Sr.static;if(typeof Mr.frag=="string"&&typeof Mr.vert=="string"){if(0<Object.keys(Fr.dynamic).length)return null;var Mr=Fr.static,Nr=Object.keys(Mr);if(0<Nr.length&&typeof Mr[Nr[0]]=="number"){for(var mn=[],Dn=0;Dn<Nr.length;++Dn)mn.push([Mr[Nr[Dn]]|0,Nr[Dn]]);return mn}}return null}function rr(Sr,Fr,Mr){function Nr(Kr){if(Kr in mn){var Gr=Kt.id(mn[Kr]);return Kr=ue(function(){return Gr}),Kr.id=Gr,Kr}if(Kr in Dn){var tn=Dn[Kr];return K(tn,function(Tn,On){var Mn=Tn.invoke(On,tn);return On.def(Tn.shared.strings,".id(",Mn,")")})}return null}var mn=Sr.static,Dn=Sr.dynamic,gn=Nr("frag"),sn=Nr("vert"),Cr=null;return oe(gn)&&oe(sn)?(Cr=Ht.program(sn.id,gn.id,null,Mr),Sr=ue(function(Kr,Gr){return Kr.link(Cr)})):Sr=new Y(gn&&gn.thisDep||sn&&sn.thisDep,gn&&gn.contextDep||sn&&sn.contextDep,gn&&gn.propDep||sn&&sn.propDep,function(Kr,Gr){var tn=Kr.shared.shader,Tn;Tn=gn?gn.append(Kr,Gr):Gr.def(tn,".","frag");var On;return On=sn?sn.append(Kr,Gr):Gr.def(tn,".","vert"),Gr.def(tn+".program("+On+","+Tn+")")}),{frag:gn,vert:sn,progVar:Sr,program:Cr}}function zt(Sr,Fr){function Mr(Mn,Un){if(Mn in Nr){var Fn=Nr[Mn]|0;return Un?Dn.offset=Fn:Dn.instances=Fn,ue(function(la,ma){return Un&&(la.OFFSET=Fn),Fn})}if(Mn in mn){var va=mn[Mn];return K(va,function(la,ma){var Da=la.invoke(ma,va);return Un&&(la.OFFSET=Da),Da})}if(Un){if(Cr)return ue(function(la,ma){return la.OFFSET=0});if(gn)return new Y(sn.thisDep,sn.contextDep,sn.propDep,function(la,ma){return ma.def(la.shared.vao+".currentVAO?"+la.shared.vao+".currentVAO.offset:0")})}else if(gn)return new Y(sn.thisDep,sn.contextDep,sn.propDep,function(la,ma){return ma.def(la.shared.vao+".currentVAO?"+la.shared.vao+".currentVAO.instances:-1")});return null}var Nr=Sr.static,mn=Sr.dynamic,Dn={},gn=!1,sn=function(){if("vao"in Nr){var Mn=Nr.vao;return Mn!==null&&Dt.getVAO(Mn)===null&&(Mn=Dt.createVAO(Mn)),gn=!0,Dn.vao=Mn,ue(function(Fn){var va=Dt.getVAO(Mn);return va?Fn.link(va):"null"})}if("vao"in mn){gn=!0;var Un=mn.vao;return K(Un,function(Fn,va){var la=Fn.invoke(va,Un);return va.def(Fn.shared.vao+".getVAO("+la+")")})}return null}(),Cr=!1,Kr=function(){if("elements"in Nr){var Mn=Nr.elements;if(Dn.elements=Mn,Z(Mn)){var Un=Dn.elements=yt.create(Mn,!0),Mn=yt.getElements(Un);Cr=!0}else Mn&&(Mn=yt.getElements(Mn),Cr=!0);return Un=ue(function(va,la){if(Mn){var ma=va.link(Mn);return va.ELEMENTS=ma}return va.ELEMENTS=null}),Un.value=Mn,Un}if("elements"in mn){Cr=!0;var Fn=mn.elements;return K(Fn,function(va,la){var ma=va.shared,bi=ma.isBufferArgs,ma=ma.elements,si=va.invoke(la,Fn),Da=la.def("null"),bi=la.def(bi,"(",si,")"),si=va.cond(bi).then(Da,"=",ma,".createStream(",si,");").else(Da,"=",ma,".getElements(",si,");");return la.entry(si),la.exit(va.cond(bi).then(ma,".destroyStream(",Da,");")),va.ELEMENTS=Da})}return gn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(va,la){return la.def(va.shared.vao+".currentVAO?"+va.shared.elements+".getElements("+va.shared.vao+".currentVAO.elements):null")}):null}(),Gr=Mr("offset",!0),tn=function(){if("primitive"in Nr){var Mn=Nr.primitive;return Dn.primitive=Mn,ue(function(Fn,va){return lt[Mn]})}if("primitive"in mn){var Un=mn.primitive;return K(Un,function(Fn,va){var la=Fn.constants.primTypes,ma=Fn.invoke(va,Un);return va.def(la,"[",ma,"]")})}return Cr?oe(Kr)?Kr.value?ue(function(Fn,va){return va.def(Fn.ELEMENTS,".primType")}):ue(function(){return 4}):new Y(Kr.thisDep,Kr.contextDep,Kr.propDep,function(Fn,va){var la=Fn.ELEMENTS;return va.def(la,"?",la,".primType:",4)}):gn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(Fn,va){return va.def(Fn.shared.vao+".currentVAO?"+Fn.shared.vao+".currentVAO.primitive:4")}):null}(),Tn=function(){if("count"in Nr){var Mn=Nr.count|0;return Dn.count=Mn,ue(function(){return Mn})}if("count"in mn){var Un=mn.count;return K(Un,function(Fn,va){return Fn.invoke(va,Un)})}return Cr?oe(Kr)?Kr?Gr?new Y(Gr.thisDep,Gr.contextDep,Gr.propDep,function(Fn,va){return va.def(Fn.ELEMENTS,".vertCount-",Fn.OFFSET)}):ue(function(Fn,va){return va.def(Fn.ELEMENTS,".vertCount")}):ue(function(){return-1}):new Y(Kr.thisDep||Gr.thisDep,Kr.contextDep||Gr.contextDep,Kr.propDep||Gr.propDep,function(Fn,va){var la=Fn.ELEMENTS;return Fn.OFFSET?va.def(la,"?",la,".vertCount-",Fn.OFFSET,":-1"):va.def(la,"?",la,".vertCount:-1")}):gn?new Y(sn.thisDep,sn.contextDep,sn.propDep,function(Fn,va){return va.def(Fn.shared.vao,".currentVAO?",Fn.shared.vao,".currentVAO.count:-1")}):null}(),On=Mr("instances",!1);return{elements:Kr,primitive:tn,count:Tn,instances:On,offset:Gr,vao:sn,vaoActive:gn,elementsActive:Cr,static:Dn}}function vr(Sr,Fr){var Mr=Sr.static,Nr=Sr.dynamic,mn={};return bn.forEach(function(Dn){function gn(Cr,Kr){if(Dn in Mr){var Gr=Cr(Mr[Dn]);mn[sn]=ue(function(){return Gr})}else if(Dn in Nr){var tn=Nr[Dn];mn[sn]=K(tn,function(Tn,On){return Kr(Tn,On,Tn.invoke(On,tn))})}}var sn=dr(Dn);switch(Dn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return gn(function(Cr){return Cr},function(Cr,Kr,Gr){return Gr});case"depth.func":return gn(function(Cr){return Yt[Cr]},function(Cr,Kr,Gr){return Kr.def(Cr.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return gn(function(Cr){return Cr},function(Cr,Kr,Gr){return Cr=Kr.def("+",Gr,"[0]"),Kr=Kr.def("+",Gr,"[1]"),[Cr,Kr]});case"blend.func":return gn(function(Cr){return[Wt["srcRGB"in Cr?Cr.srcRGB:Cr.src],Wt["dstRGB"in Cr?Cr.dstRGB:Cr.dst],Wt["srcAlpha"in Cr?Cr.srcAlpha:Cr.src],Wt["dstAlpha"in Cr?Cr.dstAlpha:Cr.dst]]},function(Cr,Kr,Gr){function tn(Un,Fn){return Kr.def('"',Un,Fn,'" in ',Gr,"?",Gr,".",Un,Fn,":",Gr,".",Un)}Cr=Cr.constants.blendFuncs;var Tn=tn("src","RGB"),Mn=tn("dst","RGB"),Tn=Kr.def(Cr,"[",Tn,"]"),On=Kr.def(Cr,"[",tn("src","Alpha"),"]"),Mn=Kr.def(Cr,"[",Mn,"]");return Cr=Kr.def(Cr,"[",tn("dst","Alpha"),"]"),[Tn,Mn,On,Cr]});case"blend.equation":return gn(function(Cr){if(typeof Cr=="string")return[Hn[Cr],Hn[Cr]];if(typeof Cr=="object")return[Hn[Cr.rgb],Hn[Cr.alpha]]},function(Cr,Kr,Gr){var tn=Cr.constants.blendEquations,Tn=Kr.def(),On=Kr.def();return Cr=Cr.cond("typeof ",Gr,'==="string"'),Cr.then(Tn,"=",On,"=",tn,"[",Gr,"];"),Cr.else(Tn,"=",tn,"[",Gr,".rgb];",On,"=",tn,"[",Gr,".alpha];"),Kr(Cr),[Tn,On]});case"blend.color":return gn(function(Cr){return i(4,function(Kr){return+Cr[Kr]})},function(Cr,Kr,Gr){return i(4,function(tn){return Kr.def("+",Gr,"[",tn,"]")})});case"stencil.mask":return gn(function(Cr){return Cr|0},function(Cr,Kr,Gr){return Kr.def(Gr,"|0")});case"stencil.func":return gn(function(Cr){return[Yt[Cr.cmp||"keep"],Cr.ref||0,"mask"in Cr?Cr.mask:-1]},function(Cr,Kr,Gr){Cr=Kr.def('"cmp" in ',Gr,"?",Cr.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var tn=Kr.def(Gr,".ref|0");return Kr=Kr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Cr,tn,Kr]});case"stencil.opFront":case"stencil.opBack":return gn(function(Cr){return[Dn==="stencil.opBack"?1029:1028,Tt[Cr.fail||"keep"],Tt[Cr.zfail||"keep"],Tt[Cr.zpass||"keep"]]},function(Cr,Kr,Gr){function tn(On){return Kr.def('"',On,'" in ',Gr,"?",Tn,"[",Gr,".",On,"]:",7680)}var Tn=Cr.constants.stencilOps;return[Dn==="stencil.opBack"?1029:1028,tn("fail"),tn("zfail"),tn("zpass")]});case"polygonOffset.offset":return gn(function(Cr){return[Cr.factor|0,Cr.units|0]},function(Cr,Kr,Gr){return Cr=Kr.def(Gr,".factor|0"),Kr=Kr.def(Gr,".units|0"),[Cr,Kr]});case"cull.face":return gn(function(Cr){var Kr=0;return Cr==="front"?Kr=1028:Cr==="back"&&(Kr=1029),Kr},function(Cr,Kr,Gr){return Kr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return gn(function(Cr){return Cr},function(Cr,Kr,Gr){return Gr});case"frontFace":return gn(function(Cr){return Lt[Cr]},function(Cr,Kr,Gr){return Kr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return gn(function(Cr){return Cr.map(function(Kr){return!!Kr})},function(Cr,Kr,Gr){return i(4,function(tn){return"!!"+Gr+"["+tn+"]"})});case"sample.coverage":return gn(function(Cr){return["value"in Cr?Cr.value:1,!!Cr.invert]},function(Cr,Kr,Gr){return Cr=Kr.def('"value" in ',Gr,"?+",Gr,".value:1"),Kr=Kr.def("!!",Gr,".invert"),[Cr,Kr]})}}),mn}function gr(Sr,Fr){var Mr=Sr.static,Nr=Sr.dynamic,mn={};return Object.keys(Mr).forEach(function(Dn){var gn=Mr[Dn],sn;if(typeof gn=="number"||typeof gn=="boolean")sn=ue(function(){return gn});else if(typeof gn=="function"){var Cr=gn._reglType;Cr==="texture2d"||Cr==="textureCube"?sn=ue(function(Kr){return Kr.link(gn)}):(Cr==="framebuffer"||Cr==="framebufferCube")&&(sn=ue(function(Kr){return Kr.link(gn.color[0])}))}else T(gn)&&(sn=ue(function(Kr){return Kr.global.def("[",i(gn.length,function(Gr){return gn[Gr]}),"]")}));sn.value=gn,mn[Dn]=sn}),Object.keys(Nr).forEach(function(Dn){var gn=Nr[Dn];mn[Dn]=K(gn,function(sn,Cr){return sn.invoke(Cr,gn)})}),mn}function Ar(Sr,Fr){var Mr=Sr.static,Nr=Sr.dynamic,mn={};return Object.keys(Mr).forEach(function(Dn){var gn=Mr[Dn],sn=Kt.id(Dn),Cr=new da;if(Z(gn))Cr.state=1,Cr.buffer=fr.getBuffer(fr.create(gn,34962,!1,!0)),Cr.type=0;else{var Kr=fr.getBuffer(gn);if(Kr)Cr.state=1,Cr.buffer=Kr,Cr.type=0;else if("constant"in gn){var Gr=gn.constant;Cr.buffer="null",Cr.state=2,typeof Gr=="number"?Cr.x=Gr:at.forEach(function(Fn,va){va<Gr.length&&(Cr[Fn]=Gr[va])})}else{var Kr=Z(gn.buffer)?fr.getBuffer(fr.create(gn.buffer,34962,!1,!0)):fr.getBuffer(gn.buffer),tn=gn.offset|0,Tn=gn.stride|0,On=gn.size|0,Mn=!!gn.normalized,Un=0;"type"in gn&&(Un=Ve[gn.type]),gn=gn.divisor|0,Cr.buffer=Kr,Cr.state=1,Cr.size=On,Cr.normalized=Mn,Cr.type=Un||Kr.dtype,Cr.offset=tn,Cr.stride=Tn,Cr.divisor=gn}}mn[Dn]=ue(function(Fn,va){var la=Fn.attribCache;if(sn in la)return la[sn];var ma={isStream:!1};return Object.keys(Cr).forEach(function(Da){ma[Da]=Cr[Da]}),Cr.buffer&&(ma.buffer=Fn.link(Cr.buffer),ma.type=ma.type||ma.buffer+".dtype"),la[sn]=ma})}),Object.keys(Nr).forEach(function(Dn){var gn=Nr[Dn];mn[Dn]=K(gn,function(sn,Cr){function Kr(la){Cr(Mn[la],"=",Gr,".",la,"|0;")}var Gr=sn.invoke(Cr,gn),On=sn.shared,tn=sn.constants,Tn=On.isBufferArgs,On=On.buffer,Mn={isStream:Cr.def(!1)},Un=new da;Un.state=1,Object.keys(Un).forEach(function(la){Mn[la]=Cr.def(""+Un[la])});var Fn=Mn.buffer,va=Mn.type;return Cr("if(",Tn,"(",Gr,")){",Mn.isStream,"=true;",Fn,"=",On,".createStream(",34962,",",Gr,");",va,"=",Fn,".dtype;","}else{",Fn,"=",On,".getBuffer(",Gr,");","if(",Fn,"){",va,"=",Fn,".dtype;",'}else if("constant" in ',Gr,"){",Mn.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',Mn[at[0]],"=",Gr,".constant;",at.slice(1).map(function(la){return Mn[la]}).join("="),"=0;","}else{",at.map(function(la,ma){return Mn[la]+"="+Gr+".constant.length>"+ma+"?"+Gr+".constant["+ma+"]:0;"}).join(""),"}}else{","if(",Tn,"(",Gr,".buffer)){",Fn,"=",On,".createStream(",34962,",",Gr,".buffer);","}else{",Fn,"=",On,".getBuffer(",Gr,".buffer);","}",va,'="type" in ',Gr,"?",tn.glTypes,"[",Gr,".type]:",Fn,".dtype;",Mn.normalized,"=!!",Gr,".normalized;"),Kr("size"),Kr("offset"),Kr("stride"),Kr("divisor"),Cr("}}"),Cr.exit("if(",Mn.isStream,"){",On,".destroyStream(",Fn,");","}"),Mn})}),mn}function cr(Sr){var Fr=Sr.static,Mr=Sr.dynamic,Nr={};return Object.keys(Fr).forEach(function(mn){var Dn=Fr[mn];Nr[mn]=ue(function(gn,sn){return typeof Dn=="number"||typeof Dn=="boolean"?""+Dn:gn.link(Dn)})}),Object.keys(Mr).forEach(function(mn){var Dn=Mr[mn];Nr[mn]=K(Dn,function(gn,sn){return gn.invoke(sn,Dn)})}),Nr}function Hr(Sr,Fr,Mr,Nr,mn){function Dn(Un){var Fn=sn[Un];Fn&&(Kr[Un]=Fn)}var gn=or(Sr,Fr),Tn=$t(Sr),sn=ar(Sr,Tn),Cr=zt(Sr),Kr=vr(Sr),Gr=rr(Sr,mn,gn);Dn("viewport"),Dn(dr("scissor.box"));var tn=0<Object.keys(Kr).length,Tn={framebuffer:Tn,draw:Cr,shader:Gr,state:Kr,dirty:tn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Tn.profile=kt(Sr),Tn.uniforms=gr(Mr),Tn.drawVAO=Tn.scopeVAO=Cr.vao,!Tn.drawVAO&&Gr.program&&!gn&&Qt.angle_instanced_arrays&&Cr.static.elements){var On=!0;if(Sr=Gr.program.attributes.map(function(Un){return Un=Fr.static[Un],On=On&&!!Un,Un}),On&&0<Sr.length){var Mn=Dt.getVAO(Dt.createVAO({attributes:Sr,elements:Cr.static.elements}));Tn.drawVAO=new Y(null,null,null,function(Un,Fn){return Un.link(Mn)}),Tn.useVAO=!0}}return gn?Tn.useVAO=!0:Tn.attributes=Ar(Fr),Tn.context=cr(Nr),Tn}function Rr(Sr,Fr,Mr){var Nr=Sr.shared.context,mn=Sr.scope();Object.keys(Mr).forEach(function(Dn){Fr.save(Nr,"."+Dn);var gn=Mr[Dn].append(Sr,Fr);Array.isArray(gn)?mn(Nr,".",Dn,"=[",gn.join(),"];"):mn(Nr,".",Dn,"=",gn,";")}),Fr(mn)}function Ir(Sr,Fr,Mr,Nr){var sn=Sr.shared,mn=sn.gl,Dn=sn.framebuffer,gn;$r&&(gn=Fr.def(sn.extensions,".webgl_draw_buffers"));var Cr=Sr.constants,sn=Cr.drawBuffer,Cr=Cr.backBuffer;Sr=Mr?Mr.append(Sr,Fr):Fr.def(Dn,".next"),Nr||Fr("if(",Sr,"!==",Dn,".cur){"),Fr("if(",Sr,"){",mn,".bindFramebuffer(",36160,",",Sr,".framebuffer);"),$r&&Fr(gn,".drawBuffersWEBGL(",sn,"[",Sr,".colorAttachments.length]);"),Fr("}else{",mn,".bindFramebuffer(",36160,",null);"),$r&&Fr(gn,".drawBuffersWEBGL(",Cr,");"),Fr("}",Dn,".cur=",Sr,";"),Nr||Fr("}")}function cn(Sr,Fr,Mr){var Nr=Sr.shared,mn=Nr.gl,Dn=Sr.current,gn=Sr.next,sn=Nr.current,Cr=Nr.next,Kr=Sr.cond(sn,".dirty");bn.forEach(function(Gr){if(Gr=dr(Gr),!(Gr in Mr.state)){var tn,Tn;if(Gr in gn){tn=gn[Gr],Tn=Dn[Gr];var On=i(vn[Gr].length,function(Mn){return Kr.def(tn,"[",Mn,"]")});Kr(Sr.cond(On.map(function(Mn,Un){return Mn+"!=="+Tn+"["+Un+"]"}).join("||")).then(mn,".",Bn[Gr],"(",On,");",On.map(function(Mn,Un){return Tn+"["+Un+"]="+Mn}).join(";"),";"))}else tn=Kr.def(Cr,".",Gr),On=Sr.cond(tn,"!==",sn,".",Gr),Kr(On),Gr in wn?On(Sr.cond(tn).then(mn,".enable(",wn[Gr],");").else(mn,".disable(",wn[Gr],");"),sn,".",Gr,"=",tn,";"):On(mn,".",Bn[Gr],"(",tn,");",sn,".",Gr,"=",tn,";")}}),Object.keys(Mr.state).length===0&&Kr(sn,".dirty=false;"),Fr(Kr)}function Zr(Sr,Fr,Mr,Nr){var mn=Sr.shared,Dn=Sr.current,gn=mn.current,sn=mn.gl,Cr;re(Object.keys(Mr)).forEach(function(Kr){var Gr=Mr[Kr];if(!Nr||Nr(Gr)){var tn=Gr.append(Sr,Fr);if(wn[Kr]){var Tn=wn[Kr];oe(Gr)?(Cr=Sr.link(tn,{stable:!0}),Fr(Sr.cond(Cr).then(sn,".enable(",Tn,");").else(sn,".disable(",Tn,");")),Fr(gn,".",Kr,"=",Cr,";")):(Fr(Sr.cond(tn).then(sn,".enable(",Tn,");").else(sn,".disable(",Tn,");")),Fr(gn,".",Kr,"=",tn,";"))}else if(T(tn)){var On=Dn[Kr];Fr(sn,".",Bn[Kr],"(",tn,");",tn.map(function(Mn,Un){return On+"["+Un+"]="+Mn}).join(";"),";")}else oe(Gr)?(Cr=Sr.link(tn,{stable:!0}),Fr(sn,".",Bn[Kr],"(",Cr,");",gn,".",Kr,"=",Cr,";")):Fr(sn,".",Bn[Kr],"(",tn,");",gn,".",Kr,"=",tn,";")}})}function An(Sr,Fr){mr&&(Sr.instancing=Fr.def(Sr.shared.extensions,".angle_instanced_arrays"))}function Sn(Sr,Fr,Mr,Nr,mn){function Dn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function gn(Un){On=Fr.def(),Un(On,"=",Dn(),";"),typeof mn=="string"?Un(Gr,".count+=",mn,";"):Un(Gr,".count++;"),Jt&&(Nr?(Mn=Fr.def(),Un(Mn,"=",Tn,".getNumPendingQueries();")):Un(Tn,".beginQuery(",Gr,");"))}function sn(Un){Un(Gr,".cpuTime+=",Dn(),"-",On,";"),Jt&&(Nr?Un(Tn,".pushScopeStats(",Mn,",",Tn,".getNumPendingQueries(),",Gr,");"):Un(Tn,".endQuery();"))}function Cr(Un){var Fn=Fr.def(tn,".profile");Fr(tn,".profile=",Un,";"),Fr.exit(tn,".profile=",Fn,";")}var Kr=Sr.shared,Gr=Sr.stats,tn=Kr.current,Tn=Kr.timer;Mr=Mr.profile;var On,Mn;if(Mr){if(oe(Mr)){Mr.enable?(gn(Fr),sn(Fr.exit),Cr("true")):Cr("false");return}Mr=Mr.append(Sr,Fr),Cr(Mr)}else Mr=Fr.def(tn,".profile");Kr=Sr.block(),gn(Kr),Fr("if(",Mr,"){",Kr,"}"),Sr=Sr.block(),sn(Sr),Fr.exit("if(",Mr,"){",Sr,"}")}function br(Sr,Fr,Mr,Nr,mn){function Dn(Cr){switch(Cr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function gn(Cr,Kr,Gr){function tn(){Fr("if(!",Un,".buffer){",On,".enableVertexAttribArray(",Mn,");}");var ma=Gr.type,Da;Da=Gr.size?Fr.def(Gr.size,"||",Kr):Kr,Fr("if(",Un,".type!==",ma,"||",Un,".size!==",Da,"||",la.map(function(bi){return Un+"."+bi+"!=="+Gr[bi]}).join("||"),"){",On,".bindBuffer(",34962,",",Fn,".buffer);",On,".vertexAttribPointer(",[Mn,Da,ma,Gr.normalized,Gr.stride,Gr.offset],");",Un,".type=",ma,";",Un,".size=",Da,";",la.map(function(bi){return Un+"."+bi+"="+Gr[bi]+";"}).join(""),"}"),mr&&(ma=Gr.divisor,Fr("if(",Un,".divisor!==",ma,"){",Sr.instancing,".vertexAttribDivisorANGLE(",[Mn,ma],");",Un,".divisor=",ma,";}"))}function Tn(){Fr("if(",Un,".buffer){",On,".disableVertexAttribArray(",Mn,");",Un,".buffer=null;","}if(",at.map(function(ma,Da){return Un+"."+ma+"!=="+va[Da]}).join("||"),"){",On,".vertexAttrib4f(",Mn,",",va,");",at.map(function(ma,Da){return Un+"."+ma+"="+va[Da]+";"}).join(""),"}")}var On=sn.gl,Mn=Fr.def(Cr,".location"),Un=Fr.def(sn.attributes,"[",Mn,"]");Cr=Gr.state;var Fn=Gr.buffer,va=[Gr.x,Gr.y,Gr.z,Gr.w],la=["buffer","normalized","offset","stride"];Cr===1?tn():Cr===2?Tn():(Fr("if(",Cr,"===",1,"){"),tn(),Fr("}else{"),Tn(),Fr("}"))}var sn=Sr.shared;Nr.forEach(function(Cr){var Kr=Cr.name,Gr=Mr.attributes[Kr],tn;if(Gr){if(!mn(Gr))return;tn=Gr.append(Sr,Fr)}else{if(!mn(Xt))return;var Tn=Sr.scopeAttrib(Kr);tn={},Object.keys(new da).forEach(function(On){tn[On]=Fr.def(Tn,".",On)})}gn(Sr.link(Cr),Dn(Cr.info.type),tn)})}function Or(Sr,Fr,Mr,Nr,mn,Dn){for(var gn=Sr.shared,sn=gn.gl,Cr,Kr=0;Kr<Nr.length;++Kr){var On=Nr[Kr],Gr=On.name,tn=On.info.type,Tn=Mr.uniforms[Gr],On=Sr.link(On)+".location",Mn;if(Tn){if(!mn(Tn))continue;if(oe(Tn)){if(Gr=Tn.value,tn===35678||tn===35680)tn=Sr.link(Gr._texture||Gr.color[0]._texture),Fr(sn,".uniform1i(",On,",",tn+".bind());"),Fr.exit(tn,".unbind();");else if(tn===35674||tn===35675||tn===35676)Gr=Sr.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),Tn=2,tn===35675?Tn=3:tn===35676&&(Tn=4),Fr(sn,".uniformMatrix",Tn,"fv(",On,",false,",Gr,");");else{switch(tn){case 5126:Cr="1f";break;case 35664:Cr="2f";break;case 35665:Cr="3f";break;case 35666:Cr="4f";break;case 35670:Cr="1i";break;case 5124:Cr="1i";break;case 35671:Cr="2i";break;case 35667:Cr="2i";break;case 35672:Cr="3i";break;case 35668:Cr="3i";break;case 35673:Cr="4i";break;case 35669:Cr="4i"}Fr(sn,".uniform",Cr,"(",On,",",T(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else Mn=Tn.append(Sr,Fr)}else{if(!mn(Xt))continue;Mn=Fr.def(gn.uniforms,"[",Kt.id(Gr),"]")}switch(tn===35678?Fr("if(",Mn,"&&",Mn,'._reglType==="framebuffer"){',Mn,"=",Mn,".color[0];","}"):tn===35680&&Fr("if(",Mn,"&&",Mn,'._reglType==="framebufferCube"){',Mn,"=",Mn,".color[0];","}"),Gr=1,tn){case 35678:case 35680:tn=Fr.def(Mn,"._texture"),Fr(sn,".uniform1i(",On,",",tn,".bind());"),Fr.exit(tn,".unbind();");continue;case 5124:case 35670:Cr="1i";break;case 35667:case 35671:Cr="2i",Gr=2;break;case 35668:case 35672:Cr="3i",Gr=3;break;case 35669:case 35673:Cr="4i",Gr=4;break;case 5126:Cr="1f";break;case 35664:Cr="2f",Gr=2;break;case 35665:Cr="3f",Gr=3;break;case 35666:Cr="4f",Gr=4;break;case 35674:Cr="Matrix2fv";break;case 35675:Cr="Matrix3fv";break;case 35676:Cr="Matrix4fv"}if(Cr.charAt(0)==="M"){Fr(sn,".uniform",Cr,"(",On,",");var On=Math.pow(tn-35674+2,2),Un=Sr.global.def("new Float32Array(",On,")");Array.isArray(Mn)?Fr("false,(",i(On,function(la){return Un+"["+la+"]="+Mn[la]}),",",Un,")"):Fr("false,(Array.isArray(",Mn,")||",Mn," instanceof Float32Array)?",Mn,":(",i(On,function(la){return Un+"["+la+"]="+Mn+"["+la+"]"}),",",Un,")"),Fr(");")}else{if(1<Gr){for(var tn=[],Fn=[],Tn=0;Tn<Gr;++Tn)Array.isArray(Mn)?Fn.push(Mn[Tn]):Fn.push(Fr.def(Mn+"["+Tn+"]")),Dn&&tn.push(Fr.def());Dn&&Fr("if(!",Sr.batchId,"||",tn.map(function(va,la){return va+"!=="+Fn[la]}).join("||"),"){",tn.map(function(va,la){return va+"="+Fn[la]+";"}).join("")),Fr(sn,".uniform",Cr,"(",On,",",Fn.join(","),");")}else Dn&&(tn=Fr.def(),Fr("if(!",Sr.batchId,"||",tn,"!==",Mn,"){",tn,"=",Mn,";")),Fr(sn,".uniform",Cr,"(",On,",",Mn,");");Dn&&Fr("}")}}}function jr(Sr,Fr,Mr,Nr){function mn(ma){var Da=Gr[ma];return Da?Da.contextDep&&Nr.contextDynamic||Da.propDep?Da.append(Sr,Mr):Da.append(Sr,Fr):Fr.def(Kr,".",ma)}function Dn(){function ma(){Mr(Fn,".drawElementsInstancedANGLE(",[Tn,Mn,va,On+"<<(("+va+"-5121)>>1)",Un],");")}function Da(){Mr(Fn,".drawArraysInstancedANGLE(",[Tn,On,Mn,Un],");")}tn&&tn!=="null"?la?ma():(Mr("if(",tn,"){"),ma(),Mr("}else{"),Da(),Mr("}")):Da()}function gn(){function ma(){Mr(Cr+".drawElements("+[Tn,Mn,va,On+"<<(("+va+"-5121)>>1)"]+");")}function Da(){Mr(Cr+".drawArrays("+[Tn,On,Mn]+");")}tn&&tn!=="null"?la?ma():(Mr("if(",tn,"){"),ma(),Mr("}else{"),Da(),Mr("}")):Da()}var sn=Sr.shared,Cr=sn.gl,Kr=sn.draw,Gr=Nr.draw,tn=function(){var ma=Gr.elements,Da=Fr;return ma?((ma.contextDep&&Nr.contextDynamic||ma.propDep)&&(Da=Mr),ma=ma.append(Sr,Da),Gr.elementsActive&&Da("if("+ma+")"+Cr+".bindBuffer(34963,"+ma+".buffer.buffer);")):(ma=Da.def(),Da(ma,"=",Kr,".","elements",";","if(",ma,"){",Cr,".bindBuffer(",34963,",",ma,".buffer.buffer);}","else if(",sn.vao,".currentVAO){",ma,"=",Sr.shared.elements+".getElements("+sn.vao,".currentVAO.elements);",Qr?"":"if("+ma+")"+Cr+".bindBuffer(34963,"+ma+".buffer.buffer);","}")),ma}(),Tn=mn("primitive"),On=mn("offset"),Mn=function(){var ma=Gr.count,Da=Fr;return ma?((ma.contextDep&&Nr.contextDynamic||ma.propDep)&&(Da=Mr),ma=ma.append(Sr,Da)):ma=Da.def(Kr,".","count"),ma}();if(typeof Mn=="number"){if(Mn===0)return}else Mr("if(",Mn,"){"),Mr.exit("}");var Un,Fn;mr&&(Un=mn("instances"),Fn=Sr.instancing);var va=tn+".type",la=Gr.elements&&oe(Gr.elements)&&!Gr.vaoActive;mr&&(typeof Un!="number"||0<=Un)?typeof Un=="string"?(Mr("if(",Un,">0){"),Dn(),Mr("}else if(",Un,"<0){"),gn(),Mr("}")):Dn():gn()}function zr(Sr,Fr,Mr,Nr,mn){return Fr=Ot(),mn=Fr.proc("body",mn),mr&&(Fr.instancing=mn.def(Fr.shared.extensions,".angle_instanced_arrays")),Sr(Fr,mn,Mr,Nr),Fr.compile().body}function pn(Sr,Fr,Mr,Nr){An(Sr,Fr),Mr.useVAO?Mr.drawVAO?Fr(Sr.shared.vao,".setVAO(",Mr.drawVAO.append(Sr,Fr),");"):Fr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Fr(Sr.shared.vao,".setVAO(null);"),br(Sr,Fr,Mr,Nr.attributes,function(){return!0})),Or(Sr,Fr,Mr,Nr.uniforms,function(){return!0},!1),jr(Sr,Fr,Fr,Mr)}function hn(Sr,Fr){var Mr=Sr.proc("draw",1);An(Sr,Mr),Rr(Sr,Mr,Fr.context),Ir(Sr,Mr,Fr.framebuffer),cn(Sr,Mr,Fr),Zr(Sr,Mr,Fr.state),Sn(Sr,Mr,Fr,!1,!0);var Nr=Fr.shader.progVar.append(Sr,Mr);if(Mr(Sr.shared.gl,".useProgram(",Nr,".program);"),Fr.shader.program)pn(Sr,Mr,Fr,Fr.shader.program);else{Mr(Sr.shared.vao,".setVAO(null);");var mn=Sr.global.def("{}"),Dn=Mr.def(Nr,".id"),gn=Mr.def(mn,"[",Dn,"]");Mr(Sr.cond(gn).then(gn,".call(this,a0);").else(gn,"=",mn,"[",Dn,"]=",Sr.link(function(sn){return zr(pn,Sr,Fr,sn,1)}),"(",Nr,");",gn,".call(this,a0);"))}0<Object.keys(Fr.state).length&&Mr(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Mr(Sr.shared.vao,".setVAO(null);")}function Ln(Sr,Fr,Mr,Nr){function mn(){return!0}Sr.batchId="a1",An(Sr,Fr),br(Sr,Fr,Mr,Nr.attributes,mn),Or(Sr,Fr,Mr,Nr.uniforms,mn,!1),jr(Sr,Fr,Fr,Mr)}function Rn(Sr,Fr,Mr,Nr){function mn(tn){return tn.contextDep&&gn||tn.propDep}function Dn(tn){return!mn(tn)}An(Sr,Fr);var gn=Mr.contextDep,sn=Fr.def(),Cr=Fr.def();Sr.shared.props=Cr,Sr.batchId=sn;var Kr=Sr.scope(),Gr=Sr.scope();Fr(Kr.entry,"for(",sn,"=0;",sn,"<","a1",";++",sn,"){",Cr,"=","a0","[",sn,"];",Gr,"}",Kr.exit),Mr.needsContext&&Rr(Sr,Gr,Mr.context),Mr.needsFramebuffer&&Ir(Sr,Gr,Mr.framebuffer),Zr(Sr,Gr,Mr.state,mn),Mr.profile&&mn(Mr.profile)&&Sn(Sr,Gr,Mr,!1,!0),Nr?(Mr.useVAO?Mr.drawVAO?mn(Mr.drawVAO)?Gr(Sr.shared.vao,".setVAO(",Mr.drawVAO.append(Sr,Gr),");"):Kr(Sr.shared.vao,".setVAO(",Mr.drawVAO.append(Sr,Kr),");"):Kr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Kr(Sr.shared.vao,".setVAO(null);"),br(Sr,Kr,Mr,Nr.attributes,Dn),br(Sr,Gr,Mr,Nr.attributes,mn)),Or(Sr,Kr,Mr,Nr.uniforms,Dn,!1),Or(Sr,Gr,Mr,Nr.uniforms,mn,!0),jr(Sr,Kr,Gr,Mr)):(Fr=Sr.global.def("{}"),Nr=Mr.shader.progVar.append(Sr,Gr),Cr=Gr.def(Nr,".id"),Kr=Gr.def(Fr,"[",Cr,"]"),Gr(Sr.shared.gl,".useProgram(",Nr,".program);","if(!",Kr,"){",Kr,"=",Fr,"[",Cr,"]=",Sr.link(function(tn){return zr(Ln,Sr,Mr,tn,2)}),"(",Nr,");}",Kr,".call(this,a0[",sn,"],",sn,");"))}function Gn(Sr,Fr){function Mr(Kr){return Kr.contextDep&&mn||Kr.propDep}var Nr=Sr.proc("batch",2);Sr.batchId="0",An(Sr,Nr);var mn=!1,Dn=!0;Object.keys(Fr.context).forEach(function(Kr){mn=mn||Fr.context[Kr].propDep}),mn||(Rr(Sr,Nr,Fr.context),Dn=!1);var gn=Fr.framebuffer,sn=!1;if(gn?(gn.propDep?mn=sn=!0:gn.contextDep&&mn&&(sn=!0),sn||Ir(Sr,Nr,gn)):Ir(Sr,Nr,null),Fr.state.viewport&&Fr.state.viewport.propDep&&(mn=!0),cn(Sr,Nr,Fr),Zr(Sr,Nr,Fr.state,function(Kr){return!Mr(Kr)}),Fr.profile&&Mr(Fr.profile)||Sn(Sr,Nr,Fr,!1,"a1"),Fr.contextDep=mn,Fr.needsContext=Dn,Fr.needsFramebuffer=sn,Dn=Fr.shader.progVar,Dn.contextDep&&mn||Dn.propDep)Rn(Sr,Nr,Fr,null);else if(Dn=Dn.append(Sr,Nr),Nr(Sr.shared.gl,".useProgram(",Dn,".program);"),Fr.shader.program)Rn(Sr,Nr,Fr,Fr.shader.program);else{Nr(Sr.shared.vao,".setVAO(null);");var gn=Sr.global.def("{}"),sn=Nr.def(Dn,".id"),Cr=Nr.def(gn,"[",sn,"]");Nr(Sr.cond(Cr).then(Cr,".call(this,a0,a1);").else(Cr,"=",gn,"[",sn,"]=",Sr.link(function(tn){return zr(Rn,Sr,Fr,tn,2)}),"(",Dn,");",Cr,".call(this,a0,a1);"))}0<Object.keys(Fr.state).length&&Nr(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Nr(Sr.shared.vao,".setVAO(null);")}function oa(Sr,Fr){function Mr(sn){var Cr=Fr.shader[sn];Cr&&(Cr=Cr.append(Sr,Nr),isNaN(Cr)?Nr.set(mn.shader,"."+sn,Cr):Nr.set(mn.shader,"."+sn,Sr.link(Cr,{stable:!0})))}var Nr=Sr.proc("scope",3);Sr.batchId="a2";var mn=Sr.shared,Dn=mn.current;if(Rr(Sr,Nr,Fr.context),Fr.framebuffer&&Fr.framebuffer.append(Sr,Nr),re(Object.keys(Fr.state)).forEach(function(sn){var Cr=Fr.state[sn],Kr=Cr.append(Sr,Nr);T(Kr)?Kr.forEach(function(Gr,tn){isNaN(Gr)?Nr.set(Sr.next[sn],"["+tn+"]",Gr):Nr.set(Sr.next[sn],"["+tn+"]",Sr.link(Gr,{stable:!0}))}):oe(Cr)?Nr.set(mn.next,"."+sn,Sr.link(Kr,{stable:!0})):Nr.set(mn.next,"."+sn,Kr)}),Sn(Sr,Nr,Fr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(sn){var Cr=Fr.draw[sn];Cr&&(Cr=Cr.append(Sr,Nr),isNaN(Cr)?Nr.set(mn.draw,"."+sn,Cr):Nr.set(mn.draw,"."+sn,Sr.link(Cr),{stable:!0}))}),Object.keys(Fr.uniforms).forEach(function(sn){var Cr=Fr.uniforms[sn].append(Sr,Nr);Array.isArray(Cr)&&(Cr="["+Cr.map(function(Kr){return isNaN(Kr)?Kr:Sr.link(Kr,{stable:!0})})+"]"),Nr.set(mn.uniforms,"["+Sr.link(Kt.id(sn),{stable:!0})+"]",Cr)}),Object.keys(Fr.attributes).forEach(function(sn){var Cr=Fr.attributes[sn].append(Sr,Nr),Kr=Sr.scopeAttrib(sn);Object.keys(new da).forEach(function(Gr){Nr.set(Kr,"."+Gr,Cr[Gr])})}),Fr.scopeVAO){var gn=Fr.scopeVAO.append(Sr,Nr);isNaN(gn)?Nr.set(mn.vao,".targetVAO",gn):Nr.set(mn.vao,".targetVAO",Sr.link(gn,{stable:!0}))}Mr("vert"),Mr("frag"),0<Object.keys(Fr.state).length&&(Nr(Dn,".dirty=true;"),Nr.exit(Dn,".dirty=true;")),Nr("a1(",Sr.shared.context,",a0,",Sr.batchId,");")}function xa(Sr){if(typeof Sr=="object"&&!T(Sr)){for(var Fr=Object.keys(Sr),Mr=0;Mr<Fr.length;++Mr)if(xe.isDynamic(Sr[Fr[Mr]]))return!0;return!1}}function Ta(Sr,Fr,Mr){function Nr(tn,Tn){gn.forEach(function(On){var Mn=mn[On];xe.isDynamic(Mn)&&(Mn=tn.invoke(Tn,Mn),Tn(Gr,".",On,"=",Mn,";"))})}var mn=Fr.static[Mr];if(mn&&xa(mn)){var Dn=Sr.global,gn=Object.keys(mn),sn=!1,Cr=!1,Kr=!1,Gr=Sr.global.def("{}");gn.forEach(function(tn){var Tn=mn[tn];if(xe.isDynamic(Tn))typeof Tn=="function"&&(Tn=mn[tn]=xe.unbox(Tn)),tn=K(Tn,null),sn=sn||tn.thisDep,Kr=Kr||tn.propDep,Cr=Cr||tn.contextDep;else{switch(Dn(Gr,".",tn,"="),typeof Tn){case"number":Dn(Tn);break;case"string":Dn('"',Tn,'"');break;case"object":Array.isArray(Tn)&&Dn("[",Tn.join(),"]");break;default:Dn(Sr.link(Tn))}Dn(";")}}),Fr.dynamic[Mr]=new xe.DynamicVariable(4,{thisDep:sn,contextDep:Cr,propDep:Kr,ref:Gr,append:Nr}),delete Fr.static[Mr]}}var da=Dt.Record,Hn={add:32774,subtract:32778,"reverse subtract":32779};Qt.ext_blend_minmax&&(Hn.min=32775,Hn.max=32776);var mr=Qt.angle_instanced_arrays,$r=Qt.webgl_draw_buffers,Qr=Qt.oes_vertex_array_object,vn={dirty:!0,profile:Zt.profile},zn={},bn=[],wn={},Bn={};je("dither",3024),je("blend.enable",3042),Ge("blend.color","blendColor",[0,0,0,0]),Ge("blend.equation","blendEquationSeparate",[32774,32774]),Ge("blend.func","blendFuncSeparate",[1,0,1,0]),je("depth.enable",2929,!0),Ge("depth.func","depthFunc",513),Ge("depth.range","depthRange",[0,1]),Ge("depth.mask","depthMask",!0),Ge("colorMask","colorMask",[!0,!0,!0,!0]),je("cull.enable",2884),Ge("cull.face","cullFace",1029),Ge("frontFace","frontFace",2305),Ge("lineWidth","lineWidth",1),je("polygonOffset.enable",32823),Ge("polygonOffset.offset","polygonOffset",[0,0]),je("sample.alpha",32926),je("sample.enable",32928),Ge("sample.coverage","sampleCoverage",[1,!1]),je("stencil.enable",2960),Ge("stencil.mask","stencilMask",-1),Ge("stencil.func","stencilFunc",[519,0,-1]),Ge("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ge("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),je("scissor.enable",3089),Ge("scissor.box","scissor",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]),Ge("viewport","viewport",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]);var $n={gl:gt,context:Nt,strings:Kt,next:zn,current:vn,draw:Bt,elements:yt,buffer:fr,shader:Ht,attributes:Dt.state,vao:Dt,uniforms:Et,framebuffer:bt,extensions:Qt,timer:Jt,isBufferArgs:Z},pa={primTypes:lt,compareFuncs:Yt,blendFuncs:Wt,blendEquations:Hn,stencilOps:Tt,glTypes:Ve,orientationType:Lt};$r&&(pa.backBuffer=[1029],pa.drawBuffer=i(yr.maxDrawbuffers,function(Sr){return Sr===0?[0]:i(Sr,function(Fr){return 36064+Fr})}));var Oa=0;return{next:zn,current:vn,procs:function(){var Sr=Ot(),Fr=Sr.proc("poll"),Mr=Sr.proc("refresh"),Nr=Sr.block();Fr(Nr),Mr(Nr);var Cr=Sr.shared,mn=Cr.gl,Dn=Cr.next,gn=Cr.current;Nr(gn,".dirty=false;"),Ir(Sr,Fr),Ir(Sr,Mr,null,!0);var sn;mr&&(sn=Sr.link(mr)),Qt.oes_vertex_array_object&&Mr(Sr.link(Qt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Cr=Mr.def(Cr.attributes),Kr=Mr.def(0),Gr=Sr.cond(Kr,".buffer");Gr.then(mn,".enableVertexAttribArray(i);",mn,".bindBuffer(",34962,",",Kr,".buffer.buffer);",mn,".vertexAttribPointer(i,",Kr,".size,",Kr,".type,",Kr,".normalized,",Kr,".stride,",Kr,".offset);").else(mn,".disableVertexAttribArray(i);",mn,".vertexAttrib4f(i,",Kr,".x,",Kr,".y,",Kr,".z,",Kr,".w);",Kr,".buffer=null;");var tn=Sr.link(yr.maxAttributes,{stable:!0});return Mr("for(var i=0;i<",tn,";++i){",Kr,"=",Cr,"[i];",Gr,"}"),mr&&Mr("for(var i=0;i<",tn,";++i){",sn,".vertexAttribDivisorANGLE(i,",Cr,"[i].divisor);","}"),Mr(Sr.shared.vao,".currentVAO=null;",Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"),Object.keys(wn).forEach(function(Tn){var On=wn[Tn],Mn=Nr.def(Dn,".",Tn),Un=Sr.block();Un("if(",Mn,"){",mn,".enable(",On,")}else{",mn,".disable(",On,")}",gn,".",Tn,"=",Mn,";"),Mr(Un),Fr("if(",Mn,"!==",gn,".",Tn,"){",Un,"}")}),Object.keys(Bn).forEach(function(Tn){var On=Bn[Tn],Mn=vn[Tn],Un,Fn,va=Sr.block();va(mn,".",On,"("),T(Mn)?(On=Mn.length,Un=Sr.global.def(Dn,".",Tn),Fn=Sr.global.def(gn,".",Tn),va(i(On,function(la){return Un+"["+la+"]"}),");",i(On,function(la){return Fn+"["+la+"]="+Un+"["+la+"];"}).join("")),Fr("if(",i(On,function(la){return Un+"["+la+"]!=="+Fn+"["+la+"]"}).join("||"),"){",va,"}")):(Un=Nr.def(Dn,".",Tn),Fn=Nr.def(gn,".",Tn),va(Un,");",gn,".",Tn,"=",Un,";"),Fr("if(",Un,"!==",Fn,"){",va,"}")),Mr(va)}),Sr.compile()}(),compile:function(Sr,Fr,Mr,Nr,mn){var Dn=Ot();Dn.stats=Dn.link(mn),Object.keys(Fr.static).forEach(function(sn){Ta(Dn,Fr,sn)}),it.forEach(function(sn){Ta(Dn,Sr,sn)});var gn=Hr(Sr,Fr,Mr,Nr,Dn);return gn.shader.program&&(gn.shader.program.attributes.sort(function(sn,Cr){return sn.name<Cr.name?-1:1}),gn.shader.program.uniforms.sort(function(sn,Cr){return sn.name<Cr.name?-1:1})),hn(Dn,gn),oa(Dn,gn),Gn(Dn,gn),ae(Dn.compile(),{destroy:function(){gn.shader.program.destroy()}})}}}function le(gt,Kt){for(var Qt=0;Qt<gt.length;++Qt)if(gt[Qt]===Kt)return Qt;return-1}var ae=function(gt,Kt){for(var Qt=Object.keys(Kt),yr=0;yr<Qt.length;++yr)gt[Qt[yr]]=Kt[Qt[yr]];return gt},he=0,xe={DynamicVariable:G,define:function(gt,Kt){return new G(gt,g(Kt+""))},isDynamic:function(gt){return typeof gt=="function"&&!gt._reglType||gt instanceof G},unbox:R,accessor:g},Me={next:typeof requestAnimationFrame=="function"?function(gt){return requestAnimationFrame(gt)}:function(gt){return setTimeout(gt,16)},cancel:typeof cancelAnimationFrame=="function"?function(gt){return cancelAnimationFrame(gt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ke=f();ke.zero=f();var we=function(gt,Kt){var Qt=1;Kt.ext_texture_filter_anisotropic&&(Qt=gt.getParameter(34047));var yr=1,fr=1;Kt.webgl_draw_buffers&&(yr=gt.getParameter(34852),fr=gt.getParameter(36063));var yt=!!Kt.oes_texture_float;if(yt){yt=gt.createTexture(),gt.bindTexture(3553,yt),gt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ot=gt.createFramebuffer();if(gt.bindFramebuffer(36160,ot),gt.framebufferTexture2D(36160,36064,3553,yt,0),gt.bindTexture(3553,null),gt.checkFramebufferStatus(36160)!==36053)yt=!1;else{gt.viewport(0,0,1,1),gt.clearColor(1,0,0,1),gt.clear(16384);var bt=ke.allocType(5126,4);gt.readPixels(0,0,1,1,6408,5126,bt),gt.getError()?yt=!1:(gt.deleteFramebuffer(ot),gt.deleteTexture(yt),yt=bt[0]===1),ke.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=gt.createTexture(),ot=ke.allocType(5121,36),gt.activeTexture(33984),gt.bindTexture(34067,bt),gt.texImage2D(34069,0,6408,3,3,0,6408,5121,ot),ke.freeType(ot),gt.bindTexture(34067,null),gt.deleteTexture(bt),bt=!gt.getError()),{colorBits:[gt.getParameter(3410),gt.getParameter(3411),gt.getParameter(3412),gt.getParameter(3413)],depthBits:gt.getParameter(3414),stencilBits:gt.getParameter(3415),subpixelBits:gt.getParameter(3408),extensions:Object.keys(Kt).filter(function(Et){return!!Kt[Et]}),maxAnisotropic:Qt,maxDrawbuffers:yr,maxColorAttachments:fr,pointSizeDims:gt.getParameter(33901),lineWidthDims:gt.getParameter(33902),maxViewportDims:gt.getParameter(3386),maxCombinedTextureUnits:gt.getParameter(35661),maxCubeMapSize:gt.getParameter(34076),maxRenderbufferSize:gt.getParameter(34024),maxTextureUnits:gt.getParameter(34930),maxTextureSize:gt.getParameter(3379),maxAttributes:gt.getParameter(34921),maxVertexUniforms:gt.getParameter(36347),maxVertexTextureUnits:gt.getParameter(35660),maxVaryingVectors:gt.getParameter(36348),maxFragmentUniforms:gt.getParameter(36349),glsl:gt.getParameter(35724),renderer:gt.getParameter(7937),vendor:gt.getParameter(7936),version:gt.getParameter(7938),readFloat:yt,npotTextureCube:bt}},Ee=function(gt){return gt instanceof Uint8Array||gt instanceof Uint16Array||gt instanceof Uint32Array||gt instanceof Int8Array||gt instanceof Int16Array||gt instanceof Int32Array||gt instanceof Float32Array||gt instanceof Float64Array||gt instanceof Uint8ClampedArray},be=function(gt){return Object.keys(gt).map(function(Kt){return gt[Kt]})},Le={shape:function(gt){for(var Kt=[];gt.length;gt=gt[0])Kt.push(gt.length);return Kt},flatten:function(gt,Kt,Qt,yr){var fr=1;if(Kt.length)for(var yt=0;yt<Kt.length;++yt)fr*=Kt[yt];else fr=0;switch(Qt=yr||ke.allocType(Qt,fr),Kt.length){case 0:break;case 1:for(yr=Kt[0],Kt=0;Kt<yr;++Kt)Qt[Kt]=gt[Kt];break;case 2:for(yr=Kt[0],Kt=Kt[1],yt=fr=0;yt<yr;++yt)for(var ot=gt[yt],bt=0;bt<Kt;++bt)Qt[fr++]=ot[bt];break;case 3:l(gt,Kt[0],Kt[1],Kt[2],Qt,0);break;default:m(gt,Kt,0,Qt,0)}return Qt}},Ue={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ve={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Fe={dynamic:35048,stream:35040,static:35044},He=Le.flatten,st=Le.shape,vt=[];vt[5120]=1,vt[5122]=2,vt[5124]=4,vt[5121]=1,vt[5123]=2,vt[5125]=4,vt[5126]=4;var lt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},et=new Float32Array(1),ct=new Uint32Array(et.buffer),ht=[9984,9986,9985,9987],mt=[0,6409,6410,6407,6408],xt={};xt[6409]=xt[6406]=xt[6402]=1,xt[34041]=xt[6410]=2,xt[6407]=xt[35904]=3,xt[6408]=xt[35906]=4;var Mt=P("HTMLCanvasElement"),tt=P("OffscreenCanvas"),Oe=P("CanvasRenderingContext2D"),Ye=P("ImageBitmap"),Ze=P("HTMLImageElement"),We=P("HTMLVideoElement"),_e=Object.keys(Ue).concat([Mt,tt,Oe,Ye,Ze,We]),Ie=[];Ie[5121]=1,Ie[5126]=4,Ie[36193]=2,Ie[5123]=2,Ie[5125]=4;var Xe=[];Xe[32854]=2,Xe[32855]=2,Xe[36194]=2,Xe[34041]=4,Xe[33776]=.5,Xe[33777]=.5,Xe[33778]=1,Xe[33779]=1,Xe[35986]=.5,Xe[35987]=1,Xe[34798]=1,Xe[35840]=.5,Xe[35841]=.25,Xe[35842]=.5,Xe[35843]=.25,Xe[36196]=.5;var De=[];De[32854]=2,De[32855]=2,De[36194]=2,De[33189]=2,De[36168]=1,De[34041]=4,De[35907]=4,De[34836]=16,De[34842]=8,De[34843]=6;var de=function(gt,Kt,Qt,yr,fr){function yt(Bt){this.id=Dt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,fr.profile&&(this.stats={size:0})}function ot(Bt){var Nt=Bt.renderbuffer;gt.bindRenderbuffer(36161,null),gt.deleteRenderbuffer(Nt),Bt.renderbuffer=null,Bt.refCount=0,delete Ht[Bt.id],yr.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Kt.ext_srgb&&(bt.srgba=35907),Kt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Kt.webgl_color_buffer_float&&(bt.rgba32f=34836);var Et=[];Object.keys(bt).forEach(function(Bt){Et[bt[Bt]]=Bt});var Dt=0,Ht={};return yt.prototype.decRef=function(){0>=--this.refCount&&ot(this)},fr.profile&&(yr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Ht).forEach(function(Nt){Bt+=Ht[Nt].stats.size}),Bt}),{create:function(Bt,Nt){function Jt(Zt,dr){var je=0,Ge=0,Ot=32854;if(typeof Zt=="object"&&Zt?("shape"in Zt?(Ge=Zt.shape,je=Ge[0]|0,Ge=Ge[1]|0):("radius"in Zt&&(je=Ge=Zt.radius|0),"width"in Zt&&(je=Zt.width|0),"height"in Zt&&(Ge=Zt.height|0)),"format"in Zt&&(Ot=bt[Zt.format])):typeof Zt=="number"?(je=Zt|0,Ge=typeof dr=="number"?dr|0:je):Zt||(je=Ge=1),je!==hr.width||Ge!==hr.height||Ot!==hr.format)return Jt.width=hr.width=je,Jt.height=hr.height=Ge,hr.format=Ot,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,Ot,je,Ge),fr.profile&&(hr.stats.size=De[hr.format]*hr.width*hr.height),Jt.format=Et[hr.format],Jt}var hr=new yt(gt.createRenderbuffer());return Ht[hr.id]=hr,yr.renderbufferCount++,Jt(Bt,Nt),Jt.resize=function(Zt,dr){var je=Zt|0,Ge=dr|0||je;return je===hr.width&&Ge===hr.height||(Jt.width=hr.width=je,Jt.height=hr.height=Ge,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,hr.format,je,Ge),fr.profile&&(hr.stats.size=De[hr.format]*hr.width*hr.height)),Jt},Jt._reglType="renderbuffer",Jt._renderbuffer=hr,fr.profile&&(Jt.stats=hr.stats),Jt.destroy=function(){hr.decRef()},Jt},clear:function(){be(Ht).forEach(ot)},restore:function(){be(Ht).forEach(function(Bt){Bt.renderbuffer=gt.createRenderbuffer(),gt.bindRenderbuffer(36161,Bt.renderbuffer),gt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),gt.bindRenderbuffer(36161,null)}}},Te=[];Te[6408]=4,Te[6407]=3;var Be=[];Be[5121]=1,Be[5126]=4,Be[36193]=2;var Qe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],at=["x","y","z","w"],it="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Wt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Yt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Lt={cw:2304,ccw:2305},Xt=new Y(!1,!1,!1,function(){}),Tr=function(gt,Kt){function Qt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yr(Ht,Bt,Nt){var Jt=ot.pop()||new Qt;Jt.startQueryIndex=Ht,Jt.endQueryIndex=Bt,Jt.sum=0,Jt.stats=Nt,bt.push(Jt)}if(!Kt.ext_disjoint_timer_query)return null;var fr=[],yt=[],ot=[],bt=[],Et=[],Dt=[];return{beginQuery:function(Ht){var Bt=fr.pop()||Kt.ext_disjoint_timer_query.createQueryEXT();Kt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),yt.push(Bt),yr(yt.length-1,yt.length,Ht)},endQuery:function(){Kt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yr,update:function(){var Ht,Bt;if(Ht=yt.length,Ht!==0){Dt.length=Math.max(Dt.length,Ht+1),Et.length=Math.max(Et.length,Ht+1),Et[0]=0;var Nt=Dt[0]=0;for(Bt=Ht=0;Bt<yt.length;++Bt){var Jt=yt[Bt];Kt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Nt+=Kt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),fr.push(Jt)):yt[Ht++]=Jt,Et[Bt+1]=Nt,Dt[Bt+1]=Ht}for(yt.length=Ht,Bt=Ht=0;Bt<bt.length;++Bt){var Nt=bt[Bt],hr=Nt.startQueryIndex,Jt=Nt.endQueryIndex;Nt.sum+=Et[Jt]-Et[hr],hr=Dt[hr],Jt=Dt[Jt],Jt===hr?(Nt.stats.gpuTime+=Nt.sum/1e6,ot.push(Nt)):(Nt.startQueryIndex=hr,Nt.endQueryIndex=Jt,bt[Ht++]=Nt)}bt.length=Ht}},getNumPendingQueries:function(){return yt.length},clear:function(){fr.push.apply(fr,yt);for(var Ht=0;Ht<fr.length;Ht++)Kt.ext_disjoint_timer_query.deleteQueryEXT(fr[Ht]);yt.length=0,fr.length=0},restore:function(){yt.length=0,fr.length=0}}};return function(gt){function Kt(){if(Sn.length===0)Ot&&Ot.update(),zr=null;else{zr=Me.next(Kt),Ht();for(var hn=Sn.length-1;0<=hn;--hn){var Ln=Sn[hn];Ln&&Ln(ar,null,0)}Jt.flush(),Ot&&Ot.update()}}function Qt(){!zr&&0<Sn.length&&(zr=Me.next(Kt))}function yr(){zr&&(Me.cancel(Kt),zr=null)}function fr(hn){hn.preventDefault(),yr(),br.forEach(function(Ln){Ln()})}function yt(hn){Jt.getError(),Zt.restore(),Ar.restore(),zt.restore(),cr.restore(),Hr.restore(),Rr.restore(),gr.restore(),Ot&&Ot.restore(),Ir.procs.refresh(),Qt(),Or.forEach(function(Ln){Ln()})}function ot(hn){function Ln(vn,zn){var bn={},wn={};return Object.keys(vn).forEach(function(Bn){var $n=vn[Bn];if(xe.isDynamic($n))wn[Bn]=xe.unbox($n,Bn);else{if(zn&&Array.isArray($n)){for(var pa=0;pa<$n.length;++pa)if(xe.isDynamic($n[pa])){wn[Bn]=xe.unbox($n,Bn);return}}bn[Bn]=$n}}),{dynamic:wn,static:bn}}function Rn(vn){for(;Qr.length<vn;)Qr.push(null);return Qr}var Gn=Ln(hn.context||{},!0),oa=Ln(hn.uniforms||{},!0),xa=Ln(hn.attributes||{},!1);hn=Ln(function(vn){function zn(wn){if(wn in bn){var Bn=bn[wn];delete bn[wn],Object.keys(Bn).forEach(function($n){bn[wn+"."+$n]=Bn[$n]})}}var bn=ae({},vn);return delete bn.uniforms,delete bn.attributes,delete bn.context,delete bn.vao,"stencil"in bn&&bn.stencil.op&&(bn.stencil.opBack=bn.stencil.opFront=bn.stencil.op,delete bn.stencil.op),zn("blend"),zn("depth"),zn("cull"),zn("stencil"),zn("polygonOffset"),zn("scissor"),zn("sample"),"vao"in vn&&(bn.vao=vn.vao),bn}(hn),!1);var Ta={gpuTime:0,cpuTime:0,count:0},da=Ir.compile(hn,xa,oa,Gn,Ta),Hn=da.draw,mr=da.batch,$r=da.scope,Qr=[];return ae(function(vn,zn){var bn;if(typeof vn=="function")return $r.call(this,null,vn,0);if(typeof zn=="function")if(typeof vn=="number")for(bn=0;bn<vn;++bn)$r.call(this,null,zn,bn);else if(Array.isArray(vn))for(bn=0;bn<vn.length;++bn)$r.call(this,vn[bn],zn,bn);else return $r.call(this,vn,zn,0);else if(typeof vn=="number"){if(0<vn)return mr.call(this,Rn(vn|0),vn|0)}else if(Array.isArray(vn)){if(vn.length)return mr.call(this,vn,vn.length)}else return Hn.call(this,vn)},{stats:Ta,destroy:function(){da.destroy()}})}function bt(hn,Ln){var Rn=0;Ir.procs.poll();var Gn=Ln.color;Gn&&(Jt.clearColor(+Gn[0]||0,+Gn[1]||0,+Gn[2]||0,+Gn[3]||0),Rn|=16384),"depth"in Ln&&(Jt.clearDepth(+Ln.depth),Rn|=256),"stencil"in Ln&&(Jt.clearStencil(Ln.stencil|0),Rn|=1024),Jt.clear(Rn)}function Et(hn){return Sn.push(hn),Qt(),{cancel:function(){function Ln(){var Gn=le(Sn,Ln);Sn[Gn]=Sn[Sn.length-1],--Sn.length,0>=Sn.length&&yr()}var Rn=le(Sn,hn);Sn[Rn]=Ln}}}function Dt(){var hn=Zr.viewport,Ln=Zr.scissor_box;hn[0]=hn[1]=Ln[0]=Ln[1]=0,ar.viewportWidth=ar.framebufferWidth=ar.drawingBufferWidth=hn[2]=Ln[2]=Jt.drawingBufferWidth,ar.viewportHeight=ar.framebufferHeight=ar.drawingBufferHeight=hn[3]=Ln[3]=Jt.drawingBufferHeight}function Ht(){ar.tick+=1,ar.time=Nt(),Dt(),Ir.procs.poll()}function Bt(){cr.refresh(),Dt(),Ir.procs.refresh(),Ot&&Ot.update()}function Nt(){return(Ae()-kt)/1e3}if(gt=r(gt),!gt)return null;var Jt=gt.gl,hr=Jt.getContextAttributes();Jt.isContextLost();var Zt=t(Jt,gt);if(!Zt)return null;var cn=a(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},je=gt.cachedCode||{},Ge=Zt.extensions,Ot=Tr(Jt,Ge),kt=Ae(),or=Jt.drawingBufferWidth,$t=Jt.drawingBufferHeight,ar={tick:0,time:0,viewportWidth:or,viewportHeight:$t,framebufferWidth:or,framebufferHeight:$t,drawingBufferWidth:or,drawingBufferHeight:$t,pixelRatio:gt.pixelRatio},or={elements:null,primitive:4,count:-1,offset:0,instances:-1},rr=we(Jt,Ge),zt=o(Jt,dr,gt,function(hn){return gr.destroyBuffer(hn)}),vr=p(Jt,Ge,zt,dr),gr=z(Jt,Ge,rr,dr,zt,vr,or),Ar=F(Jt,cn,dr,gt),cr=O(Jt,Ge,rr,function(){Ir.procs.poll()},ar,dr,gt),Hr=de(Jt,Ge,rr,dr,gt),Rr=_(Jt,Ge,rr,cr,Hr,dr),Ir=$(Jt,cn,Ge,rr,zt,vr,cr,Rr,{},gr,Ar,or,ar,Ot,je,gt),cn=B(Jt,Rr,Ir.procs.poll,ar),Zr=Ir.next,An=Jt.canvas,Sn=[],br=[],Or=[],jr=[gt.onDestroy],zr=null;An&&(An.addEventListener("webglcontextlost",fr,!1),An.addEventListener("webglcontextrestored",yt,!1));var pn=Rr.setFBO=ot({framebuffer:xe.define.call(null,1,"framebuffer")});return Bt(),hr=ae(ot,{clear:function(hn){if("framebuffer"in hn)if(hn.framebuffer&&hn.framebuffer_reglType==="framebufferCube")for(var Ln=0;6>Ln;++Ln)pn(ae({framebuffer:hn.framebuffer.faces[Ln]},hn),bt);else pn(hn,bt);else bt(null,hn)},prop:xe.define.bind(null,1),context:xe.define.bind(null,2),this:xe.define.bind(null,3),draw:ot({}),buffer:function(hn){return zt.create(hn,34962,!1,!1)},elements:function(hn){return vr.create(hn,!1)},texture:cr.create2D,cube:cr.createCube,renderbuffer:Hr.create,framebuffer:Rr.create,framebufferCube:Rr.createCube,vao:gr.createVAO,attributes:hr,frame:Et,on:function(hn,Ln){var Rn;switch(hn){case"frame":return Et(Ln);case"lost":Rn=br;break;case"restore":Rn=Or;break;case"destroy":Rn=jr}return Rn.push(Ln),{cancel:function(){for(var Gn=0;Gn<Rn.length;++Gn)if(Rn[Gn]===Ln){Rn[Gn]=Rn[Rn.length-1],Rn.pop();break}}}},limits:rr,hasExtension:function(hn){return 0<=rr.extensions.indexOf(hn.toLowerCase())},read:cn,destroy:function(){Sn.length=0,yr(),An&&(An.removeEventListener("webglcontextlost",fr),An.removeEventListener("webglcontextrestored",yt)),Ar.clear(),Rr.clear(),Hr.clear(),gr.clear(),cr.clear(),vr.clear(),zt.clear(),Ot&&Ot.clear(),jr.forEach(function(hn){hn()})},_gl:Jt,_refresh:Bt,poll:function(){Ht(),Ot&&Ot.update()},now:Nt,stats:dr,getCachedCode:function(){return je},preloadCachedCode:function(hn){Object.entries(hn).forEach(function(Ln){je[Ln[0]]=Ln[1]})}}),gt.onDone(null,hr),hr}})},30456:function(H,G,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(33576),R=g.Buffer;function a(S,v){for(var d in S)v[d]=S[d]}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?H.exports=g:(a(g,G),G.Buffer=C);function C(S,v,d){return R(S,v,d)}C.prototype=Object.create(R.prototype),a(R,C),C.from=function(S,v,d){if(typeof S=="number")throw new TypeError("Argument must not be a number");return R(S,v,d)},C.alloc=function(S,v,d){if(typeof S!="number")throw new TypeError("Argument must be a number");var r=R(S);return v!==void 0?typeof d=="string"?r.fill(v,d):r.fill(v):r.fill(0),r},C.allocUnsafe=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return R(S)},C.allocUnsafeSlow=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(S)}},14500:function(H,G,e){var g=e(53664),R=e(64348),a=e(39640)(),C=e(2304),S=g("%TypeError%"),v=g("%Math.floor%");H.exports=function(r,t){if(typeof r!="function")throw new S("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new S("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,f=!0;if("length"in r&&C){var u=C(r,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(f=!1)}return(n||f||!i)&&(a?R(r,"length",t,!0,!0):R(r,"length",t)),r}},29936:function(H,G,e){H.exports=a;var g=e(61252).EventEmitter,R=e(6768);R(a,g),a.Readable=e(12348),a.Writable=e(11288),a.Duplex=e(15316),a.Transform=e(22477),a.PassThrough=e(27136),a.finished=e(15932),a.pipeline=e(38180),a.Stream=a;function a(){g.call(this)}a.prototype.pipe=function(C,S){var v=this;function d(l){C.writable&&C.write(l)===!1&&v.pause&&v.pause()}v.on("data",d);function r(){v.readable&&v.resume&&v.resume()}C.on("drain",r),!C._isStdio&&(!S||S.end!==!1)&&(v.on("end",i),v.on("close",n));var t=!1;function i(){t||(t=!0,C.end())}function n(){t||(t=!0,typeof C.destroy=="function"&&C.destroy())}function f(l){if(u(),g.listenerCount(this,"error")===0)throw l}v.on("error",f),C.on("error",f);function u(){v.removeListener("data",d),C.removeListener("drain",r),v.removeListener("end",i),v.removeListener("close",n),v.removeListener("error",f),C.removeListener("error",f),v.removeListener("end",u),v.removeListener("close",u),C.removeListener("close",u)}return v.on("end",u),v.on("close",u),C.on("close",u),C.emit("pipe",v),C}},92784:function(H){function G(v,d){v.prototype=Object.create(d.prototype),v.prototype.constructor=v,v.__proto__=d}var e={};function g(v,d,r){r||(r=Error);function t(n,f,u){return typeof d=="string"?d:d(n,f,u)}var i=function(n){G(f,n);function f(u,l,m){return n.call(this,t(u,l,m))||this}return f}(r);i.prototype.name=r.name,i.prototype.code=v,e[v]=i}function R(v,d){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(d," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(d," ").concat(v[0]," or ").concat(v[1]):"of ".concat(d," ").concat(v[0])}else return"of ".concat(d," ").concat(String(v))}function a(v,d,r){return v.substr(!r||r<0?0:+r,d.length)===d}function C(v,d,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-d.length,r)===d}function S(v,d,r){return typeof r!="number"&&(r=0),r+d.length>v.length?!1:v.indexOf(d,r)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,d){return'The value "'+d+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,d,r){var t;typeof d=="string"&&a(d,"not ")?(t="must not be",d=d.replace(/^not /,"")):t="must be";var i;if(C(v," argument"))i="The ".concat(v," ").concat(t," ").concat(R(d,"type"));else{var n=S(v,".")?"property":"argument";i='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(R(d,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),H.exports.i=e},15316:function(H,G,e){var g=e(4168),R=Object.keys||function(n){var f=[];for(var u in n)f.push(u);return f};H.exports=r;var a=e(12348),C=e(11288);e(6768)(r,a);for(var S=R(C.prototype),v=0;v<S.length;v++){var d=S[v];r.prototype[d]||(r.prototype[d]=C.prototype[d])}function r(n){if(!(this instanceof r))return new r(n);a.call(this,n),C.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||g.nextTick(i,this)}function i(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},27136:function(H,G,e){H.exports=R;var g=e(22477);e(6768)(R,g);function R(a){if(!(this instanceof R))return new R(a);g.call(this,a)}R.prototype._transform=function(a,C,S){S(null,a)}},12348:function(H,G,e){var g=e(4168);H.exports=s;var R;s.ReadableState=M,e(61252).EventEmitter;var a=function($,le){return $.listeners(le).length},C=e(4776),S=e(33576).Buffer,v=e.g.Uint8Array||function(){};function d(K){return S.from(K)}function r(K){return S.isBuffer(K)||K instanceof v}var t=e(19768),i;t&&t.debuglog?i=t.debuglog("stream"):i=function(){};var n=e(47264),f=e(55324),u=e(24888),l=u.getHighWaterMark,m=e(92784).i,c=m.ERR_INVALID_ARG_TYPE,A=m.ERR_STREAM_PUSH_AFTER_EOF,h=m.ERR_METHOD_NOT_IMPLEMENTED,o=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,b,T;e(6768)(s,C);var P=f.errorOrDestroy,x=["error","close","destroy","pause","resume"];function L(K,$,le){if(typeof K.prependListener=="function")return K.prependListener($,le);!K._events||!K._events[$]?K.on($,le):Array.isArray(K._events[$])?K._events[$].unshift(le):K._events[$]=[le,K._events[$]]}function M(K,$,le){R=R||e(15316),K=K||{},typeof le!="boolean"&&(le=$ instanceof R),this.objectMode=!!K.objectMode,le&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=l(this,K,"readableHighWaterMark",le),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(p||(p=e(86032).o),this.decoder=new p(K.encoding),this.encoding=K.encoding)}function s(K){if(R=R||e(15316),!(this instanceof s))return new s(K);var $=this instanceof R;this._readableState=new M(K,this,$),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),C.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),s.prototype.destroy=f.destroy,s.prototype._undestroy=f.undestroy,s.prototype._destroy=function(K,$){$(K)},s.prototype.push=function(K,$){var le=this._readableState,ae;return le.objectMode?ae=!0:typeof K=="string"&&($=$||le.defaultEncoding,$!==le.encoding&&(K=S.from(K,$),$=""),ae=!0),E(this,K,$,!1,ae)},s.prototype.unshift=function(K){return E(this,K,null,!0,!1)};function E(K,$,le,ae,he){i("readableAddChunk",$);var xe=K._readableState;if($===null)xe.reading=!1,F(K,xe);else{var Me;if(he||(Me=O(xe,$)),Me)P(K,Me);else if(xe.objectMode||$&&$.length>0)if(typeof $!="string"&&!xe.objectMode&&Object.getPrototypeOf($)!==S.prototype&&($=d($)),ae)xe.endEmitted?P(K,new o):w(K,xe,$,!0);else if(xe.ended)P(K,new A);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!le?($=xe.decoder.write($),xe.objectMode||$.length!==0?w(K,xe,$,!1):V(K,xe)):w(K,xe,$,!1)}else ae||(xe.reading=!1,V(K,xe))}return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function w(K,$,le,ae){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,K.emit("data",le)):($.length+=$.objectMode?1:le.length,ae?$.buffer.unshift(le):$.buffer.push(le),$.needReadable&&B(K)),V(K,$)}function O(K,$){var le;return!r($)&&typeof $!="string"&&$!==void 0&&!K.objectMode&&(le=new c("chunk",["string","Buffer","Uint8Array"],$)),le}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(K){p||(p=e(86032).o);var $=new p(K);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ae="";le!==null;)ae+=$.write(le.data),le=le.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};var _=1073741824;function U(K){return K>=_?K=_:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}function z(K,$){return K<=0||$.length===0&&$.ended?0:$.objectMode?1:K!==K?$.flowing&&$.length?$.buffer.head.data.length:$.length:(K>$.highWaterMark&&($.highWaterMark=U(K)),K<=$.length?K:$.ended?$.length:($.needReadable=!0,0))}s.prototype.read=function(K){i("read",K),K=parseInt(K,10);var $=this._readableState,le=K;if(K!==0&&($.emittedReadable=!1),K===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return i("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?Y(this):B(this),null;if(K=z(K,$),K===0&&$.ended)return $.length===0&&Y(this),null;var ae=$.needReadable;i("need readable",ae),($.length===0||$.length-K<$.highWaterMark)&&(ae=!0,i("length less than watermark",ae)),$.ended||$.reading?(ae=!1,i("reading or ended",ae)):ae&&(i("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(K=z(le,$)));var he;return K>0?he=re(K,$):he=null,he===null?($.needReadable=$.length<=$.highWaterMark,K=0):($.length-=K,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),le!==K&&$.ended&&Y(this)),he!==null&&this.emit("data",he),he};function F(K,$){if(i("onEofChunk"),!$.ended){if($.decoder){var le=$.decoder.end();le&&le.length&&($.buffer.push(le),$.length+=$.objectMode?1:le.length)}$.ended=!0,$.sync?B(K):($.needReadable=!1,$.emittedReadable||($.emittedReadable=!0,N(K)))}}function B(K){var $=K._readableState;i("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(i("emitReadable",$.flowing),$.emittedReadable=!0,g.nextTick(N,K))}function N(K){var $=K._readableState;i("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&($.length||$.ended)&&(K.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,Z(K)}function V(K,$){$.readingMore||($.readingMore=!0,g.nextTick(X,K,$))}function X(K,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var le=$.length;if(i("maybeReadMore read 0"),K.read(0),le===$.length)break}$.readingMore=!1}s.prototype._read=function(K){P(this,new h("_read()"))},s.prototype.pipe=function(K,$){var le=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=K;break;case 1:ae.pipes=[ae.pipes,K];break;default:ae.pipes.push(K);break}ae.pipesCount+=1,i("pipe count=%d opts=%j",ae.pipesCount,$);var he=(!$||$.end!==!1)&&K!==g.stdout&&K!==g.stderr,xe=he?Ae:Fe;ae.endEmitted?g.nextTick(xe):le.once("end",xe),K.on("unpipe",Me);function Me(He,st){i("onunpipe"),He===le&&st&&st.hasUnpiped===!1&&(st.hasUnpiped=!0,Ee())}function Ae(){i("onend"),K.end()}var ke=q(le);K.on("drain",ke);var we=!1;function Ee(){i("cleanup"),K.removeListener("close",Ue),K.removeListener("finish",Ve),K.removeListener("drain",ke),K.removeListener("error",Le),K.removeListener("unpipe",Me),le.removeListener("end",Ae),le.removeListener("end",Fe),le.removeListener("data",be),we=!0,ae.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&ke()}le.on("data",be);function be(He){i("ondata");var st=K.write(He);i("dest.write",st),st===!1&&((ae.pipesCount===1&&ae.pipes===K||ae.pipesCount>1&&ue(ae.pipes,K)!==-1)&&!we&&(i("false write response, pause",ae.awaitDrain),ae.awaitDrain++),le.pause())}function Le(He){i("onerror",He),Fe(),K.removeListener("error",Le),a(K,"error")===0&&P(K,He)}L(K,"error",Le);function Ue(){K.removeListener("finish",Ve),Fe()}K.once("close",Ue);function Ve(){i("onfinish"),K.removeListener("close",Ue),Fe()}K.once("finish",Ve);function Fe(){i("unpipe"),le.unpipe(K)}return K.emit("pipe",le),ae.flowing||(i("pipe resume"),le.resume()),K};function q(K){return function(){var le=K._readableState;i("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&a(K,"data")&&(le.flowing=!0,Z(K))}}s.prototype.unpipe=function(K){var $=this._readableState,le={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return K&&K!==$.pipes?this:(K||(K=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,K&&K.emit("unpipe",this,le),this);if(!K){var ae=$.pipes,he=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var xe=0;xe<he;xe++)ae[xe].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=ue($.pipes,K);return Me===-1?this:($.pipes.splice(Me,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),K.emit("unpipe",this,le),this)},s.prototype.on=function(K,$){var le=C.prototype.on.call(this,K,$),ae=this._readableState;return K==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):K==="readable"&&!ae.endEmitted&&!ae.readableListening&&(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,i("on readable",ae.length,ae.reading),ae.length?B(this):ae.reading||g.nextTick(ne,this)),le},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(K,$){var le=C.prototype.removeListener.call(this,K,$);return K==="readable"&&g.nextTick(te,this),le},s.prototype.removeAllListeners=function(K){var $=C.prototype.removeAllListeners.apply(this,arguments);return(K==="readable"||K===void 0)&&g.nextTick(te,this),$};function te(K){var $=K._readableState;$.readableListening=K.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:K.listenerCount("data")>0&&K.resume()}function ne(K){i("readable nexttick read 0"),K.read(0)}s.prototype.resume=function(){var K=this._readableState;return K.flowing||(i("resume"),K.flowing=!K.readableListening,ce(this,K)),K.paused=!1,this};function ce(K,$){$.resumeScheduled||($.resumeScheduled=!0,g.nextTick(Q,K,$))}function Q(K,$){i("resume",$.reading),$.reading||K.read(0),$.resumeScheduled=!1,K.emit("resume"),Z(K),$.flowing&&!$.reading&&K.read(0)}s.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(K){var $=K._readableState;for(i("flow",$.flowing);$.flowing&&K.read()!==null;);}s.prototype.wrap=function(K){var $=this,le=this._readableState,ae=!1;K.on("end",function(){if(i("wrapped end"),le.decoder&&!le.ended){var Me=le.decoder.end();Me&&Me.length&&$.push(Me)}$.push(null)}),K.on("data",function(Me){if(i("wrapped data"),le.decoder&&(Me=le.decoder.write(Me)),!(le.objectMode&&Me==null)&&!(!le.objectMode&&(!Me||!Me.length))){var Ae=$.push(Me);Ae||(ae=!0,K.pause())}});for(var he in K)this[he]===void 0&&typeof K[he]=="function"&&(this[he]=function(Ae){return function(){return K[Ae].apply(K,arguments)}}(he));for(var xe=0;xe<x.length;xe++)K.on(x[xe],this.emit.bind(this,x[xe]));return this._read=function(Me){i("wrapped _read",Me),ae&&(ae=!1,K.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e(60328)),b(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),s._fromList=re,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re(K,$){if($.length===0)return null;var le;return $.objectMode?le=$.buffer.shift():!K||K>=$.length?($.decoder?le=$.buffer.join(""):$.buffer.length===1?le=$.buffer.first():le=$.buffer.concat($.length),$.buffer.clear()):le=$.buffer.consume(K,$.decoder),le}function Y(K){var $=K._readableState;i("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,g.nextTick(oe,$,K))}function oe(K,$){if(i("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&K.length===0&&(K.endEmitted=!0,$.readable=!1,$.emit("end"),K.autoDestroy)){var le=$._writableState;(!le||le.autoDestroy&&le.finished)&&$.destroy()}}typeof Symbol=="function"&&(s.from=function(K,$){return T===void 0&&(T=e(90555)),T(s,K,$)});function ue(K,$){for(var le=0,ae=K.length;le<ae;le++)if(K[le]===$)return le;return-1}},22477:function(H,G,e){H.exports=r;var g=e(92784).i,R=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_MULTIPLE_CALLBACK,C=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function d(n,f){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new a);u.writechunk=null,u.writecb=null,f!=null&&this.push(f),l(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,u){i(n,f,u)}):i(this,null,null)}r.prototype.push=function(n,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,f)},r.prototype._transform=function(n,f,u){u(new R("_transform()"))},r.prototype._write=function(n,f,u){var l=this._transformState;if(l.writecb=u,l.writechunk=n,l.writeencoding=f,!l.transforming){var m=this._readableState;(l.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},r.prototype._read=function(n){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},r.prototype._destroy=function(n,f){v.prototype._destroy.call(this,n,function(u){f(u)})};function i(n,f,u){if(f)return n.emit("error",f);if(u!=null&&n.push(u),n._writableState.length)throw new S;if(n._transformState.transforming)throw new C;return n.push(null)}},11288:function(H,G,e){var g=e(4168);H.exports=M;function R(Z){var re=this;this.next=null,this.entry=null,this.finish=function(){Q(re,Z)}}var a;M.WritableState=x;var C={deprecate:e(96656)},S=e(4776),v=e(33576).Buffer,d=e.g.Uint8Array||function(){};function r(Z){return v.from(Z)}function t(Z){return v.isBuffer(Z)||Z instanceof d}var i=e(55324),n=e(24888),f=n.getHighWaterMark,u=e(92784).i,l=u.ERR_INVALID_ARG_TYPE,m=u.ERR_METHOD_NOT_IMPLEMENTED,c=u.ERR_MULTIPLE_CALLBACK,A=u.ERR_STREAM_CANNOT_PIPE,h=u.ERR_STREAM_DESTROYED,o=u.ERR_STREAM_NULL_VALUES,p=u.ERR_STREAM_WRITE_AFTER_END,b=u.ERR_UNKNOWN_ENCODING,T=i.errorOrDestroy;e(6768)(M,S);function P(){}function x(Z,re,Y){a=a||e(15316),Z=Z||{},typeof Y!="boolean"&&(Y=re instanceof a),this.objectMode=!!Z.objectMode,Y&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=f(this,Z,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var oe=Z.decodeStrings===!1;this.decodeStrings=!oe,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){F(re,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new R(this)}x.prototype.getBuffer=function(){for(var re=this.bufferedRequest,Y=[];re;)Y.push(re),re=re.next;return Y},function(){try{Object.defineProperty(x.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var L;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(re){return L.call(this,re)?!0:this!==M?!1:re&&re._writableState instanceof x}})):L=function(re){return re instanceof this};function M(Z){a=a||e(15316);var re=this instanceof a;if(!re&&!L.call(M,this))return new M(Z);this._writableState=new x(Z,this,re),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),S.call(this)}M.prototype.pipe=function(){T(this,new A)};function s(Z,re){var Y=new p;T(Z,Y),g.nextTick(re,Y)}function E(Z,re,Y,oe){var ue;return Y===null?ue=new o:typeof Y!="string"&&!re.objectMode&&(ue=new l("chunk",["string","Buffer"],Y)),ue?(T(Z,ue),g.nextTick(oe,ue),!1):!0}M.prototype.write=function(Z,re,Y){var oe=this._writableState,ue=!1,K=!oe.objectMode&&t(Z);return K&&!v.isBuffer(Z)&&(Z=r(Z)),typeof re=="function"&&(Y=re,re=null),K?re="buffer":re||(re=oe.defaultEncoding),typeof Y!="function"&&(Y=P),oe.ending?s(this,Y):(K||E(this,oe,Z,Y))&&(oe.pendingcb++,ue=O(this,oe,K,Z,re,Y)),ue},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&V(this,Z))},M.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=re.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((re+"").toLowerCase())>-1))throw new b(re);return this._writableState.defaultEncoding=re,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function w(Z,re,Y){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof re=="string"&&(re=v.from(re,Y)),re}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(Z,re,Y,oe,ue,K){if(!Y){var $=w(re,oe,ue);oe!==$&&(Y=!0,ue="buffer",oe=$)}var le=re.objectMode?1:oe.length;re.length+=le;var ae=re.length<re.highWaterMark;if(ae||(re.needDrain=!0),re.writing||re.corked){var he=re.lastBufferedRequest;re.lastBufferedRequest={chunk:oe,encoding:ue,isBuf:Y,callback:K,next:null},he?he.next=re.lastBufferedRequest:re.bufferedRequest=re.lastBufferedRequest,re.bufferedRequestCount+=1}else _(Z,re,!1,le,oe,ue,K);return ae}function _(Z,re,Y,oe,ue,K,$){re.writelen=oe,re.writecb=$,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new h("write")):Y?Z._writev(ue,re.onwrite):Z._write(ue,K,re.onwrite),re.sync=!1}function U(Z,re,Y,oe,ue){--re.pendingcb,Y?(g.nextTick(ue,oe),g.nextTick(ne,Z,re),Z._writableState.errorEmitted=!0,T(Z,oe)):(ue(oe),Z._writableState.errorEmitted=!0,T(Z,oe),ne(Z,re))}function z(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function F(Z,re){var Y=Z._writableState,oe=Y.sync,ue=Y.writecb;if(typeof ue!="function")throw new c;if(z(Y),re)U(Z,Y,oe,re,ue);else{var K=X(Y)||Z.destroyed;!K&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&V(Z,Y),oe?g.nextTick(B,Z,Y,K,ue):B(Z,Y,K,ue)}}function B(Z,re,Y,oe){Y||N(Z,re),re.pendingcb--,oe(),ne(Z,re)}function N(Z,re){re.length===0&&re.needDrain&&(re.needDrain=!1,Z.emit("drain"))}function V(Z,re){re.bufferProcessing=!0;var Y=re.bufferedRequest;if(Z._writev&&Y&&Y.next){var oe=re.bufferedRequestCount,ue=new Array(oe),K=re.corkedRequestsFree;K.entry=Y;for(var $=0,le=!0;Y;)ue[$]=Y,Y.isBuf||(le=!1),Y=Y.next,$+=1;ue.allBuffers=le,_(Z,re,!0,re.length,ue,"",K.finish),re.pendingcb++,re.lastBufferedRequest=null,K.next?(re.corkedRequestsFree=K.next,K.next=null):re.corkedRequestsFree=new R(re),re.bufferedRequestCount=0}else{for(;Y;){var ae=Y.chunk,he=Y.encoding,xe=Y.callback,Me=re.objectMode?1:ae.length;if(_(Z,re,!1,Me,ae,he,xe),Y=Y.next,re.bufferedRequestCount--,re.writing)break}Y===null&&(re.lastBufferedRequest=null)}re.bufferedRequest=Y,re.bufferProcessing=!1}M.prototype._write=function(Z,re,Y){Y(new m("_write()"))},M.prototype._writev=null,M.prototype.end=function(Z,re,Y){var oe=this._writableState;return typeof Z=="function"?(Y=Z,Z=null,re=null):typeof re=="function"&&(Y=re,re=null),Z!=null&&this.write(Z,re),oe.corked&&(oe.corked=1,this.uncork()),oe.ending||ce(this,oe,Y),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function X(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function q(Z,re){Z._final(function(Y){re.pendingcb--,Y&&T(Z,Y),re.prefinished=!0,Z.emit("prefinish"),ne(Z,re)})}function te(Z,re){!re.prefinished&&!re.finalCalled&&(typeof Z._final=="function"&&!re.destroyed?(re.pendingcb++,re.finalCalled=!0,g.nextTick(q,Z,re)):(re.prefinished=!0,Z.emit("prefinish")))}function ne(Z,re){var Y=X(re);if(Y&&(te(Z,re),re.pendingcb===0&&(re.finished=!0,Z.emit("finish"),re.autoDestroy))){var oe=Z._readableState;(!oe||oe.autoDestroy&&oe.endEmitted)&&Z.destroy()}return Y}function ce(Z,re,Y){re.ending=!0,ne(Z,re),Y&&(re.finished?g.nextTick(Y):Z.once("finish",Y)),re.ended=!0,Z.writable=!1}function Q(Z,re,Y){var oe=Z.entry;for(Z.entry=null;oe;){var ue=oe.callback;re.pendingcb--,ue(Y),oe=oe.next}re.corkedRequestsFree.next=Z}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(re){this._writableState&&(this._writableState.destroyed=re)}}),M.prototype.destroy=i.destroy,M.prototype._undestroy=i.undestroy,M.prototype._destroy=function(Z,re){re(Z)}},60328:function(H,G,e){var g=e(4168),R;function a(o,p,b){return p in o?Object.defineProperty(o,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):o[p]=b,o}var C=e(15932),S=Symbol("lastResolve"),v=Symbol("lastReject"),d=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),i=Symbol("handlePromise"),n=Symbol("stream");function f(o,p){return{value:o,done:p}}function u(o){var p=o[S];if(p!==null){var b=o[n].read();b!==null&&(o[t]=null,o[S]=null,o[v]=null,p(f(b,!1)))}}function l(o){g.nextTick(u,o)}function m(o,p){return function(b,T){o.then(function(){if(p[r]){b(f(void 0,!0));return}p[i](b,T)},T)}}var c=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((R={get stream(){return this[n]},next:function(){var p=this,b=this[d];if(b!==null)return Promise.reject(b);if(this[r])return Promise.resolve(f(void 0,!0));if(this[n].destroyed)return new Promise(function(L,M){g.nextTick(function(){p[d]?M(p[d]):L(f(void 0,!0))})});var T=this[t],P;if(T)P=new Promise(m(T,this));else{var x=this[n].read();if(x!==null)return Promise.resolve(f(x,!1));P=new Promise(this[i])}return this[t]=P,P}},a(R,Symbol.asyncIterator,function(){return this}),a(R,"return",function(){var p=this;return new Promise(function(b,T){p[n].destroy(null,function(P){if(P){T(P);return}b(f(void 0,!0))})})}),R),c),h=function(p){var b,T=Object.create(A,(b={},a(b,n,{value:p,writable:!0}),a(b,S,{value:null,writable:!0}),a(b,v,{value:null,writable:!0}),a(b,d,{value:null,writable:!0}),a(b,r,{value:p._readableState.endEmitted,writable:!0}),a(b,i,{value:function(x,L){var M=T[n].read();M?(T[t]=null,T[S]=null,T[v]=null,x(f(M,!1))):(T[S]=x,T[v]=L)},writable:!0}),b));return T[t]=null,C(p,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=T[v];x!==null&&(T[t]=null,T[S]=null,T[v]=null,x(P)),T[d]=P;return}var L=T[S];L!==null&&(T[t]=null,T[S]=null,T[v]=null,L(f(void 0,!0))),T[r]=!0}),p.on("readable",l.bind(null,T)),T};H.exports=h},47264:function(H,G,e){function g(u,l){var m=Object.keys(u);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);l&&(c=c.filter(function(A){return Object.getOwnPropertyDescriptor(u,A).enumerable})),m.push.apply(m,c)}return m}function R(u){for(var l=1;l<arguments.length;l++){var m=arguments[l]!=null?arguments[l]:{};l%2?g(Object(m),!0).forEach(function(c){a(u,c,m[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(m)):g(Object(m)).forEach(function(c){Object.defineProperty(u,c,Object.getOwnPropertyDescriptor(m,c))})}return u}function a(u,l,m){return l in u?Object.defineProperty(u,l,{value:m,enumerable:!0,configurable:!0,writable:!0}):u[l]=m,u}function C(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function S(u,l){for(var m=0;m<l.length;m++){var c=l[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function v(u,l,m){return l&&S(u.prototype,l),m&&S(u,m),u}var d=e(33576),r=d.Buffer,t=e(21576),i=t.inspect,n=i&&i.custom||"inspect";function f(u,l,m){r.prototype.copy.call(u,l,m)}H.exports=function(){function u(){C(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(m){var c={data:m,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(m){var c={data:m,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var c=this.head,A=""+c.data;c=c.next;)A+=m+c.data;return A}},{key:"concat",value:function(m){if(this.length===0)return r.alloc(0);for(var c=r.allocUnsafe(m>>>0),A=this.head,h=0;A;)f(A.data,c,h),h+=A.data.length,A=A.next;return c}},{key:"consume",value:function(m,c){var A;return m<this.head.data.length?(A=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?A=this.shift():A=c?this._getString(m):this._getBuffer(m),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var c=this.head,A=1,h=c.data;for(m-=h.length;c=c.next;){var o=c.data,p=m>o.length?o.length:m;if(p===o.length?h+=o:h+=o.slice(0,m),m-=p,m===0){p===o.length?(++A,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=o.slice(p));break}++A}return this.length-=A,h}},{key:"_getBuffer",value:function(m){var c=r.allocUnsafe(m),A=this.head,h=1;for(A.data.copy(c),m-=A.data.length;A=A.next;){var o=A.data,p=m>o.length?o.length:m;if(o.copy(c,c.length-m,0,p),m-=p,m===0){p===o.length?(++h,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=o.slice(p));break}++h}return this.length-=h,c}},{key:n,value:function(m,c){return i(this,R({},c,{depth:0,customInspect:!1}))}}]),u}()},55324:function(H,G,e){var g=e(4168);function R(r,t){var i=this,n=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return n||f?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,r)):g.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?i._writableState?i._writableState.errorEmitted?g.nextTick(C,i):(i._writableState.errorEmitted=!0,g.nextTick(a,i,u)):g.nextTick(a,i,u):t?(g.nextTick(C,i),t(u)):g.nextTick(C,i)}),this)}function a(r,t){v(r,t),C(r)}function C(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function S(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function d(r,t){var i=r._readableState,n=r._writableState;i&&i.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}H.exports={destroy:R,undestroy:S,errorOrDestroy:d}},15932:function(H,G,e){var g=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function R(v){var d=!1;return function(){if(!d){d=!0;for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];v.apply(this,t)}}}function a(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function S(v,d,r){if(typeof d=="function")return S(v,null,d);d||(d={}),r=R(r||a);var t=d.readable||d.readable!==!1&&v.readable,i=d.writable||d.writable!==!1&&v.writable,n=function(){v.writable||u()},f=v._writableState&&v._writableState.finished,u=function(){i=!1,f=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,m=function(){t=!1,l=!0,i||r.call(v)},c=function(p){r.call(v,p)},A=function(){var p;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(p=new g),r.call(v,p);if(i&&!f)return(!v._writableState||!v._writableState.ended)&&(p=new g),r.call(v,p)},h=function(){v.req.on("finish",u)};return C(v)?(v.on("complete",u),v.on("abort",A),v.req?h():v.on("request",h)):i&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",m),v.on("finish",u),d.error!==!1&&v.on("error",c),v.on("close",A),function(){v.removeListener("complete",u),v.removeListener("abort",A),v.removeListener("request",h),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",m),v.removeListener("error",c),v.removeListener("close",A)}}H.exports=S},90555:function(H){H.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(H,G,e){var g;function R(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var a=e(92784).i,C=a.ERR_MISSING_ARGS,S=a.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function d(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,m,c){c=R(c);var A=!1;u.on("close",function(){A=!0}),g===void 0&&(g=e(15932)),g(u,{readable:l,writable:m},function(o){if(o)return c(o);A=!0,c()});var h=!1;return function(o){if(!A&&!h){if(h=!0,d(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();c(o||new S("pipe"))}}}function t(u){u()}function i(u,l){return u.pipe(l)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function f(){for(var u=arguments.length,l=new Array(u),m=0;m<u;m++)l[m]=arguments[m];var c=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new C("streams");var A,h=l.map(function(o,p){var b=p<l.length-1,T=p>0;return r(o,b,T,function(P){A||(A=P),P&&h.forEach(t),!b&&(h.forEach(t),c(A))})});return l.reduce(i)}H.exports=f},24888:function(H,G,e){var g=e(92784).i.ERR_INVALID_OPT_VALUE;function R(C,S,v){return C.highWaterMark!=null?C.highWaterMark:S?C[v]:null}function a(C,S,v,d){var r=R(S,d,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=d?v:"highWaterMark";throw new g(t,r)}return Math.floor(r)}return C.objectMode?16:16384}H.exports={getHighWaterMark:a}},4776:function(H,G,e){H.exports=e(61252).EventEmitter},86032:function(H,G,e){var g=e(30456).Buffer,R=g.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(h){if(!h)return"utf8";for(var o;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(o)return;h=(""+h).toLowerCase(),o=!0}}function C(h){var o=a(h);if(typeof o!="string"&&(g.isEncoding===R||!R(h)))throw new Error("Unknown encoding: "+h);return o||h}G.o=S;function S(h){this.encoding=C(h);var o;switch(this.encoding){case"utf16le":this.text=f,this.end=u,o=4;break;case"utf8":this.fillLast=t,o=4;break;case"base64":this.text=l,this.end=m,o=3;break;default:this.write=c,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(o)}S.prototype.write=function(h){if(h.length===0)return"";var o,p;if(this.lastNeed){if(o=this.fillLast(h),o===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<h.length?o?o+this.text(h,p):this.text(h,p):o||""},S.prototype.end=n,S.prototype.text=i,S.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function d(h,o,p){var b=o.length-1;if(b<p)return 0;var T=v(o[b]);return T>=0?(T>0&&(h.lastNeed=T-1),T):--b<p||T===-2?0:(T=v(o[b]),T>=0?(T>0&&(h.lastNeed=T-2),T):--b<p||T===-2?0:(T=v(o[b]),T>=0?(T>0&&(T===2?T=0:h.lastNeed=T-3),T):0))}function r(h,o,p){if((o[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return h.lastNeed=2,""}}function t(h){var o=this.lastTotal-this.lastNeed,p=r(this,h);if(p!==void 0)return p;if(this.lastNeed<=h.length)return h.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,o,0,h.length),this.lastNeed-=h.length}function i(h,o){var p=d(this,h,o);if(!this.lastNeed)return h.toString("utf8",o);this.lastTotal=p;var b=h.length-(p-this.lastNeed);return h.copy(this.lastChar,0,b),h.toString("utf8",o,b)}function n(h){var o=h&&h.length?this.write(h):"";return this.lastNeed?o+"":o}function f(h,o){if((h.length-o)%2===0){var p=h.toString("utf16le",o);if(p){var b=p.charCodeAt(p.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",o,h.length-1)}function u(h){var o=h&&h.length?this.write(h):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,p)}return o}function l(h,o){var p=(h.length-o)%3;return p===0?h.toString("base64",o):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",o,h.length-p))}function m(h){var o=h&&h.length?this.write(h):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function c(h){return h.toString(this.encoding)}function A(h){return h&&h.length?this.write(h):""}},55619:function(H,G,e){var g=e(45408),R=e(86844)("stream-parser");H.exports=d;var a=-1,C=0,S=1,v=2;function d(h){var o=h&&typeof h._transform=="function",p=h&&typeof h._write=="function";if(!o&&!p)throw new Error("must pass a Writable or Transform stream in");R("extending Parser into stream"),h._bytes=t,h._skipBytes=i,o&&(h._passthrough=n),o?h._transform=u:h._write=f}function r(h){R("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=a,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function t(h,o){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||r(this),R("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=C}function i(h,o){g(!this._parserCallback,'there is already a "callback" set!'),g(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||r(this),R("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=S}function n(h,o){g(!this._parserCallback,'There is already a "callback" set!'),g(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||r(this),R("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=o,this._parserState=v}function f(h,o,p){this._parserInit||r(this),R("write(%o bytes)",h.length),typeof o=="function"&&(p=o),c(this,h,null,p)}function u(h,o,p){this._parserInit||r(this),R("transform(%o bytes)",h.length),typeof o!="function"&&(o=this._parserOutput),c(this,h,o,p)}function l(h,o,p,b){return h._parserBytesLeft<=0?b(new Error("got data but not currently parsing anything")):o.length<=h._parserBytesLeft?function(){return m(h,o,p,b)}:function(){var T=o.slice(0,h._parserBytesLeft);return m(h,T,p,function(P){if(P)return b(P);if(o.length>T.length)return function(){return l(h,o.slice(T.length),p,b)}})}}function m(h,o,p,b){if(h._parserBytesLeft-=o.length,R("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===C?(h._parserBuffers.push(o),h._parserBuffered+=o.length):h._parserState===v&&p(o),h._parserBytesLeft===0){var T=h._parserCallback;if(T&&h._parserState===C&&h._parserBuffers.length>1&&(o=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==C&&(o=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=a,h._parserBuffers.splice(0),T){var P=[];o&&P.push(o),p&&P.push(p);var x=T.length>P.length;x&&P.push(A(b));var L=T.apply(h,P);if(!x||b===L)return b}}else return b}var c=A(l);function A(h){return function(){for(var o=h.apply(this,arguments);typeof o=="function";)o=o();return o}}},86844:function(H,G,e){var g=e(4168);G=H.exports=e(89416),G.log=C,G.formatArgs=a,G.save=S,G.load=v,G.useColors=R,G.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:d(),G.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function R(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}G.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function a(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+G.humanize(this.diff),!!t){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var n=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(f=n))}),r.splice(f,0,i)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function S(r){try{r==null?G.storage.removeItem("debug"):G.storage.debug=r}catch{}}function v(){var r;try{r=G.storage.debug}catch{}return!r&&typeof g<"u"&&"env"in g&&(r=g.env.DEBUG),r}G.enable(v());function d(){try{return window.localStorage}catch{}}},89416:function(H,G,e){G=H.exports=a.debug=a.default=a,G.coerce=d,G.disable=S,G.enable=C,G.enabled=v,G.humanize=e(93744),G.names=[],G.skips=[],G.formatters={};var g;function R(r){var t=0,i;for(i in r)t=(t<<5)-t+r.charCodeAt(i),t|=0;return G.colors[Math.abs(t)%G.colors.length]}function a(r){function t(){if(t.enabled){var i=t,n=+new Date,f=n-(g||n);i.diff=f,i.prev=g,i.curr=n,g=n;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=G.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var m=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(A,h){if(A==="%%")return A;m++;var o=G.formatters[h];if(typeof o=="function"){var p=u[m];A=o.call(i,p),u.splice(m,1),m--}return A}),G.formatArgs.call(i,u);var c=t.log||G.log||console.log.bind(console);c.apply(i,u)}}return t.namespace=r,t.enabled=G.enabled(r),t.useColors=G.useColors(),t.color=R(r),typeof G.init=="function"&&G.init(t),t}function C(r){G.save(r),G.names=[],G.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),i=t.length,n=0;n<i;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?G.skips.push(new RegExp("^"+r.substr(1)+"$")):G.names.push(new RegExp("^"+r+"$")))}function S(){G.enable("")}function v(r){var t,i;for(t=0,i=G.skips.length;t<i;t++)if(G.skips[t].test(r))return!1;for(t=0,i=G.names.length;t<i;t++)if(G.names[t].test(r))return!0;return!1}function d(r){return r instanceof Error?r.stack||r.message:r}},93744:function(H){var G=1e3,e=G*60,g=e*60,R=g*24,a=R*365.25;H.exports=function(r,t){t=t||{};var i=typeof r;if(i==="string"&&r.length>0)return C(r);if(i==="number"&&isNaN(r)===!1)return t.long?v(r):S(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function C(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*a;case"days":case"day":case"d":return i*R;case"hours":case"hour":case"hrs":case"hr":case"h":return i*g;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*G;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function S(r){return r>=R?Math.round(r/R)+"d":r>=g?Math.round(r/g)+"h":r>=e?Math.round(r/e)+"m":r>=G?Math.round(r/G)+"s":r+"ms"}function v(r){return d(r,R,"day")||d(r,g,"hour")||d(r,e,"minute")||d(r,G,"second")||r+" ms"}function d(r,t,i){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+i:Math.ceil(r/t)+" "+i+"s"}},39956:function(H,G,e){var g=e(32868);H.exports=function(a,C,S){if(a==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");S?(typeof S=="string"||Array.isArray(S))&&(S={ignore:S}):S={},S.escape==null&&(S.escape=!0),S.ignore==null?S.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof S.ignore=="string"&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=g.parse(a,{flat:!0,brackets:S.ignore}),d=v[0],r=d.split(C);if(S.escape){for(var t=[],i=0;i<r.length;i++){var n=r[i],f=r[i+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+C+f),i++):t.push(n)}r=t}for(var i=0;i<r.length;i++)v[0]=r[i],r[i]=g.stringify(v,{flat:!0});return r}},78484:function(H){H.exports=G;function G(e){for(var g=e.length,R=new Array(g),a=new Array(g),C=new Array(g),S=new Array(g),v=new Array(g),d=new Array(g),r=0;r<g;++r)R[r]=-1,a[r]=0,C[r]=!1,S[r]=0,v[r]=-1,d[r]=[];var t=0,i=[],n=[];function f(c){var A=[c],h=[c];for(R[c]=a[c]=t,C[c]=!0,t+=1;h.length>0;){c=h[h.length-1];var o=e[c];if(S[c]<o.length){for(var p=S[c];p<o.length;++p){var b=o[p];if(R[b]<0){R[b]=a[b]=t,C[b]=!0,t+=1,A.push(b),h.push(b);break}else C[b]&&(a[c]=Math.min(a[c],a[b])|0);v[b]>=0&&d[c].push(v[b])}S[c]=p}else{if(a[c]===R[c]){for(var T=[],P=[],x=0,p=A.length-1;p>=0;--p){var L=A[p];if(C[L]=!1,T.push(L),P.push(d[L]),x+=d[L].length,v[L]=i.length,L===c){A.length=p;break}}i.push(T);for(var M=new Array(x),p=0;p<P.length;p++)for(var s=0;s<P[p].length;s++)M[--x]=P[p][s];n.push(M)}h.pop()}}}for(var r=0;r<g;++r)R[r]<0&&f(r);for(var u,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(A,h){return A-h}),u=[l[0]];for(var m=1;m<l.length;m++)l[m]!==l[m-1]&&u.push(l[m]);n[r]=u}}return{components:i,adjacencyList:n}}},92848:function(H,G,e){e.r(G);var g=function(){function r(t,i){var n=[],f=!0,u=!1,l=void 0;try{for(var m=t[Symbol.iterator](),c;!(f=(c=m.next()).done)&&(n.push(c.value),!(i&&n.length===i));f=!0);}catch(A){u=!0,l=A}finally{try{!f&&m.return&&m.return()}finally{if(u)throw l}}return n}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=Math.PI*2,a=function(t,i,n,f,u,l,m){var c=t.x,A=t.y;c*=i,A*=n;var h=f*c-u*A,o=u*c+f*A;return{x:h+l,y:o+m}},C=function(t,i){var n=i===1.5707963267948966?.551915024494:i===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(i/4),f=Math.cos(t),u=Math.sin(t),l=Math.cos(t+i),m=Math.sin(t+i);return[{x:f-u*n,y:u+f*n},{x:l+m*n,y:m-l*n},{x:l,y:m}]},S=function(t,i,n,f){var u=t*f-i*n<0?-1:1,l=t*n+i*f;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,i,n,f,u,l,m,c,A,h,o,p){var b=Math.pow(u,2),T=Math.pow(l,2),P=Math.pow(o,2),x=Math.pow(p,2),L=b*T-b*x-T*P;L<0&&(L=0),L/=b*x+T*P,L=Math.sqrt(L)*(m===c?-1:1);var M=L*u/l*p,s=L*-l/u*o,E=h*M-A*s+(t+n)/2,w=A*M+h*s+(i+f)/2,O=(o-M)/u,_=(p-s)/l,U=(-o-M)/u,z=(-p-s)/l,F=S(1,0,O,_),B=S(O,_,U,z);return c===0&&B>0&&(B-=R),c===1&&B<0&&(B+=R),[E,w,F,B]},d=function(t){var i=t.px,n=t.py,f=t.cx,u=t.cy,l=t.rx,m=t.ry,c=t.xAxisRotation,A=c===void 0?0:c,h=t.largeArcFlag,o=h===void 0?0:h,p=t.sweepFlag,b=p===void 0?0:p,T=[];if(l===0||m===0)return[];var P=Math.sin(A*R/360),x=Math.cos(A*R/360),L=x*(i-f)/2+P*(n-u)/2,M=-P*(i-f)/2+x*(n-u)/2;if(L===0&&M===0)return[];l=Math.abs(l),m=Math.abs(m);var s=Math.pow(L,2)/Math.pow(l,2)+Math.pow(M,2)/Math.pow(m,2);s>1&&(l*=Math.sqrt(s),m*=Math.sqrt(s));var E=v(i,n,f,u,l,m,o,b,P,x,L,M),w=g(E,4),O=w[0],_=w[1],U=w[2],z=w[3],F=Math.abs(z)/(R/4);Math.abs(1-F)<1e-7&&(F=1);var B=Math.max(Math.ceil(F),1);z/=B;for(var N=0;N<B;N++)T.push(C(U,z)),U+=z;return T.map(function(V){var X=a(V[0],l,m,x,P,O,_),q=X.x,te=X.y,ne=a(V[1],l,m,x,P,O,_),ce=ne.x,Q=ne.y,Z=a(V[2],l,m,x,P,O,_),re=Z.x,Y=Z.y;return{x1:q,y1:te,x2:ce,y2:Q,x:re,y:Y}})};G.default=d},74840:function(H,G,e){var g=e(21984),R=e(49972),a=e(41976),C=e(53520),S=e(45408);H.exports=v;function v(d){if(Array.isArray(d)&&d.length===1&&typeof d[0]=="string"&&(d=d[0]),typeof d=="string"&&(S(C(d),"String is not an SVG path."),d=g(d)),S(Array.isArray(d),"Argument should be a string or an array of path segments."),d=R(d),d=a(d),!d.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,i=d.length;t<i;t++)for(var n=d[t].slice(1),f=0;f<n.length;f+=2)n[f+0]<r[0]&&(r[0]=n[f+0]),n[f+1]<r[1]&&(r[1]=n[f+1]),n[f+0]>r[2]&&(r[2]=n[f+0]),n[f+1]>r[3]&&(r[3]=n[f+1]);return r}},41976:function(H,G,e){H.exports=R;var g=e(92848);function R(S){for(var v,d=[],r=0,t=0,i=0,n=0,f=null,u=null,l=0,m=0,c=0,A=S.length;c<A;c++){var h=S[c],o=h[0];switch(o){case"M":i=h[1],n=h[2];break;case"A":var p=g({px:l,py:m,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!p.length)continue;for(var b=0,T;b<p.length;b++)T=p[b],h=["C",T.x1,T.y1,T.x2,T.y2,T.x,T.y],b<p.length-1&&d.push(h);break;case"S":var P=l,x=m;(v=="C"||v=="S")&&(P+=P-r,x+=x-t),h=["C",P,x,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(f=l*2-f,u=m*2-u):(f=l,u=m),h=C(l,m,f,u,h[1],h[2]);break;case"Q":f=h[1],u=h[2],h=C(l,m,h[1],h[2],h[3],h[4]);break;case"L":h=a(l,m,h[1],h[2]);break;case"H":h=a(l,m,h[1],m);break;case"V":h=a(l,m,l,h[1]);break;case"Z":h=a(l,m,i,n);break}v=o,l=h[h.length-2],m=h[h.length-1],h.length>4?(r=h[h.length-4],t=h[h.length-3]):(r=l,t=m),d.push(h)}return d}function a(S,v,d,r){return["C",S,v,d,r,d,r]}function C(S,v,d,r,t,i){return["C",S/3+.6666666666666666*d,v/3+.6666666666666666*r,t/3+.6666666666666666*d,i/3+.6666666666666666*r,t,i]}},20472:function(H,G,e){var g=e(74840),R=e(21984),a=e(22235),C=e(53520),S=e(29620),v=document.createElement("canvas"),d=v.getContext("2d");H.exports=r;function r(n,f){if(!C(n))throw Error("Argument should be valid svg path string");f||(f={});var u,l;f.shape?(u=f.shape[0],l=f.shape[1]):(u=v.width=f.w||f.width||200,l=v.height=f.h||f.height||200);var m=Math.min(u,l),c=f.stroke||0,A=f.viewbox||f.viewBox||g(n),h=[u/(A[2]-A[0]),l/(A[3]-A[1])],o=Math.min(h[0]||0,h[1]||0)/2;if(d.fillStyle="black",d.fillRect(0,0,u,l),d.fillStyle="white",c&&(typeof c!="number"&&(c=1),c>0?d.strokeStyle="white":d.strokeStyle="black",d.lineWidth=Math.abs(c)),d.translate(u*.5,l*.5),d.scale(o,o),i()){var p=new Path2D(n);d.fill(p),c&&d.stroke(p)}else{var b=R(n);a(d,b),d.fill(),c&&d.stroke()}d.setTransform(1,0,0,1,0,0);var T=S(d,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:m*.5});return T}var t;function i(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(f);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(H,G,e){var g;(function(R){var a=/^\s+/,C=/\s+$/,S=0,v=R.round,d=R.min,r=R.max,t=R.random;function i($,le){if($=$||"",le=le||{},$ instanceof i)return $;if(!(this instanceof i))return new i($,le);var ae=n($);this._originalInput=$,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=v(100*this._a)/100,this._format=le.format||ae.format,this._gradientType=le.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ae.ok,this._tc_id=S++}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $=this.toRgb();return($.r*299+$.g*587+$.b*114)/1e3},getLuminance:function(){var $=this.toRgb(),le,ae,he,xe,Me,Ae;return le=$.r/255,ae=$.g/255,he=$.b/255,le<=.03928?xe=le/12.92:xe=R.pow((le+.055)/1.055,2.4),ae<=.03928?Me=ae/12.92:Me=R.pow((ae+.055)/1.055,2.4),he<=.03928?Ae=he/12.92:Ae=R.pow((he+.055)/1.055,2.4),.2126*xe+.7152*Me+.0722*Ae},setAlpha:function($){return this._a=N($),this._roundA=v(100*this._a)/100,this},toHsv:function(){var $=m(this._r,this._g,this._b);return{h:$.h*360,s:$.s,v:$.v,a:this._a}},toHsvString:function(){var $=m(this._r,this._g,this._b),le=v($.h*360),ae=v($.s*100),he=v($.v*100);return this._a==1?"hsv("+le+", "+ae+"%, "+he+"%)":"hsva("+le+", "+ae+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var $=u(this._r,this._g,this._b);return{h:$.h*360,s:$.s,l:$.l,a:this._a}},toHslString:function(){var $=u(this._r,this._g,this._b),le=v($.h*360),ae=v($.s*100),he=v($.l*100);return this._a==1?"hsl("+le+", "+ae+"%, "+he+"%)":"hsla("+le+", "+ae+"%, "+he+"%, "+this._roundA+")"},toHex:function($){return A(this._r,this._g,this._b,$)},toHexString:function($){return"#"+this.toHex($)},toHex8:function($){return h(this._r,this._g,this._b,this._a,$)},toHex8String:function($){return"#"+this.toHex8($)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(V(this._r,255)*100)+"%",g:v(V(this._g,255)*100)+"%",b:v(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%)":"rgba("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[A(this._r,this._g,this._b,!0)]||!1},toFilter:function($){var le="#"+o(this._r,this._g,this._b,this._a),ae=le,he=this._gradientType?"GradientType = 1, ":"";if($){var xe=i($);ae="#"+o(xe._r,xe._g,xe._b,xe._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+le+",endColorstr="+ae+")"},toString:function($){var le=!!$;$=$||this._format;var ae=!1,he=this._a<1&&this._a>=0,xe=!le&&he&&($==="hex"||$==="hex6"||$==="hex3"||$==="hex4"||$==="hex8"||$==="name");return xe?$==="name"&&this._a===0?this.toName():this.toRgbString():($==="rgb"&&(ae=this.toRgbString()),$==="prgb"&&(ae=this.toPercentageRgbString()),($==="hex"||$==="hex6")&&(ae=this.toHexString()),$==="hex3"&&(ae=this.toHexString(!0)),$==="hex4"&&(ae=this.toHex8String(!0)),$==="hex8"&&(ae=this.toHex8String()),$==="name"&&(ae=this.toName()),$==="hsl"&&(ae=this.toHslString()),$==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function($,le){var ae=$.apply(null,[this].concat([].slice.call(le)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(P,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(L,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function($,le){return $.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},i.fromRatio=function($,le){if(typeof $=="object"){var ae={};for(var he in $)$.hasOwnProperty(he)&&(he==="a"?ae[he]=$[he]:ae[he]=Q($[he]));$=ae}return i($,le)};function n($){var le={r:0,g:0,b:0},ae=1,he=null,xe=null,Me=null,Ae=!1,ke=!1;return typeof $=="string"&&($=ue($)),typeof $=="object"&&(oe($.r)&&oe($.g)&&oe($.b)?(le=f($.r,$.g,$.b),Ae=!0,ke=String($.r).substr(-1)==="%"?"prgb":"rgb"):oe($.h)&&oe($.s)&&oe($.v)?(he=Q($.s),xe=Q($.v),le=c($.h,he,xe),Ae=!0,ke="hsv"):oe($.h)&&oe($.s)&&oe($.l)&&(he=Q($.s),Me=Q($.l),le=l($.h,he,Me),Ae=!0,ke="hsl"),$.hasOwnProperty("a")&&(ae=$.a)),ae=N(ae),{ok:Ae,format:$.format||ke,r:d(255,r(le.r,0)),g:d(255,r(le.g,0)),b:d(255,r(le.b,0)),a:ae}}function f($,le,ae){return{r:V($,255)*255,g:V(le,255)*255,b:V(ae,255)*255}}function u($,le,ae){$=V($,255),le=V(le,255),ae=V(ae,255);var he=r($,le,ae),xe=d($,le,ae),Me,Ae,ke=(he+xe)/2;if(he==xe)Me=Ae=0;else{var we=he-xe;switch(Ae=ke>.5?we/(2-he-xe):we/(he+xe),he){case $:Me=(le-ae)/we+(le<ae?6:0);break;case le:Me=(ae-$)/we+2;break;case ae:Me=($-le)/we+4;break}Me/=6}return{h:Me,s:Ae,l:ke}}function l($,le,ae){var he,xe,Me;$=V($,360),le=V(le,100),ae=V(ae,100);function Ae(Ee,be,Le){return Le<0&&(Le+=1),Le>1&&(Le-=1),Le<.16666666666666666?Ee+(be-Ee)*6*Le:Le<.5?be:Le<.6666666666666666?Ee+(be-Ee)*(.6666666666666666-Le)*6:Ee}if(le===0)he=xe=Me=ae;else{var ke=ae<.5?ae*(1+le):ae+le-ae*le,we=2*ae-ke;he=Ae(we,ke,$+.3333333333333333),xe=Ae(we,ke,$),Me=Ae(we,ke,$-.3333333333333333)}return{r:he*255,g:xe*255,b:Me*255}}function m($,le,ae){$=V($,255),le=V(le,255),ae=V(ae,255);var he=r($,le,ae),xe=d($,le,ae),Me,Ae,ke=he,we=he-xe;if(Ae=he===0?0:we/he,he==xe)Me=0;else{switch(he){case $:Me=(le-ae)/we+(le<ae?6:0);break;case le:Me=(ae-$)/we+2;break;case ae:Me=($-le)/we+4;break}Me/=6}return{h:Me,s:Ae,v:ke}}function c($,le,ae){$=V($,360)*6,le=V(le,100),ae=V(ae,100);var he=R.floor($),xe=$-he,Me=ae*(1-le),Ae=ae*(1-xe*le),ke=ae*(1-(1-xe)*le),we=he%6,Ee=[ae,Ae,Me,Me,ke,ae][we],be=[ke,ae,ae,Ae,Me,Me][we],Le=[Me,Me,ke,ae,ae,Ae][we];return{r:Ee*255,g:be*255,b:Le*255}}function A($,le,ae,he){var xe=[ce(v($).toString(16)),ce(v(le).toString(16)),ce(v(ae).toString(16))];return he&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0):xe.join("")}function h($,le,ae,he,xe){var Me=[ce(v($).toString(16)),ce(v(le).toString(16)),ce(v(ae).toString(16)),ce(Z(he))];return xe&&Me[0].charAt(0)==Me[0].charAt(1)&&Me[1].charAt(0)==Me[1].charAt(1)&&Me[2].charAt(0)==Me[2].charAt(1)&&Me[3].charAt(0)==Me[3].charAt(1)?Me[0].charAt(0)+Me[1].charAt(0)+Me[2].charAt(0)+Me[3].charAt(0):Me.join("")}function o($,le,ae,he){var xe=[ce(Z(he)),ce(v($).toString(16)),ce(v(le).toString(16)),ce(v(ae).toString(16))];return xe.join("")}i.equals=function($,le){return!$||!le?!1:i($).toRgbString()==i(le).toRgbString()},i.random=function(){return i.fromRatio({r:t(),g:t(),b:t()})};function p($,le){le=le===0?0:le||10;var ae=i($).toHsl();return ae.s-=le/100,ae.s=X(ae.s),i(ae)}function b($,le){le=le===0?0:le||10;var ae=i($).toHsl();return ae.s+=le/100,ae.s=X(ae.s),i(ae)}function T($){return i($).desaturate(100)}function P($,le){le=le===0?0:le||10;var ae=i($).toHsl();return ae.l+=le/100,ae.l=X(ae.l),i(ae)}function x($,le){le=le===0?0:le||10;var ae=i($).toRgb();return ae.r=r(0,d(255,ae.r-v(255*-(le/100)))),ae.g=r(0,d(255,ae.g-v(255*-(le/100)))),ae.b=r(0,d(255,ae.b-v(255*-(le/100)))),i(ae)}function L($,le){le=le===0?0:le||10;var ae=i($).toHsl();return ae.l-=le/100,ae.l=X(ae.l),i(ae)}function M($,le){var ae=i($).toHsl(),he=(ae.h+le)%360;return ae.h=he<0?360+he:he,i(ae)}function s($){var le=i($).toHsl();return le.h=(le.h+180)%360,i(le)}function E($){var le=i($).toHsl(),ae=le.h;return[i($),i({h:(ae+120)%360,s:le.s,l:le.l}),i({h:(ae+240)%360,s:le.s,l:le.l})]}function w($){var le=i($).toHsl(),ae=le.h;return[i($),i({h:(ae+90)%360,s:le.s,l:le.l}),i({h:(ae+180)%360,s:le.s,l:le.l}),i({h:(ae+270)%360,s:le.s,l:le.l})]}function O($){var le=i($).toHsl(),ae=le.h;return[i($),i({h:(ae+72)%360,s:le.s,l:le.l}),i({h:(ae+216)%360,s:le.s,l:le.l})]}function _($,le,ae){le=le||6,ae=ae||30;var he=i($).toHsl(),xe=360/ae,Me=[i($)];for(he.h=(he.h-(xe*le>>1)+720)%360;--le;)he.h=(he.h+xe)%360,Me.push(i(he));return Me}function U($,le){le=le||6;for(var ae=i($).toHsv(),he=ae.h,xe=ae.s,Me=ae.v,Ae=[],ke=1/le;le--;)Ae.push(i({h:he,s:xe,v:Me})),Me=(Me+ke)%1;return Ae}i.mix=function($,le,ae){ae=ae===0?0:ae||50;var he=i($).toRgb(),xe=i(le).toRgb(),Me=ae/100,Ae={r:(xe.r-he.r)*Me+he.r,g:(xe.g-he.g)*Me+he.g,b:(xe.b-he.b)*Me+he.b,a:(xe.a-he.a)*Me+he.a};return i(Ae)},i.readability=function($,le){var ae=i($),he=i(le);return(R.max(ae.getLuminance(),he.getLuminance())+.05)/(R.min(ae.getLuminance(),he.getLuminance())+.05)},i.isReadable=function($,le,ae){var he=i.readability($,le),xe,Me;switch(Me=!1,xe=K(ae),xe.level+xe.size){case"AAsmall":case"AAAlarge":Me=he>=4.5;break;case"AAlarge":Me=he>=3;break;case"AAAsmall":Me=he>=7;break}return Me},i.mostReadable=function($,le,ae){var he=null,xe=0,Me,Ae,ke,we;ae=ae||{},Ae=ae.includeFallbackColors,ke=ae.level,we=ae.size;for(var Ee=0;Ee<le.length;Ee++)Me=i.readability($,le[Ee]),Me>xe&&(xe=Me,he=i(le[Ee]));return i.isReadable($,he,{level:ke,size:we})||!Ae?he:(ae.includeFallbackColors=!1,i.mostReadable($,["#fff","#000"],ae))};var z=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=i.hexNames=B(z);function B($){var le={};for(var ae in $)$.hasOwnProperty(ae)&&(le[$[ae]]=ae);return le}function N($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function V($,le){te($)&&($="100%");var ae=ne($);return $=d(le,r(0,parseFloat($))),ae&&($=parseInt($*le,10)/100),R.abs($-le)<1e-6?1:$%le/parseFloat(le)}function X($){return d(1,r(0,$))}function q($){return parseInt($,16)}function te($){return typeof $=="string"&&$.indexOf(".")!=-1&&parseFloat($)===1}function ne($){return typeof $=="string"&&$.indexOf("%")!=-1}function ce($){return $.length==1?"0"+$:""+$}function Q($){return $<=1&&($=$*100+"%"),$}function Z($){return R.round(parseFloat($)*255).toString(16)}function re($){return q($)/255}var Y=function(){var $="[-\\+]?\\d+%?",le="[-\\+]?\\d*\\.\\d+%?",ae="(?:"+le+")|(?:"+$+")",he="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?",xe="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?";return{CSS_UNIT:new RegExp(ae),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+xe),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+xe),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+xe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function oe($){return!!Y.CSS_UNIT.exec($)}function ue($){$=$.replace(a,"").replace(C,"").toLowerCase();var le=!1;if(z[$])$=z[$],le=!0;else if($=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ae;return(ae=Y.rgb.exec($))?{r:ae[1],g:ae[2],b:ae[3]}:(ae=Y.rgba.exec($))?{r:ae[1],g:ae[2],b:ae[3],a:ae[4]}:(ae=Y.hsl.exec($))?{h:ae[1],s:ae[2],l:ae[3]}:(ae=Y.hsla.exec($))?{h:ae[1],s:ae[2],l:ae[3],a:ae[4]}:(ae=Y.hsv.exec($))?{h:ae[1],s:ae[2],v:ae[3]}:(ae=Y.hsva.exec($))?{h:ae[1],s:ae[2],v:ae[3],a:ae[4]}:(ae=Y.hex8.exec($))?{r:q(ae[1]),g:q(ae[2]),b:q(ae[3]),a:re(ae[4]),format:le?"name":"hex8"}:(ae=Y.hex6.exec($))?{r:q(ae[1]),g:q(ae[2]),b:q(ae[3]),format:le?"name":"hex"}:(ae=Y.hex4.exec($))?{r:q(ae[1]+""+ae[1]),g:q(ae[2]+""+ae[2]),b:q(ae[3]+""+ae[3]),a:re(ae[4]+""+ae[4]),format:le?"name":"hex8"}:(ae=Y.hex3.exec($))?{r:q(ae[1]+""+ae[1]),g:q(ae[2]+""+ae[2]),b:q(ae[3]+""+ae[3]),format:le?"name":"hex"}:!1}function K($){var le,ae;return $=$||{level:"AA",size:"small"},le=($.level||"AA").toUpperCase(),ae=($.size||"small").toLowerCase(),le!=="AA"&&le!=="AAA"&&(le="AA"),ae!=="small"&&ae!=="large"&&(ae="small"),{level:le,size:ae}}H.exports?H.exports=i:(g=(function(){return i}).call(G,e,G,H),g!==void 0&&(H.exports=g))})(Math)},37816:function(H){H.exports=g,H.exports.float32=H.exports.float=g,H.exports.fract32=H.exports.fract=e;var G=new Float32Array(1);function e(R,a){if(R.length){if(R instanceof Float32Array)return new Float32Array(R.length);a instanceof Float32Array||(a=g(R));for(var C=0,S=a.length;C<S;C++)a[C]=R[C]-a[C];return a}return g(R-g(R))}function g(R){return R.length?R instanceof Float32Array?R:new Float32Array(R):(G[0]=R,G[0])}},23464:function(H,G,e){var g=e(65819);H.exports=S;var R=96;function a(v,d){var r=g(getComputedStyle(v).getPropertyValue(d));return r[0]*S(r[1],v)}function C(v,d){var r=document.createElement("div");r.style["font-size"]="128"+v,d.appendChild(r);var t=a(r,"font-size")/128;return d.removeChild(r),t}function S(v,d){switch(d=d||document.body,v=(v||"px").trim().toLowerCase(),(d===window||d===document)&&(d=document.body),v){case"%":return d.clientHeight/100;case"ch":case"ex":return C(v,d);case"em":return a(d,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return R;case"cm":return R/2.54;case"mm":return R/25.4;case"pt":return R/72;case"pc":return R/6}return 1}},55712:function(H,G,e){e.d(G,{NO:function(){return C}});function g(d,r){for(var t,i=d.length,n=i-r;n<--i;)t=d[n],d[n++]=d[i],d[i]=t}function R(d){return d}function a(d){if(d==null)return R;var r,t,i=d.scale[0],n=d.scale[1],f=d.translate[0],u=d.translate[1];return function(l,m){m||(r=t=0);var c=2,A=l.length,h=new Array(A);for(h[0]=(r+=l[0])*i+f,h[1]=(t+=l[1])*n+u;c<A;)h[c]=l[c],++c;return h}}function C(d,r){return typeof r=="string"&&(r=d.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return S(d,t)})}:S(d,r)}function S(d,r){var t=r.id,i=r.bbox,n=r.properties==null?{}:r.properties,f=v(d,r);return t==null&&i==null?{type:"Feature",properties:n,geometry:f}:i==null?{type:"Feature",id:t,properties:n,geometry:f}:{type:"Feature",id:t,bbox:i,properties:n,geometry:f}}function v(d,r){var t=a(d.transform),i=d.arcs;function n(A,h){h.length&&h.pop();for(var o=i[A<0?~A:A],p=0,b=o.length;p<b;++p)h.push(t(o[p],p));A<0&&g(h,b)}function f(A){return t(A)}function u(A){for(var h=[],o=0,p=A.length;o<p;++o)n(A[o],h);return h.length<2&&h.push(h[0]),h}function l(A){for(var h=u(A);h.length<4;)h.push(h[0]);return h}function m(A){return A.map(l)}function c(A){var h=A.type,o;switch(h){case"GeometryCollection":return{type:h,geometries:A.geometries.map(c)};case"Point":o=f(A.coordinates);break;case"MultiPoint":o=A.coordinates.map(f);break;case"LineString":o=u(A.arcs);break;case"MultiLineString":o=A.arcs.map(u);break;case"Polygon":o=m(A.arcs);break;case"MultiPolygon":o=A.arcs.map(m);break;default:return null}return{type:h,coordinates:o}}return c(r)}},73384:function(H,G,e){var g=e(54612);H.exports=function(R){if(typeof R!="function"||!hasOwnProperty.call(R,"length"))return!1;try{if(typeof R.length!="number"||typeof R.call!="function"||typeof R.apply!="function")return!1}catch{return!1}return!g(R)}},57980:function(H,G,e){var g=e(81680),R=e(7328),a=e(33940),C=e(18856),S=function(v,d){return v.replace("%v",C(d))};H.exports=function(v,d,r){if(!R(r))throw new TypeError(S(d,v));if(!g(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=a(r.errorMessage);throw g(t)||(t=d),new TypeError(S(t,v))}},32336:function(H){H.exports=function(G){try{return G.toString()}catch{try{return String(G)}catch{return null}}}},18856:function(H,G,e){var g=e(32336),R=/[\n\r\u2028\u2029]/g;H.exports=function(a){var C=g(a);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+""),C=C.replace(R,function(S){switch(S){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},7328:function(H,G,e){var g=e(81680),R={object:!0,function:!0,undefined:!0};H.exports=function(a){return g(a)?hasOwnProperty.call(R,typeof a):!1}},87396:function(H,G,e){var g=e(57980),R=e(85488);H.exports=function(a){return R(a)?a:g(a,"%v is not a plain function",arguments[1])}},85488:function(H,G,e){var g=e(73384),R=/^\s*class[\s{/}]/,a=Function.prototype.toString;H.exports=function(C){return!(!g(C)||R.test(a.call(C)))}},54612:function(H,G,e){var g=e(7328);H.exports=function(R){if(!g(R))return!1;try{return R.constructor?R.constructor.prototype===R:!1}catch{return!1}}},33940:function(H,G,e){var g=e(81680),R=e(7328),a=Object.prototype.toString;H.exports=function(C){if(!g(C))return null;if(R(C)){var S=C.toString;if(typeof S!="function"||S===a)return null}try{return""+C}catch{return null}}},18496:function(H,G,e){var g=e(57980),R=e(81680);H.exports=function(a){return R(a)?a:g(a,"Cannot use %v",arguments[1])}},81680:function(H){var G=void 0;H.exports=function(e){return e!==G&&e!==null}},14144:function(H,G,e){var g=e(308),R=e(10352),a=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:R([32,0]),UINT16:R([32,0]),UINT32:R([32,0]),BIGUINT64:R([32,0]),INT8:R([32,0]),INT16:R([32,0]),INT32:R([32,0]),BIGINT64:R([32,0]),FLOAT:R([32,0]),DOUBLE:R([32,0]),DATA:R([32,0]),UINT8C:R([32,0]),BUFFER:R([32,0])});var C=typeof Uint8ClampedArray<"u",S=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",d=e.g.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=R([32,0])),d.BIGUINT64||(d.BIGUINT64=R([32,0])),d.BIGINT64||(d.BIGINT64=R([32,0])),d.BUFFER||(d.BUFFER=R([32,0]));var r=d.DATA,t=d.BUFFER;G.free=function(s){if(a.isBuffer(s))t[g.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var E=s.length||s.byteLength,w=g.log2(E)|0;r[w].push(s)}};function i(M){if(M){var s=M.length||M.byteLength,E=g.log2(s);r[E].push(M)}}function n(M){i(M.buffer)}G.freeUint8=G.freeUint16=G.freeUint32=G.freeBigUint64=G.freeInt8=G.freeInt16=G.freeInt32=G.freeBigInt64=G.freeFloat32=G.freeFloat=G.freeFloat64=G.freeDouble=G.freeUint8Clamped=G.freeDataView=n,G.freeArrayBuffer=i,G.freeBuffer=function(s){t[g.log2(s.length)].push(s)},G.malloc=function(s,E){if(E===void 0||E==="arraybuffer")return f(s);switch(E){case"uint8":return u(s);case"uint16":return l(s);case"uint32":return m(s);case"int8":return c(s);case"int16":return A(s);case"int32":return h(s);case"float":case"float32":return o(s);case"double":case"float64":return p(s);case"uint8_clamped":return b(s);case"bigint64":return P(s);case"biguint64":return T(s);case"buffer":return L(s);case"data":case"dataview":return x(s);default:return null}return null};function f(s){var s=g.nextPow2(s),E=g.log2(s),w=r[E];return w.length>0?w.pop():new ArrayBuffer(s)}G.mallocArrayBuffer=f;function u(M){return new Uint8Array(f(M),0,M)}G.mallocUint8=u;function l(M){return new Uint16Array(f(2*M),0,M)}G.mallocUint16=l;function m(M){return new Uint32Array(f(4*M),0,M)}G.mallocUint32=m;function c(M){return new Int8Array(f(M),0,M)}G.mallocInt8=c;function A(M){return new Int16Array(f(2*M),0,M)}G.mallocInt16=A;function h(M){return new Int32Array(f(4*M),0,M)}G.mallocInt32=h;function o(M){return new Float32Array(f(4*M),0,M)}G.mallocFloat32=G.mallocFloat=o;function p(M){return new Float64Array(f(8*M),0,M)}G.mallocFloat64=G.mallocDouble=p;function b(M){return C?new Uint8ClampedArray(f(M),0,M):u(M)}G.mallocUint8Clamped=b;function T(M){return S?new BigUint64Array(f(8*M),0,M):null}G.mallocBigUint64=T;function P(M){return v?new BigInt64Array(f(8*M),0,M):null}G.mallocBigInt64=P;function x(M){return new DataView(f(M),0,M)}G.mallocDataView=x;function L(M){M=g.nextPow2(M);var s=g.log2(M),E=t[s];return E.length>0?E.pop():new a(M)}G.mallocBuffer=L,G.clearCache=function(){for(var s=0;s<32;++s)d.UINT8[s].length=0,d.UINT16[s].length=0,d.UINT32[s].length=0,d.INT8[s].length=0,d.INT16[s].length=0,d.INT32[s].length=0,d.FLOAT[s].length=0,d.DOUBLE[s].length=0,d.BIGUINT64[s].length=0,d.BIGINT64[s].length=0,d.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(H){var G=/[\'\"]/;H.exports=function(g){return g?(G.test(g.charAt(0))&&(g=g.substr(1)),G.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},45223:function(H){H.exports=function(e,g,R){Array.isArray(R)||(R=[].slice.call(arguments,2));for(var a=0,C=R.length;a<C;a++){var S=R[a];for(var v in S)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var d;if(S[v]===!0)d=g[v];else{if(S[v]===!1)continue;if(typeof S[v]=="function"&&(d=S[v](g[v],e,g),d===void 0))continue}e[v]=d}}return e}},96656:function(H,G,e){H.exports=g;function g(a,C){if(R("noDeprecation"))return a;var S=!1;function v(){if(!S){if(R("throwDeprecation"))throw new Error(C);R("traceDeprecation")?console.trace(C):console.warn(C),S=!0}return a.apply(this,arguments)}return v}function R(a){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[a];return C==null?!1:String(C).toLowerCase()==="true"}},75272:function(H){H.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(H,G,e){var g=e(91148),R=e(84420),a=e(96632),C=e(7728);function S(Me){return Me.call.bind(Me)}var v=typeof BigInt<"u",d=typeof Symbol<"u",r=S(Object.prototype.toString),t=S(Number.prototype.valueOf),i=S(String.prototype.valueOf),n=S(Boolean.prototype.valueOf);if(v)var f=S(BigInt.prototype.valueOf);if(d)var u=S(Symbol.prototype.valueOf);function l(Me,Ae){if(typeof Me!="object")return!1;try{return Ae(Me),!0}catch{return!1}}G.isArgumentsObject=g,G.isGeneratorFunction=R,G.isTypedArray=C;function m(Me){return typeof Promise<"u"&&Me instanceof Promise||Me!==null&&typeof Me=="object"&&typeof Me.then=="function"&&typeof Me.catch=="function"}G.isPromise=m;function c(Me){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Me):C(Me)||q(Me)}G.isArrayBufferView=c;function A(Me){return a(Me)==="Uint8Array"}G.isUint8Array=A;function h(Me){return a(Me)==="Uint8ClampedArray"}G.isUint8ClampedArray=h;function o(Me){return a(Me)==="Uint16Array"}G.isUint16Array=o;function p(Me){return a(Me)==="Uint32Array"}G.isUint32Array=p;function b(Me){return a(Me)==="Int8Array"}G.isInt8Array=b;function T(Me){return a(Me)==="Int16Array"}G.isInt16Array=T;function P(Me){return a(Me)==="Int32Array"}G.isInt32Array=P;function x(Me){return a(Me)==="Float32Array"}G.isFloat32Array=x;function L(Me){return a(Me)==="Float64Array"}G.isFloat64Array=L;function M(Me){return a(Me)==="BigInt64Array"}G.isBigInt64Array=M;function s(Me){return a(Me)==="BigUint64Array"}G.isBigUint64Array=s;function E(Me){return r(Me)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function w(Me){return typeof Map>"u"?!1:E.working?E(Me):Me instanceof Map}G.isMap=w;function O(Me){return r(Me)==="[object Set]"}O.working=typeof Set<"u"&&O(new Set);function _(Me){return typeof Set>"u"?!1:O.working?O(Me):Me instanceof Set}G.isSet=_;function U(Me){return r(Me)==="[object WeakMap]"}U.working=typeof WeakMap<"u"&&U(new WeakMap);function z(Me){return typeof WeakMap>"u"?!1:U.working?U(Me):Me instanceof WeakMap}G.isWeakMap=z;function F(Me){return r(Me)==="[object WeakSet]"}F.working=typeof WeakSet<"u"&&F(new WeakSet);function B(Me){return F(Me)}G.isWeakSet=B;function N(Me){return r(Me)==="[object ArrayBuffer]"}N.working=typeof ArrayBuffer<"u"&&N(new ArrayBuffer);function V(Me){return typeof ArrayBuffer>"u"?!1:N.working?N(Me):Me instanceof ArrayBuffer}G.isArrayBuffer=V;function X(Me){return r(Me)==="[object DataView]"}X.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&X(new DataView(new ArrayBuffer(1),0,1));function q(Me){return typeof DataView>"u"?!1:X.working?X(Me):Me instanceof DataView}G.isDataView=q;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(Me){return r(Me)==="[object SharedArrayBuffer]"}function ce(Me){return typeof te>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new te)),ne.working?ne(Me):Me instanceof te)}G.isSharedArrayBuffer=ce;function Q(Me){return r(Me)==="[object AsyncFunction]"}G.isAsyncFunction=Q;function Z(Me){return r(Me)==="[object Map Iterator]"}G.isMapIterator=Z;function re(Me){return r(Me)==="[object Set Iterator]"}G.isSetIterator=re;function Y(Me){return r(Me)==="[object Generator]"}G.isGeneratorObject=Y;function oe(Me){return r(Me)==="[object WebAssembly.Module]"}G.isWebAssemblyCompiledModule=oe;function ue(Me){return l(Me,t)}G.isNumberObject=ue;function K(Me){return l(Me,i)}G.isStringObject=K;function $(Me){return l(Me,n)}G.isBooleanObject=$;function le(Me){return v&&l(Me,f)}G.isBigIntObject=le;function ae(Me){return d&&l(Me,u)}G.isSymbolObject=ae;function he(Me){return ue(Me)||K(Me)||$(Me)||le(Me)||ae(Me)}G.isBoxedPrimitive=he;function xe(Me){return typeof Uint8Array<"u"&&(V(Me)||ce(Me))}G.isAnyArrayBuffer=xe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Me){Object.defineProperty(G,Me,{enumerable:!1,value:function(){throw new Error(Me+" is not supported in userland")}})})},35840:function(H,G,e){var g=e(4168),R=Object.getOwnPropertyDescriptors||function(te){for(var ne=Object.keys(te),ce={},Q=0;Q<ne.length;Q++)ce[ne[Q]]=Object.getOwnPropertyDescriptor(te,ne[Q]);return ce},a=/%[sdj%]/g;G.format=function(q){if(!T(q)){for(var te=[],ne=0;ne<arguments.length;ne++)te.push(d(arguments[ne]));return te.join(" ")}for(var ne=1,ce=arguments,Q=ce.length,Z=String(q).replace(a,function(Y){if(Y==="%%")return"%";if(ne>=Q)return Y;switch(Y){case"%s":return String(ce[ne++]);case"%d":return Number(ce[ne++]);case"%j":try{return JSON.stringify(ce[ne++])}catch{return"[Circular]"}default:return Y}}),re=ce[ne];ne<Q;re=ce[++ne])o(re)||!M(re)?Z+=" "+re:Z+=" "+d(re);return Z},G.deprecate=function(q,te){if(typeof g<"u"&&g.noDeprecation===!0)return q;if(typeof g>"u")return function(){return G.deprecate(q,te).apply(this,arguments)};var ne=!1;function ce(){if(!ne){if(g.throwDeprecation)throw new Error(te);g.traceDeprecation?console.trace(te):console.error(te),ne=!0}return q.apply(this,arguments)}return ce};var C={},S=/^$/;if(g.env.NODE_DEBUG){var v=g.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+v+"$","i")}G.debuglog=function(q){if(q=q.toUpperCase(),!C[q])if(S.test(q)){var te=g.pid;C[q]=function(){var ne=G.format.apply(G,arguments);console.error("%s %d: %s",q,te,ne)}}else C[q]=function(){};return C[q]};function d(q,te){var ne={seen:[],stylize:t};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),h(te)?ne.showHidden=te:te&&G._extend(ne,te),x(ne.showHidden)&&(ne.showHidden=!1),x(ne.depth)&&(ne.depth=2),x(ne.colors)&&(ne.colors=!1),x(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=r),n(ne,q,ne.depth)}G.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(q,te){var ne=d.styles[te];return ne?"\x1B["+d.colors[ne][0]+"m"+q+"\x1B["+d.colors[ne][1]+"m":q}function t(q,te){return q}function i(q){var te={};return q.forEach(function(ne,ce){te[ne]=!0}),te}function n(q,te,ne){if(q.customInspect&&te&&w(te.inspect)&&te.inspect!==G.inspect&&!(te.constructor&&te.constructor.prototype===te)){var ce=te.inspect(ne,q);return T(ce)||(ce=n(q,ce,ne)),ce}var Q=f(q,te);if(Q)return Q;var Z=Object.keys(te),re=i(Z);if(q.showHidden&&(Z=Object.getOwnPropertyNames(te)),E(te)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return u(te);if(Z.length===0){if(w(te)){var Y=te.name?": "+te.name:"";return q.stylize("[Function"+Y+"]","special")}if(L(te))return q.stylize(RegExp.prototype.toString.call(te),"regexp");if(s(te))return q.stylize(Date.prototype.toString.call(te),"date");if(E(te))return u(te)}var oe="",ue=!1,K=["{","}"];if(A(te)&&(ue=!0,K=["[","]"]),w(te)){var $=te.name?": "+te.name:"";oe=" [Function"+$+"]"}if(L(te)&&(oe=" "+RegExp.prototype.toString.call(te)),s(te)&&(oe=" "+Date.prototype.toUTCString.call(te)),E(te)&&(oe=" "+u(te)),Z.length===0&&(!ue||te.length==0))return K[0]+oe+K[1];if(ne<0)return L(te)?q.stylize(RegExp.prototype.toString.call(te),"regexp"):q.stylize("[Object]","special");q.seen.push(te);var le;return ue?le=l(q,te,ne,re,Z):le=Z.map(function(ae){return m(q,te,ne,re,ae,ue)}),q.seen.pop(),c(le,oe,K)}function f(q,te){if(x(te))return q.stylize("undefined","undefined");if(T(te)){var ne="'"+JSON.stringify(te).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(ne,"string")}if(b(te))return q.stylize(""+te,"number");if(h(te))return q.stylize(""+te,"boolean");if(o(te))return q.stylize("null","null")}function u(q){return"["+Error.prototype.toString.call(q)+"]"}function l(q,te,ne,ce,Q){for(var Z=[],re=0,Y=te.length;re<Y;++re)B(te,String(re))?Z.push(m(q,te,ne,ce,String(re),!0)):Z.push("");return Q.forEach(function(oe){oe.match(/^\d+$/)||Z.push(m(q,te,ne,ce,oe,!0))}),Z}function m(q,te,ne,ce,Q,Z){var re,Y,oe;if(oe=Object.getOwnPropertyDescriptor(te,Q)||{value:te[Q]},oe.get?oe.set?Y=q.stylize("[Getter/Setter]","special"):Y=q.stylize("[Getter]","special"):oe.set&&(Y=q.stylize("[Setter]","special")),B(ce,Q)||(re="["+Q+"]"),Y||(q.seen.indexOf(oe.value)<0?(o(ne)?Y=n(q,oe.value,null):Y=n(q,oe.value,ne-1),Y.indexOf(`
`)>-1&&(Z?Y=Y.split(`
`).map(function(ue){return"  "+ue}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(ue){return"   "+ue}).join(`
`))):Y=q.stylize("[Circular]","special")),x(re)){if(Z&&Q.match(/^\d+$/))return Y;re=JSON.stringify(""+Q),re.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(re=re.slice(1,-1),re=q.stylize(re,"name")):(re=re.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),re=q.stylize(re,"string"))}return re+": "+Y}function c(q,te,ne){var ce=q.reduce(function(Q,Z){return Z.indexOf(`
`)>=0,Q+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ce>60?ne[0]+(te===""?"":te+`
 `)+" "+q.join(`,
  `)+" "+ne[1]:ne[0]+te+" "+q.join(", ")+" "+ne[1]}G.types=e(41088);function A(q){return Array.isArray(q)}G.isArray=A;function h(q){return typeof q=="boolean"}G.isBoolean=h;function o(q){return q===null}G.isNull=o;function p(q){return q==null}G.isNullOrUndefined=p;function b(q){return typeof q=="number"}G.isNumber=b;function T(q){return typeof q=="string"}G.isString=T;function P(q){return typeof q=="symbol"}G.isSymbol=P;function x(q){return q===void 0}G.isUndefined=x;function L(q){return M(q)&&_(q)==="[object RegExp]"}G.isRegExp=L,G.types.isRegExp=L;function M(q){return typeof q=="object"&&q!==null}G.isObject=M;function s(q){return M(q)&&_(q)==="[object Date]"}G.isDate=s,G.types.isDate=s;function E(q){return M(q)&&(_(q)==="[object Error]"||q instanceof Error)}G.isError=E,G.types.isNativeError=E;function w(q){return typeof q=="function"}G.isFunction=w;function O(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}G.isPrimitive=O,G.isBuffer=e(75272);function _(q){return Object.prototype.toString.call(q)}function U(q){return q<10?"0"+q.toString(10):q.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var q=new Date,te=[U(q.getHours()),U(q.getMinutes()),U(q.getSeconds())].join(":");return[q.getDate(),z[q.getMonth()],te].join(" ")}G.log=function(){console.log("%s - %s",F(),G.format.apply(G,arguments))},G.inherits=e(6768),G._extend=function(q,te){if(!te||!M(te))return q;for(var ne=Object.keys(te),ce=ne.length;ce--;)q[ne[ce]]=te[ne[ce]];return q};function B(q,te){return Object.prototype.hasOwnProperty.call(q,te)}var N=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;G.promisify=function(te){if(typeof te!="function")throw new TypeError('The "original" argument must be of type Function');if(N&&te[N]){var ne=te[N];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,N,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var ce,Q,Z=new Promise(function(oe,ue){ce=oe,Q=ue}),re=[],Y=0;Y<arguments.length;Y++)re.push(arguments[Y]);re.push(function(oe,ue){oe?Q(oe):ce(ue)});try{te.apply(this,re)}catch(oe){Q(oe)}return Z}return Object.setPrototypeOf(ne,Object.getPrototypeOf(te)),N&&Object.defineProperty(ne,N,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,R(te))},G.promisify.custom=N;function V(q,te){if(!q){var ne=new Error("Promise was rejected with a falsy value");ne.reason=q,q=ne}return te(q)}function X(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function te(){for(var ne=[],ce=0;ce<arguments.length;ce++)ne.push(arguments[ce]);var Q=ne.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var Z=this,re=function(){return Q.apply(Z,arguments)};q.apply(this,ne).then(function(Y){g.nextTick(re.bind(null,null,Y))},function(Y){g.nextTick(V.bind(null,Y,re))})}return Object.setPrototypeOf(te,Object.getPrototypeOf(q)),Object.defineProperties(te,R(q)),te}G.callbackify=X},5408:function(H,G,e){var g=e(13380);H.exports=function(a){return g("webgl",a)}},96632:function(H,G,e){var g=e(46492),R=e(63436),a=e(57916),C=e(99676),S=e(2304),v=C("Object.prototype.toString"),d=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=R(),i=C("String.prototype.slice"),n=Object.getPrototypeOf,f=C("Array.prototype.indexOf",!0)||function(A,h){for(var o=0;o<A.length;o+=1)if(A[o]===h)return o;return-1},u={__proto__:null};d&&S&&n?g(t,function(c){var A=new r[c];if(Symbol.toStringTag in A){var h=n(A),o=S(h,Symbol.toStringTag);if(!o){var p=n(h);o=S(p,Symbol.toStringTag)}u["$"+c]=a(o.get)}}):g(t,function(c){var A=new r[c],h=A.slice||A.set;h&&(u["$"+c]=a(h))});var l=function(A){var h=!1;return g(u,function(o,p){if(!h)try{"$"+o(A)===p&&(h=i(p,1))}catch{}}),h},m=function(A){var h=!1;return g(u,function(o,p){if(!h)try{o(A),h=i(p,1)}catch{}}),h};H.exports=function(A){if(!A||typeof A!="object")return!1;if(!d){var h=i(v(A),8,-1);return f(t,h)>-1?h:h!=="Object"?!1:m(A)}return S?l(A):null}},67020:function(H,G,e){var g=e(38700),R=e(50896),a=g.instance();function C(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var m=u.match(v);return m?m[0]:""}var c=this._validateYear(u),A=u.month(),h=""+this.toChineseMonth(c,A);return l&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(c,A)&&(h+="i"),h},monthNames:function(u){if(typeof u=="string"){var l=u.match(d);return l?l[0]:""}var m=this._validateYear(u),c=u.month(),A=this.toChineseMonth(m,c),h=["","","","","","","","","","","",""][A-1];return this.isIntercalaryMonth(m,c)&&(h=""+h),h},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var m=this._validateYear(u),c=u.month(),A=this.toChineseMonth(m,c),h=["","","","","","","","","","","",""][A-1];return this.isIntercalaryMonth(m,c)&&(h=""+h),h},parseMonth:function(u,l){u=this._validateYear(u);var m=parseInt(l),c;if(isNaN(m))l[0]===""&&(c=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),m=1+["","","","","","","","","","","",""].indexOf(l);else{var A=l[l.length-1];c=A==="i"||A==="I"}var h=this.toMonthIndex(u,m,c);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,m){var c=this.intercalaryMonth(u),A=m&&l!==c;if(A||l<1||l>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return c?!m&&l<=c?h=l-1:h=l:h=l-1,h},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var m=this.intercalaryMonth(u),c=m?12:11;if(l<0||l>c)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var A;return m?l<m?A=l+1:A=l:A=l+1,A},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],m=l>>13;return m},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var m=this.intercalaryMonth(u);return!!m&&m===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,m){var c=this._validateYear(u,g.local.invalidyear),A=i[c-i[0]],h=A>>9&4095,o=A>>5&15,p=A&31,b;b=a.newDate(h,o,p),b.add(4-(b.dayOfWeek()||7),"d");var T=this.toJD(u,l,m)-b.toJD();return 1+Math.floor(T/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var m=t[u-t[0]],c=m>>13,A=c?12:11;if(l>A)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=m&1<<12-l?30:29;return h},weekDay:function(u,l,m){return(this.dayOfWeek(u,l,m)||7)<6},toJD:function(u,l,m){var c=this._validate(u,h,m,g.local.invalidDate);u=this._validateYear(c.year()),l=c.month(),m=c.day();var A=this.isIntercalaryMonth(u,l),h=this.toChineseMonth(u,l),o=f(u,h,m,A);return a.toJD(o.year,o.month,o.day)},fromJD:function(u){var l=a.fromJD(u),m=n(l.year(),l.month(),l.day()),c=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,c,m.day)},fromString:function(u){var l=u.match(S),m=this._validateYear(+l[1]),c=+l[2],A=!!l[3],h=this.toMonthIndex(m,c,A),o=+l[4];return this.newDate(m,h,o)},add:function(u,l,m){var c=u.year(),A=u.month(),h=this.isIntercalaryMonth(c,A),o=this.toChineseMonth(c,A),p=Object.getPrototypeOf(C.prototype).add.call(this,u,l,m);if(m==="y"){var b=p.year(),T=p.month(),P=this.isIntercalaryMonth(b,o),x=h&&P?this.toMonthIndex(b,o,!0):this.toMonthIndex(b,o,!1);x!==T&&p.month(x)}return p}});var S=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,d=/^??[]?/m,r=/^??[]?/m;g.calendars.chinese=C;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],i=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,l,m,c){var A,h;if(typeof u=="object")A=u,h=l||{};else{var o=typeof u=="number"&&u>=1888&&u<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var p=typeof l=="number"&&l>=1&&l<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var b=typeof m=="number"&&m>=1&&m<=31;if(!b)throw new Error("Solar day outside range 1 - 31");A={year:u,month:l,day:m},h=c||{}}var T=i[A.year-i[0]],P=A.year<<9|A.month<<5|A.day;h.year=P>=T?A.year:A.year-1,T=i[h.year-i[0]];var x=T>>9&4095,L=T>>5&15,M=T&31,s,E=new Date(x,L-1,M),w=new Date(A.year,A.month-1,A.day);s=Math.round((w-E)/864e5);var O=t[h.year-t[0]],_;for(_=0;_<13;_++){var U=O&1<<12-_?30:29;if(s<U)break;s-=U}var z=O>>13;return!z||_<z?(h.isIntercalary=!1,h.month=1+_):_===z?(h.isIntercalary=!0,h.month=_):(h.isIntercalary=!1,h.month=_),h.day=1+s,h}function f(u,l,m,c,A){var h,o;if(typeof u=="object")o=u,h=l||{};else{var p=typeof u=="number"&&u>=1888&&u<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var b=typeof l=="number"&&l>=1&&l<=12;if(!b)throw new Error("Lunar month outside range 1 - 12");var T=typeof m=="number"&&m>=1&&m<=30;if(!T)throw new Error("Lunar day outside range 1 - 30");var P;typeof c=="object"?(P=!1,h=c):(P=!!c,h=A||{}),o={year:u,month:l,day:m,isIntercalary:P}}var x;x=o.day-1;var L=t[o.year-t[0]],M=L>>13,s;M&&(o.month>M||o.isIntercalary)?s=o.month:s=o.month-1;for(var E=0;E<s;E++){var w=L&1<<12-E?30:29;x+=w}var O=i[o.year-i[0]],_=O>>9&4095,U=O>>5&15,z=O&31,F=new Date(_,U-1,z+x);return h.year=F.getFullYear(),h.month=1+F.getMonth(),h.day=F.getDate(),h}},89792:function(H,G,e){var g=e(38700),R=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);return C=d.year(),C<0&&C++,d.day()+(d.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var S=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var d=Math.floor(S/30)+1,r=S-(d-1)*30+1;return this.newDate(v,d,r)}}),g.calendars.coptic=a},55668:function(H,G,e){var g=e(38700),R=e(50896);function a(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(S){return this._validate(S,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(S){return this._validate(S,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);return(r.day()+1)%8},weekDay:function(S,v,d){var r=this.dayOfWeek(S,v,d);return r>=2&&r<=6},extraInfo:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);return{century:C[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);return S=r.year()+(r.year()<0?1:0),v=r.month(),d=r.day(),d+(v>1?16:0)+(v>2?(v-2)*32:0)+(S-1)*400+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(S/400)+1;S-=(v-1)*400,S+=S>15?16:0;var d=Math.floor(S/32)+1,r=S-(d-1)*32+1;return this.newDate(v<=0?v-1:v,d,r)}});var C={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=a},65168:function(H,G,e){var g=e(38700),R=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);return C=d.year(),C<0&&C++,d.day()+(d.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var S=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var d=Math.floor(S/30)+1,r=S-(d-1)*30+1;return this.newDate(v,d,r)}}),g.calendars.ethiopian=a},2084:function(H,G,e){var g=e(38700),R=e(50896);function a(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(S){return S=S<0?S+1:S,C(S*7+1,19)<7},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(S.year?S.year():S)?13:12},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear);return S=v.year(),this.toJD(S===-1?1:S+1,7,1)-this.toJD(S,7,1)},daysInMonth:function(S,v){return S.year&&(v=S.month(),S=S.year()),this._validate(S,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(S)||v===8&&C(this.daysInYear(S),10)===5?30:v===9&&C(this.daysInYear(S),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(S,v,d){return this.dayOfWeek(S,v,d)!==6},extraInfo:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);S=r.year(),v=r.month(),d=r.day();var t=S<=0?S+1:S,i=this.jdEpoch+this._delay1(t)+this._delay2(t)+d+1;if(v<7){for(var n=7;n<=this.monthsInYear(S);n++)i+=this.daysInMonth(S,n);for(var n=1;n<v;n++)i+=this.daysInMonth(S,n)}else for(var n=7;n<v;n++)i+=this.daysInMonth(S,n);return i},_delay1:function(S){var v=Math.floor((235*S-234)/19),d=12084+13753*v,r=v*29+Math.floor(d/25920);return C(3*(r+1),7)<3&&r++,r},_delay2:function(S){var v=this._delay1(S-1),d=this._delay1(S),r=this._delay1(S+1);return r-d===356?2:d-v===382?1:0},fromJD:function(S){S=Math.floor(S)+.5;for(var v=Math.floor((S-this.jdEpoch)*98496/35975351)-1;S>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var d=S<this.toJD(v,1,1)?7:1;S>this.toJD(v,d,this.daysInMonth(v,d));)d++;var r=S-this.toJD(v,d,1)+1;return this.newDate(v,d,r)}});function C(S,v){return S-v*Math.floor(S/v)}g.calendars.hebrew=a},26368:function(H,G,e){var g=e(38700),R=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var S=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);return(S.year()*11+14)%30<11},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return this.dayOfWeek(C,S,v)!==5},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);return C=d.year(),S=d.month(),v=d.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(S-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var S=Math.floor((30*(C-this.jdEpoch)+10646)/10631);S=S<=0?S-1:S;var v=Math.min(12,Math.ceil((C-29-this.toJD(S,1,1))/29.5)+1),d=C-this.toJD(S,v,1)+1;return this.newDate(S,v,d)}}),g.calendars.islamic=a},24747:function(H,G,e){var g=e(38700),R=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=S.year()<0?S.year()+1:S.year();return v%4===0},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);return C=d.year(),S=d.month(),v=d.day(),C<0&&C++,S<=2&&(C--,S+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(S+1))+v-1524.5},fromJD:function(C){var S=Math.floor(C+.5),v=S+1524,d=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*d),t=Math.floor((v-r)/30.6001),i=t-Math.floor(t<14?1:13),n=d-Math.floor(i>2?4716:4715),f=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,f)}}),g.calendars.julian=a},65616:function(H,G,e){var g=e(38700),R=e(50896);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var d=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=d.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var d=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";d=d*20+t}return d},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,d,r){return this._validate(v,d,r,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,d){return this._validate(v,d,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,d,r){var t=this._validate(v,d,r,g.local.invalidDate);return t.day()},weekDay:function(v,d,r){return this._validate(v,d,r,g.local.invalidDate),!0},extraInfo:function(v,d,r){var t=this._validate(v,d,r,g.local.invalidDate),i=t.toJD(),n=this._toHaab(i),f=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){v-=this.jdEpoch;var d=C(v+8+17*20,365);return[Math.floor(d/20)+1,C(d,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[S(v+20,20),S(v+4,13)]},toJD:function(v,d,r){var t=this._validate(v,d,r,g.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var d=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(d,r,t)}});function C(v,d){return v-d*Math.floor(v/d)}function S(v,d){return C(v-1,d)+1}g.calendars.mayan=a},30632:function(H,G,e){var g=e(38700),R=e(50896);function a(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar;var C=g.instance("gregorian");R(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(S,v,d){return(this.dayOfWeek(S,v,d)||7)<6},toJD:function(t,v,d){var r=this._validate(t,v,d,g.local.invalidMonth),t=r.year();t<0&&t++;for(var i=r.day(),n=1;n<r.month();n++)i+=this.daysPerMonth[n-1];return i+C.toJD(t+1468,3,13)},fromJD:function(S){S=Math.floor(S+.5);for(var v=Math.floor((S-(this.jdEpoch-1))/366);S>=this.toJD(v+1,1,1);)v++;for(var d=S-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;d>this.daysInMonth(v,r);)d-=this.daysInMonth(v,r),r++;return this.newDate(v,r,d)}}),g.calendars.nanakshahi=a},73040:function(H,G,e){var g=e(38700),R=e(50896);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,S,v){var d=this.newDate(C,S,v);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(C){var S=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);if(C=S.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var v=0,d=this.minMonth;d<=12;d++)v+=this.NEPALI_CALENDAR_DATA[C][d];return v},daysInMonth:function(C,S){return C.year&&(S=C.month(),C=C.year()),this._validate(C,S,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[S-1]:this.NEPALI_CALENDAR_DATA[C][S]},weekDay:function(C,S,v){return this.dayOfWeek(C,S,v)!==6},toJD:function(C,S,v){var d=this._validate(C,S,v,g.local.invalidDate);C=d.year(),S=d.month(),v=d.day();var r=g.instance(),t=0,i=S,n=C;this._createMissingCalendarData(C);var f=C-(i>9||i===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(S!==9&&(t=v,i--);i!==9;)i<=0&&(i=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][i],i--;return S===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(f))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(f,1,1).add(t,"d").toJD()},fromJD:function(C){var S=g.instance(),v=S.fromJD(C),d=v.year(),r=v.dayOfYear(),t=d+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][0],f=this.NEPALI_CALENDAR_DATA[t][i]-n+1;r>f;)i++,i>12&&(i=1,t++),f+=this.NEPALI_CALENDAR_DATA[t][i];var u=this.NEPALI_CALENDAR_DATA[t][i]-(f-r);return this.newDate(t,i,u)},_createMissingCalendarData:function(C){var S=this.daysPerMonth.slice(0);S.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=S)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=a},1104:function(H,G,e){var g=e(38700),R=e(50896);function a(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(S,v,d){return this.dayOfWeek(S,v,d)!==5},toJD:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate);S=r.year(),v=r.month(),d=r.day();var t=S-(S>=0?474:473),i=474+C(t,2820);return d+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var v=S-this.toJD(475,1,1),d=Math.floor(v/1029983),r=C(v,1029983),t=2820;if(r!==1029982){var i=Math.floor(r/366),n=C(r,366);t=Math.floor((2134*i+2816*n+2815)/1028522)+i+1}var f=t+2820*d+474;f=f<=0?f-1:f;var u=S-this.toJD(f,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),m=S-this.toJD(f,l,1)+1;return this.newDate(f,l,m)}});function C(S,v){return S-v*Math.floor(S/v)}g.calendars.persian=a,g.calendars.jalali=a},51456:function(H,G,e){var g=e(38700),R=e(50896),a=g.instance();function C(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,g.local.invalidYear),d=this._t2gYear(v.year());return a.leapYear(d)},weekOfYear:function(t,v,d){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(S,v,d){return(this.dayOfWeek(S,v,d)||7)<6},toJD:function(t,v,d){var r=this._validate(t,v,d,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(S){var v=a.fromJD(S),d=this._g2tYear(v.year());return this.newDate(d,v.month(),v.day())},_t2gYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)},_g2tYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)}}),g.calendars.taiwan=C},4592:function(H,G,e){var g=e(38700),R=e(50896),a=g.instance();function C(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var v=this._validate(d,this.minMonth,this.minDay,g.local.invalidYear),d=this._t2gYear(v.year());return a.leapYear(d)},weekOfYear:function(t,v,d){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear),t=this._t2gYear(r.year());return a.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var d=this._validate(S,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(S,v,d){return(this.dayOfWeek(S,v,d)||7)<6},toJD:function(t,v,d){var r=this._validate(t,v,d,g.local.invalidDate),t=this._t2gYear(r.year());return a.toJD(t,r.month(),r.day())},fromJD:function(S){var v=a.fromJD(S),d=this._g2tYear(v.year());return this.newDate(d,v.month(),v.day())},_t2gYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)},_g2tYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)}}),g.calendars.thai=C},45348:function(H,G,e){var g=e(38700),R=e(50896);function a(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(S,v,d){var r=this.newDate(S,v,d);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){for(var v=0,d=1;d<=12;d++)v+=this.daysInMonth(S,d);return v},daysInMonth:function(S,v){for(var d=this._validate(S,v,this.minDay,g.local.invalidMonth),r=d.toJD()-24e5+.5,t=0,i=0;i<C.length;i++){if(C[i]>r)return C[t]-C[t-1];t++}return 30},weekDay:function(S,v,d){return this.dayOfWeek(S,v,d)!==5},toJD:function(S,v,d){var r=this._validate(S,v,d,g.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,i=r.day()+C[t-1]-1;return i+24e5-.5},fromJD:function(S){for(var v=S-24e5+.5,d=0,r=0;r<C.length&&!(C[r]>v);r++)d++;var t=d+15292,i=Math.floor((t-1)/12),n=i+1,f=t-12*i,u=v-C[d-1]+1;return this.newDate(n,f,u)},isValid:function(S,v,d){var r=g.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(S=S.year!=null?S.year:S,r=S>=1276&&S<=1500),r},_validate:function(S,v,d,r){var t=g.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),g.calendars.ummalqura=a;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(H,G,e){var g=e(50896);function R(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(R.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var i=this._localCals[r+"-"+t];if(!i&&this.calendars[r]&&(i=new this.calendars[r](t),this._localCals[r+"-"+t]=i),!i)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return i},newDate:function(r,t,i,n,f){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,f):n)||this.instance(),n.newDate(r,t,i)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(i){return r[i]})}},substituteChineseDigits:function(r,t){return function(i){for(var n="",f=0;i>0;){var u=i%10;n=(u===0?"":r[u]+t[f])+n,f++,i=Math.floor(i/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function a(r,t,i,n){if(this._calendar=r,this._year=t,this._month=i,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}g(a.prototype,{newDate:function(r,t,i){return this._calendar.newDate(r??this,t,i)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,i){if(!this._calendar.isValid(r,t,i))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=i,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function S(){this.shortYearCutoff="+10"}g(S.prototype,{_validateLevel:0,newDate:function(r,t,i){return r==null?this.today():(r.year&&(this._validate(r,t,i,d.local.invalidDate||d.regionalOptions[""].invalidDate),i=r.day(),t=r.month(),r=r.year()),new a(this,r,t,i))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+C(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var i=this._validate(r,t,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(i.month()+this.monthsInYear(i)-this.firstMonth)%this.monthsInYear(i)+this.minMonth},fromMonthOfYear:function(r,t){var i=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,i,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),i},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,i){var n=this._validate(r,t,i,d.local.invalidDate||d.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,i){var n=this._validate(r,t,i,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,i){return this._validate(r,t,i,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(r,t,i){return this._validate(r,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,i),t,i)},_add:function(r,t,i){if(this._validateLevel++,i==="d"||i==="w"){var n=r.toJD()+t*(i==="w"?this.daysInWeek():1),f=r.calendar().fromJD(n);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var u=r.year()+(i==="y"?t:0),l=r.monthOfYear()+(i==="m"?t:0),f=r.day(),m=function(h){for(;l<h.minMonth;)u--,l+=h.monthsInYear(u);for(var o=h.monthsInYear(u);l>o-1+h.minMonth;)u++,l-=o,o=h.monthsInYear(u)};i==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):i==="m"&&(m(this),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var c=[u,this.fromMonthOfYear(u,l),f];return this._validateLevel--,c}catch(A){throw this._validateLevel--,A}},_correctAdd:function(r,t,i,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=i<0?-1:1;t=this._add(r,i*f[0]+u*f[1],f[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,i){this._validate(r,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var n=i==="y"?t:r.year(),f=i==="m"?t:r.month(),u=i==="d"?t:r.day();return(i==="y"||i==="m")&&(u=Math.min(u,this.daysInMonth(n,f))),r.date(n,f,u)},isValid:function(r,t,i){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var f=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(f)&&i>=this.minDay&&i-this.minDay<this.daysInMonth(f)}return this._validateLevel--,n},toJSDate:function(r,t,i){var n=this._validate(r,t,i,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(d.instance().fromJSDate(r).toJD())},_validate:function(r,t,i,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,i))throw n.replace(/\{0\}/,this.local.name);var f=this.newDate(r,t,i);return this._validateLevel--,f}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new S,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var t=this._validate(i,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),i=t.year()+(t.year()<0?1:0);return i%4===0&&(i%100!==0||i%400===0)},weekOfYear:function(r,t,i){var n=this.newDate(r,t,i);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var i=this._validate(r,t,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(r,t,i){return(this.dayOfWeek(r,t,i)||7)<6},toJD:function(r,t,i){var n=this._validate(r,t,i,d.local.invalidDate||d.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),i=n.day(),r<0&&r++,t<3&&(t+=12,r--);var f=Math.floor(r/100),u=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+i+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),i=Math.floor((t-186721625e-2)/36524.25);i=t+1+i-Math.floor(i/4);var n=i+1524,f=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*f),l=Math.floor((n-u)/30.6001),m=n-u-Math.floor(l*30.6001),c=l-(l>13.5?13:1),A=f-(c>2.5?4716:4715);return A<=0&&A--,this.newDate(A,c,m)},toJSDate:function(r,t,i){var n=this._validate(r,t,i,d.local.invalidDate||d.regionalOptions[""].invalidDate),f=new Date(n.year(),n.month()-1,n.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var d=H.exports=new R;d.cdate=a,d.baseCalendar=S,d.calendars.gregorian=v},15168:function(H,G,e){var g=e(50896),R=e(38700);g(R.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),R.local=R.regionalOptions[""],g(R.cdate.prototype,{formatDate:function(a,C){return typeof a!="string"&&(C=a,a=""),this._calendar.formatDate(a||"",this,C)}}),g(R.baseCalendar.prototype,{UNIX_EPOCH:R.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:R.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,C,S){if(typeof a!="string"&&(S=C,C=a,a=""),!C)return"";if(C.calendar()!==this)throw R.local.invalidFormat||R.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,S=S||{};var v=S.dayNamesShort||this.local.dayNamesShort,d=S.dayNames||this.local.dayNames,r=S.monthNumbers||this.local.monthNumbers,t=S.monthNamesShort||this.local.monthNamesShort,i=S.monthNames||this.local.monthNames;S.calculateWeek||this.local.calculateWeek;for(var n=function(T,P){for(var x=1;b+x<a.length&&a.charAt(b+x)===T;)x++;return b+=x-1,Math.floor(x/(P||1))>1},f=function(T,P,x,L){var M=""+P;if(n(T,L))for(;M.length<x;)M="0"+M;return M},u=function(T,P,x,L){return n(T)?L[P]:x[P]},l=this,m=function(T){return typeof r=="function"?r.call(l,T,n("m")):h(f("m",T.month(),2))},c=function(T,P){return P?typeof i=="function"?i.call(l,T):i[T.month()-l.minMonth]:typeof t=="function"?t.call(l,T):t[T.month()-l.minMonth]},A=this.local.digits,h=function(T){return S.localNumbers&&A?A(T):T},o="",p=!1,b=0;b<a.length;b++)if(p)a.charAt(b)==="'"&&!n("'")?p=!1:o+=a.charAt(b);else switch(a.charAt(b)){case"d":o+=h(f("d",C.day(),2));break;case"D":o+=u("D",C.dayOfWeek(),v,d);break;case"o":o+=f("o",C.dayOfYear(),3);break;case"w":o+=f("w",C.weekOfYear(),2);break;case"m":o+=m(C);break;case"M":o+=c(C,n("M"));break;case"y":o+=n("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":n("Y",2),o+=C.formatYear();break;case"J":o+=C.toJD();break;case"@":o+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":p=!0;break;default:o+=a.charAt(b)}return o},parseDate:function(a,C,S){if(C==null)throw R.local.invalidArguments||R.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;a=a||this.local.dateFormat,S=S||{};var v=S.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var d=S.dayNamesShort||this.local.dayNamesShort,r=S.dayNames||this.local.dayNames,t=S.parseMonth||this.local.parseMonth,i=S.monthNumbers||this.local.monthNumbers,n=S.monthNamesShort||this.local.monthNamesShort,f=S.monthNames||this.local.monthNames,u=-1,l=-1,m=-1,c=-1,A=-1,h=!1,o=!1,p=function(_,U){for(var z=1;E+z<a.length&&a.charAt(E+z)===_;)z++;return E+=z-1,Math.floor(z/(U||1))>1},b=function(_,U){var z=p(_,U),F=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],B=new RegExp("^-?\\d{1,"+F+"}"),N=C.substring(s).match(B);if(!N)throw(R.local.missingNumberAt||R.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=N[0].length,parseInt(N[0],10)},T=this,P=function(){if(typeof i=="function"){p("m");var _=i.call(T,C.substring(s));return s+=_.length,_}return b("m")},x=function(_,U,z,F){for(var B=p(_,F)?z:U,N=0;N<B.length;N++)if(C.substr(s,B[N].length).toLowerCase()===B[N].toLowerCase())return s+=B[N].length,N+T.minMonth;throw(R.local.unknownNameAt||R.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},L=function(){if(typeof f=="function"){var _=p("M")?f.call(T,C.substring(s)):n.call(T,C.substring(s));return s+=_.length,_}return x("M",n,f)},M=function(){if(C.charAt(s)!==a.charAt(E))throw(R.local.unexpectedLiteralAt||R.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,E=0;E<a.length;E++)if(o)a.charAt(E)==="'"&&!p("'")?o=!1:M();else switch(a.charAt(E)){case"d":c=b("d");break;case"D":x("D",d,r);break;case"o":A=b("o");break;case"w":b("w");break;case"m":m=P();break;case"M":m=L();break;case"y":var w=E;h=!p("y",2),E=w,l=b("y",2);break;case"Y":l=b("Y",2);break;case"J":u=b("J")+.5,C.charAt(s)==="."&&(s++,b("J"));break;case"@":u=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=C.length;break;case"'":p("'")?M():o=!0;break;default:M()}if(s<C.length)throw R.local.unexpectedText||R.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&h&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof m=="string"&&(m=t.call(this,l,m)),A>-1){m=1,c=A;for(var O=this.daysInMonth(l,m);c>O;O=this.daysInMonth(l,m))m++,c-=O}return u>-1?this.fromJD(u):this.newDate(l,m,c)},determineDate:function(a,C,S,v,d){S&&typeof S!="object"&&(d=v,v=S,S=null),typeof v!="string"&&(d=v,v="");var r=this,t=function(i){try{return r.parseDate(v,i,d)}catch{}i=i.toLowerCase();for(var n=(i.match(/^c/)&&S?S.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=f.exec(i);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=f.exec(i);return n};return C=C?C.newDate():null,a=a==null?C:typeof a=="string"?t(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?C:r.today().add(a,"d"):r.newDate(a),a}})},21576:function(){},19768:function(){},63436:function(H,G,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?e.g:globalThis;H.exports=function(){for(var C=[],S=0;S<g.length;S++)typeof R[g[S]]=="function"&&(C[C.length]=g[S]);return C}},67756:function(H,G,e){e.d(G,{qy:function(){return Ee},Gz:function(){return ue}});function g(be,Le,Ue){be.prototype=Le.prototype=Ue,Ue.constructor=be}function R(be,Le){var Ue=Object.create(be.prototype);for(var Ve in Le)Ue[Ve]=Le[Ve];return Ue}function a(){}var C=.7,S=1/C,v="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,i=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(d,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(d,"\\)$")),l=new RegExp("^hsl\\(".concat(d,",").concat(r,",").concat(r,"\\)$")),m=new RegExp("^hsla\\(".concat(d,",").concat(r,",").concat(r,",").concat(d,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(a,b,{copy:function(Le){return Object.assign(new this.constructor,this,Le)},displayable:function(){return this.rgb().displayable()},hex:A,formatHex:A,formatHex8:h,formatHsl:o,formatRgb:p,toString:p});function A(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function o(){return F(this).formatHsl()}function p(){return this.rgb().formatRgb()}function b(be){var Le,Ue;return be=(be+"").trim().toLowerCase(),(Le=t.exec(be))?(Ue=Le[1].length,Le=parseInt(Le[1],16),Ue===6?T(Le):Ue===3?new M(Le>>8&15|Le>>4&240,Le>>4&15|Le&240,(Le&15)<<4|Le&15,1):Ue===8?P(Le>>24&255,Le>>16&255,Le>>8&255,(Le&255)/255):Ue===4?P(Le>>12&15|Le>>8&240,Le>>8&15|Le>>4&240,Le>>4&15|Le&240,((Le&15)<<4|Le&15)/255):null):(Le=i.exec(be))?new M(Le[1],Le[2],Le[3],1):(Le=n.exec(be))?new M(Le[1]*255/100,Le[2]*255/100,Le[3]*255/100,1):(Le=f.exec(be))?P(Le[1],Le[2],Le[3],Le[4]):(Le=u.exec(be))?P(Le[1]*255/100,Le[2]*255/100,Le[3]*255/100,Le[4]):(Le=l.exec(be))?z(Le[1],Le[2]/100,Le[3]/100,1):(Le=m.exec(be))?z(Le[1],Le[2]/100,Le[3]/100,Le[4]):c.hasOwnProperty(be)?T(c[be]):be==="transparent"?new M(NaN,NaN,NaN,0):null}function T(be){return new M(be>>16&255,be>>8&255,be&255,1)}function P(be,Le,Ue,Ve){return Ve<=0&&(be=Le=Ue=NaN),new M(be,Le,Ue,Ve)}function x(be){return be instanceof a||(be=b(be)),be?(be=be.rgb(),new M(be.r,be.g,be.b,be.opacity)):new M}function L(be,Le,Ue,Ve){return arguments.length===1?x(be):new M(be,Le,Ue,Ve??1)}function M(be,Le,Ue,Ve){this.r=+be,this.g=+Le,this.b=+Ue,this.opacity=+Ve}g(M,L,R(a,{brighter:function(Le){return Le=Le==null?S:Math.pow(S,Le),new M(this.r*Le,this.g*Le,this.b*Le,this.opacity)},darker:function(Le){return Le=Le==null?C:Math.pow(C,Le),new M(this.r*Le,this.g*Le,this.b*Le,this.opacity)},rgb:function(){return this},clamp:function(){return new M(_(this.r),_(this.g),_(this.b),O(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:E,formatRgb:w,toString:w}));function s(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b))}function E(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b)).concat(U((isNaN(this.opacity)?1:this.opacity)*255))}function w(){var be=O(this.opacity);return"".concat(be===1?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(be===1?")":", ".concat(be,")"))}function O(be){return isNaN(be)?1:Math.max(0,Math.min(1,be))}function _(be){return Math.max(0,Math.min(255,Math.round(be)||0))}function U(be){return be=_(be),(be<16?"0":"")+be.toString(16)}function z(be,Le,Ue,Ve){return Ve<=0?be=Le=Ue=NaN:Ue<=0||Ue>=1?be=Le=NaN:Le<=0&&(be=NaN),new N(be,Le,Ue,Ve)}function F(be){if(be instanceof N)return new N(be.h,be.s,be.l,be.opacity);if(be instanceof a||(be=b(be)),!be)return new N;if(be instanceof N)return be;be=be.rgb();var Le=be.r/255,Ue=be.g/255,Ve=be.b/255,Fe=Math.min(Le,Ue,Ve),He=Math.max(Le,Ue,Ve),st=NaN,vt=He-Fe,lt=(He+Fe)/2;return vt?(Le===He?st=(Ue-Ve)/vt+(Ue<Ve)*6:Ue===He?st=(Ve-Le)/vt+2:st=(Le-Ue)/vt+4,vt/=lt<.5?He+Fe:2-He-Fe,st*=60):vt=lt>0&&lt<1?0:st,new N(st,vt,lt,be.opacity)}function B(be,Le,Ue,Ve){return arguments.length===1?F(be):new N(be,Le,Ue,Ve??1)}function N(be,Le,Ue,Ve){this.h=+be,this.s=+Le,this.l=+Ue,this.opacity=+Ve}g(N,B,R(a,{brighter:function(Le){return Le=Le==null?S:Math.pow(S,Le),new N(this.h,this.s,this.l*Le,this.opacity)},darker:function(Le){return Le=Le==null?C:Math.pow(C,Le),new N(this.h,this.s,this.l*Le,this.opacity)},rgb:function(){var Le=this.h%360+(this.h<0)*360,Ue=isNaN(Le)||isNaN(this.s)?0:this.s,Ve=this.l,Fe=Ve+(Ve<.5?Ve:1-Ve)*Ue,He=2*Ve-Fe;return new M(q(Le>=240?Le-240:Le+120,He,Fe),q(Le,He,Fe),q(Le<120?Le+240:Le-120,He,Fe),this.opacity)},clamp:function(){return new N(V(this.h),X(this.s),X(this.l),O(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Le=O(this.opacity);return"".concat(Le===1?"hsl(":"hsla(").concat(V(this.h),", ").concat(X(this.s)*100,"%, ").concat(X(this.l)*100,"%").concat(Le===1?")":", ".concat(Le,")"))}}));function V(be){return be=(be||0)%360,be<0?be+360:be}function X(be){return Math.max(0,Math.min(1,be||0))}function q(be,Le,Ue){return(be<60?Le+(Ue-Le)*be/60:be<180?Ue:be<240?Le+(Ue-Le)*(240-be)/60:Le)*255}var te=function(be){return function(){return be}};function ne(be,Le){return function(Ue){return be+Ue*Le}}function ce(be,Le,Ue){return be=Math.pow(be,Ue),Le=Math.pow(Le,Ue)-be,Ue=1/Ue,function(Ve){return Math.pow(be+Ve*Le,Ue)}}function Q(be){return(be=+be)==1?Z:function(Le,Ue){return Ue-Le?ce(Le,Ue,be):te(isNaN(Le)?Ue:Le)}}function Z(be,Le){var Ue=Le-be;return Ue?ne(be,Ue):te(isNaN(be)?Le:be)}var re=function be(Le){var Ue=Q(Le);function Ve(Fe,He){var st=Ue((Fe=L(Fe)).r,(He=L(He)).r),vt=Ue(Fe.g,He.g),lt=Ue(Fe.b,He.b),et=Z(Fe.opacity,He.opacity);return function(ct){return Fe.r=st(ct),Fe.g=vt(ct),Fe.b=lt(ct),Fe.opacity=et(ct),Fe+""}}return Ve.gamma=be,Ve}(1);function Y(be,Le){var Ue=Le?Le.length:0,Ve=be?Math.min(Ue,be.length):0,Fe=new Array(Ve),He=new Array(Ue),st;for(st=0;st<Ve;++st)Fe[st]=Ee(be[st],Le[st]);for(;st<Ue;++st)He[st]=Le[st];return function(vt){for(st=0;st<Ve;++st)He[st]=Fe[st](vt);return He}}function oe(be,Le){var Ue=new Date;return be=+be,Le=+Le,function(Ve){return Ue.setTime(be*(1-Ve)+Le*Ve),Ue}}function ue(be,Le){return be=+be,Le=+Le,function(Ue){return be*(1-Ue)+Le*Ue}}function K(be){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},K(be)}function $(be,Le){var Ue={},Ve={},Fe;(be===null||K(be)!=="object")&&(be={}),(Le===null||K(Le)!=="object")&&(Le={});for(Fe in Le)Fe in be?Ue[Fe]=Ee(be[Fe],Le[Fe]):Ve[Fe]=Le[Fe];return function(He){for(Fe in Ue)Ve[Fe]=Ue[Fe](He);return Ve}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ae=new RegExp(le.source,"g");function he(be){return function(){return be}}function xe(be){return function(Le){return be(Le)+""}}function Me(be,Le){var Ue=le.lastIndex=ae.lastIndex=0,Ve,Fe,He,st=-1,vt=[],lt=[];for(be=be+"",Le=Le+"";(Ve=le.exec(be))&&(Fe=ae.exec(Le));)(He=Fe.index)>Ue&&(He=Le.slice(Ue,He),vt[st]?vt[st]+=He:vt[++st]=He),(Ve=Ve[0])===(Fe=Fe[0])?vt[st]?vt[st]+=Fe:vt[++st]=Fe:(vt[++st]=null,lt.push({i:st,x:ue(Ve,Fe)})),Ue=ae.lastIndex;return Ue<Le.length&&(He=Le.slice(Ue),vt[st]?vt[st]+=He:vt[++st]=He),vt.length<2?lt[0]?xe(lt[0].x):he(Le):(Le=lt.length,function(et){for(var ct=0,ht;ct<Le;++ct)vt[(ht=lt[ct]).i]=ht.x(et);return vt.join("")})}function Ae(be,Le){Le||(Le=[]);var Ue=be?Math.min(Le.length,be.length):0,Ve=Le.slice(),Fe;return function(He){for(Fe=0;Fe<Ue;++Fe)Ve[Fe]=be[Fe]*(1-He)+Le[Fe]*He;return Ve}}function ke(be){return ArrayBuffer.isView(be)&&!(be instanceof DataView)}function we(be){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},we(be)}function Ee(be,Le){var Ue=we(Le),Ve;return Le==null||Ue==="boolean"?te(Le):(Ue==="number"?ue:Ue==="string"?(Ve=b(Le))?(Le=Ve,re):Me:Le instanceof b?re:Le instanceof Date?oe:ke(Le)?Ae:Array.isArray(Le)?Y:typeof Le.valueOf!="function"&&typeof Le.toString!="function"||isNaN(Le)?$:ue)(be,Le)}},30584:function(H){H.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(H){H.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(H){H.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(H){H.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(H){H.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(H){H.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},se={};function me(H){var G=se[H];if(G!==void 0)return G.exports;var e=se[H]={exports:{}};return j[H].call(e.exports,e,e.exports,me),e.exports}(function(){me.n=function(H){var G=H&&H.__esModule?function(){return H.default}:function(){return H};return me.d(G,{a:G}),G}})(),function(){me.d=function(H,G){for(var e in G)me.o(G,e)&&!me.o(H,e)&&Object.defineProperty(H,e,{enumerable:!0,get:G[e]})}}(),function(){me.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){me.o=function(H,G){return Object.prototype.hasOwnProperty.call(H,G)}}(),function(){me.r=function(H){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})}}();var Pe=me(13792);return Pe}()})})(PS);var U_=PS.exports;(function(y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var k=se(LS),j=se(U_);function se(H){return H&&H.__esModule?H:{default:H}}var me=(0,k.default)(j.default),Pe=me;y.default=Pe})(CS);const dT=RT(CS),L0=y=>typeof y=="number"&&!isNaN(y),Iv=y=>typeof y=="string",Yl=y=>typeof y=="function",oy=y=>Iv(y)||Yl(y)?y:null,bb=y=>Vn.isValidElement(y)||Iv(y)||Yl(y)||L0(y);function V_(y,k,j){j===void 0&&(j=300);const{scrollHeight:se,style:me}=y;requestAnimationFrame(()=>{me.minHeight="initial",me.height=se+"px",me.transition=`all ${j}ms`,requestAnimationFrame(()=>{me.height="0",me.padding="0",me.margin="0",setTimeout(k,j)})})}function Wm(y){let{enter:k,exit:j,appendPosition:se=!1,collapse:me=!0,collapseDuration:Pe=300}=y;return function(H){let{children:G,position:e,preventExitTransition:g,done:R,nodeRef:a,isIn:C,playToast:S}=H;const v=se?`${k}--${e}`:k,d=se?`${j}--${e}`:j,r=Vn.useRef(0);return Vn.useLayoutEffect(()=>{const t=a.current,i=v.split(" "),n=f=>{f.target===a.current&&(S(),t.removeEventListener("animationend",n),t.removeEventListener("animationcancel",n),r.current===0&&f.type!=="animationcancel"&&t.classList.remove(...i))};t.classList.add(...i),t.addEventListener("animationend",n),t.addEventListener("animationcancel",n)},[]),Vn.useEffect(()=>{const t=a.current,i=()=>{t.removeEventListener("animationend",i),me?V_(t,R,Pe):R()};C||(g?i():(r.current=1,t.className+=` ${d}`,t.addEventListener("animationend",i)))},[C]),Bi.createElement(Bi.Fragment,null,G)}}function pT(y,k){return y!=null?{content:y.content,containerId:y.props.containerId,id:y.props.toastId,theme:y.props.theme,type:y.props.type,data:y.props.data||{},isLoading:y.props.isLoading,icon:y.props.icon,status:k}:{}}const il=new Map;let P0=[];const wb=new Set,H_=y=>wb.forEach(k=>k(y)),RS=()=>il.size>0;function DS(y,k){var j;if(k)return!((j=il.get(k))==null||!j.isToastActive(y));let se=!1;return il.forEach(me=>{me.isToastActive(y)&&(se=!0)}),se}function IS(y,k){bb(y)&&(RS()||P0.push({content:y,options:k}),il.forEach(j=>{j.buildToast(y,k)}))}function gT(y,k){il.forEach(j=>{k!=null&&k!=null&&k.containerId?(k==null?void 0:k.containerId)===j.id&&j.toggle(y,k==null?void 0:k.id):j.toggle(y,k==null?void 0:k.id)})}function G_(y){const{subscribe:k,getSnapshot:j,setProps:se}=Vn.useRef(function(Pe){const H=Pe.containerId||1;return{subscribe(G){const e=function(R,a,C){let S=1,v=0,d=[],r=[],t=[],i=a;const n=new Map,f=new Set,u=()=>{t=Array.from(n.values()),f.forEach(c=>c())},l=c=>{r=c==null?[]:r.filter(A=>A!==c),u()},m=c=>{const{toastId:A,onOpen:h,updateId:o,children:p}=c.props,b=o==null;c.staleId&&n.delete(c.staleId),n.set(A,c),r=[...r,c.props.toastId].filter(T=>T!==c.staleId),u(),C(pT(c,b?"added":"updated")),b&&Yl(h)&&h(Vn.isValidElement(p)&&p.props)};return{id:R,props:i,observe:c=>(f.add(c),()=>f.delete(c)),toggle:(c,A)=>{n.forEach(h=>{A!=null&&A!==h.props.toastId||Yl(h.toggle)&&h.toggle(c)})},removeToast:l,toasts:n,clearQueue:()=>{v-=d.length,d=[]},buildToast:(c,A)=>{if((O=>{let{containerId:_,toastId:U,updateId:z}=O;const F=_?_!==R:R!==1,B=n.has(U)&&z==null;return F||B})(A))return;const{toastId:h,updateId:o,data:p,staleId:b,delay:T}=A,P=()=>{l(h)},x=o==null;x&&v++;const L={...i,style:i.toastStyle,key:S++,...Object.fromEntries(Object.entries(A).filter(O=>{let[_,U]=O;return U!=null})),toastId:h,updateId:o,data:p,closeToast:P,isIn:!1,className:oy(A.className||i.toastClassName),bodyClassName:oy(A.bodyClassName||i.bodyClassName),progressClassName:oy(A.progressClassName||i.progressClassName),autoClose:!A.isLoading&&(M=A.autoClose,s=i.autoClose,M===!1||L0(M)&&M>0?M:s),deleteToast(){const O=n.get(h),{onClose:_,children:U}=O.props;Yl(_)&&_(Vn.isValidElement(U)&&U.props),C(pT(O,"removed")),n.delete(h),v--,v<0&&(v=0),d.length>0?m(d.shift()):u()}};var M,s;L.closeButton=i.closeButton,A.closeButton===!1||bb(A.closeButton)?L.closeButton=A.closeButton:A.closeButton===!0&&(L.closeButton=!bb(i.closeButton)||i.closeButton);let E=c;Vn.isValidElement(c)&&!Iv(c.type)?E=Vn.cloneElement(c,{closeToast:P,toastProps:L,data:p}):Yl(c)&&(E=c({closeToast:P,toastProps:L,data:p}));const w={content:E,props:L,staleId:b};i.limit&&i.limit>0&&v>i.limit&&x?d.push(w):L0(T)?setTimeout(()=>{m(w)},T):m(w)},setProps(c){i=c},setToggle:(c,A)=>{n.get(c).toggle=A},isToastActive:c=>r.some(A=>A===c),getSnapshot:()=>i.newestOnTop?t.reverse():t}}(H,Pe,H_);il.set(H,e);const g=e.observe(G);return P0.forEach(R=>IS(R.content,R.options)),P0=[],()=>{g(),il.delete(H)}},setProps(G){var e;(e=il.get(H))==null||e.setProps(G)},getSnapshot(){var G;return(G=il.get(H))==null?void 0:G.getSnapshot()}}}(y)).current;se(y);const me=Vn.useSyncExternalStore(k,j,j);return{getToastToRender:function(Pe){if(!me)return[];const H=new Map;return me.forEach(G=>{const{position:e}=G.props;H.has(e)||H.set(e,[]),H.get(e).push(G)}),Array.from(H,G=>Pe(G[0],G[1]))},isToastActive:DS,count:me==null?void 0:me.length}}function W_(y){const[k,j]=Vn.useState(!1),[se,me]=Vn.useState(!1),Pe=Vn.useRef(null),H=Vn.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:G,pauseOnHover:e,closeToast:g,onClick:R,closeOnClick:a}=y;var C,S;function v(){j(!0)}function d(){j(!1)}function r(n){const f=Pe.current;H.canDrag&&f&&(H.didMove=!0,k&&d(),H.delta=y.draggableDirection==="x"?n.clientX-H.start:n.clientY-H.start,H.start!==n.clientX&&(H.canCloseOnClick=!1),f.style.transform=`translate3d(${y.draggableDirection==="x"?`${H.delta}px, var(--y)`:`0, calc(${H.delta}px + var(--y))`},0)`,f.style.opacity=""+(1-Math.abs(H.delta/H.removalDistance)))}function t(){document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",t);const n=Pe.current;if(H.canDrag&&H.didMove&&n){if(H.canDrag=!1,Math.abs(H.delta)>H.removalDistance)return me(!0),y.closeToast(),void y.collapseAll();n.style.transition="transform 0.2s, opacity 0.2s",n.style.removeProperty("transform"),n.style.removeProperty("opacity")}}(S=il.get((C={id:y.toastId,containerId:y.containerId,fn:j}).containerId||1))==null||S.setToggle(C.id,C.fn),Vn.useEffect(()=>{if(y.pauseOnFocusLoss)return document.hasFocus()||d(),window.addEventListener("focus",v),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",d)}},[y.pauseOnFocusLoss]);const i={onPointerDown:function(n){if(y.draggable===!0||y.draggable===n.pointerType){H.didMove=!1,document.addEventListener("pointermove",r),document.addEventListener("pointerup",t);const f=Pe.current;H.canCloseOnClick=!0,H.canDrag=!0,f.style.transition="none",y.draggableDirection==="x"?(H.start=n.clientX,H.removalDistance=f.offsetWidth*(y.draggablePercent/100)):(H.start=n.clientY,H.removalDistance=f.offsetHeight*(y.draggablePercent===80?1.5*y.draggablePercent:y.draggablePercent)/100)}},onPointerUp:function(n){const{top:f,bottom:u,left:l,right:m}=Pe.current.getBoundingClientRect();n.nativeEvent.type!=="touchend"&&y.pauseOnHover&&n.clientX>=l&&n.clientX<=m&&n.clientY>=f&&n.clientY<=u?d():v()}};return G&&e&&(i.onMouseEnter=d,y.stacked||(i.onMouseLeave=v)),a&&(i.onClick=n=>{R&&R(n),H.canCloseOnClick&&g()}),{playToast:v,pauseToast:d,isRunning:k,preventExitTransition:se,toastRef:Pe,eventHandlers:i}}function j_(y){let{delay:k,isRunning:j,closeToast:se,type:me="default",hide:Pe,className:H,style:G,controlledProgress:e,progress:g,rtl:R,isIn:a,theme:C}=y;const S=Pe||e&&g===0,v={...G,animationDuration:`${k}ms`,animationPlayState:j?"running":"paused"};e&&(v.transform=`scaleX(${g})`);const d=Pc("Toastify__progress-bar",e?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${C}`,`Toastify__progress-bar--${me}`,{"Toastify__progress-bar--rtl":R}),r=Yl(H)?H({rtl:R,type:me,defaultClassName:d}):Pc(d,H),t={[e&&g>=1?"onTransitionEnd":"onAnimationEnd"]:e&&g<1?null:()=>{a&&se()}};return Bi.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},Bi.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${C} Toastify__progress-bar--${me}`}),Bi.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:r,style:v,...t}))}let Y_=1;const kS=()=>""+Y_++;function X_(y){return y&&(Iv(y.toastId)||L0(y.toastId))?y.toastId:kS()}function r0(y,k){return IS(y,k),k.toastId}function Vy(y,k){return{...k,type:k&&k.type||y,toastId:X_(k)}}function Fg(y){return(k,j)=>r0(k,Vy(y,j))}function Xa(y,k){return r0(y,Vy("default",k))}Xa.loading=(y,k)=>r0(y,Vy("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...k})),Xa.promise=function(y,k,j){let se,{pending:me,error:Pe,success:H}=k;me&&(se=Iv(me)?Xa.loading(me,j):Xa.loading(me.render,{...j,...me}));const G={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},e=(R,a,C)=>{if(a==null)return void Xa.dismiss(se);const S={type:R,...G,...j,data:C},v=Iv(a)?{render:a}:a;return se?Xa.update(se,{...S,...v}):Xa(v.render,{...S,...v}),C},g=Yl(y)?y():y;return g.then(R=>e("success",H,R)).catch(R=>e("error",Pe,R)),g},Xa.success=Fg("success"),Xa.info=Fg("info"),Xa.error=Fg("error"),Xa.warning=Fg("warning"),Xa.warn=Xa.warning,Xa.dark=(y,k)=>r0(y,Vy("default",{theme:"dark",...k})),Xa.dismiss=function(y){(function(k){var j;if(RS()){if(k==null||Iv(j=k)||L0(j))il.forEach(se=>{se.removeToast(k)});else if(k&&("containerId"in k||"id"in k)){const se=il.get(k.containerId);se?se.removeToast(k.id):il.forEach(me=>{me.removeToast(k.id)})}}else P0=P0.filter(se=>k!=null&&se.options.toastId!==k)})(y)},Xa.clearWaitingQueue=function(y){y===void 0&&(y={}),il.forEach(k=>{!k.props.limit||y.containerId&&k.id!==y.containerId||k.clearQueue()})},Xa.isActive=DS,Xa.update=function(y,k){k===void 0&&(k={});const j=((se,me)=>{var Pe;let{containerId:H}=me;return(Pe=il.get(H||1))==null?void 0:Pe.toasts.get(se)})(y,k);if(j){const{props:se,content:me}=j,Pe={delay:100,...se,...k,toastId:k.toastId||y,updateId:kS()};Pe.toastId!==y&&(Pe.staleId=y);const H=Pe.render||me;delete Pe.render,r0(H,Pe)}},Xa.done=y=>{Xa.update(y,{progress:1})},Xa.onChange=function(y){return wb.add(y),()=>{wb.delete(y)}},Xa.play=y=>gT(!0,y),Xa.pause=y=>gT(!1,y);const Z_=typeof window<"u"?Vn.useLayoutEffect:Vn.useEffect,Ng=y=>{let{theme:k,type:j,isLoading:se,...me}=y;return Bi.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:k==="colored"?"currentColor":`var(--toastify-icon-color-${j})`,...me})},sx={info:function(y){return Bi.createElement(Ng,{...y},Bi.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(y){return Bi.createElement(Ng,{...y},Bi.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(y){return Bi.createElement(Ng,{...y},Bi.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(y){return Bi.createElement(Ng,{...y},Bi.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Bi.createElement("div",{className:"Toastify__spinner"})}},K_=y=>{const{isRunning:k,preventExitTransition:j,toastRef:se,eventHandlers:me,playToast:Pe}=W_(y),{closeButton:H,children:G,autoClose:e,onClick:g,type:R,hideProgressBar:a,closeToast:C,transition:S,position:v,className:d,style:r,bodyClassName:t,bodyStyle:i,progressClassName:n,progressStyle:f,updateId:u,role:l,progress:m,rtl:c,toastId:A,deleteToast:h,isIn:o,isLoading:p,closeOnClick:b,theme:T}=y,P=Pc("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${R}`,{"Toastify__toast--rtl":c},{"Toastify__toast--close-on-click":b}),x=Yl(d)?d({rtl:c,position:v,type:R,defaultClassName:P}):Pc(P,d),L=function(w){let{theme:O,type:_,isLoading:U,icon:z}=w,F=null;const B={theme:O,type:_};return z===!1||(Yl(z)?F=z({...B,isLoading:U}):Vn.isValidElement(z)?F=Vn.cloneElement(z,B):U?F=sx.spinner():(N=>N in sx)(_)&&(F=sx[_](B))),F}(y),M=!!m||!e,s={closeToast:C,type:R,theme:T};let E=null;return H===!1||(E=Yl(H)?H(s):Vn.isValidElement(H)?Vn.cloneElement(H,s):function(w){let{closeToast:O,theme:_,ariaLabel:U="close"}=w;return Bi.createElement("button",{className:`Toastify__close-button Toastify__close-button--${_}`,type:"button",onClick:z=>{z.stopPropagation(),O(z)},"aria-label":U},Bi.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Bi.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(s)),Bi.createElement(S,{isIn:o,done:h,position:v,preventExitTransition:j,nodeRef:se,playToast:Pe},Bi.createElement("div",{id:A,onClick:g,"data-in":o,className:x,...me,style:r,ref:se},Bi.createElement("div",{...o&&{role:l},className:Yl(t)?t({type:R}):Pc("Toastify__toast-body",t),style:i},L!=null&&Bi.createElement("div",{className:Pc("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!p})},L),Bi.createElement("div",null,G)),E,Bi.createElement(j_,{...u&&!M?{key:`pb-${u}`}:{},rtl:c,theme:T,delay:e,isRunning:k,isIn:o,closeToast:C,hide:a,type:R,style:f,className:n,controlledProgress:M,progress:m||0})))},jm=function(y,k){return k===void 0&&(k=!1),{enter:`Toastify--animate Toastify__${y}-enter`,exit:`Toastify--animate Toastify__${y}-exit`,appendPosition:k}},J_=Wm(jm("bounce",!0));Wm(jm("slide",!0));Wm(jm("zoom"));Wm(jm("flip"));const $_={position:"top-right",transition:J_,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Vc(y){let k={...$_,...y};const j=y.stacked,[se,me]=Vn.useState(!0),Pe=Vn.useRef(null),{getToastToRender:H,isToastActive:G,count:e}=G_(k),{className:g,style:R,rtl:a,containerId:C}=k;function S(d){const r=Pc("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":a});return Yl(g)?g({position:d,rtl:a,defaultClassName:r}):Pc(r,oy(g))}function v(){j&&(me(!0),Xa.play())}return Z_(()=>{if(j){var d;const r=Pe.current.querySelectorAll('[data-in="true"]'),t=12,i=(d=k.position)==null?void 0:d.includes("top");let n=0,f=0;Array.from(r).reverse().forEach((u,l)=>{const m=u;m.classList.add("Toastify__toast--stacked"),l>0&&(m.dataset.collapsed=`${se}`),m.dataset.pos||(m.dataset.pos=i?"top":"bot");const c=n*(se?.2:1)+(se?0:t*l);m.style.setProperty("--y",`${i?c:-1*c}px`),m.style.setProperty("--g",`${t}`),m.style.setProperty("--s",""+(1-(se?f:0))),n+=m.offsetHeight,f+=.025})}},[se,e,j]),Bi.createElement("div",{ref:Pe,className:"Toastify",id:C,onMouseEnter:()=>{j&&(me(!1),Xa.pause())},onMouseLeave:v},H((d,r)=>{const t=r.length?{...R}:{...R,pointerEvents:"none"};return Bi.createElement("div",{className:S(d),style:t,key:`container-${d}`},r.map(i=>{let{content:n,props:f}=i;return Bi.createElement(K_,{...f,stacked:j,collapseAll:v,isIn:G(f.toastId,f.containerId),style:f.style,key:`toast-${f.key}`},n)}))}))}const Q_=()=>{const{user:y}=Bc(),k=y==null?void 0:y.id,[j,se]=Vn.useState({transactions:[],expenses:[],bankAccounts:[],debts:[],netWorth:0,totalDebt:0,totalSavings:0,totalExpenses:0,totalTransaction:0,TotalBankBalance:0});Vn.useEffect(()=>{if(!k)return;(async()=>{try{const e=await Xi.get(`http://localhost:3000/users/${k}/dashboard`);se(g=>({...g,...e.data.financial_summary,netWorth:e.data.netWorth,totalDebt:e.data.totalDebt,totalSavings:e.data.totalSavings,totalExpenses:e.data.totalExpenses,totalTransaction:e.data.totalTransaction,TotalBankBalance:e.data.TotalBankBalance})),console.debug(e.data)}catch(e){console.error("Error fetching dashboard data:",e),Xa.error("Failed to fetch dashboard data")}})()},[k]);const me=G=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(G),Pe=()=>{const G=[{values:j.expenses.map(e=>parseFloat(e.amount)||0),labels:j.expenses.map(e=>e.category),type:"pie",hoverinfo:"label+percent",textinfo:"value"}];return er.jsx(dT,{data:G,layout:{title:"Expenses by Category",width:400,height:400}})},H=()=>{const G=j.expenses.reduce((R,{date:a,amount:C})=>{const S=new Date(a).getMonth();return R[S]=(R[S]||0)+(parseFloat(C)||0),R},{}),e=Object.keys(G).map(R=>new Date(0,parseInt(R)).toLocaleString("default",{month:"long"})),g=Object.values(G);return er.jsx(dT,{data:[{x:e,y:g,type:"bar"}],layout:{title:"Monthly Expenses",width:500,height:400}})};return er.jsxs("div",{className:"container mx-auto p-4",children:[er.jsx("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Export to Excel"}),er.jsx(Vc,{}),er.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Financial Dashboard"}),er.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 items-center",children:[er.jsx("div",{children:Pe()}),er.jsx("div",{children:H()}),er.jsx("br",{}),er.jsxs("div",{className:"text-center p-4 border rounded-lg shadow-lg m-4",children:[er.jsx("h2",{className:"font-bold text-xl",children:"Total Debt"}),er.jsx("p",{className:"text-lg",children:me(j.totalDebt)})]}),er.jsxs("div",{className:"text-center p-4 border rounded-lg shadow-lg m-4",children:[er.jsx("h2",{className:"font-bold text-xl",children:"Net Worth"}),er.jsx("p",{className:"text-lg",children:me(j.netWorth)})]}),er.jsxs("div",{className:"text-center p-4 border rounded-lg shadow-lg m-4",children:[er.jsx("h2",{className:"font-bold text-xl",children:"Total Expenses"}),er.jsx("p",{className:"text-lg",children:me(j.totalExpenses)})]}),er.jsxs("div",{className:"text-center p-4 border rounded-lg shadow-lg m-4",children:[er.jsx("h2",{className:"font-bold text-xl",children:"Total Transactions"}),er.jsx("p",{className:"text-lg",children:me(j.totalTransaction)})]}),er.jsxs("div",{className:"text-center p-4 border rounded-lg shadow-lg m-4",children:[er.jsx("h2",{className:"font-bold text-xl",children:"Saving Goals"}),er.jsx("p",{className:"text-lg",children:me(j.totalSavings)})]}),er.jsxs("div",{className:"text-center p-4 border rounded-lg shadow-lg m-4",children:[er.jsx("h2",{className:"font-bold text-xl",children:"Bank Account Balance"}),er.jsx("p",{className:"text-lg",children:me(j.TotalBankBalance)})]})]})]})},q_=async y=>{try{const k=await Xi({url:`http://localhost:3000/users/${y}/expenses/export`,method:"GET",responseType:"blob"}),j=new Blob([k.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),se=URL.createObjectURL(j),me=document.createElement("a");me.href=se,me.setAttribute("download","Expenses.xlsx"),document.body.appendChild(me),me.click(),document.body.removeChild(me),Xa.success("Expenses exported successfully!")}catch(k){console.error("Error downloading the file:",k),Xa.error("Failed to download Expenses")}};class Gd extends Error{constructor(j,se){const me=`${Gd.extractMessage(j)}: ${JSON.stringify({response:j,request:se})}`;super(me);pd(this,"response");pd(this,"request");Object.setPrototypeOf(this,Gd.prototype),this.response=j,this.request=se,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Gd)}static extractMessage(j){var se,me;return((me=(se=j.errors)==null?void 0:se[0])==null?void 0:me.message)??`GraphQL Error (Code: ${String(j.status)})`}}const yT=y=>y.toUpperCase(),lx=y=>typeof y=="function"?y():y,_S=(y,k)=>y.map((j,se)=>[j,k[se]]),Td=y=>{let k={};return y instanceof Headers?k=eO(y):Array.isArray(y)?y.forEach(([j,se])=>{j&&se!==void 0&&(k[j]=se)}):y&&(k=y),k},eO=y=>{const k={};return y.forEach((j,se)=>{k[se]=j}),k},tO=y=>{try{const k=y();return rO(k)?k.catch(j=>mT(j)):k}catch(k){return mT(k)}},mT=y=>y instanceof Error?y:new Error(String(y)),rO=y=>typeof y=="object"&&y!==null&&"then"in y&&typeof y.then=="function"&&"catch"in y&&typeof y.catch=="function"&&"finally"in y&&typeof y.finally=="function",rw=y=>{throw new Error(`Unhandled case: ${String(y)}`)},sy=y=>typeof y=="object"&&y!==null&&!Array.isArray(y),nO=(y,k)=>y.documents?y:{documents:y,requestHeaders:k,signal:void 0},aO=(y,k,j)=>y.query?y:{query:y,variables:k,requestHeaders:j,signal:void 0};function ly(y,k){if(!!!y)throw new Error(k)}function iO(y){return typeof y=="object"&&y!==null}function oO(y,k){if(!!!y)throw new Error(k??"Unexpected invariant triggered.")}const sO=/\r\n|[\n\r]/g;function Tb(y,k){let j=0,se=1;for(const me of y.body.matchAll(sO)){if(typeof me.index=="number"||oO(!1),me.index>=k)break;j=me.index+me[0].length,se+=1}return{line:se,column:k+1-j}}function lO(y){return OS(y.source,Tb(y.source,y.start))}function OS(y,k){const j=y.locationOffset.column-1,se="".padStart(j)+y.body,me=k.line-1,Pe=y.locationOffset.line-1,H=k.line+Pe,G=k.line===1?j:0,e=k.column+G,g=`${y.name}:${H}:${e}
`,R=se.split(/\r\n|[\n\r]/g),a=R[me];if(a.length>120){const C=Math.floor(e/80),S=e%80,v=[];for(let d=0;d<a.length;d+=80)v.push(a.slice(d,d+80));return g+xT([[`${H} |`,v[0]],...v.slice(1,C+1).map(d=>["|",d]),["|","^".padStart(S)],["|",v[C+1]]])}return g+xT([[`${H-1} |`,R[me-1]],[`${H} |`,a],["|","^".padStart(e)],[`${H+1} |`,R[me+1]]])}function xT(y){const k=y.filter(([se,me])=>me!==void 0),j=Math.max(...k.map(([se])=>se.length));return k.map(([se,me])=>se.padStart(j)+(me?" "+me:"")).join(`
`)}function uO(y){const k=y[0];return k==null||"kind"in k||"length"in k?{nodes:k,source:y[1],positions:y[2],path:y[3],originalError:y[4],extensions:y[5]}:k}class nw extends Error{constructor(k,...j){var se,me,Pe;const{nodes:H,source:G,positions:e,path:g,originalError:R,extensions:a}=uO(j);super(k),this.name="GraphQLError",this.path=g??void 0,this.originalError=R??void 0,this.nodes=bT(Array.isArray(H)?H:H?[H]:void 0);const C=bT((se=this.nodes)===null||se===void 0?void 0:se.map(v=>v.loc).filter(v=>v!=null));this.source=G??(C==null||(me=C[0])===null||me===void 0?void 0:me.source),this.positions=e??(C==null?void 0:C.map(v=>v.start)),this.locations=e&&G?e.map(v=>Tb(G,v)):C==null?void 0:C.map(v=>Tb(v.source,v.start));const S=iO(R==null?void 0:R.extensions)?R==null?void 0:R.extensions:void 0;this.extensions=(Pe=a??S)!==null&&Pe!==void 0?Pe:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),R!=null&&R.stack?Object.defineProperty(this,"stack",{value:R.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,nw):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let k=this.message;if(this.nodes)for(const j of this.nodes)j.loc&&(k+=`

`+lO(j.loc));else if(this.source&&this.locations)for(const j of this.locations)k+=`

`+OS(this.source,j);return k}toJSON(){const k={message:this.message};return this.locations!=null&&(k.locations=this.locations),this.path!=null&&(k.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(k.extensions=this.extensions),k}}function bT(y){return y===void 0||y.length===0?void 0:y}function hs(y,k,j){return new nw(`Syntax Error: ${j}`,{source:y,positions:[k]})}class fO{constructor(k,j,se){this.start=k.start,this.end=j.end,this.startToken=k,this.endToken=j,this.source=se}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class zS{constructor(k,j,se,me,Pe,H){this.kind=k,this.start=j,this.end=se,this.line=me,this.column=Pe,this.value=H,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const FS={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},cO=new Set(Object.keys(FS));function wT(y){const k=y==null?void 0:y.kind;return typeof k=="string"&&cO.has(k)}var Pv;(function(y){y.QUERY="query",y.MUTATION="mutation",y.SUBSCRIPTION="subscription"})(Pv||(Pv={}));var Ab;(function(y){y.QUERY="QUERY",y.MUTATION="MUTATION",y.SUBSCRIPTION="SUBSCRIPTION",y.FIELD="FIELD",y.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",y.FRAGMENT_SPREAD="FRAGMENT_SPREAD",y.INLINE_FRAGMENT="INLINE_FRAGMENT",y.VARIABLE_DEFINITION="VARIABLE_DEFINITION",y.SCHEMA="SCHEMA",y.SCALAR="SCALAR",y.OBJECT="OBJECT",y.FIELD_DEFINITION="FIELD_DEFINITION",y.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",y.INTERFACE="INTERFACE",y.UNION="UNION",y.ENUM="ENUM",y.ENUM_VALUE="ENUM_VALUE",y.INPUT_OBJECT="INPUT_OBJECT",y.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Ab||(Ab={}));var Ja;(function(y){y.NAME="Name",y.DOCUMENT="Document",y.OPERATION_DEFINITION="OperationDefinition",y.VARIABLE_DEFINITION="VariableDefinition",y.SELECTION_SET="SelectionSet",y.FIELD="Field",y.ARGUMENT="Argument",y.FRAGMENT_SPREAD="FragmentSpread",y.INLINE_FRAGMENT="InlineFragment",y.FRAGMENT_DEFINITION="FragmentDefinition",y.VARIABLE="Variable",y.INT="IntValue",y.FLOAT="FloatValue",y.STRING="StringValue",y.BOOLEAN="BooleanValue",y.NULL="NullValue",y.ENUM="EnumValue",y.LIST="ListValue",y.OBJECT="ObjectValue",y.OBJECT_FIELD="ObjectField",y.DIRECTIVE="Directive",y.NAMED_TYPE="NamedType",y.LIST_TYPE="ListType",y.NON_NULL_TYPE="NonNullType",y.SCHEMA_DEFINITION="SchemaDefinition",y.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",y.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",y.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",y.FIELD_DEFINITION="FieldDefinition",y.INPUT_VALUE_DEFINITION="InputValueDefinition",y.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",y.UNION_TYPE_DEFINITION="UnionTypeDefinition",y.ENUM_TYPE_DEFINITION="EnumTypeDefinition",y.ENUM_VALUE_DEFINITION="EnumValueDefinition",y.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",y.DIRECTIVE_DEFINITION="DirectiveDefinition",y.SCHEMA_EXTENSION="SchemaExtension",y.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",y.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",y.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",y.UNION_TYPE_EXTENSION="UnionTypeExtension",y.ENUM_TYPE_EXTENSION="EnumTypeExtension",y.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Ja||(Ja={}));function Sb(y){return y===9||y===32}function R0(y){return y>=48&&y<=57}function NS(y){return y>=97&&y<=122||y>=65&&y<=90}function BS(y){return NS(y)||y===95}function hO(y){return NS(y)||R0(y)||y===95}function vO(y){var k;let j=Number.MAX_SAFE_INTEGER,se=null,me=-1;for(let H=0;H<y.length;++H){var Pe;const G=y[H],e=dO(G);e!==G.length&&(se=(Pe=se)!==null&&Pe!==void 0?Pe:H,me=H,H!==0&&e<j&&(j=e))}return y.map((H,G)=>G===0?H:H.slice(j)).slice((k=se)!==null&&k!==void 0?k:0,me+1)}function dO(y){let k=0;for(;k<y.length&&Sb(y.charCodeAt(k));)++k;return k}function pO(y,k){const j=y.replace(/"""/g,'\\"""'),se=j.split(/\r\n|[\n\r]/g),me=se.length===1,Pe=se.length>1&&se.slice(1).every(S=>S.length===0||Sb(S.charCodeAt(0))),H=j.endsWith('\\"""'),G=y.endsWith('"')&&!H,e=y.endsWith("\\"),g=G||e,R=!(k!=null&&k.minimize)&&(!me||y.length>70||g||Pe||H);let a="";const C=me&&Sb(y.charCodeAt(0));return(R&&!C||Pe)&&(a+=`
`),a+=j,(R||g)&&(a+=`
`),'"""'+a+'"""'}var na;(function(y){y.SOF="<SOF>",y.EOF="<EOF>",y.BANG="!",y.DOLLAR="$",y.AMP="&",y.PAREN_L="(",y.PAREN_R=")",y.SPREAD="...",y.COLON=":",y.EQUALS="=",y.AT="@",y.BRACKET_L="[",y.BRACKET_R="]",y.BRACE_L="{",y.PIPE="|",y.BRACE_R="}",y.NAME="Name",y.INT="Int",y.FLOAT="Float",y.STRING="String",y.BLOCK_STRING="BlockString",y.COMMENT="Comment"})(na||(na={}));class gO{constructor(k){const j=new zS(na.SOF,0,0,0,0);this.source=k,this.lastToken=j,this.token=j,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let k=this.token;if(k.kind!==na.EOF)do if(k.next)k=k.next;else{const j=mO(this,k.end);k.next=j,j.prev=k,k=j}while(k.kind===na.COMMENT);return k}}function yO(y){return y===na.BANG||y===na.DOLLAR||y===na.AMP||y===na.PAREN_L||y===na.PAREN_R||y===na.SPREAD||y===na.COLON||y===na.EQUALS||y===na.AT||y===na.BRACKET_L||y===na.BRACKET_R||y===na.BRACE_L||y===na.PIPE||y===na.BRACE_R}function sp(y){return y>=0&&y<=55295||y>=57344&&y<=1114111}function Ym(y,k){return US(y.charCodeAt(k))&&VS(y.charCodeAt(k+1))}function US(y){return y>=55296&&y<=56319}function VS(y){return y>=56320&&y<=57343}function Nv(y,k){const j=y.source.body.codePointAt(k);if(j===void 0)return na.EOF;if(j>=32&&j<=126){const se=String.fromCodePoint(j);return se==='"'?`'"'`:`"${se}"`}return"U+"+j.toString(16).toUpperCase().padStart(4,"0")}function Jo(y,k,j,se,me){const Pe=y.line,H=1+j-y.lineStart;return new zS(k,j,se,Pe,H,me)}function mO(y,k){const j=y.source.body,se=j.length;let me=k;for(;me<se;){const Pe=j.charCodeAt(me);switch(Pe){case 65279:case 9:case 32:case 44:++me;continue;case 10:++me,++y.line,y.lineStart=me;continue;case 13:j.charCodeAt(me+1)===10?me+=2:++me,++y.line,y.lineStart=me;continue;case 35:return xO(y,me);case 33:return Jo(y,na.BANG,me,me+1);case 36:return Jo(y,na.DOLLAR,me,me+1);case 38:return Jo(y,na.AMP,me,me+1);case 40:return Jo(y,na.PAREN_L,me,me+1);case 41:return Jo(y,na.PAREN_R,me,me+1);case 46:if(j.charCodeAt(me+1)===46&&j.charCodeAt(me+2)===46)return Jo(y,na.SPREAD,me,me+3);break;case 58:return Jo(y,na.COLON,me,me+1);case 61:return Jo(y,na.EQUALS,me,me+1);case 64:return Jo(y,na.AT,me,me+1);case 91:return Jo(y,na.BRACKET_L,me,me+1);case 93:return Jo(y,na.BRACKET_R,me,me+1);case 123:return Jo(y,na.BRACE_L,me,me+1);case 124:return Jo(y,na.PIPE,me,me+1);case 125:return Jo(y,na.BRACE_R,me,me+1);case 34:return j.charCodeAt(me+1)===34&&j.charCodeAt(me+2)===34?MO(y,me):wO(y,me)}if(R0(Pe)||Pe===45)return bO(y,me,Pe);if(BS(Pe))return EO(y,me);throw hs(y.source,me,Pe===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:sp(Pe)||Ym(j,me)?`Unexpected character: ${Nv(y,me)}.`:`Invalid character: ${Nv(y,me)}.`)}return Jo(y,na.EOF,se,se)}function xO(y,k){const j=y.source.body,se=j.length;let me=k+1;for(;me<se;){const Pe=j.charCodeAt(me);if(Pe===10||Pe===13)break;if(sp(Pe))++me;else if(Ym(j,me))me+=2;else break}return Jo(y,na.COMMENT,k,me,j.slice(k+1,me))}function bO(y,k,j){const se=y.source.body;let me=k,Pe=j,H=!1;if(Pe===45&&(Pe=se.charCodeAt(++me)),Pe===48){if(Pe=se.charCodeAt(++me),R0(Pe))throw hs(y.source,me,`Invalid number, unexpected digit after 0: ${Nv(y,me)}.`)}else me=ux(y,me,Pe),Pe=se.charCodeAt(me);if(Pe===46&&(H=!0,Pe=se.charCodeAt(++me),me=ux(y,me,Pe),Pe=se.charCodeAt(me)),(Pe===69||Pe===101)&&(H=!0,Pe=se.charCodeAt(++me),(Pe===43||Pe===45)&&(Pe=se.charCodeAt(++me)),me=ux(y,me,Pe),Pe=se.charCodeAt(me)),Pe===46||BS(Pe))throw hs(y.source,me,`Invalid number, expected digit but got: ${Nv(y,me)}.`);return Jo(y,H?na.FLOAT:na.INT,k,me,se.slice(k,me))}function ux(y,k,j){if(!R0(j))throw hs(y.source,k,`Invalid number, expected digit but got: ${Nv(y,k)}.`);const se=y.source.body;let me=k+1;for(;R0(se.charCodeAt(me));)++me;return me}function wO(y,k){const j=y.source.body,se=j.length;let me=k+1,Pe=me,H="";for(;me<se;){const G=j.charCodeAt(me);if(G===34)return H+=j.slice(Pe,me),Jo(y,na.STRING,k,me+1,H);if(G===92){H+=j.slice(Pe,me);const e=j.charCodeAt(me+1)===117?j.charCodeAt(me+2)===123?TO(y,me):AO(y,me):SO(y,me);H+=e.value,me+=e.size,Pe=me;continue}if(G===10||G===13)break;if(sp(G))++me;else if(Ym(j,me))me+=2;else throw hs(y.source,me,`Invalid character within String: ${Nv(y,me)}.`)}throw hs(y.source,me,"Unterminated string.")}function TO(y,k){const j=y.source.body;let se=0,me=3;for(;me<12;){const Pe=j.charCodeAt(k+me++);if(Pe===125){if(me<5||!sp(se))break;return{value:String.fromCodePoint(se),size:me}}if(se=se<<4|jp(Pe),se<0)break}throw hs(y.source,k,`Invalid Unicode escape sequence: "${j.slice(k,k+me)}".`)}function AO(y,k){const j=y.source.body,se=TT(j,k+2);if(sp(se))return{value:String.fromCodePoint(se),size:6};if(US(se)&&j.charCodeAt(k+6)===92&&j.charCodeAt(k+7)===117){const me=TT(j,k+8);if(VS(me))return{value:String.fromCodePoint(se,me),size:12}}throw hs(y.source,k,`Invalid Unicode escape sequence: "${j.slice(k,k+6)}".`)}function TT(y,k){return jp(y.charCodeAt(k))<<12|jp(y.charCodeAt(k+1))<<8|jp(y.charCodeAt(k+2))<<4|jp(y.charCodeAt(k+3))}function jp(y){return y>=48&&y<=57?y-48:y>=65&&y<=70?y-55:y>=97&&y<=102?y-87:-1}function SO(y,k){const j=y.source.body;switch(j.charCodeAt(k+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw hs(y.source,k,`Invalid character escape sequence: "${j.slice(k,k+2)}".`)}function MO(y,k){const j=y.source.body,se=j.length;let me=y.lineStart,Pe=k+3,H=Pe,G="";const e=[];for(;Pe<se;){const g=j.charCodeAt(Pe);if(g===34&&j.charCodeAt(Pe+1)===34&&j.charCodeAt(Pe+2)===34){G+=j.slice(H,Pe),e.push(G);const R=Jo(y,na.BLOCK_STRING,k,Pe+3,vO(e).join(`
`));return y.line+=e.length-1,y.lineStart=me,R}if(g===92&&j.charCodeAt(Pe+1)===34&&j.charCodeAt(Pe+2)===34&&j.charCodeAt(Pe+3)===34){G+=j.slice(H,Pe),H=Pe+1,Pe+=4;continue}if(g===10||g===13){G+=j.slice(H,Pe),e.push(G),g===13&&j.charCodeAt(Pe+1)===10?Pe+=2:++Pe,G="",H=Pe,me=Pe;continue}if(sp(g))++Pe;else if(Ym(j,Pe))Pe+=2;else throw hs(y.source,Pe,`Invalid character within String: ${Nv(y,Pe)}.`)}throw hs(y.source,Pe,"Unterminated string.")}function EO(y,k){const j=y.source.body,se=j.length;let me=k+1;for(;me<se;){const Pe=j.charCodeAt(me);if(hO(Pe))++me;else break}return Jo(y,na.NAME,k,me,j.slice(k,me))}const CO=10,HS=2;function aw(y){return Xm(y,[])}function Xm(y,k){switch(typeof y){case"string":return JSON.stringify(y);case"function":return y.name?`[function ${y.name}]`:"[function]";case"object":return LO(y,k);default:return String(y)}}function LO(y,k){if(y===null)return"null";if(k.includes(y))return"[Circular]";const j=[...k,y];if(PO(y)){const se=y.toJSON();if(se!==y)return typeof se=="string"?se:Xm(se,j)}else if(Array.isArray(y))return DO(y,j);return RO(y,j)}function PO(y){return typeof y.toJSON=="function"}function RO(y,k){const j=Object.entries(y);return j.length===0?"{}":k.length>HS?"["+IO(y)+"]":"{ "+j.map(([me,Pe])=>me+": "+Xm(Pe,k)).join(", ")+" }"}function DO(y,k){if(y.length===0)return"[]";if(k.length>HS)return"[Array]";const j=Math.min(CO,y.length),se=y.length-j,me=[];for(let Pe=0;Pe<j;++Pe)me.push(Xm(y[Pe],k));return se===1?me.push("... 1 more item"):se>1&&me.push(`... ${se} more items`),"["+me.join(", ")+"]"}function IO(y){const k=Object.prototype.toString.call(y).replace(/^\[object /,"").replace(/]$/,"");if(k==="Object"&&typeof y.constructor=="function"){const j=y.constructor.name;if(typeof j=="string"&&j!=="")return j}return k}const kO=globalThis.process&&!0,_O=kO?function(k,j){return k instanceof j}:function(k,j){if(k instanceof j)return!0;if(typeof k=="object"&&k!==null){var se;const me=j.prototype[Symbol.toStringTag],Pe=Symbol.toStringTag in k?k[Symbol.toStringTag]:(se=k.constructor)===null||se===void 0?void 0:se.name;if(me===Pe){const H=aw(k);throw new Error(`Cannot use ${me} "${H}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class GS{constructor(k,j="GraphQL request",se={line:1,column:1}){typeof k=="string"||ly(!1,`Body must be a string. Received: ${aw(k)}.`),this.body=k,this.name=j,this.locationOffset=se,this.locationOffset.line>0||ly(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ly(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function OO(y){return _O(y,GS)}function zO(y,k){return new FO(y,k).parseDocument()}class FO{constructor(k,j={}){const se=OO(k)?k:new GS(k);this._lexer=new gO(se),this._options=j,this._tokenCounter=0}parseName(){const k=this.expectToken(na.NAME);return this.node(k,{kind:Ja.NAME,value:k.value})}parseDocument(){return this.node(this._lexer.token,{kind:Ja.DOCUMENT,definitions:this.many(na.SOF,this.parseDefinition,na.EOF)})}parseDefinition(){if(this.peek(na.BRACE_L))return this.parseOperationDefinition();const k=this.peekDescription(),j=k?this._lexer.lookahead():this._lexer.token;if(j.kind===na.NAME){switch(j.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(k)throw hs(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(j.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(j)}parseOperationDefinition(){const k=this._lexer.token;if(this.peek(na.BRACE_L))return this.node(k,{kind:Ja.OPERATION_DEFINITION,operation:Pv.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const j=this.parseOperationType();let se;return this.peek(na.NAME)&&(se=this.parseName()),this.node(k,{kind:Ja.OPERATION_DEFINITION,operation:j,name:se,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const k=this.expectToken(na.NAME);switch(k.value){case"query":return Pv.QUERY;case"mutation":return Pv.MUTATION;case"subscription":return Pv.SUBSCRIPTION}throw this.unexpected(k)}parseVariableDefinitions(){return this.optionalMany(na.PAREN_L,this.parseVariableDefinition,na.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Ja.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(na.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(na.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const k=this._lexer.token;return this.expectToken(na.DOLLAR),this.node(k,{kind:Ja.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Ja.SELECTION_SET,selections:this.many(na.BRACE_L,this.parseSelection,na.BRACE_R)})}parseSelection(){return this.peek(na.SPREAD)?this.parseFragment():this.parseField()}parseField(){const k=this._lexer.token,j=this.parseName();let se,me;return this.expectOptionalToken(na.COLON)?(se=j,me=this.parseName()):me=j,this.node(k,{kind:Ja.FIELD,alias:se,name:me,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(na.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(k){const j=k?this.parseConstArgument:this.parseArgument;return this.optionalMany(na.PAREN_L,j,na.PAREN_R)}parseArgument(k=!1){const j=this._lexer.token,se=this.parseName();return this.expectToken(na.COLON),this.node(j,{kind:Ja.ARGUMENT,name:se,value:this.parseValueLiteral(k)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const k=this._lexer.token;this.expectToken(na.SPREAD);const j=this.expectOptionalKeyword("on");return!j&&this.peek(na.NAME)?this.node(k,{kind:Ja.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(k,{kind:Ja.INLINE_FRAGMENT,typeCondition:j?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const k=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(k,{kind:Ja.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(k,{kind:Ja.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(k){const j=this._lexer.token;switch(j.kind){case na.BRACKET_L:return this.parseList(k);case na.BRACE_L:return this.parseObject(k);case na.INT:return this.advanceLexer(),this.node(j,{kind:Ja.INT,value:j.value});case na.FLOAT:return this.advanceLexer(),this.node(j,{kind:Ja.FLOAT,value:j.value});case na.STRING:case na.BLOCK_STRING:return this.parseStringLiteral();case na.NAME:switch(this.advanceLexer(),j.value){case"true":return this.node(j,{kind:Ja.BOOLEAN,value:!0});case"false":return this.node(j,{kind:Ja.BOOLEAN,value:!1});case"null":return this.node(j,{kind:Ja.NULL});default:return this.node(j,{kind:Ja.ENUM,value:j.value})}case na.DOLLAR:if(k)if(this.expectToken(na.DOLLAR),this._lexer.token.kind===na.NAME){const se=this._lexer.token.value;throw hs(this._lexer.source,j.start,`Unexpected variable "$${se}" in constant value.`)}else throw this.unexpected(j);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const k=this._lexer.token;return this.advanceLexer(),this.node(k,{kind:Ja.STRING,value:k.value,block:k.kind===na.BLOCK_STRING})}parseList(k){const j=()=>this.parseValueLiteral(k);return this.node(this._lexer.token,{kind:Ja.LIST,values:this.any(na.BRACKET_L,j,na.BRACKET_R)})}parseObject(k){const j=()=>this.parseObjectField(k);return this.node(this._lexer.token,{kind:Ja.OBJECT,fields:this.any(na.BRACE_L,j,na.BRACE_R)})}parseObjectField(k){const j=this._lexer.token,se=this.parseName();return this.expectToken(na.COLON),this.node(j,{kind:Ja.OBJECT_FIELD,name:se,value:this.parseValueLiteral(k)})}parseDirectives(k){const j=[];for(;this.peek(na.AT);)j.push(this.parseDirective(k));return j}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(k){const j=this._lexer.token;return this.expectToken(na.AT),this.node(j,{kind:Ja.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(k)})}parseTypeReference(){const k=this._lexer.token;let j;if(this.expectOptionalToken(na.BRACKET_L)){const se=this.parseTypeReference();this.expectToken(na.BRACKET_R),j=this.node(k,{kind:Ja.LIST_TYPE,type:se})}else j=this.parseNamedType();return this.expectOptionalToken(na.BANG)?this.node(k,{kind:Ja.NON_NULL_TYPE,type:j}):j}parseNamedType(){return this.node(this._lexer.token,{kind:Ja.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(na.STRING)||this.peek(na.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const k=this._lexer.token,j=this.parseDescription();this.expectKeyword("schema");const se=this.parseConstDirectives(),me=this.many(na.BRACE_L,this.parseOperationTypeDefinition,na.BRACE_R);return this.node(k,{kind:Ja.SCHEMA_DEFINITION,description:j,directives:se,operationTypes:me})}parseOperationTypeDefinition(){const k=this._lexer.token,j=this.parseOperationType();this.expectToken(na.COLON);const se=this.parseNamedType();return this.node(k,{kind:Ja.OPERATION_TYPE_DEFINITION,operation:j,type:se})}parseScalarTypeDefinition(){const k=this._lexer.token,j=this.parseDescription();this.expectKeyword("scalar");const se=this.parseName(),me=this.parseConstDirectives();return this.node(k,{kind:Ja.SCALAR_TYPE_DEFINITION,description:j,name:se,directives:me})}parseObjectTypeDefinition(){const k=this._lexer.token,j=this.parseDescription();this.expectKeyword("type");const se=this.parseName(),me=this.parseImplementsInterfaces(),Pe=this.parseConstDirectives(),H=this.parseFieldsDefinition();return this.node(k,{kind:Ja.OBJECT_TYPE_DEFINITION,description:j,name:se,interfaces:me,directives:Pe,fields:H})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(na.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(na.BRACE_L,this.parseFieldDefinition,na.BRACE_R)}parseFieldDefinition(){const k=this._lexer.token,j=this.parseDescription(),se=this.parseName(),me=this.parseArgumentDefs();this.expectToken(na.COLON);const Pe=this.parseTypeReference(),H=this.parseConstDirectives();return this.node(k,{kind:Ja.FIELD_DEFINITION,description:j,name:se,arguments:me,type:Pe,directives:H})}parseArgumentDefs(){return this.optionalMany(na.PAREN_L,this.parseInputValueDef,na.PAREN_R)}parseInputValueDef(){const k=this._lexer.token,j=this.parseDescription(),se=this.parseName();this.expectToken(na.COLON);const me=this.parseTypeReference();let Pe;this.expectOptionalToken(na.EQUALS)&&(Pe=this.parseConstValueLiteral());const H=this.parseConstDirectives();return this.node(k,{kind:Ja.INPUT_VALUE_DEFINITION,description:j,name:se,type:me,defaultValue:Pe,directives:H})}parseInterfaceTypeDefinition(){const k=this._lexer.token,j=this.parseDescription();this.expectKeyword("interface");const se=this.parseName(),me=this.parseImplementsInterfaces(),Pe=this.parseConstDirectives(),H=this.parseFieldsDefinition();return this.node(k,{kind:Ja.INTERFACE_TYPE_DEFINITION,description:j,name:se,interfaces:me,directives:Pe,fields:H})}parseUnionTypeDefinition(){const k=this._lexer.token,j=this.parseDescription();this.expectKeyword("union");const se=this.parseName(),me=this.parseConstDirectives(),Pe=this.parseUnionMemberTypes();return this.node(k,{kind:Ja.UNION_TYPE_DEFINITION,description:j,name:se,directives:me,types:Pe})}parseUnionMemberTypes(){return this.expectOptionalToken(na.EQUALS)?this.delimitedMany(na.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const k=this._lexer.token,j=this.parseDescription();this.expectKeyword("enum");const se=this.parseName(),me=this.parseConstDirectives(),Pe=this.parseEnumValuesDefinition();return this.node(k,{kind:Ja.ENUM_TYPE_DEFINITION,description:j,name:se,directives:me,values:Pe})}parseEnumValuesDefinition(){return this.optionalMany(na.BRACE_L,this.parseEnumValueDefinition,na.BRACE_R)}parseEnumValueDefinition(){const k=this._lexer.token,j=this.parseDescription(),se=this.parseEnumValueName(),me=this.parseConstDirectives();return this.node(k,{kind:Ja.ENUM_VALUE_DEFINITION,description:j,name:se,directives:me})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw hs(this._lexer.source,this._lexer.token.start,`${Bg(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const k=this._lexer.token,j=this.parseDescription();this.expectKeyword("input");const se=this.parseName(),me=this.parseConstDirectives(),Pe=this.parseInputFieldsDefinition();return this.node(k,{kind:Ja.INPUT_OBJECT_TYPE_DEFINITION,description:j,name:se,directives:me,fields:Pe})}parseInputFieldsDefinition(){return this.optionalMany(na.BRACE_L,this.parseInputValueDef,na.BRACE_R)}parseTypeSystemExtension(){const k=this._lexer.lookahead();if(k.kind===na.NAME)switch(k.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(k)}parseSchemaExtension(){const k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const j=this.parseConstDirectives(),se=this.optionalMany(na.BRACE_L,this.parseOperationTypeDefinition,na.BRACE_R);if(j.length===0&&se.length===0)throw this.unexpected();return this.node(k,{kind:Ja.SCHEMA_EXTENSION,directives:j,operationTypes:se})}parseScalarTypeExtension(){const k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const j=this.parseName(),se=this.parseConstDirectives();if(se.length===0)throw this.unexpected();return this.node(k,{kind:Ja.SCALAR_TYPE_EXTENSION,name:j,directives:se})}parseObjectTypeExtension(){const k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const j=this.parseName(),se=this.parseImplementsInterfaces(),me=this.parseConstDirectives(),Pe=this.parseFieldsDefinition();if(se.length===0&&me.length===0&&Pe.length===0)throw this.unexpected();return this.node(k,{kind:Ja.OBJECT_TYPE_EXTENSION,name:j,interfaces:se,directives:me,fields:Pe})}parseInterfaceTypeExtension(){const k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const j=this.parseName(),se=this.parseImplementsInterfaces(),me=this.parseConstDirectives(),Pe=this.parseFieldsDefinition();if(se.length===0&&me.length===0&&Pe.length===0)throw this.unexpected();return this.node(k,{kind:Ja.INTERFACE_TYPE_EXTENSION,name:j,interfaces:se,directives:me,fields:Pe})}parseUnionTypeExtension(){const k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const j=this.parseName(),se=this.parseConstDirectives(),me=this.parseUnionMemberTypes();if(se.length===0&&me.length===0)throw this.unexpected();return this.node(k,{kind:Ja.UNION_TYPE_EXTENSION,name:j,directives:se,types:me})}parseEnumTypeExtension(){const k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const j=this.parseName(),se=this.parseConstDirectives(),me=this.parseEnumValuesDefinition();if(se.length===0&&me.length===0)throw this.unexpected();return this.node(k,{kind:Ja.ENUM_TYPE_EXTENSION,name:j,directives:se,values:me})}parseInputObjectTypeExtension(){const k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const j=this.parseName(),se=this.parseConstDirectives(),me=this.parseInputFieldsDefinition();if(se.length===0&&me.length===0)throw this.unexpected();return this.node(k,{kind:Ja.INPUT_OBJECT_TYPE_EXTENSION,name:j,directives:se,fields:me})}parseDirectiveDefinition(){const k=this._lexer.token,j=this.parseDescription();this.expectKeyword("directive"),this.expectToken(na.AT);const se=this.parseName(),me=this.parseArgumentDefs(),Pe=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const H=this.parseDirectiveLocations();return this.node(k,{kind:Ja.DIRECTIVE_DEFINITION,description:j,name:se,arguments:me,repeatable:Pe,locations:H})}parseDirectiveLocations(){return this.delimitedMany(na.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const k=this._lexer.token,j=this.parseName();if(Object.prototype.hasOwnProperty.call(Ab,j.value))return j;throw this.unexpected(k)}node(k,j){return this._options.noLocation!==!0&&(j.loc=new fO(k,this._lexer.lastToken,this._lexer.source)),j}peek(k){return this._lexer.token.kind===k}expectToken(k){const j=this._lexer.token;if(j.kind===k)return this.advanceLexer(),j;throw hs(this._lexer.source,j.start,`Expected ${WS(k)}, found ${Bg(j)}.`)}expectOptionalToken(k){return this._lexer.token.kind===k?(this.advanceLexer(),!0):!1}expectKeyword(k){const j=this._lexer.token;if(j.kind===na.NAME&&j.value===k)this.advanceLexer();else throw hs(this._lexer.source,j.start,`Expected "${k}", found ${Bg(j)}.`)}expectOptionalKeyword(k){const j=this._lexer.token;return j.kind===na.NAME&&j.value===k?(this.advanceLexer(),!0):!1}unexpected(k){const j=k??this._lexer.token;return hs(this._lexer.source,j.start,`Unexpected ${Bg(j)}.`)}any(k,j,se){this.expectToken(k);const me=[];for(;!this.expectOptionalToken(se);)me.push(j.call(this));return me}optionalMany(k,j,se){if(this.expectOptionalToken(k)){const me=[];do me.push(j.call(this));while(!this.expectOptionalToken(se));return me}return[]}many(k,j,se){this.expectToken(k);const me=[];do me.push(j.call(this));while(!this.expectOptionalToken(se));return me}delimitedMany(k,j){this.expectOptionalToken(k);const se=[];do se.push(j.call(this));while(this.expectOptionalToken(k));return se}advanceLexer(){const{maxTokens:k}=this._options,j=this._lexer.advance();if(k!==void 0&&j.kind!==na.EOF&&(++this._tokenCounter,this._tokenCounter>k))throw hs(this._lexer.source,j.start,`Document contains more that ${k} tokens. Parsing aborted.`)}}function Bg(y){const k=y.value;return WS(y.kind)+(k!=null?` "${k}"`:"")}function WS(y){return yO(y)?`"${y}"`:y}function NO(y){return`"${y.replace(BO,UO)}"`}const BO=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function UO(y){return VO[y.charCodeAt(0)]}const VO=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],HO=Object.freeze({});function GO(y,k,j=FS){const se=new Map;for(const t of Object.values(Ja))se.set(t,WO(k,t));let me,Pe=Array.isArray(y),H=[y],G=-1,e=[],g=y,R,a;const C=[],S=[];do{G++;const t=G===H.length,i=t&&e.length!==0;if(t){if(R=S.length===0?void 0:C[C.length-1],g=a,a=S.pop(),i)if(Pe){g=g.slice();let f=0;for(const[u,l]of e){const m=u-f;l===null?(g.splice(m,1),f++):g[m]=l}}else{g=Object.defineProperties({},Object.getOwnPropertyDescriptors(g));for(const[f,u]of e)g[f]=u}G=me.index,H=me.keys,e=me.edits,Pe=me.inArray,me=me.prev}else if(a){if(R=Pe?G:H[G],g=a[R],g==null)continue;C.push(R)}let n;if(!Array.isArray(g)){var v,d;wT(g)||ly(!1,`Invalid AST Node: ${aw(g)}.`);const f=t?(v=se.get(g.kind))===null||v===void 0?void 0:v.leave:(d=se.get(g.kind))===null||d===void 0?void 0:d.enter;if(n=f==null?void 0:f.call(k,g,R,a,C,S),n===HO)break;if(n===!1){if(!t){C.pop();continue}}else if(n!==void 0&&(e.push([R,n]),!t))if(wT(n))g=n;else{C.pop();continue}}if(n===void 0&&i&&e.push([R,g]),t)C.pop();else{var r;me={inArray:Pe,index:G,keys:H,edits:e,prev:me},Pe=Array.isArray(g),H=Pe?g:(r=j[g.kind])!==null&&r!==void 0?r:[],G=-1,e=[],a&&S.push(a),a=g}}while(me!==void 0);return e.length!==0?e[e.length-1][1]:y}function WO(y,k){const j=y[k];return typeof j=="object"?j:typeof j=="function"?{enter:j,leave:void 0}:{enter:y.enter,leave:y.leave}}function jO(y){return GO(y,XO)}const YO=80,XO={Name:{leave:y=>y.value},Variable:{leave:y=>"$"+y.name},Document:{leave:y=>Ha(y.definitions,`

`)},OperationDefinition:{leave(y){const k=mi("(",Ha(y.variableDefinitions,", "),")"),j=Ha([y.operation,Ha([y.name,k]),Ha(y.directives," ")]," ");return(j==="query"?"":j+" ")+y.selectionSet}},VariableDefinition:{leave:({variable:y,type:k,defaultValue:j,directives:se})=>y+": "+k+mi(" = ",j)+mi(" ",Ha(se," "))},SelectionSet:{leave:({selections:y})=>hf(y)},Field:{leave({alias:y,name:k,arguments:j,directives:se,selectionSet:me}){const Pe=mi("",y,": ")+k;let H=Pe+mi("(",Ha(j,", "),")");return H.length>YO&&(H=Pe+mi(`(
`,uy(Ha(j,`
`)),`
)`)),Ha([H,Ha(se," "),me]," ")}},Argument:{leave:({name:y,value:k})=>y+": "+k},FragmentSpread:{leave:({name:y,directives:k})=>"..."+y+mi(" ",Ha(k," "))},InlineFragment:{leave:({typeCondition:y,directives:k,selectionSet:j})=>Ha(["...",mi("on ",y),Ha(k," "),j]," ")},FragmentDefinition:{leave:({name:y,typeCondition:k,variableDefinitions:j,directives:se,selectionSet:me})=>`fragment ${y}${mi("(",Ha(j,", "),")")} on ${k} ${mi("",Ha(se," ")," ")}`+me},IntValue:{leave:({value:y})=>y},FloatValue:{leave:({value:y})=>y},StringValue:{leave:({value:y,block:k})=>k?pO(y):NO(y)},BooleanValue:{leave:({value:y})=>y?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:y})=>y},ListValue:{leave:({values:y})=>"["+Ha(y,", ")+"]"},ObjectValue:{leave:({fields:y})=>"{"+Ha(y,", ")+"}"},ObjectField:{leave:({name:y,value:k})=>y+": "+k},Directive:{leave:({name:y,arguments:k})=>"@"+y+mi("(",Ha(k,", "),")")},NamedType:{leave:({name:y})=>y},ListType:{leave:({type:y})=>"["+y+"]"},NonNullType:{leave:({type:y})=>y+"!"},SchemaDefinition:{leave:({description:y,directives:k,operationTypes:j})=>mi("",y,`
`)+Ha(["schema",Ha(k," "),hf(j)]," ")},OperationTypeDefinition:{leave:({operation:y,type:k})=>y+": "+k},ScalarTypeDefinition:{leave:({description:y,name:k,directives:j})=>mi("",y,`
`)+Ha(["scalar",k,Ha(j," ")]," ")},ObjectTypeDefinition:{leave:({description:y,name:k,interfaces:j,directives:se,fields:me})=>mi("",y,`
`)+Ha(["type",k,mi("implements ",Ha(j," & ")),Ha(se," "),hf(me)]," ")},FieldDefinition:{leave:({description:y,name:k,arguments:j,type:se,directives:me})=>mi("",y,`
`)+k+(AT(j)?mi(`(
`,uy(Ha(j,`
`)),`
)`):mi("(",Ha(j,", "),")"))+": "+se+mi(" ",Ha(me," "))},InputValueDefinition:{leave:({description:y,name:k,type:j,defaultValue:se,directives:me})=>mi("",y,`
`)+Ha([k+": "+j,mi("= ",se),Ha(me," ")]," ")},InterfaceTypeDefinition:{leave:({description:y,name:k,interfaces:j,directives:se,fields:me})=>mi("",y,`
`)+Ha(["interface",k,mi("implements ",Ha(j," & ")),Ha(se," "),hf(me)]," ")},UnionTypeDefinition:{leave:({description:y,name:k,directives:j,types:se})=>mi("",y,`
`)+Ha(["union",k,Ha(j," "),mi("= ",Ha(se," | "))]," ")},EnumTypeDefinition:{leave:({description:y,name:k,directives:j,values:se})=>mi("",y,`
`)+Ha(["enum",k,Ha(j," "),hf(se)]," ")},EnumValueDefinition:{leave:({description:y,name:k,directives:j})=>mi("",y,`
`)+Ha([k,Ha(j," ")]," ")},InputObjectTypeDefinition:{leave:({description:y,name:k,directives:j,fields:se})=>mi("",y,`
`)+Ha(["input",k,Ha(j," "),hf(se)]," ")},DirectiveDefinition:{leave:({description:y,name:k,arguments:j,repeatable:se,locations:me})=>mi("",y,`
`)+"directive @"+k+(AT(j)?mi(`(
`,uy(Ha(j,`
`)),`
)`):mi("(",Ha(j,", "),")"))+(se?" repeatable":"")+" on "+Ha(me," | ")},SchemaExtension:{leave:({directives:y,operationTypes:k})=>Ha(["extend schema",Ha(y," "),hf(k)]," ")},ScalarTypeExtension:{leave:({name:y,directives:k})=>Ha(["extend scalar",y,Ha(k," ")]," ")},ObjectTypeExtension:{leave:({name:y,interfaces:k,directives:j,fields:se})=>Ha(["extend type",y,mi("implements ",Ha(k," & ")),Ha(j," "),hf(se)]," ")},InterfaceTypeExtension:{leave:({name:y,interfaces:k,directives:j,fields:se})=>Ha(["extend interface",y,mi("implements ",Ha(k," & ")),Ha(j," "),hf(se)]," ")},UnionTypeExtension:{leave:({name:y,directives:k,types:j})=>Ha(["extend union",y,Ha(k," "),mi("= ",Ha(j," | "))]," ")},EnumTypeExtension:{leave:({name:y,directives:k,values:j})=>Ha(["extend enum",y,Ha(k," "),hf(j)]," ")},InputObjectTypeExtension:{leave:({name:y,directives:k,fields:j})=>Ha(["extend input",y,Ha(k," "),hf(j)]," ")}};function Ha(y,k=""){var j;return(j=y==null?void 0:y.filter(se=>se).join(k))!==null&&j!==void 0?j:""}function hf(y){return mi(`{
`,uy(Ha(y,`
`)),`
}`)}function mi(y,k,j=""){return k!=null&&k!==""?y+k+j:""}function uy(y){return mi("  ",y.replace(/\n/g,`
  `))}function AT(y){var k;return(k=y==null?void 0:y.some(j=>j.includes(`
`)))!==null&&k!==void 0?k:!1}const ST="Accept",Mb="Content-Type",Eb="application/json",jS="application/graphql-response+json",MT=y=>y.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),ZO=y=>{const k=y.toLowerCase();return k.includes(jS)||k.includes(Eb)},ET=y=>{try{if(Array.isArray(y))return{_tag:"Batch",executionResults:y.map(CT)};if(sy(y))return{_tag:"Single",executionResult:CT(y)};throw new Error(`Invalid execution result: result is not object or array. 
Got:
${String(y)}`)}catch(k){return k}},CT=y=>{if(typeof y!="object"||y===null)throw new Error("Invalid execution result: result is not object");let k,j,se;if("errors"in y){if(!sy(y.errors)&&!Array.isArray(y.errors))throw new Error("Invalid execution result: errors is not plain object OR array");k=y.errors}if("data"in y){if(!sy(y.data)&&y.data!==null)throw new Error("Invalid execution result: data is not plain object");j=y.data}if("extensions"in y){if(!sy(y.extensions))throw new Error("Invalid execution result: extensions is not plain object");se=y.extensions}return{data:j,errors:k,extensions:se}},KO=y=>y._tag==="Batch"?y.executionResults.some(LT):LT(y.executionResult),LT=y=>Array.isArray(y.errors)?y.errors.length>0:!!y.errors,YS=y=>typeof y=="object"&&y!==null&&"kind"in y&&y.kind===Ja.OPERATION_DEFINITION,JO=y=>{var se;let k;const j=y.definitions.filter(YS);return j.length===1&&(k=(se=j[0].name)==null?void 0:se.value),k},$O=y=>{let k=!1;const j=y.definitions.filter(YS);return j.length===1&&(k=j[0].operation===Pv.MUTATION),k},fx=(y,k)=>{const j=typeof y=="string"?y:jO(y);let se=!1,me;if(k)return{expression:j,isMutation:se,operationName:me};const Pe=tO(()=>typeof y=="string"?zO(y):y);return Pe instanceof Error?{expression:j,isMutation:se,operationName:me}:(me=JO(Pe),se=$O(Pe),{expression:j,operationName:me,isMutation:se})},iw=JSON,cx=async y=>{const k={...y,method:y.request._tag==="Single"?y.request.document.isMutation?"POST":yT(y.method??"post"):y.request.hasMutations?"POST":yT(y.method??"post"),fetchOptions:{...y.fetchOptions,errorPolicy:y.fetchOptions.errorPolicy??"none"}},se=await qO(k.method)(k);if(!se.ok)return new Gd({status:se.status,headers:se.headers},{query:y.request._tag==="Single"?y.request.document.expression:y.request.query,variables:y.request.variables});const me=await QO(se,y.fetchOptions.jsonSerializer??iw);if(me instanceof Error)throw me;const Pe={status:se.status,headers:se.headers};if(KO(me)&&k.fetchOptions.errorPolicy==="none"){const H=me._tag==="Batch"?{...me.executionResults,...Pe}:{...me.executionResult,...Pe};return new Gd(H,{query:y.request._tag==="Single"?y.request.document.expression:y.request.query,variables:y.request.variables})}switch(me._tag){case"Single":return{...Pe,...PT(k)(me.executionResult)};case"Batch":return{...Pe,data:me.executionResults.map(PT(k))};default:rw(me)}},PT=y=>k=>({extensions:k.extensions,data:k.data,errors:y.fetchOptions.errorPolicy==="all"?k.errors:void 0}),QO=async(y,k)=>{const j=y.headers.get(Mb),se=await y.text();return j&&ZO(j)?ET(k.parse(se)):ET(se)},qO=y=>async k=>{const j=new Headers(k.headers);let se=null,me;j.has(ST)||j.set(ST,[jS,Eb].join(", ")),y==="POST"?(me=(k.fetchOptions.jsonSerializer??iw).stringify(ez(k)),typeof me=="string"&&!j.has(Mb)&&j.set(Mb,Eb)):se=tz(k);const Pe={method:y,headers:j,body:me,...k.fetchOptions};let H=new URL(k.url),G=Pe;if(k.middleware){const g=await Promise.resolve(k.middleware({...Pe,url:k.url,operationName:k.request._tag==="Single"?k.request.document.operationName:void 0,variables:k.request.variables})),{url:R,...a}=g;H=new URL(R),G=a}return se&&se.forEach((g,R)=>{H.searchParams.append(R,g)}),await(k.fetch??fetch)(H,G)},ez=y=>{switch(y.request._tag){case"Single":return{query:y.request.document.expression,variables:y.request.variables,operationName:y.request.document.operationName};case"Batch":return _S(y.request.query,y.request.variables??[]).map(([k,j])=>({query:k,variables:j}));default:throw rw(y.request)}},tz=y=>{var se;const k=y.fetchOptions.jsonSerializer??iw,j=new URLSearchParams;switch(y.request._tag){case"Single":return j.append("query",MT(y.request.document.expression)),y.request.variables&&j.append("variables",k.stringify(y.request.variables)),y.request.document.operationName&&j.append("operationName",y.request.document.operationName),j;case"Batch":{const me=((se=y.request.variables)==null?void 0:se.map(G=>k.stringify(G)))??[],Pe=y.request.query.map(MT),H=_S(Pe,me).map(([G,e])=>({query:G,variables:e}));return j.append("query",k.stringify(H)),j}default:throw rw(y.request)}};class XS{constructor(k,j={}){pd(this,"url");pd(this,"requestConfig");pd(this,"rawRequest",async(...k)=>{const[j,se,me]=k,Pe=aO(j,se,me),{headers:H,fetch:G=globalThis.fetch,method:e="POST",requestMiddleware:g,responseMiddleware:R,excludeOperationName:a,...C}=this.requestConfig,{url:S}=this;Pe.signal!==void 0&&(C.signal=Pe.signal);const v=fx(Pe.query,a),d=await cx({url:S,request:{_tag:"Single",document:v,variables:Pe.variables},headers:{...Td(lx(H)),...Td(Pe.requestHeaders)},fetch:G,method:e,fetchOptions:C,middleware:g});if(R&&await R(d,{operationName:v.operationName,variables:se,url:this.url}),d instanceof Error)throw d;return d});this.url=k,this.requestConfig=j}async request(k,...j){const[se,me]=j,Pe=rz(k,se,me),{headers:H,fetch:G=globalThis.fetch,method:e="POST",requestMiddleware:g,responseMiddleware:R,excludeOperationName:a,...C}=this.requestConfig,{url:S}=this;Pe.signal!==void 0&&(C.signal=Pe.signal);const v=fx(Pe.document,a),d=await cx({url:S,request:{_tag:"Single",document:v,variables:Pe.variables},headers:{...Td(lx(H)),...Td(Pe.requestHeaders)},fetch:G,method:e,fetchOptions:C,middleware:g});if(R&&await R(d,{operationName:v.operationName,variables:Pe.variables,url:this.url}),d instanceof Error)throw d;return d.data}async batchRequests(k,j){const se=nO(k,j),{headers:me,excludeOperationName:Pe,...H}=this.requestConfig;se.signal!==void 0&&(H.signal=se.signal);const G=se.documents.map(({document:C})=>fx(C,Pe)),e=G.map(({expression:C})=>C),g=G.some(({isMutation:C})=>C),R=se.documents.map(({variables:C})=>C),a=await cx({url:this.url,request:{_tag:"Batch",operationName:void 0,query:e,hasMutations:g,variables:R},headers:{...Td(lx(me)),...Td(se.requestHeaders)},fetch:this.requestConfig.fetch??globalThis.fetch,method:this.requestConfig.method||"POST",fetchOptions:H,middleware:this.requestConfig.requestMiddleware});if(this.requestConfig.responseMiddleware&&await this.requestConfig.responseMiddleware(a,{operationName:void 0,variables:R,url:this.url}),a instanceof Error)throw a;return a.data}setHeaders(k){return this.requestConfig.headers=k,this}setHeader(k,j){const{headers:se}=this.requestConfig;return se?se[k]=j:this.requestConfig.headers={[k]:j},this}setEndpoint(k){return this.url=k,this}}async function Iu(y,k,...j){const se=nz(y,k,...j);return new XS(se.url).request({...se})}const rz=(y,k,j)=>y.document?y:{document:y,variables:k,requestHeaders:j,signal:void 0},nz=(y,k,...j)=>{const[se,me]=j;return typeof y=="string"?{url:y,document:k,variables:se,requestHeaders:me,signal:void 0}:y},az=(y,...k)=>y.reduce((j,se,me)=>`${j}${se}${me in k?String(k[me]):""}`,""),iz=()=>{const[y,k]=Vn.useState([]),{user:j}=Bc(),se=j==null?void 0:j.id,[me,Pe]=Vn.useState({id:"",category:"",vendor:"",date:"",amount:0,purpose:"",receipt:null,reimbursable:!1});Vn.useEffect(()=>{H()},[se]);const H=async()=>{const a=`
      query GetExpenses($userId: ID!) {
        user(id: $userId) {
          expenses {
            id
            category
            vendor
            date
            amount
            purpose
            receipt
            reimbursable
          }
        }
      }
    `,C={userId:se};try{const S=await Iu("http://localhost:3000/graphql",a,C);k(S.user.expenses)}catch(S){console.error("Error fetching expenses:",S),Xa.error("Failed to fetch expenses")}},G=async a=>{a.preventDefault();const C=`
      mutation CreateExpense($input: CreateExpenseInput!) {
        createExpense(input: $input) {
          expense {
            id
            category
            vendor
            date
            amount
            purpose
            receipt
            reimbursable
          }
        }
      }
    `,S={input:{...me,amount:me.amount.toString(),reimbursable:me.reimbursable===!0,userId:se}};try{const v=await Iu("http://localhost:3000/graphql",C,S);k([...y,v.createExpense.expense]),Pe({id:"",category:"",vendor:"",date:"",amount:0,purpose:"",receipt:null,reimbursable:!1}),Xa.success("Expense added successfully!")}catch(v){console.error("Failed to save expense:",v),Xa.error("Failed to save expense")}},e=async a=>{const C=`
      mutation DestroyExpense($input: DestroyExpenseInput!) {
        destroyExpense(input: $input) {
          message
        }
      }
    `,S={input:{id:a,userId:se}};try{await Iu("http://localhost:3000/graphql",C,S),k(y.filter(v=>v.id!==a)),Xa.success("Expense deleted successfully!")}catch(v){console.error("Failed to delete expense:",v),Xa.error("Failed to delete expense")}},g=a=>{const{name:C,value:S}=a.target;Pe(v=>({...v,[C]:S}))},R=a=>{Pe(C=>({...C,receipt:a.target.files?a.target.files[0]:null}))};return er.jsxs("div",{className:"container mx-auto p-4",children:[er.jsx("button",{onClick:()=>se&&q_(se),className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"}),"Export to Excel",er.jsx("button",{}),er.jsx(Vc,{}),er.jsx("h2",{className:"text-center text-2xl font-bold mb-6",children:"Manage Expenses"}),er.jsx("div",{className:"flex justify-center",children:er.jsx("form",{onSubmit:G,encType:"multipart/form-data",className:"w-full max-w-lg",children:er.jsxs("div",{className:"flex flex-wrap -mx-3 mb-6",children:[er.jsxs("div",{className:"w-full px-3 mb-6 md:mb-0",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"category",children:"Category"}),er.jsx("input",{type:"text",name:"category",value:me.category,onChange:g,placeholder:"Category",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:"w-full px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"vendor",children:"Vendor"}),er.jsx("input",{type:"text",name:"vendor",value:me.vendor,onChange:g,placeholder:"Vendor",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:`w-full md:w-1/2 px-
3 mb-6 md:mb-0`,children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"date",children:"Date"}),er.jsx("input",{type:"date",name:"date",value:me.date,onChange:g,className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:"w-full md:w-1/2 px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"amount",children:"Amount ($)"}),er.jsx("input",{type:"text",name:"amount",value:me.amount,onChange:g,placeholder:"Amount",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:"w-full px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"purpose",children:"Purpose"}),er.jsx("textarea",{name:"purpose",value:me.purpose,onChange:g,placeholder:"Purpose",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:"w-full px-3 mb-6 md:mb-0",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"receipt",children:"Receipt"}),er.jsx("input",{type:"file",name:"receipt",onChange:R,className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})]}),er.jsxs("div",{className:"w-full px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"reimbursable",children:"Reimbursable"}),er.jsxs("select",{name:"reimbursable",value:me.reimbursable.toString(),onChange:a=>g(a),className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0,children:[er.jsx("option",{value:"",children:"Select Reimbursable"}),er.jsx("option",{value:"Yes",children:"Yes"}),er.jsx("option",{value:"No",children:"No"})]})]}),er.jsx("div",{className:"w-full px-3 mt-6",children:er.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Add Expense"})})]})})}),er.jsx("div",{className:"mt-8",children:er.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:y.map(a=>er.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm",children:[er.jsx("h3",{className:"text-lg text-gray-900 font-semibold",children:a.category}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Vendor:"})," ",a.vendor]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Date:"})," ",a.date]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Amount:"})," $",a.amount]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Purpose:"})," ",a.purpose]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Reimbursable:"})," ",a.reimbursable]}),er.jsx("button",{onClick:()=>e(a.id),className:"text-red-500 hover:text-red-700",children:"Delete"})]},a.id))})})]})},oz=()=>{const[y,k]=Vn.useState([]),[j,se]=Vn.useState(""),[me,Pe]=Vn.useState(""),[H,G]=Vn.useState(""),[e,g]=Vn.useState("");Vn.useEffect(()=>{(async()=>{const S=`
        query {
          budgets {
            id
            name
            savingsGoal
            totalIncome
            totalExpenses
            status
          }
        }
      `;try{const v=await Iu("http://localhost:3000/graphql",S);k(v.budgets)}catch(v){console.error("Error fetching budgets:",v),Xa.error("Failed to fetch budgets")}})()},[]);const R=async()=>{const C=`
      mutation CreateBudget($input: CreateBudgetInput!) {
        createBudget(input: $input) {
          id
          name
          savingsGoal
          totalIncome
          totalExpenses
          status
          createdAt
          updatedAt
        }
      }
    `,S={input:{userId:10,name:j,savingsGoal:parseFloat(me),totalIncome:parseFloat(H),totalExpenses:parseFloat(e),status:"active"}};try{const v=await Iu("http://localhost:3000/graphql",C,S);k([...y,v.createBudget]),se(""),Pe(""),G(""),g("")}catch(v){console.error("Failed to add budget:",v),Xa.error("Failed to add budget")}},a=async C=>{const S=`
    mutation DeleteBudget($input: DestroyBudgetInput!) {
      destroyBudget(input: $input) {
        id
      }
    }
    
    `,v={input:{id:C}};try{await Iu("http://localhost:3000/graphql",S,v),k(y.filter(d=>d.id!==C))}catch(d){console.error("Failed to delete budget:",d),Xa.error("Failed to delete budget")}};return er.jsxs("div",{className:"container mx-auto p-4",children:[er.jsx(Vc,{}),er.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Budgets"}),er.jsxs("div",{className:"mb-8",children:[er.jsx("h2",{className:"text-xl font-bold mb-2",children:"Add New Budget"}),er.jsxs("div",{className:"flex mb-4",children:[er.jsx("input",{type:"text",placeholder:"Name",value:j,onChange:C=>se(C.target.value),className:"border border-gray-300 p-2 mr-2 flex-1"}),er.jsx("input",{type:"number",placeholder:"Savings Goal",value:me,onChange:C=>Pe(C.target.value),className:"border border-gray-300 p-2 mr-2 w-1/4"}),er.jsx("input",{type:"number",placeholder:"Total Income",value:H,onChange:C=>G(C.target.value),className:"border border-gray-300 p-2 mr-2 w-1/4"}),er.jsx("input",{type:"number",placeholder:"Total Expenses",value:e,onChange:C=>g(C.target.value),className:"border border-gray-300 p-2 mr-2 w-1/4"}),er.jsx("button",{onClick:R,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add Budget"})]})]}),er.jsx("ul",{children:y.map(C=>er.jsxs("li",{className:"mb-4 border-b pb-4",children:[er.jsx("h2",{className:"text-xl font-bold mb-2",children:C.name}),er.jsxs("p",{className:"mb-2",children:["Total Income: ",C.totalIncome]}),er.jsxs("p",{className:"mb-2",children:["Total Expenses: ",C.totalExpenses]}),er.jsxs("p",{className:"mb-2",children:["Savings Goal: ",C.savingsGoal]}),er.jsxs("p",{className:"mb-2",children:["Status: ",C.status]}),er.jsx("div",{className:"flex",children:er.jsx("button",{onClick:()=>a(C.id),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mr-2",children:"Delete"})})]},C.id))})]})},sz=async y=>{try{const k=await Xi({url:`http://localhost:3000/users/${y}/transactions/export`,method:"GET",responseType:"blob"}),j=new Blob([k.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),se=URL.createObjectURL(j),me=document.createElement("a");me.href=se,me.setAttribute("download","Transactions.xlsx"),document.body.appendChild(me),me.click(),document.body.removeChild(me),Xa.success("Transactions exported successfully!")}catch(k){console.error("Error downloading the file:",k),Xa.error("Failed to download transactions")}},lz=()=>{const[y,k]=Vn.useState([]),{user:j}=Bc(),se=j==null?void 0:j.id,[me,Pe]=Vn.useState({id:"",name:"",amount:0,date:"",description:"",transactionType:"",merchant:""});Vn.useEffect(()=>{(async()=>{if(!se)return;const R=`
        query GetTransactions($userId: ID!) {
          user(id: $userId) {
            transactions {
              id
              name
              amount
              date
              description
              transactionType
              merchant
            }
          }
        }
      `,a={userId:se};try{const C=await Iu("http://localhost:3000/graphql",R,a);k(C.user.transactions)}catch(C){console.error("Error fetching transactions:",C),Xa.error("Failed to fetch transactions")}})()},[se]);const H=async g=>{g.preventDefault();const R=`
      mutation AddTransaction($input: CreateTransactionInput!) {
        createTransaction(input: $input) {
          transaction {
            id
            name
            amount
            date
            description
            transactionType
            merchant
          }
        }
      }
    `,a={input:{name:me.name,amount:me.amount.toString(),date:me.date,description:me.description,transactionType:me.transactionType,merchant:me.merchant,userId:se}};try{const C=await Iu("http://localhost:3000/graphql",R,a);k([...y,C.createTransaction.transaction]),Pe({id:"",name:"",amount:0,date:"",description:"",transactionType:"",merchant:""}),Xa.success("Transaction added successfully!")}catch(C){console.error("Error adding transaction:",C),Xa.error("Failed to add transaction")}},G=async g=>{if(!se){console.error("User ID is not set.");return}const R=`
      mutation DeleteTransaction($input: DeleteTransactionInput!) {
        deleteTransaction(input: $input) {
          message
          errors
        }
      }
    `,a={input:{id:g,userId:se}};try{await Iu("http://localhost:3000/graphql",R,a),k(y.filter(C=>C.id!==g)),Xa.success("Transaction deleted successfully!")}catch(C){console.error("Failed to delete transaction:",C),Xa.error("Failed to delete transaction")}},e=g=>{const{name:R,value:a}=g.target;Pe({...me,[R]:a})};return er.jsxs("div",{className:"container mx-auto p-4",children:[er.jsx(Vc,{}),er.jsx("h2",{className:"text-center text-2xl font-bold mb-6",children:"Transactions"}),er.jsx("button",{onClick:()=>sz(se),className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Export to Excel"}),er.jsxs("form",{className:"mb-6",onSubmit:H,children:[er.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[er.jsx("input",{type:"text",name:"name",value:me.name,onChange:e,placeholder:"Name",className:"border border-gray-300 p-2 rounded-md",required:!0}),er.jsx("input",{type:"number",name:"amount",value:me.amount,onChange:e,placeholder:"Amount",className:"border border-gray-300 p-2 rounded-md",required:!0}),er.jsx("input",{type:"date",name:"date",value:me.date,onChange:e,className:"border border-gray-300 p-2 rounded-md",required:!0}),er.jsx("input",{type:"text",name:"description",value:me.description,onChange:e,placeholder:"Description",className:"border border-gray-300 p-2 rounded-md"}),er.jsx("input",{type:"text",name:"transactionType",value:me.transactionType,onChange:e,placeholder:"Type",className:"border border-gray-300 p-2 rounded-md"}),er.jsx("input",{type:"text",name:"merchant",value:me.merchant,onChange:e,placeholder:"Merchant",className:"border border-gray-300 p-2 rounded-md"})]}),er.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Add Transaction"})]}),er.jsx("ul",{className:"space-y-4",children:y.map(g=>er.jsx("li",{className:"border rounded p-4 shadow-lg",children:er.jsxs("div",{className:"flex justify-between",children:[er.jsxs("div",{children:[er.jsx("h3",{className:"font-bold",children:g.name}),er.jsx("p",{className:"text-gray-600",children:g.description}),er.jsxs("p",{className:"text-gray-600",children:[g.transactionType," | ",g.merchant]}),er.jsx("p",{className:"text-gray-600",children:g.date}),er.jsxs("p",{className:"text-gray-600",children:["$",g.amount]})]}),er.jsx("button",{onClick:()=>G(g.id),className:"text-red-500 hover:text-red-700",children:"Delete"})]})},g.id))})]})},uz="http://localhost:3000/graphql",fz=new XS(uz),cz=async(y,k,j)=>{const se=az`
    mutation Signup($name: String!, $email: String!, $password: String!) {
      createUser(input: { name: $name, email: $email, password: $password }) {
        user {
          id
          name
          email
        }
        errors
      }
    }
  `,me={name:y,email:k,password:j};return(await fz.request(se,me)).createUser},hz=()=>{const[y,k]=Vn.useState(""),[j,se]=Vn.useState(""),[me,Pe]=Vn.useState(""),{login:H}=Bc(),G=om(),e=async g=>{g.preventDefault();try{const R=await cz(me,y,j);R.errors.length>0?Xa.error(R.errors.join(", ")):(H(R.user),Xa.success("User created successfully!"),G("/dashboard"))}catch(R){console.error("Signup failed:",R),Xa.error("Signup failed. Please try again later.")}};return er.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[er.jsx(Vc,{}),er.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign Up to your account"}),er.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:er.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:er.jsxs("form",{className:"space-y-6",onSubmit:e,children:[er.jsxs("div",{children:[er.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),er.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:me,onChange:g=>Pe(g.target.value)})]}),er.jsxs("div",{children:[er.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),er.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:y,onChange:g=>k(g.target.value)})]}),er.jsxs("div",{children:[er.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),er.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:j,onChange:g=>se(g.target.value)})]}),er.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign Up"})]})})})]})},vz=()=>{const[y,k]=Vn.useState(""),[j,se]=Vn.useState(""),[me,Pe]=Vn.useState(""),{login:H}=Bc(),G=om(),e=async g=>{var R;g.preventDefault();try{const a=await Xi.post("http://localhost:3000/login",{email:y,password:j});console.log("Login success:",a.data),H(a.data.user),Xa.success("Login successful!"),G("/dashboard")}catch(a){Xi.isAxiosError(a)?Pe(((R=a.response)==null?void 0:R.data.message)||"Login failed. Please try again later."):Pe("Login failed. Please try again later.")}};return er.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[er.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Login to your account"}),er.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:er.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:er.jsxs("form",{className:"space-y-6",onSubmit:e,children:[er.jsx(Vc,{}),me&&er.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[er.jsx("strong",{className:"font-bold",children:"Error!"}),er.jsxs("span",{className:"block sm:inline",children:[" ",me]})]}),er.jsxs("div",{children:[er.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),er.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:y,onChange:g=>k(g.target.value)})]}),er.jsxs("div",{children:[er.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),er.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:j,onChange:g=>se(g.target.value)})]}),er.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Login"})]})})})]})},dz=({userId:y})=>{const[k,j]=Vn.useState([]);Bc();const[se,me]=Vn.useState({amount:"",creditor:"",debtor:"",id:""});Vn.useEffect(()=>{(async()=>{try{const g=await Xi.get(`http://localhost:3000/users/${y}/debts`);j(g.data)}catch(g){console.error("Error fetching debts:",g),Xa.error("Failed to fetch debts")}})()},[y]);const Pe=async e=>{e.preventDefault();try{const g=await Xi.post(`http://localhost:3000/users/${y}/debts`,{debt:se});j([...k,g.data]),me({amount:"",creditor:"",debtor:"",id:""}),Xa.success("Debt added successfully!")}catch(g){console.error("Failed to add debt:",g.response),Xa.error("Failed to add debt")}},H=async e=>{try{await Xi.delete(`http://localhost:3000/users/${y}/debts/${e}`),j(k.filter(g=>g.id!==e)),Xa.success("Debt deleted successfully!")}catch(g){console.error("Failed to delete debt:",g),Xa.error("Failed to delete debt")}},G=e=>{const{name:g,value:R}=e.target;me(a=>({...a,[g]:R}))};return er.jsxs("div",{className:"container mx-auto p-4",children:[er.jsx(Vc,{}),er.jsx("h2",{className:"text-center text-2xl font-bold mb-6",children:"Debt Management"}),er.jsx("div",{className:"flex justify-center",children:er.jsx("form",{onSubmit:Pe,className:"w-full max-w-lg",children:er.jsxs("div",{className:"flex flex-wrap -mx-3 mb-6",children:[er.jsxs("div",{className:"w-full px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"amount",children:"Amount"}),er.jsx("input",{type:"number",name:"amount",value:se.amount,onChange:G,placeholder:"Amount",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:"w-full px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"creditor",children:"Creditor"}),er.jsx("input",{type:"text",name:"creditor",value:se.creditor,onChange:G,placeholder:"Creditor",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:"w-full px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"debtor",children:"Debtor"}),er.jsx("input",{type:"text",name:"debtor",value:se.debtor,onChange:G,placeholder:"Debtor",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsx("div",{className:"w-full px-3 mt-6",children:er.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Add Debt"})})]})})}),er.jsx("div",{className:"mt-8",children:er.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:k.map(e=>er.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm",children:[er.jsxs("h3",{className:"text-lg text-gray-900 font-semibold",children:["$",e.amount]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Creditor:"})," ",e.creditor]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Debtor:"})," ",e.debtor]}),er.jsx("button",{onClick:()=>H(e.id),className:"text-red-500 hover:text-red-700 font-bold py-1 px-3 rounded",children:"Delete"})]},e.id))})})]})},pz=({userId:y})=>{const[k,j]=Vn.useState([]);Bc();const[se,me]=Vn.useState({id:"",account_type:"",account_number:"",balance:""});Vn.useEffect(()=>{(async()=>{const g=`
      query GetBankAccounts($userId: ID!) {
        user(id: $userId) {
          bankAccounts {
            id
            account_type
            account_number
            balance
          }
        }
      }
      `,R={userId:y};try{const a=await Iu("http://localhost:3000/graphql",g,R);j(a.user.bankAccounts)}catch(a){console.error("Error fetching bank accounts:",a),Xa.error("Failed to fetch bank accounts")}})()},[y]);const Pe=async e=>{e.preventDefault();const g=`
      mutation AddBankAccount($bankAccount: BankAccountInput!) {
        addBankAccount(bankAccount: $bankAccount) {
          id
          account_type
          account_number
          balance
        }
      }
    `,R={bankAccount:se};try{const a=await Iu("http://localhost:3000/graphql",g,R);j([...k,a.addBankAccount]),me({id:"",account_type:"",account_number:"",balance:""}),Xa.success("Bank account added successfully!")}catch(a){console.error("Failed to add bank account:",a),Xa.error("Failed to add bank account")}},H=async e=>{const g=`
      mutation DeleteBankAccount($id: ID!) {
        deleteBankAccount(id: $id) {
          id
        }
      }
    `,R={id:e};try{await Iu("http://localhost:3000/graphql",g,R),j(k.filter(a=>a.id!==e)),Xa.success("Bank account deleted successfully!")}catch(a){console.error("Failed to delete bank account:",a),Xa.error("Failed to delete bank account")}},G=e=>{const{name:g,value:R}=e.target;me(a=>({...a,[g]:R}))};return er.jsxs("div",{className:"container mx-auto p-4",children:[er.jsx(Vc,{}),er.jsx("h2",{className:"text-center text-2xl font-bold mb-6",children:"Bank Account Management"}),er.jsx("div",{className:"flex justify-center",children:er.jsxs("form",{onSubmit:Pe,className:"w-full max-w-lg",children:[er.jsxs("div",{className:"w-full px-3 mb-6",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"account_type",children:"Account Type"}),er.jsx("input",{type:"text",name:"account_type",value:se.account_type,onChange:G,placeholder:"Account Type",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:"w-full px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"balance",children:"Balance"}),er.jsx("input",{type:"text",name:"balance",value:se.balance,onChange:G,placeholder:"Balance",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsxs("div",{className:"w-full px-3",children:[er.jsx("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",htmlFor:"balance",children:"Account number"}),er.jsx("input",{type:"text",name:"account_number",value:se.account_number,onChange:G,placeholder:"123456789",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",required:!0})]}),er.jsx("div",{className:"w-full px-3 mt-6",children:er.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Add Bank Account"})})]})}),er.jsx("div",{className:"mt-8",children:er.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:k.map(e=>er.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm",children:[er.jsxs("h3",{className:"text-lg text-gray-900 font-semibold",children:["Account Number: ",e.account_number]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Type:"})," ",e.account_type]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Balance:"})," ",e.balance]}),er.jsx("button",{onClick:()=>H(e.id),className:"text-red-500 hover:text-red-700 font-bold py-1 px-3 rounded",children:"Delete"})]},e.id))})})]})},gz=({userId:y})=>{const[k,j]=Vn.useState(null);return Vn.useEffect(()=>{y&&(async()=>{try{const me=await Xi.get(`http://localhost:3000/users/${y}`);j(me.data)}catch(me){console.error("Error fetching user data:",me),Xa.error("Failed to fetch user data")}})()},[y]),er.jsxs("div",{className:"container mx-auto p-4",children:[er.jsx(Vc,{}),er.jsx("h2",{className:"text-center text-2xl font-bold mb-6",children:"User Information"}),k&&er.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto",children:[er.jsxs("h3",{className:"text-lg text-gray-900 font-semibold",children:["Name: ",k.name]}),er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Email:"})," ",k.email]}),k.address&&er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Address:"})," ",k.address]}),k.phone_number&&er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Phone Number:"})," ",k.phone_number]}),k.gender&&er.jsxs("p",{className:"text-gray-600",children:[er.jsx("strong",{children:"Gender:"})," ",k.gender]})]})]})},yz=({userId:y})=>{const[k,j]=Vn.useState("profile");Bc();const se=me=>{j(me)};return er.jsxs("div",{className:"container mx-auto p-4",children:[er.jsx("div",{className:"border-b border-gray-300",children:er.jsxs("ul",{className:"flex cursor-pointer",children:[er.jsx("li",{className:`mr-6 p-4 ${k==="profile"?"text-blue-500 border-b-2 border-blue-500":"text-gray-500"}`,onClick:()=>se("profile"),children:"Customer Details"}),er.jsx("li",{className:`mr-6 p-4 ${k==="account"?"text-blue-500 border-b-2 border-blue-500":"text-gray-500"}`,onClick:()=>se("account"),children:"Bank Accounts"}),er.jsx("li",{className:`mr-6 p-4 ${k==="debts"?"text-blue-500 border-b-2 border-blue-500":"text-gray-500"}`,onClick:()=>se("debts"),children:"Debts"})]})}),k==="profile"&&er.jsxs("div",{className:"mt-4",children:[er.jsx("h2",{className:"text-xl font-bold",children:"Profile Information"}),er.jsx(gz,{userId:y})]}),k==="debts"&&er.jsx("div",{className:"mt-4",children:er.jsx(dz,{userId:y})}),k==="account"&&er.jsx("div",{className:"mt-4",children:er.jsx(pz,{userId:y})})]})},mz=()=>er.jsxs("div",{className:"bg-white h-screen flex flex-col justify-center items-center px-5",children:[er.jsx("h1",{className:"text-4xl text-[#4a61ff] font-bold text-center mb-6",children:"About FinArc"}),er.jsxs("div",{className:"text-center",children:[er.jsx("h2",{className:"text-2xl text-gray-800 font-semibold mb-4",children:"Empowering Financial Freedom"}),er.jsx("p",{className:"text-gray-600 text-lg max-w-prose mx-auto",children:"At FinArc, we believe managing personal finances should be simple and stress-free. Our platform provides comprehensive tools to track, manage, and budget your expenses, empowering you to make informed financial decisions. Whether you're planning for the future or just trying to make ends meet, FinArc is here to help you achieve your financial goals."}),er.jsx("p",{className:"text-gray-600 text-lg mt-4 max-w-prose mx-auto",children:"Our user-friendly dashboard and visual reports make it easy to see where your money goes, set spending goals, and track your progress. Join us and take the first step towards financial literacy and independence!"})]})]}),xz=({children:y})=>er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsx("div",{className:"flex-grow",children:y})]});function bz(){return er.jsx(bP,{children:er.jsx(gP,{children:er.jsxs(uP,{children:[er.jsx(Au,{path:"/",element:er.jsx(xz,{children:er.jsx(Tk,{})})}),er.jsx(Au,{path:"/help",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(wk,{})})]})]})}),er.jsx(Au,{path:"/settings",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(Ak,{})})]})]})}),er.jsx(Au,{path:"/dashboard",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(Q_,{})})]})]})}),er.jsx(Au,{path:"/expenses",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(iz,{})})]})]})}),er.jsx(Au,{path:"/budgets",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(oz,{})})]})]})}),er.jsx(Au,{path:"/transactions",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(lz,{})})]})]})}),er.jsx(Au,{path:"/signup",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(hz,{})})]})]})}),er.jsx(Au,{path:"/login",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(vz,{})})]})]})}),er.jsx(Au,{path:"/customer",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(yz,{})})]})]})}),er.jsx(Au,{path:"/about",element:er.jsxs(er.Fragment,{children:[er.jsx(vf,{}),er.jsxs("div",{className:"flex",children:[er.jsx(Hf,{}),er.jsx("div",{className:"flex-grow",children:er.jsx(mz,{})})]})]})})]})})})}hx.createRoot(document.getElementById("root")).render(er.jsx(Bi.StrictMode,{children:er.jsx(bz,{})}));
